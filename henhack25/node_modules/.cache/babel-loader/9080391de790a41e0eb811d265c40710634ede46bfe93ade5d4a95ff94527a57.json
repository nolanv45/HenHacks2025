{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { fromJSON as e } from \"../../geometry/support/jsonUtils.js\";\nimport { convertFromGeometry as t } from \"../graphics/featureConversionUtils.js\";\nimport { OptimizedFeature as r } from \"../graphics/OptimizedFeature.js\";\nimport { systemOriginIdFieldName as i, systemDestinationIdFieldName as s } from \"./constants.js\";\nclass o {\n  constructor() {\n    this._featureLookup = new Map();\n  }\n  static getInstance() {\n    return o.instance || (o.instance = new o()), o.instance;\n  }\n  static resetInstance() {\n    o.instance && (o.instance = null);\n  }\n  deleteFromStore(e) {\n    e.forEach(e => {\n      this._featureLookup.delete(e);\n    });\n  }\n  readFromStoreByList(e) {\n    const t = [];\n    return e.forEach(e => {\n      const r = this.readFromStoreById(e);\n      r && t.push(r);\n    }), t;\n  }\n  readFromStoreById(e) {\n    return this._featureLookup.get(e) ?? null;\n  }\n  writeToStore(o, n, p) {\n    const a = [];\n    return o.forEach(o => {\n      if (!o?.id) return;\n      o.properties || (o.properties = []);\n      let u,\n        c = null;\n      if (p && o.properties[p] && (c = t(o.properties[p])), \"originId\" in o && \"destinationId\" in o && (o.properties[i] = o.originId, o.properties[s] = o.destinationId), o.properties[n] = o.id, o.id && this._featureLookup.has(o.id) && this._featureLookup.get(o.id).attributes) {\n        const t = this._featureLookup.get(o.id),\n          i = JSON.parse(JSON.stringify(Object.assign(t.attributes, o.properties)));\n        p && o.properties[p] && (i[p] = e(o.properties[p])), u = new r(c ? JSON.parse(JSON.stringify(c)) : t?.geometry ? JSON.parse(JSON.stringify(t.geometry)) : null, i, null, o.properties[n]);\n      } else u = new r(c ? JSON.parse(JSON.stringify(c)) : null, o.properties, null, o.properties[n]);\n      this._featureLookup.set(`${o.typeName ? `${o.typeName}__${o.id}` : o.id}`, u), a.push(u);\n    }), a;\n  }\n}\nexport { o as default };","map":{"version":3,"names":["fromJSON","e","convertFromGeometry","t","OptimizedFeature","r","systemOriginIdFieldName","i","systemDestinationIdFieldName","s","o","constructor","_featureLookup","Map","getInstance","instance","resetInstance","deleteFromStore","forEach","delete","readFromStoreByList","readFromStoreById","push","get","writeToStore","n","p","a","id","properties","u","c","originId","destinationId","has","attributes","JSON","parse","stringify","Object","assign","geometry","set","typeName","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/knowledgeGraph/SessionMemoryStorage.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromJSON as e}from\"../../geometry/support/jsonUtils.js\";import{convertFromGeometry as t}from\"../graphics/featureConversionUtils.js\";import{OptimizedFeature as r}from\"../graphics/OptimizedFeature.js\";import{systemOriginIdFieldName as i,systemDestinationIdFieldName as s}from\"./constants.js\";class o{constructor(){this._featureLookup=new Map}static getInstance(){return o.instance||(o.instance=new o),o.instance}static resetInstance(){o.instance&&(o.instance=null)}deleteFromStore(e){e.forEach((e=>{this._featureLookup.delete(e)}))}readFromStoreByList(e){const t=[];return e.forEach((e=>{const r=this.readFromStoreById(e);r&&t.push(r)})),t}readFromStoreById(e){return this._featureLookup.get(e)??null}writeToStore(o,n,p){const a=[];return o.forEach((o=>{if(!o?.id)return;o.properties||(o.properties=[]);let u,c=null;if(p&&o.properties[p]&&(c=t(o.properties[p])),\"originId\"in o&&\"destinationId\"in o&&(o.properties[i]=o.originId,o.properties[s]=o.destinationId),o.properties[n]=o.id,o.id&&this._featureLookup.has(o.id)&&this._featureLookup.get(o.id).attributes){const t=this._featureLookup.get(o.id),i=JSON.parse(JSON.stringify(Object.assign(t.attributes,o.properties)));p&&o.properties[p]&&(i[p]=e(o.properties[p])),u=new r(c?JSON.parse(JSON.stringify(c)):t?.geometry?JSON.parse(JSON.stringify(t.geometry)):null,i,null,o.properties[n])}else u=new r(c?JSON.parse(JSON.stringify(c)):null,o.properties,null,o.properties[n]);this._featureLookup.set(`${o.typeName?`${o.typeName}__${o.id}`:o.id}`,u),a.push(u)})),a}}export{o as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}