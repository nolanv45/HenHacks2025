{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport { pt2px as t } from \"../../../../core/screenUtils.js\";\nimport { e as i } from \"../../../../chunks/earcut.js\";\nimport { create as r, fromBuffer as s, intersectsClippingArea as o, empty as n, expandWithAABB as a } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { newDoubleArray as l, doubleSubArray as c } from \"../../../../geometry/support/DoubleArray.js\";\nimport { newFloatArray as p, floatSubArray as h } from \"../../../../geometry/support/FloatArray.js\";\nimport { SymbolUpdateType as u, elevationModeChangeUpdateType as d, needsElevationUpdates2D as m } from \"./elevationAlignmentUtils.js\";\nimport { Graphics3DDrapedGraphicLayer as y } from \"./Graphics3DDrapedGraphicLayer.js\";\nimport { Graphics3DObject3DGraphicLayer as _ } from \"./Graphics3DObject3DGraphicLayer.js\";\nimport { Graphics3DSymbolLayer as g } from \"./Graphics3DSymbolLayer.js\";\nimport { mixinColorAndOpacity as f } from \"./graphicUtils.js\";\nimport { ApplyRendererDiffResult as b } from \"./interfaces.js\";\nimport { parseCapType as x } from \"./lineUtils.js\";\nimport { geometryAsPolygon as O, createIndices3D as v, createColorGeometry as D, PolygonCreationDataBase as C } from \"./polygonUtils.js\";\nimport { initFastSymbolUpdatesState as S, updateFastSymbolUpdatesState as j, getAttributeValue as A, ConvertOptions as P } from \"../support/FastSymbolUpdates.js\";\nimport { createMaterial as U, uvElevationAligner as E } from \"../support/patternUtils.js\";\nimport { createMapSpaceUVCoords as G, createMapSpaceUVCoordsDraped as L } from \"../support/uvUtils.js\";\nimport { createGeometry as F } from \"../../support/engineContent/line.js\";\nimport { geometryToRenderInfo as w, geometryToRenderInfoDraped as R } from \"../../support/renderInfoUtils/polygon.js\";\nimport { Object3D as I } from \"../../webgl-engine/lib/Object3D.js\";\nimport { RenderGeometry as M } from \"../../webgl-engine/lib/RenderGeometry.js\";\nimport { getStipplePatternForLinePattern as V } from \"../../webgl-engine/materials/lineStippleUtils.js\";\nimport { PatternMaterial as B } from \"../../webgl-engine/materials/PatternMaterial.js\";\nimport { RibbonLineMaterial as T } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nconst z = [\"polyline\", \"polygon\", \"extent\"],\n  H = new P({\n    size: !1,\n    color: !0,\n    rotation: !1,\n    opacity: !1\n  });\nclass N extends g {\n  constructor(e, t, i, r) {\n    super(e, t, i, r), this._needsUV = !1;\n  }\n  async doLoad() {\n    this._fastUpdates = S(this._context.renderer, H);\n  }\n  _createMaterials() {\n    if (this._materials.length > 0) return;\n    const e = this.symbolLayer?.material?.color,\n      i = this._getCombinedOpacityAndColor(e);\n    this._materials[J.Fill] = U(this.symbolLayer, {\n      color: i,\n      forceTransparentMode: this.needsDrivenTransparentPass,\n      discardInvisibleFragments: !0,\n      polygonOffset: !1,\n      hasVertexColors: !0,\n      draped: this.draped,\n      hasSlicePlane: this._context.slicePlaneEnabled,\n      ...this._fastUpdates?.materialParameters\n    }), this._needsUV = this._materials[J.Fill] instanceof B;\n    const r = this.symbolLayer.outline;\n    if (K(r)) {\n      const e = V(r.pattern);\n      this._materials[J.Outline] = new T({\n        width: t(r.size),\n        color: this._getOutlineColor(),\n        hasPolygonOffset: !0,\n        hasSlicePlane: this._context.slicePlaneEnabled,\n        isClosed: !0,\n        stipplePattern: e,\n        cap: x(r.patternCap || \"butt\")\n      });\n    }\n    this._context.stage.addMany(this._materials);\n  }\n  destroy() {\n    super.destroy(), this._context.stage.removeMany(this._materials), this._materials.length = 0;\n  }\n  createGraphics3DGraphic(e) {\n    const t = e.graphic;\n    if (!this._validateGeometry(t.geometry, z, this.symbolLayer.type)) return null;\n    const i = this._getVertexOpacityAndColor(e.renderingInfo, 255),\n      r = this.setGraphicElevationContext(t);\n    return this.ensureDrapedStatus(\"on-the-ground\" === r.mode), this._createMaterials(), this.draped ? this._createAsOverlay(t, i) : this._createAs3DShape(t, i, r);\n  }\n  applyRendererDiff(e, t) {\n    for (const i in e.diff) {\n      if (\"visualVariables\" !== i) return b.RecreateSymbol;\n      if (!j(this._fastUpdates, t, H)) return b.RecreateSymbol;\n      this._materials[J.Fill]?.setParameters(this._fastUpdates.materialParameters);\n    }\n    return b.FastUpdate;\n  }\n  layerOpacityChanged() {\n    if (null != this._materials[J.Fill]) {\n      const e = this._materials[J.Fill].parameters.color,\n        t = this.symbolLayer?.material?.color,\n        i = this._getCombinedOpacity(t);\n      this._materials[J.Fill].setParameters({\n        color: [e[0], e[1], e[2], i],\n        forceTransparentMode: this.needsDrivenTransparentPass\n      });\n    }\n    if (null != this._materials[J.Outline]) {\n      const e = this._materials[J.Outline].parameters.color;\n      this._materials[J.Outline].setParameters({\n        color: [e[0], e[1], e[2], this._getOutlineOpacity()]\n      });\n    }\n  }\n  layerElevationInfoChanged(e, t, i) {\n    const r = this._elevationContext.mode,\n      s = d(N.elevationModeChangeTypes, i, r);\n    if (s !== u.UPDATE) return s;\n    const o = m(r);\n    return this.updateGraphics3DGraphicElevationInfo(e, t, () => o);\n  }\n  slicePlaneEnabledChanged() {\n    if (this._materials[J.Fill]?.setParameters({\n      hasSlicePlane: this._context.slicePlaneEnabled\n    }), this._materials[J.Outline]) {\n      const e = {\n        hasSlicePlane: this._context.slicePlaneEnabled\n      };\n      this._materials[J.Outline].setParameters(e);\n    }\n    return !0;\n  }\n  physicalBasedRenderingChanged() {\n    return !0;\n  }\n  _createAs3DShape(e, t, i) {\n    const r = O(e.geometry);\n    if (!r) return null;\n    const s = w(r, this._context.elevationProvider, this._context.renderCoordsHelper, i),\n      o = new k(s, t, this._context.layer.uid, e.uid),\n      n = o.renderData.position.length / 3;\n    if (this._needsUV && (o.uvMapSpace = p(4 * n, !0), o.boundingRect = l(9 * n, !0), G(o.uvMapSpace, o.boundingRect, o.renderData.position, this._context.renderCoordsHelper)), o.objectAndLayerIdColor = this._context.stage.renderView?.getObjectAndLayerIdColor(o), this._createAs3DShapeFill(e, o), this._materials[J.Outline] && this._createAs3DShapeOutline(o), this._logGeometryCreationWarnings(o.renderData, r.rings, \"rings\", \"FillSymbol3DLayer\"), 0 === o.outGeometries.length) return null;\n    const a = new I({\n        geometries: o.outGeometries,\n        castShadow: !1,\n        layerUid: this._context.layer.uid,\n        graphicUid: e.uid\n      }),\n      c = new _(this, a, o.outGeometries, null, null, E, i);\n    return c.alignedSampledElevation = o.renderData.sampledElevation, c.needsElevationUpdates = m(i.mode), c;\n  }\n  _createAs3DShapeFill(e, t) {\n    const i = t.renderData.polygons;\n    for (const {\n      position: r,\n      mapPositions: n,\n      holeIndices: a,\n      index: l,\n      count: p\n    } of i) {\n      if (null != this._context.clippingExtent && (s(n, W), !o(W, this._context.clippingExtent))) continue;\n      const i = v(n, a, this._context.elevationProvider.spatialReference);\n      if (0 === i.length) continue;\n      const u = this._fastUpdates?.visualVariables.color,\n        d = D({\n          material: this._materials[J.Fill],\n          indices: i,\n          mapPositions: n,\n          attributeData: {\n            position: r,\n            color: u ? null : t.color,\n            colorFeature: u ? A(u.field, e) : null,\n            uvMapSpace: this._needsUV ? h(t.uvMapSpace, 4 * l, 4 * p) : null,\n            boundingRect: this._needsUV ? c(t.boundingRect, 9 * l, 9 * p) : null,\n            objectAndLayerIdColor: t.objectAndLayerIdColor\n          }\n        });\n      t.outGeometries.push(d);\n    }\n  }\n  _createAs3DShapeOutline(e) {\n    if (null == this._materials[J.Outline]) return;\n    const t = e.renderData.outlines;\n    for (const {\n      mapPositions: i,\n      position: r\n    } of t) {\n      if (null != this._context.clippingExtent && (s(i, W), !o(W, this._context.clippingExtent))) continue;\n      const t = F(this._materials[J.Outline], {\n        overlayInfo: null,\n        removeDuplicateStartEnd: !0,\n        mapPositions: i,\n        attributeData: {\n          position: r\n        }\n      }, e.objectAndLayerIdColor);\n      e.outGeometries.push(t);\n    }\n  }\n  _createAsOverlay(e, t) {\n    const i = O(e.geometry);\n    if (null == i) return null;\n    this._materials[J.Fill].renderPriority = this._renderPriority + this._renderPriorityStep / 2, null != this._materials[J.Outline] && (this._materials[J.Outline].renderPriority = this._renderPriority);\n    const r = R(i, this._context.overlaySR),\n      s = new q(r, t, this._context.layer.uid, e.uid),\n      o = s.renderData.position.length / 3;\n    return this._needsUV && (s.uvMapSpace = p(4 * o, !0), L(s.uvMapSpace, s.renderData.position, this._context.overlaySR, this._context.graphicsCoreOwner.view.state.viewingMode)), s.outBoundingBox = n(), s.objectAndLayerIdColor = this._context.stage.renderView?.getObjectAndLayerIdColor(s), this._createAsOverlayFill(e, s), this._materials[J.Outline] && this._createAsOverlayOutline(s), this._logGeometryCreationWarnings(s.renderData, i.rings, \"rings\", \"FillSymbol3DLayer\"), 0 === s.outGeometries.length ? null : new y(this, s.outGeometries, s.outBoundingBox, this._context.drapeSourceRenderer);\n  }\n  _createAsOverlayFill(e, t) {\n    const r = t.renderData.polygons;\n    for (const {\n      position: n,\n      holeIndices: l,\n      index: c,\n      count: p\n    } of r) {\n      const r = s(n, W);\n      if (!o(r, this._context.clippingExtent)) continue;\n      const u = i(n, l, 3);\n      if (0 === u.length) continue;\n      a(t.outBoundingBox, r);\n      const d = this._fastUpdates?.visualVariables.color,\n        m = D({\n          material: this._materials[J.Fill],\n          indices: u,\n          attributeData: {\n            position: n,\n            color: d ? null : t.color,\n            colorFeature: d ? A(d.field, e) : null,\n            uvMapSpace: this._needsUV ? h(t.uvMapSpace, 4 * c, 4 * p) : null,\n            objectAndLayerIdColor: t.objectAndLayerIdColor\n          }\n        });\n      t.outGeometries.push(new M(m, t));\n    }\n  }\n  _createAsOverlayOutline(e) {\n    if (null == this._materials[J.Outline]) return;\n    const t = e.renderData.outlines;\n    for (let i = 0; i < t.length; ++i) {\n      const {\n        position: r\n      } = t[i];\n      if (s(r, W), !o(W, this._context.clippingExtent)) continue;\n      a(e.outBoundingBox, W);\n      const n = F(this._materials[J.Outline], {\n        overlayInfo: {\n          spatialReference: this._context.overlaySR,\n          renderCoordsHelper: this._context.renderCoordsHelper\n        },\n        removeDuplicateStartEnd: !0,\n        attributeData: {\n          position: r\n        }\n      }, e.objectAndLayerIdColor);\n      e.outGeometries.push(new M(n, e));\n    }\n  }\n  _getOutlineOpacity() {\n    const e = this.symbolLayer?.outline?.color;\n    return (this.draped ? 1 : this._getLayerOpacity()) * (null != e ? e.a : 0);\n  }\n  _getOutlineColor() {\n    const t = this.symbolLayer?.outline?.color,\n      i = this._getOutlineOpacity();\n    return f(null != t ? e.toUnitRGB(t) : null, i);\n  }\n  test() {\n    return {\n      ...super.test(),\n      createAsOverlay: (e, t) => this._createAsOverlay(e, t),\n      createAs3DShape: (e, t, i) => this._createAs3DShape(e, t, i)\n    };\n  }\n}\nN.elevationModeChangeTypes = {\n  definedChanged: u.RECREATE,\n  staysOnTheGround: u.NONE,\n  onTheGroundChanged: u.RECREATE\n};\nconst W = r();\nclass k extends C {\n  constructor(e, t, i, r) {\n    super(e, i, r), this.color = t;\n  }\n}\nclass q extends C {\n  constructor(e, t, i, r) {\n    super(e, i, r), this.color = t;\n  }\n}\nvar J;\nfunction K(e) {\n  return null != e?.size && e.size > 0 && null != e.color && (null == e.pattern || \"style\" !== e.pattern.type || \"none\" !== e.pattern.style);\n}\n!function (e) {\n  e[e.Fill = 0] = \"Fill\", e[e.Outline = 1] = \"Outline\";\n}(J || (J = {}));\nexport { N as Graphics3DPolygonFillSymbolLayer };","map":{"version":3,"names":["e","pt2px","t","i","create","r","fromBuffer","s","intersectsClippingArea","o","empty","n","expandWithAABB","a","newDoubleArray","l","doubleSubArray","c","newFloatArray","p","floatSubArray","h","SymbolUpdateType","u","elevationModeChangeUpdateType","d","needsElevationUpdates2D","m","Graphics3DDrapedGraphicLayer","y","Graphics3DObject3DGraphicLayer","_","Graphics3DSymbolLayer","g","mixinColorAndOpacity","f","ApplyRendererDiffResult","b","parseCapType","x","geometryAsPolygon","O","createIndices3D","v","createColorGeometry","D","PolygonCreationDataBase","C","initFastSymbolUpdatesState","S","updateFastSymbolUpdatesState","j","getAttributeValue","A","ConvertOptions","P","createMaterial","U","uvElevationAligner","E","createMapSpaceUVCoords","G","createMapSpaceUVCoordsDraped","L","createGeometry","F","geometryToRenderInfo","w","geometryToRenderInfoDraped","R","Object3D","I","RenderGeometry","M","getStipplePatternForLinePattern","V","PatternMaterial","B","RibbonLineMaterial","T","z","H","size","color","rotation","opacity","N","constructor","_needsUV","doLoad","_fastUpdates","_context","renderer","_createMaterials","_materials","length","symbolLayer","material","_getCombinedOpacityAndColor","J","Fill","forceTransparentMode","needsDrivenTransparentPass","discardInvisibleFragments","polygonOffset","hasVertexColors","draped","hasSlicePlane","slicePlaneEnabled","materialParameters","outline","K","pattern","Outline","width","_getOutlineColor","hasPolygonOffset","isClosed","stipplePattern","cap","patternCap","stage","addMany","destroy","removeMany","createGraphics3DGraphic","graphic","_validateGeometry","geometry","type","_getVertexOpacityAndColor","renderingInfo","setGraphicElevationContext","ensureDrapedStatus","mode","_createAsOverlay","_createAs3DShape","applyRendererDiff","diff","RecreateSymbol","setParameters","FastUpdate","layerOpacityChanged","parameters","_getCombinedOpacity","_getOutlineOpacity","layerElevationInfoChanged","_elevationContext","elevationModeChangeTypes","UPDATE","updateGraphics3DGraphicElevationInfo","slicePlaneEnabledChanged","physicalBasedRenderingChanged","elevationProvider","renderCoordsHelper","k","layer","uid","renderData","position","uvMapSpace","boundingRect","objectAndLayerIdColor","renderView","getObjectAndLayerIdColor","_createAs3DShapeFill","_createAs3DShapeOutline","_logGeometryCreationWarnings","rings","outGeometries","geometries","castShadow","layerUid","graphicUid","alignedSampledElevation","sampledElevation","needsElevationUpdates","polygons","mapPositions","holeIndices","index","count","clippingExtent","W","spatialReference","visualVariables","indices","attributeData","colorFeature","field","push","outlines","overlayInfo","removeDuplicateStartEnd","renderPriority","_renderPriority","_renderPriorityStep","overlaySR","q","graphicsCoreOwner","view","state","viewingMode","outBoundingBox","_createAsOverlayFill","_createAsOverlayOutline","drapeSourceRenderer","_getLayerOpacity","toUnitRGB","test","createAsOverlay","createAs3DShape","definedChanged","RECREATE","staysOnTheGround","NONE","onTheGroundChanged","style","Graphics3DPolygonFillSymbolLayer"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{pt2px as t}from\"../../../../core/screenUtils.js\";import{e as i}from\"../../../../chunks/earcut.js\";import{create as r,fromBuffer as s,intersectsClippingArea as o,empty as n,expandWithAABB as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{newDoubleArray as l,doubleSubArray as c}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as p,floatSubArray as h}from\"../../../../geometry/support/FloatArray.js\";import{SymbolUpdateType as u,elevationModeChangeUpdateType as d,needsElevationUpdates2D as m}from\"./elevationAlignmentUtils.js\";import{Graphics3DDrapedGraphicLayer as y}from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as _}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as g}from\"./Graphics3DSymbolLayer.js\";import{mixinColorAndOpacity as f}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as b}from\"./interfaces.js\";import{parseCapType as x}from\"./lineUtils.js\";import{geometryAsPolygon as O,createIndices3D as v,createColorGeometry as D,PolygonCreationDataBase as C}from\"./polygonUtils.js\";import{initFastSymbolUpdatesState as S,updateFastSymbolUpdatesState as j,getAttributeValue as A,ConvertOptions as P}from\"../support/FastSymbolUpdates.js\";import{createMaterial as U,uvElevationAligner as E}from\"../support/patternUtils.js\";import{createMapSpaceUVCoords as G,createMapSpaceUVCoordsDraped as L}from\"../support/uvUtils.js\";import{createGeometry as F}from\"../../support/engineContent/line.js\";import{geometryToRenderInfo as w,geometryToRenderInfoDraped as R}from\"../../support/renderInfoUtils/polygon.js\";import{Object3D as I}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as M}from\"../../webgl-engine/lib/RenderGeometry.js\";import{getStipplePatternForLinePattern as V}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{PatternMaterial as B}from\"../../webgl-engine/materials/PatternMaterial.js\";import{RibbonLineMaterial as T}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const z=[\"polyline\",\"polygon\",\"extent\"],H=new P({size:!1,color:!0,rotation:!1,opacity:!1});class N extends g{constructor(e,t,i,r){super(e,t,i,r),this._needsUV=!1}async doLoad(){this._fastUpdates=S(this._context.renderer,H)}_createMaterials(){if(this._materials.length>0)return;const e=this.symbolLayer?.material?.color,i=this._getCombinedOpacityAndColor(e);this._materials[J.Fill]=U(this.symbolLayer,{color:i,forceTransparentMode:this.needsDrivenTransparentPass,discardInvisibleFragments:!0,polygonOffset:!1,hasVertexColors:!0,draped:this.draped,hasSlicePlane:this._context.slicePlaneEnabled,...this._fastUpdates?.materialParameters}),this._needsUV=this._materials[J.Fill]instanceof B;const r=this.symbolLayer.outline;if(K(r)){const e=V(r.pattern);this._materials[J.Outline]=new T({width:t(r.size),color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:e,cap:x(r.patternCap||\"butt\")})}this._context.stage.addMany(this._materials)}destroy(){super.destroy(),this._context.stage.removeMany(this._materials),this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,z,this.symbolLayer.type))return null;const i=this._getVertexOpacityAndColor(e.renderingInfo,255),r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this._createMaterials(),this.draped?this._createAsOverlay(t,i):this._createAs3DShape(t,i,r)}applyRendererDiff(e,t){for(const i in e.diff){if(\"visualVariables\"!==i)return b.RecreateSymbol;if(!j(this._fastUpdates,t,H))return b.RecreateSymbol;this._materials[J.Fill]?.setParameters(this._fastUpdates.materialParameters)}return b.FastUpdate}layerOpacityChanged(){if(null!=this._materials[J.Fill]){const e=this._materials[J.Fill].parameters.color,t=this.symbolLayer?.material?.color,i=this._getCombinedOpacity(t);this._materials[J.Fill].setParameters({color:[e[0],e[1],e[2],i],forceTransparentMode:this.needsDrivenTransparentPass})}if(null!=this._materials[J.Outline]){const e=this._materials[J.Outline].parameters.color;this._materials[J.Outline].setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}}layerElevationInfoChanged(e,t,i){const r=this._elevationContext.mode,s=d(N.elevationModeChangeTypes,i,r);if(s!==u.UPDATE)return s;const o=m(r);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>o))}slicePlaneEnabledChanged(){if(this._materials[J.Fill]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[J.Outline]){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._materials[J.Outline].setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,i){const r=O(e.geometry);if(!r)return null;const s=w(r,this._context.elevationProvider,this._context.renderCoordsHelper,i),o=new k(s,t,this._context.layer.uid,e.uid),n=o.renderData.position.length/3;if(this._needsUV&&(o.uvMapSpace=p(4*n,!0),o.boundingRect=l(9*n,!0),G(o.uvMapSpace,o.boundingRect,o.renderData.position,this._context.renderCoordsHelper)),o.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(o),this._createAs3DShapeFill(e,o),this._materials[J.Outline]&&this._createAs3DShapeOutline(o),this._logGeometryCreationWarnings(o.renderData,r.rings,\"rings\",\"FillSymbol3DLayer\"),0===o.outGeometries.length)return null;const a=new I({geometries:o.outGeometries,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:e.uid}),c=new _(this,a,o.outGeometries,null,null,E,i);return c.alignedSampledElevation=o.renderData.sampledElevation,c.needsElevationUpdates=m(i.mode),c}_createAs3DShapeFill(e,t){const i=t.renderData.polygons;for(const{position:r,mapPositions:n,holeIndices:a,index:l,count:p}of i){if(null!=this._context.clippingExtent&&(s(n,W),!o(W,this._context.clippingExtent)))continue;const i=v(n,a,this._context.elevationProvider.spatialReference);if(0===i.length)continue;const u=this._fastUpdates?.visualVariables.color,d=D({material:this._materials[J.Fill],indices:i,mapPositions:n,attributeData:{position:r,color:u?null:t.color,colorFeature:u?A(u.field,e):null,uvMapSpace:this._needsUV?h(t.uvMapSpace,4*l,4*p):null,boundingRect:this._needsUV?c(t.boundingRect,9*l,9*p):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(d)}}_createAs3DShapeOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(const{mapPositions:i,position:r}of t){if(null!=this._context.clippingExtent&&(s(i,W),!o(W,this._context.clippingExtent)))continue;const t=F(this._materials[J.Outline],{overlayInfo:null,removeDuplicateStartEnd:!0,mapPositions:i,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(t)}}_createAsOverlay(e,t){const i=O(e.geometry);if(null==i)return null;this._materials[J.Fill].renderPriority=this._renderPriority+this._renderPriorityStep/2,null!=this._materials[J.Outline]&&(this._materials[J.Outline].renderPriority=this._renderPriority);const r=R(i,this._context.overlaySR),s=new q(r,t,this._context.layer.uid,e.uid),o=s.renderData.position.length/3;return this._needsUV&&(s.uvMapSpace=p(4*o,!0),L(s.uvMapSpace,s.renderData.position,this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode)),s.outBoundingBox=n(),s.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(s),this._createAsOverlayFill(e,s),this._materials[J.Outline]&&this._createAsOverlayOutline(s),this._logGeometryCreationWarnings(s.renderData,i.rings,\"rings\",\"FillSymbol3DLayer\"),0===s.outGeometries.length?null:new y(this,s.outGeometries,s.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayFill(e,t){const r=t.renderData.polygons;for(const{position:n,holeIndices:l,index:c,count:p}of r){const r=s(n,W);if(!o(r,this._context.clippingExtent))continue;const u=i(n,l,3);if(0===u.length)continue;a(t.outBoundingBox,r);const d=this._fastUpdates?.visualVariables.color,m=D({material:this._materials[J.Fill],indices:u,attributeData:{position:n,color:d?null:t.color,colorFeature:d?A(d.field,e):null,uvMapSpace:this._needsUV?h(t.uvMapSpace,4*c,4*p):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(new M(m,t))}}_createAsOverlayOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{position:r}=t[i];if(s(r,W),!o(W,this._context.clippingExtent))continue;a(e.outBoundingBox,W);const n=F(this._materials[J.Outline],{overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:!0,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(new M(n,e))}}_getOutlineOpacity(){const e=this.symbolLayer?.outline?.color;return(this.draped?1:this._getLayerOpacity())*(null!=e?e.a:0)}_getOutlineColor(){const t=this.symbolLayer?.outline?.color,i=this._getOutlineOpacity();return f(null!=t?e.toUnitRGB(t):null,i)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,i)=>this._createAs3DShape(e,t,i)}}}N.elevationModeChangeTypes={definedChanged:u.RECREATE,staysOnTheGround:u.NONE,onTheGroundChanged:u.RECREATE};const W=r();class k extends C{constructor(e,t,i,r){super(e,i,r),this.color=t}}class q extends C{constructor(e,t,i,r){super(e,i,r),this.color=t}}var J;function K(e){return null!=e?.size&&e.size>0&&null!=e.color&&(null==e.pattern||\"style\"!==e.pattern.type||\"none\"!==e.pattern.style)}!function(e){e[e.Fill=0]=\"Fill\",e[e.Outline=1]=\"Outline\"}(J||(J={}));export{N as Graphics3DPolygonFillSymbolLayer};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAC,MAAK,sBAAsB;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,iCAAiC;AAAC,SAAOF,CAAC,IAAIG,CAAC,QAAK,8BAA8B;AAAC,SAAOC,MAAM,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,EAACC,sBAAsB,IAAIC,CAAC,EAACC,KAAK,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,QAAK,+CAA+C;AAAC,SAAOC,cAAc,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,QAAK,6CAA6C;AAAC,SAAOC,aAAa,IAAIC,CAAC,EAACC,aAAa,IAAIC,CAAC,QAAK,4CAA4C;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,EAACC,6BAA6B,IAAIC,CAAC,EAACC,uBAAuB,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,4BAA4B,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,8BAA8B,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,uBAAuB,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,gBAAgB;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,EAACC,eAAe,IAAIC,CAAC,EAACC,mBAAmB,IAAIC,CAAC,EAACC,uBAAuB,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,0BAA0B,IAAIC,CAAC,EAACC,4BAA4B,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,QAAK,iCAAiC;AAAC,SAAOC,cAAc,IAAIC,CAAC,EAACC,kBAAkB,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,sBAAsB,IAAIC,CAAC,EAACC,4BAA4B,IAAIC,CAAC,QAAK,uBAAuB;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,EAACC,0BAA0B,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,oCAAoC;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,+BAA+B,IAAIC,CAAC,QAAK,kDAAkD;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,iDAAiD;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,oDAAoD;AAAC,MAAMC,CAAC,GAAC,CAAC,UAAU,EAAC,SAAS,EAAC,QAAQ,CAAC;EAACC,CAAC,GAAC,IAAI1B,CAAC,CAAC;IAAC2B,IAAI,EAAC,CAAC,CAAC;IAACC,KAAK,EAAC,CAAC,CAAC;IAACC,QAAQ,EAAC,CAAC,CAAC;IAACC,OAAO,EAAC,CAAC;EAAC,CAAC,CAAC;AAAC,MAAMC,CAAC,SAASrD,CAAC;EAACsD,WAAWA,CAACvF,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAAC;IAAC,KAAK,CAACL,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAACmF,QAAQ,GAAC,CAAC,CAAC;EAAA;EAAC,MAAMC,MAAMA,CAAA,EAAE;IAAC,IAAI,CAACC,YAAY,GAACzC,CAAC,CAAC,IAAI,CAAC0C,QAAQ,CAACC,QAAQ,EAACX,CAAC,CAAC;EAAA;EAACY,gBAAgBA,CAAA,EAAE;IAAC,IAAG,IAAI,CAACC,UAAU,CAACC,MAAM,GAAC,CAAC,EAAC;IAAO,MAAM/F,CAAC,GAAC,IAAI,CAACgG,WAAW,EAAEC,QAAQ,EAAEd,KAAK;MAAChF,CAAC,GAAC,IAAI,CAAC+F,2BAA2B,CAAClG,CAAC,CAAC;IAAC,IAAI,CAAC8F,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC,GAAC3C,CAAC,CAAC,IAAI,CAACuC,WAAW,EAAC;MAACb,KAAK,EAAChF,CAAC;MAACkG,oBAAoB,EAAC,IAAI,CAACC,0BAA0B;MAACC,yBAAyB,EAAC,CAAC,CAAC;MAACC,aAAa,EAAC,CAAC,CAAC;MAACC,eAAe,EAAC,CAAC,CAAC;MAACC,MAAM,EAAC,IAAI,CAACA,MAAM;MAACC,aAAa,EAAC,IAAI,CAAChB,QAAQ,CAACiB,iBAAiB;MAAC,GAAG,IAAI,CAAClB,YAAY,EAAEmB;IAAkB,CAAC,CAAC,EAAC,IAAI,CAACrB,QAAQ,GAAC,IAAI,CAACM,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC,YAAWvB,CAAC;IAAC,MAAMxE,CAAC,GAAC,IAAI,CAAC2F,WAAW,CAACc,OAAO;IAAC,IAAGC,CAAC,CAAC1G,CAAC,CAAC,EAAC;MAAC,MAAML,CAAC,GAAC2E,CAAC,CAACtE,CAAC,CAAC2G,OAAO,CAAC;MAAC,IAAI,CAAClB,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,GAAC,IAAIlC,CAAC,CAAC;QAACmC,KAAK,EAAChH,CAAC,CAACG,CAAC,CAAC6E,IAAI,CAAC;QAACC,KAAK,EAAC,IAAI,CAACgC,gBAAgB,CAAC,CAAC;QAACC,gBAAgB,EAAC,CAAC,CAAC;QAACT,aAAa,EAAC,IAAI,CAAChB,QAAQ,CAACiB,iBAAiB;QAACS,QAAQ,EAAC,CAAC,CAAC;QAACC,cAAc,EAACtH,CAAC;QAACuH,GAAG,EAAChF,CAAC,CAAClC,CAAC,CAACmH,UAAU,IAAE,MAAM;MAAC,CAAC,CAAC;IAAA;IAAC,IAAI,CAAC7B,QAAQ,CAAC8B,KAAK,CAACC,OAAO,CAAC,IAAI,CAAC5B,UAAU,CAAC;EAAA;EAAC6B,OAAOA,CAAA,EAAE;IAAC,KAAK,CAACA,OAAO,CAAC,CAAC,EAAC,IAAI,CAAChC,QAAQ,CAAC8B,KAAK,CAACG,UAAU,CAAC,IAAI,CAAC9B,UAAU,CAAC,EAAC,IAAI,CAACA,UAAU,CAACC,MAAM,GAAC,CAAC;EAAA;EAAC8B,uBAAuBA,CAAC7H,CAAC,EAAC;IAAC,MAAME,CAAC,GAACF,CAAC,CAAC8H,OAAO;IAAC,IAAG,CAAC,IAAI,CAACC,iBAAiB,CAAC7H,CAAC,CAAC8H,QAAQ,EAAChD,CAAC,EAAC,IAAI,CAACgB,WAAW,CAACiC,IAAI,CAAC,EAAC,OAAO,IAAI;IAAC,MAAM9H,CAAC,GAAC,IAAI,CAAC+H,yBAAyB,CAAClI,CAAC,CAACmI,aAAa,EAAC,GAAG,CAAC;MAAC9H,CAAC,GAAC,IAAI,CAAC+H,0BAA0B,CAAClI,CAAC,CAAC;IAAC,OAAO,IAAI,CAACmI,kBAAkB,CAAC,eAAe,KAAGhI,CAAC,CAACiI,IAAI,CAAC,EAAC,IAAI,CAACzC,gBAAgB,CAAC,CAAC,EAAC,IAAI,CAACa,MAAM,GAAC,IAAI,CAAC6B,gBAAgB,CAACrI,CAAC,EAACC,CAAC,CAAC,GAAC,IAAI,CAACqI,gBAAgB,CAACtI,CAAC,EAACC,CAAC,EAACE,CAAC,CAAC;EAAA;EAACoI,iBAAiBA,CAACzI,CAAC,EAACE,CAAC,EAAC;IAAC,KAAI,MAAMC,CAAC,IAAIH,CAAC,CAAC0I,IAAI,EAAC;MAAC,IAAG,iBAAiB,KAAGvI,CAAC,EAAC,OAAOkC,CAAC,CAACsG,cAAc;MAAC,IAAG,CAACxF,CAAC,CAAC,IAAI,CAACuC,YAAY,EAACxF,CAAC,EAAC+E,CAAC,CAAC,EAAC,OAAO5C,CAAC,CAACsG,cAAc;MAAC,IAAI,CAAC7C,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC,EAAEwC,aAAa,CAAC,IAAI,CAAClD,YAAY,CAACmB,kBAAkB,CAAC;IAAA;IAAC,OAAOxE,CAAC,CAACwG,UAAU;EAAA;EAACC,mBAAmBA,CAAA,EAAE;IAAC,IAAG,IAAI,IAAE,IAAI,CAAChD,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC,EAAC;MAAC,MAAMpG,CAAC,GAAC,IAAI,CAAC8F,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC,CAAC2C,UAAU,CAAC5D,KAAK;QAACjF,CAAC,GAAC,IAAI,CAAC8F,WAAW,EAAEC,QAAQ,EAAEd,KAAK;QAAChF,CAAC,GAAC,IAAI,CAAC6I,mBAAmB,CAAC9I,CAAC,CAAC;MAAC,IAAI,CAAC4F,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC,CAACwC,aAAa,CAAC;QAACzD,KAAK,EAAC,CAACnF,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACG,CAAC,CAAC;QAACkG,oBAAoB,EAAC,IAAI,CAACC;MAA0B,CAAC,CAAC;IAAA;IAAC,IAAG,IAAI,IAAE,IAAI,CAACR,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,EAAC;MAAC,MAAMjH,CAAC,GAAC,IAAI,CAAC8F,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,CAAC8B,UAAU,CAAC5D,KAAK;MAAC,IAAI,CAACW,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,CAAC2B,aAAa,CAAC;QAACzD,KAAK,EAAC,CAACnF,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACiJ,kBAAkB,CAAC,CAAC;MAAC,CAAC,CAAC;IAAA;EAAC;EAACC,yBAAyBA,CAAClJ,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAAC8I,iBAAiB,CAACb,IAAI;MAAC/H,CAAC,GAACkB,CAAC,CAAC6D,CAAC,CAAC8D,wBAAwB,EAACjJ,CAAC,EAACE,CAAC,CAAC;IAAC,IAAGE,CAAC,KAAGgB,CAAC,CAAC8H,MAAM,EAAC,OAAO9I,CAAC;IAAC,MAAME,CAAC,GAACkB,CAAC,CAACtB,CAAC,CAAC;IAAC,OAAO,IAAI,CAACiJ,oCAAoC,CAACtJ,CAAC,EAACE,CAAC,EAAE,MAAIO,CAAE,CAAC;EAAA;EAAC8I,wBAAwBA,CAAA,EAAE;IAAC,IAAG,IAAI,CAACzD,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC,EAAEwC,aAAa,CAAC;MAACjC,aAAa,EAAC,IAAI,CAAChB,QAAQ,CAACiB;IAAiB,CAAC,CAAC,EAAC,IAAI,CAACd,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,EAAC;MAAC,MAAMjH,CAAC,GAAC;QAAC2G,aAAa,EAAC,IAAI,CAAChB,QAAQ,CAACiB;MAAiB,CAAC;MAAC,IAAI,CAACd,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,CAAC2B,aAAa,CAAC5I,CAAC,CAAC;IAAA;IAAC,OAAM,CAAC,CAAC;EAAA;EAACwJ,6BAA6BA,CAAA,EAAE;IAAC,OAAM,CAAC,CAAC;EAAA;EAAChB,gBAAgBA,CAACxI,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;IAAC,MAAME,CAAC,GAACoC,CAAC,CAACzC,CAAC,CAACgI,QAAQ,CAAC;IAAC,IAAG,CAAC3H,CAAC,EAAC,OAAO,IAAI;IAAC,MAAME,CAAC,GAAC4D,CAAC,CAAC9D,CAAC,EAAC,IAAI,CAACsF,QAAQ,CAAC8D,iBAAiB,EAAC,IAAI,CAAC9D,QAAQ,CAAC+D,kBAAkB,EAACvJ,CAAC,CAAC;MAACM,CAAC,GAAC,IAAIkJ,CAAC,CAACpJ,CAAC,EAACL,CAAC,EAAC,IAAI,CAACyF,QAAQ,CAACiE,KAAK,CAACC,GAAG,EAAC7J,CAAC,CAAC6J,GAAG,CAAC;MAAClJ,CAAC,GAACF,CAAC,CAACqJ,UAAU,CAACC,QAAQ,CAAChE,MAAM,GAAC,CAAC;IAAC,IAAG,IAAI,CAACP,QAAQ,KAAG/E,CAAC,CAACuJ,UAAU,GAAC7I,CAAC,CAAC,CAAC,GAACR,CAAC,EAAC,CAAC,CAAC,CAAC,EAACF,CAAC,CAACwJ,YAAY,GAAClJ,CAAC,CAAC,CAAC,GAACJ,CAAC,EAAC,CAAC,CAAC,CAAC,EAACkD,CAAC,CAACpD,CAAC,CAACuJ,UAAU,EAACvJ,CAAC,CAACwJ,YAAY,EAACxJ,CAAC,CAACqJ,UAAU,CAACC,QAAQ,EAAC,IAAI,CAACpE,QAAQ,CAAC+D,kBAAkB,CAAC,CAAC,EAACjJ,CAAC,CAACyJ,qBAAqB,GAAC,IAAI,CAACvE,QAAQ,CAAC8B,KAAK,CAAC0C,UAAU,EAAEC,wBAAwB,CAAC3J,CAAC,CAAC,EAAC,IAAI,CAAC4J,oBAAoB,CAACrK,CAAC,EAACS,CAAC,CAAC,EAAC,IAAI,CAACqF,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,IAAE,IAAI,CAACqD,uBAAuB,CAAC7J,CAAC,CAAC,EAAC,IAAI,CAAC8J,4BAA4B,CAAC9J,CAAC,CAACqJ,UAAU,EAACzJ,CAAC,CAACmK,KAAK,EAAC,OAAO,EAAC,mBAAmB,CAAC,EAAC,CAAC,KAAG/J,CAAC,CAACgK,aAAa,CAAC1E,MAAM,EAAC,OAAO,IAAI;IAAC,MAAMlF,CAAC,GAAC,IAAI0D,CAAC,CAAC;QAACmG,UAAU,EAACjK,CAAC,CAACgK,aAAa;QAACE,UAAU,EAAC,CAAC,CAAC;QAACC,QAAQ,EAAC,IAAI,CAACjF,QAAQ,CAACiE,KAAK,CAACC,GAAG;QAACgB,UAAU,EAAC7K,CAAC,CAAC6J;MAAG,CAAC,CAAC;MAAC5I,CAAC,GAAC,IAAIc,CAAC,CAAC,IAAI,EAAClB,CAAC,EAACJ,CAAC,CAACgK,aAAa,EAAC,IAAI,EAAC,IAAI,EAAC9G,CAAC,EAACxD,CAAC,CAAC;IAAC,OAAOc,CAAC,CAAC6J,uBAAuB,GAACrK,CAAC,CAACqJ,UAAU,CAACiB,gBAAgB,EAAC9J,CAAC,CAAC+J,qBAAqB,GAACrJ,CAAC,CAACxB,CAAC,CAACmI,IAAI,CAAC,EAACrH,CAAC;EAAA;EAACoJ,oBAAoBA,CAACrK,CAAC,EAACE,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACD,CAAC,CAAC4J,UAAU,CAACmB,QAAQ;IAAC,KAAI,MAAK;MAAClB,QAAQ,EAAC1J,CAAC;MAAC6K,YAAY,EAACvK,CAAC;MAACwK,WAAW,EAACtK,CAAC;MAACuK,KAAK,EAACrK,CAAC;MAACsK,KAAK,EAAClK;IAAC,CAAC,IAAGhB,CAAC,EAAC;MAAC,IAAG,IAAI,IAAE,IAAI,CAACwF,QAAQ,CAAC2F,cAAc,KAAG/K,CAAC,CAACI,CAAC,EAAC4K,CAAC,CAAC,EAAC,CAAC9K,CAAC,CAAC8K,CAAC,EAAC,IAAI,CAAC5F,QAAQ,CAAC2F,cAAc,CAAC,CAAC,EAAC;MAAS,MAAMnL,CAAC,GAACwC,CAAC,CAAChC,CAAC,EAACE,CAAC,EAAC,IAAI,CAAC8E,QAAQ,CAAC8D,iBAAiB,CAAC+B,gBAAgB,CAAC;MAAC,IAAG,CAAC,KAAGrL,CAAC,CAAC4F,MAAM,EAAC;MAAS,MAAMxE,CAAC,GAAC,IAAI,CAACmE,YAAY,EAAE+F,eAAe,CAACtG,KAAK;QAAC1D,CAAC,GAACoB,CAAC,CAAC;UAACoD,QAAQ,EAAC,IAAI,CAACH,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC;UAACsF,OAAO,EAACvL,CAAC;UAAC+K,YAAY,EAACvK,CAAC;UAACgL,aAAa,EAAC;YAAC5B,QAAQ,EAAC1J,CAAC;YAAC8E,KAAK,EAAC5D,CAAC,GAAC,IAAI,GAACrB,CAAC,CAACiF,KAAK;YAACyG,YAAY,EAACrK,CAAC,GAAC8B,CAAC,CAAC9B,CAAC,CAACsK,KAAK,EAAC7L,CAAC,CAAC,GAAC,IAAI;YAACgK,UAAU,EAAC,IAAI,CAACxE,QAAQ,GAACnE,CAAC,CAACnB,CAAC,CAAC8J,UAAU,EAAC,CAAC,GAACjJ,CAAC,EAAC,CAAC,GAACI,CAAC,CAAC,GAAC,IAAI;YAAC8I,YAAY,EAAC,IAAI,CAACzE,QAAQ,GAACvE,CAAC,CAACf,CAAC,CAAC+J,YAAY,EAAC,CAAC,GAAClJ,CAAC,EAAC,CAAC,GAACI,CAAC,CAAC,GAAC,IAAI;YAAC+I,qBAAqB,EAAChK,CAAC,CAACgK;UAAqB;QAAC,CAAC,CAAC;MAAChK,CAAC,CAACuK,aAAa,CAACqB,IAAI,CAACrK,CAAC,CAAC;IAAA;EAAC;EAAC6I,uBAAuBA,CAACtK,CAAC,EAAC;IAAC,IAAG,IAAI,IAAE,IAAI,CAAC8F,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,EAAC;IAAO,MAAM/G,CAAC,GAACF,CAAC,CAAC8J,UAAU,CAACiC,QAAQ;IAAC,KAAI,MAAK;MAACb,YAAY,EAAC/K,CAAC;MAAC4J,QAAQ,EAAC1J;IAAC,CAAC,IAAGH,CAAC,EAAC;MAAC,IAAG,IAAI,IAAE,IAAI,CAACyF,QAAQ,CAAC2F,cAAc,KAAG/K,CAAC,CAACJ,CAAC,EAACoL,CAAC,CAAC,EAAC,CAAC9K,CAAC,CAAC8K,CAAC,EAAC,IAAI,CAAC5F,QAAQ,CAAC2F,cAAc,CAAC,CAAC,EAAC;MAAS,MAAMpL,CAAC,GAAC+D,CAAC,CAAC,IAAI,CAAC6B,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,EAAC;QAAC+E,WAAW,EAAC,IAAI;QAACC,uBAAuB,EAAC,CAAC,CAAC;QAACf,YAAY,EAAC/K,CAAC;QAACwL,aAAa,EAAC;UAAC5B,QAAQ,EAAC1J;QAAC;MAAC,CAAC,EAACL,CAAC,CAACkK,qBAAqB,CAAC;MAAClK,CAAC,CAACyK,aAAa,CAACqB,IAAI,CAAC5L,CAAC,CAAC;IAAA;EAAC;EAACqI,gBAAgBA,CAACvI,CAAC,EAACE,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACsC,CAAC,CAACzC,CAAC,CAACgI,QAAQ,CAAC;IAAC,IAAG,IAAI,IAAE7H,CAAC,EAAC,OAAO,IAAI;IAAC,IAAI,CAAC2F,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC,CAAC8F,cAAc,GAAC,IAAI,CAACC,eAAe,GAAC,IAAI,CAACC,mBAAmB,GAAC,CAAC,EAAC,IAAI,IAAE,IAAI,CAACtG,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,KAAG,IAAI,CAACnB,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,CAACiF,cAAc,GAAC,IAAI,CAACC,eAAe,CAAC;IAAC,MAAM9L,CAAC,GAACgE,CAAC,CAAClE,CAAC,EAAC,IAAI,CAACwF,QAAQ,CAAC0G,SAAS,CAAC;MAAC9L,CAAC,GAAC,IAAI+L,CAAC,CAACjM,CAAC,EAACH,CAAC,EAAC,IAAI,CAACyF,QAAQ,CAACiE,KAAK,CAACC,GAAG,EAAC7J,CAAC,CAAC6J,GAAG,CAAC;MAACpJ,CAAC,GAACF,CAAC,CAACuJ,UAAU,CAACC,QAAQ,CAAChE,MAAM,GAAC,CAAC;IAAC,OAAO,IAAI,CAACP,QAAQ,KAAGjF,CAAC,CAACyJ,UAAU,GAAC7I,CAAC,CAAC,CAAC,GAACV,CAAC,EAAC,CAAC,CAAC,CAAC,EAACsD,CAAC,CAACxD,CAAC,CAACyJ,UAAU,EAACzJ,CAAC,CAACuJ,UAAU,CAACC,QAAQ,EAAC,IAAI,CAACpE,QAAQ,CAAC0G,SAAS,EAAC,IAAI,CAAC1G,QAAQ,CAAC4G,iBAAiB,CAACC,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,EAACnM,CAAC,CAACoM,cAAc,GAAChM,CAAC,CAAC,CAAC,EAACJ,CAAC,CAAC2J,qBAAqB,GAAC,IAAI,CAACvE,QAAQ,CAAC8B,KAAK,CAAC0C,UAAU,EAAEC,wBAAwB,CAAC7J,CAAC,CAAC,EAAC,IAAI,CAACqM,oBAAoB,CAAC5M,CAAC,EAACO,CAAC,CAAC,EAAC,IAAI,CAACuF,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,IAAE,IAAI,CAAC4F,uBAAuB,CAACtM,CAAC,CAAC,EAAC,IAAI,CAACgK,4BAA4B,CAAChK,CAAC,CAACuJ,UAAU,EAAC3J,CAAC,CAACqK,KAAK,EAAC,OAAO,EAAC,mBAAmB,CAAC,EAAC,CAAC,KAAGjK,CAAC,CAACkK,aAAa,CAAC1E,MAAM,GAAC,IAAI,GAAC,IAAIlE,CAAC,CAAC,IAAI,EAACtB,CAAC,CAACkK,aAAa,EAAClK,CAAC,CAACoM,cAAc,EAAC,IAAI,CAAChH,QAAQ,CAACmH,mBAAmB,CAAC;EAAA;EAACF,oBAAoBA,CAAC5M,CAAC,EAACE,CAAC,EAAC;IAAC,MAAMG,CAAC,GAACH,CAAC,CAAC4J,UAAU,CAACmB,QAAQ;IAAC,KAAI,MAAK;MAAClB,QAAQ,EAACpJ,CAAC;MAACwK,WAAW,EAACpK,CAAC;MAACqK,KAAK,EAACnK,CAAC;MAACoK,KAAK,EAAClK;IAAC,CAAC,IAAGd,CAAC,EAAC;MAAC,MAAMA,CAAC,GAACE,CAAC,CAACI,CAAC,EAAC4K,CAAC,CAAC;MAAC,IAAG,CAAC9K,CAAC,CAACJ,CAAC,EAAC,IAAI,CAACsF,QAAQ,CAAC2F,cAAc,CAAC,EAAC;MAAS,MAAM/J,CAAC,GAACpB,CAAC,CAACQ,CAAC,EAACI,CAAC,EAAC,CAAC,CAAC;MAAC,IAAG,CAAC,KAAGQ,CAAC,CAACwE,MAAM,EAAC;MAASlF,CAAC,CAACX,CAAC,CAACyM,cAAc,EAACtM,CAAC,CAAC;MAAC,MAAMoB,CAAC,GAAC,IAAI,CAACiE,YAAY,EAAE+F,eAAe,CAACtG,KAAK;QAACxD,CAAC,GAACkB,CAAC,CAAC;UAACoD,QAAQ,EAAC,IAAI,CAACH,UAAU,CAACK,CAAC,CAACC,IAAI,CAAC;UAACsF,OAAO,EAACnK,CAAC;UAACoK,aAAa,EAAC;YAAC5B,QAAQ,EAACpJ,CAAC;YAACwE,KAAK,EAAC1D,CAAC,GAAC,IAAI,GAACvB,CAAC,CAACiF,KAAK;YAACyG,YAAY,EAACnK,CAAC,GAAC4B,CAAC,CAAC5B,CAAC,CAACoK,KAAK,EAAC7L,CAAC,CAAC,GAAC,IAAI;YAACgK,UAAU,EAAC,IAAI,CAACxE,QAAQ,GAACnE,CAAC,CAACnB,CAAC,CAAC8J,UAAU,EAAC,CAAC,GAAC/I,CAAC,EAAC,CAAC,GAACE,CAAC,CAAC,GAAC,IAAI;YAAC+I,qBAAqB,EAAChK,CAAC,CAACgK;UAAqB;QAAC,CAAC,CAAC;MAAChK,CAAC,CAACuK,aAAa,CAACqB,IAAI,CAAC,IAAIrH,CAAC,CAAC9C,CAAC,EAACzB,CAAC,CAAC,CAAC;IAAA;EAAC;EAAC2M,uBAAuBA,CAAC7M,CAAC,EAAC;IAAC,IAAG,IAAI,IAAE,IAAI,CAAC8F,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,EAAC;IAAO,MAAM/G,CAAC,GAACF,CAAC,CAAC8J,UAAU,CAACiC,QAAQ;IAAC,KAAI,IAAI5L,CAAC,GAAC,CAAC,EAACA,CAAC,GAACD,CAAC,CAAC6F,MAAM,EAAC,EAAE5F,CAAC,EAAC;MAAC,MAAK;QAAC4J,QAAQ,EAAC1J;MAAC,CAAC,GAACH,CAAC,CAACC,CAAC,CAAC;MAAC,IAAGI,CAAC,CAACF,CAAC,EAACkL,CAAC,CAAC,EAAC,CAAC9K,CAAC,CAAC8K,CAAC,EAAC,IAAI,CAAC5F,QAAQ,CAAC2F,cAAc,CAAC,EAAC;MAASzK,CAAC,CAACb,CAAC,CAAC2M,cAAc,EAACpB,CAAC,CAAC;MAAC,MAAM5K,CAAC,GAACsD,CAAC,CAAC,IAAI,CAAC6B,UAAU,CAACK,CAAC,CAACc,OAAO,CAAC,EAAC;QAAC+E,WAAW,EAAC;UAACR,gBAAgB,EAAC,IAAI,CAAC7F,QAAQ,CAAC0G,SAAS;UAAC3C,kBAAkB,EAAC,IAAI,CAAC/D,QAAQ,CAAC+D;QAAkB,CAAC;QAACuC,uBAAuB,EAAC,CAAC,CAAC;QAACN,aAAa,EAAC;UAAC5B,QAAQ,EAAC1J;QAAC;MAAC,CAAC,EAACL,CAAC,CAACkK,qBAAqB,CAAC;MAAClK,CAAC,CAACyK,aAAa,CAACqB,IAAI,CAAC,IAAIrH,CAAC,CAAC9D,CAAC,EAACX,CAAC,CAAC,CAAC;IAAA;EAAC;EAACiJ,kBAAkBA,CAAA,EAAE;IAAC,MAAMjJ,CAAC,GAAC,IAAI,CAACgG,WAAW,EAAEc,OAAO,EAAE3B,KAAK;IAAC,OAAM,CAAC,IAAI,CAACuB,MAAM,GAAC,CAAC,GAAC,IAAI,CAACqG,gBAAgB,CAAC,CAAC,KAAG,IAAI,IAAE/M,CAAC,GAACA,CAAC,CAACa,CAAC,GAAC,CAAC,CAAC;EAAA;EAACsG,gBAAgBA,CAAA,EAAE;IAAC,MAAMjH,CAAC,GAAC,IAAI,CAAC8F,WAAW,EAAEc,OAAO,EAAE3B,KAAK;MAAChF,CAAC,GAAC,IAAI,CAAC8I,kBAAkB,CAAC,CAAC;IAAC,OAAO9G,CAAC,CAAC,IAAI,IAAEjC,CAAC,GAACF,CAAC,CAACgN,SAAS,CAAC9M,CAAC,CAAC,GAAC,IAAI,EAACC,CAAC,CAAC;EAAA;EAAC8M,IAAIA,CAAA,EAAE;IAAC,OAAM;MAAC,GAAG,KAAK,CAACA,IAAI,CAAC,CAAC;MAACC,eAAe,EAACA,CAAClN,CAAC,EAACE,CAAC,KAAG,IAAI,CAACqI,gBAAgB,CAACvI,CAAC,EAACE,CAAC,CAAC;MAACiN,eAAe,EAACA,CAACnN,CAAC,EAACE,CAAC,EAACC,CAAC,KAAG,IAAI,CAACqI,gBAAgB,CAACxI,CAAC,EAACE,CAAC,EAACC,CAAC;IAAC,CAAC;EAAA;AAAC;AAACmF,CAAC,CAAC8D,wBAAwB,GAAC;EAACgE,cAAc,EAAC7L,CAAC,CAAC8L,QAAQ;EAACC,gBAAgB,EAAC/L,CAAC,CAACgM,IAAI;EAACC,kBAAkB,EAACjM,CAAC,CAAC8L;AAAQ,CAAC;AAAC,MAAM9B,CAAC,GAAClL,CAAC,CAAC,CAAC;AAAC,MAAMsJ,CAAC,SAAS5G,CAAC;EAACwC,WAAWA,CAACvF,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAAC;IAAC,KAAK,CAACL,CAAC,EAACG,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAAC8E,KAAK,GAACjF,CAAC;EAAA;AAAC;AAAC,MAAMoM,CAAC,SAASvJ,CAAC;EAACwC,WAAWA,CAACvF,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAAC;IAAC,KAAK,CAACL,CAAC,EAACG,CAAC,EAACE,CAAC,CAAC,EAAC,IAAI,CAAC8E,KAAK,GAACjF,CAAC;EAAA;AAAC;AAAC,IAAIiG,CAAC;AAAC,SAASY,CAACA,CAAC/G,CAAC,EAAC;EAAC,OAAO,IAAI,IAAEA,CAAC,EAAEkF,IAAI,IAAElF,CAAC,CAACkF,IAAI,GAAC,CAAC,IAAE,IAAI,IAAElF,CAAC,CAACmF,KAAK,KAAG,IAAI,IAAEnF,CAAC,CAACgH,OAAO,IAAE,OAAO,KAAGhH,CAAC,CAACgH,OAAO,CAACiB,IAAI,IAAE,MAAM,KAAGjI,CAAC,CAACgH,OAAO,CAACyG,KAAK,CAAC;AAAA;AAAC,CAAC,UAASzN,CAAC,EAAC;EAACA,CAAC,CAACA,CAAC,CAACoG,IAAI,GAAC,CAAC,CAAC,GAAC,MAAM,EAACpG,CAAC,CAACA,CAAC,CAACiH,OAAO,GAAC,CAAC,CAAC,GAAC,SAAS;AAAA,CAAC,CAACd,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC;AAAC,SAAOb,CAAC,IAAIoI,gCAAgC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}