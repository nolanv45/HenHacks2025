{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { createColormapTexture as t, setTextures as e } from \"../../../../webgl/rasterUtils.js\";\nconst n = [1, 1],\n  a = [2, 0, 0, 0, 2, 0, -1, -1, 0];\nfunction s(n, a, s, r) {\n  const {\n      context: i,\n      rasterFunction: o,\n      hasBranches: f\n    } = n,\n    {\n      raster: u\n    } = o.parameters,\n    m = f ? u?.id ?? -1 : 0,\n    c = [s.functionTextures[m] ?? s.rasterTexture],\n    l = [\"u_image\"];\n  if (r) {\n    const e = t(i, r);\n    s.functionTextures[100] = e, c.push(e), l.push(\"u_colormap\");\n  }\n  e(i, a, l, c);\n}\nfunction r(t, n, a) {\n  const {\n    rasters: r\n  } = t.rasterFunction.parameters;\n  if (!r) return;\n  if (r.length < 2) return s(t, n, a);\n  const i = r.filter(t => \"Constant\" !== t.name).map(t => null != t.id && \"Identity\" !== t.name ? a.functionTextures[t.id] : a.rasterTexture);\n  if (e(t.context, n, [\"u_image\", \"u_image1\", \"u_image2\"].slice(0, i.length), i), i.length !== r.length) if (2 === r.length) {\n    const t = r.findIndex(t => \"Constant\" === t.name),\n      e = 0 === t ? [0, 1, 0, 1, 0, 0, 0, 0, 0] : [1, 0, 0, 0, 1, 0, 0, 0, 0],\n      {\n        value: a\n      } = r[t].parameters;\n    n.setUniform1f(\"u_image1Const\", a), n.setUniformMatrix3fv(\"u_imageSwap\", e);\n  } else if (3 === r.length) {\n    const t = [];\n    if (r.forEach((e, n) => \"Constant\" === e.name && t.push(n)), 1 === t.length) {\n      const {\n        value: e\n      } = r[t[0]].parameters;\n      n.setUniform1f(\"u_image1Const\", e);\n      const a = 0 === t[0] ? [0, 1, 0, 0, 0, 1, 1, 0, 0] : 1 === t[0] ? [1, 0, 0, 0, 0, 1, 0, 1, 0] : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      n.setUniformMatrix3fv(\"u_imageSwap\", a);\n    } else if (2 === t.length) {\n      const {\n        value: e\n      } = r[t[0]].parameters;\n      n.setUniform1f(\"u_image1Const\", e);\n      const {\n        value: a\n      } = r[t[1]].parameters;\n      n.setUniform1f(\"u_image2Const\", a);\n      const s = r.findIndex(t => \"Constant\" !== t.name),\n        i = 0 === s ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : 1 === s ? [0, 1, 0, 1, 0, 0, 0, 0, 1] : [0, 0, 1, 1, 0, 0, 0, 1, 0];\n      n.setUniformMatrix3fv(\"u_imageSwap\", i);\n    }\n  }\n}\nfunction i(t) {\n  t.setUniform2fv(\"u_coordScale\", n), t.setUniformMatrix3fv(\"u_dvsMat3\", a);\n}\nexport { i as setCoordsAndTransforms, r as setMultipleImageTextures, s as setSingleImageTextures };","map":{"version":3,"names":["createColormapTexture","t","setTextures","e","n","a","s","r","context","i","rasterFunction","o","hasBranches","f","raster","u","parameters","m","id","c","functionTextures","rasterTexture","l","push","rasters","length","filter","name","map","slice","findIndex","value","setUniform1f","setUniformMatrix3fv","forEach","setUniform2fv","setCoordsAndTransforms","setMultipleImageTextures","setSingleImageTextures"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/imagery/processor/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createColormapTexture as t,setTextures as e}from\"../../../../webgl/rasterUtils.js\";const n=[1,1],a=[2,0,0,0,2,0,-1,-1,0];function s(n,a,s,r){const{context:i,rasterFunction:o,hasBranches:f}=n,{raster:u}=o.parameters,m=f?u?.id??-1:0,c=[s.functionTextures[m]??s.rasterTexture],l=[\"u_image\"];if(r){const e=t(i,r);s.functionTextures[100]=e,c.push(e),l.push(\"u_colormap\")}e(i,a,l,c)}function r(t,n,a){const{rasters:r}=t.rasterFunction.parameters;if(!r)return;if(r.length<2)return s(t,n,a);const i=r.filter((t=>\"Constant\"!==t.name)).map((t=>null!=t.id&&\"Identity\"!==t.name?a.functionTextures[t.id]:a.rasterTexture));if(e(t.context,n,[\"u_image\",\"u_image1\",\"u_image2\"].slice(0,i.length),i),i.length!==r.length)if(2===r.length){const t=r.findIndex((t=>\"Constant\"===t.name)),e=0===t?[0,1,0,1,0,0,0,0,0]:[1,0,0,0,1,0,0,0,0],{value:a}=r[t].parameters;n.setUniform1f(\"u_image1Const\",a),n.setUniformMatrix3fv(\"u_imageSwap\",e)}else if(3===r.length){const t=[];if(r.forEach(((e,n)=>\"Constant\"===e.name&&t.push(n))),1===t.length){const{value:e}=r[t[0]].parameters;n.setUniform1f(\"u_image1Const\",e);const a=0===t[0]?[0,1,0,0,0,1,1,0,0]:1===t[0]?[1,0,0,0,0,1,0,1,0]:[1,0,0,0,1,0,0,0,1];n.setUniformMatrix3fv(\"u_imageSwap\",a)}else if(2===t.length){const{value:e}=r[t[0]].parameters;n.setUniform1f(\"u_image1Const\",e);const{value:a}=r[t[1]].parameters;n.setUniform1f(\"u_image2Const\",a);const s=r.findIndex((t=>\"Constant\"!==t.name)),i=0===s?[1,0,0,0,1,0,0,0,1]:1===s?[0,1,0,1,0,0,0,0,1]:[0,0,1,1,0,0,0,1,0];n.setUniformMatrix3fv(\"u_imageSwap\",i)}}}function i(t){t.setUniform2fv(\"u_coordScale\",n),t.setUniformMatrix3fv(\"u_dvsMat3\",a)}export{i as setCoordsAndTransforms,r as setMultipleImageTextures,s as setSingleImageTextures};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}