{"ast":null,"code":"import { getMemberType, parsePropertyValue } from \"./chunk-XKVBN44N.js\";\n\n// src/types.ts\nvar controllerSymbol = Symbol.for(\"controller\");\n\n// package.json\nvar name = \"@arcgis/components-controllers\";\n\n// src/utils.ts\nimport { isEsriInternalEnv } from \"@arcgis/components-utils\";\nvar isController = value => typeof value === \"object\" && value !== null && (controllerSymbol in value || \"hostConnected\" in value || \"hostDisconnected\" in value || \"hostUpdate\" in value || \"hostUpdated\" in value);\nvar devOnlySetPersistentControllerData = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? (controller, data) => {\n  const manager = controller.component.manager;\n  const controllers = \"_controllers\" in manager ? manager._controllers : void 0;\n  if (controllers === void 0) {\n    return void 0;\n  }\n  const index = Array.from(controllers).indexOf(controller);\n  if (index === -1) {\n    return;\n  }\n  const devOnlyControllerData = Symbol.for(`${name}: devOnlyControllerData`);\n  const el = controller.component.el;\n  el[devOnlyControllerData] ?? (el[devOnlyControllerData] = {});\n  el[devOnlyControllerData][index] = data;\n} : void 0;\nvar devOnlyGetPersistentControllerData = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? controller => {\n  const manager = controller.component.manager;\n  const controllers = \"_controllers\" in manager ? manager._controllers : void 0;\n  if (controllers === void 0) {\n    return void 0;\n  }\n  const index = Array.from(controllers).indexOf(controller);\n  const devOnlyControllerData = Symbol.for(`${name}: devOnlyControllerData`);\n  const el = controller.component.el;\n  return el[devOnlyControllerData]?.[index];\n} : void 0;\n\n// src/ControllerInternals.ts\nimport { isEsriInternalEnv as isEsriInternalEnv2 } from \"@arcgis/components-utils\";\nvar ambientComponent;\nfunction setAmbientComponent(component) {\n  if (ambientComponent === component) {\n    return;\n  }\n  ambientComponent = component;\n  queueMicrotask(() => {\n    if (ambientComponent === component) {\n      ambientComponent = void 0;\n    }\n  });\n}\nfunction retrieveComponent(name2) {\n  if (process.env.NODE_ENV !== \"production\" && ambientComponent === void 0) {\n    throw new Error([`Unable to find out which component ${name2 || \"this\"} controller `, \"belongs to. Possible causes:\\n\", \"- You might also have multiple versions of \", \"@arcgis/components-controllers package installed\\n\", ...(isEsriInternalEnv2() ? [\"- You tried to create controller outside the component. If so, \", \"please wrap your controller definition in an arrow function (like\", \"`const myController = ()=>makeController(...);`) and call that\", \"function inside the component (`my = myController();`), or \", \"define your controller using makeGenericController/GenericController \", \"instead.\\n\", \"- You tried to create a controller inside an async function. \", \"This is allowed without calling controller.use(). Make sure you \", \"use it like `await controller.use(useController())`.\"] : [])].join(\"\"));\n  }\n  return ambientComponent;\n}\nvar ambientControllers = [];\nfunction setParentController(controller) {\n  if (controller === void 0) {\n    ambientControllers = [];\n    return;\n  }\n  const index = ambientControllers.indexOf(controller);\n  ambientControllers = index === -1 ? [...ambientControllers, controller] : ambientControllers.slice(0, index + 1);\n  queueMicrotask(() => {\n    ambientControllers = [];\n  });\n}\nfunction retrieveParentControllers() {\n  return ambientControllers;\n}\nvar ambientChildController;\nfunction setAmbientChildController(controller) {\n  if (ambientChildController === controller) {\n    return;\n  }\n  ambientChildController = controller;\n  queueMicrotask(() => {\n    if (ambientChildController === controller) {\n      ambientChildController = void 0;\n    }\n  });\n}\nfunction retrieveAmbientChildController() {\n  const controller = ambientChildController;\n  ambientChildController = void 0;\n  return controller;\n}\nvar use = async (value, watchExports) => {\n  const controller = useRefSync(value);\n  if (controller === void 0) {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && typeof watchExports === \"function\") {\n      throw new Error(`Unable to resolve a controller from the provided value, so can't watch it's exports. The value you passed is not a controller and not a controller exports. If your controller exports a literal value, try making your controller export an object instead`);\n    }\n    return value;\n  }\n  await controller.ready;\n  if (typeof watchExports === \"function\") {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && controller.watchExports === void 0) {\n      throw new Error(`The controller must implement watchExports method to support watching exports`);\n    }\n    const unsubscribe = controller.watchExports(exports => watchExports(exports, unsubscribe));\n  }\n  return controller.exports;\n};\nvar useRef = async value => {\n  const controller = useRefSync(value);\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && controller === void 0) {\n    throw new Error(`Unable to resolve a controller from the provided value. The value you passed is not a controller and not a controller exports. If your controller exports a literal value, try making your controller export an object instead`);\n  }\n  await controller.ready;\n  return controller;\n};\nvar useRefSync = value => {\n  const component = retrieveComponent();\n  const controller = component.manager.internals.resolveExports(value);\n  if (controller !== void 0) {\n    return controller;\n  }\n  if (isController(value)) {\n    return value;\n  }\n  const ambientChildController2 = retrieveAmbientChildController();\n  if (ambientChildController2 !== void 0) {\n    return ambientChildController2;\n  }\n  return void 0;\n};\nvar shouldBypass = {\n  setter: false,\n  getter: false,\n  readOnly: false\n};\nvar elementToInstance = /* @__PURE__ */new WeakMap();\n\n// src/Controller.ts\nimport { Deferred, isEsriInternalEnv as isEsriInternalEnv3, safeAsyncCall, safeCall } from \"@arcgis/components-utils\";\nvar _a;\n_a = controllerSymbol;\nvar Controller = class {\n  constructor(component) {\n    this._callbacks = {\n      hostConnected: [],\n      hostDisconnected: [],\n      hostLoad: [],\n      hostLoaded: [],\n      hostUpdate: [],\n      hostUpdated: [],\n      hostDestroy: [],\n      hostLifecycle: []\n    };\n    this._ready = new Deferred();\n    this._lifecycleCleanups = [];\n    this.connectedCalled = false;\n    this._loadCalled = false;\n    this.loadedCalled = false;\n    this[_a] = true;\n    this.ready = this._ready.promise;\n    /*\n     * Setting default exports to \"this\" so that controllers that don't use\n     * exports/proxyExports(), could still be used as if they did\n     * (i.e with controller.use)\n     */\n    this._exports = makeProvisionalValue(this);\n    this._exportWatchers = /* @__PURE__ */new Set();\n    const resolvedComponent = toControllerHost(component ?? retrieveComponent(new.target.name));\n    if (process.env.NODE_ENV !== \"production\") {\n      Object.defineProperty(this, \"component\", {\n        writable: false,\n        enumerable: false,\n        configurable: true,\n        value: resolvedComponent\n      });\n      if (\"hostDestroy\" in this) {\n        this.component.manager.ensureHasDestroy?.();\n      }\n    } else {\n      this.component = resolvedComponent;\n    }\n    this.component.addController(this);\n    const manager = this.component.manager;\n    const isInControllerManager = manager === void 0;\n    if (!isInControllerManager) {\n      setParentController(this);\n      queueMicrotask(() => this.catchUpLifecycle());\n    }\n  }\n  /**\n   * If controller is being added dynamically, after the component\n   * construction, then trigger connected and load right away\n   */\n  catchUpLifecycle() {\n    const {\n      manager\n    } = this.component;\n    const connectedWillStillHappen = !manager.connectedCalled;\n    if (!connectedWillStillHappen && !this.connectedCalled) {\n      this.triggerConnected();\n    }\n    const loadWillStillHappen = !manager._loadCalled;\n    if (loadWillStillHappen) {\n      return;\n    }\n    this.triggerLoad().then(() => {\n      const loadedWillStillHappen = !manager.loadedCalled;\n      if (loadedWillStillHappen) {\n        return;\n      }\n      this.triggerLoaded();\n    }).catch(console.error);\n  }\n  get exports() {\n    return this._exports;\n  }\n  /**\n   * Set controller's exports property (for usage with proxyExports()) and mark\n   * controller as ready (for usage in other controllers). Also, triggers\n   * re-render of the component\n   */\n  set exports(exports) {\n    const oldExports = this._exports;\n    if (oldExports !== exports) {\n      this._exports = exports;\n      this._exportWatchers.forEach(safeCall);\n      if (this.connectedCalled && this.assignedProperty !== false) {\n        this.component.requestUpdate(this.assignedProperty, oldExports);\n      }\n    }\n    this._ready.resolve(exports);\n  }\n  setProvisionalExports(exports) {\n    let proxy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    this._exports = proxy ? makeProvisionalValue(exports) : exports;\n    this._exportWatchers.forEach(safeCall);\n  }\n  watchExports(callback) {\n    const safeCallback = () => callback(this._exports);\n    this._exportWatchers.add(safeCallback);\n    return () => void this._exportWatchers.delete(safeCallback);\n  }\n  /**\n   * A flexible utility for making sure a controller is loaded before it's used,\n   * regardless of how or where a controller was defined:\n   *\n   * @example\n   * makeGenericController(async (component, controller) => {\n   *   // Await some controller from the component:\n   *   await controller.use(component.someController);\n   *   // Initialize new controllers\n   *   await controller.use(load(importCoreReactiveUtils));\n   *   await controller.use(new ViewModelController(component,newWidgetsHomeHomeViewModel));\n   *   await controller.use(someController(component));\n   * });\n   *\n   * @remarks\n   * If your controller is not async, and you are not creating it async, then\n   * you are not required to use controller.use - you can use it directly.\n   * Similarly, accessing controllers after componentWillLoad callback does not\n   * require awaiting them as they are guaranteed to be loaded by then.\n   */\n  get use() {\n    setAmbientComponent(this.component);\n    return use;\n  }\n  /**\n   * Just like controller.use, but returns the controller itself, rather than it's\n   * exports\n   *\n   * Use cases:\n   * - You have a controller and you want to make sure it's loaded before you\n   *   try to use it\n   * - Your controller is not using exports, so you wish to access some props on\n   *   it directly\n   * - You have a controller exports only, and you want to retrieve the\n   *   controller itself. This is useful if you wish to call .watchExports() or\n   *   some other method on the controller\n   */\n  get useRef() {\n    setAmbientComponent(this.component);\n    return useRef;\n  }\n  /**\n   * Like useRef, but doesn't wait for the controller to get ready\n   *\n   * @internal\n   */\n  get useRefSync() {\n    setAmbientComponent(this.component);\n    return useRefSync;\n  }\n  controllerRemoved() {\n    if (this.component.el.isConnected) {\n      this.triggerDisconnected();\n    }\n    this.triggerDestroy();\n  }\n  // Register a lifecycle callback\n  onConnected(callback) {\n    this._callbacks.hostConnected.push(callback);\n  }\n  onDisconnected(callback) {\n    this._callbacks.hostDisconnected.push(callback);\n  }\n  onLoad(callback) {\n    this._callbacks.hostLoad.push(callback);\n  }\n  onLoaded(callback) {\n    this._callbacks.hostLoaded.push(callback);\n  }\n  onUpdate(callback) {\n    this._callbacks.hostUpdate.push(callback);\n  }\n  onUpdated(callback) {\n    this._callbacks.hostUpdated.push(callback);\n  }\n  onDestroy(callback) {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n      this.component.manager.ensureHasDestroy?.();\n    }\n    this._callbacks.hostDestroy.push(callback);\n  }\n  onLifecycle(callback) {\n    this._callbacks.hostLifecycle.push(callback);\n    if (this.connectedCalled && this.component.el.isConnected) {\n      this._callLifecycle(callback);\n    }\n  }\n  // Call each lifecycle hook\n  /** @internal */\n  triggerConnected() {\n    const genericController = this;\n    if (genericController.hostConnected) {\n      safeCall(genericController.hostConnected, genericController);\n    }\n    this._callbacks.hostConnected.forEach(safeCall);\n    this.triggerLifecycle();\n    this.connectedCalled = true;\n  }\n  /** @internal */\n  triggerDisconnected() {\n    const genericController = this;\n    if (genericController.hostDisconnected) {\n      safeCall(genericController.hostDisconnected, genericController);\n    }\n    this._callbacks.hostDisconnected.forEach(safeCall);\n    this._lifecycleCleanups.forEach(safeCall);\n    this._lifecycleCleanups = [];\n  }\n  /** @internal */\n  async triggerLoad() {\n    if (this._loadCalled) {\n      return;\n    }\n    this._loadCalled = true;\n    const genericController = this;\n    if (genericController.hostLoad) {\n      await safeAsyncCall(genericController.hostLoad, genericController);\n    }\n    if (this._callbacks.hostLoad.length > 0) {\n      await Promise.allSettled(this._callbacks.hostLoad.map(safeAsyncCall));\n    }\n    this._ready.resolve(this._exports);\n  }\n  /** @internal */\n  triggerLoaded() {\n    if (this.loadedCalled) {\n      return;\n    }\n    const genericController = this;\n    if (genericController.hostLoaded) {\n      safeCall(genericController.hostLoaded, genericController);\n    }\n    this._callbacks.hostLoaded.forEach(safeCall);\n    this.loadedCalled = true;\n  }\n  /** @internal */\n  triggerUpdate(changes) {\n    const genericController = this;\n    if (genericController.hostUpdate) {\n      safeCall(genericController.hostUpdate, genericController, changes);\n    }\n    this._callbacks.hostUpdate.forEach(callUpdate, changes);\n  }\n  /** @internal */\n  triggerUpdated(changes) {\n    const genericController = this;\n    if (genericController.hostUpdated) {\n      safeCall(genericController.hostUpdated, genericController, changes);\n    }\n    this._callbacks.hostUpdated.forEach(callUpdate, changes);\n  }\n  /** @internal */\n  triggerDestroy() {\n    const genericController = this;\n    if (genericController.hostDestroy) {\n      safeCall(genericController.hostDestroy, genericController);\n    }\n    this._callbacks.hostDestroy.forEach(safeCall);\n  }\n  /** @internal */\n  triggerLifecycle() {\n    const genericController = this;\n    if (genericController.hostLifecycle) {\n      this._callLifecycle(() => genericController.hostLifecycle());\n    }\n    this._callbacks.hostLifecycle.forEach(this._callLifecycle, this);\n  }\n  _callLifecycle(callback) {\n    setAmbientComponent(this.component);\n    const cleanupRaw = safeCall(callback);\n    const cleanup = Array.isArray(cleanupRaw) ? cleanupRaw : [cleanupRaw];\n    cleanup.forEach(cleanup2 => {\n      if (typeof cleanup2 === \"function\") {\n        this._lifecycleCleanups.push(cleanup2);\n      } else if (typeof cleanup2 === \"object\" && typeof cleanup2.remove === \"function\") {\n        this._lifecycleCleanups.push(cleanup2.remove);\n      }\n    });\n  }\n};\nfunction callUpdate(callback) {\n  safeCall(callback, void 0, this);\n}\nvar GenericController = Controller;\nfunction makeProvisionalValue(base) {\n  if (typeof base !== \"object\" && typeof base !== \"function\" || base === null) {\n    return base;\n  }\n  const proxy = new Proxy(base, {\n    get(target, prop, receiver) {\n      if (cyclical.has(prop) && prop in target && target[prop] === proxy) {\n        return void 0;\n      }\n      if (prop in target || prop in Promise.prototype || typeof prop === \"symbol\") {\n        return typeof target === \"function\" ? target[prop] : Reflect.get(target, prop, receiver);\n      }\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n        if (process.env.NODE_ENV === \"test\" && (prop.startsWith(\"$$\") || prop.startsWith(\"@@\") || prop === \"nodeType\" || prop === \"tagName\" || prop === \"toJSON\" || prop === \"hasAttribute\")) {\n          return;\n        }\n        console.error(`Trying to access \"${prop.toString()}\" on the controller before it's loaded. ${accessBeforeLoad}`);\n      }\n      return void 0;\n    },\n    set: (target, prop, newValue, receiver) => {\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n        console.error(`Trying to set \"${prop.toString()}\" on the controller before it's loaded. ${accessBeforeLoad}`);\n      }\n      return Reflect.set(target, prop, newValue, receiver);\n    }\n  });\n  return proxy;\n}\nvar cyclical = /* @__PURE__ */new Set([\"exports\", \"_exports\"]);\nvar accessBeforeLoad = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3() ? [\"This might be the case if you are trying to access an async controller in \", \"connectedCallback(). Or, if you are using it inside of \", \"componentWillLoad()/another controller without controller.use. Example correct \", \"usage:\\n\", \"makeController(async (component, controller)=>{ await controller.use(someOtherController); });\"].join(\"\") : void 0;\nfunction toControllerHost(component) {\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n    if (\"addController\" in component) {\n      return component;\n    } else {\n      throw new Error(\"Component does not implement ControllerHost. This might be because you forgot to add 'manager: Controller<this> = useControllerManager(this);' in your component, or you tried to use some controller before that line\");\n    }\n  } else {\n    return component;\n  }\n}\n\n// src/trackPropertyKey.ts\nimport { safeCall as safeCall2 } from \"@arcgis/components-utils\";\nfunction trackPropertyKey(object, onResolved, defaultValue) {\n  const keys = Object.keys(object);\n  const keyCount = keys.length;\n  if (keyTrackMap === void 0) {\n    queueMicrotask(keyTrackResolve);\n  }\n  keyTrackMap ?? (keyTrackMap = /* @__PURE__ */new Map());\n  let pendingTrackers = keyTrackMap.get(object);\n  if (pendingTrackers === void 0) {\n    pendingTrackers = {\n      callbacks: [],\n      keyCount\n    };\n    keyTrackMap.set(object, pendingTrackers);\n  }\n  if (pendingTrackers.keyCount !== keyCount) {\n    pendingTrackers.callbacks.forEach(resolve => resolve(keys));\n    pendingTrackers.callbacks = [];\n    pendingTrackers.keyCount = keyCount;\n  }\n  pendingTrackers.callbacks.push(keys2 => {\n    const callback = key2 => safeCall2(onResolved, null, key2);\n    const key = keys2[keyCount];\n    if (key === void 0) {\n      callback(void 0);\n    } else if (object[key] === defaultValue) {\n      callback(key);\n    } else {\n      callback(void 0);\n    }\n  });\n  return defaultValue;\n}\nvar keyTrackMap = void 0;\nfunction keyTrackResolve() {\n  Array.from(keyTrackMap?.entries() ?? []).forEach(_ref => {\n    let [object, {\n      callbacks\n    }] = _ref;\n    const keys = Object.keys(object);\n    callbacks.forEach(commit => commit(keys));\n  });\n  keyTrackMap = void 0;\n}\n\n// src/useWatch.ts\nimport { isEsriInternalEnv as isEsriInternalEnv4, safeCall as safeCall3 } from \"@arcgis/components-utils\";\nfunction watch(component, property, callback) {\n  var _a2;\n  const genericProperty = property;\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv4()) {\n    const type = getMemberType(component, genericProperty);\n    if (type === void 0) {\n      throw new Error(component.manager.isLit ? `Trying to watch a non-@property, non-@state property \"${genericProperty}\". Either convert it into a @state() to be able to use watch() on it, or use the get/set syntax` : `Trying to watch a non-@Prop, non-@State property \"${genericProperty}\". Convert it into a @State() or @Prop property if you need to use watch() on it`);\n    }\n  }\n  const internals = component.manager.internals;\n  (_a2 = internals.allWatchers)[genericProperty] ?? (_a2[genericProperty] = []);\n  const watchers = internals.allWatchers[genericProperty];\n  const genericCallback = callback;\n  const safeCallback = (newValue, oldValue, propertyName) => safeCall3(genericCallback, null, newValue, oldValue, propertyName);\n  watchers.push(safeCallback);\n  return () => {\n    const index = watchers.indexOf(safeCallback);\n    if (index !== -1) {\n      watchers.splice(index, 1);\n    }\n  };\n}\n\n// src/trackPropKey.ts\nimport { safeCall as safeCall4 } from \"@arcgis/components-utils\";\n\n// src/ComponentInternals.ts\nimport { isEsriInternalEnv as isEsriInternalEnv5 } from \"@arcgis/components-utils\";\nvar ComponentInternals = class {\n  constructor(component) {\n    /**\n     * When watchers are set, they are set into `allWatchers`. When watchers are\n     * read in the setter, they are read from `enabledWatchers`.\n     *\n     * In Stencil, on connectedCallback(), controller manager does\n     * `enabledWatchers=allWatchers`. Reasoning:\n     * - This disables watchers until connected callback (matches behavior of\n     *   Stencil's watchers)\n     * - This removes the need for a check in the setter for whether the watchers\n     *   were enabled already or not (as getters/setters are hot path, and should\n     *   be streamlined)\n     *\n     * In Lit, we set enabledWatchers to allWatchers in the constructor.\n     * Reasoning:\n     * - While in Stencil all user provided properties are either set before the\n     *   component constructor (this is possible since Stencil's props store is\n     *   externalized) or after connectedCallback, in Lit the properties may be\n     *   set by attributeChangedCallback before connectedCallback. Thus, we need\n     *   to enable watchers even before connectedCallback.\n     * - This means, that a watcher set for some prop before your component got\n     *   a chance to set the default value will trigger the watcher when the\n     *   default value is set - but, that is inline with Lit's willUpdate behavior\n     *   of triggering for default values AND, the only way to set a watcher\n     *   before default value is if you called watcher inside a controller. For\n     *   now, there are no controllers written outside of arcgis-map-components\n     *   package, so I was able to verify that this change would have no\n     *   negative impact.\n     *\n     * In either way, I plan to remove watchers from controllers once Stencil\n     * support is removed.\n     */\n    this.enabledWatchers = {};\n    this.allWatchers = {};\n    /**\n     * \"readOnly\" is not enabled initially since we need to allow to set property\n     * default values in the constructor.\n     * For Stencil, readonly is enabled by the `readonly()` controller.\n     * For Lit, we have the following logic:\n     */\n    this.enableReadonly = () => {\n      this.enableReadonly = void 0;\n      if (!this.component.manager.isLit) {\n        return;\n      }\n      const internals = this.component.manager.internals;\n      Object.entries(internals.members).forEach(_ref2 => {\n        let [name2, [type]] = _ref2;\n        var _a2;\n        const isReadOnly = type & 2048 /* ReadOnly */;\n        if (isReadOnly) {\n          (_a2 = internals.setters)[name2] ?? (_a2[name2] = []);\n          internals.setters[name2].push(internals.readonlySetter);\n        }\n      });\n    };\n    this.trackedValue = nothing;\n    this.keyTrackers = [];\n    this.getters = {};\n    this.setters = {};\n    this.accessorGetter = {};\n    this.accessorSetter = {};\n    this._exports = /* @__PURE__ */new WeakMap();\n    this.readonlySetter = (newValue, _oldValue, property) => {\n      if (shouldBypass.readOnly) {\n        return newValue;\n      }\n      throw new Error(`Cannot assign to read-only property \"${property}\" of ${this.component.el.tagName.toLowerCase()}. Trying to assign \"${String(newValue)}\"`);\n    };\n    if (process.env.NODE_ENV !== \"production\") {\n      Object.defineProperty(this, \"component\", {\n        writable: false,\n        enumerable: false,\n        configurable: true,\n        value: component\n      });\n    } else {\n      this.component = component;\n    }\n  }\n  firePropTrackers(key, value) {\n    const trackers = this.keyTrackers;\n    this.trackedValue = nothing;\n    this.keyTrackers = [];\n    trackers.forEach(tracker => tracker(key, value));\n  }\n  // REFACTOR: once Stencil is no longer supported, simplify this with Lit's getPropertyDescriptor(), or https://github.com/shoelace-style/shoelace/issues/1990\n  /**\n   * Configure a getter or setter for a given \\@Prop/\\@State\n   *\n   * Since props are defined on the prototype, they are shared between all\n   * instances of a component. Thus, instead of passing a reference to the\n   * getter/setter function, you should update the\n   * ComponentInternals.getters/setters properties, and then call getSetProxy\n   * to apply the changes to the prototype\n   */\n  getSetProxy(property) {\n    const component = this.component;\n    const classPrototype = component.constructor.prototype;\n    this._getSetProxy(classPrototype, property, \"class\");\n    if (component.manager.isLit) {\n      return;\n    }\n    const htmlPrototype = component.el.constructor.prototype;\n    if (classPrototype !== htmlPrototype) {\n      this._getSetProxy(htmlPrototype, property, \"html\");\n    }\n  }\n  _getSetProxy(prototype, name2, type) {\n    const component = this.component;\n    const propType = getMemberType(component, name2);\n    let descriptor;\n    do {\n      descriptor = Object.getOwnPropertyDescriptor(prototype, name2);\n    } while (!descriptor && (prototype = Object.getPrototypeOf(prototype)));\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv5()) {\n      const tolerateNotFound = type === \"html\";\n      if (descriptor?.set === void 0 || descriptor.get === void 0) {\n        if (descriptor !== void 0 && \"value\" in descriptor) {\n          throw new Error(`getSet() should only be used on @Prop/@property/@State/@state properties. For internal component properties, use regular get/set syntax. Tried to use it on \"${name2}\" in ${component.el.tagName}`);\n        } else if (tolerateNotFound) {\n          return;\n        } else {\n          throw new Error(`Unable to find \"${name2}\" property on the ${component.el.tagName} component`);\n        }\n      }\n      if (propType === void 0) {\n        throw new Error(\"Unable to retrieve prop type\");\n      }\n    } else if (!descriptor) {\n      return void 0;\n    }\n    const originalGet = descriptor.get;\n    const originalSet = descriptor.set;\n    const isGetterAlreadyOverwritten = customAccessor in originalGet;\n    const isSetterAlreadyOverwritten = customAccessor in originalSet;\n    if (isGetterAlreadyOverwritten && isSetterAlreadyOverwritten) {\n      return;\n    }\n    const shouldOverwriteGet = !isGetterAlreadyOverwritten;\n    const shouldOverwriteSet = !isSetterAlreadyOverwritten;\n    const finalGetter = shouldOverwriteGet ? function getter() {\n      let value = originalGet.call(this);\n      const component2 = elementToInstance.get(this);\n      if (shouldBypass.getter || component2 === void 0) {\n        return value;\n      }\n      const internals = component2.manager.internals;\n      value = internals.accessorGetter[name2](value, name2);\n      const getters = internals.getters[name2] ?? emptyArray;\n      for (let i = 0; i < getters.length; i++) {\n        value = getters[i](value, name2);\n      }\n      return value;\n    } : originalGet;\n    const finalSetter = shouldOverwriteSet ? function setter(rawNewValue) {\n      const oldValue = originalGet.call(this);\n      const component2 = elementToInstance.get(this);\n      if (component2 === void 0) {\n        originalSet.call(this, rawNewValue);\n        return;\n      }\n      let newValue = component2.manager.isLit ? (\n      /*\n       * Cast `null` to `undefined`.\n       * See https://devtopia.esri.com/WebGIS/arcgis-web-components/discussions/1299\n       */\n      rawNewValue ?? void 0) : parsePropertyValue(rawNewValue, propType);\n      const internals = component2.manager.internals;\n      if (newValue === oldValue) {\n        originalSet.call(this, newValue);\n      } else {\n        const setters = shouldBypass.setter ? emptyArray : internals.setters[name2] ?? emptyArray;\n        for (let i = 0; i < setters.length; i++) {\n          newValue = setters[i](newValue, oldValue, name2);\n          if (newValue === oldValue) {\n            break;\n          }\n        }\n        newValue = internals.accessorSetter[name2](newValue, oldValue, name2);\n        originalSet.call(this, newValue);\n        if (newValue !== oldValue) {\n          internals.enabledWatchers[name2]?.forEach(watcher => watcher(newValue, oldValue, name2));\n        }\n      }\n      if (internals.keyTrackers.length > 0) {\n        internals?.firePropTrackers(name2, rawNewValue);\n      }\n    } : originalSet;\n    if (shouldOverwriteGet) {\n      finalGetter[customAccessor] = true;\n    }\n    if (shouldOverwriteSet) {\n      finalSetter[customAccessor] = true;\n    }\n    Object.defineProperty(prototype, name2, {\n      ...descriptor,\n      get: finalGetter,\n      set: finalSetter\n    });\n  }\n  /**\n   * Associate an exports object with a controller for reverse lookup in\n   * controller.use\n   */\n  markExports(controller, exports) {\n    if (typeof exports === \"object\" && exports !== null || typeof exports === \"function\") {\n      this._exports.set(exports, controller);\n    }\n  }\n  resolveExports(exports) {\n    if (typeof exports === \"object\" && exports !== null || typeof exports === \"function\") {\n      return this._exports.get(exports);\n    } else {\n      return void 0;\n    }\n  }\n};\nvar emptyArray = [];\nvar customAccessor = Symbol();\nvar nothing = process.env.NODE_ENV !== \"production\" ? Symbol.for(\n// Use Symbol.for in dev mode to make it easier to maintain state when doing HMR.\n`${name}: nothing`) :\n// eslint-disable-next-line symbol-description\nSymbol();\n\n// src/trackPropKey.ts\nfunction trackPropKey(component, onResolved, defaultValue) {\n  const internals = component.manager.internals;\n  if (internals.trackedValue !== nothing && internals.trackedValue !== defaultValue) {\n    internals.firePropTrackers(void 0, void 0);\n  }\n  if (internals.keyTrackers.length === 0) {\n    queueMicrotask(() => internals.firePropTrackers(void 0, void 0));\n  }\n  internals.trackedValue = defaultValue;\n  internals.keyTrackers.push((key, value) => safeCall4(onResolved, void 0, defaultValue === value ? key : void 0));\n  return defaultValue;\n}\n\n// src/trackKey.ts\nfunction trackKey() {\n  let hostsCandidates = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [retrieveComponent(), ...retrieveParentControllers()];\n  let onResolved = arguments.length > 1 ? arguments[1] : undefined;\n  let defaultValue = arguments.length > 2 ? arguments[2] : undefined;\n  const candidateHosts = Array.isArray(hostsCandidates) ? hostsCandidates : [hostsCandidates];\n  let leftToResolve = candidateHosts.length + 1;\n  const resolved = resolution => {\n    leftToResolve -= 1;\n    if (resolution !== void 0) {\n      leftToResolve = Math.min(leftToResolve, 0);\n    }\n    if (leftToResolve === 0) {\n      onResolved(resolution);\n    }\n  };\n  candidateHosts.forEach(host => trackPropertyKey(host, key => resolved(key === void 0 ? void 0 : {\n    key,\n    host,\n    isReactive: false\n  }), defaultValue));\n  const component = candidateHosts.find(host => \"manager\" in host && typeof host.manager === \"object\" && host.manager.component === host);\n  if (component) {\n    trackPropKey(component, key => resolved(key === void 0 ? void 0 : {\n      key,\n      host: component,\n      isReactive: true\n    }), defaultValue);\n  }\n  return defaultValue;\n}\n\n// src/getSet.ts\nimport { isEsriInternalEnv as isEsriInternalEnv6 } from \"@arcgis/components-utils\";\nfunction getSet(defaultValue, getSet2) {\n  const component = retrieveComponent();\n  return trackPropKey(component, rawName => {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv6() && rawName === void 0) {\n      throw new Error(\"Unable to resolve get/set's prop name. Make sure you are using it like @Prop() someProp = getSet(defaultValue,{get,set})\");\n    }\n    const name2 = rawName;\n    const manager = component.manager;\n    const genericComponent = component;\n    const value = genericComponent[name2];\n    const isStencilHotReload = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv6() && !manager.isLit && devOnlyGetPersistentControllerData?.(manager) === true;\n    if (value != null && value !== defaultValue && typeof getSet2.set === \"function\" && !isStencilHotReload) {\n      const newValue = getSet2.set(value, defaultValue, name2);\n      if (newValue !== value) {\n        if (manager.isLit) {\n          genericComponent[name2] = newValue;\n        } else {\n          let firstConnected = true;\n          manager.onConnected(() => {\n            if (!firstConnected) {\n              return;\n            }\n            firstConnected = true;\n            bypassSetter(() => {\n              genericComponent[name2] = newValue;\n            });\n          });\n        }\n      }\n    }\n    genericGetSet(component, name2, getSet2);\n  }, defaultValue);\n}\nvar dynamicGetSet = (component, property, getSet2) => genericGetSet(component, property, getSet2);\nfunction bypassSetter(callback) {\n  shouldBypass.setter = true;\n  try {\n    return callback();\n  } finally {\n    shouldBypass.setter = false;\n  }\n}\nfunction bypassGetter(callback) {\n  shouldBypass.getter = true;\n  try {\n    return callback();\n  } finally {\n    shouldBypass.getter = false;\n  }\n}\nfunction genericGetSet(component, property, getSet2) {\n  var _a2, _b;\n  const genericGetSet2 = getSet2;\n  const internals = component.manager.internals;\n  const get = typeof genericGetSet2.get === \"function\" ? genericGetSet2.get : void 0;\n  if (get) {\n    (_a2 = internals.getters)[property] ?? (_a2[property] = []);\n    internals.getters[property].unshift(get);\n  }\n  const set = genericGetSet2.set === \"ignore\" ? ignoreSet : genericGetSet2.set;\n  if (set) {\n    (_b = internals.setters)[property] ?? (_b[property] = []);\n    internals.setters[property].unshift(set);\n  }\n}\nvar ignoreSet = (_, value) => value;\n\n// src/readonly.ts\nfunction readonly(value) {\n  const component = retrieveComponent();\n  return getSet(value, {\n    set: component.manager.internals.readonlySetter\n  });\n}\nfunction bypassReadOnly(callback) {\n  shouldBypass.readOnly = true;\n  try {\n    return callback();\n  } finally {\n    shouldBypass.readOnly = false;\n  }\n}\n\n// src/proxyExports.ts\nvar proxyExports = Class => function () {\n  const ambientControllers2 = retrieveParentControllers();\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  const instance = new Class(...args);\n  const initialExports = instance.exports;\n  setParentController(ambientControllers2.at(-1));\n  const internals = instance.component.manager.internals;\n  internals.markExports(instance, initialExports);\n  instance.watchExports(exports => internals.markExports(instance, exports));\n  setAmbientChildController(instance);\n  const hostCandidates = [instance.component, ...ambientControllers2].reverse();\n  return trackKey(hostCandidates, resolution => resolution === void 0 ? void 0 : setProxy(instance, resolution, initialExports), initialExports);\n};\nfunction setProxy(controller, _ref3, initialExports) {\n  let {\n    host,\n    key,\n    isReactive: assignedToProp\n  } = _ref3;\n  const genericHost = host;\n  const controllerValueChanged = genericHost[key] !== controller.exports;\n  const hostValueChanged = genericHost[key] !== initialExports;\n  const controllerUpdatedExports = initialExports !== controller.exports;\n  if (controllerValueChanged && !hostValueChanged && controllerUpdatedExports) {\n    genericHost[key] = controller.exports;\n  }\n  const isProxyExportsOnComponent = host === controller.component;\n  if (isProxyExportsOnComponent) {\n    if (assignedToProp) {\n      const internals = controller.component.manager.internals;\n      if (hostValueChanged) {\n        internals.markExports(controller, genericHost[key]);\n      }\n      watch(controller.component, key, value => {\n        if (value !== controller.exports) {\n          internals.markExports(controller, value);\n        }\n      });\n    }\n    controller.assignedProperty = assignedToProp ? void 0 : key;\n  }\n  controller.watchExports(() => {\n    if (genericHost[key] === controller.exports) {\n      return;\n    }\n    const manager = controller.component.manager;\n    const isReadOnly = manager.internals.setters[key]?.includes(manager.internals.readonlySetter);\n    if (isReadOnly) {\n      bypassReadOnly(() => {\n        genericHost[key] = controller.exports;\n      });\n    } else {\n      genericHost[key] = controller.exports;\n    }\n  });\n}\nexport { controllerSymbol, isController, devOnlySetPersistentControllerData, devOnlyGetPersistentControllerData, setAmbientComponent, retrieveComponent, setParentController, retrieveParentControllers, elementToInstance, Controller, GenericController, trackPropertyKey, keyTrackResolve, ComponentInternals, watch, trackPropKey, trackKey, getSet, dynamicGetSet, bypassSetter, bypassGetter, readonly, bypassReadOnly, proxyExports };","map":{"version":3,"names":["getMemberType","parsePropertyValue","controllerSymbol","Symbol","for","name","isEsriInternalEnv","isController","value","devOnlySetPersistentControllerData","process","env","NODE_ENV","controller","data","manager","component","controllers","_controllers","index","Array","from","indexOf","devOnlyControllerData","el","devOnlyGetPersistentControllerData","isEsriInternalEnv2","ambientComponent","setAmbientComponent","queueMicrotask","retrieveComponent","name2","Error","join","ambientControllers","setParentController","slice","retrieveParentControllers","ambientChildController","setAmbientChildController","retrieveAmbientChildController","use","watchExports","useRefSync","ready","unsubscribe","exports","useRef","internals","resolveExports","ambientChildController2","shouldBypass","setter","getter","readOnly","elementToInstance","WeakMap","Deferred","isEsriInternalEnv3","safeAsyncCall","safeCall","_a","Controller","constructor","_callbacks","hostConnected","hostDisconnected","hostLoad","hostLoaded","hostUpdate","hostUpdated","hostDestroy","hostLifecycle","_ready","_lifecycleCleanups","connectedCalled","_loadCalled","loadedCalled","promise","_exports","makeProvisionalValue","_exportWatchers","Set","resolvedComponent","toControllerHost","new","target","Object","defineProperty","writable","enumerable","configurable","ensureHasDestroy","addController","isInControllerManager","catchUpLifecycle","connectedWillStillHappen","triggerConnected","loadWillStillHappen","triggerLoad","then","loadedWillStillHappen","triggerLoaded","catch","console","error","oldExports","forEach","assignedProperty","requestUpdate","resolve","setProvisionalExports","proxy","arguments","length","undefined","callback","safeCallback","add","delete","controllerRemoved","isConnected","triggerDisconnected","triggerDestroy","onConnected","push","onDisconnected","onLoad","onLoaded","onUpdate","onUpdated","onDestroy","onLifecycle","_callLifecycle","genericController","triggerLifecycle","Promise","allSettled","map","triggerUpdate","changes","callUpdate","triggerUpdated","cleanupRaw","cleanup","isArray","cleanup2","remove","GenericController","base","Proxy","get","prop","receiver","cyclical","has","prototype","Reflect","startsWith","toString","accessBeforeLoad","set","newValue","safeCall2","trackPropertyKey","object","onResolved","defaultValue","keys","keyCount","keyTrackMap","keyTrackResolve","Map","pendingTrackers","callbacks","keys2","key2","key","entries","_ref","commit","isEsriInternalEnv4","safeCall3","watch","property","_a2","genericProperty","type","isLit","allWatchers","watchers","genericCallback","oldValue","propertyName","splice","safeCall4","isEsriInternalEnv5","ComponentInternals","enabledWatchers","enableReadonly","members","_ref2","isReadOnly","setters","readonlySetter","trackedValue","nothing","keyTrackers","getters","accessorGetter","accessorSetter","_oldValue","tagName","toLowerCase","String","firePropTrackers","trackers","tracker","getSetProxy","classPrototype","_getSetProxy","htmlPrototype","propType","descriptor","getOwnPropertyDescriptor","getPrototypeOf","tolerateNotFound","originalGet","originalSet","isGetterAlreadyOverwritten","customAccessor","isSetterAlreadyOverwritten","shouldOverwriteGet","shouldOverwriteSet","finalGetter","call","component2","emptyArray","i","finalSetter","rawNewValue","watcher","markExports","trackPropKey","trackKey","hostsCandidates","candidateHosts","leftToResolve","resolved","resolution","Math","min","host","isReactive","find","isEsriInternalEnv6","getSet","getSet2","rawName","genericComponent","isStencilHotReload","firstConnected","bypassSetter","genericGetSet","dynamicGetSet","bypassGetter","_b","genericGetSet2","unshift","ignoreSet","_","readonly","bypassReadOnly","proxyExports","Class","ambientControllers2","_len","args","_key","instance","initialExports","at","hostCandidates","reverse","setProxy","_ref3","assignedToProp","genericHost","controllerValueChanged","hostValueChanged","controllerUpdatedExports","isProxyExportsOnComponent","includes"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/components-controllers/dist/chunk-PP2BAVRW.js"],"sourcesContent":["import {\n  getMemberType,\n  parsePropertyValue\n} from \"./chunk-XKVBN44N.js\";\n\n// src/types.ts\nvar controllerSymbol = Symbol.for(\"controller\");\n\n// package.json\nvar name = \"@arcgis/components-controllers\";\n\n// src/utils.ts\nimport { isEsriInternalEnv } from \"@arcgis/components-utils\";\nvar isController = (value) => typeof value === \"object\" && value !== null && (controllerSymbol in value || \"hostConnected\" in value || \"hostDisconnected\" in value || \"hostUpdate\" in value || \"hostUpdated\" in value);\nvar devOnlySetPersistentControllerData = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? (controller, data) => {\n  const manager = controller.component.manager;\n  const controllers = \"_controllers\" in manager ? manager._controllers : void 0;\n  if (controllers === void 0) {\n    return void 0;\n  }\n  const index = Array.from(controllers).indexOf(controller);\n  if (index === -1) {\n    return;\n  }\n  const devOnlyControllerData = Symbol.for(`${name}: devOnlyControllerData`);\n  const el = controller.component.el;\n  el[devOnlyControllerData] ?? (el[devOnlyControllerData] = {});\n  el[devOnlyControllerData][index] = data;\n} : void 0;\nvar devOnlyGetPersistentControllerData = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? (controller) => {\n  const manager = controller.component.manager;\n  const controllers = \"_controllers\" in manager ? manager._controllers : void 0;\n  if (controllers === void 0) {\n    return void 0;\n  }\n  const index = Array.from(controllers).indexOf(controller);\n  const devOnlyControllerData = Symbol.for(`${name}: devOnlyControllerData`);\n  const el = controller.component.el;\n  return el[devOnlyControllerData]?.[index];\n} : void 0;\n\n// src/ControllerInternals.ts\nimport { isEsriInternalEnv as isEsriInternalEnv2 } from \"@arcgis/components-utils\";\nvar ambientComponent;\nfunction setAmbientComponent(component) {\n  if (ambientComponent === component) {\n    return;\n  }\n  ambientComponent = component;\n  queueMicrotask(() => {\n    if (ambientComponent === component) {\n      ambientComponent = void 0;\n    }\n  });\n}\nfunction retrieveComponent(name2) {\n  if (process.env.NODE_ENV !== \"production\" && ambientComponent === void 0) {\n    throw new Error(\n      [\n        `Unable to find out which component ${name2 || \"this\"} controller `,\n        \"belongs to. Possible causes:\\n\",\n        \"- You might also have multiple versions of \",\n        \"@arcgis/components-controllers package installed\\n\",\n        ...isEsriInternalEnv2() ? [\n          \"- You tried to create controller outside the component. If so, \",\n          \"please wrap your controller definition in an arrow function (like\",\n          \"`const myController = ()=>makeController(...);`) and call that\",\n          \"function inside the component (`my = myController();`), or \",\n          \"define your controller using makeGenericController/GenericController \",\n          \"instead.\\n\",\n          \"- You tried to create a controller inside an async function. \",\n          \"This is allowed without calling controller.use(). Make sure you \",\n          \"use it like `await controller.use(useController())`.\"\n        ] : []\n      ].join(\"\")\n    );\n  }\n  return ambientComponent;\n}\nvar ambientControllers = [];\nfunction setParentController(controller) {\n  if (controller === void 0) {\n    ambientControllers = [];\n    return;\n  }\n  const index = ambientControllers.indexOf(controller);\n  ambientControllers = index === -1 ? [...ambientControllers, controller] : ambientControllers.slice(0, index + 1);\n  queueMicrotask(() => {\n    ambientControllers = [];\n  });\n}\nfunction retrieveParentControllers() {\n  return ambientControllers;\n}\nvar ambientChildController;\nfunction setAmbientChildController(controller) {\n  if (ambientChildController === controller) {\n    return;\n  }\n  ambientChildController = controller;\n  queueMicrotask(() => {\n    if (ambientChildController === controller) {\n      ambientChildController = void 0;\n    }\n  });\n}\nfunction retrieveAmbientChildController() {\n  const controller = ambientChildController;\n  ambientChildController = void 0;\n  return controller;\n}\nvar use = async (value, watchExports) => {\n  const controller = useRefSync(value);\n  if (controller === void 0) {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && typeof watchExports === \"function\") {\n      throw new Error(\n        `Unable to resolve a controller from the provided value, so can't watch it's exports. The value you passed is not a controller and not a controller exports. If your controller exports a literal value, try making your controller export an object instead`\n      );\n    }\n    return value;\n  }\n  await controller.ready;\n  if (typeof watchExports === \"function\") {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && controller.watchExports === void 0) {\n      throw new Error(`The controller must implement watchExports method to support watching exports`);\n    }\n    const unsubscribe = controller.watchExports(\n      (exports) => watchExports(exports, unsubscribe)\n    );\n  }\n  return controller.exports;\n};\nvar useRef = async (value) => {\n  const controller = useRefSync(value);\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && controller === void 0) {\n    throw new Error(\n      `Unable to resolve a controller from the provided value. The value you passed is not a controller and not a controller exports. If your controller exports a literal value, try making your controller export an object instead`\n    );\n  }\n  await controller.ready;\n  return controller;\n};\nvar useRefSync = (value) => {\n  const component = retrieveComponent();\n  const controller = component.manager.internals.resolveExports(value);\n  if (controller !== void 0) {\n    return controller;\n  }\n  if (isController(value)) {\n    return value;\n  }\n  const ambientChildController2 = retrieveAmbientChildController();\n  if (ambientChildController2 !== void 0) {\n    return ambientChildController2;\n  }\n  return void 0;\n};\nvar shouldBypass = {\n  setter: false,\n  getter: false,\n  readOnly: false\n};\nvar elementToInstance = /* @__PURE__ */ new WeakMap();\n\n// src/Controller.ts\nimport { Deferred, isEsriInternalEnv as isEsriInternalEnv3, safeAsyncCall, safeCall } from \"@arcgis/components-utils\";\nvar _a;\n_a = controllerSymbol;\nvar Controller = class {\n  constructor(component) {\n    this._callbacks = {\n      hostConnected: [],\n      hostDisconnected: [],\n      hostLoad: [],\n      hostLoaded: [],\n      hostUpdate: [],\n      hostUpdated: [],\n      hostDestroy: [],\n      hostLifecycle: []\n    };\n    this._ready = new Deferred();\n    this._lifecycleCleanups = [];\n    this.connectedCalled = false;\n    this._loadCalled = false;\n    this.loadedCalled = false;\n    this[_a] = true;\n    this.ready = this._ready.promise;\n    /*\n     * Setting default exports to \"this\" so that controllers that don't use\n     * exports/proxyExports(), could still be used as if they did\n     * (i.e with controller.use)\n     */\n    this._exports = makeProvisionalValue(this);\n    this._exportWatchers = /* @__PURE__ */ new Set();\n    const resolvedComponent = toControllerHost(component ?? retrieveComponent(new.target.name));\n    if (process.env.NODE_ENV !== \"production\") {\n      Object.defineProperty(this, \"component\", {\n        writable: false,\n        enumerable: false,\n        configurable: true,\n        value: resolvedComponent\n      });\n      if (\"hostDestroy\" in this) {\n        this.component.manager.ensureHasDestroy?.();\n      }\n    } else {\n      this.component = resolvedComponent;\n    }\n    this.component.addController(this);\n    const manager = this.component.manager;\n    const isInControllerManager = manager === void 0;\n    if (!isInControllerManager) {\n      setParentController(this);\n      queueMicrotask(() => this.catchUpLifecycle());\n    }\n  }\n  /**\n   * If controller is being added dynamically, after the component\n   * construction, then trigger connected and load right away\n   */\n  catchUpLifecycle() {\n    const { manager } = this.component;\n    const connectedWillStillHappen = !manager.connectedCalled;\n    if (!connectedWillStillHappen && !this.connectedCalled) {\n      this.triggerConnected();\n    }\n    const loadWillStillHappen = !manager._loadCalled;\n    if (loadWillStillHappen) {\n      return;\n    }\n    this.triggerLoad().then(() => {\n      const loadedWillStillHappen = !manager.loadedCalled;\n      if (loadedWillStillHappen) {\n        return;\n      }\n      this.triggerLoaded();\n    }).catch(console.error);\n  }\n  get exports() {\n    return this._exports;\n  }\n  /**\n   * Set controller's exports property (for usage with proxyExports()) and mark\n   * controller as ready (for usage in other controllers). Also, triggers\n   * re-render of the component\n   */\n  set exports(exports) {\n    const oldExports = this._exports;\n    if (oldExports !== exports) {\n      this._exports = exports;\n      this._exportWatchers.forEach(safeCall);\n      if (this.connectedCalled && this.assignedProperty !== false) {\n        this.component.requestUpdate(this.assignedProperty, oldExports);\n      }\n    }\n    this._ready.resolve(exports);\n  }\n  setProvisionalExports(exports, proxy = true) {\n    this._exports = proxy ? makeProvisionalValue(exports) : exports;\n    this._exportWatchers.forEach(safeCall);\n  }\n  watchExports(callback) {\n    const safeCallback = () => callback(this._exports);\n    this._exportWatchers.add(safeCallback);\n    return () => void this._exportWatchers.delete(safeCallback);\n  }\n  /**\n   * A flexible utility for making sure a controller is loaded before it's used,\n   * regardless of how or where a controller was defined:\n   *\n   * @example\n   * makeGenericController(async (component, controller) => {\n   *   // Await some controller from the component:\n   *   await controller.use(component.someController);\n   *   // Initialize new controllers\n   *   await controller.use(load(importCoreReactiveUtils));\n   *   await controller.use(new ViewModelController(component,newWidgetsHomeHomeViewModel));\n   *   await controller.use(someController(component));\n   * });\n   *\n   * @remarks\n   * If your controller is not async, and you are not creating it async, then\n   * you are not required to use controller.use - you can use it directly.\n   * Similarly, accessing controllers after componentWillLoad callback does not\n   * require awaiting them as they are guaranteed to be loaded by then.\n   */\n  get use() {\n    setAmbientComponent(this.component);\n    return use;\n  }\n  /**\n   * Just like controller.use, but returns the controller itself, rather than it's\n   * exports\n   *\n   * Use cases:\n   * - You have a controller and you want to make sure it's loaded before you\n   *   try to use it\n   * - Your controller is not using exports, so you wish to access some props on\n   *   it directly\n   * - You have a controller exports only, and you want to retrieve the\n   *   controller itself. This is useful if you wish to call .watchExports() or\n   *   some other method on the controller\n   */\n  get useRef() {\n    setAmbientComponent(this.component);\n    return useRef;\n  }\n  /**\n   * Like useRef, but doesn't wait for the controller to get ready\n   *\n   * @internal\n   */\n  get useRefSync() {\n    setAmbientComponent(this.component);\n    return useRefSync;\n  }\n  controllerRemoved() {\n    if (this.component.el.isConnected) {\n      this.triggerDisconnected();\n    }\n    this.triggerDestroy();\n  }\n  // Register a lifecycle callback\n  onConnected(callback) {\n    this._callbacks.hostConnected.push(callback);\n  }\n  onDisconnected(callback) {\n    this._callbacks.hostDisconnected.push(callback);\n  }\n  onLoad(callback) {\n    this._callbacks.hostLoad.push(callback);\n  }\n  onLoaded(callback) {\n    this._callbacks.hostLoaded.push(callback);\n  }\n  onUpdate(callback) {\n    this._callbacks.hostUpdate.push(callback);\n  }\n  onUpdated(callback) {\n    this._callbacks.hostUpdated.push(callback);\n  }\n  onDestroy(callback) {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n      this.component.manager.ensureHasDestroy?.();\n    }\n    this._callbacks.hostDestroy.push(callback);\n  }\n  onLifecycle(callback) {\n    this._callbacks.hostLifecycle.push(callback);\n    if (this.connectedCalled && this.component.el.isConnected) {\n      this._callLifecycle(callback);\n    }\n  }\n  // Call each lifecycle hook\n  /** @internal */\n  triggerConnected() {\n    const genericController = this;\n    if (genericController.hostConnected) {\n      safeCall(genericController.hostConnected, genericController);\n    }\n    this._callbacks.hostConnected.forEach(safeCall);\n    this.triggerLifecycle();\n    this.connectedCalled = true;\n  }\n  /** @internal */\n  triggerDisconnected() {\n    const genericController = this;\n    if (genericController.hostDisconnected) {\n      safeCall(genericController.hostDisconnected, genericController);\n    }\n    this._callbacks.hostDisconnected.forEach(safeCall);\n    this._lifecycleCleanups.forEach(safeCall);\n    this._lifecycleCleanups = [];\n  }\n  /** @internal */\n  async triggerLoad() {\n    if (this._loadCalled) {\n      return;\n    }\n    this._loadCalled = true;\n    const genericController = this;\n    if (genericController.hostLoad) {\n      await safeAsyncCall(genericController.hostLoad, genericController);\n    }\n    if (this._callbacks.hostLoad.length > 0) {\n      await Promise.allSettled(this._callbacks.hostLoad.map(safeAsyncCall));\n    }\n    this._ready.resolve(this._exports);\n  }\n  /** @internal */\n  triggerLoaded() {\n    if (this.loadedCalled) {\n      return;\n    }\n    const genericController = this;\n    if (genericController.hostLoaded) {\n      safeCall(genericController.hostLoaded, genericController);\n    }\n    this._callbacks.hostLoaded.forEach(safeCall);\n    this.loadedCalled = true;\n  }\n  /** @internal */\n  triggerUpdate(changes) {\n    const genericController = this;\n    if (genericController.hostUpdate) {\n      safeCall(genericController.hostUpdate, genericController, changes);\n    }\n    this._callbacks.hostUpdate.forEach(callUpdate, changes);\n  }\n  /** @internal */\n  triggerUpdated(changes) {\n    const genericController = this;\n    if (genericController.hostUpdated) {\n      safeCall(genericController.hostUpdated, genericController, changes);\n    }\n    this._callbacks.hostUpdated.forEach(callUpdate, changes);\n  }\n  /** @internal */\n  triggerDestroy() {\n    const genericController = this;\n    if (genericController.hostDestroy) {\n      safeCall(genericController.hostDestroy, genericController);\n    }\n    this._callbacks.hostDestroy.forEach(safeCall);\n  }\n  /** @internal */\n  triggerLifecycle() {\n    const genericController = this;\n    if (genericController.hostLifecycle) {\n      this._callLifecycle(() => genericController.hostLifecycle());\n    }\n    this._callbacks.hostLifecycle.forEach(this._callLifecycle, this);\n  }\n  _callLifecycle(callback) {\n    setAmbientComponent(this.component);\n    const cleanupRaw = safeCall(callback);\n    const cleanup = Array.isArray(cleanupRaw) ? cleanupRaw : [cleanupRaw];\n    cleanup.forEach((cleanup2) => {\n      if (typeof cleanup2 === \"function\") {\n        this._lifecycleCleanups.push(cleanup2);\n      } else if (typeof cleanup2 === \"object\" && typeof cleanup2.remove === \"function\") {\n        this._lifecycleCleanups.push(cleanup2.remove);\n      }\n    });\n  }\n};\nfunction callUpdate(callback) {\n  safeCall(callback, void 0, this);\n}\nvar GenericController = Controller;\nfunction makeProvisionalValue(base) {\n  if (typeof base !== \"object\" && typeof base !== \"function\" || base === null) {\n    return base;\n  }\n  const proxy = new Proxy(base, {\n    get(target, prop, receiver) {\n      if (cyclical.has(prop) && prop in target && target[prop] === proxy) {\n        return void 0;\n      }\n      if (prop in target || prop in Promise.prototype || typeof prop === \"symbol\") {\n        return typeof target === \"function\" ? target[prop] : Reflect.get(target, prop, receiver);\n      }\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n        if (process.env.NODE_ENV === \"test\" && (prop.startsWith(\"$$\") || prop.startsWith(\"@@\") || prop === \"nodeType\" || prop === \"tagName\" || prop === \"toJSON\" || prop === \"hasAttribute\")) {\n          return;\n        }\n        console.error(\n          `Trying to access \"${prop.toString()}\" on the controller before it's loaded. ${accessBeforeLoad}`\n        );\n      }\n      return void 0;\n    },\n    set: (target, prop, newValue, receiver) => {\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n        console.error(`Trying to set \"${prop.toString()}\" on the controller before it's loaded. ${accessBeforeLoad}`);\n      }\n      return Reflect.set(target, prop, newValue, receiver);\n    }\n  });\n  return proxy;\n}\nvar cyclical = /* @__PURE__ */ new Set([\"exports\", \"_exports\"]);\nvar accessBeforeLoad = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3() ? [\n  \"This might be the case if you are trying to access an async controller in \",\n  \"connectedCallback(). Or, if you are using it inside of \",\n  \"componentWillLoad()/another controller without controller.use. Example correct \",\n  \"usage:\\n\",\n  \"makeController(async (component, controller)=>{ await controller.use(someOtherController); });\"\n].join(\"\") : void 0;\nfunction toControllerHost(component) {\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n    if (\"addController\" in component) {\n      return component;\n    } else {\n      throw new Error(\n        \"Component does not implement ControllerHost. This might be because you forgot to add 'manager: Controller<this> = useControllerManager(this);' in your component, or you tried to use some controller before that line\"\n      );\n    }\n  } else {\n    return component;\n  }\n}\n\n// src/trackPropertyKey.ts\nimport { safeCall as safeCall2 } from \"@arcgis/components-utils\";\nfunction trackPropertyKey(object, onResolved, defaultValue) {\n  const keys = Object.keys(object);\n  const keyCount = keys.length;\n  if (keyTrackMap === void 0) {\n    queueMicrotask(keyTrackResolve);\n  }\n  keyTrackMap ?? (keyTrackMap = /* @__PURE__ */ new Map());\n  let pendingTrackers = keyTrackMap.get(object);\n  if (pendingTrackers === void 0) {\n    pendingTrackers = { callbacks: [], keyCount };\n    keyTrackMap.set(object, pendingTrackers);\n  }\n  if (pendingTrackers.keyCount !== keyCount) {\n    pendingTrackers.callbacks.forEach((resolve) => resolve(keys));\n    pendingTrackers.callbacks = [];\n    pendingTrackers.keyCount = keyCount;\n  }\n  pendingTrackers.callbacks.push((keys2) => {\n    const callback = (key2) => safeCall2(onResolved, null, key2);\n    const key = keys2[keyCount];\n    if (key === void 0) {\n      callback(void 0);\n    } else if (object[key] === defaultValue) {\n      callback(key);\n    } else {\n      callback(void 0);\n    }\n  });\n  return defaultValue;\n}\nvar keyTrackMap = void 0;\nfunction keyTrackResolve() {\n  Array.from(keyTrackMap?.entries() ?? []).forEach(([object, { callbacks }]) => {\n    const keys = Object.keys(object);\n    callbacks.forEach((commit) => commit(keys));\n  });\n  keyTrackMap = void 0;\n}\n\n// src/useWatch.ts\nimport { isEsriInternalEnv as isEsriInternalEnv4, safeCall as safeCall3 } from \"@arcgis/components-utils\";\nfunction watch(component, property, callback) {\n  var _a2;\n  const genericProperty = property;\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv4()) {\n    const type = getMemberType(component, genericProperty);\n    if (type === void 0) {\n      throw new Error(\n        component.manager.isLit ? `Trying to watch a non-@property, non-@state property \"${genericProperty}\". Either convert it into a @state() to be able to use watch() on it, or use the get/set syntax` : `Trying to watch a non-@Prop, non-@State property \"${genericProperty}\". Convert it into a @State() or @Prop property if you need to use watch() on it`\n      );\n    }\n  }\n  const internals = component.manager.internals;\n  (_a2 = internals.allWatchers)[genericProperty] ?? (_a2[genericProperty] = []);\n  const watchers = internals.allWatchers[genericProperty];\n  const genericCallback = callback;\n  const safeCallback = (newValue, oldValue, propertyName) => safeCall3(genericCallback, null, newValue, oldValue, propertyName);\n  watchers.push(safeCallback);\n  return () => {\n    const index = watchers.indexOf(safeCallback);\n    if (index !== -1) {\n      watchers.splice(index, 1);\n    }\n  };\n}\n\n// src/trackPropKey.ts\nimport { safeCall as safeCall4 } from \"@arcgis/components-utils\";\n\n// src/ComponentInternals.ts\nimport { isEsriInternalEnv as isEsriInternalEnv5 } from \"@arcgis/components-utils\";\nvar ComponentInternals = class {\n  constructor(component) {\n    /**\n     * When watchers are set, they are set into `allWatchers`. When watchers are\n     * read in the setter, they are read from `enabledWatchers`.\n     *\n     * In Stencil, on connectedCallback(), controller manager does\n     * `enabledWatchers=allWatchers`. Reasoning:\n     * - This disables watchers until connected callback (matches behavior of\n     *   Stencil's watchers)\n     * - This removes the need for a check in the setter for whether the watchers\n     *   were enabled already or not (as getters/setters are hot path, and should\n     *   be streamlined)\n     *\n     * In Lit, we set enabledWatchers to allWatchers in the constructor.\n     * Reasoning:\n     * - While in Stencil all user provided properties are either set before the\n     *   component constructor (this is possible since Stencil's props store is\n     *   externalized) or after connectedCallback, in Lit the properties may be\n     *   set by attributeChangedCallback before connectedCallback. Thus, we need\n     *   to enable watchers even before connectedCallback.\n     * - This means, that a watcher set for some prop before your component got\n     *   a chance to set the default value will trigger the watcher when the\n     *   default value is set - but, that is inline with Lit's willUpdate behavior\n     *   of triggering for default values AND, the only way to set a watcher\n     *   before default value is if you called watcher inside a controller. For\n     *   now, there are no controllers written outside of arcgis-map-components\n     *   package, so I was able to verify that this change would have no\n     *   negative impact.\n     *\n     * In either way, I plan to remove watchers from controllers once Stencil\n     * support is removed.\n     */\n    this.enabledWatchers = {};\n    this.allWatchers = {};\n    /**\n     * \"readOnly\" is not enabled initially since we need to allow to set property\n     * default values in the constructor.\n     * For Stencil, readonly is enabled by the `readonly()` controller.\n     * For Lit, we have the following logic:\n     */\n    this.enableReadonly = () => {\n      this.enableReadonly = void 0;\n      if (!this.component.manager.isLit) {\n        return;\n      }\n      const internals = this.component.manager.internals;\n      Object.entries(internals.members).forEach(([name2, [type]]) => {\n        var _a2;\n        const isReadOnly = type & 2048 /* ReadOnly */;\n        if (isReadOnly) {\n          (_a2 = internals.setters)[name2] ?? (_a2[name2] = []);\n          internals.setters[name2].push(internals.readonlySetter);\n        }\n      });\n    };\n    this.trackedValue = nothing;\n    this.keyTrackers = [];\n    this.getters = {};\n    this.setters = {};\n    this.accessorGetter = {};\n    this.accessorSetter = {};\n    this._exports = /* @__PURE__ */ new WeakMap();\n    this.readonlySetter = (newValue, _oldValue, property) => {\n      if (shouldBypass.readOnly) {\n        return newValue;\n      }\n      throw new Error(\n        `Cannot assign to read-only property \"${property}\" of ${this.component.el.tagName.toLowerCase()}. Trying to assign \"${String(\n          newValue\n        )}\"`\n      );\n    };\n    if (process.env.NODE_ENV !== \"production\") {\n      Object.defineProperty(this, \"component\", {\n        writable: false,\n        enumerable: false,\n        configurable: true,\n        value: component\n      });\n    } else {\n      this.component = component;\n    }\n  }\n  firePropTrackers(key, value) {\n    const trackers = this.keyTrackers;\n    this.trackedValue = nothing;\n    this.keyTrackers = [];\n    trackers.forEach((tracker) => tracker(key, value));\n  }\n  // REFACTOR: once Stencil is no longer supported, simplify this with Lit's getPropertyDescriptor(), or https://github.com/shoelace-style/shoelace/issues/1990\n  /**\n   * Configure a getter or setter for a given \\@Prop/\\@State\n   *\n   * Since props are defined on the prototype, they are shared between all\n   * instances of a component. Thus, instead of passing a reference to the\n   * getter/setter function, you should update the\n   * ComponentInternals.getters/setters properties, and then call getSetProxy\n   * to apply the changes to the prototype\n   */\n  getSetProxy(property) {\n    const component = this.component;\n    const classPrototype = component.constructor.prototype;\n    this._getSetProxy(classPrototype, property, \"class\");\n    if (component.manager.isLit) {\n      return;\n    }\n    const htmlPrototype = component.el.constructor.prototype;\n    if (classPrototype !== htmlPrototype) {\n      this._getSetProxy(htmlPrototype, property, \"html\");\n    }\n  }\n  _getSetProxy(prototype, name2, type) {\n    const component = this.component;\n    const propType = getMemberType(component, name2);\n    let descriptor;\n    do {\n      descriptor = Object.getOwnPropertyDescriptor(prototype, name2);\n    } while (!descriptor && (prototype = Object.getPrototypeOf(prototype)));\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv5()) {\n      const tolerateNotFound = type === \"html\";\n      if (descriptor?.set === void 0 || descriptor.get === void 0) {\n        if (descriptor !== void 0 && \"value\" in descriptor) {\n          throw new Error(\n            `getSet() should only be used on @Prop/@property/@State/@state properties. For internal component properties, use regular get/set syntax. Tried to use it on \"${name2}\" in ${component.el.tagName}`\n          );\n        } else if (tolerateNotFound) {\n          return;\n        } else {\n          throw new Error(`Unable to find \"${name2}\" property on the ${component.el.tagName} component`);\n        }\n      }\n      if (propType === void 0) {\n        throw new Error(\"Unable to retrieve prop type\");\n      }\n    } else if (!descriptor) {\n      return void 0;\n    }\n    const originalGet = descriptor.get;\n    const originalSet = descriptor.set;\n    const isGetterAlreadyOverwritten = customAccessor in originalGet;\n    const isSetterAlreadyOverwritten = customAccessor in originalSet;\n    if (isGetterAlreadyOverwritten && isSetterAlreadyOverwritten) {\n      return;\n    }\n    const shouldOverwriteGet = !isGetterAlreadyOverwritten;\n    const shouldOverwriteSet = !isSetterAlreadyOverwritten;\n    const finalGetter = shouldOverwriteGet ? function getter() {\n      let value = originalGet.call(this);\n      const component2 = elementToInstance.get(this);\n      if (shouldBypass.getter || component2 === void 0) {\n        return value;\n      }\n      const internals = component2.manager.internals;\n      value = internals.accessorGetter[name2](value, name2);\n      const getters = internals.getters[name2] ?? emptyArray;\n      for (let i = 0; i < getters.length; i++) {\n        value = getters[i](value, name2);\n      }\n      return value;\n    } : originalGet;\n    const finalSetter = shouldOverwriteSet ? function setter(rawNewValue) {\n      const oldValue = originalGet.call(this);\n      const component2 = elementToInstance.get(this);\n      if (component2 === void 0) {\n        originalSet.call(this, rawNewValue);\n        return;\n      }\n      let newValue = component2.manager.isLit ? (\n        /*\n         * Cast `null` to `undefined`.\n         * See https://devtopia.esri.com/WebGIS/arcgis-web-components/discussions/1299\n         */\n        rawNewValue ?? void 0\n      ) : parsePropertyValue(rawNewValue, propType);\n      const internals = component2.manager.internals;\n      if (newValue === oldValue) {\n        originalSet.call(this, newValue);\n      } else {\n        const setters = shouldBypass.setter ? emptyArray : internals.setters[name2] ?? emptyArray;\n        for (let i = 0; i < setters.length; i++) {\n          newValue = setters[i](newValue, oldValue, name2);\n          if (newValue === oldValue) {\n            break;\n          }\n        }\n        newValue = internals.accessorSetter[name2](newValue, oldValue, name2);\n        originalSet.call(this, newValue);\n        if (newValue !== oldValue) {\n          internals.enabledWatchers[name2]?.forEach((watcher) => watcher(newValue, oldValue, name2));\n        }\n      }\n      if (internals.keyTrackers.length > 0) {\n        internals?.firePropTrackers(name2, rawNewValue);\n      }\n    } : originalSet;\n    if (shouldOverwriteGet) {\n      finalGetter[customAccessor] = true;\n    }\n    if (shouldOverwriteSet) {\n      finalSetter[customAccessor] = true;\n    }\n    Object.defineProperty(prototype, name2, {\n      ...descriptor,\n      get: finalGetter,\n      set: finalSetter\n    });\n  }\n  /**\n   * Associate an exports object with a controller for reverse lookup in\n   * controller.use\n   */\n  markExports(controller, exports) {\n    if (typeof exports === \"object\" && exports !== null || typeof exports === \"function\") {\n      this._exports.set(exports, controller);\n    }\n  }\n  resolveExports(exports) {\n    if (typeof exports === \"object\" && exports !== null || typeof exports === \"function\") {\n      return this._exports.get(exports);\n    } else {\n      return void 0;\n    }\n  }\n};\nvar emptyArray = [];\nvar customAccessor = Symbol();\nvar nothing = process.env.NODE_ENV !== \"production\" ? Symbol.for(\n  // Use Symbol.for in dev mode to make it easier to maintain state when doing HMR.\n  `${name}: nothing`\n) : (\n  // eslint-disable-next-line symbol-description\n  Symbol()\n);\n\n// src/trackPropKey.ts\nfunction trackPropKey(component, onResolved, defaultValue) {\n  const internals = component.manager.internals;\n  if (internals.trackedValue !== nothing && internals.trackedValue !== defaultValue) {\n    internals.firePropTrackers(void 0, void 0);\n  }\n  if (internals.keyTrackers.length === 0) {\n    queueMicrotask(() => internals.firePropTrackers(void 0, void 0));\n  }\n  internals.trackedValue = defaultValue;\n  internals.keyTrackers.push((key, value) => safeCall4(onResolved, void 0, defaultValue === value ? key : void 0));\n  return defaultValue;\n}\n\n// src/trackKey.ts\nfunction trackKey(hostsCandidates = [\n  retrieveComponent(),\n  ...retrieveParentControllers()\n], onResolved, defaultValue) {\n  const candidateHosts = Array.isArray(hostsCandidates) ? hostsCandidates : [hostsCandidates];\n  let leftToResolve = candidateHosts.length + 1;\n  const resolved = (resolution) => {\n    leftToResolve -= 1;\n    if (resolution !== void 0) {\n      leftToResolve = Math.min(leftToResolve, 0);\n    }\n    if (leftToResolve === 0) {\n      onResolved(resolution);\n    }\n  };\n  candidateHosts.forEach(\n    (host) => trackPropertyKey(\n      host,\n      (key) => resolved(\n        key === void 0 ? void 0 : {\n          key,\n          host,\n          isReactive: false\n        }\n      ),\n      defaultValue\n    )\n  );\n  const component = candidateHosts.find(\n    (host) => \"manager\" in host && typeof host.manager === \"object\" && host.manager.component === host\n  );\n  if (component) {\n    trackPropKey(\n      component,\n      (key) => resolved(\n        key === void 0 ? void 0 : {\n          key,\n          host: component,\n          isReactive: true\n        }\n      ),\n      defaultValue\n    );\n  }\n  return defaultValue;\n}\n\n// src/getSet.ts\nimport { isEsriInternalEnv as isEsriInternalEnv6 } from \"@arcgis/components-utils\";\nfunction getSet(defaultValue, getSet2) {\n  const component = retrieveComponent();\n  return trackPropKey(\n    component,\n    (rawName) => {\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv6() && rawName === void 0) {\n        throw new Error(\n          \"Unable to resolve get/set's prop name. Make sure you are using it like @Prop() someProp = getSet(defaultValue,{get,set})\"\n        );\n      }\n      const name2 = rawName;\n      const manager = component.manager;\n      const genericComponent = component;\n      const value = genericComponent[name2];\n      const isStencilHotReload = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv6() && !manager.isLit && devOnlyGetPersistentControllerData?.(manager) === true;\n      if (value != null && value !== defaultValue && typeof getSet2.set === \"function\" && !isStencilHotReload) {\n        const newValue = getSet2.set(value, defaultValue, name2);\n        if (newValue !== value) {\n          if (manager.isLit) {\n            genericComponent[name2] = newValue;\n          } else {\n            let firstConnected = true;\n            manager.onConnected(() => {\n              if (!firstConnected) {\n                return;\n              }\n              firstConnected = true;\n              bypassSetter(() => {\n                genericComponent[name2] = newValue;\n              });\n            });\n          }\n        }\n      }\n      genericGetSet(component, name2, getSet2);\n    },\n    defaultValue\n  );\n}\nvar dynamicGetSet = (component, property, getSet2) => genericGetSet(component, property, getSet2);\nfunction bypassSetter(callback) {\n  shouldBypass.setter = true;\n  try {\n    return callback();\n  } finally {\n    shouldBypass.setter = false;\n  }\n}\nfunction bypassGetter(callback) {\n  shouldBypass.getter = true;\n  try {\n    return callback();\n  } finally {\n    shouldBypass.getter = false;\n  }\n}\nfunction genericGetSet(component, property, getSet2) {\n  var _a2, _b;\n  const genericGetSet2 = getSet2;\n  const internals = component.manager.internals;\n  const get = typeof genericGetSet2.get === \"function\" ? genericGetSet2.get : void 0;\n  if (get) {\n    (_a2 = internals.getters)[property] ?? (_a2[property] = []);\n    internals.getters[property].unshift(get);\n  }\n  const set = genericGetSet2.set === \"ignore\" ? ignoreSet : genericGetSet2.set;\n  if (set) {\n    (_b = internals.setters)[property] ?? (_b[property] = []);\n    internals.setters[property].unshift(\n      set\n    );\n  }\n}\nvar ignoreSet = (_, value) => value;\n\n// src/readonly.ts\nfunction readonly(value) {\n  const component = retrieveComponent();\n  return getSet(value, { set: component.manager.internals.readonlySetter });\n}\nfunction bypassReadOnly(callback) {\n  shouldBypass.readOnly = true;\n  try {\n    return callback();\n  } finally {\n    shouldBypass.readOnly = false;\n  }\n}\n\n// src/proxyExports.ts\nvar proxyExports = (Class) => (...args) => {\n  const ambientControllers2 = retrieveParentControllers();\n  const instance = new Class(...args);\n  const initialExports = instance.exports;\n  setParentController(ambientControllers2.at(-1));\n  const internals = instance.component.manager.internals;\n  internals.markExports(instance, initialExports);\n  instance.watchExports((exports) => internals.markExports(instance, exports));\n  setAmbientChildController(instance);\n  const hostCandidates = [instance.component, ...ambientControllers2].reverse();\n  return trackKey(\n    hostCandidates,\n    (resolution) => resolution === void 0 ? void 0 : setProxy(instance, resolution, initialExports),\n    initialExports\n  );\n};\nfunction setProxy(controller, { host, key, isReactive: assignedToProp }, initialExports) {\n  const genericHost = host;\n  const controllerValueChanged = genericHost[key] !== controller.exports;\n  const hostValueChanged = genericHost[key] !== initialExports;\n  const controllerUpdatedExports = initialExports !== controller.exports;\n  if (controllerValueChanged && !hostValueChanged && controllerUpdatedExports) {\n    genericHost[key] = controller.exports;\n  }\n  const isProxyExportsOnComponent = host === controller.component;\n  if (isProxyExportsOnComponent) {\n    if (assignedToProp) {\n      const internals = controller.component.manager.internals;\n      if (hostValueChanged) {\n        internals.markExports(controller, genericHost[key]);\n      }\n      watch(controller.component, key, (value) => {\n        if (value !== controller.exports) {\n          internals.markExports(controller, value);\n        }\n      });\n    }\n    controller.assignedProperty = assignedToProp ? void 0 : key;\n  }\n  controller.watchExports(() => {\n    if (genericHost[key] === controller.exports) {\n      return;\n    }\n    const manager = controller.component.manager;\n    const isReadOnly = manager.internals.setters[key]?.includes(manager.internals.readonlySetter);\n    if (isReadOnly) {\n      bypassReadOnly(() => {\n        genericHost[key] = controller.exports;\n      });\n    } else {\n      genericHost[key] = controller.exports;\n    }\n  });\n}\n\nexport {\n  controllerSymbol,\n  isController,\n  devOnlySetPersistentControllerData,\n  devOnlyGetPersistentControllerData,\n  setAmbientComponent,\n  retrieveComponent,\n  setParentController,\n  retrieveParentControllers,\n  elementToInstance,\n  Controller,\n  GenericController,\n  trackPropertyKey,\n  keyTrackResolve,\n  ComponentInternals,\n  watch,\n  trackPropKey,\n  trackKey,\n  getSet,\n  dynamicGetSet,\n  bypassSetter,\n  bypassGetter,\n  readonly,\n  bypassReadOnly,\n  proxyExports\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}