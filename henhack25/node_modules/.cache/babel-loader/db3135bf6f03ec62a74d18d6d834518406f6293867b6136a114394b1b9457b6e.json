{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Error.js\";\nimport { throwIfAborted as r } from \"../../core/promiseUtils.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../../geometry/Point.js\";\nimport { combineTimeExtent as a } from \"../../layers/support/timeSupport.js\";\nimport { load as p, getSourceScale as n } from \"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";\nimport u from \"../../rest/support/Query.js\";\nimport { getFetchPopupTemplate as c } from \"./support/popupUtils.js\";\nconst m = m => {\n  let l = class extends m {\n    constructor() {\n      super(...arguments), this.view = null;\n    }\n    get timeExtent() {\n      return a(this.layer, this.view?.timeExtent, this._get(\"timeExtent\"));\n    }\n    async fetchPopupFeaturesAtLocation(e, o) {\n      const {\n        layer: s\n      } = this;\n      if (!e) throw new t(\"imagerylayerview:fetchPopupFeatures\", \"Nothing to fetch without area\", {\n        layer: s\n      });\n      const {\n          popupEnabled: a\n        } = s,\n        p = c(s, o);\n      if (!a || null == p) return [];\n      const n = await p.getRequiredFields();\n      r(o);\n      const m = new u();\n      m.timeExtent = this.timeExtent, m.geometry = e, m.outFields = n, m.outSpatialReference = e.spatialReference;\n      const {\n          resolution: l,\n          spatialReference: y\n        } = this.view,\n        h = \"2d\" === this.view.type ? new i(l, l, y) : new i(.5 * l, .5 * l, y),\n        {\n          returnTopmostRaster: f,\n          showNoDataRecords: w\n        } = p.layerOptions || {\n          returnTopmostRaster: !0,\n          showNoDataRecords: !1\n        },\n        d = {\n          returnDomainValues: !0,\n          returnTopmostRaster: f,\n          pixelSize: h,\n          showNoDataRecords: w,\n          signal: o?.signal\n        };\n      return s.queryVisibleRasters(m, d).then(e => e);\n    }\n    async getSourceScale() {\n      return await p(), await this.layer.load(), n(this.layer.serviceRasterInfo, this.view.spatialReference);\n    }\n    canResume() {\n      return !!super.canResume() && !this.timeExtent?.isEmpty;\n    }\n  };\n  return e([o()], l.prototype, \"layer\", void 0), e([o()], l.prototype, \"suspended\", void 0), e([o({\n    readOnly: !0\n  })], l.prototype, \"timeExtent\", null), e([o()], l.prototype, \"view\", void 0), l = e([s(\"esri.views.layers.ImageryLayerView\")], l), l;\n};\nexport { m as default };","map":{"version":3,"names":["_","e","t","throwIfAborted","r","property","o","subclass","s","i","combineTimeExtent","a","load","p","getSourceScale","n","u","getFetchPopupTemplate","c","m","l","constructor","arguments","view","timeExtent","layer","_get","fetchPopupFeaturesAtLocation","popupEnabled","getRequiredFields","geometry","outFields","outSpatialReference","spatialReference","resolution","y","h","type","returnTopmostRaster","f","showNoDataRecords","w","layerOptions","d","returnDomainValues","pixelSize","signal","queryVisibleRasters","then","serviceRasterInfo","canResume","isEmpty","prototype","readOnly","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/layers/ImageryLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combineTimeExtent as a}from\"../../layers/support/timeSupport.js\";import{load as p,getSourceScale as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import u from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as c}from\"./support/popupUtils.js\";const m=m=>{let l=class extends m{constructor(){super(...arguments),this.view=null}get timeExtent(){return a(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}async fetchPopupFeaturesAtLocation(e,o){const{layer:s}=this;if(!e)throw new t(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s,p=c(s,o);if(!a||null==p)return[];const n=await p.getRequiredFields();r(o);const m=new u;m.timeExtent=this.timeExtent,m.geometry=e,m.outFields=n,m.outSpatialReference=e.spatialReference;const{resolution:l,spatialReference:y}=this.view,h=\"2d\"===this.view.type?new i(l,l,y):new i(.5*l,.5*l,y),{returnTopmostRaster:f,showNoDataRecords:w}=p.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},d={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:h,showNoDataRecords:w,signal:o?.signal};return s.queryVisibleRasters(m,d).then((e=>e))}async getSourceScale(){return await p(),await this.layer.load(),n(this.layer.serviceRasterInfo,this.view.spatialReference)}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([o()],l.prototype,\"layer\",void 0),e([o()],l.prototype,\"suspended\",void 0),e([o({readOnly:!0})],l.prototype,\"timeExtent\",null),e([o()],l.prototype,\"view\",void 0),l=e([s(\"esri.views.layers.ImageryLayerView\")],l),l};export{m as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}