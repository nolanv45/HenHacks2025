{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport has from \"../../../../core/has.js\";\nimport { destroyMaybe as s } from \"../../../../core/maybe.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { PooledRBush as n } from \"../../../../core/libs/rbush/PooledRBush.js\";\nimport { fromRect as o } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { getObjectId as a } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nlet d = class extends e {\n  constructor(t) {\n    super(t), this._index = new n(9, has(\"esri-csp-restrictions\") ? t => ({\n      minX: t.extent[0],\n      minY: t.extent[1],\n      maxX: t.extent[2],\n      maxY: t.extent[3]\n    }) : [\".extent[0]\", \".extent[1]\", \".extent[2]\", \".extent[3]\"]), this._missing = new Set(), this._boundsByFeature = new Map(), this.spatialReference = null, this.hasZ = null, this.hasM = null, this.objectIdField = null, this.updating = !1;\n  }\n  setup(t) {\n    this._addMany(t);\n  }\n  destroy() {\n    this._missing.clear(), this._index = s(this._index), this._boundsByFeature.clear(), this._boundsByFeature = null;\n  }\n  update() {\n    this._missing.size > 0 && (this._addMany(Array.from(this._missing.values())), this.updating = !1, this._missing.clear());\n  }\n  get updatingRemaining() {\n    return this._missing.size;\n  }\n  queryGraphicUIDsInExtent(t, e, s) {\n    null != e && e.equals(this.spatialReference) && (u.minX = t[0], u.minY = t[1], u.maxX = t[2], u.maxY = t[3], this.update(), this._index.search(u, t => s(t.graphic.uid)));\n  }\n  add(t) {\n    this._missing.add(t), this.updating = !0;\n  }\n  remove(t) {\n    if (this._missing.delete(t)) return void (this.updating = this._missing.size > 0);\n    if (!t.extent) return;\n    this._index.remove(t);\n    const e = a(t.graphic, this._get(\"objectIdField\"));\n    null != e && this._boundsByFeature.delete(e);\n  }\n  _addMany(t) {\n    if (0 === t.length) return;\n    const e = this._get(\"objectIdField\");\n    for (const s of t) {\n      s.computeExtent(this.spatialReference);\n      const t = a(s.graphic, e);\n      null != t && this._boundsByFeature.set(t, s.extent);\n    }\n    this._index.load(t);\n  }\n  clear() {\n    this._index.clear(), this._missing.clear(), this._boundsByFeature.clear(), this.updating = !1;\n  }\n  forEachInBounds(t, e) {\n    u.minX = t[0], u.minY = t[1], u.maxX = t[2], u.maxY = t[3], this.update(), this._index.search(u, t => {\n      e(t);\n    });\n  }\n  getBounds(t, e) {\n    this.update();\n    const s = this._boundsByFeature.get(t);\n    return s ? o(e, s) : null;\n  }\n};\nt([i({\n  constructOnly: !0\n})], d.prototype, \"spatialReference\", void 0), t([i({\n  constructOnly: !0\n})], d.prototype, \"hasZ\", void 0), t([i({\n  constructOnly: !0\n})], d.prototype, \"hasM\", void 0), t([i({\n  constructOnly: !0\n})], d.prototype, \"objectIdField\", void 0), t([i()], d.prototype, \"updating\", void 0), t([i({\n  readOnly: !0\n})], d.prototype, \"updatingRemaining\", null), d = t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")], d);\nconst u = {\n  minX: 0,\n  minY: 0,\n  maxX: 0,\n  maxY: 0\n};\nexport { d as SpatialIndex2D };","map":{"version":3,"names":["_","t","e","has","destroyMaybe","s","property","i","subclass","r","PooledRBush","n","fromRect","o","getObjectId","a","d","constructor","_index","minX","extent","minY","maxX","maxY","_missing","Set","_boundsByFeature","Map","spatialReference","hasZ","hasM","objectIdField","updating","setup","_addMany","destroy","clear","update","size","Array","from","values","updatingRemaining","queryGraphicUIDsInExtent","equals","u","search","graphic","uid","add","remove","delete","_get","length","computeExtent","set","load","forEachInBounds","getBounds","get","constructOnly","prototype","readOnly","SpatialIndex2D"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,has(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index=s(this._index),this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){null!=e&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>s(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);if(!t.extent)return;this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}