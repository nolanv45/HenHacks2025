{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Error.js\";\nimport has from \"../../../../core/has.js\";\nimport { releaseMaybe as t } from \"../../../../core/maybe.js\";\nimport { isPromiseLike as s } from \"../../../../core/promiseUtils.js\";\nimport { pt2px as r } from \"../../../../core/screenUtils.js\";\nimport { fromValues as o, ZEROS as n, create as i } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { freeze as a } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { fromValues as l } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { hasCalloutSupport as c, textSymbolLayerSupportsVerticalOffset as m } from \"../../../../symbols/callouts/calloutUtils.js\";\nimport { focusAreaHUDColor as f } from \"../../../FocusAreas.js\";\nimport { perObjectElevationAligner as h } from \"./ElevationAligners.js\";\nimport { SymbolUpdateType as u, needsElevationUpdates2D as p } from \"./elevationAlignmentUtils.js\";\nimport { ElevationContext as d } from \"./ElevationContext.js\";\nimport { Graphics3DObject3DGraphicLayer as g } from \"./Graphics3DObject3DGraphicLayer.js\";\nimport { Graphics3DObjectMetadata as y } from \"./Graphics3DObjectMetadata.js\";\nimport { Graphics3DSymbolLayer as x } from \"./Graphics3DSymbolLayer.js\";\nimport { validateSymbolLayerSize as v } from \"./graphicUtils.js\";\nimport { LabelParameters as b, LabelPlacement as O } from \"./LabelParameters.js\";\nimport { verticalScreenOffsetFromAlignment as P, verticalPlacementFromAlignment as w, textRenderAlignmentFromHorizontalPlacement as _, horizontalPlacementToAnchorX as j, anchorFromPlacements as E, namedAnchorToHUDMaterialAnchorPos as S } from \"./placementUtils.js\";\nimport { placePointOnGeometry as L, updateStageObjectGeometry as G, getLocalOriginForPoint as A, extendPointGraphicElevationContext as C, createStageObject as z } from \"./pointUtils.js\";\nimport { getFontMetrics as F } from \"../../webgl-engine/lib/FontMetrics.js\";\nimport { createPointGeometry as U } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { TextRenderParameters as D } from \"../../webgl-engine/lib/TextRenderParameters.js\";\nimport R from \"../../webgl-engine/lib/TextTextureFactory.js\";\nimport { HUDMaterial as T } from \"../../webgl-engine/materials/HUDMaterial.js\";\nconst H = a(0, 0, 1);\nclass W extends x {\n  constructor(e, t, s, r) {\n    super(e, t, s, r), this._elevationOptions = {\n      supportsOffsetAdjustment: !0,\n      supportsOnTheGround: !1\n    }, this.ensureDrapedStatus(!1);\n  }\n  async doLoad() {\n    if (!this._drivenProperties.size) {\n      const t = v(this.symbolLayer.size);\n      if (t) throw new e(\"graphics3dtextsymbollayer:invalid-size\", t);\n    }\n    await this._createTextRenderParameters();\n  }\n  async _createTextRenderParameters() {\n    const e = this._context.graphicsCoreOwner.view.state.rasterPixelRatio;\n    this._textRenderParameters = await D.fromSymbol(this.symbolLayer, e);\n  }\n  destroy() {\n    super.destroy();\n  }\n  createGraphics3DGraphic(e) {\n    const t = e.graphic,\n      s = L(t.geometry);\n    if (null == s) return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`), null;\n    const r = this._context.stage.view.focusAreas.containsGeometry(s),\n      o = this.symbolLayer.text;\n    if (null == o || \"\" === o) return null;\n    const n = c(this.symbol) && this.symbol.hasVisibleVerticalOffset() ? this.symbol.verticalOffset : null;\n    if (null != n && !m(this.symbolLayer)) return this.logger.errorOncePerTick(`Callouts and vertical offset on text symbols are currently only supported with 'center' horizontal alignment (not with '${this.symbolLayer.horizontalAlignment}' alignment)`), null;\n    const {\n        verticalAlignment: i\n      } = this.symbolLayer,\n      a = new O(n);\n    P(i, a.screenOffset);\n    const l = new b(a, this.symbolLayer.horizontalAlignment, w(i));\n    return l.isFocused = r ?? l.isFocused, this._createAs3DShape(t, s, o, l);\n  }\n  updateFocus(e, t) {\n    t.forEach(t => {\n      const s = this._context.stage.view.focusAreas.containsGeometry(t.graphic.geometry);\n      t.layers.forEach(r => {\n        if (r?.graphics3DSymbolLayer === this) {\n          r.stageObject.geometries.some(e => e.material.parameters.isFocused !== s) && e(t);\n        }\n      });\n    });\n  }\n  createLabel(e, t, s, r, o) {\n    const n = e.graphic,\n      i = L(n.geometry);\n    if (null == i) return this.logger.warn(`unsupported geometry type for label: ${n.geometry.type}`), null;\n    const a = this._context.stage.view.focusAreas.containsGeometry(i),\n      l = t.text;\n    return !l || /^\\s+$/.test(l) ? null : (t.isFocused = a ?? t.isFocused, this._createAs3DShape(n, i, l, t, s, r, o));\n  }\n  setGraphicElevationContext(e, t = new d(), s = 0) {\n    return super.setGraphicElevationContext(e, t), t.addOffsetRenderUnits(s), t;\n  }\n  layerOpacityChanged() {\n    return this.logger.warn(\"layer opacity change not yet implemented in Graphics3DTextSymbolLayer\"), !1;\n  }\n  layerElevationInfoChanged(e, t) {\n    return I(e, t, (e, t) => {\n      this.updateGraphicElevationContext(t, e);\n    }), u.UPDATE;\n  }\n  slicePlaneEnabledChanged(e, t) {\n    return I(e, t, e => {\n      for (const t of e.stageObject.geometries) t.material.setParameters({\n        hasSlicePlane: this._context.slicePlaneEnabled\n      });\n    }), !0;\n  }\n  physicalBasedRenderingChanged() {\n    return !0;\n  }\n  get pixelRatioChanged() {\n    return !1;\n  }\n  updateGraphicElevationContext(e, t) {\n    const {\n      elevationContext: s,\n      metadata: r\n    } = t;\n    this.setGraphicElevationContext(e, s, r?.elevationOffset ?? 0), t.needsElevationUpdates = p(s.mode) || \"absolute-height\" === s.mode;\n  }\n  updateGeometry(e, t) {\n    if (this.draped || !this._validateGeometry(t)) return !1;\n    const {\n      elevationContext: s,\n      stageObject: r\n    } = e;\n    if (s.mode !== this.getGeometryElevationMode(t)) return !1;\n    const o = L(t);\n    if (!o) return !1;\n    const n = G(r, this._context, o, s);\n    if (null == n) return !1;\n    const i = A(this._context, o);\n    return r.geometries[0].localOrigin === i && (e.alignedSampledElevation = n, C(e, o, this._context.elevationProvider), !0);\n  }\n  _defaultElevationInfoNoZ() {\n    return V;\n  }\n  _createAs3DShape(e, a, c, m, u = null, x = null, v = () => m.placement.elevationOffset) {\n    const b = this.setGraphicElevationContext(e, new d(), m.placement.elevationOffset),\n      O = \"polyline\" === e.geometry?.type,\n      P = e.uid;\n    let w = null,\n      j = null;\n    if (null == x) {\n      const e = _(m.horizontalPlacement);\n      w = new R(c, e, this._textRenderParameters);\n      let r = null;\n      if (null != this._context.sharedResources.textures) {\n        j = this._context.sharedResources.textures.fromData(w.key, () => w.create()), j.texture.events.on(\"unloaded\", () => r = t(r));\n        const e = this._context.stage.renderView.textures.acquire(j.texture.id);\n        if (null == e || s(e)) return j.release(), null;\n        r = e;\n      }\n    }\n    const E = !!has(\"enable-feature:non-occluded-hud\"),\n      S = M(w, m),\n      L = {\n        occlusionTest: !E,\n        occludedFragmentFade: E,\n        horizonCullingEnabled: E && this._context.spherical,\n        screenOffset: m.placement.screenOffset,\n        anchorPosition: S,\n        polygonOffset: !0,\n        color: [1, 1, 1, 1],\n        centerOffsetUnits: m.placement.centerOffsetUnits,\n        depthEnabled: !1,\n        drawAsLabel: !0,\n        isLabel: !0,\n        isFocused: m.isFocused\n      };\n    if (O && (L.shaderPolygonOffset = 1e-4), x ? L.textureId = x.id : j && (L.textureId = j.texture.id), null != m.placement.verticalOffset) {\n      const {\n        screenLength: e,\n        minWorldLength: t,\n        maxWorldLength: s\n      } = m.placement.verticalOffset;\n      L.verticalOffset = {\n        screenLength: r(e),\n        minWorldLength: t || 0,\n        maxWorldLength: null != s ? s : 1 / 0\n      };\n    }\n    const G = this._context.graphicsCoreOwner.view.focusAreas.activePolygons.length,\n      A = {\n        screenOffset: L.screenOffset,\n        anchorPosition: S,\n        centerOffsetUnits: L.centerOffsetUnits,\n        verticalOffset: L.verticalOffset,\n        shaderPolygonOffset: L.shaderPolygonOffset,\n        occlusionTest: L.occlusionTest,\n        isFocused: m.isFocused,\n        focusEffect: this._context.stage.view.focusAreas?.style\n      };\n    if (this._context.screenSizePerspectiveEnabled) {\n      const {\n          screenSizePerspectiveSettings: e,\n          screenSizePerspectiveSettingsLabels: t\n        } = this._context.sharedResources,\n        s = F(this._textRenderParameters);\n      L.screenSizePerspective = t.overrideFontHeight(s.maxHeight), L.screenSizePerspectiveAlignment = e, A.fontHeight = s.maxHeight;\n    }\n    L.hasSlicePlane = this._context.slicePlaneEnabled;\n    const D = this._context.spherical,\n      W = u ? JSON.stringify(A) : \"\";\n    let I = u?.get(W);\n    if (null == I) {\n      if (!m.isFocused && G > 0) {\n        const e = this._context.stage.view.focusAreas?.style;\n        L.color = f(L.color, e), L.outlineColor = f(L.outlineColor, e);\n      }\n      I = new T(L, D), u?.add(W, I);\n    }\n    const V = m.placement.translation,\n      $ = w ? o(w.displayWidth, w.displayHeight) : n,\n      k = m.placement.centerOffset,\n      N = H,\n      q = x ? l(0, 0, 0, 0) : null,\n      B = U(I, {\n        normal: N,\n        position: V,\n        size: $,\n        centerOffsetAndDistance: k,\n        uvs: q\n      }),\n      J = z(this._context, a, B, b, P);\n    if (null == J) return null;\n    const Y = (t, s, r, o, n, i) => {\n        const a = v() || m.placement.elevationOffset,\n          l = this.setGraphicElevationContext(e, s, a);\n        return h(t, l, r, o, n, i);\n      },\n      Z = new g(this, J.object, [B], null == u ? [I] : null, j, Y, b);\n    Z.alignedSampledElevation = J.sampledElevation, Z.needsElevationUpdates = p(b.mode) || \"absolute-height\" === b.mode, Z.getScreenSize = (e = i()) => (e[0] = w ? w.displayWidth : m.displaySize[0], e[1] = w ? w.displayHeight : m.displaySize[1], e);\n    const K = new y(m.placement.elevationOffset, c);\n    return Z.metadata = K, C(Z, a, this._context.elevationProvider), Z;\n  }\n}\nfunction I(e, t, s) {\n  e?.forEach(e => {\n    const r = t(e);\n    null != r && s(r, e.graphic);\n  });\n}\nfunction M(e, t) {\n  if (\"baseline\" === t.verticalPlacement) {\n    const s = j[t.horizontalPlacement],\n      r = null != e ? e.baselineAnchorY : 0;\n    return o(s, r);\n  }\n  const s = E(t.horizontalPlacement, t.verticalPlacement);\n  return S[s];\n}\nconst V = {\n  mode: \"relative-to-ground\",\n  offset: 0\n};\nexport { W as Graphics3DTextSymbolLayer };","map":{"version":3,"names":["e","has","releaseMaybe","t","isPromiseLike","s","pt2px","r","fromValues","o","ZEROS","n","create","i","freeze","a","l","hasCalloutSupport","c","textSymbolLayerSupportsVerticalOffset","m","focusAreaHUDColor","f","perObjectElevationAligner","h","SymbolUpdateType","u","needsElevationUpdates2D","p","ElevationContext","d","Graphics3DObject3DGraphicLayer","g","Graphics3DObjectMetadata","y","Graphics3DSymbolLayer","x","validateSymbolLayerSize","v","LabelParameters","b","LabelPlacement","O","verticalScreenOffsetFromAlignment","P","verticalPlacementFromAlignment","w","textRenderAlignmentFromHorizontalPlacement","_","horizontalPlacementToAnchorX","j","anchorFromPlacements","E","namedAnchorToHUDMaterialAnchorPos","S","placePointOnGeometry","L","updateStageObjectGeometry","G","getLocalOriginForPoint","A","extendPointGraphicElevationContext","C","createStageObject","z","getFontMetrics","F","createPointGeometry","U","TextRenderParameters","D","R","HUDMaterial","T","H","W","constructor","_elevationOptions","supportsOffsetAdjustment","supportsOnTheGround","ensureDrapedStatus","doLoad","_drivenProperties","size","symbolLayer","_createTextRenderParameters","_context","graphicsCoreOwner","view","state","rasterPixelRatio","_textRenderParameters","fromSymbol","destroy","createGraphics3DGraphic","graphic","geometry","logger","warn","type","stage","focusAreas","containsGeometry","text","symbol","hasVisibleVerticalOffset","verticalOffset","errorOncePerTick","horizontalAlignment","verticalAlignment","screenOffset","isFocused","_createAs3DShape","updateFocus","forEach","layers","graphics3DSymbolLayer","stageObject","geometries","some","material","parameters","createLabel","test","setGraphicElevationContext","addOffsetRenderUnits","layerOpacityChanged","layerElevationInfoChanged","I","updateGraphicElevationContext","UPDATE","slicePlaneEnabledChanged","setParameters","hasSlicePlane","slicePlaneEnabled","physicalBasedRenderingChanged","pixelRatioChanged","elevationContext","metadata","elevationOffset","needsElevationUpdates","mode","updateGeometry","draped","_validateGeometry","getGeometryElevationMode","localOrigin","alignedSampledElevation","elevationProvider","_defaultElevationInfoNoZ","V","placement","uid","horizontalPlacement","sharedResources","textures","fromData","key","texture","events","on","renderView","acquire","id","release","M","occlusionTest","occludedFragmentFade","horizonCullingEnabled","spherical","anchorPosition","polygonOffset","color","centerOffsetUnits","depthEnabled","drawAsLabel","isLabel","shaderPolygonOffset","textureId","screenLength","minWorldLength","maxWorldLength","activePolygons","length","focusEffect","style","screenSizePerspectiveEnabled","screenSizePerspectiveSettings","screenSizePerspectiveSettingsLabels","screenSizePerspective","overrideFontHeight","maxHeight","screenSizePerspectiveAlignment","fontHeight","JSON","stringify","get","outlineColor","add","translation","$","displayWidth","displayHeight","k","centerOffset","N","q","B","normal","position","centerOffsetAndDistance","uvs","J","Y","Z","object","sampledElevation","getScreenSize","displaySize","K","verticalPlacement","baselineAnchorY","offset","Graphics3DTextSymbolLayer"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{releaseMaybe as t}from\"../../../../core/maybe.js\";import{isPromiseLike as s}from\"../../../../core/promiseUtils.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{fromValues as o,ZEROS as n,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{freeze as a}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasCalloutSupport as c,textSymbolLayerSupportsVerticalOffset as m}from\"../../../../symbols/callouts/calloutUtils.js\";import{focusAreaHUDColor as f}from\"../../../FocusAreas.js\";import{perObjectElevationAligner as h}from\"./ElevationAligners.js\";import{SymbolUpdateType as u,needsElevationUpdates2D as p}from\"./elevationAlignmentUtils.js\";import{ElevationContext as d}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as g}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DObjectMetadata as y}from\"./Graphics3DObjectMetadata.js\";import{Graphics3DSymbolLayer as x}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as v}from\"./graphicUtils.js\";import{LabelParameters as b,LabelPlacement as O}from\"./LabelParameters.js\";import{verticalScreenOffsetFromAlignment as P,verticalPlacementFromAlignment as w,textRenderAlignmentFromHorizontalPlacement as _,horizontalPlacementToAnchorX as j,anchorFromPlacements as E,namedAnchorToHUDMaterialAnchorPos as S}from\"./placementUtils.js\";import{placePointOnGeometry as L,updateStageObjectGeometry as G,getLocalOriginForPoint as A,extendPointGraphicElevationContext as C,createStageObject as z}from\"./pointUtils.js\";import{getFontMetrics as F}from\"../../webgl-engine/lib/FontMetrics.js\";import{createPointGeometry as U}from\"../../webgl-engine/lib/GeometryUtil.js\";import{TextRenderParameters as D}from\"../../webgl-engine/lib/TextRenderParameters.js\";import R from\"../../webgl-engine/lib/TextTextureFactory.js\";import{HUDMaterial as T}from\"../../webgl-engine/materials/HUDMaterial.js\";const H=a(0,0,1);class W extends x{constructor(e,t,s,r){super(e,t,s,r),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=v(this.symbolLayer.size);if(t)throw new e(\"graphics3dtextsymbollayer:invalid-size\",t)}await this._createTextRenderParameters()}async _createTextRenderParameters(){const e=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;this._textRenderParameters=await D.fromSymbol(this.symbolLayer,e)}destroy(){super.destroy()}createGraphics3DGraphic(e){const t=e.graphic,s=L(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;const r=this._context.stage.view.focusAreas.containsGeometry(s),o=this.symbolLayer.text;if(null==o||\"\"===o)return null;const n=c(this.symbol)&&this.symbol.hasVisibleVerticalOffset()?this.symbol.verticalOffset:null;if(null!=n&&!m(this.symbolLayer))return this.logger.errorOncePerTick(`Callouts and vertical offset on text symbols are currently only supported with 'center' horizontal alignment (not with '${this.symbolLayer.horizontalAlignment}' alignment)`),null;const{verticalAlignment:i}=this.symbolLayer,a=new O(n);P(i,a.screenOffset);const l=new b(a,this.symbolLayer.horizontalAlignment,w(i));return l.isFocused=r??l.isFocused,this._createAs3DShape(t,s,o,l)}updateFocus(e,t){t.forEach((t=>{const s=this._context.stage.view.focusAreas.containsGeometry(t.graphic.geometry);t.layers.forEach((r=>{if(r?.graphics3DSymbolLayer===this){r.stageObject.geometries.some((e=>e.material.parameters.isFocused!==s))&&e(t)}}))}))}createLabel(e,t,s,r,o){const n=e.graphic,i=L(n.geometry);if(null==i)return this.logger.warn(`unsupported geometry type for label: ${n.geometry.type}`),null;const a=this._context.stage.view.focusAreas.containsGeometry(i),l=t.text;return!l||/^\\s+$/.test(l)?null:(t.isFocused=a??t.isFocused,this._createAs3DShape(n,i,l,t,s,r,o))}setGraphicElevationContext(e,t=new d,s=0){return super.setGraphicElevationContext(e,t),t.addOffsetRenderUnits(s),t}layerOpacityChanged(){return this.logger.warn(\"layer opacity change not yet implemented in Graphics3DTextSymbolLayer\"),!1}layerElevationInfoChanged(e,t){return I(e,t,((e,t)=>{this.updateGraphicElevationContext(t,e)})),u.UPDATE}slicePlaneEnabledChanged(e,t){return I(e,t,(e=>{for(const t of e.stageObject.geometries)t.material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return!1}updateGraphicElevationContext(e,t){const{elevationContext:s,metadata:r}=t;this.setGraphicElevationContext(e,s,r?.elevationOffset??0),t.needsElevationUpdates=p(s.mode)||\"absolute-height\"===s.mode}updateGeometry(e,t){if(this.draped||!this._validateGeometry(t))return!1;const{elevationContext:s,stageObject:r}=e;if(s.mode!==this.getGeometryElevationMode(t))return!1;const o=L(t);if(!o)return!1;const n=G(r,this._context,o,s);if(null==n)return!1;const i=A(this._context,o);return r.geometries[0].localOrigin===i&&(e.alignedSampledElevation=n,C(e,o,this._context.elevationProvider),!0)}_defaultElevationInfoNoZ(){return V}_createAs3DShape(e,a,c,m,u=null,x=null,v=()=>m.placement.elevationOffset){const b=this.setGraphicElevationContext(e,new d,m.placement.elevationOffset),O=\"polyline\"===e.geometry?.type,P=e.uid;let w=null,j=null;if(null==x){const e=_(m.horizontalPlacement);w=new R(c,e,this._textRenderParameters);let r=null;if(null!=this._context.sharedResources.textures){j=this._context.sharedResources.textures.fromData(w.key,(()=>w.create())),j.texture.events.on(\"unloaded\",(()=>r=t(r)));const e=this._context.stage.renderView.textures.acquire(j.texture.id);if(null==e||s(e))return j.release(),null;r=e}}const E=!!has(\"enable-feature:non-occluded-hud\"),S=M(w,m),L={occlusionTest:!E,occludedFragmentFade:E,horizonCullingEnabled:E&&this._context.spherical,screenOffset:m.placement.screenOffset,anchorPosition:S,polygonOffset:!0,color:[1,1,1,1],centerOffsetUnits:m.placement.centerOffsetUnits,depthEnabled:!1,drawAsLabel:!0,isLabel:!0,isFocused:m.isFocused};if(O&&(L.shaderPolygonOffset=1e-4),x?L.textureId=x.id:j&&(L.textureId=j.texture.id),null!=m.placement.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:s}=m.placement.verticalOffset;L.verticalOffset={screenLength:r(e),minWorldLength:t||0,maxWorldLength:null!=s?s:1/0}}const G=this._context.graphicsCoreOwner.view.focusAreas.activePolygons.length,A={screenOffset:L.screenOffset,anchorPosition:S,centerOffsetUnits:L.centerOffsetUnits,verticalOffset:L.verticalOffset,shaderPolygonOffset:L.shaderPolygonOffset,occlusionTest:L.occlusionTest,isFocused:m.isFocused,focusEffect:this._context.stage.view.focusAreas?.style};if(this._context.screenSizePerspectiveEnabled){const{screenSizePerspectiveSettings:e,screenSizePerspectiveSettingsLabels:t}=this._context.sharedResources,s=F(this._textRenderParameters);L.screenSizePerspective=t.overrideFontHeight(s.maxHeight),L.screenSizePerspectiveAlignment=e,A.fontHeight=s.maxHeight}L.hasSlicePlane=this._context.slicePlaneEnabled;const D=this._context.spherical,W=u?JSON.stringify(A):\"\";let I=u?.get(W);if(null==I){if(!m.isFocused&&G>0){const e=this._context.stage.view.focusAreas?.style;L.color=f(L.color,e),L.outlineColor=f(L.outlineColor,e)}I=new T(L,D),u?.add(W,I)}const V=m.placement.translation,$=w?o(w.displayWidth,w.displayHeight):n,k=m.placement.centerOffset,N=H,q=x?l(0,0,0,0):null,B=U(I,{normal:N,position:V,size:$,centerOffsetAndDistance:k,uvs:q}),J=z(this._context,a,B,b,P);if(null==J)return null;const Y=(t,s,r,o,n,i)=>{const a=v()||m.placement.elevationOffset,l=this.setGraphicElevationContext(e,s,a);return h(t,l,r,o,n,i)},Z=new g(this,J.object,[B],null==u?[I]:null,j,Y,b);Z.alignedSampledElevation=J.sampledElevation,Z.needsElevationUpdates=p(b.mode)||\"absolute-height\"===b.mode,Z.getScreenSize=(e=i())=>(e[0]=w?w.displayWidth:m.displaySize[0],e[1]=w?w.displayHeight:m.displaySize[1],e);const K=new y(m.placement.elevationOffset,c);return Z.metadata=K,C(Z,a,this._context.elevationProvider),Z}}function I(e,t,s){e?.forEach((e=>{const r=t(e);null!=r&&s(r,e.graphic)}))}function M(e,t){if(\"baseline\"===t.verticalPlacement){const s=j[t.horizontalPlacement],r=null!=e?e.baselineAnchorY:0;return o(s,r)}const s=E(t.horizontalPlacement,t.verticalPlacement);return S[s]}const V={mode:\"relative-to-ground\",offset:0};export{W as Graphics3DTextSymbolLayer};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}