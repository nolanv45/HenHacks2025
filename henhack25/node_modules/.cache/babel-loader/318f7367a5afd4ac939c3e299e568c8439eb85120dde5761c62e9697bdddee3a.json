{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport \"../../../../../core/has.js\";\nimport e from \"../../../../../core/Logger.js\";\nimport { numericHash as r } from \"../../../../../core/string.js\";\nimport { Float as o, Int as n, Vec4 as s, Vec2 as i } from \"./graph/glsl.js\";\nimport { GlslShaderWriter as p } from \"./graph/GlslGraphWriter.js\";\nimport { ShaderGraphContext as a } from \"./graph/ShaderGraphContext.js\";\nimport { setReachableUids as u } from \"./graph/ShaderGraphNode.js\";\nimport { TypedShaderProgram as c } from \"./typed/TypedShaderProgram.js\";\nimport { ShaderBuilder as y } from \"../../../../webgl/ShaderBuilder.js\";\nfunction d(t) {\n  return new t();\n}\nfunction f(t, e, r) {\n  const o = t.constructor[e] ?? [];\n  t.constructor.hasOwnProperty(e) || Object.defineProperty(t.constructor, e, {\n    value: o.slice()\n  }), t.constructor[e].push(r);\n}\nfunction h(t, e) {\n  return (r, o) => {\n    f(r, \"locations\", {\n      typeCtor: e,\n      propertyKey: o,\n      parameterIndex: null,\n      index: t\n    });\n  };\n}\nconst l = t => (e, r) => {\n    f(e, \"builtins\", {\n      builtin: t,\n      propertyKey: r\n    });\n  },\n  m = t => (e, r, o) => {\n    f(e, \"inputs\", {\n      inputCtor: t,\n      propertyKey: r,\n      parameterIndex: o\n    });\n  },\n  g = t => (e, r) => {\n    f(e, \"uniforms\", {\n      typeCtor: t,\n      propertyKey: r\n    });\n  },\n  _ = t => (e, r) => {\n    f(e, \"options\", {\n      typeCtor: t,\n      propertyKey: r\n    });\n  },\n  K = (t, e) => {\n    f(t, \"defines\", {\n      propertyKey: e\n    });\n  };\nfunction x(t) {\n  return (e, r) => {\n    f(e, \"transformFeedbackBindings\", {\n      propertyKey: r,\n      parameterIndex: null,\n      index: t\n    });\n  };\n}\nconst b = (t, e) => (r, o) => {\n  r.constructor.builtins.push({\n    builtin: t,\n    propertyKey: o,\n    typeCtor: e\n  });\n};\nclass C {}\nC.builtins = [], t([b(\"gl_VertexID\", n)], C.prototype, \"glVertexID\", void 0);\nclass I {}\nclass v {}\nv.builtins = [], t([b(\"gl_FragCoord\", s)], v.prototype, \"glFragCoord\", void 0), t([b(\"gl_PointCoord\", i)], v.prototype, \"glPointCoord\", void 0);\nclass w {}\nt([l(\"gl_FragDepth\")], w.prototype, \"glFragDepth\", void 0);\nclass P {\n  constructor() {\n    this.type = \"uniform-group\";\n  }\n  get _uniforms() {\n    return this.constructor.uniforms ?? [];\n  }\n}\nclass j {\n  constructor() {\n    this.logShader = !1, this.computeAttributes = {};\n  }\n  get vertexInput() {\n    const t = this._shaderModuleClass.inputs.findLast(t => \"vertex\" === t.propertyKey && 0 === t.parameterIndex);\n    if (!t) throw new Error(\"Unable to find vertex input parameter\");\n    return t;\n  }\n  get computeInput() {\n    return this._shaderModuleClass.inputs.findLast(t => \"vertex\" === t.propertyKey && 1 === t.parameterIndex);\n  }\n  get fragmentInput() {\n    const t = this._shaderModuleClass.inputs.findLast(t => \"fragment\" === t.propertyKey);\n    if (!t) throw new Error(\"Unable to find fragment input parameter\");\n    return t;\n  }\n  get transformFeedbackBindings() {\n    return this.fragmentInput.inputCtor.transformFeedbackBindings ?? [];\n  }\n  get locations() {\n    return [...this.vertexInput.inputCtor.locations, ...(this.computeInput?.inputCtor.locations ?? [])];\n  }\n  get locationsMap() {\n    const t = new Map(),\n      r = new Set();\n    for (const o of this.locations) r.has(o.index) ? e.getLogger(\"esri.views.2d.engine.webgl.shaderGraph.GraphShaderModule\").warnOnce(\"mapview-rendering\", `Unable to assigned attribute ${o.propertyKey} to ${o.index}. Index already in use`, {\n      locationsMap: t\n    }) : (t.set(o.propertyKey, o.index), r.add(o.index));\n    return t;\n  }\n  get locationInfo() {\n    if (!this._locationInfo) {\n      const t = this.locationsMap,\n        e = Array.from(t.entries()).map(_ref => {\n          let [t, e] = _ref;\n          return `${t}.${e}`;\n        }).join(\".\"),\n        o = r(e),\n        n = this.computeAttributes;\n      this._locationInfo = {\n        hash: o,\n        stringHash: e,\n        locations: t,\n        computeAttributeMap: n\n      };\n    }\n    return this._locationInfo;\n  }\n  get renamedLocationsMap() {\n    const t = new Map();\n    for (const e of this.locations) t.set(\"a_\" + e.propertyKey, e.index);\n    return t;\n  }\n  get optionPropertyKeys() {\n    if (!this._optionPropertyKeys) {\n      const t = new Set();\n      for (const e of this._options) t.add(e.propertyKey);\n      this._optionPropertyKeys = t;\n    }\n    return this._optionPropertyKeys;\n  }\n  get _shaderModuleClass() {\n    return this.constructor;\n  }\n  get _defines() {\n    return this._shaderModuleClass.defines ?? [];\n  }\n  get _options() {\n    return this._shaderModuleClass.options ?? [];\n  }\n  get _uniforms() {\n    return this._shaderModuleClass.uniforms ?? [];\n  }\n  getProgram(t, e, r, o) {\n    try {\n      const {\n        vertex: n,\n        fragment: s,\n        uniformBindings: i\n      } = this._generateShaders(t, e, r, o);\n      return new c(n, s, this.renamedLocationsMap, this.locationInfo, i, this.transformFeedbackBindings);\n    } catch (n) {\n      return new c(\"\", \"\", this.renamedLocationsMap, this.locationInfo, [], this.transformFeedbackBindings);\n    }\n  }\n  getDebugUniformClassInfo(t) {\n    const e = this._options.find(e => e.propertyKey === t);\n    if (e) return {\n      type: \"option\",\n      className: e.typeCtor\n    };\n    const r = this._uniforms.find(e => e.propertyKey === t);\n    if (!r) throw new Error(`Unable to find uniform class type for property: ${t}`);\n    return {\n      type: \"required\",\n      className: r.typeCtor\n    };\n  }\n  getShaderKey(t, e, r, o) {\n    const n = Object.keys(t).map(e => `${e}.${t[e]}`).join(\".\"),\n      s = Object.keys(r).map(t => `${t}.${r[t]}`).join(\".\"),\n      i = Object.keys(o).map(t => `${t}.${o[t]}`).join(\".\"),\n      p = Object.keys(e).filter(t => this.optionPropertyKeys.has(t) && e[t]).join(\".\");\n    return `${this.type}.${n}.${s}.${i}.${p}`;\n  }\n  _generateShaders(t, e, r, o) {\n    const n = [];\n    this._setDefines(r), this._setOptionalUniforms(n, e), this._setRequiredUniforms(n);\n    const s = this._hydrateVertexInput(o),\n      i = this._injectPackPrecisionFactor(s, t),\n      c = this._hydrateComputeInput(),\n      y = c && this._injectComputePackPrecisionFactor(c, t),\n      d = this.vertex(i, y),\n      f = this._hydrateFragmentInput(d),\n      h = this.fragment(f),\n      l = new Set();\n    for (const p in h) {\n      const t = h[p];\n      u(l, t);\n    }\n    const m = this._getVertexInputBuiltins(),\n      g = a.createVertex({\n        ...s,\n        ...c\n      }, d, m, n, this.transformFeedbackBindings, l);\n    new p().write(g);\n    const _ = this._getFragmentInputBuiltins(h);\n    _.set(\"glPointCoord\", \"gl_PointCoord\");\n    const K = a.createFragment(f, h, _, n, g, this.transformFeedbackBindings);\n    new p().write(K);\n    const x = this._createShaderBuilder(g, K),\n      b = x.generate(\"vertex\"),\n      C = x.generate(\"fragment\");\n    return this.logShader && (console.log(b), console.log(C)), {\n      vertex: b,\n      fragment: C,\n      uniformBindings: n\n    };\n  }\n  _setDefines(t) {\n    for (const e in t) this[e] = t[e];\n  }\n  _setOptionalUniforms(t, e) {\n    for (const r of this._options) {\n      e[r.propertyKey] ? this[r.propertyKey] = this._hydrateUniformGroup(t, r) : this[r.propertyKey] = null;\n    }\n  }\n  _setRequiredUniforms(t) {\n    for (const e of this._uniforms) this[e.propertyKey] = this._hydrateUniformGroup(t, e);\n  }\n  _hydrateUniformGroup(t, e) {\n    const r = new (0, e.typeCtor)();\n    for (const o of r._uniforms ?? []) {\n      const n = d(o.typeCtor),\n        s = `u_${e.propertyKey}_${o.propertyKey}`,\n        i = n.type,\n        p = [e.propertyKey, o.propertyKey].join(\".\");\n      if (\"type\" in o.typeCtor && \"array\" === o.typeCtor.type) {\n        const e = n;\n        t.push({\n          shaderModulePath: p,\n          uniformName: s,\n          uniformType: i,\n          uniformArrayLength: e.size,\n          uniformArrayElementType: e.elementType.type,\n          uniformHydrated: n\n        });\n      } else if (\"type\" in o.typeCtor && \"array-2d\" === o.typeCtor.type) {\n        const e = n;\n        t.push({\n          shaderModulePath: p,\n          uniformName: s,\n          uniformType: i,\n          uniformArrayLength: e.size,\n          uniformArrayElementType: e.elementType.type,\n          uniformHydrated: n\n        });\n      } else t.push({\n        shaderModulePath: p,\n        uniformName: s,\n        uniformType: i,\n        uniformHydrated: n\n      });\n      r[o.propertyKey] = n;\n    }\n    return r;\n  }\n  _hydrateVertexInput(t) {\n    const e = this.vertexInput.inputCtor,\n      r = e.locations.reduce((e, r) => !1 === t[r.propertyKey] ? e : {\n        ...e,\n        [r.propertyKey]: d(r.typeCtor)\n      }, {});\n    for (const {\n      propertyKey: o,\n      typeCtor: n\n    } of e.builtins) {\n      const t = d(n);\n      r[o] = t;\n    }\n    return r;\n  }\n  _hydrateComputeInput() {\n    if (null == this.computeInput) return null;\n    return this.computeInput.inputCtor.locations.reduce((t, e) => ({\n      ...t,\n      [e.propertyKey]: d(e.typeCtor)\n    }), {});\n  }\n  _injectPackPrecisionFactor(t, e) {\n    const r = {};\n    for (const n in t) {\n      const s = t[n],\n        i = e[n];\n      if (i) {\n        if (\"float\" !== s.type && \"vec2\" !== s.type && \"vec3\" !== s.type && \"vec4\" !== s.type) throw new Error(`InternalError: packPrecisionFactor requires GenType, but found ${s.type}`);\n        r[n] = s.divide(new o(i));\n      } else r[n] = s;\n    }\n    return r;\n  }\n  _injectComputePackPrecisionFactor(t, e) {\n    const r = {},\n      n = new Map();\n    for (const o in this.computeAttributes) for (const t of this.computeAttributes[o] ?? []) n.set(t, o);\n    for (const s in t) {\n      const i = t[s],\n        p = n.get(s);\n      if (!p) continue;\n      const a = e[p];\n      if (a) {\n        if (\"float\" !== i.type && \"vec2\" !== i.type && \"vec3\" !== i.type && \"vec4\" !== i.type) throw new Error(`InternalError: packPrecisionFactor requires GenType, but found ${i.type}`);\n        r[s] = i.divide(new o(a));\n      } else r[s] = i;\n    }\n    return r;\n  }\n  _hydrateFragmentInput(t) {\n    const e = {};\n    for (const r in t) e[r] = t[r];\n    for (const {\n      propertyKey: r,\n      typeCtor: o\n    } of v.builtins) {\n      const t = d(o);\n      e[r] = t;\n    }\n    return e;\n  }\n  _getVertexInputBuiltins() {\n    const t = this.vertexInput.inputCtor,\n      e = new Map();\n    for (const {\n      builtin: r,\n      propertyKey: o\n    } of t.builtins) e.set(o, r);\n    return e;\n  }\n  _getFragmentInputBuiltins(t) {\n    const e = t.constructor,\n      r = new Map();\n    for (const o of e.builtins ?? []) r.set(o.propertyKey, o.builtin);\n    return r;\n  }\n  _createShaderBuilder(t, e) {\n    const r = new y();\n    return this._insertDebugInfo(r), t.insertVertexShader(r), e.insertFragmentShader(r), r;\n  }\n  _insertDebugInfo(t) {\n    t.vertex.code.add(\"// DEFINES: \"), t.vertex.code.add(\"// --------------------------------------------------------- \");\n    for (const e of this._defines) this[e.propertyKey] ? t.vertex.code.add(`//   ${e.propertyKey}: true`) : t.vertex.code.add(`//   ${e.propertyKey}: false`);\n    t.vertex.code.add(\"\"), t.vertex.code.add(\"// OPTIONS: \"), t.vertex.code.add(\"// --------------------------------------------------------- \");\n    for (const e of this._options) this[e.propertyKey] ? t.vertex.code.add(`//   ${e.propertyKey}: true`) : t.vertex.code.add(`//   ${e.propertyKey}: false`);\n  }\n}\nexport { I as ComputeVertexInput, v as FragmentInput, w as FragmentOutput, j as GraphShaderModule, P as UniformGroup, C as VertexInput, l as builtin, K as define, m as input, h as location, _ as option, x as transformFeedback, g as uniform };","map":{"version":3,"names":["_","t","e","numericHash","r","Float","o","Int","n","Vec4","s","Vec2","i","GlslShaderWriter","p","ShaderGraphContext","a","setReachableUids","u","TypedShaderProgram","c","ShaderBuilder","y","d","f","constructor","hasOwnProperty","Object","defineProperty","value","slice","push","h","typeCtor","propertyKey","parameterIndex","index","l","builtin","m","inputCtor","g","K","x","b","builtins","C","prototype","I","v","w","P","type","_uniforms","uniforms","j","logShader","computeAttributes","vertexInput","_shaderModuleClass","inputs","findLast","Error","computeInput","fragmentInput","transformFeedbackBindings","locations","locationsMap","Map","Set","has","getLogger","warnOnce","set","add","locationInfo","_locationInfo","Array","from","entries","map","_ref","join","hash","stringHash","computeAttributeMap","renamedLocationsMap","optionPropertyKeys","_optionPropertyKeys","_options","_defines","defines","options","getProgram","vertex","fragment","uniformBindings","_generateShaders","getDebugUniformClassInfo","find","className","getShaderKey","keys","filter","_setDefines","_setOptionalUniforms","_setRequiredUniforms","_hydrateVertexInput","_injectPackPrecisionFactor","_hydrateComputeInput","_injectComputePackPrecisionFactor","_hydrateFragmentInput","_getVertexInputBuiltins","createVertex","write","_getFragmentInputBuiltins","createFragment","_createShaderBuilder","generate","console","log","_hydrateUniformGroup","shaderModulePath","uniformName","uniformType","uniformArrayLength","size","uniformArrayElementType","elementType","uniformHydrated","reduce","divide","get","_insertDebugInfo","insertVertexShader","insertFragmentShader","code","ComputeVertexInput","FragmentInput","FragmentOutput","GraphShaderModule","UniformGroup","VertexInput","define","input","location","option","transformFeedback","uniform"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/GraphShaderModule.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import e from\"../../../../../core/Logger.js\";import{numericHash as r}from\"../../../../../core/string.js\";import{Float as o,Int as n,Vec4 as s,Vec2 as i}from\"./graph/glsl.js\";import{GlslShaderWriter as p}from\"./graph/GlslGraphWriter.js\";import{ShaderGraphContext as a}from\"./graph/ShaderGraphContext.js\";import{setReachableUids as u}from\"./graph/ShaderGraphNode.js\";import{TypedShaderProgram as c}from\"./typed/TypedShaderProgram.js\";import{ShaderBuilder as y}from\"../../../../webgl/ShaderBuilder.js\";function d(t){return new t}function f(t,e,r){const o=t.constructor[e]??[];t.constructor.hasOwnProperty(e)||Object.defineProperty(t.constructor,e,{value:o.slice()}),t.constructor[e].push(r)}function h(t,e){return(r,o)=>{f(r,\"locations\",{typeCtor:e,propertyKey:o,parameterIndex:null,index:t})}}const l=t=>(e,r)=>{f(e,\"builtins\",{builtin:t,propertyKey:r})},m=t=>(e,r,o)=>{f(e,\"inputs\",{inputCtor:t,propertyKey:r,parameterIndex:o})},g=t=>(e,r)=>{f(e,\"uniforms\",{typeCtor:t,propertyKey:r})},_=t=>(e,r)=>{f(e,\"options\",{typeCtor:t,propertyKey:r})},K=(t,e)=>{f(t,\"defines\",{propertyKey:e})};function x(t){return(e,r)=>{f(e,\"transformFeedbackBindings\",{propertyKey:r,parameterIndex:null,index:t})}}const b=(t,e)=>(r,o)=>{r.constructor.builtins.push({builtin:t,propertyKey:o,typeCtor:e})};class C{}C.builtins=[],t([b(\"gl_VertexID\",n)],C.prototype,\"glVertexID\",void 0);class I{}class v{}v.builtins=[],t([b(\"gl_FragCoord\",s)],v.prototype,\"glFragCoord\",void 0),t([b(\"gl_PointCoord\",i)],v.prototype,\"glPointCoord\",void 0);class w{}t([l(\"gl_FragDepth\")],w.prototype,\"glFragDepth\",void 0);class P{constructor(){this.type=\"uniform-group\"}get _uniforms(){return this.constructor.uniforms??[]}}class j{constructor(){this.logShader=!1,this.computeAttributes={}}get vertexInput(){const t=this._shaderModuleClass.inputs.findLast((t=>\"vertex\"===t.propertyKey&&0===t.parameterIndex));if(!t)throw new Error(\"Unable to find vertex input parameter\");return t}get computeInput(){return this._shaderModuleClass.inputs.findLast((t=>\"vertex\"===t.propertyKey&&1===t.parameterIndex))}get fragmentInput(){const t=this._shaderModuleClass.inputs.findLast((t=>\"fragment\"===t.propertyKey));if(!t)throw new Error(\"Unable to find fragment input parameter\");return t}get transformFeedbackBindings(){return this.fragmentInput.inputCtor.transformFeedbackBindings??[]}get locations(){return[...this.vertexInput.inputCtor.locations,...this.computeInput?.inputCtor.locations??[]]}get locationsMap(){const t=new Map,r=new Set;for(const o of this.locations)r.has(o.index)?e.getLogger(\"esri.views.2d.engine.webgl.shaderGraph.GraphShaderModule\").warnOnce(\"mapview-rendering\",`Unable to assigned attribute ${o.propertyKey} to ${o.index}. Index already in use`,{locationsMap:t}):(t.set(o.propertyKey,o.index),r.add(o.index));return t}get locationInfo(){if(!this._locationInfo){const t=this.locationsMap,e=Array.from(t.entries()).map((([t,e])=>`${t}.${e}`)).join(\".\"),o=r(e),n=this.computeAttributes;this._locationInfo={hash:o,stringHash:e,locations:t,computeAttributeMap:n}}return this._locationInfo}get renamedLocationsMap(){const t=new Map;for(const e of this.locations)t.set(\"a_\"+e.propertyKey,e.index);return t}get optionPropertyKeys(){if(!this._optionPropertyKeys){const t=new Set;for(const e of this._options)t.add(e.propertyKey);this._optionPropertyKeys=t}return this._optionPropertyKeys}get _shaderModuleClass(){return this.constructor}get _defines(){return this._shaderModuleClass.defines??[]}get _options(){return this._shaderModuleClass.options??[]}get _uniforms(){return this._shaderModuleClass.uniforms??[]}getProgram(t,e,r,o){try{const{vertex:n,fragment:s,uniformBindings:i}=this._generateShaders(t,e,r,o);return new c(n,s,this.renamedLocationsMap,this.locationInfo,i,this.transformFeedbackBindings)}catch(n){return new c(\"\",\"\",this.renamedLocationsMap,this.locationInfo,[],this.transformFeedbackBindings)}}getDebugUniformClassInfo(t){const e=this._options.find((e=>e.propertyKey===t));if(e)return{type:\"option\",className:e.typeCtor};const r=this._uniforms.find((e=>e.propertyKey===t));if(!r)throw new Error(`Unable to find uniform class type for property: ${t}`);return{type:\"required\",className:r.typeCtor}}getShaderKey(t,e,r,o){const n=Object.keys(t).map((e=>`${e}.${t[e]}`)).join(\".\"),s=Object.keys(r).map((t=>`${t}.${r[t]}`)).join(\".\"),i=Object.keys(o).map((t=>`${t}.${o[t]}`)).join(\".\"),p=Object.keys(e).filter((t=>this.optionPropertyKeys.has(t)&&e[t])).join(\".\");return`${this.type}.${n}.${s}.${i}.${p}`}_generateShaders(t,e,r,o){const n=[];this._setDefines(r),this._setOptionalUniforms(n,e),this._setRequiredUniforms(n);const s=this._hydrateVertexInput(o),i=this._injectPackPrecisionFactor(s,t),c=this._hydrateComputeInput(),y=c&&this._injectComputePackPrecisionFactor(c,t),d=this.vertex(i,y),f=this._hydrateFragmentInput(d),h=this.fragment(f),l=new Set;for(const p in h){const t=h[p];u(l,t)}const m=this._getVertexInputBuiltins(),g=a.createVertex({...s,...c},d,m,n,this.transformFeedbackBindings,l);(new p).write(g);const _=this._getFragmentInputBuiltins(h);_.set(\"glPointCoord\",\"gl_PointCoord\");const K=a.createFragment(f,h,_,n,g,this.transformFeedbackBindings);(new p).write(K);const x=this._createShaderBuilder(g,K),b=x.generate(\"vertex\"),C=x.generate(\"fragment\");return this.logShader&&(console.log(b),console.log(C)),{vertex:b,fragment:C,uniformBindings:n}}_setDefines(t){for(const e in t)this[e]=t[e]}_setOptionalUniforms(t,e){for(const r of this._options){e[r.propertyKey]?this[r.propertyKey]=this._hydrateUniformGroup(t,r):this[r.propertyKey]=null}}_setRequiredUniforms(t){for(const e of this._uniforms)this[e.propertyKey]=this._hydrateUniformGroup(t,e)}_hydrateUniformGroup(t,e){const r=new(0,e.typeCtor);for(const o of r._uniforms??[]){const n=d(o.typeCtor),s=`u_${e.propertyKey}_${o.propertyKey}`,i=n.type,p=[e.propertyKey,o.propertyKey].join(\".\");if(\"type\"in o.typeCtor&&\"array\"===o.typeCtor.type){const e=n;t.push({shaderModulePath:p,uniformName:s,uniformType:i,uniformArrayLength:e.size,uniformArrayElementType:e.elementType.type,uniformHydrated:n})}else if(\"type\"in o.typeCtor&&\"array-2d\"===o.typeCtor.type){const e=n;t.push({shaderModulePath:p,uniformName:s,uniformType:i,uniformArrayLength:e.size,uniformArrayElementType:e.elementType.type,uniformHydrated:n})}else t.push({shaderModulePath:p,uniformName:s,uniformType:i,uniformHydrated:n});r[o.propertyKey]=n}return r}_hydrateVertexInput(t){const e=this.vertexInput.inputCtor,r=e.locations.reduce(((e,r)=>!1===t[r.propertyKey]?e:{...e,[r.propertyKey]:d(r.typeCtor)}),{});for(const{propertyKey:o,typeCtor:n}of e.builtins){const t=d(n);r[o]=t}return r}_hydrateComputeInput(){if(null==this.computeInput)return null;return this.computeInput.inputCtor.locations.reduce(((t,e)=>({...t,[e.propertyKey]:d(e.typeCtor)})),{})}_injectPackPrecisionFactor(t,e){const r={};for(const n in t){const s=t[n],i=e[n];if(i){if(\"float\"!==s.type&&\"vec2\"!==s.type&&\"vec3\"!==s.type&&\"vec4\"!==s.type)throw new Error(`InternalError: packPrecisionFactor requires GenType, but found ${s.type}`);r[n]=s.divide(new o(i))}else r[n]=s}return r}_injectComputePackPrecisionFactor(t,e){const r={},n=new Map;for(const o in this.computeAttributes)for(const t of this.computeAttributes[o]??[])n.set(t,o);for(const s in t){const i=t[s],p=n.get(s);if(!p)continue;const a=e[p];if(a){if(\"float\"!==i.type&&\"vec2\"!==i.type&&\"vec3\"!==i.type&&\"vec4\"!==i.type)throw new Error(`InternalError: packPrecisionFactor requires GenType, but found ${i.type}`);r[s]=i.divide(new o(a))}else r[s]=i}return r}_hydrateFragmentInput(t){const e={};for(const r in t)e[r]=t[r];for(const{propertyKey:r,typeCtor:o}of v.builtins){const t=d(o);e[r]=t}return e}_getVertexInputBuiltins(){const t=this.vertexInput.inputCtor,e=new Map;for(const{builtin:r,propertyKey:o}of t.builtins)e.set(o,r);return e}_getFragmentInputBuiltins(t){const e=t.constructor,r=new Map;for(const o of e.builtins??[])r.set(o.propertyKey,o.builtin);return r}_createShaderBuilder(t,e){const r=new y;return this._insertDebugInfo(r),t.insertVertexShader(r),e.insertFragmentShader(r),r}_insertDebugInfo(t){t.vertex.code.add(\"// DEFINES: \"),t.vertex.code.add(\"// --------------------------------------------------------- \");for(const e of this._defines)this[e.propertyKey]?t.vertex.code.add(`//   ${e.propertyKey}: true`):t.vertex.code.add(`//   ${e.propertyKey}: false`);t.vertex.code.add(\"\"),t.vertex.code.add(\"// OPTIONS: \"),t.vertex.code.add(\"// --------------------------------------------------------- \");for(const e of this._options)this[e.propertyKey]?t.vertex.code.add(`//   ${e.propertyKey}: true`):t.vertex.code.add(`//   ${e.propertyKey}: false`)}}export{I as ComputeVertexInput,v as FragmentInput,w as FragmentOutput,j as GraphShaderModule,P as UniformGroup,C as VertexInput,l as builtin,K as define,m as input,h as location,_ as option,x as transformFeedback,g as uniform};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}