{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport r from \"../../../../core/Accessor.js\";\nimport { isSome as t } from \"../../../../core/arrayUtils.js\";\nimport { throwIfAborted as s } from \"../../../../core/promiseUtils.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { I3SSnappingSource as a } from \"./I3SSnappingSource.js\";\nlet c = class extends r {\n  get updating() {\n    return this._i3sSources.some(e => e.updating);\n  }\n  constructor(e) {\n    super(e), this.availability = 1, this._i3sSources = [];\n  }\n  destroy() {\n    this._i3sSources.forEach(e => e.destroy()), this._i3sSources.length = 0;\n  }\n  initialize() {\n    const {\n        view: e\n      } = this,\n      r = this.layerSource.layer;\n    this._i3sSources = \"building-scene\" === r.type ? this._getBuildingSceneI3SSources(e, r) : [this._getSceneLayerI3SSource(e, r)];\n  }\n  async fetchCandidates(e, r) {\n    const t = await Promise.all(this._i3sSources.map(t => t.fetchCandidates(e, r)));\n    return s(r), t.flat();\n  }\n  refresh() {\n    this._i3sSources.forEach(e => e.refresh());\n  }\n  _getBuildingSceneI3SSources(e, r) {\n    return r.allSublayers.toArray().map(t => \"building-component\" === t.type ? new a({\n      getLayerView: async () => (await e.whenLayerView(r)).whenSublayerView(t),\n      view: e\n    }) : null).filter(t);\n  }\n  _getSceneLayerI3SSource(e, r) {\n    return new a({\n      getLayerView: async () => {\n        const t = await e.whenLayerView(r);\n        return \"scene-layer-graphics-3d\" === t.type ? void 0 : t;\n      },\n      view: e\n    });\n  }\n};\ne([i({\n  constructOnly: !0\n})], c.prototype, \"layerSource\", void 0), e([i({\n  constructOnly: !0\n})], c.prototype, \"view\", void 0), e([i({\n  readOnly: !0\n})], c.prototype, \"updating\", null), e([i({\n  readOnly: !0\n})], c.prototype, \"availability\", void 0), c = e([o(\"esri.views.interactive.snapping.featureSources.SceneLayerSnappingSource\")], c);\nexport { c as SceneLayerSnappingSource };","map":{"version":3,"names":["_","e","r","isSome","t","throwIfAborted","s","property","i","subclass","o","I3SSnappingSource","a","c","updating","_i3sSources","some","constructor","availability","destroy","forEach","length","initialize","view","layerSource","layer","type","_getBuildingSceneI3SSources","_getSceneLayerI3SSource","fetchCandidates","Promise","all","map","flat","refresh","allSublayers","toArray","getLayerView","whenLayerView","whenSublayerView","filter","constructOnly","prototype","readOnly","SceneLayerSnappingSource"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/snapping/featureSources/SceneLayerSnappingSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isSome as t}from\"../../../../core/arrayUtils.js\";import{throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{I3SSnappingSource as a}from\"./I3SSnappingSource.js\";let c=class extends r{get updating(){return this._i3sSources.some((e=>e.updating))}constructor(e){super(e),this.availability=1,this._i3sSources=[]}destroy(){this._i3sSources.forEach((e=>e.destroy())),this._i3sSources.length=0}initialize(){const{view:e}=this,r=this.layerSource.layer;this._i3sSources=\"building-scene\"===r.type?this._getBuildingSceneI3SSources(e,r):[this._getSceneLayerI3SSource(e,r)]}async fetchCandidates(e,r){const t=await Promise.all(this._i3sSources.map((t=>t.fetchCandidates(e,r))));return s(r),t.flat()}refresh(){this._i3sSources.forEach((e=>e.refresh()))}_getBuildingSceneI3SSources(e,r){return r.allSublayers.toArray().map((t=>\"building-component\"===t.type?new a({getLayerView:async()=>(await e.whenLayerView(r)).whenSublayerView(t),view:e}):null)).filter(t)}_getSceneLayerI3SSource(e,r){return new a({getLayerView:async()=>{const t=await e.whenLayerView(r);return\"scene-layer-graphics-3d\"===t.type?void 0:t},view:e})}};e([i({constructOnly:!0})],c.prototype,\"layerSource\",void 0),e([i({constructOnly:!0})],c.prototype,\"view\",void 0),e([i({readOnly:!0})],c.prototype,\"updating\",null),e([i({readOnly:!0})],c.prototype,\"availability\",void 0),c=e([o(\"esri.views.interactive.snapping.featureSources.SceneLayerSnappingSource\")],c);export{c as SceneLayerSnappingSource};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}