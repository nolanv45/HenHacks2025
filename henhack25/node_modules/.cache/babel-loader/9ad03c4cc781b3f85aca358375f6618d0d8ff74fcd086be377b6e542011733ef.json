{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport s from \"../core/JSONSupport.js\";\nimport { clone as t } from \"../core/lang.js\";\nimport { addMaybe as r, addMany as o } from \"../core/SetUtils.js\";\nimport { property as i } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as n } from \"../core/accessorSupport/decorators/cast.js\";\nimport { reader as l } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as p } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as c } from \"../core/accessorSupport/decorators/writer.js\";\nimport m from \"./ExpressionInfo.js\";\nimport a from \"./elements/GroupElement.js\";\nimport { ensureType as d, fromJSON as f, toJSON as u, isTextElement as h, isGroupElement as y, isFieldElement as j, buildTypeMaps as x } from \"./support/formUtils.js\";\nimport { collectArcadeFieldNames as E, collectField as w, collectFields as v, extractSubstitutionTemplatesFromString as S } from \"../layers/support/fieldUtils.js\";\nvar I;\nconst b = x(a);\nlet F = I = class extends s {\n  constructor(e) {\n    super(e), this.description = null, this.elements = null, this.expressionInfos = null, this.preserveFieldValuesWhenHidden = !1, this.title = null;\n  }\n  castElements(e) {\n    return d(e, b);\n  }\n  readElements(e, s) {\n    return f(s.formElements, b);\n  }\n  writeElements(e, s) {\n    s.formElements = u(e, b);\n  }\n  clone() {\n    return new I({\n      description: this.description,\n      expressionInfos: t(this.expressionInfos),\n      elements: t(this.elements),\n      title: this.title,\n      preserveFieldValuesWhenHidden: this.preserveFieldValuesWhenHidden\n    });\n  }\n  async getFieldsUsed(e, s) {\n    const t = new Set(),\n      {\n        description: r,\n        elements: o,\n        expressionInfos: i,\n        title: n\n      } = this;\n    if (U(t, e, r), U(t, e, n), !o) return [];\n    const l = k(o, i).map(s => E(t, e, s));\n    await Promise.all(l);\n    for (const p of o) g(t, {\n      fieldsIndex: e,\n      relationships: s\n    }, p);\n    return Array.from(t).sort();\n  }\n};\nfunction g(e, s, t) {\n  const {\n    fieldsIndex: r\n  } = s;\n  if (!r || r.fields.length !== e.size) switch (U(e, r, t.label), U(e, r, t.description), t.type) {\n    case \"field\":\n      w(e, r, t.fieldName);\n      break;\n    case \"group\":\n      t.elements.forEach(t => g(e, s, t));\n      break;\n    case \"relationship\":\n      if (s.relationships) {\n        const o = s.relationships.find(e => e.id === t.relationshipId);\n        o && w(e, r, o.keyField);\n      }\n      v(e, r, t.orderByFields?.map(e => e.field));\n      break;\n    case \"text\":\n      U(e, r, t.text);\n  }\n}\nfunction k(e, s) {\n  if (!s || 0 === s.length) return [];\n  const t = H(e),\n    r = [];\n  for (const o of s) t.has(o.name) && r.push(o.expression);\n  return r;\n}\nfunction H(e) {\n  const s = new Set();\n  for (const t of e) if (r(s, t.visibilityExpression), !h(t)) if (y(t)) o(s, H(t.elements));else if (r(s, t.editableExpression), j(t)) {\n    const {\n      requiredExpression: e,\n      valueExpression: r\n    } = t;\n    o(s, [e, r]);\n  }\n  return s;\n}\nfunction U(e, s, t) {\n  v(e, s, S(t));\n}\ne([i({\n  type: String,\n  json: {\n    write: !0\n  }\n})], F.prototype, \"description\", void 0), e([i({\n  json: {\n    write: !0\n  }\n})], F.prototype, \"elements\", void 0), e([n(\"elements\")], F.prototype, \"castElements\", null), e([l(\"elements\", [\"formElements\"])], F.prototype, \"readElements\", null), e([c(\"elements\")], F.prototype, \"writeElements\", null), e([i({\n  type: [m],\n  json: {\n    write: !0\n  }\n})], F.prototype, \"expressionInfos\", void 0), e([i({\n  type: Boolean,\n  json: {\n    default: !1,\n    write: !0\n  }\n})], F.prototype, \"preserveFieldValuesWhenHidden\", void 0), e([i({\n  type: String,\n  json: {\n    write: !0\n  }\n})], F.prototype, \"title\", void 0), F = I = e([p(\"esri.form.FormTemplate\")], F);\nconst V = F;\nexport { V as default };","map":{"version":3,"names":["_","e","s","clone","t","addMaybe","r","addMany","o","property","i","cast","n","reader","l","subclass","p","writer","c","m","a","ensureType","d","fromJSON","f","toJSON","u","isTextElement","h","isGroupElement","y","isFieldElement","j","buildTypeMaps","x","collectArcadeFieldNames","E","collectField","w","collectFields","v","extractSubstitutionTemplatesFromString","S","I","b","F","constructor","description","elements","expressionInfos","preserveFieldValuesWhenHidden","title","castElements","readElements","formElements","writeElements","getFieldsUsed","Set","U","k","map","Promise","all","g","fieldsIndex","relationships","Array","from","sort","fields","length","size","label","type","fieldName","forEach","find","id","relationshipId","keyField","orderByFields","field","text","H","has","name","push","expression","visibilityExpression","editableExpression","requiredExpression","valueExpression","String","json","write","prototype","Boolean","default","V"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/form/FormTemplate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../core/JSONSupport.js\";import{clone as t}from\"../core/lang.js\";import{addMaybe as r,addMany as o}from\"../core/SetUtils.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import{reader as l}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../core/accessorSupport/decorators/writer.js\";import m from\"./ExpressionInfo.js\";import a from\"./elements/GroupElement.js\";import{ensureType as d,fromJSON as f,toJSON as u,isTextElement as h,isGroupElement as y,isFieldElement as j,buildTypeMaps as x}from\"./support/formUtils.js\";import{collectArcadeFieldNames as E,collectField as w,collectFields as v,extractSubstitutionTemplatesFromString as S}from\"../layers/support/fieldUtils.js\";var I;const b=x(a);let F=I=class extends s{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return d(e,b)}readElements(e,s){return f(s.formElements,b)}writeElements(e,s){s.formElements=u(e,b)}clone(){return new I({description:this.description,expressionInfos:t(this.expressionInfos),elements:t(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,s){const t=new Set,{description:r,elements:o,expressionInfos:i,title:n}=this;if(U(t,e,r),U(t,e,n),!o)return[];const l=k(o,i).map((s=>E(t,e,s)));await Promise.all(l);for(const p of o)g(t,{fieldsIndex:e,relationships:s},p);return Array.from(t).sort()}};function g(e,s,t){const{fieldsIndex:r}=s;if(!r||r.fields.length!==e.size)switch(U(e,r,t.label),U(e,r,t.description),t.type){case\"field\":w(e,r,t.fieldName);break;case\"group\":t.elements.forEach((t=>g(e,s,t)));break;case\"relationship\":if(s.relationships){const o=s.relationships.find((e=>e.id===t.relationshipId));o&&w(e,r,o.keyField)}v(e,r,t.orderByFields?.map((e=>e.field)));break;case\"text\":U(e,r,t.text)}}function k(e,s){if(!s||0===s.length)return[];const t=H(e),r=[];for(const o of s)t.has(o.name)&&r.push(o.expression);return r}function H(e){const s=new Set;for(const t of e)if(r(s,t.visibilityExpression),!h(t))if(y(t))o(s,H(t.elements));else if(r(s,t.editableExpression),j(t)){const{requiredExpression:e,valueExpression:r}=t;o(s,[e,r])}return s}function U(e,s,t){v(e,s,S(t))}e([i({type:String,json:{write:!0}})],F.prototype,\"description\",void 0),e([i({json:{write:!0}})],F.prototype,\"elements\",void 0),e([n(\"elements\")],F.prototype,\"castElements\",null),e([l(\"elements\",[\"formElements\"])],F.prototype,\"readElements\",null),e([c(\"elements\")],F.prototype,\"writeElements\",null),e([i({type:[m],json:{write:!0}})],F.prototype,\"expressionInfos\",void 0),e([i({type:Boolean,json:{default:!1,write:!0}})],F.prototype,\"preserveFieldValuesWhenHidden\",void 0),e([i({type:String,json:{write:!0}})],F.prototype,\"title\",void 0),F=I=e([p(\"esri.form.FormTemplate\")],F);const V=F;export{V as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}