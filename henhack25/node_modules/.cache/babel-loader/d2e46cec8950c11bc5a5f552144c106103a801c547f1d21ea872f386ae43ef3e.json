{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../config.js\";\nimport { id as r } from \"../../kernel.js\";\nimport s from \"../../request.js\";\nimport { result as i } from \"../../core/asyncUtils.js\";\nimport o from \"../../core/Error.js\";\nimport a from \"../../core/Logger.js\";\nimport { destroyMaybe as l } from \"../../core/maybe.js\";\nimport { throwIfAborted as n, isAbortError as p, throwIfAbortError as u } from \"../../core/promiseUtils.js\";\nimport { hasSameCanonicalPortal as c, normalize as d, hasSamePortal as m } from \"../../core/urlUtils.js\";\nimport { property as h } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport { reader as f } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as g } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as y } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { getOwningPortalUrl as I } from \"../support/layerUtils.js\";\nimport v from \"../../portal/Portal.js\";\nimport P from \"../../portal/PortalItem.js\";\nimport U from \"../../portal/PortalUser.js\";\nimport { getUserPrivileges as w } from \"../../portal/support/portalItemUtils.js\";\nconst j = j => {\n    let E = class extends j {\n      constructor() {\n        super(...arguments), this.resourceReferences = {\n          portalItem: null,\n          paths: []\n        }, this.userHasEditingPrivileges = !0, this.userHasFullEditingPrivileges = !1, this.userHasUpdateItemPrivileges = !1;\n      }\n      destroy() {\n        this.portalItem = l(this.portalItem), this.resourceReferences.portalItem = null, this.resourceReferences.paths.length = 0;\n      }\n      set portalItem(e) {\n        e !== this._get(\"portalItem\") && (this.removeOrigin(\"portal-item\"), this._set(\"portalItem\", e));\n      }\n      readPortalItem(e, t, r) {\n        if (t.itemId) return new P({\n          id: t.itemId,\n          portal: r?.portal\n        });\n      }\n      writePortalItem(e, t) {\n        e?.id && (t.itemId = e.id);\n      }\n      async loadFromPortal(e, t) {\n        if (this.portalItem?.id) try {\n          const {\n            load: r\n          } = await import(\"../../portal/support/layersLoader.js\");\n          return n(t), await r({\n            instance: this,\n            supportedTypes: e.supportedTypes,\n            validateItem: e.validateItem,\n            supportsData: e.supportsData,\n            layerModuleTypeMap: e.layerModuleTypeMap,\n            populateGroupLayer: e.populateGroupLayer\n          }, t);\n        } catch (r) {\n          throw p(r) || a.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`), r;\n        }\n      }\n      async finishLoadEditablePortalLayer(e) {\n        this._set(\"userHasEditingPrivileges\", await this._fetchUserHasEditingPrivileges(e).catch(e => (u(e), !0)));\n      }\n      async setUserPrivileges(e, r) {\n        if (!t.userPrivilegesApplied) return this.finishLoadEditablePortalLayer(r);\n        if (this.url) try {\n          const {\n            features: {\n              edit: t,\n              fullEdit: s\n            },\n            content: {\n              updateItem: i\n            }\n          } = await this._fetchUserPrivileges(e, r);\n          this._set(\"userHasEditingPrivileges\", t), this._set(\"userHasFullEditingPrivileges\", s), this._set(\"userHasUpdateItemPrivileges\", i);\n        } catch (s) {\n          u(s);\n        }\n      }\n      async _fetchUserPrivileges(e, t) {\n        let s = this.portalItem;\n        if (!e || !s || !s.loaded || s.sourceUrl) return this._fetchFallbackUserPrivileges(t);\n        const i = !r?.findCredential(this.url),\n          o = e === s.id;\n        if (o && s.portal.user) return this._getUserPrivileges(s, i);\n        let a, l;\n        if (o) a = s.portal.url;else try {\n          a = await I(this.url, t);\n        } catch (m) {\n          u(m);\n        }\n        if (!a || !c(a, s.portal.url)) return this._fetchFallbackUserPrivileges(t);\n        try {\n          const e = null != t ? t.signal : null;\n          l = await r?.getCredential(`${a}/sharing`, {\n            prompt: !1,\n            signal: e\n          });\n        } catch (m) {\n          u(m);\n        }\n        const n = !0,\n          p = !1,\n          d = !1;\n        if (!l) return {\n          features: {\n            edit: n,\n            fullEdit: p\n          },\n          content: {\n            updateItem: d\n          }\n        };\n        try {\n          if (o ? await s.reload() : (s = new P({\n            id: e,\n            portal: {\n              url: a\n            }\n          }), await s.load(t)), s.portal.user) return this._getUserPrivileges(s, i);\n        } catch (m) {\n          u(m);\n        }\n        return {\n          features: {\n            edit: n,\n            fullEdit: p\n          },\n          content: {\n            updateItem: d\n          }\n        };\n      }\n      _getUserPrivileges(e, t) {\n        const r = w(e);\n        return t && (r.features.edit = !0), r;\n      }\n      async _fetchFallbackUserPrivileges(e) {\n        let t = !0;\n        try {\n          t = await this._fetchUserHasEditingPrivileges(e);\n        } catch (r) {\n          u(r);\n        }\n        return {\n          features: {\n            edit: t,\n            fullEdit: !1\n          },\n          content: {\n            updateItem: !1\n          }\n        };\n      }\n      async _fetchUserHasEditingPrivileges(e) {\n        const t = this.url ? r?.findCredential(this.url) : null;\n        if (!t) return !0;\n        const s = _.credential === t ? _.user : await this._fetchEditingUser(e);\n        return _.credential = t, _.user = s, null == s?.privileges || s.privileges.includes(\"features:user:edit\");\n      }\n      async _fetchEditingUser(e) {\n        const t = this.portalItem?.portal?.user;\n        if (t) return t;\n        const o = r?.findServerInfo(this.url ?? \"\");\n        if (!o?.owningSystemUrl) return null;\n        const a = `${o.owningSystemUrl}/sharing/rest`,\n          l = v.getDefault();\n        if (l && l.loaded && d(l.restUrl) === d(a)) return l.user;\n        const n = `${a}/community/self`,\n          p = null != e ? e.signal : null,\n          u = await i(s(n, {\n            authMode: \"no-prompt\",\n            query: {\n              f: \"json\"\n            },\n            signal: p\n          }));\n        return u.ok ? U.fromJSON(u.value.data) : null;\n      }\n      read(e, t) {\n        t && (t.layer = this), super.read(e, t);\n      }\n      write(e, t) {\n        const r = t?.portal,\n          s = this.portalItem?.id && (this.portalItem.portal || v.getDefault());\n        return r && s && !m(s.restUrl, r.restUrl) ? (t.messages && t.messages.push(new o(\"layer:cross-portal\", `The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`, {\n          layer: this\n        })), null) : super.write(e, {\n          ...t,\n          layer: this\n        });\n      }\n    };\n    return e([h({\n      type: P\n    })], E.prototype, \"portalItem\", null), e([f(\"web-document\", \"portalItem\", [\"itemId\"])], E.prototype, \"readPortalItem\", null), e([y(\"web-document\", \"portalItem\", {\n      itemId: {\n        type: String\n      }\n    })], E.prototype, \"writePortalItem\", null), e([h({\n      clonable: !1\n    })], E.prototype, \"resourceReferences\", void 0), e([h({\n      type: Boolean,\n      readOnly: !0\n    })], E.prototype, \"userHasEditingPrivileges\", void 0), e([h({\n      type: Boolean,\n      readOnly: !0\n    })], E.prototype, \"userHasFullEditingPrivileges\", void 0), e([h({\n      type: Boolean,\n      readOnly: !0\n    })], E.prototype, \"userHasUpdateItemPrivileges\", void 0), E = e([g(\"esri.layers.mixins.PortalLayer\")], E), E;\n  },\n  _ = {\n    credential: null,\n    user: null\n  };\nexport { j as PortalLayer };","map":{"version":3,"names":["_","e","t","id","r","s","result","i","o","a","destroyMaybe","l","throwIfAborted","n","isAbortError","p","throwIfAbortError","u","hasSameCanonicalPortal","c","normalize","d","hasSamePortal","m","property","h","reader","f","subclass","g","writer","y","getOwningPortalUrl","I","v","P","U","getUserPrivileges","w","j","E","constructor","arguments","resourceReferences","portalItem","paths","userHasEditingPrivileges","userHasFullEditingPrivileges","userHasUpdateItemPrivileges","destroy","length","_get","removeOrigin","_set","readPortalItem","itemId","portal","writePortalItem","loadFromPortal","load","instance","supportedTypes","validateItem","supportsData","layerModuleTypeMap","populateGroupLayer","getLogger","warn","title","finishLoadEditablePortalLayer","_fetchUserHasEditingPrivileges","catch","setUserPrivileges","userPrivilegesApplied","url","features","edit","fullEdit","content","updateItem","_fetchUserPrivileges","loaded","sourceUrl","_fetchFallbackUserPrivileges","findCredential","user","_getUserPrivileges","signal","getCredential","prompt","reload","credential","_fetchEditingUser","privileges","includes","findServerInfo","owningSystemUrl","getDefault","restUrl","authMode","query","ok","fromJSON","value","data","read","layer","write","messages","push","type","prototype","String","clonable","Boolean","readOnly","PortalLayer"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/mixins/PortalLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../config.js\";import{id as r}from\"../../kernel.js\";import s from\"../../request.js\";import{result as i}from\"../../core/asyncUtils.js\";import o from\"../../core/Error.js\";import a from\"../../core/Logger.js\";import{destroyMaybe as l}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as p,throwIfAbortError as u}from\"../../core/promiseUtils.js\";import{hasSameCanonicalPortal as c,normalize as d,hasSamePortal as m}from\"../../core/urlUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as f}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../../core/accessorSupport/decorators/writer.js\";import{getOwningPortalUrl as I}from\"../support/layerUtils.js\";import v from\"../../portal/Portal.js\";import P from\"../../portal/PortalItem.js\";import U from\"../../portal/PortalUser.js\";import{getUserPrivileges as w}from\"../../portal/support/portalItemUtils.js\";const j=j=>{let E=class extends j{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=l(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",e))}readPortalItem(e,t,r){if(t.itemId)return new P({id:t.itemId,portal:r?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:r}=await import(\"../../portal/support/layersLoader.js\");return n(t),await r({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap,populateGroupLayer:e.populateGroupLayer},t)}catch(r){throw p(r)||a.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`),r}}async finishLoadEditablePortalLayer(e){this._set(\"userHasEditingPrivileges\",await this._fetchUserHasEditingPrivileges(e).catch((e=>(u(e),!0))))}async setUserPrivileges(e,r){if(!t.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:t,fullEdit:s},content:{updateItem:i}}=await this._fetchUserPrivileges(e,r);this._set(\"userHasEditingPrivileges\",t),this._set(\"userHasFullEditingPrivileges\",s),this._set(\"userHasUpdateItemPrivileges\",i)}catch(s){u(s)}}async _fetchUserPrivileges(e,t){let s=this.portalItem;if(!e||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(t);const i=!r?.findCredential(this.url),o=e===s.id;if(o&&s.portal.user)return this._getUserPrivileges(s,i);let a,l;if(o)a=s.portal.url;else try{a=await I(this.url,t)}catch(m){u(m)}if(!a||!c(a,s.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;l=await(r?.getCredential(`${a}/sharing`,{prompt:!1,signal:e}))}catch(m){u(m)}const n=!0,p=!1,d=!1;if(!l)return{features:{edit:n,fullEdit:p},content:{updateItem:d}};try{if(o?await s.reload():(s=new P({id:e,portal:{url:a}}),await s.load(t)),s.portal.user)return this._getUserPrivileges(s,i)}catch(m){u(m)}return{features:{edit:n,fullEdit:p},content:{updateItem:d}}}_getUserPrivileges(e,t){const r=w(e);return t&&(r.features.edit=!0),r}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(r){u(r)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?r?.findCredential(this.url):null;if(!t)return!0;const s=_.credential===t?_.user:await this._fetchEditingUser(e);return _.credential=t,_.user=s,null==s?.privileges||s.privileges.includes(\"features:user:edit\")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const o=r?.findServerInfo(this.url??\"\");if(!o?.owningSystemUrl)return null;const a=`${o.owningSystemUrl}/sharing/rest`,l=v.getDefault();if(l&&l.loaded&&d(l.restUrl)===d(a))return l.user;const n=`${a}/community/self`,p=null!=e?e.signal:null,u=await i(s(n,{authMode:\"no-prompt\",query:{f:\"json\"},signal:p}));return u.ok?U.fromJSON(u.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const r=t?.portal,s=this.portalItem?.id&&(this.portalItem.portal||v.getDefault());return r&&s&&!m(s.restUrl,r.restUrl)?(t.messages&&t.messages.push(new o(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return e([h({type:P})],E.prototype,\"portalItem\",null),e([f(\"web-document\",\"portalItem\",[\"itemId\"])],E.prototype,\"readPortalItem\",null),e([y(\"web-document\",\"portalItem\",{itemId:{type:String}})],E.prototype,\"writePortalItem\",null),e([h({clonable:!1})],E.prototype,\"resourceReferences\",void 0),e([h({type:Boolean,readOnly:!0})],E.prototype,\"userHasEditingPrivileges\",void 0),e([h({type:Boolean,readOnly:!0})],E.prototype,\"userHasFullEditingPrivileges\",void 0),e([h({type:Boolean,readOnly:!0})],E.prototype,\"userHasUpdateItemPrivileges\",void 0),E=e([g(\"esri.layers.mixins.PortalLayer\")],E),E},_={credential:null,user:null};export{j as PortalLayer};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}