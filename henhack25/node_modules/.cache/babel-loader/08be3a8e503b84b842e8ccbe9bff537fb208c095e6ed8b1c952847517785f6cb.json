{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { watch as e, initial as s } from \"../../../../core/reactiveUtils.js\";\nimport { ContentObjectType as r } from \"../../webgl-engine/lib/ContentObjectType.js\";\nimport { Object3D as t } from \"../../webgl-engine/lib/Object3D.js\";\nimport { UpdatePolicy as o } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nimport { WebGLLayer as i } from \"../../webgl-engine/lib/WebGLLayer.js\";\nclass c {\n  constructor(e) {\n    this._resourceFactory = e, this._resources = null, this._visible = !0, this._attached = !1;\n  }\n  destroy() {\n    this._destroyResources();\n  }\n  get object() {\n    return null != this._resources ? this._resources.object : null;\n  }\n  get resources() {\n    return null != this._resources ? this._resources.external : null;\n  }\n  get visible() {\n    return this._visible;\n  }\n  set visible(e) {\n    e !== this._visible && (this._visible = e, this._syncVisible());\n  }\n  get attached() {\n    return this._attached;\n  }\n  set attached(e) {\n    e !== this._attached && (this._attached = e, this._createOrDestroyResources());\n  }\n  recreate() {\n    this.attached && this._createResources();\n  }\n  recreateGeometry() {\n    if (!this._resourceFactory.recreateGeometry) return void this.recreate();\n    const e = this._resourceFactory.view._stage;\n    if (null == this._resources || !e) return;\n    const s = this._resources.object;\n    this._resources.external.forEach(s => {\n      s.type !== r.Mesh && s.type !== r.Line && s.type !== r.Point || e.remove(s);\n    }), s.removeAllGeometries(), this._resourceFactory.recreateGeometry(this._resources.external, s, this._resources.layer), this._resources.external.forEach(s => {\n      s.type !== r.Mesh && s.type !== r.Line && s.type !== r.Point || e.add(s);\n    });\n  }\n  _createOrDestroyResources() {\n    this._attached ? this._resources || this._createResources() : this._destroyResources();\n  }\n  _createResources() {\n    this._destroyResources();\n    const c = this._resourceFactory,\n      a = c.view,\n      h = a._stage;\n    if (!h) return;\n    const u = new i(h, {\n        pickable: !1,\n        updatePolicy: o.SYNC\n      }),\n      l = new t({\n        castShadow: !1\n      }),\n      n = c.createResources(l, u);\n    n.forEach(e => {\n      h.add(e), e.type === r.Texture && e.load(h.renderView.renderingContext);\n    }), h.add(l), u.add(l);\n    const _ = c.cameraChanged,\n      y = _ ? e(() => a.state.camera, e => _(e), s) : null;\n    this._resources = {\n      layer: u,\n      object: l,\n      external: n,\n      cameraHandle: y\n    }, this._syncVisible();\n  }\n  _destroyResources() {\n    if (null == this._resources) return;\n    const e = this._resourceFactory.view._stage;\n    e && (e.remove(this._resources.object), this._resources.layer.destroy(), this._resources.external.forEach(s => {\n      e.remove(s), s.type === r.Texture && s.unload();\n    })), this._resources.object.dispose(), this._resources.cameraHandle?.remove(), this._resourceFactory.destroyResources(this._resources.external), this._resources = null;\n  }\n  _syncVisible() {\n    null != this._resources && (this._resources.object.visible = this._visible);\n  }\n}\nexport { c as VisualElementResources };","map":{"version":3,"names":["watch","e","initial","s","ContentObjectType","r","Object3D","t","UpdatePolicy","o","WebGLLayer","i","c","constructor","_resourceFactory","_resources","_visible","_attached","destroy","_destroyResources","object","resources","external","visible","_syncVisible","attached","_createOrDestroyResources","recreate","_createResources","recreateGeometry","view","_stage","forEach","type","Mesh","Line","Point","remove","removeAllGeometries","layer","add","a","h","u","pickable","updatePolicy","SYNC","l","castShadow","n","createResources","Texture","load","renderView","renderingContext","_","cameraChanged","y","state","camera","cameraHandle","unload","dispose","destroyResources","VisualElementResources"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{watch as e,initial as s}from\"../../../../core/reactiveUtils.js\";import{ContentObjectType as r}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as i}from\"../../webgl-engine/lib/WebGLLayer.js\";class c{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(null==this._resources||!e)return;const s=this._resources.object;this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.remove(s)})),s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer),this._resources.external.forEach((s=>{s.type!==r.Mesh&&s.type!==r.Line&&s.type!==r.Point||e.add(s)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const c=this._resourceFactory,a=c.view,h=a._stage;if(!h)return;const u=new i(h,{pickable:!1,updatePolicy:o.SYNC}),l=new t({castShadow:!1}),n=c.createResources(l,u);n.forEach((e=>{h.add(e),e.type===r.Texture&&e.load(h.renderView.renderingContext)})),h.add(l),u.add(l);const _=c.cameraChanged,y=_?e((()=>a.state.camera),(e=>_(e)),s):null;this._resources={layer:u,object:l,external:n,cameraHandle:y},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach((s=>{e.remove(s),s.type===r.Texture&&s.unload()}))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}export{c as VisualElementResources};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}