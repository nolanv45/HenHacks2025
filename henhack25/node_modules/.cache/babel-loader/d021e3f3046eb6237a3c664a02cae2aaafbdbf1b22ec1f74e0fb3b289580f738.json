{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { isArrayLike as e } from \"../../../../../core/arrayUtils.js\";\nimport { WGLDrawPhase as r } from \"../enums.js\";\nclass t {\n  constructor(e, t) {\n    this.brushes = e, this.name = t.name, this.drawPhase = t.drawPhase || r.MAP, this._targetFn = t.target, this.effects = t.effects || [], this.enableDefaultDraw = t.enableDefaultDraw ?? (() => !0), this.forceDrawByDisplayOrder = !!t.forceDrawByDisplayOrder;\n  }\n  render(e) {\n    const {\n        context: r,\n        profiler: t\n      } = e,\n      s = this._targetFn(),\n      a = this.drawPhase & e.drawPhase;\n    if (t.recordPassStart(this.name), a) {\n      this.enableDefaultDraw() && this._doRender(e, s), t.recordPassEnd();\n      for (const t of this.effects) {\n        if (!t.enable()) continue;\n        const a = t.apply,\n          n = t.args?.(),\n          i = r.getViewport(),\n          o = r.getBoundFramebufferObject(),\n          d = e.passOptions;\n        this._bindEffect(e, a, n), this._doRender(e, s, a.defines), this._drawAndUnbindEffect(e, a, i, o, d, n);\n      }\n    }\n  }\n  _doRender(e, r, t) {\n    if (null == r) return;\n    const {\n      profiler: s,\n      context: a\n    } = e;\n    for (const n of this.brushes) {\n      if (s.recordBrushStart(n.name), null != n.brushEffect) {\n        const s = a.getViewport(),\n          i = a.getBoundFramebufferObject(),\n          o = e.passOptions;\n        this._bindEffect(e, n.brushEffect), this._drawWithBrush(n, e, r, t), this._drawAndUnbindEffect(e, n.brushEffect, s, i, o);\n      } else this._drawWithBrush(n, e, r, t);\n      s.recordBrushEnd();\n    }\n  }\n  _drawWithBrush(r, t, s, a) {\n    e(s) ? (r.prepareState(t, a), r.drawMany(t, s, a)) : s.visible && (r.prepareState(t, a), r.draw(t, s, a));\n  }\n  _bindEffect(e, r, t) {\n    const {\n      profiler: s\n    } = e;\n    s.recordPassStart(this.name + \".\" + r.name), r.bind(e, t);\n    const a = r.createOptions(e, t);\n    e.passOptions = a;\n  }\n  _drawAndUnbindEffect(e, r, t, s, a, n) {\n    const {\n      profiler: i,\n      context: o\n    } = e;\n    e.passOptions = a, i.recordBrushStart(r.name), r.draw(e, n), r.unbind(e, n), o.bindFramebuffer(s);\n    const {\n      x: d,\n      y: f,\n      width: h,\n      height: c\n    } = t;\n    o.setViewport(d, f, h, c), i.recordBrushEnd(), i.recordPassEnd();\n  }\n}\nexport { t as default };","map":{"version":3,"names":["isArrayLike","e","WGLDrawPhase","r","t","constructor","brushes","name","drawPhase","MAP","_targetFn","target","effects","enableDefaultDraw","forceDrawByDisplayOrder","render","context","profiler","s","a","recordPassStart","_doRender","recordPassEnd","enable","apply","n","args","i","getViewport","o","getBoundFramebufferObject","d","passOptions","_bindEffect","defines","_drawAndUnbindEffect","recordBrushStart","brushEffect","_drawWithBrush","recordBrushEnd","prepareState","drawMany","visible","draw","bind","createOptions","unbind","bindFramebuffer","x","y","f","width","h","height","c","setViewport","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/painter/RenderPass.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isArrayLike as e}from\"../../../../../core/arrayUtils.js\";import{WGLDrawPhase as r}from\"../enums.js\";class t{constructor(e,t){this.brushes=e,this.name=t.name,this.drawPhase=t.drawPhase||r.MAP,this._targetFn=t.target,this.effects=t.effects||[],this.enableDefaultDraw=t.enableDefaultDraw??(()=>!0),this.forceDrawByDisplayOrder=!!t.forceDrawByDisplayOrder}render(e){const{context:r,profiler:t}=e,s=this._targetFn(),a=this.drawPhase&e.drawPhase;if(t.recordPassStart(this.name),a){this.enableDefaultDraw()&&this._doRender(e,s),t.recordPassEnd();for(const t of this.effects){if(!t.enable())continue;const a=t.apply,n=t.args?.(),i=r.getViewport(),o=r.getBoundFramebufferObject(),d=e.passOptions;this._bindEffect(e,a,n),this._doRender(e,s,a.defines),this._drawAndUnbindEffect(e,a,i,o,d,n)}}}_doRender(e,r,t){if(null==r)return;const{profiler:s,context:a}=e;for(const n of this.brushes){if(s.recordBrushStart(n.name),null!=n.brushEffect){const s=a.getViewport(),i=a.getBoundFramebufferObject(),o=e.passOptions;this._bindEffect(e,n.brushEffect),this._drawWithBrush(n,e,r,t),this._drawAndUnbindEffect(e,n.brushEffect,s,i,o)}else this._drawWithBrush(n,e,r,t);s.recordBrushEnd()}}_drawWithBrush(r,t,s,a){e(s)?(r.prepareState(t,a),r.drawMany(t,s,a)):s.visible&&(r.prepareState(t,a),r.draw(t,s,a))}_bindEffect(e,r,t){const{profiler:s}=e;s.recordPassStart(this.name+\".\"+r.name),r.bind(e,t);const a=r.createOptions(e,t);e.passOptions=a}_drawAndUnbindEffect(e,r,t,s,a,n){const{profiler:i,context:o}=e;e.passOptions=a,i.recordBrushStart(r.name),r.draw(e,n),r.unbind(e,n),o.bindFramebuffer(s);const{x:d,y:f,width:h,height:c}=t;o.setViewport(d,f,h,c),i.recordBrushEnd(),i.recordPassEnd()}}export{t as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}