{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Logger.js\";\nimport t from \"../../../geometry/SpatialReference.js\";\nimport r from \"../Entity.js\";\nimport n from \"../GraphObject.js\";\nimport o from \"../GraphQueryResultHeader.js\";\nimport s from \"../ObjectValue.js\";\nimport a from \"../Path.js\";\nimport u from \"../Relationship.js\";\nimport { WasmGeometryTypeCodes as i } from \"./KnowledgeWasmInterface.js\";\nimport { WasmGraphQueryResponseTypeCodes as c } from \"./WasmQueryWrapperInterfaces.js\";\nimport { wasmToPolygonGeometry as l, wasmToPolylineGeometry as p, wasmToMultipointGeometry as _, wasmToPointGeometry as d } from \"./wasmToGeometryFactories.js\";\nconst m = () => e.getLogger(\"esri.rest.knowledgeGraph.WasmToQueryResponseObjConstructors\"),\n  f = {\n    decodedWasmObjToQueryResponseObj: (e, t, r) => {\n      if (null == e) return null;\n      if (\"object\" != typeof e) return e;\n      if (\"getDate\" in e) return e;\n      if (\"geometry_type\" in e) switch (e.geometry_type.value) {\n        case null:\n          return null;\n        case i.ESRI_GEOMETRY_POINT:\n          return d(e, r);\n        case i.ESRI_GEOMETRY_MULTIPOINT:\n          return _(e, r);\n        case i.ESRI_GEOMETRY_POLYLINE:\n          return p(e, r);\n        case i.ESRI_GEOMETRY_POLYGON:\n          return l(e, r);\n        case i.ESRI_GEOMETRY_ENVELOPE:\n        case i.ESRI_GEOMETRY_MULTI_PATCH:\n          return m().warnOnce(\"Envelope and Multipatch are not supported on knowledge entities, but one of those geometry types was detected. Result interpreted as null\"), null;\n        case i.ESRI_GEOMETRY_NULL:\n        case i.ESRI_GEOMETRY_ANY:\n        default:\n          return m().warnOnce(\"Unknown or blank geometry type returned - Result interpreted as null\"), null;\n      } else {\n        if (!(\"object_value_type\" in e)) return m().warnOnce(\"A decoded value came back of a type that is not supported. Result interpreted as null\"), null;\n        switch (e.object_value_type.value) {\n          case c.OBJECT:\n            return j(e, t, r);\n          case c.ENTITY:\n            return g(e, t, r);\n          case c.RELATIONSHIP:\n            return h(e, t, r);\n          case c.PATH:\n            return T(e, t, r);\n          case c.ARRAY:\n            return y(e, t, r);\n          default:\n            return m().warnOnce(\"Unknown graph object type detected!  Result interpreted as null\"), null;\n        }\n      }\n    }\n  };\nfunction y(e, t, r) {\n  const n = [],\n    o = e.count();\n  for (let s = 0; s < o; s++) {\n    const o = e.get_value_at(s);\n    n.push(E(o, t, r));\n  }\n  return n;\n}\nfunction E(e, t, r) {\n  return f.decodedWasmObjToQueryResponseObj(e, t, r);\n}\nfunction g(e, t, n) {\n  const o = e.type_name,\n    s = O(e, t, n),\n    a = e.get_id();\n  return new r(Object.assign({\n    typeName: o,\n    id: a\n  }, s));\n}\nfunction R(e, t, r) {\n  return new n(O(e, t, r));\n}\nfunction O(e, t, r) {\n  const n = {},\n    o = e.key_count();\n  for (let s = 0; s < o; s++) n[e.get_key_at(s)] = E(e.get_value_at(s), t, r);\n  return {\n    properties: n\n  };\n}\nfunction j(e, t, r) {\n  return new s(O(e, t, r));\n}\nfunction T(e, t, r) {\n  const n = e.entity_count(),\n    o = e.relationship_count(),\n    s = [];\n  for (let a = 0; a < n; a++) s.push(g(e.get_entity_at(a), t, r)), a < o && s.push(h(e.get_relationship_at(a), t, r));\n  return new a({\n    path: s\n  });\n}\nfunction h(e, t, r) {\n  const n = e.type_name,\n    o = O(e, t, r);\n  return new u(Object.assign({\n    typeName: n,\n    id: e.get_id(),\n    originId: e.get_origin_entity_id(),\n    destinationId: e.get_destination_entity_id()\n  }, o));\n}\nfunction w(e) {\n  const r = [];\n  for (let t = 0; t < e.get_header_keys().size(); t++) r.push(e.get_header_keys().get(t));\n  const n = new t(e.get_out_sr());\n  return new o({\n    headerKeys: r,\n    outSpatialReference: n,\n    exceededTransferLimit: e.exceeded_transfer_limit()\n  });\n}\nexport { f as decodeWasmObjectTest, E as decodedWasmObjToQueryResponseObj, y as wasmArrayToArray, g as wasmToEntity, R as wasmToGraphObject, w as wasmToGraphQueryResponseHeader, j as wasmToObjectValue, T as wasmToPath, h as wasmToRelationship };","map":{"version":3,"names":["e","t","r","n","o","s","a","u","WasmGeometryTypeCodes","i","WasmGraphQueryResponseTypeCodes","c","wasmToPolygonGeometry","l","wasmToPolylineGeometry","p","wasmToMultipointGeometry","_","wasmToPointGeometry","d","m","getLogger","f","decodedWasmObjToQueryResponseObj","geometry_type","value","ESRI_GEOMETRY_POINT","ESRI_GEOMETRY_MULTIPOINT","ESRI_GEOMETRY_POLYLINE","ESRI_GEOMETRY_POLYGON","ESRI_GEOMETRY_ENVELOPE","ESRI_GEOMETRY_MULTI_PATCH","warnOnce","ESRI_GEOMETRY_NULL","ESRI_GEOMETRY_ANY","object_value_type","OBJECT","j","ENTITY","g","RELATIONSHIP","h","PATH","T","ARRAY","y","count","get_value_at","push","E","type_name","O","get_id","Object","assign","typeName","id","R","key_count","get_key_at","properties","entity_count","relationship_count","get_entity_at","get_relationship_at","path","originId","get_origin_entity_id","destinationId","get_destination_entity_id","w","get_header_keys","size","get","get_out_sr","headerKeys","outSpatialReference","exceededTransferLimit","exceeded_transfer_limit","decodeWasmObjectTest","wasmArrayToArray","wasmToEntity","wasmToGraphObject","wasmToGraphQueryResponseHeader","wasmToObjectValue","wasmToPath","wasmToRelationship"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/wasmToQueryResponseObjFactories.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import t from\"../../../geometry/SpatialReference.js\";import r from\"../Entity.js\";import n from\"../GraphObject.js\";import o from\"../GraphQueryResultHeader.js\";import s from\"../ObjectValue.js\";import a from\"../Path.js\";import u from\"../Relationship.js\";import{WasmGeometryTypeCodes as i}from\"./KnowledgeWasmInterface.js\";import{WasmGraphQueryResponseTypeCodes as c}from\"./WasmQueryWrapperInterfaces.js\";import{wasmToPolygonGeometry as l,wasmToPolylineGeometry as p,wasmToMultipointGeometry as _,wasmToPointGeometry as d}from\"./wasmToGeometryFactories.js\";const m=()=>e.getLogger(\"esri.rest.knowledgeGraph.WasmToQueryResponseObjConstructors\"),f={decodedWasmObjToQueryResponseObj:(e,t,r)=>{if(null==e)return null;if(\"object\"!=typeof e)return e;if(\"getDate\"in e)return e;if(\"geometry_type\"in e)switch(e.geometry_type.value){case null:return null;case i.ESRI_GEOMETRY_POINT:return d(e,r);case i.ESRI_GEOMETRY_MULTIPOINT:return _(e,r);case i.ESRI_GEOMETRY_POLYLINE:return p(e,r);case i.ESRI_GEOMETRY_POLYGON:return l(e,r);case i.ESRI_GEOMETRY_ENVELOPE:case i.ESRI_GEOMETRY_MULTI_PATCH:return m().warnOnce(\"Envelope and Multipatch are not supported on knowledge entities, but one of those geometry types was detected. Result interpreted as null\"),null;case i.ESRI_GEOMETRY_NULL:case i.ESRI_GEOMETRY_ANY:default:return m().warnOnce(\"Unknown or blank geometry type returned - Result interpreted as null\"),null}else{if(!(\"object_value_type\"in e))return m().warnOnce(\"A decoded value came back of a type that is not supported. Result interpreted as null\"),null;switch(e.object_value_type.value){case c.OBJECT:return j(e,t,r);case c.ENTITY:return g(e,t,r);case c.RELATIONSHIP:return h(e,t,r);case c.PATH:return T(e,t,r);case c.ARRAY:return y(e,t,r);default:return m().warnOnce(\"Unknown graph object type detected!  Result interpreted as null\"),null}}}};function y(e,t,r){const n=[],o=e.count();for(let s=0;s<o;s++){const o=e.get_value_at(s);n.push(E(o,t,r))}return n}function E(e,t,r){return f.decodedWasmObjToQueryResponseObj(e,t,r)}function g(e,t,n){const o=e.type_name,s=O(e,t,n),a=e.get_id();return new r(Object.assign({typeName:o,id:a},s))}function R(e,t,r){return new n(O(e,t,r))}function O(e,t,r){const n={},o=e.key_count();for(let s=0;s<o;s++)n[e.get_key_at(s)]=E(e.get_value_at(s),t,r);return{properties:n}}function j(e,t,r){return new s(O(e,t,r))}function T(e,t,r){const n=e.entity_count(),o=e.relationship_count(),s=[];for(let a=0;a<n;a++)s.push(g(e.get_entity_at(a),t,r)),a<o&&s.push(h(e.get_relationship_at(a),t,r));return new a({path:s})}function h(e,t,r){const n=e.type_name,o=O(e,t,r);return new u(Object.assign({typeName:n,id:e.get_id(),originId:e.get_origin_entity_id(),destinationId:e.get_destination_entity_id()},o))}function w(e){const r=[];for(let t=0;t<e.get_header_keys().size();t++)r.push(e.get_header_keys().get(t));const n=new t(e.get_out_sr());return new o({headerKeys:r,outSpatialReference:n,exceededTransferLimit:e.exceeded_transfer_limit()})}export{f as decodeWasmObjectTest,E as decodedWasmObjToQueryResponseObj,y as wasmArrayToArray,g as wasmToEntity,R as wasmToGraphObject,w as wasmToGraphQueryResponseHeader,j as wasmToObjectValue,T as wasmToPath,h as wasmToRelationship};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}