{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nolan\\\\tasks\\\\HenHacks2025\\\\henhack25\\\\src\\\\Map.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport \"@arcgis/core/assets/esri/themes/light/main.css\";\nimport MapView from \"@arcgis/core/views/MapView\";\nimport WebMap from \"@arcgis/core/WebMap\";\nimport PopupTemplate from \"@arcgis/core/PopupTemplate\";\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\nimport { Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MapComponent = ({\n  goToHomePage\n}) => {\n  _s();\n  const mapDiv = useRef(null);\n  const [recipesArray, setRecipesArray] = useState([]);\n  async function handleSubmit() {\n    console.log(\"Generating recipes...\");\n    try {\n      const apiKey = \"AIzaSyDR-VHD19VDVq_t8ORrz4SCctc5Z_Rc6uQ\";\n      if (!apiKey) {\n        console.error(\"API key not found in environment variables.\");\n        return;\n      }\n      const genAI = new GoogleGenerativeAI(apiKey);\n      const model = genAI.getGenerativeModel({\n        model: \"gemini-2.0-flash\"\n      });\n      const prompt = `Generate a recipe from the medieval period of each region [Wales, Venetian Areas, Sweden, Sultanate of Iconium, Serbs, Principality of Russia, Principality of Pomerania, Principality of Antioch, Pomerania, Papal States, Norway, Latvians, Kingdom of Sicily, Kingdom of Scotland, Kingdom of Portugal, Kingdom of Poland, Kingdom of Navarre, Kingdom of Leon, Kingdom of Jerusalem, Kingdom of Italy, Kingdom of Hungary, Kingdom of Granada, Kingdom of Georgia, Kingdom of France, Kingdom of England, Kingdom of Cyprus, Kingdom of Castille, Kingdom of Burgundy, Kingdom of Bohemia, Khanate of the Golden Horde, Khanate of the Golden Hor, Ireland, German Empire, Duchy of Edessa, Denmark, Crown of Aragon, Byzantine Empire, Bulgaria, Ayyubid Dynasty, Almohad Dynasty] using the following ingredients:.\n    Format the response as an individual valid JSON with the following keys:\n    {\n      \"Region\": \"Region name\",\n      \"recipename\": \"Name of the recipe\",\n      \"time\": \"Estimated preparation and cooking time\",\n      \"ingredients\": [\"List of ingredients with quantities\"],\n      \"instructions\": [\"Step 1\", \"Step 2\", \"Step 3\", ...],\n      \"macronutrients\": {\n        \"calories\": \"value\",\n        \"protein\": \"value\",\n        \"carbs\": \"value\",\n        \"fat\": \"value\"\n      }\n    }\n    Return only the JSON objects without extra formatting.`;\n      console.log(\"Prompt:\", prompt);\n      const result = await model.generateContent(prompt);\n      const response = await result.response;\n      const text = await response.text(); // Await the text response\n\n      console.log(\"Response text:\", text);\n\n      // Ensure the response text is valid JSON\n      const jsonStartIndex = text.indexOf('{');\n      const jsonEndIndex = text.lastIndexOf('}') + 1;\n      const jsonString = text.substring(jsonStartIndex, jsonEndIndex);\n      console.log(\"JSON string:\", jsonString);\n\n      // Split the JSON string into individual JSON objects\n      const recipesData = JSON.parse(`[${jsonString.split('}{').join('},{')}]`);\n\n      // Assuming recipesData is an array of recipes\n      setRecipesArray(recipesData);\n      console.log(\"Recipes generated:\", recipesData);\n    } catch (error) {\n      console.error(\"Error generating recipe:\", error);\n    }\n  }\n  useEffect(() => {\n    if (mapDiv.current) {\n      const webmap = new WebMap({\n        portalItem: {\n          id: \"047cb3b3562f4760a2f5c3b05d83d4fd\"\n        }\n      });\n      const view = new MapView({\n        map: webmap,\n        container: mapDiv.current,\n        center: [10, 50],\n        zoom: 4\n      });\n      view.when(() => {\n        console.log(\"Map and View are ready\");\n\n        // Loop through layers in the WebMap and find the FeatureLayer\n        webmap.layers.forEach(layer => {\n          if (layer.type === \"feature\") {\n            const featureLayer = layer;\n            console.log(\"FeatureLayer found: \", featureLayer);\n\n            // Query all features in the layer\n            featureLayer.queryFeatures().then(results => {\n              results.features.forEach(feature => {\n                console.log(\"Feature attributes: \", feature.attributes);\n              });\n            });\n\n            // Define a PopupTemplate (if it's not already defined)\n            featureLayer.popupTemplate = new PopupTemplate({\n              title: `{REGIONNAME}`,\n              // Use the field of your feature layer\n              content: feature => {\n                const attributes = feature.graphic.attributes;\n                console.log(\"Feature attributes:\", attributes);\n                const regionName = attributes.Name || attributes.REGIONNAME || attributes.regionName; // Check for different possible attribute names\n                console.log(`Region name: ${regionName}`);\n                const recipe = recipesArray.find(r => r.Region === regionName);\n                if (recipe) {\n                  console.log(`Recipe found for ${regionName}: ${recipe.Region}`);\n                  return `\n                    <h3>${recipe.Region}</h3>\n                    <p><strong>Recipe:</strong> ${recipe.recipename}</p>\n                    <p><strong>Time:</strong> ${recipe.time}</p>\n                    <h4>Ingredients</h4>\n                    <ul>\n                      ${recipe.ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}\n                    </ul>\n                    <h4>Instructions</h4>\n                    <ol>\n                      ${recipe.instructions.map(instruction => `<li>${instruction}</li>`).join('')}\n                    </ol>\n                    <h4>Macronutrients</h4>\n                    <ul>\n                      <li><strong>Calories:</strong> ${recipe.macronutrients.calories}</li>\n                      <li><strong>Protein:</strong> ${recipe.macronutrients.protein}</li>\n                      <li><strong>Carbs:</strong> ${recipe.macronutrients.carbs}</li>\n                      <li><strong>Fat:</strong> ${recipe.macronutrients.fat}</li>\n                    </ul>\n                  `;\n                } else {\n                  console.log(`No recipe found for ${regionName}`);\n                  return `<p>No recipe found for ${regionName}</p>`;\n                }\n              }\n            });\n\n            // Add click event to the view for interaction\n            view.on(\"click\", event => {\n              view.hitTest(event).then(response => {\n                var _response$results$;\n                const graphic = (_response$results$ = response.results[0]) === null || _response$results$ === void 0 ? void 0 : _response$results$.graphic;\n                if (graphic) {\n                  const attributes = graphic.attributes;\n                  console.log(\"Clicked feature attributes:\", attributes);\n                  const regionName = attributes.Name || attributes.REGIONNAME || attributes.regionName; // Check for different possible attribute names\n                  console.log(`Clicked region: ${regionName}`);\n                  const recipe = recipesArray.find(r => r.Region === regionName);\n                  if (recipe) {\n                    console.log(`Recipe found for ${regionName}: ${recipe.Region}`);\n                    const content = `\n                      <h3>${recipe.Region}</h3>\n                      <p><strong>Time:</strong> ${recipe.time}</p>\n                      <h4>Ingredients</h4>\n                      <ul>\n                        ${recipe.ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}\n                      </ul>\n                      <h4>Instructions</h4>\n                      <ol>\n                        ${recipe.instructions.map(instruction => `<li>${instruction}</li>`).join('')}\n                      </ol>\n                      <h4>Macronutrients</h4>\n                      <ul>\n                        <li><strong>Calories:</strong> ${recipe.macronutrients.calories}</li>\n                        <li><strong>Protein:</strong> ${recipe.macronutrients.protein}</li>\n                        <li><strong>Carbs:</strong> ${recipe.macronutrients.carbs}</li>\n                        <li><strong>Fat:</strong> ${recipe.macronutrients.fat}</li>\n                      </ul>\n                    `;\n                    if (view.popup) {\n                      view.popup.open({\n                        title: regionName,\n                        content: content,\n                        location: event.mapPoint // Show popup at clicked point\n                      });\n                    }\n                  } else {\n                    console.log(`No recipe found for ${regionName}`);\n                    if (view.popup) {\n                      view.popup.open({\n                        title: regionName,\n                        content: `<p>No recipe found for ${regionName}</p>`,\n                        location: event.mapPoint // Show popup at clicked point\n                      });\n                    }\n                  }\n                }\n              });\n            });\n          }\n        });\n      }, error => {\n        console.error(\"Error loading WebMap: \", error);\n      });\n      return () => {\n        if (mapDiv.current) {\n          mapDiv.current.innerHTML = \"\";\n        }\n      };\n    }\n  }, [recipesArray]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"header\",\n      children: \"Explore the Recipes of Europe!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleSubmit,\n      className: \"submitAns\",\n      children: \"Generate Recipes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: goToHomePage,\n      className: \"submitAns\",\n      children: \"Go Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapDiv,\n      style: {\n        height: \"100vh\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 5\n  }, this);\n};\n_s(MapComponent, \"bo9ip0Zlc40q6NNYY4Tp2iUFujQ=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useEffect","useRef","useState","MapView","WebMap","PopupTemplate","GoogleGenerativeAI","Button","jsxDEV","_jsxDEV","MapComponent","goToHomePage","_s","mapDiv","recipesArray","setRecipesArray","handleSubmit","console","log","apiKey","error","genAI","model","getGenerativeModel","prompt","result","generateContent","response","text","jsonStartIndex","indexOf","jsonEndIndex","lastIndexOf","jsonString","substring","recipesData","JSON","parse","split","join","current","webmap","portalItem","id","view","map","container","center","zoom","when","layers","forEach","layer","type","featureLayer","queryFeatures","then","results","features","feature","attributes","popupTemplate","title","content","graphic","regionName","Name","REGIONNAME","recipe","find","r","Region","recipename","time","ingredients","ingredient","instructions","instruction","macronutrients","calories","protein","carbs","fat","on","event","hitTest","_response$results$","popup","open","location","mapPoint","innerHTML","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","style","height","width","_c","$RefreshReg$"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/src/Map.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, JSX } from \"react\";\r\nimport \"@arcgis/core/assets/esri/themes/light/main.css\";\r\nimport MapView from \"@arcgis/core/views/MapView\";\r\nimport WebMap from \"@arcgis/core/WebMap\";\r\nimport FeatureLayer from \"@arcgis/core/layers/FeatureLayer\";\r\nimport PopupTemplate from \"@arcgis/core/PopupTemplate\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\ninterface MapPageProps {\r\n  goToHomePage: () => void;\r\n}\r\n\r\ninterface Recipe {\r\n  Region: string;\r\n  recipename: string;\r\n  time: string;\r\n  ingredients: string[];\r\n  instructions: string[];\r\n  macronutrients: {\r\n    calories: string;\r\n    protein: string;\r\n    carbs: string;\r\n    fat: string;\r\n  };\r\n}\r\n\r\nexport const MapComponent = ({ goToHomePage }: MapPageProps): JSX.Element => {\r\n  const mapDiv = useRef<HTMLDivElement>(null);\r\n  const [recipesArray, setRecipesArray] = useState<Recipe[]>([]);\r\n\r\n  async function handleSubmit() {\r\n    console.log(\"Generating recipes...\");\r\n    try {\r\n      const apiKey = \"AIzaSyDR-VHD19VDVq_t8ORrz4SCctc5Z_Rc6uQ\";\r\n      if (!apiKey) {\r\n        console.error(\"API key not found in environment variables.\");\r\n        return;\r\n      }\r\n\r\n      const genAI = new GoogleGenerativeAI(apiKey);\r\n      const model = genAI.getGenerativeModel({ model: \"gemini-2.0-flash\" });\r\n      const prompt = `Generate a recipe from the medieval period of each region [Wales, Venetian Areas, Sweden, Sultanate of Iconium, Serbs, Principality of Russia, Principality of Pomerania, Principality of Antioch, Pomerania, Papal States, Norway, Latvians, Kingdom of Sicily, Kingdom of Scotland, Kingdom of Portugal, Kingdom of Poland, Kingdom of Navarre, Kingdom of Leon, Kingdom of Jerusalem, Kingdom of Italy, Kingdom of Hungary, Kingdom of Granada, Kingdom of Georgia, Kingdom of France, Kingdom of England, Kingdom of Cyprus, Kingdom of Castille, Kingdom of Burgundy, Kingdom of Bohemia, Khanate of the Golden Horde, Khanate of the Golden Hor, Ireland, German Empire, Duchy of Edessa, Denmark, Crown of Aragon, Byzantine Empire, Bulgaria, Ayyubid Dynasty, Almohad Dynasty] using the following ingredients:.\r\n    Format the response as an individual valid JSON with the following keys:\r\n    {\r\n      \"Region\": \"Region name\",\r\n      \"recipename\": \"Name of the recipe\",\r\n      \"time\": \"Estimated preparation and cooking time\",\r\n      \"ingredients\": [\"List of ingredients with quantities\"],\r\n      \"instructions\": [\"Step 1\", \"Step 2\", \"Step 3\", ...],\r\n      \"macronutrients\": {\r\n        \"calories\": \"value\",\r\n        \"protein\": \"value\",\r\n        \"carbs\": \"value\",\r\n        \"fat\": \"value\"\r\n      }\r\n    }\r\n    Return only the JSON objects without extra formatting.`;\r\n\r\n      console.log(\"Prompt:\", prompt);\r\n\r\n      const result = await model.generateContent(prompt);\r\n      const response = await result.response;\r\n      const text = await response.text(); // Await the text response\r\n\r\n      console.log(\"Response text:\", text);\r\n\r\n      // Ensure the response text is valid JSON\r\n      const jsonStartIndex = text.indexOf('{');\r\n      const jsonEndIndex = text.lastIndexOf('}') + 1;\r\n      const jsonString = text.substring(jsonStartIndex, jsonEndIndex);\r\n\r\n      console.log(\"JSON string:\", jsonString);\r\n\r\n      // Split the JSON string into individual JSON objects\r\n      const recipesData = JSON.parse(`[${jsonString.split('}{').join('},{')}]`);\r\n\r\n      // Assuming recipesData is an array of recipes\r\n      setRecipesArray(recipesData);\r\n      console.log(\"Recipes generated:\", recipesData);\r\n    } catch (error) {\r\n      console.error(\"Error generating recipe:\", error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (mapDiv.current) {\r\n      const webmap = new WebMap({\r\n        portalItem: { id: \"047cb3b3562f4760a2f5c3b05d83d4fd\" }\r\n      });\r\n\r\n      const view = new MapView({\r\n        map: webmap,\r\n        container: mapDiv.current,\r\n        center: [10, 50],\r\n        zoom: 4,\r\n      });\r\n\r\n      view.when(() => {\r\n        console.log(\"Map and View are ready\");\r\n\r\n        // Loop through layers in the WebMap and find the FeatureLayer\r\n        webmap.layers.forEach((layer: any) => {\r\n          if (layer.type === \"feature\") {\r\n            const featureLayer = layer as FeatureLayer;\r\n            console.log(\"FeatureLayer found: \", featureLayer);\r\n\r\n            // Query all features in the layer\r\n            featureLayer.queryFeatures().then((results: any) => {\r\n              results.features.forEach((feature: any) => {\r\n                console.log(\"Feature attributes: \", feature.attributes);\r\n              });\r\n            });\r\n\r\n            // Define a PopupTemplate (if it's not already defined)\r\n            featureLayer.popupTemplate = new PopupTemplate({\r\n              title: `{REGIONNAME}`, // Use the field of your feature layer\r\n              content: (feature: any) => {\r\n                const attributes = feature.graphic.attributes;\r\n                console.log(\"Feature attributes:\", attributes);\r\n                const regionName = attributes.Name || attributes.REGIONNAME || attributes.regionName; // Check for different possible attribute names\r\n                console.log(`Region name: ${regionName}`);\r\n                const recipe = recipesArray.find(r => r.Region === regionName);\r\n                if (recipe) {\r\n                  console.log(`Recipe found for ${regionName}: ${recipe.Region}`);\r\n                  return `\r\n                    <h3>${recipe.Region}</h3>\r\n                    <p><strong>Recipe:</strong> ${recipe.recipename}</p>\r\n                    <p><strong>Time:</strong> ${recipe.time}</p>\r\n                    <h4>Ingredients</h4>\r\n                    <ul>\r\n                      ${recipe.ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}\r\n                    </ul>\r\n                    <h4>Instructions</h4>\r\n                    <ol>\r\n                      ${recipe.instructions.map(instruction => `<li>${instruction}</li>`).join('')}\r\n                    </ol>\r\n                    <h4>Macronutrients</h4>\r\n                    <ul>\r\n                      <li><strong>Calories:</strong> ${recipe.macronutrients.calories}</li>\r\n                      <li><strong>Protein:</strong> ${recipe.macronutrients.protein}</li>\r\n                      <li><strong>Carbs:</strong> ${recipe.macronutrients.carbs}</li>\r\n                      <li><strong>Fat:</strong> ${recipe.macronutrients.fat}</li>\r\n                    </ul>\r\n                  `;\r\n                } else {\r\n                  console.log(`No recipe found for ${regionName}`);\r\n                  return `<p>No recipe found for ${regionName}</p>`;\r\n                }\r\n              }\r\n            });\r\n\r\n            // Add click event to the view for interaction\r\n            view.on(\"click\", (event: any) => {\r\n              view.hitTest(event).then((response: any) => {\r\n                const graphic = response.results[0]?.graphic;\r\n                if (graphic) {\r\n                  const attributes = graphic.attributes;\r\n                  console.log(\"Clicked feature attributes:\", attributes);\r\n                  const regionName = attributes.Name || attributes.REGIONNAME || attributes.regionName; // Check for different possible attribute names\r\n                  console.log(`Clicked region: ${regionName}`);\r\n                  const recipe = recipesArray.find(r => r.Region === regionName);\r\n                  if (recipe) {\r\n                    console.log(`Recipe found for ${regionName}: ${recipe.Region}`);\r\n                    const content = `\r\n                      <h3>${recipe.Region}</h3>\r\n                      <p><strong>Time:</strong> ${recipe.time}</p>\r\n                      <h4>Ingredients</h4>\r\n                      <ul>\r\n                        ${recipe.ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}\r\n                      </ul>\r\n                      <h4>Instructions</h4>\r\n                      <ol>\r\n                        ${recipe.instructions.map(instruction => `<li>${instruction}</li>`).join('')}\r\n                      </ol>\r\n                      <h4>Macronutrients</h4>\r\n                      <ul>\r\n                        <li><strong>Calories:</strong> ${recipe.macronutrients.calories}</li>\r\n                        <li><strong>Protein:</strong> ${recipe.macronutrients.protein}</li>\r\n                        <li><strong>Carbs:</strong> ${recipe.macronutrients.carbs}</li>\r\n                        <li><strong>Fat:</strong> ${recipe.macronutrients.fat}</li>\r\n                      </ul>\r\n                    `;\r\n                    if (view.popup) {\r\n                      view.popup.open({\r\n                        title: regionName,\r\n                        content: content,\r\n                        location: event.mapPoint, // Show popup at clicked point\r\n                      });\r\n                    }\r\n                  } else {\r\n                    console.log(`No recipe found for ${regionName}`);\r\n                    if (view.popup) {\r\n                      view.popup.open({\r\n                        title: regionName,\r\n                        content: `<p>No recipe found for ${regionName}</p>`,\r\n                        location: event.mapPoint, // Show popup at clicked point\r\n                      });\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            });\r\n          }\r\n        });\r\n      }, (error: any) => {\r\n        console.error(\"Error loading WebMap: \", error);\r\n      });\r\n\r\n      return () => {\r\n        if (mapDiv.current) {\r\n          mapDiv.current.innerHTML = \"\";\r\n        }\r\n      };\r\n    }\r\n  }, [recipesArray]);\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"header\">Explore the Recipes of Europe!</h2>\r\n      <Button onClick={handleSubmit} className=\"submitAns\">\r\n        Generate Recipes\r\n      </Button>\r\n      <Button onClick={goToHomePage} className=\"submitAns\">\r\n        Go Home\r\n      </Button>\r\n      <div ref={mapDiv} style={{ height: \"100vh\", width: \"100%\" }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapComponent;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAa,OAAO;AAC/D,OAAO,gDAAgD;AACvD,OAAOC,OAAO,MAAM,4BAA4B;AAChD,OAAOC,MAAM,MAAM,qBAAqB;AAExC,OAAOC,aAAa,MAAM,4BAA4B;AACtD,SAASC,kBAAkB,QAAQ,uBAAuB;AAC1D,SAASC,MAAM,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAoBzC,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAA2B,CAAC,KAAkB;EAAAC,EAAA;EAC3E,MAAMC,MAAM,GAAGZ,MAAM,CAAiB,IAAI,CAAC;EAC3C,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGb,QAAQ,CAAW,EAAE,CAAC;EAE9D,eAAec,YAAYA,CAAA,EAAG;IAC5BC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;IACpC,IAAI;MACF,MAAMC,MAAM,GAAG,yCAAyC;MACxD,IAAI,CAACA,MAAM,EAAE;QACXF,OAAO,CAACG,KAAK,CAAC,6CAA6C,CAAC;QAC5D;MACF;MAEA,MAAMC,KAAK,GAAG,IAAIf,kBAAkB,CAACa,MAAM,CAAC;MAC5C,MAAMG,KAAK,GAAGD,KAAK,CAACE,kBAAkB,CAAC;QAAED,KAAK,EAAE;MAAmB,CAAC,CAAC;MACrE,MAAME,MAAM,GAAG;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;MAErDP,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEM,MAAM,CAAC;MAE9B,MAAMC,MAAM,GAAG,MAAMH,KAAK,CAACI,eAAe,CAACF,MAAM,CAAC;MAClD,MAAMG,QAAQ,GAAG,MAAMF,MAAM,CAACE,QAAQ;MACtC,MAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC;;MAEpCX,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEU,IAAI,CAAC;;MAEnC;MACA,MAAMC,cAAc,GAAGD,IAAI,CAACE,OAAO,CAAC,GAAG,CAAC;MACxC,MAAMC,YAAY,GAAGH,IAAI,CAACI,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC;MAC9C,MAAMC,UAAU,GAAGL,IAAI,CAACM,SAAS,CAACL,cAAc,EAAEE,YAAY,CAAC;MAE/Dd,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEe,UAAU,CAAC;;MAEvC;MACA,MAAME,WAAW,GAAGC,IAAI,CAACC,KAAK,CAAC,IAAIJ,UAAU,CAACK,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;;MAEzE;MACAxB,eAAe,CAACoB,WAAW,CAAC;MAC5BlB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEiB,WAAW,CAAC;IAChD,CAAC,CAAC,OAAOf,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF;EAEApB,SAAS,CAAC,MAAM;IACd,IAAIa,MAAM,CAAC2B,OAAO,EAAE;MAClB,MAAMC,MAAM,GAAG,IAAIrC,MAAM,CAAC;QACxBsC,UAAU,EAAE;UAAEC,EAAE,EAAE;QAAmC;MACvD,CAAC,CAAC;MAEF,MAAMC,IAAI,GAAG,IAAIzC,OAAO,CAAC;QACvB0C,GAAG,EAAEJ,MAAM;QACXK,SAAS,EAAEjC,MAAM,CAAC2B,OAAO;QACzBO,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;QAChBC,IAAI,EAAE;MACR,CAAC,CAAC;MAEFJ,IAAI,CAACK,IAAI,CAAC,MAAM;QACdhC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;;QAErC;QACAuB,MAAM,CAACS,MAAM,CAACC,OAAO,CAAEC,KAAU,IAAK;UACpC,IAAIA,KAAK,CAACC,IAAI,KAAK,SAAS,EAAE;YAC5B,MAAMC,YAAY,GAAGF,KAAqB;YAC1CnC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEoC,YAAY,CAAC;;YAEjD;YACAA,YAAY,CAACC,aAAa,CAAC,CAAC,CAACC,IAAI,CAAEC,OAAY,IAAK;cAClDA,OAAO,CAACC,QAAQ,CAACP,OAAO,CAAEQ,OAAY,IAAK;gBACzC1C,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEyC,OAAO,CAACC,UAAU,CAAC;cACzD,CAAC,CAAC;YACJ,CAAC,CAAC;;YAEF;YACAN,YAAY,CAACO,aAAa,GAAG,IAAIxD,aAAa,CAAC;cAC7CyD,KAAK,EAAE,cAAc;cAAE;cACvBC,OAAO,EAAGJ,OAAY,IAAK;gBACzB,MAAMC,UAAU,GAAGD,OAAO,CAACK,OAAO,CAACJ,UAAU;gBAC7C3C,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE0C,UAAU,CAAC;gBAC9C,MAAMK,UAAU,GAAGL,UAAU,CAACM,IAAI,IAAIN,UAAU,CAACO,UAAU,IAAIP,UAAU,CAACK,UAAU,CAAC,CAAC;gBACtFhD,OAAO,CAACC,GAAG,CAAC,gBAAgB+C,UAAU,EAAE,CAAC;gBACzC,MAAMG,MAAM,GAAGtD,YAAY,CAACuD,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAKN,UAAU,CAAC;gBAC9D,IAAIG,MAAM,EAAE;kBACVnD,OAAO,CAACC,GAAG,CAAC,oBAAoB+C,UAAU,KAAKG,MAAM,CAACG,MAAM,EAAE,CAAC;kBAC/D,OAAO;AACzB,0BAA0BH,MAAM,CAACG,MAAM;AACvC,kDAAkDH,MAAM,CAACI,UAAU;AACnE,gDAAgDJ,MAAM,CAACK,IAAI;AAC3D;AACA;AACA,wBAAwBL,MAAM,CAACM,WAAW,CAAC7B,GAAG,CAAC8B,UAAU,IAAI,OAAOA,UAAU,OAAO,CAAC,CAACpC,IAAI,CAAC,EAAE,CAAC;AAC/F;AACA;AACA;AACA,wBAAwB6B,MAAM,CAACQ,YAAY,CAAC/B,GAAG,CAACgC,WAAW,IAAI,OAAOA,WAAW,OAAO,CAAC,CAACtC,IAAI,CAAC,EAAE,CAAC;AAClG;AACA;AACA;AACA,uDAAuD6B,MAAM,CAACU,cAAc,CAACC,QAAQ;AACrF,sDAAsDX,MAAM,CAACU,cAAc,CAACE,OAAO;AACnF,oDAAoDZ,MAAM,CAACU,cAAc,CAACG,KAAK;AAC/E,kDAAkDb,MAAM,CAACU,cAAc,CAACI,GAAG;AAC3E;AACA,mBAAmB;gBACH,CAAC,MAAM;kBACLjE,OAAO,CAACC,GAAG,CAAC,uBAAuB+C,UAAU,EAAE,CAAC;kBAChD,OAAO,0BAA0BA,UAAU,MAAM;gBACnD;cACF;YACF,CAAC,CAAC;;YAEF;YACArB,IAAI,CAACuC,EAAE,CAAC,OAAO,EAAGC,KAAU,IAAK;cAC/BxC,IAAI,CAACyC,OAAO,CAACD,KAAK,CAAC,CAAC5B,IAAI,CAAE7B,QAAa,IAAK;gBAAA,IAAA2D,kBAAA;gBAC1C,MAAMtB,OAAO,IAAAsB,kBAAA,GAAG3D,QAAQ,CAAC8B,OAAO,CAAC,CAAC,CAAC,cAAA6B,kBAAA,uBAAnBA,kBAAA,CAAqBtB,OAAO;gBAC5C,IAAIA,OAAO,EAAE;kBACX,MAAMJ,UAAU,GAAGI,OAAO,CAACJ,UAAU;kBACrC3C,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAE0C,UAAU,CAAC;kBACtD,MAAMK,UAAU,GAAGL,UAAU,CAACM,IAAI,IAAIN,UAAU,CAACO,UAAU,IAAIP,UAAU,CAACK,UAAU,CAAC,CAAC;kBACtFhD,OAAO,CAACC,GAAG,CAAC,mBAAmB+C,UAAU,EAAE,CAAC;kBAC5C,MAAMG,MAAM,GAAGtD,YAAY,CAACuD,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAKN,UAAU,CAAC;kBAC9D,IAAIG,MAAM,EAAE;oBACVnD,OAAO,CAACC,GAAG,CAAC,oBAAoB+C,UAAU,KAAKG,MAAM,CAACG,MAAM,EAAE,CAAC;oBAC/D,MAAMR,OAAO,GAAG;AACpC,4BAA4BK,MAAM,CAACG,MAAM;AACzC,kDAAkDH,MAAM,CAACK,IAAI;AAC7D;AACA;AACA,0BAA0BL,MAAM,CAACM,WAAW,CAAC7B,GAAG,CAAC8B,UAAU,IAAI,OAAOA,UAAU,OAAO,CAAC,CAACpC,IAAI,CAAC,EAAE,CAAC;AACjG;AACA;AACA;AACA,0BAA0B6B,MAAM,CAACQ,YAAY,CAAC/B,GAAG,CAACgC,WAAW,IAAI,OAAOA,WAAW,OAAO,CAAC,CAACtC,IAAI,CAAC,EAAE,CAAC;AACpG;AACA;AACA;AACA,yDAAyD6B,MAAM,CAACU,cAAc,CAACC,QAAQ;AACvF,wDAAwDX,MAAM,CAACU,cAAc,CAACE,OAAO;AACrF,sDAAsDZ,MAAM,CAACU,cAAc,CAACG,KAAK;AACjF,oDAAoDb,MAAM,CAACU,cAAc,CAACI,GAAG;AAC7E;AACA,qBAAqB;oBACD,IAAItC,IAAI,CAAC2C,KAAK,EAAE;sBACd3C,IAAI,CAAC2C,KAAK,CAACC,IAAI,CAAC;wBACd1B,KAAK,EAAEG,UAAU;wBACjBF,OAAO,EAAEA,OAAO;wBAChB0B,QAAQ,EAAEL,KAAK,CAACM,QAAQ,CAAE;sBAC5B,CAAC,CAAC;oBACJ;kBACF,CAAC,MAAM;oBACLzE,OAAO,CAACC,GAAG,CAAC,uBAAuB+C,UAAU,EAAE,CAAC;oBAChD,IAAIrB,IAAI,CAAC2C,KAAK,EAAE;sBACd3C,IAAI,CAAC2C,KAAK,CAACC,IAAI,CAAC;wBACd1B,KAAK,EAAEG,UAAU;wBACjBF,OAAO,EAAE,0BAA0BE,UAAU,MAAM;wBACnDwB,QAAQ,EAAEL,KAAK,CAACM,QAAQ,CAAE;sBAC5B,CAAC,CAAC;oBACJ;kBACF;gBACF;cACF,CAAC,CAAC;YACJ,CAAC,CAAC;UACJ;QACF,CAAC,CAAC;MACJ,CAAC,EAAGtE,KAAU,IAAK;QACjBH,OAAO,CAACG,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD,CAAC,CAAC;MAEF,OAAO,MAAM;QACX,IAAIP,MAAM,CAAC2B,OAAO,EAAE;UAClB3B,MAAM,CAAC2B,OAAO,CAACmD,SAAS,GAAG,EAAE;QAC/B;MACF,CAAC;IACH;EACF,CAAC,EAAE,CAAC7E,YAAY,CAAC,CAAC;EAElB,oBACEL,OAAA;IAAAmF,QAAA,gBACEnF,OAAA;MAAIoF,SAAS,EAAC,QAAQ;MAAAD,QAAA,EAAC;IAA8B;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC1DxF,OAAA,CAACF,MAAM;MAAC2F,OAAO,EAAElF,YAAa;MAAC6E,SAAS,EAAC,WAAW;MAAAD,QAAA,EAAC;IAErD;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTxF,OAAA,CAACF,MAAM;MAAC2F,OAAO,EAAEvF,YAAa;MAACkF,SAAS,EAAC,WAAW;MAAAD,QAAA,EAAC;IAErD;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTxF,OAAA;MAAK0F,GAAG,EAAEtF,MAAO;MAACuF,KAAK,EAAE;QAAEC,MAAM,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAO;IAAE;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5D,CAAC;AAEV,CAAC;AAACrF,EAAA,CA1MWF,YAAY;AAAA6F,EAAA,GAAZ7F,YAAY;AA4MzB,eAAeA,YAAY;AAAC,IAAA6F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}