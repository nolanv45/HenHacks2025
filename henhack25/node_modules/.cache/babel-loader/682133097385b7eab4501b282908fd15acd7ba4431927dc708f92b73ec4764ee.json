{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport e from \"./Analysis.js\";\nimport o from \"./LineOfSightAnalysisObserver.js\";\nimport r from \"./LineOfSightAnalysisTarget.js\";\nimport s from \"../core/Collection.js\";\nimport { referenceSetter as i, castForReferenceSetter as n } from \"../core/collectionUtils.js\";\nimport { watch as l, syncAndInitial as p } from \"../core/reactiveUtils.js\";\nimport { property as a } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as u } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { projectOrLoad as c } from \"../geometry/projection.js\";\nimport { fromValues as m, expandWithVec3 as g, toExtent as f } from \"../geometry/support/aaBoundingBox.js\";\nimport { getGeometryEffectiveElevationMode as h } from \"../support/elevationInfoUtils.js\";\nconst y = s.ofType(r);\nlet d = class extends e {\n  constructor(t) {\n    super(t), this.type = \"line-of-sight\", this.observer = null, this.extent = null;\n  }\n  initialize() {\n    this.addHandles(l(() => this._computeExtent(), t => {\n      null == t?.pending && this._set(\"extent\", null != t ? t.extent : null);\n    }, p));\n  }\n  get targets() {\n    return this._get(\"targets\") || new y();\n  }\n  set targets(t) {\n    this._set(\"targets\", i(t, this.targets, y));\n  }\n  get spatialReference() {\n    return null != this.observer?.position ? this.observer.position.spatialReference : null;\n  }\n  get requiredPropertiesForEditing() {\n    return [this.observer?.position];\n  }\n  async waitComputeExtent() {\n    const t = this._computeExtent();\n    return null != t ? t.pending : Promise.resolve();\n  }\n  _computeExtent() {\n    const t = this.spatialReference;\n    if (null == this.observer?.position || null == t) return null;\n    const e = t => \"absolute-height\" === h(t.position, t.elevationInfo),\n      o = this.observer.position,\n      r = m(o.x, o.y, o.z, o.x, o.y, o.z);\n    for (const i of this.targets) if (null != i.position) {\n      const e = c(i.position, t);\n      if (null != e.pending) return {\n        pending: e.pending,\n        extent: null\n      };\n      if (null != e.geometry) {\n        const {\n          x: t,\n          y: o,\n          z: s\n        } = e.geometry;\n        g(r, [t, o, s]);\n      }\n    }\n    const s = f(r, t);\n    return e(this.observer) && this.targets.every(e) || (s.zmin = void 0, s.zmax = void 0), {\n      pending: null,\n      extent: s\n    };\n  }\n  clear() {\n    this.observer = null, this.targets.removeAll();\n  }\n};\nt([a({\n  type: [\"line-of-sight\"]\n})], d.prototype, \"type\", void 0), t([a({\n  type: o,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], d.prototype, \"observer\", void 0), t([a({\n  cast: n,\n  type: y,\n  nonNullable: !0,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], d.prototype, \"targets\", null), t([a({\n  value: null,\n  readOnly: !0\n})], d.prototype, \"extent\", void 0), t([a({\n  readOnly: !0\n})], d.prototype, \"spatialReference\", null), t([a({\n  readOnly: !0\n})], d.prototype, \"requiredPropertiesForEditing\", null), d = t([u(\"esri.analysis.LineOfSightAnalysis\")], d);\nconst v = d;\nexport { v as default };","map":{"version":3,"names":["_","t","e","o","r","s","referenceSetter","i","castForReferenceSetter","n","watch","l","syncAndInitial","p","property","a","subclass","u","projectOrLoad","c","fromValues","m","expandWithVec3","g","toExtent","f","getGeometryEffectiveElevationMode","h","y","ofType","d","constructor","type","observer","extent","initialize","addHandles","_computeExtent","pending","_set","targets","_get","spatialReference","position","requiredPropertiesForEditing","waitComputeExtent","Promise","resolve","elevationInfo","x","z","geometry","every","zmin","zmax","clear","removeAll","prototype","json","read","write","cast","nonNullable","value","readOnly","v","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/analysis/LineOfSightAnalysis.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"./Analysis.js\";import o from\"./LineOfSightAnalysisObserver.js\";import r from\"./LineOfSightAnalysisTarget.js\";import s from\"../core/Collection.js\";import{referenceSetter as i,castForReferenceSetter as n}from\"../core/collectionUtils.js\";import{watch as l,syncAndInitial as p}from\"../core/reactiveUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as u}from\"../core/accessorSupport/decorators/subclass.js\";import{projectOrLoad as c}from\"../geometry/projection.js\";import{fromValues as m,expandWithVec3 as g,toExtent as f}from\"../geometry/support/aaBoundingBox.js\";import{getGeometryEffectiveElevationMode as h}from\"../support/elevationInfoUtils.js\";const y=s.ofType(r);let d=class extends e{constructor(t){super(t),this.type=\"line-of-sight\",this.observer=null,this.extent=null}initialize(){this.addHandles(l((()=>this._computeExtent()),(t=>{null==t?.pending&&this._set(\"extent\",null!=t?t.extent:null)}),p))}get targets(){return this._get(\"targets\")||new y}set targets(t){this._set(\"targets\",i(t,this.targets,y))}get spatialReference(){return null!=this.observer?.position?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}async waitComputeExtent(){const t=this._computeExtent();return null!=t?t.pending:Promise.resolve()}_computeExtent(){const t=this.spatialReference;if(null==this.observer?.position||null==t)return null;const e=t=>\"absolute-height\"===h(t.position,t.elevationInfo),o=this.observer.position,r=m(o.x,o.y,o.z,o.x,o.y,o.z);for(const i of this.targets)if(null!=i.position){const e=c(i.position,t);if(null!=e.pending)return{pending:e.pending,extent:null};if(null!=e.geometry){const{x:t,y:o,z:s}=e.geometry;g(r,[t,o,s])}}const s=f(r,t);return e(this.observer)&&this.targets.every(e)||(s.zmin=void 0,s.zmax=void 0),{pending:null,extent:s}}clear(){this.observer=null,this.targets.removeAll()}};t([a({type:[\"line-of-sight\"]})],d.prototype,\"type\",void 0),t([a({type:o,json:{read:!0,write:!0}})],d.prototype,\"observer\",void 0),t([a({cast:n,type:y,nonNullable:!0,json:{read:!0,write:!0}})],d.prototype,\"targets\",null),t([a({value:null,readOnly:!0})],d.prototype,\"extent\",void 0),t([a({readOnly:!0})],d.prototype,\"spatialReference\",null),t([a({readOnly:!0})],d.prototype,\"requiredPropertiesForEditing\",null),d=t([u(\"esri.analysis.LineOfSightAnalysis\")],d);const v=d;export{v as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}