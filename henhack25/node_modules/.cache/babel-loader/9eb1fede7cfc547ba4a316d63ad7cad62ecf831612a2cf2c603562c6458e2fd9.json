{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { rad2deg as t } from \"../../../core/mathUtils.js\";\nimport { getMetersPerUnitForSR as e, getMetersPerCartesianUnitForSR as o } from \"../../../core/unitUtils.js\";\nimport { set as r } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { c as i } from \"../../../chunks/vec32.js\";\nimport { getReferenceEllipsoid as s } from \"../../../geometry/ellipsoidUtils.js\";\nimport { getSphericalPCPF as n } from \"../../../geometry/spatialReferenceEllipsoidUtils.js\";\nimport { projectPointToVector as a } from \"../../../geometry/projection/projectPointToVector.js\";\nimport { projectVectorToPoint as m } from \"../../../geometry/projection/projectVectorToPoint.js\";\nimport { projectVectorToVector as c } from \"../../../geometry/projection/projectVectorToVector.js\";\nimport { create as l } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { Axis as p } from \"../../../geometry/support/Axis.js\";\nimport { create as d, setExtent as h, getExtent as u, altitudeAt as f, setAltitudeAt as y, setAltitudeOfTransformation as g, normalAt as j, axisAt as S, elevate as _, intersectRayClosestSilhouette as w, intersectRay as A, createGlobal as P, createLocal as C } from \"../../../geometry/support/coordinateSystem.js\";\nimport { intersectRay as R } from \"../../../geometry/support/plane.js\";\nimport { angleAroundAxis as M } from \"../../../geometry/support/vector.js\";\nimport { sv3d as U } from \"../../../geometry/support/vectorStacks.js\";\nimport { isDehydratedPoint as v } from \"../../../layers/graphics/dehydratedFeatureUtils.js\";\nimport { ViewingMode as x } from \"../../ViewingMode.js\";\nclass B {\n  constructor(t, e, o, r) {\n    this.viewingMode = t, this.spatialReference = e, this.unitInMeters = o, this._coordinateSystem = r, this._tmpCoordinateSystem = d(r), this.referenceEllipsoid = s(e), this.sphericalPCPF = n(e);\n  }\n  set extent(t) {\n    t && h(this._coordinateSystem, t, this._coordinateSystem);\n  }\n  get extent() {\n    return u(this._coordinateSystem, l());\n  }\n  getAltitude(t) {\n    return f(this._coordinateSystem, t);\n  }\n  setAltitude(t, e, o = t) {\n    return y(this._coordinateSystem, o, e, t);\n  }\n  setAltitudeOfTransformation(t, e) {\n    g(this._coordinateSystem, e, t, e);\n  }\n  worldUpAtPosition(t, e) {\n    return j(this._coordinateSystem, t, e);\n  }\n  worldBasisAtPosition(t, e, o) {\n    return S(this._coordinateSystem, t, e, o);\n  }\n  basisMatrixAtPosition(t, e) {\n    const o = this.worldBasisAtPosition(t, p.X, U.get()),\n      i = this.worldBasisAtPosition(t, p.Y, U.get()),\n      s = this.worldBasisAtPosition(t, p.Z, U.get());\n    return r(e, o[0], o[1], o[2], 0, i[0], i[1], i[2], 0, s[0], s[1], s[2], 0, 0, 0, 0, 1), e;\n  }\n  headingAtPosition(e, o) {\n    const r = this.worldUpAtPosition(e, U.get()),\n      i = this.worldBasisAtPosition(e, p.Y, U.get()),\n      s = M(o, i, r);\n    return t(s);\n  }\n  intersectManifoldClosestSilhouette(t, e, o) {\n    return _(this._coordinateSystem, e, this._tmpCoordinateSystem), w(this._tmpCoordinateSystem, t, o), o;\n  }\n  intersectManifold(t, e, o) {\n    _(this._coordinateSystem, e, this._tmpCoordinateSystem);\n    const r = U.get();\n    return A(this._tmpCoordinateSystem, t, r) ? i(o, r) : null;\n  }\n  intersectInfiniteManifold(t, e, o) {\n    if (this.viewingMode === x.Global) return this.intersectManifold(t, e, o);\n    _(this._coordinateSystem, e, this._tmpCoordinateSystem);\n    const r = this._tmpCoordinateSystem.value,\n      s = U.get();\n    return R(r.plane, t, s) ? i(o, s) : null;\n  }\n  toRenderCoords(t, e, o) {\n    return v(t) ? a(t, e, this.spatialReference) : c(t, e, o, this.spatialReference);\n  }\n  fromRenderCoords(t, e, o = null) {\n    return v(e) ? (null != o && (e.spatialReference = o), m(t, this.spatialReference, e) ? e : null) : c(t, this.spatialReference, e, o) ? e : null;\n  }\n  static create(t, o) {\n    switch (t) {\n      case x.Local:\n        return new B(x.Local, o, e(o), C());\n      case x.Global:\n        return new B(x.Global, o, 1, P(o));\n    }\n  }\n  static renderUnitScaleFactor(t, e) {\n    return o(t) / o(e);\n  }\n}\nexport { B as RenderCoordsHelper };","map":{"version":3,"names":["rad2deg","t","getMetersPerUnitForSR","e","getMetersPerCartesianUnitForSR","o","set","r","c","i","getReferenceEllipsoid","s","getSphericalPCPF","n","projectPointToVector","a","projectVectorToPoint","m","projectVectorToVector","create","l","Axis","p","d","setExtent","h","getExtent","u","altitudeAt","f","setAltitudeAt","y","setAltitudeOfTransformation","g","normalAt","j","axisAt","S","elevate","_","intersectRayClosestSilhouette","w","intersectRay","A","createGlobal","P","createLocal","C","R","angleAroundAxis","M","sv3d","U","isDehydratedPoint","v","ViewingMode","x","B","constructor","viewingMode","spatialReference","unitInMeters","_coordinateSystem","_tmpCoordinateSystem","referenceEllipsoid","sphericalPCPF","extent","getAltitude","setAltitude","worldUpAtPosition","worldBasisAtPosition","basisMatrixAtPosition","X","get","Y","Z","headingAtPosition","intersectManifoldClosestSilhouette","intersectManifold","intersectInfiniteManifold","Global","value","plane","toRenderCoords","fromRenderCoords","Local","renderUnitScaleFactor","RenderCoordsHelper"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../../core/mathUtils.js\";import{getMetersPerUnitForSR as e,getMetersPerCartesianUnitForSR as o}from\"../../../core/unitUtils.js\";import{set as r}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{c as i}from\"../../../chunks/vec32.js\";import{getReferenceEllipsoid as s}from\"../../../geometry/ellipsoidUtils.js\";import{getSphericalPCPF as n}from\"../../../geometry/spatialReferenceEllipsoidUtils.js\";import{projectPointToVector as a}from\"../../../geometry/projection/projectPointToVector.js\";import{projectVectorToPoint as m}from\"../../../geometry/projection/projectVectorToPoint.js\";import{projectVectorToVector as c}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as l}from\"../../../geometry/support/aaBoundingRect.js\";import{Axis as p}from\"../../../geometry/support/Axis.js\";import{create as d,setExtent as h,getExtent as u,altitudeAt as f,setAltitudeAt as y,setAltitudeOfTransformation as g,normalAt as j,axisAt as S,elevate as _,intersectRayClosestSilhouette as w,intersectRay as A,createGlobal as P,createLocal as C}from\"../../../geometry/support/coordinateSystem.js\";import{intersectRay as R}from\"../../../geometry/support/plane.js\";import{angleAroundAxis as M}from\"../../../geometry/support/vector.js\";import{sv3d as U}from\"../../../geometry/support/vectorStacks.js\";import{isDehydratedPoint as v}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";import{ViewingMode as x}from\"../../ViewingMode.js\";class B{constructor(t,e,o,r){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=o,this._coordinateSystem=r,this._tmpCoordinateSystem=d(r),this.referenceEllipsoid=s(e),this.sphericalPCPF=n(e)}set extent(t){t&&h(this._coordinateSystem,t,this._coordinateSystem)}get extent(){return u(this._coordinateSystem,l())}getAltitude(t){return f(this._coordinateSystem,t)}setAltitude(t,e,o=t){return y(this._coordinateSystem,o,e,t)}setAltitudeOfTransformation(t,e){g(this._coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return j(this._coordinateSystem,t,e)}worldBasisAtPosition(t,e,o){return S(this._coordinateSystem,t,e,o)}basisMatrixAtPosition(t,e){const o=this.worldBasisAtPosition(t,p.X,U.get()),i=this.worldBasisAtPosition(t,p.Y,U.get()),s=this.worldBasisAtPosition(t,p.Z,U.get());return r(e,o[0],o[1],o[2],0,i[0],i[1],i[2],0,s[0],s[1],s[2],0,0,0,0,1),e}headingAtPosition(e,o){const r=this.worldUpAtPosition(e,U.get()),i=this.worldBasisAtPosition(e,p.Y,U.get()),s=M(o,i,r);return t(s)}intersectManifoldClosestSilhouette(t,e,o){return _(this._coordinateSystem,e,this._tmpCoordinateSystem),w(this._tmpCoordinateSystem,t,o),o}intersectManifold(t,e,o){_(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=U.get();return A(this._tmpCoordinateSystem,t,r)?i(o,r):null}intersectInfiniteManifold(t,e,o){if(this.viewingMode===x.Global)return this.intersectManifold(t,e,o);_(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=this._tmpCoordinateSystem.value,s=U.get();return R(r.plane,t,s)?i(o,s):null}toRenderCoords(t,e,o){return v(t)?a(t,e,this.spatialReference):c(t,e,o,this.spatialReference)}fromRenderCoords(t,e,o=null){return v(e)?(null!=o&&(e.spatialReference=o),m(t,this.spatialReference,e)?e:null):c(t,this.spatialReference,e,o)?e:null}static create(t,o){switch(t){case x.Local:return new B(x.Local,o,e(o),C());case x.Global:return new B(x.Global,o,1,P(o))}}static renderUnitScaleFactor(t,e){return o(t)/o(e)}}export{B as RenderCoordsHelper};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}