{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport s from \"../../request.js\";\nimport \"../../core/has.js\";\nimport { strict as e } from \"../../core/jsonMap.js\";\nimport { createAbortError as r } from \"../../core/promiseUtils.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { enumeration as i } from \"../../core/accessorSupport/decorators/enumeration.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport c from \"../../rest/networks/support/TraceResult.js\";\nconst m = e()({\n  Pending: \"job-waiting\",\n  InProgress: \"job-executing\",\n  Completed: \"job-succeeded\"\n});\nlet n = class extends c {\n  constructor(t) {\n    super(t), this.statusUrl = null, this.status = null, this.submissionTime = null, this.lastUpdatedTime = null, this._timer = void 0;\n  }\n  destroy() {\n    clearInterval(this._timer);\n  }\n  async checkJobStatus(t) {\n    const e = {\n        ...t,\n        query: {\n          f: \"json\"\n        }\n      },\n      {\n        data: r\n      } = await s(this.statusUrl, e),\n      o = r.traceResults ? {\n        ...r.traceResults,\n        ...r\n      } : r;\n    return this.read(o), this;\n  }\n  async waitForJobCompletion() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      interval: s = 1e3,\n      statusCallback: e\n    } = t;\n    return new Promise((t, o) => {\n      this._clearTimer();\n      const i = setInterval(() => {\n        this._timer || o(r()), this.checkJobStatus().then(s => {\n          const {\n            status: r\n          } = s;\n          switch (this.status = r, r) {\n            case \"job-succeeded\":\n              this._clearTimer(), t(this);\n              break;\n            case \"job-waiting\":\n            case \"job-executing\":\n              e && e(this);\n          }\n        }, t => {\n          this._clearTimer(), o(t);\n        });\n      }, s);\n      this._timer = i;\n    });\n  }\n  _clearTimer() {\n    clearInterval(this._timer), this._timer = void 0;\n  }\n};\nt([o({\n  type: String,\n  json: {\n    write: !0\n  }\n})], n.prototype, \"statusUrl\", void 0), t([i(m)], n.prototype, \"status\", void 0), t([o({\n  type: Date,\n  json: {\n    type: Number,\n    write: {\n      writer: (t, s) => {\n        s.submissionTime = t ? t.getTime() : null;\n      }\n    }\n  }\n})], n.prototype, \"submissionTime\", void 0), t([o({\n  type: Date,\n  json: {\n    type: Number,\n    write: {\n      writer: (t, s) => {\n        s.lastUpdatedTime = t ? t.getTime() : null;\n      }\n    }\n  }\n})], n.prototype, \"lastUpdatedTime\", void 0), n = t([a(\"esri.networks.support.TraceJobInfo\")], n);\nconst p = n;\nexport { p as default };","map":{"version":3,"names":["_","t","s","strict","e","createAbortError","r","property","o","enumeration","i","subclass","a","c","m","Pending","InProgress","Completed","n","constructor","statusUrl","status","submissionTime","lastUpdatedTime","_timer","destroy","clearInterval","checkJobStatus","query","f","data","traceResults","read","waitForJobCompletion","arguments","length","undefined","interval","statusCallback","Promise","_clearTimer","setInterval","then","type","String","json","write","prototype","Date","Number","writer","getTime","p","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/networks/support/TraceJobInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import s from\"../../request.js\";import\"../../core/has.js\";import{strict as e}from\"../../core/jsonMap.js\";import{createAbortError as r}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as i}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../../rest/networks/support/TraceResult.js\";const m=e()({Pending:\"job-waiting\",InProgress:\"job-executing\",Completed:\"job-succeeded\"});let n=class extends c{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){const e={...t,query:{f:\"json\"}},{data:r}=await s(this.statusUrl,e),o=r.traceResults?{...r.traceResults,...r}:r;return this.read(o),this}async waitForJobCompletion(t={}){const{interval:s=1e3,statusCallback:e}=t;return new Promise(((t,o)=>{this._clearTimer();const i=setInterval((()=>{this._timer||o(r()),this.checkJobStatus().then((s=>{const{status:r}=s;switch(this.status=r,r){case\"job-succeeded\":this._clearTimer(),t(this);break;case\"job-waiting\":case\"job-executing\":e&&e(this)}}),(t=>{this._clearTimer(),o(t)}))}),s);this._timer=i}))}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};t([o({type:String,json:{write:!0}})],n.prototype,\"statusUrl\",void 0),t([i(m)],n.prototype,\"status\",void 0),t([o({type:Date,json:{type:Number,write:{writer:(t,s)=>{s.submissionTime=t?t.getTime():null}}}})],n.prototype,\"submissionTime\",void 0),t([o({type:Date,json:{type:Number,write:{writer:(t,s)=>{s.lastUpdatedTime=t?t.getTime():null}}}})],n.prototype,\"lastUpdatedTime\",void 0),n=t([a(\"esri.networks.support.TraceJobInfo\")],n);const p=n;export{p as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}