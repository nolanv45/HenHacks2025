{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { isDevEnvironment as t, adjustStaticAGOUrl as e } from \"../../core/devEnvironmentUtils.js\";\nimport r from \"../../core/Error.js\";\nimport { urlToObject as o, removeFile as l } from \"../../core/urlUtils.js\";\nimport n from \"../../portal/Portal.js\";\nimport { f as s } from \"../../chunks/persistableUrlUtils.js\";\nimport { fromJSON as m } from \"./jsonUtils.js\";\nimport a from \"./StyleOrigin.js\";\nimport { fetchStyle as i, requestJSON as p, makeCIMSymbolRef as u, Style2DUrlTemplate as c, symbolUrlFromStyleItem as f } from \"./styleUtils.js\";\nimport { Thumbnail as y } from \"./Thumbnail.js\";\nimport { isSymbol3D as b } from \"./typeUtils.js\";\nimport { defaultAcceptedFormats as d } from \"./webStyleAcceptedFormats.js\";\nfunction h(t, e, o) {\n  const l = t.name;\n  return null == l ? Promise.reject(new r(\"symbolstyleutils:style-symbol-reference-name-missing\", \"Missing name in style symbol reference\")) : \"Esri2DPointSymbolsStyle\" === t.styleName ? U(l, e, o) : i(t, e, o).then(t => j(t, l, e, f, o));\n}\nfunction g(t, e) {\n  return e.items.find(e => e.name === t);\n}\nasync function j(i, c, f, h, j) {\n  const U = null != f?.portal ? f.portal : n.getDefault(),\n    w = {\n      portal: U,\n      url: o(i.baseUrl),\n      origin: \"portal-item\"\n    },\n    N = g(c, i.data);\n  if (!N) throw new r(\"symbolstyleutils:symbol-name-not-found\", `The symbol name '${c}' could not be found`, {\n    symbolName: c\n  });\n  const S = j?.acceptedFormats ?? d,\n    D = h(N, S);\n  if (!D) throw new r(\"symbolstyleutils:symbol-reference-no-accepted-format\", `The symbol name '${c}' does not have an accepted format (one of ${S})`, {\n    symbolName: c\n  });\n  const {\n    url: O,\n    format: $\n  } = D;\n  let v = s(O, w),\n    E = N.thumbnail?.href ?? null;\n  const P = N.thumbnail?.imageData;\n  t() && (v = e(v) ?? \"\", E = e(E));\n  const T = {\n    portal: U,\n    url: o(l(v)),\n    origin: \"portal-item\"\n  };\n  return p(v, j).then(t => {\n    const e = \"cim\" === $ ? u(t.data) : t.data,\n      r = m(e, T);\n    if (r && b(r)) {\n      if (E) {\n        const t = s(E, w);\n        r.thumbnail = new y({\n          url: t\n        });\n      } else P && (r.thumbnail = new y({\n        url: `data:image/png;base64,${P}`\n      }));\n      i.styleUrl ? r.styleOrigin = new a({\n        portal: f.portal,\n        styleUrl: i.styleUrl,\n        name: c\n      }) : i.styleName && (r.styleOrigin = new a({\n        portal: f.portal,\n        styleName: i.styleName,\n        name: c\n      }));\n    }\n    return r;\n  });\n}\nfunction U(t, e, r) {\n  const s = c.replaceAll(/\\{SymbolName\\}/gi, t),\n    a = null != e.portal ? e.portal : n.getDefault();\n  return p(s, r).then(t => {\n    const e = u(t.data);\n    return m(e, {\n      portal: a,\n      url: o(l(s)),\n      origin: \"portal-item\"\n    });\n  });\n}\nexport { j as fetchSymbolFromStyle, g as getStyleItemFromStyle, h as resolveWebStyleSymbol };","map":{"version":3,"names":["isDevEnvironment","t","adjustStaticAGOUrl","e","r","urlToObject","o","removeFile","l","n","f","s","fromJSON","m","a","fetchStyle","i","requestJSON","p","makeCIMSymbolRef","u","Style2DUrlTemplate","c","symbolUrlFromStyleItem","Thumbnail","y","isSymbol3D","b","defaultAcceptedFormats","d","h","name","Promise","reject","styleName","U","then","j","g","items","find","portal","getDefault","w","url","baseUrl","origin","N","data","symbolName","S","acceptedFormats","D","O","format","$","v","E","thumbnail","href","P","imageData","T","styleUrl","styleOrigin","replaceAll","fetchSymbolFromStyle","getStyleItemFromStyle","resolveWebStyleSymbol"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isDevEnvironment as t,adjustStaticAGOUrl as e}from\"../../core/devEnvironmentUtils.js\";import r from\"../../core/Error.js\";import{urlToObject as o,removeFile as l}from\"../../core/urlUtils.js\";import n from\"../../portal/Portal.js\";import{f as s}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as m}from\"./jsonUtils.js\";import a from\"./StyleOrigin.js\";import{fetchStyle as i,requestJSON as p,makeCIMSymbolRef as u,Style2DUrlTemplate as c,symbolUrlFromStyleItem as f}from\"./styleUtils.js\";import{Thumbnail as y}from\"./Thumbnail.js\";import{isSymbol3D as b}from\"./typeUtils.js\";import{defaultAcceptedFormats as d}from\"./webStyleAcceptedFormats.js\";function h(t,e,o){const l=t.name;return null==l?Promise.reject(new r(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\")):\"Esri2DPointSymbolsStyle\"===t.styleName?U(l,e,o):i(t,e,o).then((t=>j(t,l,e,f,o)))}function g(t,e){return e.items.find((e=>e.name===t))}async function j(i,c,f,h,j){const U=null!=f?.portal?f.portal:n.getDefault(),w={portal:U,url:o(i.baseUrl),origin:\"portal-item\"},N=g(c,i.data);if(!N)throw new r(\"symbolstyleutils:symbol-name-not-found\",`The symbol name '${c}' could not be found`,{symbolName:c});const S=j?.acceptedFormats??d,D=h(N,S);if(!D)throw new r(\"symbolstyleutils:symbol-reference-no-accepted-format\",`The symbol name '${c}' does not have an accepted format (one of ${S})`,{symbolName:c});const{url:O,format:$}=D;let v=s(O,w),E=N.thumbnail?.href??null;const P=N.thumbnail?.imageData;t()&&(v=e(v)??\"\",E=e(E));const T={portal:U,url:o(l(v)),origin:\"portal-item\"};return p(v,j).then((t=>{const e=\"cim\"===$?u(t.data):t.data,r=m(e,T);if(r&&b(r)){if(E){const t=s(E,w);r.thumbnail=new y({url:t})}else P&&(r.thumbnail=new y({url:`data:image/png;base64,${P}`}));i.styleUrl?r.styleOrigin=new a({portal:f.portal,styleUrl:i.styleUrl,name:c}):i.styleName&&(r.styleOrigin=new a({portal:f.portal,styleName:i.styleName,name:c}))}return r}))}function U(t,e,r){const s=c.replaceAll(/\\{SymbolName\\}/gi,t),a=null!=e.portal?e.portal:n.getDefault();return p(s,r).then((t=>{const e=u(t.data);return m(e,{portal:a,url:o(l(s)),origin:\"portal-item\"})}))}export{j as fetchSymbolFromStyle,g as getStyleItemFromStyle,h as resolveWebStyleSymbol};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}