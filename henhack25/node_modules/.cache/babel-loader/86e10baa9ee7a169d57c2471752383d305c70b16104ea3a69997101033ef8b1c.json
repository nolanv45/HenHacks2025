{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { VertexTextureCoordinates as e } from \"../attributes/VertexTextureCoordinates.glsl.js\";\nimport { Float3DrawUniform as r } from \"../../shaderModules/Float3DrawUniform.js\";\nimport { Float3PassUniform as o } from \"../../shaderModules/Float3PassUniform.js\";\nimport { glsl as s, If as t } from \"../../shaderModules/glsl.js\";\nimport { Texture2DDrawUniform as a } from \"../../shaderModules/Texture2DDrawUniform.js\";\nimport { Texture2DPassUniform as i } from \"../../shaderModules/Texture2DPassUniform.js\";\nimport { GLTextureMaterialBindParameters as c } from \"../../../lib/GLTextureMaterial.js\";\nimport { schematicMRRFactors as l } from \"../../../materials/pbrUtils.js\";\nimport { BindType as u } from \"../../../../../webgl/BindType.js\";\nvar n;\n!function (e) {\n  e[e.Disabled = 0] = \"Disabled\", e[e.Normal = 1] = \"Normal\", e[e.Schematic = 2] = \"Schematic\", e[e.Water = 3] = \"Water\", e[e.WaterOnIntegratedMesh = 4] = \"WaterOnIntegratedMesh\", e[e.Simplified = 5] = \"Simplified\", e[e.TerrainWithWater = 6] = \"TerrainWithWater\", e[e.COUNT = 7] = \"COUNT\";\n}(n || (n = {}));\nclass d extends c {\n  constructor() {\n    super(...arguments), this.mrrFactors = l;\n  }\n}\nfunction m(c, l) {\n  const d = l.pbrMode,\n    m = c.fragment;\n  if (d !== n.Schematic && d !== n.Disabled && d !== n.Normal) return void m.code.add(s`void applyPBRFactors() {}`);\n  if (d === n.Disabled) return void m.code.add(s`void applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);\n  if (d === n.Schematic) return void m.code.add(s`vec3 mrr = vec3(0.0, 0.6, 0.2);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);\n  const {\n    hasMetallicRoughnessTexture: p,\n    hasMetallicRoughnessTextureTransform: f,\n    hasOcclusionTexture: h,\n    hasOcclusionTextureTransform: g,\n    bindType: v\n  } = l;\n  (p || h) && c.include(e, l), m.code.add(s`vec3 mrr;\nfloat occlusion;`), p && m.uniforms.add(v === u.Pass ? new i(\"texMetallicRoughness\", e => e.textureMetallicRoughness) : new a(\"texMetallicRoughness\", e => e.textureMetallicRoughness)), h && m.uniforms.add(v === u.Pass ? new i(\"texOcclusion\", e => e.textureOcclusion) : new a(\"texOcclusion\", e => e.textureOcclusion)), m.uniforms.add(v === u.Pass ? new o(\"mrrFactors\", e => e.mrrFactors) : new r(\"mrrFactors\", e => e.mrrFactors)), m.code.add(s`\n    ${t(p, s`void applyMetallicRoughness(vec2 uv) {\n            vec3 metallicRoughness = textureLookup(texMetallicRoughness, uv).rgb;\n            mrr[0] *= metallicRoughness.b;\n            mrr[1] *= metallicRoughness.g;\n          }`)}\n\n    ${t(h, \"void applyOcclusion(vec2 uv) { occlusion *= textureLookup(texOcclusion, uv).r; }\")}\n\n    float getBakedOcclusion() {\n      return ${h ? \"occlusion\" : \"1.0\"};\n    }\n\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      occlusion = 1.0;\n\n      ${t(p, `applyMetallicRoughness(${f ? \"metallicRoughnessUV\" : \"vuv0\"});`)}\n      ${t(h, `applyOcclusion(${g ? \"occlusionUV\" : \"vuv0\"});`)}\n    }\n  `);\n}\nexport { n as PBRMode, d as PBRRenderingParameters, m as PhysicallyBasedRenderingParameters };","map":{"version":3,"names":["VertexTextureCoordinates","e","Float3DrawUniform","r","Float3PassUniform","o","glsl","s","If","t","Texture2DDrawUniform","a","Texture2DPassUniform","i","GLTextureMaterialBindParameters","c","schematicMRRFactors","l","BindType","u","n","Disabled","Normal","Schematic","Water","WaterOnIntegratedMesh","Simplified","TerrainWithWater","COUNT","d","constructor","arguments","mrrFactors","m","pbrMode","fragment","code","add","hasMetallicRoughnessTexture","p","hasMetallicRoughnessTextureTransform","f","hasOcclusionTexture","h","hasOcclusionTextureTransform","g","bindType","v","include","uniforms","Pass","textureMetallicRoughness","textureOcclusion","PBRMode","PBRRenderingParameters","PhysicallyBasedRenderingParameters"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{VertexTextureCoordinates as e}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{Float3DrawUniform as r}from\"../../shaderModules/Float3DrawUniform.js\";import{Float3PassUniform as o}from\"../../shaderModules/Float3PassUniform.js\";import{glsl as s,If as t}from\"../../shaderModules/glsl.js\";import{Texture2DDrawUniform as a}from\"../../shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as i}from\"../../shaderModules/Texture2DPassUniform.js\";import{GLTextureMaterialBindParameters as c}from\"../../../lib/GLTextureMaterial.js\";import{schematicMRRFactors as l}from\"../../../materials/pbrUtils.js\";import{BindType as u}from\"../../../../../webgl/BindType.js\";var n;!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Normal=1]=\"Normal\",e[e.Schematic=2]=\"Schematic\",e[e.Water=3]=\"Water\",e[e.WaterOnIntegratedMesh=4]=\"WaterOnIntegratedMesh\",e[e.Simplified=5]=\"Simplified\",e[e.TerrainWithWater=6]=\"TerrainWithWater\",e[e.COUNT=7]=\"COUNT\"}(n||(n={}));class d extends c{constructor(){super(...arguments),this.mrrFactors=l}}function m(c,l){const d=l.pbrMode,m=c.fragment;if(d!==n.Schematic&&d!==n.Disabled&&d!==n.Normal)return void m.code.add(s`void applyPBRFactors() {}`);if(d===n.Disabled)return void m.code.add(s`void applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);if(d===n.Schematic)return void m.code.add(s`vec3 mrr = vec3(0.0, 0.6, 0.2);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);const{hasMetallicRoughnessTexture:p,hasMetallicRoughnessTextureTransform:f,hasOcclusionTexture:h,hasOcclusionTextureTransform:g,bindType:v}=l;(p||h)&&c.include(e,l),m.code.add(s`vec3 mrr;\nfloat occlusion;`),p&&m.uniforms.add(v===u.Pass?new i(\"texMetallicRoughness\",(e=>e.textureMetallicRoughness)):new a(\"texMetallicRoughness\",(e=>e.textureMetallicRoughness))),h&&m.uniforms.add(v===u.Pass?new i(\"texOcclusion\",(e=>e.textureOcclusion)):new a(\"texOcclusion\",(e=>e.textureOcclusion))),m.uniforms.add(v===u.Pass?new o(\"mrrFactors\",(e=>e.mrrFactors)):new r(\"mrrFactors\",(e=>e.mrrFactors))),m.code.add(s`\n    ${t(p,s`void applyMetallicRoughness(vec2 uv) {\n            vec3 metallicRoughness = textureLookup(texMetallicRoughness, uv).rgb;\n            mrr[0] *= metallicRoughness.b;\n            mrr[1] *= metallicRoughness.g;\n          }`)}\n\n    ${t(h,\"void applyOcclusion(vec2 uv) { occlusion *= textureLookup(texOcclusion, uv).r; }\")}\n\n    float getBakedOcclusion() {\n      return ${h?\"occlusion\":\"1.0\"};\n    }\n\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      occlusion = 1.0;\n\n      ${t(p,`applyMetallicRoughness(${f?\"metallicRoughnessUV\":\"vuv0\"});`)}\n      ${t(h,`applyOcclusion(${g?\"occlusionUV\":\"vuv0\"});`)}\n    }\n  `)}export{n as PBRMode,d as PBRRenderingParameters,m as PhysicallyBasedRenderingParameters};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}