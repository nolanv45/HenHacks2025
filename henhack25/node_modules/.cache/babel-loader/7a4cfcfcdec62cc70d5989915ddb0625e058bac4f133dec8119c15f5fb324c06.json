{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Evented.js\";\nimport { clone as e } from \"../../../core/lang.js\";\nimport { watch as s, when as r } from \"../../../core/reactiveUtils.js\";\nimport { property as h } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport a from \"../../../layers/GraphicsLayer.js\";\nimport c from \"../../../symbols/SimpleFillSymbol.js\";\nimport n from \"../../../symbols/SimpleLineSymbol.js\";\nimport l from \"../../../symbols/SimpleMarkerSymbol.js\";\nimport { cloneMove as p } from \"./drawUtils.js\";\nimport d from \"./HighlightHelper.js\";\nimport { addUniqueLayer as g, findLayerView as v } from \"./layerUtils.js\";\nimport { GraphicClickEvent as m, GraphicDoubleClickEvent as _, GraphicPointerDownEvent as y, GraphicPointerUpEvent as u, GraphicPointerOutEvent as f, GraphicMoveStartEvent as G, GraphicMoveEvent as w, GraphicMoveStopEvent as b, GraphicPointerOverEvent as k } from \"./input/GraphicMoverEvents.js\";\nimport { ViewEventPriorities as O } from \"../../input/InputManager.js\";\nimport { GraphicManipulator as x } from \"../../interactive/GraphicManipulator.js\";\nimport { createScreenPointFromEvent as H } from \"../../support/screenUtils.js\";\nconst M = \"indicator-symbols\";\nlet E = class extends t.EventedAccessor {\n  constructor(i) {\n    super(i), this._activeGraphic = null, this._dragEvent = null, this._hoverGraphic = null, this._indicators = [], this._initialDragGeometry = null, this._manipulators = [], this._layerViews = null, this.type = \"graphic-mover\", this.callbacks = {\n      onGraphicClick() {},\n      onGraphicDoubleClick() {},\n      onGraphicMoveStart() {},\n      onGraphicMove() {},\n      onGraphicMoveStop() {},\n      onGraphicPointerOver() {},\n      onGraphicPointerOut() {},\n      onGraphicPointerDown() {},\n      onGraphicPointerUp() {}\n    }, this.enableMoveAllGraphics = !1, this.graphics = [], this.indicatorsEnabled = !1, this.layer = new a({\n      listMode: \"hide\",\n      internal: !0,\n      title: \"GraphicMover highlight layer\"\n    }), this.view = null;\n  }\n  initialize() {\n    g(this.view, this.layer), this._highlightHelper = new d({\n      view: this.view\n    }), this.refresh(), this.addHandles([s(() => this.graphics.length, () => this.refresh()), r(() => this.view?.ready, () => {\n      this.addHandles([this.view.on(\"immediate-click\", i => this._clickHandler(i), O.TOOL), this.view.on(\"double-click\", i => this._doubleClickHandler(i), O.TOOL), this.view.on(\"pointer-down\", i => this._pointerDownHandler(i), O.TOOL), this.view.on(\"pointer-move\", i => this._pointerMoveHandler(i), O.TOOL), this.view.on(\"pointer-up\", i => this._pointerUpHandler(i), O.TOOL), this.view.on(\"drag\", i => this._dragHandler(i), O.TOOL), this.view.on(\"key-down\", i => this._keyDownHandler(i), O.TOOL)]);\n    }, {\n      once: !0,\n      initial: !0\n    }), s(() => this.view, i => {\n      this._highlightHelper.removeAll(), this._highlightHelper.view = i;\n    })]);\n  }\n  destroy() {\n    this._removeIndicators(), this.view.map?.remove(this.layer), this.layer.destroy(), this.reset(), this._manipulators.forEach(i => i.destroy()), this._manipulators = null;\n  }\n  set highlightsEnabled(i) {\n    this._highlightHelper?.removeAll(), this._set(\"highlightsEnabled\", i), i && this._highlightHelper?.add(this.graphics);\n  }\n  get state() {\n    const i = this.view.ready,\n      t = this.graphics.length > 0,\n      e = this._activeGraphic;\n    return i && t ? e ? \"moving\" : \"active\" : i ? \"ready\" : \"disabled\";\n  }\n  refresh() {\n    this.reset(), this._setup();\n  }\n  reset() {\n    this._activeGraphic = null, this._hoverGraphic = null, this._dragEvent = null, this._highlightHelper.removeAll();\n  }\n  updateGeometry(i, t) {\n    const e = this.graphics[i];\n    e && (e.set(\"geometry\", t), this._setUpIndicators());\n  }\n  _setup() {\n    this._setUpHighlights(), this._setUpIndicators(), this._setUpManipulators(), this._syncLayerViews();\n  }\n  _clickHandler(i) {\n    const t = this._findTargetGraphic(H(i));\n    if (t) {\n      const e = new m(t, this.graphics.indexOf(t), i.x, i.y, i);\n      this.emit(\"graphic-click\", e), this.callbacks.onGraphicClick && this.callbacks.onGraphicClick(e);\n    }\n  }\n  _doubleClickHandler(i) {\n    const t = this._findTargetGraphic(H(i));\n    if (t) {\n      const e = new _(t, this.graphics.indexOf(t), i.x, i.y, i);\n      this.emit(\"graphic-double-click\", e), this.callbacks.onGraphicDoubleClick && this.callbacks.onGraphicDoubleClick(e);\n    }\n  }\n  _pointerDownHandler(i) {\n    const t = this._findTargetGraphic(H(i));\n    if (t) {\n      this._activeGraphic = t;\n      const {\n          x: e,\n          y: s\n        } = i,\n        r = new y(t, this.graphics.indexOf(t), e, s, i);\n      this.emit(\"graphic-pointer-down\", r), this.callbacks.onGraphicPointerDown && this.callbacks.onGraphicPointerDown(r);\n    } else this._activeGraphic = null;\n  }\n  _pointerUpHandler(i) {\n    if (this._activeGraphic) {\n      const {\n          x: t,\n          y: e\n        } = i,\n        s = this.graphics.indexOf(this._activeGraphic),\n        r = new u(this._activeGraphic, s, t, e, i);\n      this.emit(\"graphic-pointer-up\", r), this.callbacks.onGraphicPointerUp && this.callbacks.onGraphicPointerUp(r);\n    }\n  }\n  _pointerMoveHandler(i) {\n    if (this._dragEvent) return;\n    const t = this._findTargetGraphic(H(i));\n    if (t) {\n      const {\n        x: e,\n        y: s\n      } = i;\n      if (this._hoverGraphic) {\n        if (this._hoverGraphic === t) return;\n        const r = this.graphics.indexOf(this._hoverGraphic),\n          h = new f(this.graphics[r], r, e, s, i);\n        this._hoverGraphic = null, this.emit(\"graphic-pointer-out\", h), this.callbacks.onGraphicPointerOut && this.callbacks.onGraphicPointerOut(h);\n      }\n      const r = this.graphics.indexOf(t),\n        h = new k(t, r, e, s, i);\n      return this._hoverGraphic = t, this.emit(\"graphic-pointer-over\", h), void (this.callbacks.onGraphicPointerOver && this.callbacks.onGraphicPointerOver(h));\n    }\n    if (this._hoverGraphic) {\n      const {\n          x: t,\n          y: e\n        } = i,\n        s = this.graphics.indexOf(this._hoverGraphic),\n        r = new f(this.graphics[s], s, t, e, i);\n      this._hoverGraphic = null, this.emit(\"graphic-pointer-out\", r), this.callbacks.onGraphicPointerOut && this.callbacks.onGraphicPointerOut(r);\n    }\n  }\n  _dragHandler(i) {\n    if (\"start\" !== i.action && !this._dragEvent || !this._activeGraphic?.geometry) return;\n    \"start\" === i.action && this._removeIndicators(), i.stopPropagation();\n    const {\n        action: t,\n        x: s,\n        y: r\n      } = i,\n      h = this.graphics.indexOf(this._activeGraphic),\n      o = this._dragEvent ? s - this._dragEvent.x : 0,\n      a = this._dragEvent ? r - this._dragEvent.y : 0,\n      c = s - i.origin.x,\n      n = r - i.origin.y,\n      l = \"start\" === t ? this._activeGraphic.geometry : this._initialDragGeometry,\n      d = p(l, c, n, this.view);\n    if (this._activeGraphic.geometry = d, this.enableMoveAllGraphics && this.graphics.forEach(i => {\n      i !== this._activeGraphic && (i.geometry = p(i.geometry, o, a, this.view));\n    }), this._dragEvent = i, \"start\" === t) {\n      this._initialDragGeometry = e(l);\n      const t = new G(this._activeGraphic, this.graphics, h, s, r, o, a, c, n, i);\n      this.emit(\"graphic-move-start\", t), this.callbacks.onGraphicMoveStart && this.callbacks.onGraphicMoveStart(t), t.defaultPrevented && this._activeGraphic.set(\"geometry\", l);\n    } else if (\"update\" === t) {\n      const t = new w(this._activeGraphic, this.graphics, h, s, r, o, a, c, n, i);\n      this.emit(\"graphic-move\", t), this.callbacks.onGraphicMove && this.callbacks.onGraphicMove(t), t.defaultPrevented && (this._activeGraphic.geometry = l);\n    } else {\n      const t = new b(this._activeGraphic, this.graphics, h, s, r, o, a, c, n, i);\n      this._dragEvent = null, this._activeGraphic = null, this._setUpIndicators(), this.emit(\"graphic-move-stop\", t), this.callbacks.onGraphicMoveStop && this.callbacks.onGraphicMoveStop(t), t.defaultPrevented && (this.graphics[h].set(\"geometry\", this._initialDragGeometry), this._setUpIndicators()), this._initialDragGeometry = null;\n    }\n  }\n  _keyDownHandler(i) {\n    \"a\" !== i.key && \"d\" !== i.key && \"n\" !== i.key || \"moving\" !== this.state || i.stopPropagation();\n  }\n  _findTargetGraphic(i) {\n    const t = this.view.toMap(i),\n      e = this.graphics;\n    let s = null,\n      r = Number.MAX_VALUE;\n    this._syncLayerViews();\n    const h = this._layerViews.flatMap(i => \"graphicsViews\" in i ? Array.from(i.graphicsViews(), i => i.hitTest(t)).flat() : i.graphicsView.hitTest(t)).filter(i => e.includes(i)).sort((i, t) => e.indexOf(i) - e.indexOf(t));\n    return h.length ? h[0] : (this._manipulators.forEach(t => {\n      const e = t.intersectionDistance(i);\n      null != e && e < r && (r = e, s = t.graphic);\n    }), s);\n  }\n  _syncLayerViews() {\n    this._layerViews = [];\n    const i = new Set();\n    for (const t of this.graphics) {\n      const e = v(this.view, t.layer);\n      e && i.add(e);\n    }\n    this._layerViews = [...i];\n  }\n  _setUpManipulators() {\n    const {\n      graphics: i,\n      view: t\n    } = this;\n    this._manipulators.forEach(i => i.destroy()), this._manipulators = i.length ? i.map(i => new x({\n      graphic: i,\n      view: t\n    })) : [];\n  }\n  _setUpHighlights() {\n    this.highlightsEnabled && this._highlightHelper.add(this.graphics);\n  }\n  _setUpIndicators() {\n    if (this._removeIndicators(), this.indicatorsEnabled) {\n      for (const i of this.graphics) {\n        const t = i.clone();\n        t.symbol = U(i), this._indicators.push(t), this.addHandles(s(() => i.symbol, () => this._setUpIndicators()), M);\n      }\n      this.layer.addMany(this._indicators);\n    }\n  }\n  _removeIndicators() {\n    this.removeHandles(M), this._indicators.length && (this.layer.removeMany(this._indicators), this._indicators.forEach(i => i.destroy()), this._indicators = []);\n  }\n};\nfunction U(i) {\n  const t = 12;\n  if (null == i.symbol) return null;\n  switch (i.symbol.type) {\n    case \"cim\":\n      return new l({\n        style: \"circle\",\n        size: t,\n        color: [0, 0, 0, 0],\n        outline: {\n          color: [255, 127, 0, 1],\n          width: 1\n        }\n      });\n    case \"picture-marker\":\n      {\n        const {\n            xoffset: t,\n            yoffset: e,\n            height: s,\n            width: r\n          } = i.symbol,\n          h = s === r ? r : Math.max(s, r);\n        return new l({\n          xoffset: t,\n          yoffset: e,\n          size: h,\n          style: \"square\",\n          color: [0, 0, 0, 0],\n          outline: {\n            color: [255, 127, 0, 1],\n            width: 1\n          }\n        });\n      }\n    case \"simple-marker\":\n      {\n        const {\n          xoffset: t,\n          yoffset: e,\n          size: s,\n          style: r\n        } = i.symbol;\n        return new l({\n          xoffset: t,\n          yoffset: e,\n          style: \"circle\" === r ? \"circle\" : \"square\",\n          size: s + 2,\n          color: [0, 0, 0, 0],\n          outline: {\n            color: [255, 127, 0, 1],\n            width: 1\n          }\n        });\n      }\n    case \"simple-fill\":\n      return new c({\n        color: [0, 0, 0, 0],\n        outline: {\n          style: \"dash\",\n          color: [255, 127, 0, 1],\n          width: 1\n        }\n      });\n    case \"simple-line\":\n      return new n({\n        color: [255, 127, 0, 1],\n        style: \"dash\",\n        width: 1\n      });\n    case \"text\":\n      {\n        const {\n          xoffset: e,\n          yoffset: s\n        } = i.symbol;\n        return new l({\n          xoffset: e,\n          yoffset: s,\n          size: t,\n          color: [0, 0, 0, 0],\n          outline: {\n            color: [255, 127, 0, 1],\n            width: 1\n          }\n        });\n      }\n    default:\n      return null;\n  }\n}\ni([h()], E.prototype, \"_activeGraphic\", void 0), i([h({\n  readOnly: !0\n})], E.prototype, \"type\", void 0), i([h()], E.prototype, \"callbacks\", void 0), i([h()], E.prototype, \"enableMoveAllGraphics\", void 0), i([h()], E.prototype, \"graphics\", void 0), i([h({\n  value: !1\n})], E.prototype, \"highlightsEnabled\", null), i([h()], E.prototype, \"indicatorsEnabled\", void 0), i([h()], E.prototype, \"layer\", void 0), i([h({\n  readOnly: !0\n})], E.prototype, \"state\", null), i([h()], E.prototype, \"view\", void 0), E = i([o(\"esri.views.draw.support.GraphicMover\")], E);\nconst j = E;\nexport { j as default };","map":{"version":3,"names":["_","i","t","clone","e","watch","s","when","r","property","h","subclass","o","a","c","n","l","cloneMove","p","d","addUniqueLayer","g","findLayerView","v","GraphicClickEvent","m","GraphicDoubleClickEvent","GraphicPointerDownEvent","y","GraphicPointerUpEvent","u","GraphicPointerOutEvent","f","GraphicMoveStartEvent","G","GraphicMoveEvent","w","GraphicMoveStopEvent","b","GraphicPointerOverEvent","k","ViewEventPriorities","O","GraphicManipulator","x","createScreenPointFromEvent","H","M","E","EventedAccessor","constructor","_activeGraphic","_dragEvent","_hoverGraphic","_indicators","_initialDragGeometry","_manipulators","_layerViews","type","callbacks","onGraphicClick","onGraphicDoubleClick","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","onGraphicPointerOver","onGraphicPointerOut","onGraphicPointerDown","onGraphicPointerUp","enableMoveAllGraphics","graphics","indicatorsEnabled","layer","listMode","internal","title","view","initialize","_highlightHelper","refresh","addHandles","length","ready","on","_clickHandler","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","once","initial","removeAll","destroy","_removeIndicators","map","remove","reset","forEach","highlightsEnabled","_set","add","state","_setup","updateGeometry","set","_setUpIndicators","_setUpHighlights","_setUpManipulators","_syncLayerViews","_findTargetGraphic","indexOf","emit","action","geometry","stopPropagation","origin","defaultPrevented","key","toMap","Number","MAX_VALUE","flatMap","Array","from","graphicsViews","hitTest","flat","graphicsView","filter","includes","sort","intersectionDistance","graphic","Set","symbol","U","push","addMany","removeHandles","removeMany","style","size","color","outline","width","xoffset","yoffset","height","Math","max","prototype","readOnly","value","j","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/draw/support/GraphicMover.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Evented.js\";import{clone as e}from\"../../../core/lang.js\";import{watch as s,when as r}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../layers/GraphicsLayer.js\";import c from\"../../../symbols/SimpleFillSymbol.js\";import n from\"../../../symbols/SimpleLineSymbol.js\";import l from\"../../../symbols/SimpleMarkerSymbol.js\";import{cloneMove as p}from\"./drawUtils.js\";import d from\"./HighlightHelper.js\";import{addUniqueLayer as g,findLayerView as v}from\"./layerUtils.js\";import{GraphicClickEvent as m,GraphicDoubleClickEvent as _,GraphicPointerDownEvent as y,GraphicPointerUpEvent as u,GraphicPointerOutEvent as f,GraphicMoveStartEvent as G,GraphicMoveEvent as w,GraphicMoveStopEvent as b,GraphicPointerOverEvent as k}from\"./input/GraphicMoverEvents.js\";import{ViewEventPriorities as O}from\"../../input/InputManager.js\";import{GraphicManipulator as x}from\"../../interactive/GraphicManipulator.js\";import{createScreenPointFromEvent as H}from\"../../support/screenUtils.js\";const M=\"indicator-symbols\";let E=class extends t.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._hoverGraphic=null,this._indicators=[],this._initialDragGeometry=null,this._manipulators=[],this._layerViews=null,this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!1,this.layer=new a({listMode:\"hide\",internal:!0,title:\"GraphicMover highlight layer\"}),this.view=null}initialize(){g(this.view,this.layer),this._highlightHelper=new d({view:this.view}),this.refresh(),this.addHandles([s((()=>this.graphics.length),(()=>this.refresh())),r((()=>this.view?.ready),(()=>{this.addHandles([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),O.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),O.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),O.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),O.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),O.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),O.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),O.TOOL)])}),{once:!0,initial:!0}),s((()=>this.view),(i=>{this._highlightHelper.removeAll(),this._highlightHelper.view=i}))])}destroy(){this._removeIndicators(),this.view.map?.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null}set highlightsEnabled(i){this._highlightHelper?.removeAll(),this._set(\"highlightsEnabled\",i),i&&this._highlightHelper?.add(this.graphics)}get state(){const i=this.view.ready,t=this.graphics.length>0,e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}refresh(){this.reset(),this._setup()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null,this._highlightHelper.removeAll()}updateGeometry(i,t){const e=this.graphics[i];e&&(e.set(\"geometry\",t),this._setUpIndicators())}_setup(){this._setUpHighlights(),this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}_clickHandler(i){const t=this._findTargetGraphic(H(i));if(t){const e=new m(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(H(i));if(t){const e=new _(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(H(i));if(t){this._activeGraphic=t;const{x:e,y:s}=i,r=new y(t,this.graphics.indexOf(t),e,s,i);this.emit(\"graphic-pointer-down\",r),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(r)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,s=this.graphics.indexOf(this._activeGraphic),r=new u(this._activeGraphic,s,t,e,i);this.emit(\"graphic-pointer-up\",r),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(r)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(H(i));if(t){const{x:e,y:s}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const r=this.graphics.indexOf(this._hoverGraphic),h=new f(this.graphics[r],r,e,s,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",h),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(h)}const r=this.graphics.indexOf(t),h=new k(t,r,e,s,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",h),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(h))}if(this._hoverGraphic){const{x:t,y:e}=i,s=this.graphics.indexOf(this._hoverGraphic),r=new f(this.graphics[s],s,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",r),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(r)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic?.geometry)return;\"start\"===i.action&&this._removeIndicators(),i.stopPropagation();const{action:t,x:s,y:r}=i,h=this.graphics.indexOf(this._activeGraphic),o=this._dragEvent?s-this._dragEvent.x:0,a=this._dragEvent?r-this._dragEvent.y:0,c=s-i.origin.x,n=r-i.origin.y,l=\"start\"===t?this._activeGraphic.geometry:this._initialDragGeometry,d=p(l,c,n,this.view);if(this._activeGraphic.geometry=d,this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=p(i.geometry,o,a,this.view))})),this._dragEvent=i,\"start\"===t){this._initialDragGeometry=e(l);const t=new G(this._activeGraphic,this.graphics,h,s,r,o,a,c,n,i);this.emit(\"graphic-move-start\",t),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",l)}else if(\"update\"===t){const t=new w(this._activeGraphic,this.graphics,h,s,r,o,a,c,n,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&(this._activeGraphic.geometry=l)}else{const t=new b(this._activeGraphic,this.graphics,h,s,r,o,a,c,n,i);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&(this.graphics[h].set(\"geometry\",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){const t=this.view.toMap(i),e=this.graphics;let s=null,r=Number.MAX_VALUE;this._syncLayerViews();const h=this._layerViews.flatMap((i=>\"graphicsViews\"in i?Array.from(i.graphicsViews(),(i=>i.hitTest(t))).flat():i.graphicsView.hitTest(t))).filter((i=>e.includes(i))).sort(((i,t)=>e.indexOf(i)-e.indexOf(t)));return h.length?h[0]:(this._manipulators.forEach((t=>{const e=t.intersectionDistance(i);null!=e&&e<r&&(r=e,s=t.graphic)})),s)}_syncLayerViews(){this._layerViews=[];const i=new Set;for(const t of this.graphics){const e=v(this.view,t.layer);e&&i.add(e)}this._layerViews=[...i]}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=i.length?i.map((i=>new x({graphic:i,view:t}))):[]}_setUpHighlights(){this.highlightsEnabled&&this._highlightHelper.add(this.graphics)}_setUpIndicators(){if(this._removeIndicators(),this.indicatorsEnabled){for(const i of this.graphics){const t=i.clone();t.symbol=U(i),this._indicators.push(t),this.addHandles(s((()=>i.symbol),(()=>this._setUpIndicators())),M)}this.layer.addMany(this._indicators)}}_removeIndicators(){this.removeHandles(M),this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach((i=>i.destroy())),this._indicators=[])}};function U(i){const t=12;if(null==i.symbol)return null;switch(i.symbol.type){case\"cim\":return new l({style:\"circle\",size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case\"picture-marker\":{const{xoffset:t,yoffset:e,height:s,width:r}=i.symbol,h=s===r?r:Math.max(s,r);return new l({xoffset:t,yoffset:e,size:h,style:\"square\",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-marker\":{const{xoffset:t,yoffset:e,size:s,style:r}=i.symbol;return new l({xoffset:t,yoffset:e,style:\"circle\"===r?\"circle\":\"square\",size:s+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-fill\":return new c({color:[0,0,0,0],outline:{style:\"dash\",color:[255,127,0,1],width:1}});case\"simple-line\":return new n({color:[255,127,0,1],style:\"dash\",width:1});case\"text\":{const{xoffset:e,yoffset:s}=i.symbol;return new l({xoffset:e,yoffset:s,size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}i([h()],E.prototype,\"_activeGraphic\",void 0),i([h({readOnly:!0})],E.prototype,\"type\",void 0),i([h()],E.prototype,\"callbacks\",void 0),i([h()],E.prototype,\"enableMoveAllGraphics\",void 0),i([h()],E.prototype,\"graphics\",void 0),i([h({value:!1})],E.prototype,\"highlightsEnabled\",null),i([h()],E.prototype,\"indicatorsEnabled\",void 0),i([h()],E.prototype,\"layer\",void 0),i([h({readOnly:!0})],E.prototype,\"state\",null),i([h()],E.prototype,\"view\",void 0),E=i([o(\"esri.views.draw.support.GraphicMover\")],E);const j=E;export{j as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}