{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e } from \"../../../../../../core/maybe.js\";\nimport t from \"../../VertexStream.js\";\nimport { BlendFactor as r, PixelFormat as s, TextureWrapMode as i } from \"../../../../../webgl/enums.js\";\nimport { Texture as o } from \"../../../../../webgl/Texture.js\";\nimport { TextureDescriptor as a } from \"../../../../../webgl/TextureDescriptor.js\";\nclass n {\n  constructor() {\n    this._layerFBOTexture = null, this._size = [0, 0], this._programDesc = {\n      vsPath: \"post-processing/pp\",\n      fsPath: \"post-processing/filterEffect\",\n      attributes: new Map([[\"a_position\", 0]])\n    };\n  }\n  dispose() {\n    this._layerFBOTexture = e(this._layerFBOTexture);\n  }\n  draw(e, t, s) {\n    const {\n      width: i,\n      height: o\n    } = t;\n    this._createOrResizeResources(e, i, o);\n    const {\n        context: a,\n        painter: n\n      } = e,\n      {\n        materialManager: c\n      } = n,\n      l = this._programDesc,\n      u = this._quad,\n      _ = s.colorMatrix;\n    u.bind();\n    const h = this._layerFBOTexture;\n    a.bindFramebuffer(t), t.copyToTexture(0, 0, i, o, 0, 0, h), a.setBlendingEnabled(!1), a.setStencilTestEnabled(!1);\n    const m = c.getProgram(l);\n    a.useProgram(m), a.bindTexture(h, 2), m.setUniformMatrix4fv(\"u_coefficients\", _), m.setUniform1i(\"u_colorTexture\", 2), u.draw(), a.setBlendingEnabled(!0), a.setBlendFunction(r.ONE, r.ONE_MINUS_SRC_ALPHA), a.setStencilTestEnabled(!0), u.unbind();\n  }\n  _createOrResizeResources(e, r, n) {\n    const {\n      context: c\n    } = e;\n    if (!this._layerFBOTexture || this._size[0] !== r || this._size[1] !== n) {\n      if (this._size[0] = r, this._size[1] = n, this._layerFBOTexture) this._layerFBOTexture.resize(r, n);else {\n        const e = new a();\n        e.internalFormat = s.RGBA, e.wrapMode = i.CLAMP_TO_EDGE, e.width = r, e.height = n, this._layerFBOTexture = new o(c, e);\n      }\n      this._quad || (this._quad = new t(c, [-1, -1, 1, -1, -1, 1, 1, 1]));\n    }\n  }\n}\nexport { n as Colorize };","map":{"version":3,"names":["disposeMaybe","e","t","BlendFactor","r","PixelFormat","s","TextureWrapMode","i","Texture","o","TextureDescriptor","a","n","constructor","_layerFBOTexture","_size","_programDesc","vsPath","fsPath","attributes","Map","dispose","draw","width","height","_createOrResizeResources","context","painter","materialManager","c","l","u","_quad","_","colorMatrix","bind","h","bindFramebuffer","copyToTexture","setBlendingEnabled","setStencilTestEnabled","m","getProgram","useProgram","bindTexture","setUniformMatrix4fv","setUniform1i","setBlendFunction","ONE","ONE_MINUS_SRC_ALPHA","unbind","resize","internalFormat","RGBA","wrapMode","CLAMP_TO_EDGE","Colorize"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/Colorize.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../../../../core/maybe.js\";import t from\"../../VertexStream.js\";import{BlendFactor as r,PixelFormat as s,TextureWrapMode as i}from\"../../../../../webgl/enums.js\";import{Texture as o}from\"../../../../../webgl/Texture.js\";import{TextureDescriptor as a}from\"../../../../../webgl/TextureDescriptor.js\";class n{constructor(){this._layerFBOTexture=null,this._size=[0,0],this._programDesc={vsPath:\"post-processing/pp\",fsPath:\"post-processing/filterEffect\",attributes:new Map([[\"a_position\",0]])}}dispose(){this._layerFBOTexture=e(this._layerFBOTexture)}draw(e,t,s){const{width:i,height:o}=t;this._createOrResizeResources(e,i,o);const{context:a,painter:n}=e,{materialManager:c}=n,l=this._programDesc,u=this._quad,_=s.colorMatrix;u.bind();const h=this._layerFBOTexture;a.bindFramebuffer(t),t.copyToTexture(0,0,i,o,0,0,h),a.setBlendingEnabled(!1),a.setStencilTestEnabled(!1);const m=c.getProgram(l);a.useProgram(m),a.bindTexture(h,2),m.setUniformMatrix4fv(\"u_coefficients\",_),m.setUniform1i(\"u_colorTexture\",2),u.draw(),a.setBlendingEnabled(!0),a.setBlendFunction(r.ONE,r.ONE_MINUS_SRC_ALPHA),a.setStencilTestEnabled(!0),u.unbind()}_createOrResizeResources(e,r,n){const{context:c}=e;if(!this._layerFBOTexture||this._size[0]!==r||this._size[1]!==n){if(this._size[0]=r,this._size[1]=n,this._layerFBOTexture)this._layerFBOTexture.resize(r,n);else{const e=new a;e.internalFormat=s.RGBA,e.wrapMode=i.CLAMP_TO_EDGE,e.width=r,e.height=n,this._layerFBOTexture=new o(c,e)}this._quad||(this._quad=new t(c,[-1,-1,1,-1,-1,1,1,1]))}}}export{n as Colorize};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}