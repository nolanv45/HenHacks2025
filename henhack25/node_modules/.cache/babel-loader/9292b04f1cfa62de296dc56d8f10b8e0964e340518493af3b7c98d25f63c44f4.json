{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../request.js\";\nimport t from \"../../../../core/pbf.js\";\nclass a {\n  constructor(e) {\n    for (this._metrics = [], this._bitmaps = []; e.next();) switch (e.tag()) {\n      case 1:\n        {\n          const t = e.getMessage();\n          for (; t.next();) switch (t.tag()) {\n            case 3:\n              {\n                const e = t.getMessage();\n                let a, s, r, n, i, c, g;\n                for (; e.next();) switch (e.tag()) {\n                  case 1:\n                    a = e.getUInt32();\n                    break;\n                  case 2:\n                    s = e.getBytes();\n                    break;\n                  case 3:\n                    r = e.getUInt32();\n                    break;\n                  case 4:\n                    n = e.getUInt32();\n                    break;\n                  case 5:\n                    i = e.getSInt32();\n                    break;\n                  case 6:\n                    c = e.getSInt32();\n                    break;\n                  case 7:\n                    g = e.getUInt32();\n                    break;\n                  default:\n                    e.skip();\n                }\n                e.release(), a && (this._metrics[a] = {\n                  width: r,\n                  height: n,\n                  left: i,\n                  top: c,\n                  advance: g\n                }, this._bitmaps[a] = s);\n                break;\n              }\n            default:\n              t.skip();\n          }\n          t.release();\n          break;\n        }\n      default:\n        e.skip();\n    }\n  }\n  getMetrics(e) {\n    return this._metrics[e];\n  }\n  getBitmap(e) {\n    return this._bitmaps[e];\n  }\n}\nclass s {\n  constructor() {\n    this._ranges = [];\n  }\n  getRange(e) {\n    return this._ranges[e];\n  }\n  addRange(e, t) {\n    this._ranges[e] = t;\n  }\n}\nclass r {\n  constructor(e) {\n    this._glyphInfo = {}, this._baseURL = e;\n  }\n  getRange(s, r, n) {\n    const i = this._getFontStack(s);\n    if (i.getRange(r)) return Promise.resolve();\n    const c = 256 * r,\n      g = c + 255,\n      o = this._baseURL.replace(\"{fontstack}\", s).replace(\"{range}\", c + \"-\" + g);\n    return e(o, {\n      responseType: \"array-buffer\",\n      ...n\n    }).then(e => {\n      i.addRange(r, new a(new t(new Uint8Array(e.data), new DataView(e.data))));\n    });\n  }\n  async preloadASCIIRange(s) {\n    const r = this._getFontStack(s),\n      n = 0,\n      i = 255,\n      c = this._baseURL.replace(\"{fontstack}\", s).replace(\"{range}\", n + \"-\" + i),\n      g = await e(c, {\n        responseType: \"array-buffer\"\n      }),\n      o = new a(new t(new Uint8Array(g.data), new DataView(g.data)));\n    for (let e = n; e <= i; e++) r.getRange(e) || r.addRange(e, o);\n  }\n  getGlyph(e, t) {\n    const a = this._getFontStack(e);\n    if (!a) return;\n    const s = Math.floor(t / 256),\n      r = a.getRange(s);\n    return r ? {\n      metrics: r.getMetrics(t),\n      bitmap: r.getBitmap(t)\n    } : void 0;\n  }\n  _getFontStack(e) {\n    let t = this._glyphInfo[e];\n    return t || (t = this._glyphInfo[e] = new s()), t;\n  }\n}\nexport { r as default };","map":{"version":3,"names":["e","t","a","constructor","_metrics","_bitmaps","next","tag","getMessage","s","r","n","i","c","g","getUInt32","getBytes","getSInt32","skip","release","width","height","left","top","advance","getMetrics","getBitmap","_ranges","getRange","addRange","_glyphInfo","_baseURL","_getFontStack","Promise","resolve","o","replace","responseType","then","Uint8Array","data","DataView","preloadASCIIRange","getGlyph","Math","floor","metrics","bitmap","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/GlyphSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import t from\"../../../../core/pbf.js\";class a{constructor(e){for(this._metrics=[],this._bitmaps=[];e.next();)switch(e.tag()){case 1:{const t=e.getMessage();for(;t.next();)switch(t.tag()){case 3:{const e=t.getMessage();let a,s,r,n,i,c,g;for(;e.next();)switch(e.tag()){case 1:a=e.getUInt32();break;case 2:s=e.getBytes();break;case 3:r=e.getUInt32();break;case 4:n=e.getUInt32();break;case 5:i=e.getSInt32();break;case 6:c=e.getSInt32();break;case 7:g=e.getUInt32();break;default:e.skip()}e.release(),a&&(this._metrics[a]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[a]=s);break}default:t.skip()}t.release();break}default:e.skip()}}getMetrics(e){return this._metrics[e]}getBitmap(e){return this._bitmaps[e]}}class s{constructor(){this._ranges=[]}getRange(e){return this._ranges[e]}addRange(e,t){this._ranges[e]=t}}class r{constructor(e){this._glyphInfo={},this._baseURL=e}getRange(s,r,n){const i=this._getFontStack(s);if(i.getRange(r))return Promise.resolve();const c=256*r,g=c+255,o=this._baseURL.replace(\"{fontstack}\",s).replace(\"{range}\",c+\"-\"+g);return e(o,{responseType:\"array-buffer\",...n}).then((e=>{i.addRange(r,new a(new t(new Uint8Array(e.data),new DataView(e.data))))}))}async preloadASCIIRange(s){const r=this._getFontStack(s),n=0,i=255,c=this._baseURL.replace(\"{fontstack}\",s).replace(\"{range}\",n+\"-\"+i),g=await e(c,{responseType:\"array-buffer\"}),o=new a(new t(new Uint8Array(g.data),new DataView(g.data)));for(let e=n;e<=i;e++)r.getRange(e)||r.addRange(e,o)}getGlyph(e,t){const a=this._getFontStack(e);if(!a)return;const s=Math.floor(t/256),r=a.getRange(s);return r?{metrics:r.getMetrics(t),bitmap:r.getBitmap(t)}:void 0}_getFontStack(e){let t=this._glyphInfo[e];return t||(t=this._glyphInfo[e]=new s),t}}export{r as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAC,MAAK,wBAAwB;AAAC,OAAOC,CAAC,MAAK,yBAAyB;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAACH,CAAC,EAAC;IAAC,KAAI,IAAI,CAACI,QAAQ,GAAC,EAAE,EAAC,IAAI,CAACC,QAAQ,GAAC,EAAE,EAACL,CAAC,CAACM,IAAI,CAAC,CAAC,GAAE,QAAON,CAAC,CAACO,GAAG,CAAC,CAAC;MAAE,KAAK,CAAC;QAAC;UAAC,MAAMN,CAAC,GAACD,CAAC,CAACQ,UAAU,CAAC,CAAC;UAAC,OAAKP,CAAC,CAACK,IAAI,CAAC,CAAC,GAAE,QAAOL,CAAC,CAACM,GAAG,CAAC,CAAC;YAAE,KAAK,CAAC;cAAC;gBAAC,MAAMP,CAAC,GAACC,CAAC,CAACO,UAAU,CAAC,CAAC;gBAAC,IAAIN,CAAC,EAACO,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC;gBAAC,OAAKd,CAAC,CAACM,IAAI,CAAC,CAAC,GAAE,QAAON,CAAC,CAACO,GAAG,CAAC,CAAC;kBAAE,KAAK,CAAC;oBAACL,CAAC,GAACF,CAAC,CAACe,SAAS,CAAC,CAAC;oBAAC;kBAAM,KAAK,CAAC;oBAACN,CAAC,GAACT,CAAC,CAACgB,QAAQ,CAAC,CAAC;oBAAC;kBAAM,KAAK,CAAC;oBAACN,CAAC,GAACV,CAAC,CAACe,SAAS,CAAC,CAAC;oBAAC;kBAAM,KAAK,CAAC;oBAACJ,CAAC,GAACX,CAAC,CAACe,SAAS,CAAC,CAAC;oBAAC;kBAAM,KAAK,CAAC;oBAACH,CAAC,GAACZ,CAAC,CAACiB,SAAS,CAAC,CAAC;oBAAC;kBAAM,KAAK,CAAC;oBAACJ,CAAC,GAACb,CAAC,CAACiB,SAAS,CAAC,CAAC;oBAAC;kBAAM,KAAK,CAAC;oBAACH,CAAC,GAACd,CAAC,CAACe,SAAS,CAAC,CAAC;oBAAC;kBAAM;oBAAQf,CAAC,CAACkB,IAAI,CAAC,CAAC;gBAAA;gBAAClB,CAAC,CAACmB,OAAO,CAAC,CAAC,EAACjB,CAAC,KAAG,IAAI,CAACE,QAAQ,CAACF,CAAC,CAAC,GAAC;kBAACkB,KAAK,EAACV,CAAC;kBAACW,MAAM,EAACV,CAAC;kBAACW,IAAI,EAACV,CAAC;kBAACW,GAAG,EAACV,CAAC;kBAACW,OAAO,EAACV;gBAAC,CAAC,EAAC,IAAI,CAACT,QAAQ,CAACH,CAAC,CAAC,GAACO,CAAC,CAAC;gBAAC;cAAK;YAAC;cAAQR,CAAC,CAACiB,IAAI,CAAC,CAAC;UAAA;UAACjB,CAAC,CAACkB,OAAO,CAAC,CAAC;UAAC;QAAK;MAAC;QAAQnB,CAAC,CAACkB,IAAI,CAAC,CAAC;IAAA;EAAC;EAACO,UAAUA,CAACzB,CAAC,EAAC;IAAC,OAAO,IAAI,CAACI,QAAQ,CAACJ,CAAC,CAAC;EAAA;EAAC0B,SAASA,CAAC1B,CAAC,EAAC;IAAC,OAAO,IAAI,CAACK,QAAQ,CAACL,CAAC,CAAC;EAAA;AAAC;AAAC,MAAMS,CAAC;EAACN,WAAWA,CAAA,EAAE;IAAC,IAAI,CAACwB,OAAO,GAAC,EAAE;EAAA;EAACC,QAAQA,CAAC5B,CAAC,EAAC;IAAC,OAAO,IAAI,CAAC2B,OAAO,CAAC3B,CAAC,CAAC;EAAA;EAAC6B,QAAQA,CAAC7B,CAAC,EAACC,CAAC,EAAC;IAAC,IAAI,CAAC0B,OAAO,CAAC3B,CAAC,CAAC,GAACC,CAAC;EAAA;AAAC;AAAC,MAAMS,CAAC;EAACP,WAAWA,CAACH,CAAC,EAAC;IAAC,IAAI,CAAC8B,UAAU,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,QAAQ,GAAC/B,CAAC;EAAA;EAAC4B,QAAQA,CAACnB,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACoB,aAAa,CAACvB,CAAC,CAAC;IAAC,IAAGG,CAAC,CAACgB,QAAQ,CAAClB,CAAC,CAAC,EAAC,OAAOuB,OAAO,CAACC,OAAO,CAAC,CAAC;IAAC,MAAMrB,CAAC,GAAC,GAAG,GAACH,CAAC;MAACI,CAAC,GAACD,CAAC,GAAC,GAAG;MAACsB,CAAC,GAAC,IAAI,CAACJ,QAAQ,CAACK,OAAO,CAAC,aAAa,EAAC3B,CAAC,CAAC,CAAC2B,OAAO,CAAC,SAAS,EAACvB,CAAC,GAAC,GAAG,GAACC,CAAC,CAAC;IAAC,OAAOd,CAAC,CAACmC,CAAC,EAAC;MAACE,YAAY,EAAC,cAAc;MAAC,GAAG1B;IAAC,CAAC,CAAC,CAAC2B,IAAI,CAAEtC,CAAC,IAAE;MAACY,CAAC,CAACiB,QAAQ,CAACnB,CAAC,EAAC,IAAIR,CAAC,CAAC,IAAID,CAAC,CAAC,IAAIsC,UAAU,CAACvC,CAAC,CAACwC,IAAI,CAAC,EAAC,IAAIC,QAAQ,CAACzC,CAAC,CAACwC,IAAI,CAAC,CAAC,CAAC,CAAC;IAAA,CAAE,CAAC;EAAA;EAAC,MAAME,iBAAiBA,CAACjC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACsB,aAAa,CAACvB,CAAC,CAAC;MAACE,CAAC,GAAC,CAAC;MAACC,CAAC,GAAC,GAAG;MAACC,CAAC,GAAC,IAAI,CAACkB,QAAQ,CAACK,OAAO,CAAC,aAAa,EAAC3B,CAAC,CAAC,CAAC2B,OAAO,CAAC,SAAS,EAACzB,CAAC,GAAC,GAAG,GAACC,CAAC,CAAC;MAACE,CAAC,GAAC,MAAMd,CAAC,CAACa,CAAC,EAAC;QAACwB,YAAY,EAAC;MAAc,CAAC,CAAC;MAACF,CAAC,GAAC,IAAIjC,CAAC,CAAC,IAAID,CAAC,CAAC,IAAIsC,UAAU,CAACzB,CAAC,CAAC0B,IAAI,CAAC,EAAC,IAAIC,QAAQ,CAAC3B,CAAC,CAAC0B,IAAI,CAAC,CAAC,CAAC;IAAC,KAAI,IAAIxC,CAAC,GAACW,CAAC,EAACX,CAAC,IAAEY,CAAC,EAACZ,CAAC,EAAE,EAACU,CAAC,CAACkB,QAAQ,CAAC5B,CAAC,CAAC,IAAEU,CAAC,CAACmB,QAAQ,CAAC7B,CAAC,EAACmC,CAAC,CAAC;EAAA;EAACQ,QAAQA,CAAC3C,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAAC8B,aAAa,CAAChC,CAAC,CAAC;IAAC,IAAG,CAACE,CAAC,EAAC;IAAO,MAAMO,CAAC,GAACmC,IAAI,CAACC,KAAK,CAAC5C,CAAC,GAAC,GAAG,CAAC;MAACS,CAAC,GAACR,CAAC,CAAC0B,QAAQ,CAACnB,CAAC,CAAC;IAAC,OAAOC,CAAC,GAAC;MAACoC,OAAO,EAACpC,CAAC,CAACe,UAAU,CAACxB,CAAC,CAAC;MAAC8C,MAAM,EAACrC,CAAC,CAACgB,SAAS,CAACzB,CAAC;IAAC,CAAC,GAAC,KAAK,CAAC;EAAA;EAAC+B,aAAaA,CAAChC,CAAC,EAAC;IAAC,IAAIC,CAAC,GAAC,IAAI,CAAC6B,UAAU,CAAC9B,CAAC,CAAC;IAAC,OAAOC,CAAC,KAAGA,CAAC,GAAC,IAAI,CAAC6B,UAAU,CAAC9B,CAAC,CAAC,GAAC,IAAIS,CAAC,CAAD,CAAC,CAAC,EAACR,CAAC;EAAA;AAAC;AAAC,SAAOS,CAAC,IAAIsC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}