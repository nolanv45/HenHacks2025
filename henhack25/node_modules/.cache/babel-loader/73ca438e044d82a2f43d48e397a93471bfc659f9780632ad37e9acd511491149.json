{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport { property as r } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { RenderCategory as o, InternalRenderCategory as t } from \"../../../webgl.js\";\nimport i from \"../../../webgl/RenderNode.js\";\nimport { FocusAreaColorTechnique as c } from \"./FocusAreaColorTechnique.js\";\nimport { F as a } from \"../../../../../chunks/FocusAreaColor.glsl.js\";\nlet n = class extends i {\n  constructor(e) {\n    super({\n      ...e,\n      view: e.focusAreas.view\n    }), this.consumes = {\n      required: [o.COMPOSITE, t.FOCUSAREA]\n    }, this.produces = o.COMPOSITE, this._passParameters = new a();\n  }\n  precompile() {\n    this.techniques.precompile(c);\n  }\n  render(e) {\n    const r = this.techniques.get(c),\n      s = e.find(_ref => {\n        let {\n          name: e\n        } = _ref;\n        return e === o.COMPOSITE;\n      });\n    if (!r.compiled) return this.requestRender(), s;\n    const i = this.bindParameters,\n      a = i.camera,\n      n = a.fullViewport[2],\n      p = a.fullViewport[3],\n      m = e.find(_ref2 => {\n        let {\n          name: e\n        } = _ref2;\n        return e === t.FOCUSAREA;\n      }),\n      h = this.fboCache.acquire(n, p, this.produces),\n      d = this.renderingContext;\n    return d.gl.clear(d.gl.STENCIL_BUFFER_BIT), d.bindFramebuffer(h.fbo), this._passParameters.color = s.getTexture(), this._passParameters.focusArea = m.getTexture(), this._passParameters.effect = u[this.focusAreas.style], d.bindTechnique(r, i, this._passParameters), d.screen.draw(), h.attachDepth(s.getAttachment(this.gl.DEPTH_STENCIL_ATTACHMENT)), h;\n  }\n};\nvar p;\ne([r()], n.prototype, \"consumes\", void 0), e([r()], n.prototype, \"produces\", void 0), e([r({\n  constructOnly: !0\n})], n.prototype, \"focusAreas\", void 0), n = e([s(\"esri.views.3d.webgl-engine.effects.focusArea.FocusAreaColorNode\")], n), function (e) {\n  e[e.NONE = 0] = \"NONE\", e[e.BRIGHT = 1] = \"BRIGHT\", e[e.DARK = 2] = \"DARK\";\n}(p || (p = {}));\nconst u = {\n  none: p.NONE,\n  bright: p.BRIGHT,\n  dark: p.DARK\n};\nexport { n as FocusAreaColorNode };","map":{"version":3,"names":["_","e","property","r","subclass","s","RenderCategory","o","InternalRenderCategory","t","i","FocusAreaColorTechnique","c","F","a","n","constructor","view","focusAreas","consumes","required","COMPOSITE","FOCUSAREA","produces","_passParameters","precompile","techniques","render","get","find","_ref","name","compiled","requestRender","bindParameters","camera","fullViewport","p","m","_ref2","h","fboCache","acquire","d","renderingContext","gl","clear","STENCIL_BUFFER_BIT","bindFramebuffer","fbo","color","getTexture","focusArea","effect","u","style","bindTechnique","screen","draw","attachDepth","getAttachment","DEPTH_STENCIL_ATTACHMENT","prototype","constructOnly","NONE","BRIGHT","DARK","none","bright","dark","FocusAreaColorNode"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/effects/focusArea/FocusAreaColorNode.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{RenderCategory as o,InternalRenderCategory as t}from\"../../../webgl.js\";import i from\"../../../webgl/RenderNode.js\";import{FocusAreaColorTechnique as c}from\"./FocusAreaColorTechnique.js\";import{F as a}from\"../../../../../chunks/FocusAreaColor.glsl.js\";let n=class extends i{constructor(e){super({...e,view:e.focusAreas.view}),this.consumes={required:[o.COMPOSITE,t.FOCUSAREA]},this.produces=o.COMPOSITE,this._passParameters=new a}precompile(){this.techniques.precompile(c)}render(e){const r=this.techniques.get(c),s=e.find((({name:e})=>e===o.COMPOSITE));if(!r.compiled)return this.requestRender(),s;const i=this.bindParameters,a=i.camera,n=a.fullViewport[2],p=a.fullViewport[3],m=e.find((({name:e})=>e===t.FOCUSAREA)),h=this.fboCache.acquire(n,p,this.produces),d=this.renderingContext;return d.gl.clear(d.gl.STENCIL_BUFFER_BIT),d.bindFramebuffer(h.fbo),this._passParameters.color=s.getTexture(),this._passParameters.focusArea=m.getTexture(),this._passParameters.effect=u[this.focusAreas.style],d.bindTechnique(r,i,this._passParameters),d.screen.draw(),h.attachDepth(s.getAttachment(this.gl.DEPTH_STENCIL_ATTACHMENT)),h}};var p;e([r()],n.prototype,\"consumes\",void 0),e([r()],n.prototype,\"produces\",void 0),e([r({constructOnly:!0})],n.prototype,\"focusAreas\",void 0),n=e([s(\"esri.views.3d.webgl-engine.effects.focusArea.FocusAreaColorNode\")],n),function(e){e[e.NONE=0]=\"NONE\",e[e.BRIGHT=1]=\"BRIGHT\",e[e.DARK=2]=\"DARK\"}(p||(p={}));const u={none:p.NONE,bright:p.BRIGHT,dark:p.DARK};export{n as FocusAreaColorNode};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}