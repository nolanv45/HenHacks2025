{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../core/Evented.js\";\nimport \"../../../core/has.js\";\nimport { someMap as t } from \"../../../core/MapUtils.js\";\nimport { disposeMaybe as s } from \"../../../core/maybe.js\";\nimport i from \"../../../core/PooledArray.js\";\nimport { watch as n, syncAndInitial as o, on as a, initial as h } from \"../../../core/reactiveUtils.js\";\nimport { someSet as l } from \"../../../core/SetUtils.js\";\nimport { property as d } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as c } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { ortho as u, fromTranslation as p } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { i as g } from \"../../../chunks/vec32.js\";\nimport { ones as _ } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { DrapeTargetType as m, DrapeSourceType as y, DrapedRenderGroup as f } from \"../layers/interfaces.js\";\nimport { debugFlags as R } from \"../support/debugFlags.js\";\nimport { OverlayIndex as b } from \"./interfaces.js\";\nimport { Overlay as T } from \"./Overlay.js\";\nimport { OverlayContent as w } from \"./OverlayContent.js\";\nimport { OverlayRenderTargets as D } from \"./OverlayRenderTargets.js\";\nimport v from \"../webgl/RenderCamera.js\";\nimport { ShaderOutput as x } from \"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";\nimport { OverlayMode as O } from \"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";\nimport { T as S } from \"../../../chunks/TextureOnly.glsl.js\";\nimport { SyncRenderPlugin as C } from \"../webgl-engine/effects/RenderPlugin.js\";\nimport { trackHighlightOptions as E, renderHighlightBuffer as P } from \"../webgl-engine/effects/highlight/Highlight.js\";\nimport { RenderRequestType as j } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { GLMaterialRepository as A } from \"../webgl-engine/lib/GLMaterialRepository.js\";\nimport { GridLocalOriginFactory as M } from \"../webgl-engine/lib/GridLocalOriginFactory.js\";\nimport { RenderOccludedFlag as W } from \"../webgl-engine/lib/Material.js\";\nimport { OITPass as I } from \"../webgl-engine/lib/OITPass.js\";\nimport { OverlayRenderContext as q, defaultRenderOccludedMask as N } from \"../webgl-engine/lib/RenderContext.js\";\nimport { RenderSlot as F } from \"../webgl-engine/lib/RenderSlot.js\";\nimport { ShadowMap as L } from \"../webgl-engine/lib/ShadowMap.js\";\nimport { TextureTechnique as V } from \"../webgl-engine/lib/TextureTechnique.js\";\nimport { TextureTechniqueConfiguration as H } from \"../webgl-engine/lib/TextureTechniqueConfiguration.js\";\nimport { Update as G } from \"../webgl-engine/lib/Update.js\";\nimport { UpdatePolicy as k } from \"../webgl-engine/lib/UpdatePolicy.js\";\nimport { AmbientLight as U } from \"../webgl-engine/lighting/Lightsources.js\";\nimport { O as B } from \"../../../chunks/OverlayCompositing.glsl.js\";\nimport { OverlayCompositingTechnique as z } from \"../webgl-engine/shaders/OverlayCompositingTechnique.js\";\nimport { TaskPriority as Y, noBudget as X } from \"../../support/Scheduler.js\";\nimport { FramebufferBit as K, TextureSamplingMode as J } from \"../../webgl/enums.js\";\nimport { Texture as Q } from \"../../webgl/Texture.js\";\nimport { TextureDescriptor as Z } from \"../../webgl/TextureDescriptor.js\";\nlet $ = class extends C {\n  constructor(e) {\n    super(e), this._overlays = null, this._renderTargets = null, this._overlayParameters = new B(), this.hasHighlights = !1, this._hasWater = !1, this._renderers = new Map(), this._sortedDrapeSourceRenderersDirty = !1, this._sortedRenderers = new i(), this._passParameters = new S(), this._materials = null, this._screenToWorldRatio = 1, this._localOriginFactory = null, this.unloadedMemory = 0, this.ignoresMemoryFactor = !1, this._camera = new v(), this.events = new r(), this.longitudeCyclical = null, this.produces = new Map([[F.DRAPED_MATERIAL, e => e !== x.Highlight || this.hasHighlights], [F.DRAPED_WATER, () => this._hasWater]]), this._hasTargetWithoutRasterImage = !1, this._hasDrapedFeatureSource = !1, this._hasDrapedRasterSource = !1;\n  }\n  initialize() {\n    const e = this._view,\n      r = e._stage,\n      t = r.renderer.fboCache,\n      {\n        waterTextures: s,\n        textures: i\n      } = r.renderView;\n    this._renderContext = new q(this._rctx, new L(t, e.state.viewingMode)), this.addHandles([n(() => s.updating, () => this.events.emit(\"content-changed\"), o), n(() => this.spatialReference, e => this._localOriginFactory = new M(e), o), a(() => e.allLayerViews, \"after-changes\", () => this._sortedDrapeSourceRenderersDirty = !0), n(() => E(e.state.highlights), () => this._sortedDrapeSourceRenderersDirty = !0, h), n(() => e.state.highlights, r => {\n      this._bindParameters.highlights = r, this._bindParameters.highlightOrderMap = e.state.highlightOrderMap, this._updateHighlights();\n    }, h), e.resourceController.scheduler.registerTask(Y.STAGE, this)]), this._materials = new A(i, this._techniques, () => {\n      this.notifyChange(\"rendersOccludedDraped\"), this.events.emit(\"content-changed\"), this.notifyChange(\"updating\"), this.notifyChange(\"isEmpty\");\n    }, () => this.events.emit(\"content-changed\"));\n    const {\n      _bindParameters: l,\n      _camera: d\n    } = this;\n    d.near = 1, d.far = 1e4, d.relativeElevation = null, l.slot = F.DRAPED_MATERIAL, l.mainDepth = null, l.camera = d, l.oitPass = I.NONE, l.updateLighting([new U(_())], 0, 0, G.Immediate);\n  }\n  destroy() {\n    this._renderers.forEach(e => e.destroy()), this._renderers.clear(), this._passParameters.texture = s(this._passParameters.texture), this.disposeOverlays();\n  }\n  get _bindParameters() {\n    return this._renderContext.bind;\n  }\n  get _rctx() {\n    return this._stage.renderView.renderingContext;\n  }\n  get _view() {\n    return this.parent.view;\n  }\n  get _stage() {\n    return this.parent.view._stage;\n  }\n  get spatialReference() {\n    return this.parent.spatialReference;\n  }\n  get _techniques() {\n    return this._stage.renderView.techniques;\n  }\n  get rctx() {\n    return this._rctx;\n  }\n  get materials() {\n    return this._materials;\n  }\n  get screenToWorldRatio() {\n    return this._screenToWorldRatio;\n  }\n  get localOriginFactory() {\n    return this._localOriginFactory;\n  }\n  get pluginContext() {\n    return this._pluginContext;\n  }\n  initializeRenderContext(e) {\n    this._pluginContext = e, this._techniques.precompile(z);\n  }\n  uninitializeRenderContext() {}\n  acquireTechniques() {\n    return [];\n  }\n  render() {}\n  get updating() {\n    return this._sortedDrapeSourceRenderersDirty || t(this._renderers, e => e.updating);\n  }\n  get hasOverlays() {\n    return null != this._overlays && null != this._renderTargets;\n  }\n  getMaterialRenderer(e) {\n    for (const r of this._renderers.values()) {\n      const t = r.getMaterialRenderer(e);\n      if (t) return t;\n    }\n    return null;\n  }\n  get layers() {\n    return this._sortedDrapeSourceRenderersDirty && this._updateSortedDrapeSourceRenderers(), this._sortedRenderers.map(e => e.drapeSource.layer).filter(e => !!e);\n  }\n  _updateHighlights() {\n    const e = this._view.state;\n    this._renderers.forEach(r => r.updateHighlights(e.highlightOrderMap));\n  }\n  createDrapeSourceRenderer(e, r, t) {\n    const s = this._renderers.get(e);\n    null != s && s.destroy();\n    const i = new r({\n      ...t,\n      rendererContext: this,\n      drapeSource: e\n    });\n    return this._renderers.set(e, i), this._sortedDrapeSourceRenderersDirty = !0, \"fullOpacity\" in e && this.addHandles(n(() => e.fullOpacity, () => this.events.emit(\"content-changed\")), e), i;\n  }\n  removeDrapeSourceRenderer(e) {\n    if (null == e) return;\n    const r = this._renderers.get(e);\n    null != r && (this._sortedDrapeSourceRenderersDirty = !0, this._renderers.delete(e), this.removeHandles(e), r.destroy());\n  }\n  computeValidity() {\n    return this._renderTargets?.computeValidity() ?? 0;\n  }\n  releaseRenderTargets() {\n    this._renderTargets?.dispose();\n  }\n  get overlays() {\n    return this._overlays ?? [];\n  }\n  ensureDrapeTargets(e) {\n    this._hasTargetWithoutRasterImage = !!this._overlays && l(e, e => e.drapeTargetType === m.WithoutRasterImage);\n  }\n  ensureDrapeSources(e) {\n    this._overlays ? (this._hasDrapedFeatureSource = l(e, e => e.drapeSourceType === y.Features), this._hasDrapedRasterSource = l(e, e => e.drapeSourceType === y.RasterImage)) : this._hasDrapedFeatureSource = this._hasDrapedRasterSource = !1;\n  }\n  get _needsColorWithoutRasterImage() {\n    return this._hasDrapedRasterSource && this._hasDrapedFeatureSource && this._hasTargetWithoutRasterImage;\n  }\n  ensureOverlays(e, r) {\n    let t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this._bindParameters.overlayStretch;\n    null == this._overlays && (this._renderTargets = new D(this._stage.renderer.fboCache), this._overlays = [new T(), new T()]), this.ensureDrapeTargets(e), this.ensureDrapeSources(r), this._bindParameters.overlayStretch = t;\n  }\n  disposeOverlays() {\n    this._overlays = null, this._renderTargets = s(this._renderTargets), this.events.emit(\"textures-disposed\");\n  }\n  getTexture(e) {\n    if (null != e) return e === w.ColorNoRasterImage && !this._needsColorWithoutRasterImage && this._hasDrapedFeatureSource ? this._renderTargets?.getTexture(w.Color) : this._renderTargets?.getTexture(e);\n  }\n  get running() {\n    return this.updating;\n  }\n  runTask(e) {\n    this._processDrapeSources(e, () => !0);\n  }\n  _processDrapeSources(e, r) {\n    let s = !1;\n    for (const [t, i] of this._renderers) {\n      if (e.done) break;\n      (t.destroyed || r(t)) && i.commitChanges(this._view.state.highlightOrderMap) && (s = !0, e.madeProgress());\n    }\n    this._sortedDrapeSourceRenderersDirty && (this._sortedDrapeSourceRenderersDirty = !1, s = !0, this._updateSortedDrapeSourceRenderers()), s && (null != this._overlays && 0 === this._renderers.size && this.disposeOverlays(), this.notifyChange(\"updating\"), this.notifyChange(\"isEmpty\"), this.events.emit(\"content-changed\"), this.hasHighlights = t(this._renderers, e => e.hasHighlights), this.notifyChange(\"rendersOccludedDraped\"));\n  }\n  hasHighlightOptions(e) {\n    return t(this._renderers, r => r.hasHighlightOptions(e));\n  }\n  processSyncDrapeSources() {\n    this._processDrapeSources(X, e => e.updatePolicy === k.SYNC);\n  }\n  get isEmpty() {\n    return !R.OVERLAY_DRAW_DEBUG_TEXTURE && !t(this._renderers, e => !e.isEmpty);\n  }\n  get hasWater() {\n    const e = t(this._renderers, e => e.hasWater);\n    return e !== this._hasWater && (this._hasWater = e, this.events.emit(\"has-water\")), this._hasWater;\n  }\n  get rendersOccludedDraped() {\n    const e = this._renderContext.renderOccludedMask;\n    this._renderContext.renderOccludedMask = se, ++this._techniques.precompiling;\n    const r = this._sortedRenderers.some(_ref => {\n      let {\n        renderer: e\n      } = _ref;\n      return e.precompile(this._renderContext);\n    });\n    return --this._techniques.precompiling, this._renderContext.renderOccludedMask = e, r;\n  }\n  renders(e) {\n    if (R.OVERLAY_DRAW_DEBUG_TEXTURE && e !== w.Occluded && e !== w.Highlight) return !0;\n    ++this._techniques.precompiling;\n    const r = this._sortedRenderers.some(_ref2 => {\n      let {\n        renderer: e\n      } = _ref2;\n      return e.precompile(this._renderContext);\n    });\n    return --this._techniques.precompiling, r;\n  }\n  get mode() {\n    return this.isEmpty ? O.Disabled : this.hasWater && this.renders(w.WaterNormal) ? O.EnabledWithWater : this._renderTargets?.getTexture(w.Color) ? O.Enabled : O.Disabled;\n  }\n  updateAnimation(e) {\n    let r = !1;\n    return this._renderers.forEach(t => r = t.updateAnimation(e) || r), r && this.parent.requestRender(j.BACKGROUND), r;\n  }\n  updateDrapeSourceOrder() {\n    this._sortedDrapeSourceRenderersDirty = !0;\n  }\n  precompileShaders(e) {\n    if (this._renderTargets) {\n      this._bindParameters.alignPixelEnabled = e.alignPixelEnabled, ++this._techniques.precompiling;\n      for (const e of this._renderTargets.targets) {\n        if (e.content === w.ColorNoRasterImage && !this._needsColorWithoutRasterImage) continue;\n        const r = e.output;\n        this._renderContext.output = r, this._bindParameters.slot = r === x.Normal ? F.DRAPED_WATER : F.DRAPED_MATERIAL, e.content === w.Occluded && (this._renderContext.renderOccludedMask = se), this._sortedRenderers.forAll(_ref3 => {\n          let {\n            drapeSource: r,\n            renderer: t\n          } = _ref3;\n          e.content === w.ColorNoRasterImage && r.drapeSourceType === y.RasterImage || t.precompile(this._renderContext);\n        }), this._renderContext.renderOccludedMask = N;\n      }\n      --this._techniques.precompiling;\n    }\n  }\n  drawOverlays(e) {\n    if (this._overlays && this._renderTargets) {\n      for (const e of this._overlays) this.longitudeCyclical ? e.setupGeometryViewsCyclical(this.longitudeCyclical) : e.setupGeometryView();\n      this._bindParameters.alignPixelEnabled = e.alignPixelEnabled;\n      for (const e of this._renderTargets.targets) {\n        if (e.content === w.ColorNoRasterImage && !this._needsColorWithoutRasterImage) continue;\n        const r = this._drawTarget(b.INNER, e),\n          t = this._drawTarget(b.OUTER, e);\n        (r || t) && e.fbo.generateMipMap();\n      }\n    }\n  }\n  _drawTarget(e, r) {\n    const t = this._overlays[e],\n      s = t.canvasGeometries;\n    if (0 === s.numViews) return !1;\n    const i = this._view.state.contentPixelRatio;\n    this._screenToWorldRatio = i * t.mapUnitsPerPixel / this._bindParameters.overlayStretch;\n    const n = r.output;\n    if (this.isEmpty || n === x.Normal && !this.hasWater || !t.hasSomeSizedView()) return !1;\n    const {\n      _rctx: o,\n      _camera: a,\n      _renderContext: h,\n      _bindParameters: l\n    } = this;\n    if (a.pixelRatio = t.pixelRatio * i, h.output = n, l.screenToWorldRatio = this._screenToWorldRatio, l.screenToPCSRatio = this._screenToWorldRatio * this.parent.worldToPCSRatio, l.slot = n === x.Normal ? F.DRAPED_WATER : F.DRAPED_MATERIAL, r.content === w.Occluded && (h.renderOccludedMask = se), !this.renders(r.content)) return h.renderOccludedMask = N, !1;\n    const {\n        resolution: d\n      } = t,\n      c = e === b.INNER ? 0 : d;\n    o.setViewport(c, 0, d, d), this._bindTargetFBO(r), e === b.INNER && (o.setClearColor(0, 0, 0, 0), o.clear(K.COLOR));\n    if (R.OVERLAY_DRAW_DEBUG_TEXTURE && r.content !== w.Occluded && r.content !== w.Highlight) {\n      this._techniques.precompile(V, ie);\n      const r = this._techniques.get(V, ie);\n      for (let i = 0; i < s.numViews; i++) this._setViewParameters(s.extents[i], t), this._ensureDebugPatternResources(t.resolution, re[e]), o.bindTechnique(r, l, this._passParameters), o.screen.draw();\n    }\n    if (r.output === x.Highlight) {\n      const {\n          fboCache: t\n        } = this._stage.renderer,\n        s = this._resolution;\n      this._bindTargetFBO(r), P(o, t, {\n        width: s,\n        height: s\n      }, l, () => this._renderAllGeometry(e, r), c);\n    } else this._renderAllGeometry(e, r);\n    return o.bindFramebuffer(null), h.renderOccludedMask = N, !0;\n  }\n  _renderAllGeometry(e, r) {\n    const t = this._overlays[e],\n      s = t.canvasGeometries;\n    this._sortedRenderers.forAll(_ref4 => {\n      let {\n        drapeSource: i,\n        renderer: n\n      } = _ref4;\n      if (r.content === w.ColorNoRasterImage && i.drapeSourceType === y.RasterImage) return;\n      const {\n          fullOpacity: o\n        } = i,\n        a = null != o && o < 1 && r.output === x.Color && this._bindTemporaryFBO();\n      for (let e = 0; e < s.numViews; e++) this._setViewParameters(s.extents[e], t), n.render(this._renderContext);\n      if (a) {\n        this._bindTargetFBO(r), this._overlayParameters.texture = a.getTexture(), this._overlayParameters.opacity = o, this._overlayParameters.overlayIndex = e;\n        const t = this._techniques.get(z);\n        this._rctx.bindTechnique(t, this._bindParameters, this._overlayParameters), this._rctx.screen.draw(), a.release();\n      }\n    });\n  }\n  _bindTargetFBO(e) {\n    const r = this._resolution,\n      t = 2 * r;\n    e.fbo.bind(this._rctx, t, r);\n  }\n  _bindTemporaryFBO() {\n    const e = this._resolution,\n      r = 2 * e,\n      t = this._stage.renderer.fboCache,\n      s = t.acquire(r, e, \"overlay tmp\");\n    return t.rctx.bindFramebuffer(s.fbo), t.rctx.clear(K.COLOR), s;\n  }\n  get _resolution() {\n    return this._overlays?.[b.INNER].resolution ?? 0;\n  }\n  notifyContentChanged() {\n    this.events.emit(\"content-changed\");\n  }\n  intersect(e, r, t, s) {\n    this._sortedDrapeSourceRenderersDirty && this._updateSortedDrapeSourceRenderers();\n    let i = 0;\n    for (const {\n      renderer: n\n    } of this._sortedRenderers) i = n.intersect?.(e, r, t, s, i) ?? i;\n  }\n  _updateSortedDrapeSourceRenderers() {\n    if (this._sortedRenderers.clear(), 0 === this._renderers.size) return;\n    const e = this._view.map.allLayers,\n      r = e.length;\n    this._renderers.forEach((t, s) => {\n      const i = e.indexOf(s.layer),\n        n = i >= 0,\n        o = s.renderGroup ?? (n ? f.MapLayer : f.ViewLayer),\n        a = r * o + (n ? i : 0);\n      this._sortedRenderers.push(new ee(s, t, a));\n    }), this._sortedRenderers.sort((e, r) => e.index - r.index);\n  }\n  _setViewParameters(e, r) {\n    const t = this._camera;\n    t.viewport = [0, 0, r.resolution, r.resolution], u(t.projectionMatrix, 0, e[2] - e[0], 0, e[3] - e[1], t.near, t.far), p(t.viewMatrix, [-e[0], -e[1], 0]);\n  }\n  _ensureDebugPatternResources(e, r) {\n    if (g(this._passParameters.color, r[0], r[1], r[2]), this._passParameters.texture) return;\n    const t = new Uint8Array(e * e * 4);\n    let s = 0;\n    for (let n = 0; n < e; n++) for (let r = 0; r < e; r++) {\n      const i = Math.floor(r / 10),\n        o = Math.floor(n / 10);\n      i < 2 || o < 2 || 10 * i > e - 20 || 10 * o > e - 20 ? (t[s++] = 255, t[s++] = 255, t[s++] = 255, t[s++] = 255) : (t[s++] = 255, t[s++] = 255, t[s++] = 255, t[s++] = 1 & i && 1 & o ? 1 & r ^ 1 & n ? 0 : 255 : 1 & i ^ 1 & o ? 0 : 128);\n    }\n    const i = new Z(e);\n    i.samplingMode = J.NEAREST, this._passParameters.texture = new Q(this._rctx, i, t);\n  }\n  get test() {}\n};\ne([d()], $.prototype, \"hasHighlights\", void 0), e([d()], $.prototype, \"_sortedDrapeSourceRenderersDirty\", void 0), e([d({\n  constructOnly: !0\n})], $.prototype, \"parent\", void 0), e([d({\n  readOnly: !0\n})], $.prototype, \"_techniques\", null), e([d({\n  type: Boolean,\n  readOnly: !0\n})], $.prototype, \"updating\", null), e([d()], $.prototype, \"isEmpty\", null), e([d({\n  readOnly: !0\n})], $.prototype, \"rendersOccludedDraped\", null), $ = e([c(\"esri.views.3d.terrain.OverlayRenderer\")], $);\nclass ee {\n  constructor(e, r, t) {\n    this.drapeSource = e, this.renderer = r, this.index = t;\n  }\n}\nconst re = [[1, .5, .5], [.5, .5, 1]],\n  te = -2,\n  se = W.OccludeAndTransparent,\n  ie = new H();\nie.hasAlpha = !0;\nexport { $ as OverlayRenderer, te as drapedZ, se as overlayRenderOccludedFlag };","map":{"version":3,"names":["_","e","r","someMap","t","disposeMaybe","s","i","watch","n","syncAndInitial","o","on","a","initial","h","someSet","l","property","d","subclass","c","ortho","u","fromTranslation","p","g","ones","DrapeTargetType","m","DrapeSourceType","y","DrapedRenderGroup","f","debugFlags","R","OverlayIndex","b","Overlay","T","OverlayContent","w","OverlayRenderTargets","D","v","ShaderOutput","x","OverlayMode","O","S","SyncRenderPlugin","C","trackHighlightOptions","E","renderHighlightBuffer","P","RenderRequestType","j","GLMaterialRepository","A","GridLocalOriginFactory","M","RenderOccludedFlag","W","OITPass","I","OverlayRenderContext","q","defaultRenderOccludedMask","N","RenderSlot","F","ShadowMap","L","TextureTechnique","V","TextureTechniqueConfiguration","H","Update","G","UpdatePolicy","k","AmbientLight","U","B","OverlayCompositingTechnique","z","TaskPriority","Y","noBudget","X","FramebufferBit","K","TextureSamplingMode","J","Texture","Q","TextureDescriptor","Z","$","constructor","_overlays","_renderTargets","_overlayParameters","hasHighlights","_hasWater","_renderers","Map","_sortedDrapeSourceRenderersDirty","_sortedRenderers","_passParameters","_materials","_screenToWorldRatio","_localOriginFactory","unloadedMemory","ignoresMemoryFactor","_camera","events","longitudeCyclical","produces","DRAPED_MATERIAL","Highlight","DRAPED_WATER","_hasTargetWithoutRasterImage","_hasDrapedFeatureSource","_hasDrapedRasterSource","initialize","_view","_stage","renderer","fboCache","waterTextures","textures","renderView","_renderContext","_rctx","state","viewingMode","addHandles","updating","emit","spatialReference","allLayerViews","highlights","_bindParameters","highlightOrderMap","_updateHighlights","resourceController","scheduler","registerTask","STAGE","_techniques","notifyChange","near","far","relativeElevation","slot","mainDepth","camera","oitPass","NONE","updateLighting","Immediate","destroy","forEach","clear","texture","disposeOverlays","bind","renderingContext","parent","view","techniques","rctx","materials","screenToWorldRatio","localOriginFactory","pluginContext","_pluginContext","initializeRenderContext","precompile","uninitializeRenderContext","acquireTechniques","render","hasOverlays","getMaterialRenderer","values","layers","_updateSortedDrapeSourceRenderers","map","drapeSource","layer","filter","updateHighlights","createDrapeSourceRenderer","get","rendererContext","set","fullOpacity","removeDrapeSourceRenderer","delete","removeHandles","computeValidity","releaseRenderTargets","dispose","overlays","ensureDrapeTargets","drapeTargetType","WithoutRasterImage","ensureDrapeSources","drapeSourceType","Features","RasterImage","_needsColorWithoutRasterImage","ensureOverlays","arguments","length","undefined","overlayStretch","getTexture","ColorNoRasterImage","Color","running","runTask","_processDrapeSources","done","destroyed","commitChanges","madeProgress","size","hasHighlightOptions","processSyncDrapeSources","updatePolicy","SYNC","isEmpty","OVERLAY_DRAW_DEBUG_TEXTURE","hasWater","rendersOccludedDraped","renderOccludedMask","se","precompiling","some","_ref","renders","Occluded","_ref2","mode","Disabled","WaterNormal","EnabledWithWater","Enabled","updateAnimation","requestRender","BACKGROUND","updateDrapeSourceOrder","precompileShaders","alignPixelEnabled","targets","content","output","Normal","forAll","_ref3","drawOverlays","setupGeometryViewsCyclical","setupGeometryView","_drawTarget","INNER","OUTER","fbo","generateMipMap","canvasGeometries","numViews","contentPixelRatio","mapUnitsPerPixel","hasSomeSizedView","pixelRatio","screenToPCSRatio","worldToPCSRatio","resolution","setViewport","_bindTargetFBO","setClearColor","COLOR","ie","_setViewParameters","extents","_ensureDebugPatternResources","re","bindTechnique","screen","draw","_resolution","width","height","_renderAllGeometry","bindFramebuffer","_ref4","_bindTemporaryFBO","opacity","overlayIndex","release","acquire","notifyContentChanged","intersect","allLayers","indexOf","renderGroup","MapLayer","ViewLayer","push","ee","sort","index","viewport","projectionMatrix","viewMatrix","color","Uint8Array","Math","floor","samplingMode","NEAREST","test","prototype","constructOnly","readOnly","type","Boolean","te","OccludeAndTransparent","hasAlpha","OverlayRenderer","drapedZ","overlayRenderOccludedFlag"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import i from\"../../../core/PooledArray.js\";import{watch as n,syncAndInitial as o,on as a,initial as h}from\"../../../core/reactiveUtils.js\";import{someSet as l}from\"../../../core/SetUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ortho as u,fromTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as g}from\"../../../chunks/vec32.js\";import{ones as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DrapeTargetType as m,DrapeSourceType as y,DrapedRenderGroup as f}from\"../layers/interfaces.js\";import{debugFlags as R}from\"../support/debugFlags.js\";import{OverlayIndex as b}from\"./interfaces.js\";import{Overlay as T}from\"./Overlay.js\";import{OverlayContent as w}from\"./OverlayContent.js\";import{OverlayRenderTargets as D}from\"./OverlayRenderTargets.js\";import v from\"../webgl/RenderCamera.js\";import{ShaderOutput as x}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{OverlayMode as O}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as S}from\"../../../chunks/TextureOnly.glsl.js\";import{SyncRenderPlugin as C}from\"../webgl-engine/effects/RenderPlugin.js\";import{trackHighlightOptions as E,renderHighlightBuffer as P}from\"../webgl-engine/effects/highlight/Highlight.js\";import{RenderRequestType as j}from\"../webgl-engine/lib/basicInterfaces.js\";import{GLMaterialRepository as A}from\"../webgl-engine/lib/GLMaterialRepository.js\";import{GridLocalOriginFactory as M}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{RenderOccludedFlag as W}from\"../webgl-engine/lib/Material.js\";import{OITPass as I}from\"../webgl-engine/lib/OITPass.js\";import{OverlayRenderContext as q,defaultRenderOccludedMask as N}from\"../webgl-engine/lib/RenderContext.js\";import{RenderSlot as F}from\"../webgl-engine/lib/RenderSlot.js\";import{ShadowMap as L}from\"../webgl-engine/lib/ShadowMap.js\";import{TextureTechnique as V}from\"../webgl-engine/lib/TextureTechnique.js\";import{TextureTechniqueConfiguration as H}from\"../webgl-engine/lib/TextureTechniqueConfiguration.js\";import{Update as G}from\"../webgl-engine/lib/Update.js\";import{UpdatePolicy as k}from\"../webgl-engine/lib/UpdatePolicy.js\";import{AmbientLight as U}from\"../webgl-engine/lighting/Lightsources.js\";import{O as B}from\"../../../chunks/OverlayCompositing.glsl.js\";import{OverlayCompositingTechnique as z}from\"../webgl-engine/shaders/OverlayCompositingTechnique.js\";import{TaskPriority as Y,noBudget as X}from\"../../support/Scheduler.js\";import{FramebufferBit as K,TextureSamplingMode as J}from\"../../webgl/enums.js\";import{Texture as Q}from\"../../webgl/Texture.js\";import{TextureDescriptor as Z}from\"../../webgl/TextureDescriptor.js\";let $=class extends C{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new B,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new i,this._passParameters=new S,this._materials=null,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new v,this.events=new r,this.longitudeCyclical=null,this.produces=new Map([[F.DRAPED_MATERIAL,e=>e!==x.Highlight||this.hasHighlights],[F.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const e=this._view,r=e._stage,t=r.renderer.fboCache,{waterTextures:s,textures:i}=r.renderView;this._renderContext=new q(this._rctx,new L(t,e.state.viewingMode)),this.addHandles([n((()=>s.updating),(()=>this.events.emit(\"content-changed\")),o),n((()=>this.spatialReference),(e=>this._localOriginFactory=new M(e)),o),a((()=>e.allLayerViews),\"after-changes\",(()=>this._sortedDrapeSourceRenderersDirty=!0)),n((()=>E(e.state.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),h),n((()=>e.state.highlights),(r=>{this._bindParameters.highlights=r,this._bindParameters.highlightOrderMap=e.state.highlightOrderMap,this._updateHighlights()}),h),e.resourceController.scheduler.registerTask(Y.STAGE,this)]),this._materials=new A(i,this._techniques,(()=>{this.notifyChange(\"rendersOccludedDraped\"),this.events.emit(\"content-changed\"),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\")}),(()=>this.events.emit(\"content-changed\")));const{_bindParameters:l,_camera:d}=this;d.near=1,d.far=1e4,d.relativeElevation=null,l.slot=F.DRAPED_MATERIAL,l.mainDepth=null,l.camera=d,l.oitPass=I.NONE,l.updateLighting([new U(_())],0,0,G.Immediate)}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=s(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this._stage.renderView.renderingContext}get _view(){return this.parent.view}get _stage(){return this.parent.view._stage}get spatialReference(){return this.parent.spatialReference}get _techniques(){return this._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){this._pluginContext=e,this._techniques.precompile(z)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||t(this._renderers,(e=>e.updating))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}_updateHighlights(){const e=this._view.state;this._renderers.forEach((r=>r.updateHighlights(e.highlightOrderMap)))}createDrapeSourceRenderer(e,r,t){const s=this._renderers.get(e);null!=s&&s.destroy();const i=new r({...t,rendererContext:this,drapeSource:e});return this._renderers.set(e,i),this._sortedDrapeSourceRenderersDirty=!0,\"fullOpacity\"in e&&this.addHandles(n((()=>e.fullOpacity),(()=>this.events.emit(\"content-changed\"))),e),i}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&l(e,(e=>e.drapeTargetType===m.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=l(e,(e=>e.drapeSourceType===y.Features)),this._hasDrapedRasterSource=l(e,(e=>e.drapeSourceType===y.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new D(this._stage.renderer.fboCache),this._overlays=[new T,new T]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=s(this._renderTargets),this.events.emit(\"textures-disposed\")}getTexture(e){if(null!=e)return e===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(w.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges(this._view.state.highlightOrderMap)&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers()),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\"),this.events.emit(\"content-changed\"),this.hasHighlights=t(this._renderers,(e=>e.hasHighlights)),this.notifyChange(\"rendersOccludedDraped\"))}hasHighlightOptions(e){return t(this._renderers,(r=>r.hasHighlightOptions(e)))}processSyncDrapeSources(){this._processDrapeSources(X,(e=>e.updatePolicy===k.SYNC))}get isEmpty(){return!R.OVERLAY_DRAW_DEBUG_TEXTURE&&!t(this._renderers,(e=>!e.isEmpty))}get hasWater(){const e=t(this._renderers,(e=>e.hasWater));return e!==this._hasWater&&(this._hasWater=e,this.events.emit(\"has-water\")),this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=se,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==w.Occluded&&e!==w.Highlight)return!0;++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,r}get mode(){return this.isEmpty?O.Disabled:this.hasWater&&this.renders(w.WaterNormal)?O.EnabledWithWater:this._renderTargets?.getTexture(w.Color)?O.Enabled:O.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r&&this.parent.requestRender(j.BACKGROUND),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(this._renderTargets){this._bindParameters.alignPixelEnabled=e.alignPixelEnabled,++this._techniques.precompiling;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=e.output;this._renderContext.output=r,this._bindParameters.slot=r===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,e.content===w.Occluded&&(this._renderContext.renderOccludedMask=se),this._sortedRenderers.forAll((({drapeSource:r,renderer:t})=>{e.content===w.ColorNoRasterImage&&r.drapeSourceType===y.RasterImage||t.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=N}--this._techniques.precompiling}}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)this.longitudeCyclical?e.setupGeometryViewsCyclical(this.longitudeCyclical):e.setupGeometryView();this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=this._drawTarget(b.INNER,e),t=this._drawTarget(b.OUTER,e);(r||t)&&e.fbo.generateMipMap()}}}_drawTarget(e,r){const t=this._overlays[e],s=t.canvasGeometries;if(0===s.numViews)return!1;const i=this._view.state.contentPixelRatio;this._screenToWorldRatio=i*t.mapUnitsPerPixel/this._bindParameters.overlayStretch;const n=r.output;if(this.isEmpty||n===x.Normal&&!this.hasWater||!t.hasSomeSizedView())return!1;const{_rctx:o,_camera:a,_renderContext:h,_bindParameters:l}=this;if(a.pixelRatio=t.pixelRatio*i,h.output=n,l.screenToWorldRatio=this._screenToWorldRatio,l.screenToPCSRatio=this._screenToWorldRatio*this.parent.worldToPCSRatio,l.slot=n===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,r.content===w.Occluded&&(h.renderOccludedMask=se),!this.renders(r.content))return h.renderOccludedMask=N,!1;const{resolution:d}=t,c=e===b.INNER?0:d;o.setViewport(c,0,d,d),this._bindTargetFBO(r),e===b.INNER&&(o.setClearColor(0,0,0,0),o.clear(K.COLOR));if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==w.Occluded&&r.content!==w.Highlight){this._techniques.precompile(V,ie);const r=this._techniques.get(V,ie);for(let i=0;i<s.numViews;i++)this._setViewParameters(s.extents[i],t),this._ensureDebugPatternResources(t.resolution,re[e]),o.bindTechnique(r,l,this._passParameters),o.screen.draw()}if(r.output===x.Highlight){const{fboCache:t}=this._stage.renderer,s=this._resolution;this._bindTargetFBO(r),P(o,t,{width:s,height:s},l,(()=>this._renderAllGeometry(e,r)),c)}else this._renderAllGeometry(e,r);return o.bindFramebuffer(null),h.renderOccludedMask=N,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:n})=>{if(r.content===w.ColorNoRasterImage&&i.drapeSourceType===y.RasterImage)return;const{fullOpacity:o}=i,a=null!=o&&o<1&&r.output===x.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),n.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=o,this._overlayParameters.overlayIndex=e;const t=this._techniques.get(z);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this._stage.renderer.fboCache,s=t.acquire(r,e,\"overlay tmp\");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(K.COLOR),s}get _resolution(){return this._overlays?.[b.INNER].resolution??0}notifyContentChanged(){this.events.emit(\"content-changed\")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:n}of this._sortedRenderers)i=n.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this._view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),n=i>=0,o=s.renderGroup??(n?f.MapLayer:f.ViewLayer),a=r*o+(n?i:0);this._sortedRenderers.push(new ee(s,t,a))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],u(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),p(t.viewMatrix,[-e[0],-e[1],0])}_ensureDebugPatternResources(e,r){if(g(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let n=0;n<e;n++)for(let r=0;r<e;r++){const i=Math.floor(r/10),o=Math.floor(n/10);i<2||o<2||10*i>e-20||10*o>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&o?1&r^1&n?0:255:1&i^1&o?0:128)}const i=new Z(e);i.samplingMode=J.NEAREST,this._passParameters.texture=new Q(this._rctx,i,t)}get test(){}};e([d()],$.prototype,\"hasHighlights\",void 0),e([d()],$.prototype,\"_sortedDrapeSourceRenderersDirty\",void 0),e([d({constructOnly:!0})],$.prototype,\"parent\",void 0),e([d({readOnly:!0})],$.prototype,\"_techniques\",null),e([d({type:Boolean,readOnly:!0})],$.prototype,\"updating\",null),e([d()],$.prototype,\"isEmpty\",null),e([d({readOnly:!0})],$.prototype,\"rendersOccludedDraped\",null),$=e([c(\"esri.views.3d.terrain.OverlayRenderer\")],$);class ee{constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const re=[[1,.5,.5],[.5,.5,1]],te=-2,se=W.OccludeAndTransparent,ie=new H;ie.hasAlpha=!0;export{$ as OverlayRenderer,te as drapedZ,se as overlayRenderOccludedFlag};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}