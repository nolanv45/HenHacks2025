{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../request.js\";\nimport r from \"../core/Collection.js\";\nimport i from \"../core/Error.js\";\nimport { getOrCreateMapValue as o } from \"../core/MapUtils.js\";\nimport { MultiOriginJSONMixin as s } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as a } from \"../core/promiseUtils.js\";\nimport { urlToObject as n, join as l, hasSamePortal as p } from \"../core/urlUtils.js\";\nimport { property as d } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as y } from \"../core/accessorSupport/decorators/subclass.js\";\nimport m from \"./Layer.js\";\nimport u from \"./catalog/CatalogDynamicGroupLayer.js\";\nimport c from \"./catalog/CatalogFootprintLayer.js\";\nimport h from \"./graphics/sources/FeatureLayerSource.js\";\nimport { APIKeyMixin as f } from \"./mixins/APIKeyMixin.js\";\nimport { ArcGISService as g } from \"./mixins/ArcGISService.js\";\nimport { BlendLayer as F } from \"./mixins/BlendLayer.js\";\nimport { CustomParametersMixin as j } from \"./mixins/CustomParametersMixin.js\";\nimport { DisplayFilteredLayer as w } from \"./mixins/DisplayFilteredLayer.js\";\nimport { EditBusLayer as L } from \"./mixins/EditBusLayer.js\";\nimport { FeatureLayerBase as v } from \"./mixins/FeatureLayerBase.js\";\nimport { OperationalLayer as S } from \"./mixins/OperationalLayer.js\";\nimport { OrderedLayer as x } from \"./mixins/OrderedLayer.js\";\nimport { PortalLayer as I } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as O } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as b } from \"./mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as E } from \"./mixins/TemporalLayer.js\";\nimport { legendEnabled as T, id as _ } from \"./support/commonProperties.js\";\nimport { ensureLayerCredential as P, applyEdits as C, getFeatureType as G, hasDataChanged as U } from \"./support/featureLayerUtils.js\";\nimport q from \"./support/FeatureType.js\";\nimport { defineFieldProperties as A } from \"./support/fieldProperties.js\";\nimport { serviceSupportsSpatialReference as D } from \"./support/versionUtils.js\";\nimport Q from \"../portal/Portal.js\";\nimport N from \"../portal/PortalItem.js\";\nimport { normalizeArcGISOnlineOrgDomain as M } from \"../portal/support/urlUtils.js\";\nimport R from \"../rest/support/Query.js\";\nconst B = A();\nfunction V(e) {\n  return \"object\" == typeof e && null != e && \"itemId\" in e && \"portalUrl\" in e;\n}\nfunction k(e) {\n  return \"object\" == typeof e && null != e && \"url\" in e;\n}\nfunction J(e) {\n  if (null == e) return !0;\n  const t = Object.keys(e);\n  return !t.length || 1 === t.length && \"id\" === t[0];\n}\nfunction K(e, t, r, i) {\n  const o = e.write({}, i);\n  J(o) || (t[r] = o);\n}\nlet H = class extends w(v(L(F(x(E(b(O(g(S(I(s(j(f(m)))))))))))))) {\n  constructor(e) {\n    super(e), this.legendEnabled = !0, this._portals = new Map(), this._layerToFootprint = new WeakMap(), this.drawOrderField = \"cd_draworder\", this.dynamicGroupLayer = new u({\n      parent: this\n    }), this.elevationInfo = null, this.fields = null, this.fieldsIndex = null, this.floorInfo = null, this.footprintLayer = new c({\n      parent: this\n    }), this.itemNameField = \"cd_itemname\", this.itemSourceField = \"cd_itemsource\", this.itemTypeField = \"cd_itemtype\", this.layers = new r([this.dynamicGroupLayer, this.footprintLayer]), this.maxScaleField = \"cd_maxscale\", this.minScaleField = \"cd_minscale\", this.orderBy = null, this.outFields = null, this.supportedSourceTypes = new Set([\"Catalog Layer\"]), this.source = new h({\n      layer: this,\n      supportedSourceTypes: this.supportedSourceTypes\n    }), this.type = \"catalog\", this.typeIdField = null, this.types = null;\n  }\n  load(e) {\n    const t = null != e ? e.signal : null,\n      r = this.loadFromPortal({\n        supportedTypes: [\"Feature Service\"]\n      }, e).catch(a).then(async () => {\n        const {\n          url: e,\n          source: r,\n          portalItem: o\n        } = this;\n        if (!e) throw new i(\"catalog-layer:missing-url\", \"Catalog layer must be created with a url\");\n        if (null == this.layerId) {\n          const r = await this._fetchFirstValidLayerId(t);\n          if (null == r) throw new i(\"catalog-layer:missing-layerId\", \"There is no Catalog Layer in the service\", {\n            service: e\n          });\n          this.layerId = r;\n        }\n        await r.load({\n          signal: t\n        });\n        const {\n          sourceJSON: s\n        } = r;\n        s && (this.sourceJSON = s, this.read(s, {\n          origin: \"service\",\n          portalItem: o,\n          portal: o?.portal,\n          url: this.parsedUrl\n        }));\n      }).then(() => {\n        const e = [this.itemNameField, this.itemSourceField, this.itemTypeField, this.minScaleField, this.maxScaleField],\n          t = e.filter(e => !this.fieldsIndex.has(e));\n        if (t.length) throw new i(\"catalog-layer:missing-fields\", \"There are missing fields to operate properly\", {\n          requiredFields: e,\n          missingFields: t\n        });\n      }).then(() => P(this, \"load\", e));\n    return this.addResolvingPromise(r), Promise.resolve(this);\n  }\n  destroy() {\n    this.footprintLayer.destroy(), this.dynamicGroupLayer.destroy();\n    for (const e of this._portals.values()) e.destroy();\n    this._portals.clear();\n  }\n  get createQueryVersion() {\n    return this.commitProperty(\"definitionExpression\"), this.commitProperty(\"timeExtent\"), this.commitProperty(\"timeOffset\"), this.commitProperty(\"geometryType\"), this.commitProperty(\"capabilities\"), (this._get(\"createQueryVersion\") ?? 0) + 1;\n  }\n  get editingEnabled() {\n    return this.loaded && null != this.capabilities && this.capabilities.operations.supportsEditing && this.userHasEditingPrivileges;\n  }\n  get effectiveEditingEnabled() {\n    return !1;\n  }\n  get parsedUrl() {\n    const e = n(this.url);\n    return null != e && null != this.layerId && (e.path = l(e.path, this.layerId.toString())), e;\n  }\n  async applyEdits(e, t) {\n    return C(this, e, t);\n  }\n  on(e, t) {\n    return super.on(e, t);\n  }\n  async createLayerFromFootprint(e) {\n    const t = await this._createLayer(e);\n    return this._configureLayer(t, e), this._layerToFootprint.set(t, e), t;\n  }\n  createFootprintFromLayer(e) {\n    return this._layerToFootprint.get(e)?.clone();\n  }\n  createQuery() {\n    const e = new R(),\n      t = this.capabilities?.query;\n    e.returnGeometry = !0, t && (e.compactGeometryEnabled = t.supportsCompactGeometry, e.defaultSpatialReferenceEnabled = t.supportsDefaultSpatialReference), e.outFields = [\"*\"];\n    const {\n      timeOffset: r,\n      timeExtent: i\n    } = this;\n    return e.timeExtent = null != r && null != i ? i.offset(-r.value, r.unit) : i || null, e.where = this.definitionExpression || \"1=1\", e;\n  }\n  getFeatureType(e) {\n    return G(this.types, this.typeIdField, e);\n  }\n  getFieldDomain(e, t) {\n    const r = t?.feature,\n      i = this.getFeatureType(r);\n    if (i) {\n      const t = i.domains && i.domains[e];\n      if (t && \"inherited\" !== t.type) return t;\n    }\n    return this.getField(e)?.domain;\n  }\n  async hasDataChanged() {\n    return U(this);\n  }\n  async queryFeatures(e, t) {\n    const r = await this.load(),\n      i = await r.source.queryFeatures(R.from(e) ?? r.createQuery(), t);\n    if (i?.features) for (const o of i.features) o.layer = o.sourceLayer = r.footprintLayer;\n    return i;\n  }\n  async queryObjectIds(e, t) {\n    return (await this.load()).source.queryObjectIds(R.from(e) ?? this.createQuery(), t);\n  }\n  async queryFeatureCount(e, t) {\n    return (await this.load()).source.queryFeatureCount(R.from(e) ?? this.createQuery(), t);\n  }\n  async queryExtent(e, t) {\n    return (await this.load()).source.queryExtent(R.from(e) ?? this.createQuery(), t);\n  }\n  serviceSupportsSpatialReference(e) {\n    return this.loaded && D(this, e);\n  }\n  read(e, t) {\n    if (super.read(e, t), e) {\n      const {\n        footprintLayer: r,\n        dynamicGroupLayer: i\n      } = e;\n      r && this.footprintLayer.read(r, t), i && this.dynamicGroupLayer.read(i, t);\n    }\n  }\n  async _fetchFirstValidLayerId(e) {\n    const {\n      data: r\n    } = await t(this.url, {\n      query: {\n        f: \"json\",\n        ...this.customParameters,\n        token: this.apiKey\n      },\n      responseType: \"json\",\n      signal: e\n    });\n    if (Array.isArray(r?.layers)) return r.layers.find(_ref => {\n      let {\n        type: e\n      } = _ref;\n      return this.supportedSourceTypes.has(e);\n    })?.id;\n  }\n  async _createLayer(e) {\n    const t = e.getAttribute(this.itemSourceField);\n    if (!t) throw new i(\"catalog-layer:item-source-missing\", `The footprint is missing the \"${this.itemSourceField}\" attribute`);\n    const r = JSON.parse(t);\n    if (V(r)) {\n      const {\n          itemId: e,\n          portalUrl: t\n        } = r,\n        i = M(t),\n        s = this.portalItem?.portal,\n        a = Q.getDefault();\n      let n,\n        l = !0;\n      s && p(t, s.url) ? n = s : p(t, a.url) ? n = a : (n = o(this._portals, i, () => new Q({\n        url: i\n      })), l = !1);\n      const d = await m.fromPortalItem(new N({\n        id: e,\n        portal: n\n      }));\n      return l || (await W(d)), d;\n    }\n    if (k(r)) return m.fromArcGISServerUrl({\n      url: r.url\n    });\n    const {\n      default: s\n    } = await import(\"./UnsupportedLayer.js\");\n    return new s();\n  }\n  _configureLayer(e, t) {\n    const r = t.getAttribute(this.itemNameField);\n    r && (e.title = r);\n    const i = t.getAttribute(this.maxScaleField);\n    null != i && \"maxScale\" in e && (e.maxScale = i);\n    const o = t.getAttribute(this.minScaleField);\n    null != o && \"minScale\" in e && (e.minScale = o);\n  }\n};\nasync function W(e) {\n  if (\"portalItem\" in e && e.portalItem) {\n    try {\n      await e.load();\n    } catch {}\n    e.portalItem = null, \"group\" === e.type && (await Promise.allSettled([...e.layers.map(e => W(e)), ...e.tables.map(e => W(e))]));\n  }\n}\ne([d(T)], H.prototype, \"legendEnabled\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"createQueryVersion\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"drawOrderField\", void 0), e([d({\n  type: u,\n  readOnly: !0,\n  json: {\n    read: !1,\n    write: {\n      ignoreOrigin: !0,\n      writer: K\n    }\n  }\n})], H.prototype, \"dynamicGroupLayer\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"editingEnabled\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"effectiveEditingEnabled\", null), e([d({\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.elevationInfo\",\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], H.prototype, \"elevationInfo\", void 0), e([d({\n  ...B.fields,\n  readOnly: !0,\n  json: {\n    origins: {\n      service: {\n        read: !0\n      }\n    },\n    read: !1\n  }\n})], H.prototype, \"fields\", void 0), e([d(B.fieldsIndex)], H.prototype, \"fieldsIndex\", void 0), e([d({\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.floorInfo\",\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], H.prototype, \"floorInfo\", void 0), e([d({\n  type: c,\n  readOnly: !0,\n  json: {\n    read: !1,\n    write: {\n      ignoreOrigin: !0,\n      writer: K\n    }\n  }\n})], H.prototype, \"footprintLayer\", void 0), e([d(_)], H.prototype, \"id\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"itemNameField\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"itemSourceField\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"itemTypeField\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"layers\", void 0), e([d({\n  type: [\"show\", \"hide\", \"hide-children\"]\n})], H.prototype, \"listMode\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"maxScaleField\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"minScaleField\", void 0), e([d({\n  value: \"CatalogLayer\",\n  type: [\"CatalogLayer\"]\n})], H.prototype, \"operationalLayerType\", void 0), e([d({\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.orderBy\",\n        write: !0,\n        read: !0\n      }\n    }\n  }\n})], H.prototype, \"orderBy\", void 0), e([d(B.outFields)], H.prototype, \"outFields\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"parsedUrl\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"source\", void 0), e([d({\n  json: {\n    read: !1\n  }\n})], H.prototype, \"type\", void 0), e([d({\n  type: String\n})], H.prototype, \"typeIdField\", void 0), e([d({\n  type: [q]\n})], H.prototype, \"types\", void 0), H = e([y(\"esri.layers.CatalogLayer\")], H);\nconst $ = H;\nexport { $ as default };","map":{"version":3,"names":["_","e","t","r","i","getOrCreateMapValue","o","MultiOriginJSONMixin","s","throwIfAbortError","a","urlToObject","n","join","l","hasSamePortal","p","property","d","subclass","y","m","u","c","h","APIKeyMixin","f","ArcGISService","g","BlendLayer","F","CustomParametersMixin","j","DisplayFilteredLayer","w","EditBusLayer","L","FeatureLayerBase","v","OperationalLayer","S","OrderedLayer","x","PortalLayer","I","RefreshableLayer","O","ScaleRangeLayer","b","TemporalLayer","E","legendEnabled","T","id","ensureLayerCredential","P","applyEdits","C","getFeatureType","G","hasDataChanged","U","q","defineFieldProperties","A","serviceSupportsSpatialReference","D","Q","N","normalizeArcGISOnlineOrgDomain","M","R","B","V","k","J","Object","keys","length","K","write","H","constructor","_portals","Map","_layerToFootprint","WeakMap","drawOrderField","dynamicGroupLayer","parent","elevationInfo","fields","fieldsIndex","floorInfo","footprintLayer","itemNameField","itemSourceField","itemTypeField","layers","maxScaleField","minScaleField","orderBy","outFields","supportedSourceTypes","Set","source","layer","type","typeIdField","types","load","signal","loadFromPortal","supportedTypes","catch","then","url","portalItem","layerId","_fetchFirstValidLayerId","service","sourceJSON","read","origin","portal","parsedUrl","filter","has","requiredFields","missingFields","addResolvingPromise","Promise","resolve","destroy","values","clear","createQueryVersion","commitProperty","_get","editingEnabled","loaded","capabilities","operations","supportsEditing","userHasEditingPrivileges","effectiveEditingEnabled","path","toString","on","createLayerFromFootprint","_createLayer","_configureLayer","set","createFootprintFromLayer","get","clone","createQuery","query","returnGeometry","compactGeometryEnabled","supportsCompactGeometry","defaultSpatialReferenceEnabled","supportsDefaultSpatialReference","timeOffset","timeExtent","offset","value","unit","where","definitionExpression","getFieldDomain","feature","domains","getField","domain","queryFeatures","from","features","sourceLayer","queryObjectIds","queryFeatureCount","queryExtent","data","customParameters","token","apiKey","responseType","Array","isArray","find","_ref","getAttribute","JSON","parse","itemId","portalUrl","getDefault","fromPortalItem","W","fromArcGISServerUrl","default","title","maxScale","minScale","allSettled","map","tables","prototype","readOnly","json","ignoreOrigin","writer","origins","name","String","$"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/CatalogLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../request.js\";import r from\"../core/Collection.js\";import i from\"../core/Error.js\";import{getOrCreateMapValue as o}from\"../core/MapUtils.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as a}from\"../core/promiseUtils.js\";import{urlToObject as n,join as l,hasSamePortal as p}from\"../core/urlUtils.js\";import{property as d}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import m from\"./Layer.js\";import u from\"./catalog/CatalogDynamicGroupLayer.js\";import c from\"./catalog/CatalogFootprintLayer.js\";import h from\"./graphics/sources/FeatureLayerSource.js\";import{APIKeyMixin as f}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as g}from\"./mixins/ArcGISService.js\";import{BlendLayer as F}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as j}from\"./mixins/CustomParametersMixin.js\";import{DisplayFilteredLayer as w}from\"./mixins/DisplayFilteredLayer.js\";import{EditBusLayer as L}from\"./mixins/EditBusLayer.js\";import{FeatureLayerBase as v}from\"./mixins/FeatureLayerBase.js\";import{OperationalLayer as S}from\"./mixins/OperationalLayer.js\";import{OrderedLayer as x}from\"./mixins/OrderedLayer.js\";import{PortalLayer as I}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as O}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as b}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as E}from\"./mixins/TemporalLayer.js\";import{legendEnabled as T,id as _}from\"./support/commonProperties.js\";import{ensureLayerCredential as P,applyEdits as C,getFeatureType as G,hasDataChanged as U}from\"./support/featureLayerUtils.js\";import q from\"./support/FeatureType.js\";import{defineFieldProperties as A}from\"./support/fieldProperties.js\";import{serviceSupportsSpatialReference as D}from\"./support/versionUtils.js\";import Q from\"../portal/Portal.js\";import N from\"../portal/PortalItem.js\";import{normalizeArcGISOnlineOrgDomain as M}from\"../portal/support/urlUtils.js\";import R from\"../rest/support/Query.js\";const B=A();function V(e){return\"object\"==typeof e&&null!=e&&\"itemId\"in e&&\"portalUrl\"in e}function k(e){return\"object\"==typeof e&&null!=e&&\"url\"in e}function J(e){if(null==e)return!0;const t=Object.keys(e);return!t.length||1===t.length&&\"id\"===t[0]}function K(e,t,r,i){const o=e.write({},i);J(o)||(t[r]=o)}let H=class extends(w(v(L(F(x(E(b(O(g(S(I(s(j(f(m))))))))))))))){constructor(e){super(e),this.legendEnabled=!0,this._portals=new Map,this._layerToFootprint=new WeakMap,this.drawOrderField=\"cd_draworder\",this.dynamicGroupLayer=new u({parent:this}),this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.footprintLayer=new c({parent:this}),this.itemNameField=\"cd_itemname\",this.itemSourceField=\"cd_itemsource\",this.itemTypeField=\"cd_itemtype\",this.layers=new r([this.dynamicGroupLayer,this.footprintLayer]),this.maxScaleField=\"cd_maxscale\",this.minScaleField=\"cd_minscale\",this.orderBy=null,this.outFields=null,this.supportedSourceTypes=new Set([\"Catalog Layer\"]),this.source=new h({layer:this,supportedSourceTypes:this.supportedSourceTypes}),this.type=\"catalog\",this.typeIdField=null,this.types=null}load(e){const t=null!=e?e.signal:null,r=this.loadFromPortal({supportedTypes:[\"Feature Service\"]},e).catch(a).then((async()=>{const{url:e,source:r,portalItem:o}=this;if(!e)throw new i(\"catalog-layer:missing-url\",\"Catalog layer must be created with a url\");if(null==this.layerId){const r=await this._fetchFirstValidLayerId(t);if(null==r)throw new i(\"catalog-layer:missing-layerId\",\"There is no Catalog Layer in the service\",{service:e});this.layerId=r}await r.load({signal:t});const{sourceJSON:s}=r;s&&(this.sourceJSON=s,this.read(s,{origin:\"service\",portalItem:o,portal:o?.portal,url:this.parsedUrl}))})).then((()=>{const e=[this.itemNameField,this.itemSourceField,this.itemTypeField,this.minScaleField,this.maxScaleField],t=e.filter((e=>!this.fieldsIndex.has(e)));if(t.length)throw new i(\"catalog-layer:missing-fields\",\"There are missing fields to operate properly\",{requiredFields:e,missingFields:t})})).then((()=>P(this,\"load\",e)));return this.addResolvingPromise(r),Promise.resolve(this)}destroy(){this.footprintLayer.destroy(),this.dynamicGroupLayer.destroy();for(const e of this._portals.values())e.destroy();this._portals.clear()}get createQueryVersion(){return this.commitProperty(\"definitionExpression\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"timeOffset\"),this.commitProperty(\"geometryType\"),this.commitProperty(\"capabilities\"),(this._get(\"createQueryVersion\")??0)+1}get editingEnabled(){return this.loaded&&null!=this.capabilities&&this.capabilities.operations.supportsEditing&&this.userHasEditingPrivileges}get effectiveEditingEnabled(){return!1}get parsedUrl(){const e=n(this.url);return null!=e&&null!=this.layerId&&(e.path=l(e.path,this.layerId.toString())),e}async applyEdits(e,t){return C(this,e,t)}on(e,t){return super.on(e,t)}async createLayerFromFootprint(e){const t=await this._createLayer(e);return this._configureLayer(t,e),this._layerToFootprint.set(t,e),t}createFootprintFromLayer(e){return this._layerToFootprint.get(e)?.clone()}createQuery(){const e=new R,t=this.capabilities?.query;e.returnGeometry=!0,t&&(e.compactGeometryEnabled=t.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=t.supportsDefaultSpatialReference),e.outFields=[\"*\"];const{timeOffset:r,timeExtent:i}=this;return e.timeExtent=null!=r&&null!=i?i.offset(-r.value,r.unit):i||null,e.where=this.definitionExpression||\"1=1\",e}getFeatureType(e){return G(this.types,this.typeIdField,e)}getFieldDomain(e,t){const r=t?.feature,i=this.getFeatureType(r);if(i){const t=i.domains&&i.domains[e];if(t&&\"inherited\"!==t.type)return t}return this.getField(e)?.domain}async hasDataChanged(){return U(this)}async queryFeatures(e,t){const r=await this.load(),i=await r.source.queryFeatures(R.from(e)??r.createQuery(),t);if(i?.features)for(const o of i.features)o.layer=o.sourceLayer=r.footprintLayer;return i}async queryObjectIds(e,t){return(await this.load()).source.queryObjectIds(R.from(e)??this.createQuery(),t)}async queryFeatureCount(e,t){return(await this.load()).source.queryFeatureCount(R.from(e)??this.createQuery(),t)}async queryExtent(e,t){return(await this.load()).source.queryExtent(R.from(e)??this.createQuery(),t)}serviceSupportsSpatialReference(e){return this.loaded&&D(this,e)}read(e,t){if(super.read(e,t),e){const{footprintLayer:r,dynamicGroupLayer:i}=e;r&&this.footprintLayer.read(r,t),i&&this.dynamicGroupLayer.read(i,t)}}async _fetchFirstValidLayerId(e){const{data:r}=await t(this.url,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});if(Array.isArray(r?.layers))return r.layers.find((({type:e})=>this.supportedSourceTypes.has(e)))?.id}async _createLayer(e){const t=e.getAttribute(this.itemSourceField);if(!t)throw new i(\"catalog-layer:item-source-missing\",`The footprint is missing the \"${this.itemSourceField}\" attribute`);const r=JSON.parse(t);if(V(r)){const{itemId:e,portalUrl:t}=r,i=M(t),s=this.portalItem?.portal,a=Q.getDefault();let n,l=!0;s&&p(t,s.url)?n=s:p(t,a.url)?n=a:(n=o(this._portals,i,(()=>new Q({url:i}))),l=!1);const d=await m.fromPortalItem(new N({id:e,portal:n}));return l||await W(d),d}if(k(r))return m.fromArcGISServerUrl({url:r.url});const{default:s}=await import(\"./UnsupportedLayer.js\");return new s}_configureLayer(e,t){const r=t.getAttribute(this.itemNameField);r&&(e.title=r);const i=t.getAttribute(this.maxScaleField);null!=i&&\"maxScale\"in e&&(e.maxScale=i);const o=t.getAttribute(this.minScaleField);null!=o&&\"minScale\"in e&&(e.minScale=o)}};async function W(e){if(\"portalItem\"in e&&e.portalItem){try{await e.load()}catch{}e.portalItem=null,\"group\"===e.type&&await Promise.allSettled([...e.layers.map((e=>W(e))),...e.tables.map((e=>W(e)))])}}e([d(T)],H.prototype,\"legendEnabled\",void 0),e([d({readOnly:!0})],H.prototype,\"createQueryVersion\",null),e([d({readOnly:!0})],H.prototype,\"drawOrderField\",void 0),e([d({type:u,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:K}}})],H.prototype,\"dynamicGroupLayer\",void 0),e([d({readOnly:!0})],H.prototype,\"editingEnabled\",null),e([d({readOnly:!0})],H.prototype,\"effectiveEditingEnabled\",null),e([d({json:{origins:{\"web-scene\":{name:\"layerDefinition.elevationInfo\",read:!1,write:!1}}}})],H.prototype,\"elevationInfo\",void 0),e([d({...B.fields,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],H.prototype,\"fields\",void 0),e([d(B.fieldsIndex)],H.prototype,\"fieldsIndex\",void 0),e([d({json:{origins:{\"web-scene\":{name:\"layerDefinition.floorInfo\",read:!1,write:!1}}}})],H.prototype,\"floorInfo\",void 0),e([d({type:c,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:K}}})],H.prototype,\"footprintLayer\",void 0),e([d(_)],H.prototype,\"id\",void 0),e([d({readOnly:!0})],H.prototype,\"itemNameField\",void 0),e([d({readOnly:!0})],H.prototype,\"itemSourceField\",void 0),e([d({readOnly:!0})],H.prototype,\"itemTypeField\",void 0),e([d({readOnly:!0})],H.prototype,\"layers\",void 0),e([d({type:[\"show\",\"hide\",\"hide-children\"]})],H.prototype,\"listMode\",void 0),e([d({readOnly:!0})],H.prototype,\"maxScaleField\",void 0),e([d({readOnly:!0})],H.prototype,\"minScaleField\",void 0),e([d({value:\"CatalogLayer\",type:[\"CatalogLayer\"]})],H.prototype,\"operationalLayerType\",void 0),e([d({json:{origins:{\"web-scene\":{name:\"layerDefinition.orderBy\",write:!0,read:!0}}}})],H.prototype,\"orderBy\",void 0),e([d(B.outFields)],H.prototype,\"outFields\",void 0),e([d({readOnly:!0})],H.prototype,\"parsedUrl\",null),e([d({readOnly:!0})],H.prototype,\"source\",void 0),e([d({json:{read:!1}})],H.prototype,\"type\",void 0),e([d({type:String})],H.prototype,\"typeIdField\",void 0),e([d({type:[q]})],H.prototype,\"types\",void 0),H=e([y(\"esri.layers.CatalogLayer\")],H);const $=H;export{$ as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,wBAAwB;AAAC,OAAOC,CAAC,MAAK,eAAe;AAAC,OAAOC,CAAC,MAAK,uBAAuB;AAAC,OAAOC,CAAC,MAAK,kBAAkB;AAAC,SAAOC,mBAAmB,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,WAAW,IAAIC,CAAC,EAACC,IAAI,IAAIC,CAAC,EAACC,aAAa,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,gDAAgD;AAAC,OAAM,gBAAgB;AAAC,OAAM,mBAAmB;AAAC,OAAM,sBAAsB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,gDAAgD;AAAC,OAAOC,CAAC,MAAK,YAAY;AAAC,OAAOC,CAAC,MAAK,uCAAuC;AAAC,OAAOC,CAAC,MAAK,oCAAoC;AAAC,OAAOC,CAAC,MAAK,0CAA0C;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,wBAAwB;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,6BAA6B;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,aAAa,IAAIC,CAAC,EAACC,EAAE,IAAIrD,CAAC,QAAK,+BAA+B;AAAC,SAAOsD,qBAAqB,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,QAAK,gCAAgC;AAAC,OAAOC,CAAC,MAAK,0BAA0B;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,+BAA+B,IAAIC,CAAC,QAAK,2BAA2B;AAAC,OAAOC,CAAC,MAAK,qBAAqB;AAAC,OAAOC,CAAC,MAAK,yBAAyB;AAAC,SAAOC,8BAA8B,IAAIC,CAAC,QAAK,+BAA+B;AAAC,OAAOC,CAAC,MAAK,0BAA0B;AAAC,MAAMC,CAAC,GAACR,CAAC,CAAC,CAAC;AAAC,SAASS,CAACA,CAACxE,CAAC,EAAC;EAAC,OAAM,QAAQ,IAAE,OAAOA,CAAC,IAAE,IAAI,IAAEA,CAAC,IAAE,QAAQ,IAAGA,CAAC,IAAE,WAAW,IAAGA,CAAC;AAAA;AAAC,SAASyE,CAACA,CAACzE,CAAC,EAAC;EAAC,OAAM,QAAQ,IAAE,OAAOA,CAAC,IAAE,IAAI,IAAEA,CAAC,IAAE,KAAK,IAAGA,CAAC;AAAA;AAAC,SAAS0E,CAACA,CAAC1E,CAAC,EAAC;EAAC,IAAG,IAAI,IAAEA,CAAC,EAAC,OAAM,CAAC,CAAC;EAAC,MAAMC,CAAC,GAAC0E,MAAM,CAACC,IAAI,CAAC5E,CAAC,CAAC;EAAC,OAAM,CAACC,CAAC,CAAC4E,MAAM,IAAE,CAAC,KAAG5E,CAAC,CAAC4E,MAAM,IAAE,IAAI,KAAG5E,CAAC,CAAC,CAAC,CAAC;AAAA;AAAC,SAAS6E,CAACA,CAAC9E,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;EAAC,MAAME,CAAC,GAACL,CAAC,CAAC+E,KAAK,CAAC,CAAC,CAAC,EAAC5E,CAAC,CAAC;EAACuE,CAAC,CAACrE,CAAC,CAAC,KAAGJ,CAAC,CAACC,CAAC,CAAC,GAACG,CAAC,CAAC;AAAA;AAAC,IAAI2E,CAAC,GAAC,cAAc/C,CAAC,CAACI,CAAC,CAACF,CAAC,CAACN,CAAC,CAACY,CAAC,CAACQ,CAAC,CAACF,CAAC,CAACF,CAAC,CAAClB,CAAC,CAACY,CAAC,CAACI,CAAC,CAACpC,CAAC,CAACwB,CAAC,CAACN,CAAC,CAACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAAC6D,WAAWA,CAACjF,CAAC,EAAC;IAAC,KAAK,CAACA,CAAC,CAAC,EAAC,IAAI,CAACkD,aAAa,GAAC,CAAC,CAAC,EAAC,IAAI,CAACgC,QAAQ,GAAC,IAAIC,GAAG,CAAD,CAAC,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAIC,OAAO,CAAD,CAAC,EAAC,IAAI,CAACC,cAAc,GAAC,cAAc,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAIlE,CAAC,CAAC;MAACmE,MAAM,EAAC;IAAI,CAAC,CAAC,EAAC,IAAI,CAACC,aAAa,GAAC,IAAI,EAAC,IAAI,CAACC,MAAM,GAAC,IAAI,EAAC,IAAI,CAACC,WAAW,GAAC,IAAI,EAAC,IAAI,CAACC,SAAS,GAAC,IAAI,EAAC,IAAI,CAACC,cAAc,GAAC,IAAIvE,CAAC,CAAC;MAACkE,MAAM,EAAC;IAAI,CAAC,CAAC,EAAC,IAAI,CAACM,aAAa,GAAC,aAAa,EAAC,IAAI,CAACC,eAAe,GAAC,eAAe,EAAC,IAAI,CAACC,aAAa,GAAC,aAAa,EAAC,IAAI,CAACC,MAAM,GAAC,IAAI/F,CAAC,CAAC,CAAC,IAAI,CAACqF,iBAAiB,EAAC,IAAI,CAACM,cAAc,CAAC,CAAC,EAAC,IAAI,CAACK,aAAa,GAAC,aAAa,EAAC,IAAI,CAACC,aAAa,GAAC,aAAa,EAAC,IAAI,CAACC,OAAO,GAAC,IAAI,EAAC,IAAI,CAACC,SAAS,GAAC,IAAI,EAAC,IAAI,CAACC,oBAAoB,GAAC,IAAIC,GAAG,CAAC,CAAC,eAAe,CAAC,CAAC,EAAC,IAAI,CAACC,MAAM,GAAC,IAAIjF,CAAC,CAAC;MAACkF,KAAK,EAAC,IAAI;MAACH,oBAAoB,EAAC,IAAI,CAACA;IAAoB,CAAC,CAAC,EAAC,IAAI,CAACI,IAAI,GAAC,SAAS,EAAC,IAAI,CAACC,WAAW,GAAC,IAAI,EAAC,IAAI,CAACC,KAAK,GAAC,IAAI;EAAA;EAACC,IAAIA,CAAC7G,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,IAAED,CAAC,GAACA,CAAC,CAAC8G,MAAM,GAAC,IAAI;MAAC5G,CAAC,GAAC,IAAI,CAAC6G,cAAc,CAAC;QAACC,cAAc,EAAC,CAAC,iBAAiB;MAAC,CAAC,EAAChH,CAAC,CAAC,CAACiH,KAAK,CAACxG,CAAC,CAAC,CAACyG,IAAI,CAAE,YAAS;QAAC,MAAK;UAACC,GAAG,EAACnH,CAAC;UAACwG,MAAM,EAACtG,CAAC;UAACkH,UAAU,EAAC/G;QAAC,CAAC,GAAC,IAAI;QAAC,IAAG,CAACL,CAAC,EAAC,MAAM,IAAIG,CAAC,CAAC,2BAA2B,EAAC,0CAA0C,CAAC;QAAC,IAAG,IAAI,IAAE,IAAI,CAACkH,OAAO,EAAC;UAAC,MAAMnH,CAAC,GAAC,MAAM,IAAI,CAACoH,uBAAuB,CAACrH,CAAC,CAAC;UAAC,IAAG,IAAI,IAAEC,CAAC,EAAC,MAAM,IAAIC,CAAC,CAAC,+BAA+B,EAAC,0CAA0C,EAAC;YAACoH,OAAO,EAACvH;UAAC,CAAC,CAAC;UAAC,IAAI,CAACqH,OAAO,GAACnH,CAAC;QAAA;QAAC,MAAMA,CAAC,CAAC2G,IAAI,CAAC;UAACC,MAAM,EAAC7G;QAAC,CAAC,CAAC;QAAC,MAAK;UAACuH,UAAU,EAACjH;QAAC,CAAC,GAACL,CAAC;QAACK,CAAC,KAAG,IAAI,CAACiH,UAAU,GAACjH,CAAC,EAAC,IAAI,CAACkH,IAAI,CAAClH,CAAC,EAAC;UAACmH,MAAM,EAAC,SAAS;UAACN,UAAU,EAAC/G,CAAC;UAACsH,MAAM,EAACtH,CAAC,EAAEsH,MAAM;UAACR,GAAG,EAAC,IAAI,CAACS;QAAS,CAAC,CAAC,CAAC;MAAA,CAAE,CAAC,CAACV,IAAI,CAAE,MAAI;QAAC,MAAMlH,CAAC,GAAC,CAAC,IAAI,CAAC8F,aAAa,EAAC,IAAI,CAACC,eAAe,EAAC,IAAI,CAACC,aAAa,EAAC,IAAI,CAACG,aAAa,EAAC,IAAI,CAACD,aAAa,CAAC;UAACjG,CAAC,GAACD,CAAC,CAAC6H,MAAM,CAAE7H,CAAC,IAAE,CAAC,IAAI,CAAC2F,WAAW,CAACmC,GAAG,CAAC9H,CAAC,CAAE,CAAC;QAAC,IAAGC,CAAC,CAAC4E,MAAM,EAAC,MAAM,IAAI1E,CAAC,CAAC,8BAA8B,EAAC,8CAA8C,EAAC;UAAC4H,cAAc,EAAC/H,CAAC;UAACgI,aAAa,EAAC/H;QAAC,CAAC,CAAC;MAAA,CAAE,CAAC,CAACiH,IAAI,CAAE,MAAI5D,CAAC,CAAC,IAAI,EAAC,MAAM,EAACtD,CAAC,CAAE,CAAC;IAAC,OAAO,IAAI,CAACiI,mBAAmB,CAAC/H,CAAC,CAAC,EAACgI,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;EAAA;EAACC,OAAOA,CAAA,EAAE;IAAC,IAAI,CAACvC,cAAc,CAACuC,OAAO,CAAC,CAAC,EAAC,IAAI,CAAC7C,iBAAiB,CAAC6C,OAAO,CAAC,CAAC;IAAC,KAAI,MAAMpI,CAAC,IAAI,IAAI,CAACkF,QAAQ,CAACmD,MAAM,CAAC,CAAC,EAACrI,CAAC,CAACoI,OAAO,CAAC,CAAC;IAAC,IAAI,CAAClD,QAAQ,CAACoD,KAAK,CAAC,CAAC;EAAA;EAAC,IAAIC,kBAAkBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,cAAc,CAAC,sBAAsB,CAAC,EAAC,IAAI,CAACA,cAAc,CAAC,YAAY,CAAC,EAAC,IAAI,CAACA,cAAc,CAAC,YAAY,CAAC,EAAC,IAAI,CAACA,cAAc,CAAC,cAAc,CAAC,EAAC,IAAI,CAACA,cAAc,CAAC,cAAc,CAAC,EAAC,CAAC,IAAI,CAACC,IAAI,CAAC,oBAAoB,CAAC,IAAE,CAAC,IAAE,CAAC;EAAA;EAAC,IAAIC,cAAcA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,MAAM,IAAE,IAAI,IAAE,IAAI,CAACC,YAAY,IAAE,IAAI,CAACA,YAAY,CAACC,UAAU,CAACC,eAAe,IAAE,IAAI,CAACC,wBAAwB;EAAA;EAAC,IAAIC,uBAAuBA,CAAA,EAAE;IAAC,OAAM,CAAC,CAAC;EAAA;EAAC,IAAIpB,SAASA,CAAA,EAAE;IAAC,MAAM5H,CAAC,GAACW,CAAC,CAAC,IAAI,CAACwG,GAAG,CAAC;IAAC,OAAO,IAAI,IAAEnH,CAAC,IAAE,IAAI,IAAE,IAAI,CAACqH,OAAO,KAAGrH,CAAC,CAACiJ,IAAI,GAACpI,CAAC,CAACb,CAAC,CAACiJ,IAAI,EAAC,IAAI,CAAC5B,OAAO,CAAC6B,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAClJ,CAAC;EAAA;EAAC,MAAMuD,UAAUA,CAACvD,CAAC,EAACC,CAAC,EAAC;IAAC,OAAOuD,CAAC,CAAC,IAAI,EAACxD,CAAC,EAACC,CAAC,CAAC;EAAA;EAACkJ,EAAEA,CAACnJ,CAAC,EAACC,CAAC,EAAC;IAAC,OAAO,KAAK,CAACkJ,EAAE,CAACnJ,CAAC,EAACC,CAAC,CAAC;EAAA;EAAC,MAAMmJ,wBAAwBA,CAACpJ,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAACoJ,YAAY,CAACrJ,CAAC,CAAC;IAAC,OAAO,IAAI,CAACsJ,eAAe,CAACrJ,CAAC,EAACD,CAAC,CAAC,EAAC,IAAI,CAACoF,iBAAiB,CAACmE,GAAG,CAACtJ,CAAC,EAACD,CAAC,CAAC,EAACC,CAAC;EAAA;EAACuJ,wBAAwBA,CAACxJ,CAAC,EAAC;IAAC,OAAO,IAAI,CAACoF,iBAAiB,CAACqE,GAAG,CAACzJ,CAAC,CAAC,EAAE0J,KAAK,CAAC,CAAC;EAAA;EAACC,WAAWA,CAAA,EAAE;IAAC,MAAM3J,CAAC,GAAC,IAAIsE,CAAC,CAAD,CAAC;MAACrE,CAAC,GAAC,IAAI,CAAC2I,YAAY,EAAEgB,KAAK;IAAC5J,CAAC,CAAC6J,cAAc,GAAC,CAAC,CAAC,EAAC5J,CAAC,KAAGD,CAAC,CAAC8J,sBAAsB,GAAC7J,CAAC,CAAC8J,uBAAuB,EAAC/J,CAAC,CAACgK,8BAA8B,GAAC/J,CAAC,CAACgK,+BAA+B,CAAC,EAACjK,CAAC,CAACqG,SAAS,GAAC,CAAC,GAAG,CAAC;IAAC,MAAK;MAAC6D,UAAU,EAAChK,CAAC;MAACiK,UAAU,EAAChK;IAAC,CAAC,GAAC,IAAI;IAAC,OAAOH,CAAC,CAACmK,UAAU,GAAC,IAAI,IAAEjK,CAAC,IAAE,IAAI,IAAEC,CAAC,GAACA,CAAC,CAACiK,MAAM,CAAC,CAAClK,CAAC,CAACmK,KAAK,EAACnK,CAAC,CAACoK,IAAI,CAAC,GAACnK,CAAC,IAAE,IAAI,EAACH,CAAC,CAACuK,KAAK,GAAC,IAAI,CAACC,oBAAoB,IAAE,KAAK,EAACxK,CAAC;EAAA;EAACyD,cAAcA,CAACzD,CAAC,EAAC;IAAC,OAAO0D,CAAC,CAAC,IAAI,CAACkD,KAAK,EAAC,IAAI,CAACD,WAAW,EAAC3G,CAAC,CAAC;EAAA;EAACyK,cAAcA,CAACzK,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACD,CAAC,EAAEyK,OAAO;MAACvK,CAAC,GAAC,IAAI,CAACsD,cAAc,CAACvD,CAAC,CAAC;IAAC,IAAGC,CAAC,EAAC;MAAC,MAAMF,CAAC,GAACE,CAAC,CAACwK,OAAO,IAAExK,CAAC,CAACwK,OAAO,CAAC3K,CAAC,CAAC;MAAC,IAAGC,CAAC,IAAE,WAAW,KAAGA,CAAC,CAACyG,IAAI,EAAC,OAAOzG,CAAC;IAAA;IAAC,OAAO,IAAI,CAAC2K,QAAQ,CAAC5K,CAAC,CAAC,EAAE6K,MAAM;EAAA;EAAC,MAAMlH,cAAcA,CAAA,EAAE;IAAC,OAAOC,CAAC,CAAC,IAAI,CAAC;EAAA;EAAC,MAAMkH,aAAaA,CAAC9K,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAAC2G,IAAI,CAAC,CAAC;MAAC1G,CAAC,GAAC,MAAMD,CAAC,CAACsG,MAAM,CAACsE,aAAa,CAACxG,CAAC,CAACyG,IAAI,CAAC/K,CAAC,CAAC,IAAEE,CAAC,CAACyJ,WAAW,CAAC,CAAC,EAAC1J,CAAC,CAAC;IAAC,IAAGE,CAAC,EAAE6K,QAAQ,EAAC,KAAI,MAAM3K,CAAC,IAAIF,CAAC,CAAC6K,QAAQ,EAAC3K,CAAC,CAACoG,KAAK,GAACpG,CAAC,CAAC4K,WAAW,GAAC/K,CAAC,CAAC2F,cAAc;IAAC,OAAO1F,CAAC;EAAA;EAAC,MAAM+K,cAAcA,CAAClL,CAAC,EAACC,CAAC,EAAC;IAAC,OAAM,CAAC,MAAM,IAAI,CAAC4G,IAAI,CAAC,CAAC,EAAEL,MAAM,CAAC0E,cAAc,CAAC5G,CAAC,CAACyG,IAAI,CAAC/K,CAAC,CAAC,IAAE,IAAI,CAAC2J,WAAW,CAAC,CAAC,EAAC1J,CAAC,CAAC;EAAA;EAAC,MAAMkL,iBAAiBA,CAACnL,CAAC,EAACC,CAAC,EAAC;IAAC,OAAM,CAAC,MAAM,IAAI,CAAC4G,IAAI,CAAC,CAAC,EAAEL,MAAM,CAAC2E,iBAAiB,CAAC7G,CAAC,CAACyG,IAAI,CAAC/K,CAAC,CAAC,IAAE,IAAI,CAAC2J,WAAW,CAAC,CAAC,EAAC1J,CAAC,CAAC;EAAA;EAAC,MAAMmL,WAAWA,CAACpL,CAAC,EAACC,CAAC,EAAC;IAAC,OAAM,CAAC,MAAM,IAAI,CAAC4G,IAAI,CAAC,CAAC,EAAEL,MAAM,CAAC4E,WAAW,CAAC9G,CAAC,CAACyG,IAAI,CAAC/K,CAAC,CAAC,IAAE,IAAI,CAAC2J,WAAW,CAAC,CAAC,EAAC1J,CAAC,CAAC;EAAA;EAAC+D,+BAA+BA,CAAChE,CAAC,EAAC;IAAC,OAAO,IAAI,CAAC2I,MAAM,IAAE1E,CAAC,CAAC,IAAI,EAACjE,CAAC,CAAC;EAAA;EAACyH,IAAIA,CAACzH,CAAC,EAACC,CAAC,EAAC;IAAC,IAAG,KAAK,CAACwH,IAAI,CAACzH,CAAC,EAACC,CAAC,CAAC,EAACD,CAAC,EAAC;MAAC,MAAK;QAAC6F,cAAc,EAAC3F,CAAC;QAACqF,iBAAiB,EAACpF;MAAC,CAAC,GAACH,CAAC;MAACE,CAAC,IAAE,IAAI,CAAC2F,cAAc,CAAC4B,IAAI,CAACvH,CAAC,EAACD,CAAC,CAAC,EAACE,CAAC,IAAE,IAAI,CAACoF,iBAAiB,CAACkC,IAAI,CAACtH,CAAC,EAACF,CAAC,CAAC;IAAA;EAAC;EAAC,MAAMqH,uBAAuBA,CAACtH,CAAC,EAAC;IAAC,MAAK;MAACqL,IAAI,EAACnL;IAAC,CAAC,GAAC,MAAMD,CAAC,CAAC,IAAI,CAACkH,GAAG,EAAC;MAACyC,KAAK,EAAC;QAACnI,CAAC,EAAC,MAAM;QAAC,GAAG,IAAI,CAAC6J,gBAAgB;QAACC,KAAK,EAAC,IAAI,CAACC;MAAM,CAAC;MAACC,YAAY,EAAC,MAAM;MAAC3E,MAAM,EAAC9G;IAAC,CAAC,CAAC;IAAC,IAAG0L,KAAK,CAACC,OAAO,CAACzL,CAAC,EAAE+F,MAAM,CAAC,EAAC,OAAO/F,CAAC,CAAC+F,MAAM,CAAC2F,IAAI,CAAEC,IAAA;MAAA,IAAC;QAACnF,IAAI,EAAC1G;MAAC,CAAC,GAAA6L,IAAA;MAAA,OAAG,IAAI,CAACvF,oBAAoB,CAACwB,GAAG,CAAC9H,CAAC,CAAC;IAAA,CAAC,CAAC,EAAEoD,EAAE;EAAA;EAAC,MAAMiG,YAAYA,CAACrJ,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACD,CAAC,CAAC8L,YAAY,CAAC,IAAI,CAAC/F,eAAe,CAAC;IAAC,IAAG,CAAC9F,CAAC,EAAC,MAAM,IAAIE,CAAC,CAAC,mCAAmC,EAAC,iCAAiC,IAAI,CAAC4F,eAAe,aAAa,CAAC;IAAC,MAAM7F,CAAC,GAAC6L,IAAI,CAACC,KAAK,CAAC/L,CAAC,CAAC;IAAC,IAAGuE,CAAC,CAACtE,CAAC,CAAC,EAAC;MAAC,MAAK;UAAC+L,MAAM,EAACjM,CAAC;UAACkM,SAAS,EAACjM;QAAC,CAAC,GAACC,CAAC;QAACC,CAAC,GAACkE,CAAC,CAACpE,CAAC,CAAC;QAACM,CAAC,GAAC,IAAI,CAAC6G,UAAU,EAAEO,MAAM;QAAClH,CAAC,GAACyD,CAAC,CAACiI,UAAU,CAAC,CAAC;MAAC,IAAIxL,CAAC;QAACE,CAAC,GAAC,CAAC,CAAC;MAACN,CAAC,IAAEQ,CAAC,CAACd,CAAC,EAACM,CAAC,CAAC4G,GAAG,CAAC,GAACxG,CAAC,GAACJ,CAAC,GAACQ,CAAC,CAACd,CAAC,EAACQ,CAAC,CAAC0G,GAAG,CAAC,GAACxG,CAAC,GAACF,CAAC,IAAEE,CAAC,GAACN,CAAC,CAAC,IAAI,CAAC6E,QAAQ,EAAC/E,CAAC,EAAE,MAAI,IAAI+D,CAAC,CAAC;QAACiD,GAAG,EAAChH;MAAC,CAAC,CAAE,CAAC,EAACU,CAAC,GAAC,CAAC,CAAC,CAAC;MAAC,MAAMI,CAAC,GAAC,MAAMG,CAAC,CAACgL,cAAc,CAAC,IAAIjI,CAAC,CAAC;QAACf,EAAE,EAACpD,CAAC;QAAC2H,MAAM,EAAChH;MAAC,CAAC,CAAC,CAAC;MAAC,OAAOE,CAAC,KAAE,MAAMwL,CAAC,CAACpL,CAAC,CAAC,GAACA,CAAC;IAAA;IAAC,IAAGwD,CAAC,CAACvE,CAAC,CAAC,EAAC,OAAOkB,CAAC,CAACkL,mBAAmB,CAAC;MAACnF,GAAG,EAACjH,CAAC,CAACiH;IAAG,CAAC,CAAC;IAAC,MAAK;MAACoF,OAAO,EAAChM;IAAC,CAAC,GAAC,MAAM,MAAM,CAAC,uBAAuB,CAAC;IAAC,OAAO,IAAIA,CAAC,CAAD,CAAC;EAAA;EAAC+I,eAAeA,CAACtJ,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACD,CAAC,CAAC6L,YAAY,CAAC,IAAI,CAAChG,aAAa,CAAC;IAAC5F,CAAC,KAAGF,CAAC,CAACwM,KAAK,GAACtM,CAAC,CAAC;IAAC,MAAMC,CAAC,GAACF,CAAC,CAAC6L,YAAY,CAAC,IAAI,CAAC5F,aAAa,CAAC;IAAC,IAAI,IAAE/F,CAAC,IAAE,UAAU,IAAGH,CAAC,KAAGA,CAAC,CAACyM,QAAQ,GAACtM,CAAC,CAAC;IAAC,MAAME,CAAC,GAACJ,CAAC,CAAC6L,YAAY,CAAC,IAAI,CAAC3F,aAAa,CAAC;IAAC,IAAI,IAAE9F,CAAC,IAAE,UAAU,IAAGL,CAAC,KAAGA,CAAC,CAAC0M,QAAQ,GAACrM,CAAC,CAAC;EAAA;AAAC,CAAC;AAAC,eAAegM,CAACA,CAACrM,CAAC,EAAC;EAAC,IAAG,YAAY,IAAGA,CAAC,IAAEA,CAAC,CAACoH,UAAU,EAAC;IAAC,IAAG;MAAC,MAAMpH,CAAC,CAAC6G,IAAI,CAAC,CAAC;IAAA,CAAC,OAAK,CAAC;IAAC7G,CAAC,CAACoH,UAAU,GAAC,IAAI,EAAC,OAAO,KAAGpH,CAAC,CAAC0G,IAAI,KAAE,MAAMwB,OAAO,CAACyE,UAAU,CAAC,CAAC,GAAG3M,CAAC,CAACiG,MAAM,CAAC2G,GAAG,CAAE5M,CAAC,IAAEqM,CAAC,CAACrM,CAAC,CAAE,CAAC,EAAC,GAAGA,CAAC,CAAC6M,MAAM,CAACD,GAAG,CAAE5M,CAAC,IAAEqM,CAAC,CAACrM,CAAC,CAAE,CAAC,CAAC,CAAC;EAAA;AAAC;AAACA,CAAC,CAAC,CAACiB,CAAC,CAACkC,CAAC,CAAC,CAAC,EAAC6B,CAAC,CAAC8H,SAAS,EAAC,eAAe,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,oBAAoB,EAAC,IAAI,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,gBAAgB,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAACyF,IAAI,EAACrF,CAAC;EAAC0L,QAAQ,EAAC,CAAC,CAAC;EAACC,IAAI,EAAC;IAACvF,IAAI,EAAC,CAAC,CAAC;IAAC1C,KAAK,EAAC;MAACkI,YAAY,EAAC,CAAC,CAAC;MAACC,MAAM,EAACpI;IAAC;EAAC;AAAC,CAAC,CAAC,CAAC,EAACE,CAAC,CAAC8H,SAAS,EAAC,mBAAmB,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,gBAAgB,EAAC,IAAI,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,yBAAyB,EAAC,IAAI,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC+L,IAAI,EAAC;IAACG,OAAO,EAAC;MAAC,WAAW,EAAC;QAACC,IAAI,EAAC,+BAA+B;QAAC3F,IAAI,EAAC,CAAC,CAAC;QAAC1C,KAAK,EAAC,CAAC;MAAC;IAAC;EAAC;AAAC,CAAC,CAAC,CAAC,EAACC,CAAC,CAAC8H,SAAS,EAAC,eAAe,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC,GAAGsD,CAAC,CAACmB,MAAM;EAACqH,QAAQ,EAAC,CAAC,CAAC;EAACC,IAAI,EAAC;IAACG,OAAO,EAAC;MAAC5F,OAAO,EAAC;QAACE,IAAI,EAAC,CAAC;MAAC;IAAC,CAAC;IAACA,IAAI,EAAC,CAAC;EAAC;AAAC,CAAC,CAAC,CAAC,EAACzC,CAAC,CAAC8H,SAAS,EAAC,QAAQ,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAACsD,CAAC,CAACoB,WAAW,CAAC,CAAC,EAACX,CAAC,CAAC8H,SAAS,EAAC,aAAa,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC+L,IAAI,EAAC;IAACG,OAAO,EAAC;MAAC,WAAW,EAAC;QAACC,IAAI,EAAC,2BAA2B;QAAC3F,IAAI,EAAC,CAAC,CAAC;QAAC1C,KAAK,EAAC,CAAC;MAAC;IAAC;EAAC;AAAC,CAAC,CAAC,CAAC,EAACC,CAAC,CAAC8H,SAAS,EAAC,WAAW,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAACyF,IAAI,EAACpF,CAAC;EAACyL,QAAQ,EAAC,CAAC,CAAC;EAACC,IAAI,EAAC;IAACvF,IAAI,EAAC,CAAC,CAAC;IAAC1C,KAAK,EAAC;MAACkI,YAAY,EAAC,CAAC,CAAC;MAACC,MAAM,EAACpI;IAAC;EAAC;AAAC,CAAC,CAAC,CAAC,EAACE,CAAC,CAAC8H,SAAS,EAAC,gBAAgB,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAClB,CAAC,CAAC,CAAC,EAACiF,CAAC,CAAC8H,SAAS,EAAC,IAAI,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,eAAe,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,iBAAiB,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,eAAe,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,QAAQ,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAACyF,IAAI,EAAC,CAAC,MAAM,EAAC,MAAM,EAAC,eAAe;AAAC,CAAC,CAAC,CAAC,EAAC1B,CAAC,CAAC8H,SAAS,EAAC,UAAU,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,eAAe,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,eAAe,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAACoJ,KAAK,EAAC,cAAc;EAAC3D,IAAI,EAAC,CAAC,cAAc;AAAC,CAAC,CAAC,CAAC,EAAC1B,CAAC,CAAC8H,SAAS,EAAC,sBAAsB,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC+L,IAAI,EAAC;IAACG,OAAO,EAAC;MAAC,WAAW,EAAC;QAACC,IAAI,EAAC,yBAAyB;QAACrI,KAAK,EAAC,CAAC,CAAC;QAAC0C,IAAI,EAAC,CAAC;MAAC;IAAC;EAAC;AAAC,CAAC,CAAC,CAAC,EAACzC,CAAC,CAAC8H,SAAS,EAAC,SAAS,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAACsD,CAAC,CAAC8B,SAAS,CAAC,CAAC,EAACrB,CAAC,CAAC8H,SAAS,EAAC,WAAW,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,WAAW,EAAC,IAAI,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC8L,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC/H,CAAC,CAAC8H,SAAS,EAAC,QAAQ,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAAC+L,IAAI,EAAC;IAACvF,IAAI,EAAC,CAAC;EAAC;AAAC,CAAC,CAAC,CAAC,EAACzC,CAAC,CAAC8H,SAAS,EAAC,MAAM,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAACyF,IAAI,EAAC2G;AAAM,CAAC,CAAC,CAAC,EAACrI,CAAC,CAAC8H,SAAS,EAAC,aAAa,EAAC,KAAK,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAACiB,CAAC,CAAC;EAACyF,IAAI,EAAC,CAAC7C,CAAC;AAAC,CAAC,CAAC,CAAC,EAACmB,CAAC,CAAC8H,SAAS,EAAC,OAAO,EAAC,KAAK,CAAC,CAAC,EAAC9H,CAAC,GAAChF,CAAC,CAAC,CAACmB,CAAC,CAAC,0BAA0B,CAAC,CAAC,EAAC6D,CAAC,CAAC;AAAC,MAAMsI,CAAC,GAACtI,CAAC;AAAC,SAAOsI,CAAC,IAAIf,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}