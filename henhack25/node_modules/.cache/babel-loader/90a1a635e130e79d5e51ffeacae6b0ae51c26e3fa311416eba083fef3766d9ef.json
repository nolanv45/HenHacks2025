{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { clone as e } from \"../../core/lang.js\";\nimport n from \"./RasterFunction.js\";\nimport { getPixelValueRange as t } from \"./rasterFormats/pixelRangeUtils.js\";\nimport { schema as r } from \"./rasterFunctions/rasterFunctionSchema.js\";\nimport { getRFxArgColorRampValue as o, convertColorRampToColormap as a, getColorRampName as i, convertRGBATo32Bit as s } from \"../../renderers/support/colorRampUtils.js\";\nimport { stretchTypeJSONDict as u } from \"../../renderers/support/stretchRendererUtils.js\";\nimport l from \"../../renderers/visualVariables/SizeVariable.js\";\nconst c = new Set([\"u1\", \"u2\", \"u4\", \"u8\", \"s8\", \"u16\", \"s16\"]),\n  m = {\n    simple_scalar: \"Simple Scalar\",\n    wind_barb: \"Wind Barb\",\n    single_arrow: \"Single Arrow\",\n    beaufort_kn: \"Beaufort Wind (Knots)\",\n    beaufort_m: \"Beaufort Wind (MetersPerSecond)\",\n    ocean_current_m: \"Ocean Current (MetersPerSecond)\",\n    ocean_current_kn: \"Ocean Current (Knots)\"\n  },\n  f = new Set([\"raster-stretch\", \"unique-value\", \"class-breaks\", \"raster-shaded-relief\", \"vector-field\", \"raster-colormap\"]);\nfunction p(e) {\n  return f.has(e.type);\n}\nfunction g(n, t) {\n  if (!n || !t) return e(n || t);\n  const r = e(n);\n  if (r.functionDefinition && t.rasterFunctionDefinition) {\n    const e = t.rasterFunctionDefinition;\n    (e.thumbnail || e.thumbnailEx) && (e.thumbnail = e.thumbnailEx = void 0), d(r.functionDefinition.arguments, t), r.rasterFunctionDefinition = r.functionDefinition.toJSON();\n  } else if (\"none\" !== t.functionName?.toLowerCase()) {\n    b(r.functionArguments).Raster = t;\n  }\n  return r;\n}\nfunction d(e, n) {\n  for (const t in e) \"raster\" === t.toLowerCase() && (\"RasterFunctionVariable\" === e[t].type ? (e[t] = n.rasterFunctionDefinition, e[t].type = \"RasterFunctionTemplate\") : \"RasterFunctionTemplate\" === e[t].type && d(e[t].arguments, n));\n}\nfunction h(n) {\n  const t = e(r[n.functionName + \"Function\"]),\n    o = n.functionArguments;\n  for (const e in o) \"raster\" === e.toLowerCase() ? (t.arguments[e] = h(o[e]), t.arguments[e].type = \"RasterFunctionTemplate\") : \"colormap\" === e.toLowerCase() ? (t.arguments[e].value = V(o[e]), t.arguments.ColorSchemeType.value = 0) : t.arguments[e].value = o[e];\n  return t;\n}\nfunction y(e, n) {\n  switch (n = n || {}, e.type) {\n    case \"raster-stretch\":\n      return S(e, n);\n    case \"class-breaks\":\n      return w(e, n);\n    case \"unique-value\":\n      return F(e, n);\n    case \"raster-colormap\":\n      return N(e, n);\n    case \"vector-field\":\n      return T(e, n);\n    case \"raster-shaded-relief\":\n      return v(e, n);\n    case \"flow\":\n      throw new Error(\"Unsupported rendering rule.\");\n  }\n}\nfunction b(e) {\n  const n = e?.Raster ?? e?.raster;\n  return n && \"esri.layers.support.RasterFunction\" === n.declaredClass ? b(n.functionArguments) : e;\n}\nconst R = {\n  none: 0,\n  standardDeviation: 3,\n  histogramEqualization: 4,\n  minMax: 5,\n  percentClip: 6,\n  sigmoid: 9\n};\nfunction T(e, t) {\n  const r = new n();\n  r.functionName = \"VectorFieldRenderer\";\n  const {\n      dataType: o,\n      bandNames: a\n    } = t,\n    i = \"vector-uv\" === o;\n  let s, u;\n  if (a && 2 === a.length) {\n    const e = a.map(e => e.toLowerCase());\n    s = e.indexOf(\"magnitude\"), u = e.indexOf(\"direction\");\n  }\n  -1 !== s && null !== s || (s = 0, u = 1);\n  const c = \"arithmetic\" === e.rotationType ? 1 : 2,\n    f = \"flow-from\" === e.flowRepresentation ? 0 : 1,\n    p = e.visualVariables ? e.visualVariables.find(e => \"Magnitude\" === e.field) : new l(),\n    g = {\n      magnitudeBandID: s,\n      directionBandID: u,\n      isUVComponents: i,\n      referenceSystem: c,\n      massFlowAngleRepresentation: f,\n      symbolTileSize: 50,\n      symbolTileSizeUnits: 100,\n      calculationMethod: \"Vector Average\",\n      symbologyName: m[e.style.toLowerCase().replace(\"-\", \"_\")],\n      minimumMagnitude: p.minDataValue,\n      maximumMagnitude: p.maxDataValue,\n      minimumSymbolSize: p.minSize,\n      maximumSymbolSize: p.maxSize\n    };\n  r.functionArguments = g;\n  const d = h(r);\n  return t.convertToRFT ? n.fromJSON({\n    rasterFunctionDefinition: d\n  }) : r;\n}\nfunction v(e, t) {\n  const r = t.convertToRFT;\n  if (\"elevation\" !== t.dataType && (\"generic\" !== t.dataType || 1 !== t.bandCount || \"s16\" !== t.pixelType && \"s32\" !== t.pixelType && \"f32\" !== t.pixelType && \"f64\" !== t.pixelType)) return new n();\n  const i = new n();\n  i.functionName = \"Hillshade\";\n  const s = \"traditional\" === e.hillshadeType ? 0 : 1,\n    u = \"none\" === e.scalingType ? 1 : 3,\n    l = {\n      HillshadeType: s,\n      SlopeType: u,\n      ZFactor: e.zFactor\n    };\n  return 0 === s && (l.Azimuth = e.azimuth, l.Altitude = e.altitude), 3 === u && (l.PSPower = e.pixelSizePower, l.PSZFactor = e.pixelSizeFactor), i.functionArguments = l, i.variableName = \"Raster\", e.colorRamp && (i.functionName = \"ShadedRelief\", r ? l.ColorRamp = o(e.colorRamp) : l.Colormap = a(e.colorRamp)), r ? new n({\n    rasterFunctionDefinition: h(i)\n  }) : i;\n}\nfunction S(e, t) {\n  const r = t.convertToRFT,\n    s = new n();\n  s.functionName = \"Stretch\";\n  const l = R[u.toJSON(e.stretchType)],\n    c = \"u8\",\n    m = e.customStatistics?.map(e => [e.min, e.max, e.avg ?? 0, e.stddev ?? 1]),\n    f = {\n      StretchType: l,\n      Statistics: m,\n      DRA: e.dynamicRangeAdjustment,\n      UseGamma: e.useGamma,\n      Gamma: e.gamma,\n      ComputeGamma: e.computeGamma\n    };\n  if (null != e.outputMin && (f.Min = e.outputMin), null != e.outputMax && (f.Max = e.outputMax), l === R.standardDeviation ? (f.NumberOfStandardDeviations = e.numberOfStandardDeviations, s.outputPixelType = c) : l === R.percentClip ? (f.MinPercent = e.minPercent, f.MaxPercent = e.maxPercent, s.outputPixelType = c) : l === R.minMax ? s.outputPixelType = c : l === R.sigmoid && (f.SigmoidStrengthLevel = e.sigmoidStrengthLevel), s.functionArguments = f, s.variableName = \"Raster\", e.colorRamp) {\n    const u = e.colorRamp,\n      l = new n();\n    if (r) l.functionArguments = {\n      ColorRamp: o(u)\n    };else {\n      const n = i(u, !0);\n      if (n) l.functionArguments = {\n        colorRampName: n\n      };else if (!t.convertColorRampToColormap || \"algorithmic\" !== u.type && \"multipart\" !== u.type) {\n        const n = e.colorRamp.toJSON();\n        \"algorithmic\" === n.type ? n.algorithm = n.algorithm || \"esriCIELabAlgorithm\" : \"multipart\" === n.type && n.colorRamps?.length && n.colorRamps.forEach(e => e.algorithm = e.algorithm || \"esriCIELabAlgorithm\"), l.functionArguments = {\n          colorRamp: n\n        };\n      } else l.functionArguments = {\n        Colormap: a(u)\n      };\n    }\n    return l.variableName = \"Raster\", l.functionName = \"Colormap\", l.functionArguments.Raster = s, r ? new n({\n      rasterFunctionDefinition: h(l)\n    }) : l;\n  }\n  return r ? new n({\n    rasterFunctionDefinition: h(s)\n  }) : s;\n}\nfunction w(e, t) {\n  const r = [],\n    o = [],\n    a = [],\n    i = [],\n    s = 1e-4,\n    {\n      pixelType: u,\n      rasterAttributeTable: l\n    } = t,\n    c = null == l ? null : l.features,\n    m = C(l);\n  if (m && c && Array.isArray(c) && e.classBreakInfos) {\n    e.classBreakInfos.forEach((n, t) => {\n      const r = n.symbol?.color;\n      let o;\n      r?.a && null != n.minValue && null != n.maxValue && c.forEach(a => {\n        null != n.minValue && null != n.maxValue && (o = a.attributes[e.field], (o >= n.minValue && o < n.maxValue || t === e.classBreakInfos.length - 1 && o >= n.minValue) && i.push([a.attributes[m], r.r, r.g, r.b]));\n      });\n    });\n    const r = u ? x(i, u) : i,\n      o = new n();\n    return o.functionName = \"Colormap\", o.functionArguments = {}, o.functionArguments.Colormap = r, o.variableName = \"Raster\", t.convertToRFT ? new n({\n      rasterFunctionDefinition: h(o)\n    }) : o;\n  }\n  e.classBreakInfos.forEach((e, n) => {\n    if (null == e.minValue || null == e.maxValue) return;\n    const t = e.symbol && e.symbol.color;\n    t?.a ? (0 === n ? r.push(e.minValue, e.maxValue + s) : r.push(e.minValue + s, e.maxValue + s), o.push(n), i.push([n, t.r, t.g, t.b])) : a.push(e.minValue, e.maxValue);\n  });\n  const f = u ? x(i, u) : i,\n    p = new n();\n  p.functionName = \"Remap\", p.functionArguments = {\n    InputRanges: r,\n    OutputValues: o,\n    NoDataRanges: a\n  }, p.variableName = \"Raster\";\n  const g = new n();\n  return g.functionName = \"Colormap\", g.functionArguments = {\n    Colormap: f,\n    Raster: p\n  }, t.convertToRFT ? new n({\n    rasterFunctionDefinition: h(g)\n  }) : g;\n}\nfunction x(e, n) {\n  const r = c.has(n) ? t(n) : null;\n  return r && e.push([Math.floor(r[0] - 1), 0, 0, 0], [Math.ceil(r[1] + 1), 0, 0, 0]), e;\n}\nfunction C(e) {\n  if (null == e) return;\n  const {\n      fields: n\n    } = e,\n    t = n?.find(e => e?.name && \"value\" === e.name.toLowerCase());\n  return t?.name;\n}\nfunction F(e, t) {\n  const r = [],\n    {\n      pixelType: o,\n      rasterAttributeTable: a\n    } = t,\n    i = null == a ? null : a.features,\n    s = C(a),\n    u = e.defaultSymbol?.color?.toRgb(),\n    l = e.uniqueValueInfos;\n  if (l) if (i) {\n    if (s) {\n      const n = new Map();\n      l.forEach(e => {\n        const t = e.value,\n          r = A(e);\n        null != t && r?.a && n.set(String(t), r.toRgb());\n      });\n      const t = e.field;\n      t && i.forEach(({\n        attributes: e\n      }) => {\n        const o = String(e[t]),\n          a = e[s],\n          i = n.get(o);\n        i ? r.push([a, ...i]) : u && r.push([a, ...u]);\n      });\n    }\n  } else for (let n = 0; n < l.length; n++) {\n    const e = l[n],\n      t = A(e),\n      o = +e.value;\n    if (t?.a) {\n      if (isNaN(o)) return null;\n      r.push([o, t.r, t.g, t.b]);\n    }\n  }\n  const c = o ? x(r, o) : r,\n    m = new n();\n  return m.functionName = \"Colormap\", m.functionArguments = {}, m.functionArguments.Colormap = c, m.variableName = \"Raster\", t.convertToRFT ? new n({\n    rasterFunctionDefinition: h(m)\n  }) : m;\n}\nfunction A(e) {\n  return \"polygon-3d\" === e.symbol?.type ? e.symbol.symbolLayers?.find(e => \"fill\" === e.type)?.material?.color : e.symbol?.color;\n}\nfunction N(e, t) {\n  const r = e.extractColormap();\n  if (!r || 0 === r.length) return null;\n  const {\n      pixelType: o\n    } = t,\n    a = o ? x(r, o) : r,\n    i = new n();\n  return i.functionName = \"Colormap\", i.functionArguments = {}, i.functionArguments.Colormap = a, t.convertToRFT ? new n({\n    rasterFunctionDefinition: h(i)\n  }) : i;\n}\nfunction V(e) {\n  const n = [],\n    t = [];\n  return e.forEach(e => {\n    n.push(e[0]), t.push(s([...e.slice(1), 255]));\n  }), {\n    type: \"RasterColormap\",\n    values: n,\n    colors: t\n  };\n}\nexport { g as combineRenderingRules, y as convertRendererToRenderingRule, h as convertRenderingRuleToRFT, p as isSupportedRendererType };","map":{"version":3,"names":["clone","e","n","getPixelValueRange","t","schema","r","getRFxArgColorRampValue","o","convertColorRampToColormap","a","getColorRampName","i","convertRGBATo32Bit","s","stretchTypeJSONDict","u","l","c","Set","m","simple_scalar","wind_barb","single_arrow","beaufort_kn","beaufort_m","ocean_current_m","ocean_current_kn","f","p","has","type","g","functionDefinition","rasterFunctionDefinition","thumbnail","thumbnailEx","d","arguments","toJSON","functionName","toLowerCase","b","functionArguments","Raster","h","value","V","ColorSchemeType","y","S","w","F","N","T","v","Error","raster","declaredClass","R","none","standardDeviation","histogramEqualization","minMax","percentClip","sigmoid","dataType","bandNames","length","map","indexOf","rotationType","flowRepresentation","visualVariables","find","field","magnitudeBandID","directionBandID","isUVComponents","referenceSystem","massFlowAngleRepresentation","symbolTileSize","symbolTileSizeUnits","calculationMethod","symbologyName","style","replace","minimumMagnitude","minDataValue","maximumMagnitude","maxDataValue","minimumSymbolSize","minSize","maximumSymbolSize","maxSize","convertToRFT","fromJSON","bandCount","pixelType","hillshadeType","scalingType","HillshadeType","SlopeType","ZFactor","zFactor","Azimuth","azimuth","Altitude","altitude","PSPower","pixelSizePower","PSZFactor","pixelSizeFactor","variableName","colorRamp","ColorRamp","Colormap","stretchType","customStatistics","min","max","avg","stddev","StretchType","Statistics","DRA","dynamicRangeAdjustment","UseGamma","useGamma","Gamma","gamma","ComputeGamma","computeGamma","outputMin","Min","outputMax","Max","NumberOfStandardDeviations","numberOfStandardDeviations","outputPixelType","MinPercent","minPercent","MaxPercent","maxPercent","SigmoidStrengthLevel","sigmoidStrengthLevel","colorRampName","algorithm","colorRamps","forEach","rasterAttributeTable","features","C","Array","isArray","classBreakInfos","symbol","color","minValue","maxValue","attributes","push","x","InputRanges","OutputValues","NoDataRanges","Math","floor","ceil","fields","name","defaultSymbol","toRgb","uniqueValueInfos","Map","A","set","String","get","isNaN","symbolLayers","material","extractColormap","slice","values","colors","combineRenderingRules","convertRendererToRenderingRule","convertRenderingRuleToRFT","isSupportedRendererType"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/imageryRendererUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../core/lang.js\";import n from\"./RasterFunction.js\";import{getPixelValueRange as t}from\"./rasterFormats/pixelRangeUtils.js\";import{schema as r}from\"./rasterFunctions/rasterFunctionSchema.js\";import{getRFxArgColorRampValue as o,convertColorRampToColormap as a,getColorRampName as i,convertRGBATo32Bit as s}from\"../../renderers/support/colorRampUtils.js\";import{stretchTypeJSONDict as u}from\"../../renderers/support/stretchRendererUtils.js\";import l from\"../../renderers/visualVariables/SizeVariable.js\";const c=new Set([\"u1\",\"u2\",\"u4\",\"u8\",\"s8\",\"u16\",\"s16\"]),m={simple_scalar:\"Simple Scalar\",wind_barb:\"Wind Barb\",single_arrow:\"Single Arrow\",beaufort_kn:\"Beaufort Wind (Knots)\",beaufort_m:\"Beaufort Wind (MetersPerSecond)\",ocean_current_m:\"Ocean Current (MetersPerSecond)\",ocean_current_kn:\"Ocean Current (Knots)\"},f=new Set([\"raster-stretch\",\"unique-value\",\"class-breaks\",\"raster-shaded-relief\",\"vector-field\",\"raster-colormap\"]);function p(e){return f.has(e.type)}function g(n,t){if(!n||!t)return e(n||t);const r=e(n);if(r.functionDefinition&&t.rasterFunctionDefinition){const e=t.rasterFunctionDefinition;(e.thumbnail||e.thumbnailEx)&&(e.thumbnail=e.thumbnailEx=void 0),d(r.functionDefinition.arguments,t),r.rasterFunctionDefinition=r.functionDefinition.toJSON()}else if(\"none\"!==t.functionName?.toLowerCase()){b(r.functionArguments).Raster=t}return r}function d(e,n){for(const t in e)\"raster\"===t.toLowerCase()&&(\"RasterFunctionVariable\"===e[t].type?(e[t]=n.rasterFunctionDefinition,e[t].type=\"RasterFunctionTemplate\"):\"RasterFunctionTemplate\"===e[t].type&&d(e[t].arguments,n))}function h(n){const t=e(r[n.functionName+\"Function\"]),o=n.functionArguments;for(const e in o)\"raster\"===e.toLowerCase()?(t.arguments[e]=h(o[e]),t.arguments[e].type=\"RasterFunctionTemplate\"):\"colormap\"===e.toLowerCase()?(t.arguments[e].value=V(o[e]),t.arguments.ColorSchemeType.value=0):t.arguments[e].value=o[e];return t}function y(e,n){switch(n=n||{},e.type){case\"raster-stretch\":return S(e,n);case\"class-breaks\":return w(e,n);case\"unique-value\":return F(e,n);case\"raster-colormap\":return N(e,n);case\"vector-field\":return T(e,n);case\"raster-shaded-relief\":return v(e,n);case\"flow\":throw new Error(\"Unsupported rendering rule.\")}}function b(e){const n=e?.Raster??e?.raster;return n&&\"esri.layers.support.RasterFunction\"===n.declaredClass?b(n.functionArguments):e}const R={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9};function T(e,t){const r=new n;r.functionName=\"VectorFieldRenderer\";const{dataType:o,bandNames:a}=t,i=\"vector-uv\"===o;let s,u;if(a&&2===a.length){const e=a.map((e=>e.toLowerCase()));s=e.indexOf(\"magnitude\"),u=e.indexOf(\"direction\")}-1!==s&&null!==s||(s=0,u=1);const c=\"arithmetic\"===e.rotationType?1:2,f=\"flow-from\"===e.flowRepresentation?0:1,p=e.visualVariables?e.visualVariables.find((e=>\"Magnitude\"===e.field)):new l,g={magnitudeBandID:s,directionBandID:u,isUVComponents:i,referenceSystem:c,massFlowAngleRepresentation:f,symbolTileSize:50,symbolTileSizeUnits:100,calculationMethod:\"Vector Average\",symbologyName:m[e.style.toLowerCase().replace(\"-\",\"_\")],minimumMagnitude:p.minDataValue,maximumMagnitude:p.maxDataValue,minimumSymbolSize:p.minSize,maximumSymbolSize:p.maxSize};r.functionArguments=g;const d=h(r);return t.convertToRFT?n.fromJSON({rasterFunctionDefinition:d}):r}function v(e,t){const r=t.convertToRFT;if(\"elevation\"!==t.dataType&&(\"generic\"!==t.dataType||1!==t.bandCount||\"s16\"!==t.pixelType&&\"s32\"!==t.pixelType&&\"f32\"!==t.pixelType&&\"f64\"!==t.pixelType))return new n;const i=new n;i.functionName=\"Hillshade\";const s=\"traditional\"===e.hillshadeType?0:1,u=\"none\"===e.scalingType?1:3,l={HillshadeType:s,SlopeType:u,ZFactor:e.zFactor};return 0===s&&(l.Azimuth=e.azimuth,l.Altitude=e.altitude),3===u&&(l.PSPower=e.pixelSizePower,l.PSZFactor=e.pixelSizeFactor),i.functionArguments=l,i.variableName=\"Raster\",e.colorRamp&&(i.functionName=\"ShadedRelief\",r?l.ColorRamp=o(e.colorRamp):l.Colormap=a(e.colorRamp)),r?new n({rasterFunctionDefinition:h(i)}):i}function S(e,t){const r=t.convertToRFT,s=new n;s.functionName=\"Stretch\";const l=R[u.toJSON(e.stretchType)],c=\"u8\",m=e.customStatistics?.map((e=>[e.min,e.max,e.avg??0,e.stddev??1])),f={StretchType:l,Statistics:m,DRA:e.dynamicRangeAdjustment,UseGamma:e.useGamma,Gamma:e.gamma,ComputeGamma:e.computeGamma};if(null!=e.outputMin&&(f.Min=e.outputMin),null!=e.outputMax&&(f.Max=e.outputMax),l===R.standardDeviation?(f.NumberOfStandardDeviations=e.numberOfStandardDeviations,s.outputPixelType=c):l===R.percentClip?(f.MinPercent=e.minPercent,f.MaxPercent=e.maxPercent,s.outputPixelType=c):l===R.minMax?s.outputPixelType=c:l===R.sigmoid&&(f.SigmoidStrengthLevel=e.sigmoidStrengthLevel),s.functionArguments=f,s.variableName=\"Raster\",e.colorRamp){const u=e.colorRamp,l=new n;if(r)l.functionArguments={ColorRamp:o(u)};else{const n=i(u,!0);if(n)l.functionArguments={colorRampName:n};else if(!t.convertColorRampToColormap||\"algorithmic\"!==u.type&&\"multipart\"!==u.type){const n=e.colorRamp.toJSON();\"algorithmic\"===n.type?n.algorithm=n.algorithm||\"esriCIELabAlgorithm\":\"multipart\"===n.type&&n.colorRamps?.length&&n.colorRamps.forEach((e=>e.algorithm=e.algorithm||\"esriCIELabAlgorithm\")),l.functionArguments={colorRamp:n}}else l.functionArguments={Colormap:a(u)}}return l.variableName=\"Raster\",l.functionName=\"Colormap\",l.functionArguments.Raster=s,r?new n({rasterFunctionDefinition:h(l)}):l}return r?new n({rasterFunctionDefinition:h(s)}):s}function w(e,t){const r=[],o=[],a=[],i=[],s=1e-4,{pixelType:u,rasterAttributeTable:l}=t,c=null==l?null:l.features,m=C(l);if(m&&c&&Array.isArray(c)&&e.classBreakInfos){e.classBreakInfos.forEach(((n,t)=>{const r=n.symbol?.color;let o;r?.a&&null!=n.minValue&&null!=n.maxValue&&c.forEach((a=>{null!=n.minValue&&null!=n.maxValue&&(o=a.attributes[e.field],(o>=n.minValue&&o<n.maxValue||t===e.classBreakInfos.length-1&&o>=n.minValue)&&i.push([a.attributes[m],r.r,r.g,r.b]))}))}));const r=u?x(i,u):i,o=new n;return o.functionName=\"Colormap\",o.functionArguments={},o.functionArguments.Colormap=r,o.variableName=\"Raster\",t.convertToRFT?new n({rasterFunctionDefinition:h(o)}):o}e.classBreakInfos.forEach(((e,n)=>{if(null==e.minValue||null==e.maxValue)return;const t=e.symbol&&e.symbol.color;t?.a?(0===n?r.push(e.minValue,e.maxValue+s):r.push(e.minValue+s,e.maxValue+s),o.push(n),i.push([n,t.r,t.g,t.b])):a.push(e.minValue,e.maxValue)}));const f=u?x(i,u):i,p=new n;p.functionName=\"Remap\",p.functionArguments={InputRanges:r,OutputValues:o,NoDataRanges:a},p.variableName=\"Raster\";const g=new n;return g.functionName=\"Colormap\",g.functionArguments={Colormap:f,Raster:p},t.convertToRFT?new n({rasterFunctionDefinition:h(g)}):g}function x(e,n){const r=c.has(n)?t(n):null;return r&&e.push([Math.floor(r[0]-1),0,0,0],[Math.ceil(r[1]+1),0,0,0]),e}function C(e){if(null==e)return;const{fields:n}=e,t=n?.find((e=>e?.name&&\"value\"===e.name.toLowerCase()));return t?.name}function F(e,t){const r=[],{pixelType:o,rasterAttributeTable:a}=t,i=null==a?null:a.features,s=C(a),u=e.defaultSymbol?.color?.toRgb(),l=e.uniqueValueInfos;if(l)if(i){if(s){const n=new Map;l.forEach((e=>{const t=e.value,r=A(e);null!=t&&r?.a&&n.set(String(t),r.toRgb())}));const t=e.field;t&&i.forEach((({attributes:e})=>{const o=String(e[t]),a=e[s],i=n.get(o);i?r.push([a,...i]):u&&r.push([a,...u])}))}}else for(let n=0;n<l.length;n++){const e=l[n],t=A(e),o=+e.value;if(t?.a){if(isNaN(o))return null;r.push([o,t.r,t.g,t.b])}}const c=o?x(r,o):r,m=new n;return m.functionName=\"Colormap\",m.functionArguments={},m.functionArguments.Colormap=c,m.variableName=\"Raster\",t.convertToRFT?new n({rasterFunctionDefinition:h(m)}):m}function A(e){return\"polygon-3d\"===e.symbol?.type?e.symbol.symbolLayers?.find((e=>\"fill\"===e.type))?.material?.color:e.symbol?.color}function N(e,t){const r=e.extractColormap();if(!r||0===r.length)return null;const{pixelType:o}=t,a=o?x(r,o):r,i=new n;return i.functionName=\"Colormap\",i.functionArguments={},i.functionArguments.Colormap=a,t.convertToRFT?new n({rasterFunctionDefinition:h(i)}):i}function V(e){const n=[],t=[];return e.forEach((e=>{n.push(e[0]),t.push(s([...e.slice(1),255]))})),{type:\"RasterColormap\",values:n,colors:t}}export{g as combineRenderingRules,y as convertRendererToRenderingRule,h as convertRenderingRuleToRFT,p as isSupportedRendererType};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}