{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { DateOnly as n } from \"./DateOnly.js\";\nimport { SqlError as l, SqlErrorCodes as t } from \"./errorSupport.js\";\nimport { SqlTimeStampOffset as e } from \"./SqlTimestampOffset.js\";\nimport { TimeOnly as a } from \"./TimeOnly.js\";\nimport { DateTime as r } from \"luxon\";\nfunction u(n, e) {\n  const a = o[n.toLowerCase()];\n  if (null == a) throw new l(t.FunctionNotRecognized);\n  if (e.length < a.minParams || e.length > a.maxParams) throw new l(t.InvalidParameterCount, {\n    name: n.toUpperCase()\n  });\n  return a.evaluate(e);\n}\nfunction m(n, l) {\n  const t = o[n.toLowerCase()];\n  return null != t && l >= t.minParams && l <= t.maxParams;\n}\nconst o = {\n  min: {\n    minParams: 1,\n    maxParams: 1,\n    evaluate: n => f(n[0], \"min\")\n  },\n  max: {\n    minParams: 1,\n    maxParams: 1,\n    evaluate: n => f(n[0], \"max\")\n  },\n  avg: {\n    minParams: 1,\n    maxParams: 1,\n    evaluate: n => i(n[0])\n  },\n  sum: {\n    minParams: 1,\n    maxParams: 1,\n    evaluate: n => c(n[0])\n  },\n  stddev: {\n    minParams: 1,\n    maxParams: 1,\n    evaluate: n => g(n[0])\n  },\n  count: {\n    minParams: 1,\n    maxParams: 1,\n    evaluate: n => null == n[0] ? null : n[0].length\n  },\n  var: {\n    minParams: 1,\n    maxParams: 1,\n    evaluate: n => P(n[0])\n  }\n};\nfunction i(n) {\n  if (null === n) return null;\n  let e = 0,\n    a = 0;\n  for (let r = 0; r < n.length; r++) {\n    const u = n[r];\n    if (null !== u) {\n      if (!s(u)) throw new l(t.InvalidValueForAggregateFunction);\n      a++, e += u;\n    }\n  }\n  return 0 === a ? null : e / n.length;\n}\nfunction s(n) {\n  return \"number\" == typeof n;\n}\nfunction f(l, t) {\n  if (null === l) return null;\n  let u = null,\n    m = null;\n  for (const o of l) {\n    let l = o;\n    l = n.isDateOnly(o) || a.isTimeOnly(o) ? o.toNumber() : r.isDateTime(o) ? o.toMillis() : e.isTimestampOffset(o) ? o.toMilliseconds() : o, (null === u || \"max\" === t && null !== m && null !== l && m <= l || \"min\" === t && null !== m && null !== l && m >= l) && (u = o, m = l);\n  }\n  return u;\n}\nfunction c(n) {\n  if (null === n) return null;\n  let e = 0;\n  for (let a = 0; a < n.length; a++) {\n    const r = n[a];\n    if (null !== r) {\n      if (!s(r)) throw new l(t.InvalidValueForAggregateFunction);\n      e += r;\n    }\n  }\n  return e;\n}\nfunction g(n) {\n  if (null === n) return null;\n  const l = P(n);\n  return null === l ? null : Math.sqrt(l);\n}\nfunction P(n) {\n  if (null === n) return null;\n  if (0 === (n = n.filter(n => null !== n)).length) return null;\n  const e = i(n);\n  if (null === e) return null;\n  let a = 0;\n  for (const r of n) {\n    if (!s(r)) throw new l(t.InvalidValueForAggregateFunction);\n    a += (e - r) ** 2;\n  }\n  return a / (n.length - 1);\n}\nexport { u as aggregateFunction, m as isAggregate };","map":{"version":3,"names":["DateOnly","n","SqlError","l","SqlErrorCodes","t","SqlTimeStampOffset","e","TimeOnly","a","DateTime","r","u","o","toLowerCase","FunctionNotRecognized","length","minParams","maxParams","InvalidParameterCount","name","toUpperCase","evaluate","m","min","f","max","avg","i","sum","c","stddev","g","count","var","P","s","InvalidValueForAggregateFunction","isDateOnly","isTimeOnly","toNumber","isDateTime","toMillis","isTimestampOffset","toMilliseconds","Math","sqrt","filter","aggregateFunction","isAggregate"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/core/sql/AggregateFunctions.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{DateOnly as n}from\"./DateOnly.js\";import{SqlError as l,SqlErrorCodes as t}from\"./errorSupport.js\";import{SqlTimeStampOffset as e}from\"./SqlTimestampOffset.js\";import{TimeOnly as a}from\"./TimeOnly.js\";import{DateTime as r}from\"luxon\";function u(n,e){const a=o[n.toLowerCase()];if(null==a)throw new l(t.FunctionNotRecognized);if(e.length<a.minParams||e.length>a.maxParams)throw new l(t.InvalidParameterCount,{name:n.toUpperCase()});return a.evaluate(e)}function m(n,l){const t=o[n.toLowerCase()];return null!=t&&l>=t.minParams&&l<=t.maxParams}const o={min:{minParams:1,maxParams:1,evaluate:n=>f(n[0],\"min\")},max:{minParams:1,maxParams:1,evaluate:n=>f(n[0],\"max\")},avg:{minParams:1,maxParams:1,evaluate:n=>i(n[0])},sum:{minParams:1,maxParams:1,evaluate:n=>c(n[0])},stddev:{minParams:1,maxParams:1,evaluate:n=>g(n[0])},count:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:n[0].length},var:{minParams:1,maxParams:1,evaluate:n=>P(n[0])}};function i(n){if(null===n)return null;let e=0,a=0;for(let r=0;r<n.length;r++){const u=n[r];if(null!==u){if(!s(u))throw new l(t.InvalidValueForAggregateFunction);a++,e+=u}}return 0===a?null:e/n.length}function s(n){return\"number\"==typeof n}function f(l,t){if(null===l)return null;let u=null,m=null;for(const o of l){let l=o;l=n.isDateOnly(o)||a.isTimeOnly(o)?o.toNumber():r.isDateTime(o)?o.toMillis():e.isTimestampOffset(o)?o.toMilliseconds():o,(null===u||\"max\"===t&&null!==m&&null!==l&&m<=l||\"min\"===t&&null!==m&&null!==l&&m>=l)&&(u=o,m=l)}return u}function c(n){if(null===n)return null;let e=0;for(let a=0;a<n.length;a++){const r=n[a];if(null!==r){if(!s(r))throw new l(t.InvalidValueForAggregateFunction);e+=r}}return e}function g(n){if(null===n)return null;const l=P(n);return null===l?null:Math.sqrt(l)}function P(n){if(null===n)return null;if(0===(n=n.filter((n=>null!==n))).length)return null;const e=i(n);if(null===e)return null;let a=0;for(const r of n){if(!s(r))throw new l(t.InvalidValueForAggregateFunction);a+=(e-r)**2}return a/(n.length-1)}export{u as aggregateFunction,m as isAggregate};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}