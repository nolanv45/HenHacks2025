{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { sqlAnd as e } from \"../../../../../core/sql.js\";\nimport l from \"../../../../../layers/support/FeatureFilter.js\";\nfunction o(e, l) {\n  return null != e.floorInfo && (e.floorInfo.viewAllLevelIds.length > 0 || l.floors.length > 0);\n}\nfunction r(e, o, r) {\n  const t = n(e, o?.where, r);\n  return t ? (o ??= new l(), o.where = t, o) : o;\n}\nfunction n(l, o, r) {\n  if (null == l.floorInfo || !r.floors?.length) return o;\n  let n = r.floors;\n  const {\n    floorField: t,\n    viewAllLevelIds: f\n  } = l.floorInfo;\n  f.length && (n = f);\n  const s = n.filter(e => \"\" !== e).map(e => \"'\" + e + \"'\");\n  if (s.push(\"''\"), o?.includes(t)) {\n    let e = new RegExp(\"AND \\\\(\" + t + \".*NULL\\\\)\", \"g\");\n    o = o.replace(e, \"\"), e = new RegExp(\"\\\\(\" + t + \".*NULL\\\\)\", \"g\"), o = (o = o.replace(e, \"\")).replaceAll(/\\s+/g, \" \").trim();\n  }\n  let i = \"(\" + t + \" IN ({ids}) OR \" + t + \" IS NULL)\";\n  return i = i.replace(\"{ids}\", s.join(\", \")), e(o, i);\n}\nexport { r as addFloorFilter, o as hasFloorFilter };","map":{"version":3,"names":["sqlAnd","e","l","o","floorInfo","viewAllLevelIds","length","floors","r","t","n","where","floorField","f","s","filter","map","push","includes","RegExp","replace","replaceAll","trim","i","join","addFloorFilter","hasFloorFilter"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/floorFilterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../../../../core/sql.js\";import l from\"../../../../../layers/support/FeatureFilter.js\";function o(e,l){return null!=e.floorInfo&&(e.floorInfo.viewAllLevelIds.length>0||l.floors.length>0)}function r(e,o,r){const t=n(e,o?.where,r);return t?(o??=new l,o.where=t,o):o}function n(l,o,r){if(null==l.floorInfo||!r.floors?.length)return o;let n=r.floors;const{floorField:t,viewAllLevelIds:f}=l.floorInfo;f.length&&(n=f);const s=n.filter((e=>\"\"!==e)).map((e=>\"'\"+e+\"'\"));if(s.push(\"''\"),o?.includes(t)){let e=new RegExp(\"AND \\\\(\"+t+\".*NULL\\\\)\",\"g\");o=o.replace(e,\"\"),e=new RegExp(\"\\\\(\"+t+\".*NULL\\\\)\",\"g\"),o=(o=o.replace(e,\"\")).replaceAll(/\\s+/g,\" \").trim()}let i=\"(\"+t+\" IN ({ids}) OR \"+t+\" IS NULL)\";return i=i.replace(\"{ids}\",s.join(\", \")),e(o,i)}export{r as addFloorFilter,o as hasFloorFilter};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,QAAK,4BAA4B;AAAC,OAAOC,CAAC,MAAK,gDAAgD;AAAC,SAASC,CAACA,CAACF,CAAC,EAACC,CAAC,EAAC;EAAC,OAAO,IAAI,IAAED,CAAC,CAACG,SAAS,KAAGH,CAAC,CAACG,SAAS,CAACC,eAAe,CAACC,MAAM,GAAC,CAAC,IAAEJ,CAAC,CAACK,MAAM,CAACD,MAAM,GAAC,CAAC,CAAC;AAAA;AAAC,SAASE,CAACA,CAACP,CAAC,EAACE,CAAC,EAACK,CAAC,EAAC;EAAC,MAAMC,CAAC,GAACC,CAAC,CAACT,CAAC,EAACE,CAAC,EAAEQ,KAAK,EAACH,CAAC,CAAC;EAAC,OAAOC,CAAC,IAAEN,CAAC,KAAG,IAAID,CAAC,CAAD,CAAC,EAACC,CAAC,CAACQ,KAAK,GAACF,CAAC,EAACN,CAAC,IAAEA,CAAC;AAAA;AAAC,SAASO,CAACA,CAACR,CAAC,EAACC,CAAC,EAACK,CAAC,EAAC;EAAC,IAAG,IAAI,IAAEN,CAAC,CAACE,SAAS,IAAE,CAACI,CAAC,CAACD,MAAM,EAAED,MAAM,EAAC,OAAOH,CAAC;EAAC,IAAIO,CAAC,GAACF,CAAC,CAACD,MAAM;EAAC,MAAK;IAACK,UAAU,EAACH,CAAC;IAACJ,eAAe,EAACQ;EAAC,CAAC,GAACX,CAAC,CAACE,SAAS;EAACS,CAAC,CAACP,MAAM,KAAGI,CAAC,GAACG,CAAC,CAAC;EAAC,MAAMC,CAAC,GAACJ,CAAC,CAACK,MAAM,CAAEd,CAAC,IAAE,EAAE,KAAGA,CAAE,CAAC,CAACe,GAAG,CAAEf,CAAC,IAAE,GAAG,GAACA,CAAC,GAAC,GAAI,CAAC;EAAC,IAAGa,CAAC,CAACG,IAAI,CAAC,IAAI,CAAC,EAACd,CAAC,EAAEe,QAAQ,CAACT,CAAC,CAAC,EAAC;IAAC,IAAIR,CAAC,GAAC,IAAIkB,MAAM,CAAC,SAAS,GAACV,CAAC,GAAC,WAAW,EAAC,GAAG,CAAC;IAACN,CAAC,GAACA,CAAC,CAACiB,OAAO,CAACnB,CAAC,EAAC,EAAE,CAAC,EAACA,CAAC,GAAC,IAAIkB,MAAM,CAAC,KAAK,GAACV,CAAC,GAAC,WAAW,EAAC,GAAG,CAAC,EAACN,CAAC,GAAC,CAACA,CAAC,GAACA,CAAC,CAACiB,OAAO,CAACnB,CAAC,EAAC,EAAE,CAAC,EAAEoB,UAAU,CAAC,MAAM,EAAC,GAAG,CAAC,CAACC,IAAI,CAAC,CAAC;EAAA;EAAC,IAAIC,CAAC,GAAC,GAAG,GAACd,CAAC,GAAC,iBAAiB,GAACA,CAAC,GAAC,WAAW;EAAC,OAAOc,CAAC,GAACA,CAAC,CAACH,OAAO,CAAC,OAAO,EAACN,CAAC,CAACU,IAAI,CAAC,IAAI,CAAC,CAAC,EAACvB,CAAC,CAACE,CAAC,EAACoB,CAAC,CAAC;AAAA;AAAC,SAAOf,CAAC,IAAIiB,cAAc,EAACtB,CAAC,IAAIuB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}