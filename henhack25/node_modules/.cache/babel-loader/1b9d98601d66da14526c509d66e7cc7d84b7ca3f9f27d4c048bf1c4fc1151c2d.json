{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Evented.js\";\nimport t from \"../../../../core/Handles.js\";\nimport { destroyMaybe as s } from \"../../../../core/maybe.js\";\nimport i from \"../../../../core/PooledArray.js\";\nimport { ContentObject as r } from \"./ContentObject.js\";\nimport { ContentObjectType as o } from \"./ContentObjectType.js\";\nimport { DirtyEventNames as h } from \"./DirtyEvents.js\";\nimport d from \"./Octree.js\";\nimport { UpdatePolicy as c } from \"./UpdatePolicy.js\";\nclass a extends r {\n  constructor(s, r) {\n    let d = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n    super(), this.stage = s, this.apiLayerUid = d, this.type = o.Layer, this.events = new e(), this.visible = !0, this.sliceable = !1, this._objectsAdded = new i(), this._handles = new t(), this._objects = new i(), this._pickable = !0, this.visible = r?.visible ?? !0, this._pickable = r?.pickable ?? !0, this.updatePolicy = r?.updatePolicy ?? c.ASYNC, this._disableOctree = r?.disableOctree ?? !1, s.add(this);\n    for (const e of h) this._handles.add(this.events.on(e, t => s.handleEvent(e, t)));\n  }\n  destroy() {\n    this._handles.size && (this._handles.destroy(), this.stage.remove(this), this.invalidateSpatialQueryAccelerator());\n  }\n  get objects() {\n    return this._objects;\n  }\n  set pickable(e) {\n    this._pickable = e;\n  }\n  get pickable() {\n    return this._pickable && this.visible;\n  }\n  add(e) {\n    this._objects.push(e), e.parentLayer = this, this.events.emit(\"layerObjectAdded\", {\n      layer: this,\n      object: e\n    }), null != this._octree && this._objectsAdded.push(e);\n  }\n  remove(e) {\n    this._objects.removeUnordered(e) && (e.parentLayer = null, this.events.emit(\"layerObjectRemoved\", {\n      layer: this,\n      object: e\n    }), null != this._octree && (this._objectsAdded.removeUnordered(e) || this._octree.remove([e])));\n  }\n  addMany(e) {\n    this._objects.pushArray(e);\n    for (const t of e) t.parentLayer = this;\n    this.events.emit(\"layerObjectsAdded\", {\n      layer: this,\n      objects: e\n    }), null != this._octree && this._objectsAdded.pushArray(e);\n  }\n  removeMany(e) {\n    const t = new Array();\n    if (this._objects.removeUnorderedMany(e, e.length, t), 0 !== t.length) {\n      for (const e of t) e.parentLayer = null;\n      if (this.events.emit(\"layerObjectsRemoved\", {\n        layer: this,\n        objects: t\n      }), null != this._octree) {\n        for (let e = 0; e < t.length;) this._objectsAdded.removeUnordered(t[e]) ? (t[e] = t[t.length - 1], t.length -= 1) : ++e;\n        this._octree.remove(t);\n      }\n    }\n  }\n  sync() {\n    this.updatePolicy !== c.SYNC && this.stage.syncLayer(this.id);\n  }\n  notifyObjectBBChanged(e, t) {\n    null == this._octree || this._objectsAdded.includes(e) || this._octree.update(e, t);\n  }\n  getSpatialQueryAccelerator() {\n    return null == this._octree && this._objects.length > 50 && !this._disableOctree ? (this._octree = new d(e => e.boundingVolumeWorldSpace.bounds), this._octree.add(this._objects.data, this._objects.length)) : null != this._octree && this._objectsAdded.length > 0 && (this._octree.add(this._objectsAdded.data, this._objectsAdded.length), this._objectsAdded.clear()), this._octree;\n  }\n  invalidateSpatialQueryAccelerator() {\n    this._octree = s(this._octree), this._objectsAdded.clear();\n  }\n}\nfunction l(e) {\n  return null != e && e.type === o.Layer;\n}\nexport { a as WebGLLayer, l as isWebGLLayer };","map":{"version":3,"names":["e","t","destroyMaybe","s","i","ContentObject","r","ContentObjectType","o","DirtyEventNames","h","d","UpdatePolicy","c","a","constructor","arguments","length","undefined","stage","apiLayerUid","type","Layer","events","visible","sliceable","_objectsAdded","_handles","_objects","_pickable","pickable","updatePolicy","ASYNC","_disableOctree","disableOctree","add","on","handleEvent","destroy","size","remove","invalidateSpatialQueryAccelerator","objects","push","parentLayer","emit","layer","object","_octree","removeUnordered","addMany","pushArray","removeMany","Array","removeUnorderedMany","sync","SYNC","syncLayer","id","notifyObjectBBChanged","includes","update","getSpatialQueryAccelerator","boundingVolumeWorldSpace","bounds","data","clear","l","WebGLLayer","isWebGLLayer"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{ContentObject as r}from\"./ContentObject.js\";import{ContentObjectType as o}from\"./ContentObjectType.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import d from\"./Octree.js\";import{UpdatePolicy as c}from\"./UpdatePolicy.js\";class a extends r{constructor(s,r,d=\"\"){super(),this.stage=s,this.apiLayerUid=d,this.type=o.Layer,this.events=new e,this.visible=!0,this.sliceable=!1,this._objectsAdded=new i,this._handles=new t,this._objects=new i,this._pickable=!0,this.visible=r?.visible??!0,this._pickable=r?.pickable??!0,this.updatePolicy=r?.updatePolicy??c.ASYNC,this._disableOctree=r?.disableOctree??!1,s.add(this);for(const e of h)this._handles.add(this.events.on(e,(t=>s.handleEvent(e,t))))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.remove(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.push(e),e.parentLayer=this,this.events.emit(\"layerObjectAdded\",{layer:this,object:e}),null!=this._octree&&this._objectsAdded.push(e)}remove(e){this._objects.removeUnordered(e)&&(e.parentLayer=null,this.events.emit(\"layerObjectRemoved\",{layer:this,object:e}),null!=this._octree&&(this._objectsAdded.removeUnordered(e)||this._octree.remove([e])))}addMany(e){this._objects.pushArray(e);for(const t of e)t.parentLayer=this;this.events.emit(\"layerObjectsAdded\",{layer:this,objects:e}),null!=this._octree&&this._objectsAdded.pushArray(e)}removeMany(e){const t=new Array;if(this._objects.removeUnorderedMany(e,e.length,t),0!==t.length){for(const e of t)e.parentLayer=null;if(this.events.emit(\"layerObjectsRemoved\",{layer:this,objects:t}),null!=this._octree){for(let e=0;e<t.length;)this._objectsAdded.removeUnordered(t[e])?(t[e]=t[t.length-1],t.length-=1):++e;this._octree.remove(t)}}}sync(){this.updatePolicy!==c.SYNC&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.length>50&&!this._disableOctree?(this._octree=new d((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.data,this._objects.length)):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded.data,this._objectsAdded.length),this._objectsAdded.clear()),this._octree}invalidateSpatialQueryAccelerator(){this._octree=s(this._octree),this._objectsAdded.clear()}}function l(e){return null!=e&&e.type===o.Layer}export{a as WebGLLayer,l as isWebGLLayer};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}