{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { PathTransformationCursor as t } from \"../CIMCursor.js\";\nimport { CurveHelper as e } from \"../CurveHelper.js\";\nimport { ExtremityPlacement as s } from \"../enums.js\";\nclass i {\n  static local() {\n    return null === i.instance && (i.instance = new i()), i.instance;\n  }\n  execute(t, e, s, i, n) {\n    return new r(t, e, s);\n  }\n}\ni.instance = null;\nclass r extends t {\n  constructor(t, s, i) {\n    super(t, !1, !0), this._curveHelper = new e(), this._placePerPart = s.placePerPart ?? !1, this._angleToLine = void 0 === s.angleToLine || s.angleToLine, this._offset = void 0 !== s.offset ? s.offset * i : 0, this._type = s.extremityPlacement, this._position = void 0 !== s.offsetAlongLine ? s.offsetAlongLine * i : 0, this._beginProcessed = !1;\n  }\n  processMultiPath(t) {\n    return this._placePerPart ? super.processMultiPath(t) : this.processPath(t);\n  }\n  processPath(t) {\n    let e;\n    switch (this._type) {\n      case s.Both:\n      default:\n        this._beginProcessed ? (e = this._atExtremities(t, this._position, !1), this._beginProcessed = !1, this.iterateMultiPath = !1, this.iteratePath = !1) : (e = this._atExtremities(t, this._position, !0), this._beginProcessed = !0, this.iterateMultiPath = !0, this.iteratePath = !0);\n        break;\n      case s.JustBegin:\n        e = this._atExtremities(t, this._position, !0);\n        break;\n      case s.JustEnd:\n        e = this._atExtremities(t, this._position, !1);\n      case s.None:\n    }\n    return e;\n  }\n  _atExtremities(t, e, s) {\n    if (this._placePerPart || (s ? t.seekPath(0) : t.seekPath(t.totalSize - 1)), s || t.seekPathEnd(), s ? t.nextPoint() : t.prevPoint()) {\n      let i = 0,\n        [r, n] = [0, 0],\n        [a, o] = [t.x, t.y];\n      for (; s ? t.nextPoint() : t.prevPoint();) {\n        r = a, n = o, a = t.x, o = t.y;\n        const s = this._curveHelper.getLength(r, n, a, o);\n        if (i + s > e) {\n          const t = (e - i) / s,\n            [h, l] = this._curveHelper.getAngleCS(r, n, a, o, t),\n            c = this._curveHelper.getCoord2D(r, n, a, o, t);\n          return this.internalPlacement.setTranslate(c[0] - this._offset * l, c[1] + this._offset * h), this._angleToLine && this.internalPlacement.setRotateCS(-h, -l), this.internalPlacement;\n        }\n        i += s;\n      }\n    }\n    return null;\n  }\n}\nexport { i as PlacementAtExtremities };","map":{"version":3,"names":["PathTransformationCursor","t","CurveHelper","e","ExtremityPlacement","s","i","local","instance","execute","n","r","constructor","_curveHelper","_placePerPart","placePerPart","_angleToLine","angleToLine","_offset","offset","_type","extremityPlacement","_position","offsetAlongLine","_beginProcessed","processMultiPath","processPath","Both","_atExtremities","iterateMultiPath","iteratePath","JustBegin","JustEnd","None","seekPath","totalSize","seekPathEnd","nextPoint","prevPoint","a","o","x","y","getLength","h","l","getAngleCS","c","getCoord2D","internalPlacement","setTranslate","setRotateCS","PlacementAtExtremities"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{PathTransformationCursor as t}from\"../CIMCursor.js\";import{CurveHelper as e}from\"../CurveHelper.js\";import{ExtremityPlacement as s}from\"../enums.js\";class i{static local(){return null===i.instance&&(i.instance=new i),i.instance}execute(t,e,s,i,n){return new r(t,e,s)}}i.instance=null;class r extends t{constructor(t,s,i){super(t,!1,!0),this._curveHelper=new e,this._placePerPart=s.placePerPart??!1,this._angleToLine=void 0===s.angleToLine||s.angleToLine,this._offset=void 0!==s.offset?s.offset*i:0,this._type=s.extremityPlacement,this._position=void 0!==s.offsetAlongLine?s.offsetAlongLine*i:0,this._beginProcessed=!1}processMultiPath(t){return this._placePerPart?super.processMultiPath(t):this.processPath(t)}processPath(t){let e;switch(this._type){case s.Both:default:this._beginProcessed?(e=this._atExtremities(t,this._position,!1),this._beginProcessed=!1,this.iterateMultiPath=!1,this.iteratePath=!1):(e=this._atExtremities(t,this._position,!0),this._beginProcessed=!0,this.iterateMultiPath=!0,this.iteratePath=!0);break;case s.JustBegin:e=this._atExtremities(t,this._position,!0);break;case s.JustEnd:e=this._atExtremities(t,this._position,!1);case s.None:}return e}_atExtremities(t,e,s){if(this._placePerPart||(s?t.seekPath(0):t.seekPath(t.totalSize-1)),s||t.seekPathEnd(),s?t.nextPoint():t.prevPoint()){let i=0,[r,n]=[0,0],[a,o]=[t.x,t.y];for(;s?t.nextPoint():t.prevPoint();){r=a,n=o,a=t.x,o=t.y;const s=this._curveHelper.getLength(r,n,a,o);if(i+s>e){const t=(e-i)/s,[h,l]=this._curveHelper.getAngleCS(r,n,a,o,t),c=this._curveHelper.getCoord2D(r,n,a,o,t);return this.internalPlacement.setTranslate(c[0]-this._offset*l,c[1]+this._offset*h),this._angleToLine&&this.internalPlacement.setRotateCS(-h,-l),this.internalPlacement}i+=s}}return null}}export{i as PlacementAtExtremities};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,wBAAwB,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,aAAa;AAAC,MAAMC,CAAC;EAAC,OAAOC,KAAKA,CAAA,EAAE;IAAC,OAAO,IAAI,KAAGD,CAAC,CAACE,QAAQ,KAAGF,CAAC,CAACE,QAAQ,GAAC,IAAIF,CAAC,CAAD,CAAC,CAAC,EAACA,CAAC,CAACE,QAAQ;EAAA;EAACC,OAAOA,CAACR,CAAC,EAACE,CAAC,EAACE,CAAC,EAACC,CAAC,EAACI,CAAC,EAAC;IAAC,OAAO,IAAIC,CAAC,CAACV,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC;EAAA;AAAC;AAACC,CAAC,CAACE,QAAQ,GAAC,IAAI;AAAC,MAAMG,CAAC,SAASV,CAAC;EAACW,WAAWA,CAACX,CAAC,EAACI,CAAC,EAACC,CAAC,EAAC;IAAC,KAAK,CAACL,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACY,YAAY,GAAC,IAAIV,CAAC,CAAD,CAAC,EAAC,IAAI,CAACW,aAAa,GAACT,CAAC,CAACU,YAAY,IAAE,CAAC,CAAC,EAAC,IAAI,CAACC,YAAY,GAAC,KAAK,CAAC,KAAGX,CAAC,CAACY,WAAW,IAAEZ,CAAC,CAACY,WAAW,EAAC,IAAI,CAACC,OAAO,GAAC,KAAK,CAAC,KAAGb,CAAC,CAACc,MAAM,GAACd,CAAC,CAACc,MAAM,GAACb,CAAC,GAAC,CAAC,EAAC,IAAI,CAACc,KAAK,GAACf,CAAC,CAACgB,kBAAkB,EAAC,IAAI,CAACC,SAAS,GAAC,KAAK,CAAC,KAAGjB,CAAC,CAACkB,eAAe,GAAClB,CAAC,CAACkB,eAAe,GAACjB,CAAC,GAAC,CAAC,EAAC,IAAI,CAACkB,eAAe,GAAC,CAAC,CAAC;EAAA;EAACC,gBAAgBA,CAACxB,CAAC,EAAC;IAAC,OAAO,IAAI,CAACa,aAAa,GAAC,KAAK,CAACW,gBAAgB,CAACxB,CAAC,CAAC,GAAC,IAAI,CAACyB,WAAW,CAACzB,CAAC,CAAC;EAAA;EAACyB,WAAWA,CAACzB,CAAC,EAAC;IAAC,IAAIE,CAAC;IAAC,QAAO,IAAI,CAACiB,KAAK;MAAE,KAAKf,CAAC,CAACsB,IAAI;MAAC;QAAQ,IAAI,CAACH,eAAe,IAAErB,CAAC,GAAC,IAAI,CAACyB,cAAc,CAAC3B,CAAC,EAAC,IAAI,CAACqB,SAAS,EAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACE,eAAe,GAAC,CAAC,CAAC,EAAC,IAAI,CAACK,gBAAgB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,WAAW,GAAC,CAAC,CAAC,KAAG3B,CAAC,GAAC,IAAI,CAACyB,cAAc,CAAC3B,CAAC,EAAC,IAAI,CAACqB,SAAS,EAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACE,eAAe,GAAC,CAAC,CAAC,EAAC,IAAI,CAACK,gBAAgB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,WAAW,GAAC,CAAC,CAAC,CAAC;QAAC;MAAM,KAAKzB,CAAC,CAAC0B,SAAS;QAAC5B,CAAC,GAAC,IAAI,CAACyB,cAAc,CAAC3B,CAAC,EAAC,IAAI,CAACqB,SAAS,EAAC,CAAC,CAAC,CAAC;QAAC;MAAM,KAAKjB,CAAC,CAAC2B,OAAO;QAAC7B,CAAC,GAAC,IAAI,CAACyB,cAAc,CAAC3B,CAAC,EAAC,IAAI,CAACqB,SAAS,EAAC,CAAC,CAAC,CAAC;MAAC,KAAKjB,CAAC,CAAC4B,IAAI;IAAC;IAAC,OAAO9B,CAAC;EAAA;EAACyB,cAAcA,CAAC3B,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,IAAG,IAAI,CAACS,aAAa,KAAGT,CAAC,GAACJ,CAAC,CAACiC,QAAQ,CAAC,CAAC,CAAC,GAACjC,CAAC,CAACiC,QAAQ,CAACjC,CAAC,CAACkC,SAAS,GAAC,CAAC,CAAC,CAAC,EAAC9B,CAAC,IAAEJ,CAAC,CAACmC,WAAW,CAAC,CAAC,EAAC/B,CAAC,GAACJ,CAAC,CAACoC,SAAS,CAAC,CAAC,GAACpC,CAAC,CAACqC,SAAS,CAAC,CAAC,EAAC;MAAC,IAAIhC,CAAC,GAAC,CAAC;QAAC,CAACK,CAAC,EAACD,CAAC,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC,CAAC;QAAC,CAAC6B,CAAC,EAACC,CAAC,CAAC,GAAC,CAACvC,CAAC,CAACwC,CAAC,EAACxC,CAAC,CAACyC,CAAC,CAAC;MAAC,OAAKrC,CAAC,GAACJ,CAAC,CAACoC,SAAS,CAAC,CAAC,GAACpC,CAAC,CAACqC,SAAS,CAAC,CAAC,GAAE;QAAC3B,CAAC,GAAC4B,CAAC,EAAC7B,CAAC,GAAC8B,CAAC,EAACD,CAAC,GAACtC,CAAC,CAACwC,CAAC,EAACD,CAAC,GAACvC,CAAC,CAACyC,CAAC;QAAC,MAAMrC,CAAC,GAAC,IAAI,CAACQ,YAAY,CAAC8B,SAAS,CAAChC,CAAC,EAACD,CAAC,EAAC6B,CAAC,EAACC,CAAC,CAAC;QAAC,IAAGlC,CAAC,GAACD,CAAC,GAACF,CAAC,EAAC;UAAC,MAAMF,CAAC,GAAC,CAACE,CAAC,GAACG,CAAC,IAAED,CAAC;YAAC,CAACuC,CAAC,EAACC,CAAC,CAAC,GAAC,IAAI,CAAChC,YAAY,CAACiC,UAAU,CAACnC,CAAC,EAACD,CAAC,EAAC6B,CAAC,EAACC,CAAC,EAACvC,CAAC,CAAC;YAAC8C,CAAC,GAAC,IAAI,CAAClC,YAAY,CAACmC,UAAU,CAACrC,CAAC,EAACD,CAAC,EAAC6B,CAAC,EAACC,CAAC,EAACvC,CAAC,CAAC;UAAC,OAAO,IAAI,CAACgD,iBAAiB,CAACC,YAAY,CAACH,CAAC,CAAC,CAAC,CAAC,GAAC,IAAI,CAAC7B,OAAO,GAAC2B,CAAC,EAACE,CAAC,CAAC,CAAC,CAAC,GAAC,IAAI,CAAC7B,OAAO,GAAC0B,CAAC,CAAC,EAAC,IAAI,CAAC5B,YAAY,IAAE,IAAI,CAACiC,iBAAiB,CAACE,WAAW,CAAC,CAACP,CAAC,EAAC,CAACC,CAAC,CAAC,EAAC,IAAI,CAACI,iBAAiB;QAAA;QAAC3C,CAAC,IAAED,CAAC;MAAA;IAAC;IAAC,OAAO,IAAI;EAAA;AAAC;AAAC,SAAOC,CAAC,IAAI8C,sBAAsB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}