{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../PopupTemplate.js\";\nimport r from \"../core/Clonable.js\";\nimport s from \"../core/Error.js\";\nimport i from \"../core/Logger.js\";\nimport { MultiOriginJSONMixin as o } from \"../core/MultiOriginJSONSupport.js\";\nimport { debounce as a, throwIfAbortError as n } from \"../core/promiseUtils.js\";\nimport { watch as p } from \"../core/reactiveUtils.js\";\nimport { property as l } from \"../core/accessorSupport/decorators/property.js\";\nimport { ensureClass as c } from \"../core/accessorSupport/ensureType.js\";\nimport \"../core/has.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as m } from \"../core/accessorSupport/decorators/subclass.js\";\nimport u from \"./Layer.js\";\nimport { ArcGISService as h } from \"./mixins/ArcGISService.js\";\nimport { BlendLayer as d } from \"./mixins/BlendLayer.js\";\nimport { CustomParametersMixin as y } from \"./mixins/CustomParametersMixin.js\";\nimport { ImageryTileMixin as f } from \"./mixins/ImageryTileMixin.js\";\nimport { OperationalLayer as g } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as v } from \"./mixins/PortalLayer.js\";\nimport { RasterPresetRendererMixin as R } from \"./mixins/RasterPresetRendererMixin.js\";\nimport { RefreshableLayer as w } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as S } from \"./mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as F } from \"./mixins/TemporalLayer.js\";\nimport { legendEnabled as j } from \"./support/commonProperties.js\";\nimport _ from \"./support/Field.js\";\nimport { getServicePixelValueField as O, getRawServicePixelValueField as P, getRasterAttributeTableFields as b, getMagnitudeField as I, getDirectionField as x, getMultidimensionalFields as T, commonRasterFieldNames as N, setDefaultRasterFieldFormats as L } from \"./support/rasterFieldUtils.js\";\nimport J from \"./support/RasterFunction.js\";\nimport C from \"./support/rasterDatasets/FunctionRaster.js\";\nimport M from \"./support/rasterDatasets/RasterFactory.js\";\nimport { getPrimaryRasterUrls as E, create as A } from \"./support/rasterFunctions/rasterFunctionHelper.js\";\nimport { createPopupTemplate as U } from \"../support/popupUtils.js\";\nimport { SaveOperationType as $ } from \"../webdoc/interfaces.js\";\nlet V = class extends d(S(g(v(R(y(f(F(h(w(o(r.ClonableMixin(u)))))))))))) {\n  constructor(...e) {\n    super(...e), this._primaryRasters = [], this.legendEnabled = !0, this.isReference = null, this.listMode = \"show\", this.sourceJSON = null, this.version = null, this.type = \"imagery-tile\", this.operationalLayerType = \"ArcGISTiledImageServiceLayer\", this.popupEnabled = !0, this.popupTemplate = null, this.fields = null, this.source = void 0, this._debouncedSaveOperations = a(async (e, t, r) => {\n      const {\n        save: s,\n        saveAs: i\n      } = await import(\"./save/imageryUtils.js\");\n      switch (e) {\n        case $.SAVE:\n          return s(this, t);\n        case $.SAVE_AS:\n          return i(this, r, t);\n      }\n    });\n  }\n  normalizeCtorArgs(e, t) {\n    return \"string\" == typeof e ? {\n      url: e,\n      ...t\n    } : e;\n  }\n  load(e) {\n    const t = null != e ? e.signal : null;\n    return this.addResolvingPromise(this.loadFromPortal({\n      supportedTypes: [\"Image Service\"]\n    }, e).catch(n).then(() => this._openRaster(t))), Promise.resolve(this);\n  }\n  get defaultPopupTemplate() {\n    return this.createPopupTemplate();\n  }\n  get rasterFields() {\n    const e = [O(\"Pixel Value\"), P(\"Raw Pixel Value\")],\n      t = this.raster?.rasterInfo ?? this.serviceRasterInfo,\n      r = t?.attributeTable;\n    if (r) {\n      const t = b(r);\n      e.push(...t);\n    }\n    const s = t?.dataType,\n      i = t?.multidimensionalInfo;\n    if ((\"vector-magdir\" === s || \"vector-uv\" === s) && null != i) {\n      const t = i.variables[0].unit?.trim(),\n        r = I(t),\n        s = x();\n      e.push(r, s);\n    }\n    if (i) {\n      const t = T(i);\n      e.push(...t);\n    }\n    return e;\n  }\n  createPopupTemplate(e) {\n    const {\n        rasterFields: t\n      } = this,\n      r = e?.visibleFieldNames ?? new Set(t.map(({\n        name: e\n      }) => e).filter(e => e !== N.rawServicePixelValue)),\n      s = U({\n        fields: t,\n        title: this.title\n      }, {\n        ...e,\n        visibleFieldNames: r\n      }),\n      {\n        rasterInfo: i\n      } = this.raster;\n    return s?.fieldInfos && i && L(s.fieldInfos, i), s;\n  }\n  async generateRasterInfo(e, t) {\n    if (e = c(J, e), await this.load(), !e || \"none\" === e.functionName?.toLowerCase()) return this.serviceRasterInfo;\n    try {\n      const {\n        rasterInfo: r\n      } = await this._openFunctionRaster(e, t);\n      return r;\n    } catch (r) {\n      if (r instanceof s) throw r;\n      throw new s(\"imagery-tile-layer\", \"the given raster function is not supported\");\n    }\n  }\n  async save(e) {\n    return this._debouncedSaveOperations($.SAVE, e);\n  }\n  async saveAs(e, t) {\n    return this._debouncedSaveOperations($.SAVE_AS, t, e);\n  }\n  write(e, t) {\n    const r = this._primaryRasters[0] ?? this.raster;\n    if (this.loaded ? \"RasterTileServer\" === r.datasetFormat && (\"Raster\" === r.tileType || \"Map\" === r.tileType) : this.url && /\\/ImageServer(\\/|\\/?$)/i.test(this.url)) return super.write(e, t);\n    if (t?.messages) {\n      const e = `${t.origin}/${t.layerContainerType || \"operational-layers\"}`;\n      t.messages.push(new s(\"layer:unsupported\", `Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`, {\n        layer: this\n      }));\n    }\n    return null;\n  }\n  async _openRaster(e) {\n    let t = !1;\n    if (this.raster) await this._openFromRaster(this.raster, e), t = \"Function\" === this.raster.datasetFormat, !t && this.rasterFunction && (this._primaryRasters = [this.raster], await this._initializeWithFunctionRaster(this.rasterFunction));else {\n      const {\n        url: t,\n        rasterFunction: r,\n        source: i\n      } = this;\n      if (!t && !i) throw new s(\"imagery-tile-layer:open\", \"missing url or source parameter\");\n      i ? await this._openFromSource(i, e) : r ? await this._openFromUrlWithRasterFunction(t, r, e) : await this._openFromUrl(t, e);\n    }\n    const r = this.raster.rasterInfo;\n    if (!r) throw new s(\"imagery-tile-layer:load\", \"cannot load resources on \" + this.url);\n    if (this._set(\"serviceRasterInfo\", t ? r : this._primaryRasters[0].rasterInfo), this._set(\"spatialReference\", r.spatialReference), this.sourceJSON = this.sourceJSON || this.raster.sourceJSON, null != this.sourceJSON) {\n      const e = \"Map\" === this.raster.tileType && null != this.sourceJSON.minLOD && null != this.sourceJSON.maxLOD ? this.sourceJSON : {\n        ...this.sourceJSON,\n        minScale: 0,\n        maxScale: 0\n      };\n      this.read(e, {\n        origin: \"service\"\n      });\n    } else this.read({\n      tileInfo: this.serviceRasterInfo?.storageInfo.tileInfo.toJSON()\n    }, {\n      origin: \"service\"\n    });\n    this.title || (this.title = this.raster.datasetName), \"Map\" === this.raster.tileType && (this.popupEnabled = !1), this._configDefaultSettings(), this.addHandles(p(() => this.customParameters, e => {\n      this.raster && (this.raster.ioConfig.customFetchParameters = e);\n    }));\n  }\n  async _openFromRaster(e, t) {\n    e.rasterInfo || (await e.open({\n      signal: t\n    })), this._primaryRasters = \"Function\" === e.datasetFormat ? e.primaryRasters.rasters : [e], this.url || (this.url = this._primaryRasters[0].url);\n  }\n  async _openFromUrlWithRasterFunction(e, t, r) {\n    const i = [e];\n    t && E(t.toJSON(), i);\n    const o = await Promise.all(i.map(e => M.open({\n        url: e,\n        sourceJSON: this.sourceJSON,\n        ioConfig: {\n          sampling: \"closest\",\n          ...this.ioConfig,\n          customFetchParameters: this.customParameters\n        },\n        signal: r\n      }))),\n      a = o.findIndex(e => null == e);\n    if (a > -1) throw new s(\"imagery-tile-layer:open\", `cannot open raster: ${i[a]}`);\n    return this._primaryRasters = o, this._initializeWithFunctionRaster(t);\n  }\n  async _openFromUrl(e, t) {\n    const r = await M.open({\n      url: e,\n      sourceJSON: this.sourceJSON,\n      ioConfig: {\n        sampling: \"closest\",\n        ...this.ioConfig,\n        customFetchParameters: this.customParameters\n      },\n      signal: t\n    });\n    if (null == r) throw new s(\"imagery-tile-layer:open\", `cannot open raster: ${e}`);\n    this._primaryRasters = [r], this.raster = r;\n  }\n  async _openFromSource(e, t) {\n    const r = \"the tiled imagery data source is not supported\",\n      i = \"coverage\" === e.type?.toLowerCase() ? \"CovJSON\" : e.extent && e.pixelBlock ? \"MEMORY\" : null;\n    if (!i) throw new s(\"imagery-tile-layer:open\", r);\n    \"MEMORY\" === i && (e = {\n      ...e,\n      pixelBlock: void 0,\n      pixelBlocks: [e.pixelBlock]\n    });\n    const o = await M.open({\n      url: \"\",\n      source: e,\n      datasetFormat: i,\n      ioConfig: {\n        sampling: \"closest\",\n        ...this.ioConfig,\n        customFetchParameters: this.customParameters\n      },\n      signal: t\n    });\n    if (null == o) throw new s(\"imagery-tile-layer:open\", r);\n    this._primaryRasters = [o], this.rasterFunction ? await this._initializeWithFunctionRaster(this.rasterFunction) : this.raster = o;\n  }\n  async _openFunctionRaster(e, t) {\n    const r = {\n      raster: this._primaryRasters[0]\n    };\n    this._primaryRasters.length > 1 && this._primaryRasters.forEach(e => r[e.url] = e);\n    const s = A(e.functionDefinition?.toJSON() ?? e.toJSON(), r),\n      i = new C({\n        rasterFunction: s\n      });\n    return await i.open(t), i;\n  }\n  async _initializeWithFunctionRaster(e, t) {\n    try {\n      this.raster = await this._openFunctionRaster(e, t);\n    } catch (r) {\n      r instanceof s && i.getLogger(this).error(\"imagery-tile-layer:open\", r.message), i.getLogger(this).warn(\"imagery-tile-layer:open\", \"the raster function cannot be applied and is removed\"), this._set(\"rasterFunction\", null), this.raster = this._primaryRasters[0];\n    }\n  }\n};\ne([l({\n  clonable: !1\n})], V.prototype, \"_primaryRasters\", void 0), e([l(j)], V.prototype, \"legendEnabled\", void 0), e([l({\n  type: Boolean,\n  json: {\n    read: !1,\n    write: {\n      enabled: !0,\n      overridePolicy: () => ({\n        enabled: !1\n      })\n    }\n  }\n})], V.prototype, \"isReference\", void 0), e([l({\n  type: [\"show\", \"hide\"]\n})], V.prototype, \"listMode\", void 0), e([l({\n  json: {\n    read: !0,\n    write: !0\n  }\n})], V.prototype, \"blendMode\", void 0), e([l({\n  type: J,\n  json: {\n    name: \"renderingRule\",\n    write: !0\n  }\n})], V.prototype, \"rasterFunction\", void 0), e([l()], V.prototype, \"sourceJSON\", void 0), e([l({\n  readOnly: !0,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"currentVersion\"\n        }\n      }\n    }\n  }\n})], V.prototype, \"version\", void 0), e([l({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], V.prototype, \"type\", void 0), e([l({\n  type: [\"ArcGISTiledImageServiceLayer\"]\n})], V.prototype, \"operationalLayerType\", void 0), e([l({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"disablePopup\",\n      reader: (e, t) => !t.disablePopup\n    },\n    write: {\n      target: \"disablePopup\",\n      overridePolicy() {\n        return {\n          enabled: !this.loaded || \"Raster\" === this.raster.tileType\n        };\n      },\n      writer(e, t, r) {\n        t[r] = !e;\n      }\n    }\n  }\n})], V.prototype, \"popupEnabled\", void 0), e([l({\n  type: t,\n  json: {\n    read: {\n      source: \"popupInfo\"\n    },\n    write: {\n      target: \"popupInfo\",\n      overridePolicy() {\n        return {\n          enabled: !this.loaded || \"Raster\" === this.raster.tileType\n        };\n      }\n    }\n  }\n})], V.prototype, \"popupTemplate\", void 0), e([l({\n  readOnly: !0\n})], V.prototype, \"defaultPopupTemplate\", null), e([l({\n  readOnly: !0,\n  type: [_]\n})], V.prototype, \"fields\", void 0), e([l({\n  readOnly: !0,\n  type: [_]\n})], V.prototype, \"rasterFields\", null), e([l({\n  constructOnly: !0\n})], V.prototype, \"source\", void 0), V = e([m(\"esri.layers.ImageryTileLayer\")], V);\nconst B = V;\nexport { B as default };","map":{"version":3,"names":["_","e","t","r","s","i","MultiOriginJSONMixin","o","debounce","a","throwIfAbortError","n","watch","p","property","l","ensureClass","c","subclass","m","u","ArcGISService","h","BlendLayer","d","CustomParametersMixin","y","ImageryTileMixin","f","OperationalLayer","g","PortalLayer","v","RasterPresetRendererMixin","R","RefreshableLayer","w","ScaleRangeLayer","S","TemporalLayer","F","legendEnabled","j","getServicePixelValueField","O","getRawServicePixelValueField","P","getRasterAttributeTableFields","b","getMagnitudeField","I","getDirectionField","x","getMultidimensionalFields","T","commonRasterFieldNames","N","setDefaultRasterFieldFormats","L","J","C","M","getPrimaryRasterUrls","E","create","A","createPopupTemplate","U","SaveOperationType","$","V","ClonableMixin","constructor","_primaryRasters","isReference","listMode","sourceJSON","version","type","operationalLayerType","popupEnabled","popupTemplate","fields","source","_debouncedSaveOperations","save","saveAs","SAVE","SAVE_AS","normalizeCtorArgs","url","load","signal","addResolvingPromise","loadFromPortal","supportedTypes","catch","then","_openRaster","Promise","resolve","defaultPopupTemplate","rasterFields","raster","rasterInfo","serviceRasterInfo","attributeTable","push","dataType","multidimensionalInfo","variables","unit","trim","visibleFieldNames","Set","map","name","filter","rawServicePixelValue","title","fieldInfos","generateRasterInfo","functionName","toLowerCase","_openFunctionRaster","write","loaded","datasetFormat","tileType","test","messages","origin","layerContainerType","id","declaredClass","layer","_openFromRaster","rasterFunction","_initializeWithFunctionRaster","_openFromSource","_openFromUrlWithRasterFunction","_openFromUrl","_set","spatialReference","minLOD","maxLOD","minScale","maxScale","read","tileInfo","storageInfo","toJSON","datasetName","_configDefaultSettings","addHandles","customParameters","ioConfig","customFetchParameters","open","primaryRasters","rasters","all","sampling","findIndex","extent","pixelBlock","pixelBlocks","length","forEach","functionDefinition","getLogger","error","message","warn","clonable","prototype","Boolean","json","enabled","overridePolicy","readOnly","origins","service","value","reader","disablePopup","target","writer","constructOnly","B","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/ImageryTileLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../PopupTemplate.js\";import r from\"../core/Clonable.js\";import s from\"../core/Error.js\";import i from\"../core/Logger.js\";import{MultiOriginJSONMixin as o}from\"../core/MultiOriginJSONSupport.js\";import{debounce as a,throwIfAbortError as n}from\"../core/promiseUtils.js\";import{watch as p}from\"../core/reactiveUtils.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import{ensureClass as c}from\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import u from\"./Layer.js\";import{ArcGISService as h}from\"./mixins/ArcGISService.js\";import{BlendLayer as d}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as y}from\"./mixins/CustomParametersMixin.js\";import{ImageryTileMixin as f}from\"./mixins/ImageryTileMixin.js\";import{OperationalLayer as g}from\"./mixins/OperationalLayer.js\";import{PortalLayer as v}from\"./mixins/PortalLayer.js\";import{RasterPresetRendererMixin as R}from\"./mixins/RasterPresetRendererMixin.js\";import{RefreshableLayer as w}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as S}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as F}from\"./mixins/TemporalLayer.js\";import{legendEnabled as j}from\"./support/commonProperties.js\";import _ from\"./support/Field.js\";import{getServicePixelValueField as O,getRawServicePixelValueField as P,getRasterAttributeTableFields as b,getMagnitudeField as I,getDirectionField as x,getMultidimensionalFields as T,commonRasterFieldNames as N,setDefaultRasterFieldFormats as L}from\"./support/rasterFieldUtils.js\";import J from\"./support/RasterFunction.js\";import C from\"./support/rasterDatasets/FunctionRaster.js\";import M from\"./support/rasterDatasets/RasterFactory.js\";import{getPrimaryRasterUrls as E,create as A}from\"./support/rasterFunctions/rasterFunctionHelper.js\";import{createPopupTemplate as U}from\"../support/popupUtils.js\";import{SaveOperationType as $}from\"../webdoc/interfaces.js\";let V=class extends(d(S(g(v(R(y(f(F(h(w(o(r.ClonableMixin(u))))))))))))){constructor(...e){super(...e),this._primaryRasters=[],this.legendEnabled=!0,this.isReference=null,this.listMode=\"show\",this.sourceJSON=null,this.version=null,this.type=\"imagery-tile\",this.operationalLayerType=\"ArcGISTiledImageServiceLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.fields=null,this.source=void 0,this._debouncedSaveOperations=a((async(e,t,r)=>{const{save:s,saveAs:i}=await import(\"./save/imageryUtils.js\");switch(e){case $.SAVE:return s(this,t);case $.SAVE_AS:return i(this,r,t)}}))}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"]},e).catch(n).then((()=>this._openRaster(t)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get rasterFields(){const e=[O(\"Pixel Value\"),P(\"Raw Pixel Value\")],t=this.raster?.rasterInfo??this.serviceRasterInfo,r=t?.attributeTable;if(r){const t=b(r);e.push(...t)}const s=t?.dataType,i=t?.multidimensionalInfo;if((\"vector-magdir\"===s||\"vector-uv\"===s)&&null!=i){const t=i.variables[0].unit?.trim(),r=I(t),s=x();e.push(r,s)}if(i){const t=T(i);e.push(...t)}return e}createPopupTemplate(e){const{rasterFields:t}=this,r=e?.visibleFieldNames??new Set(t.map((({name:e})=>e)).filter((e=>e!==N.rawServicePixelValue))),s=U({fields:t,title:this.title},{...e,visibleFieldNames:r}),{rasterInfo:i}=this.raster;return s?.fieldInfos&&i&&L(s.fieldInfos,i),s}async generateRasterInfo(e,t){if(e=c(J,e),await this.load(),!e||\"none\"===e.functionName?.toLowerCase())return this.serviceRasterInfo;try{const{rasterInfo:r}=await this._openFunctionRaster(e,t);return r}catch(r){if(r instanceof s)throw r;throw new s(\"imagery-tile-layer\",\"the given raster function is not supported\")}}async save(e){return this._debouncedSaveOperations($.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations($.SAVE_AS,t,e)}write(e,t){const r=this._primaryRasters[0]??this.raster;if(this.loaded?\"RasterTileServer\"===r.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType):this.url&&/\\/ImageServer(\\/|\\/?$)/i.test(this.url))return super.write(e,t);if(t?.messages){const e=`${t.origin}/${t.layerContainerType||\"operational-layers\"}`;t.messages.push(new s(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){let t=!1;if(this.raster)await this._openFromRaster(this.raster,e),t=\"Function\"===this.raster.datasetFormat,!t&&this.rasterFunction&&(this._primaryRasters=[this.raster],await this._initializeWithFunctionRaster(this.rasterFunction));else{const{url:t,rasterFunction:r,source:i}=this;if(!t&&!i)throw new s(\"imagery-tile-layer:open\",\"missing url or source parameter\");i?await this._openFromSource(i,e):r?await this._openFromUrlWithRasterFunction(t,r,e):await this._openFromUrl(t,e)}const r=this.raster.rasterInfo;if(!r)throw new s(\"imagery-tile-layer:load\",\"cannot load resources on \"+this.url);if(this._set(\"serviceRasterInfo\",t?r:this._primaryRasters[0].rasterInfo),this._set(\"spatialReference\",r.spatialReference),this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON){const e=\"Map\"===this.raster.tileType&&null!=this.sourceJSON.minLOD&&null!=this.sourceJSON.maxLOD?this.sourceJSON:{...this.sourceJSON,minScale:0,maxScale:0};this.read(e,{origin:\"service\"})}else this.read({tileInfo:this.serviceRasterInfo?.storageInfo.tileInfo.toJSON()},{origin:\"service\"});this.title||(this.title=this.raster.datasetName),\"Map\"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings(),this.addHandles(p((()=>this.customParameters),(e=>{this.raster&&(this.raster.ioConfig.customFetchParameters=e)})))}async _openFromRaster(e,t){e.rasterInfo||await e.open({signal:t}),this._primaryRasters=\"Function\"===e.datasetFormat?e.primaryRasters.rasters:[e],this.url||(this.url=this._primaryRasters[0].url)}async _openFromUrlWithRasterFunction(e,t,r){const i=[e];t&&E(t.toJSON(),i);const o=await Promise.all(i.map((e=>M.open({url:e,sourceJSON:this.sourceJSON,ioConfig:{sampling:\"closest\",...this.ioConfig,customFetchParameters:this.customParameters},signal:r})))),a=o.findIndex((e=>null==e));if(a>-1)throw new s(\"imagery-tile-layer:open\",`cannot open raster: ${i[a]}`);return this._primaryRasters=o,this._initializeWithFunctionRaster(t)}async _openFromUrl(e,t){const r=await M.open({url:e,sourceJSON:this.sourceJSON,ioConfig:{sampling:\"closest\",...this.ioConfig,customFetchParameters:this.customParameters},signal:t});if(null==r)throw new s(\"imagery-tile-layer:open\",`cannot open raster: ${e}`);this._primaryRasters=[r],this.raster=r}async _openFromSource(e,t){const r=\"the tiled imagery data source is not supported\",i=\"coverage\"===e.type?.toLowerCase()?\"CovJSON\":e.extent&&e.pixelBlock?\"MEMORY\":null;if(!i)throw new s(\"imagery-tile-layer:open\",r);\"MEMORY\"===i&&(e={...e,pixelBlock:void 0,pixelBlocks:[e.pixelBlock]});const o=await M.open({url:\"\",source:e,datasetFormat:i,ioConfig:{sampling:\"closest\",...this.ioConfig,customFetchParameters:this.customParameters},signal:t});if(null==o)throw new s(\"imagery-tile-layer:open\",r);this._primaryRasters=[o],this.rasterFunction?await this._initializeWithFunctionRaster(this.rasterFunction):this.raster=o}async _openFunctionRaster(e,t){const r={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((e=>r[e.url]=e));const s=A(e.functionDefinition?.toJSON()??e.toJSON(),r),i=new C({rasterFunction:s});return await i.open(t),i}async _initializeWithFunctionRaster(e,t){try{this.raster=await this._openFunctionRaster(e,t)}catch(r){r instanceof s&&i.getLogger(this).error(\"imagery-tile-layer:open\",r.message),i.getLogger(this).warn(\"imagery-tile-layer:open\",\"the raster function cannot be applied and is removed\"),this._set(\"rasterFunction\",null),this.raster=this._primaryRasters[0]}}};e([l({clonable:!1})],V.prototype,\"_primaryRasters\",void 0),e([l(j)],V.prototype,\"legendEnabled\",void 0),e([l({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],V.prototype,\"isReference\",void 0),e([l({type:[\"show\",\"hide\"]})],V.prototype,\"listMode\",void 0),e([l({json:{read:!0,write:!0}})],V.prototype,\"blendMode\",void 0),e([l({type:J,json:{name:\"renderingRule\",write:!0}})],V.prototype,\"rasterFunction\",void 0),e([l()],V.prototype,\"sourceJSON\",void 0),e([l({readOnly:!0,json:{origins:{service:{read:{source:\"currentVersion\"}}}}})],V.prototype,\"version\",void 0),e([l({readOnly:!0,json:{read:!1}})],V.prototype,\"type\",void 0),e([l({type:[\"ArcGISTiledImageServiceLayer\"]})],V.prototype,\"operationalLayerType\",void 0),e([l({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,t)=>!t.disablePopup},write:{target:\"disablePopup\",overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType}},writer(e,t,r){t[r]=!e}}}})],V.prototype,\"popupEnabled\",void 0),e([l({type:t,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType}}}}})],V.prototype,\"popupTemplate\",void 0),e([l({readOnly:!0})],V.prototype,\"defaultPopupTemplate\",null),e([l({readOnly:!0,type:[_]})],V.prototype,\"fields\",void 0),e([l({readOnly:!0,type:[_]})],V.prototype,\"rasterFields\",null),e([l({constructOnly:!0})],V.prototype,\"source\",void 0),V=e([m(\"esri.layers.ImageryTileLayer\")],V);const B=V;export{B as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}