{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { GeohashCell as t } from \"./GeohashCell.js\";\nclass e {\n  constructor(e) {\n    this._fields = e, this._size = 0, this._depth = 0, this._root = t.create(this._fields, 0, 0, 0);\n  }\n  destroy() {}\n  get size() {\n    return this._size;\n  }\n  get depth() {\n    return this._depth;\n  }\n  find(t, e, s) {\n    return this._root.find(t, e, s, 0, 0, 0);\n  }\n  insert(e, s, i, n, o, h, r) {\n    let l = this._root,\n      d = 0,\n      c = 0,\n      a = 0;\n    for (; null !== l;) {\n      if (l.insert(e, s, i, n, o, r), d >= h) return;\n      const f = Math.ceil((d + 1) / 2),\n        u = Math.floor((d + 1) / 2),\n        x = 1 - d % 2,\n        _ = 30 - (3 * f + 2 * u),\n        p = 30 - (2 * f + 3 * u),\n        M = (n & 7 * x + 3 * (1 - x) << _) >> _,\n        m = (o & 3 * x + 7 * (1 - x) << p) >> p,\n        g = M + m * (8 * x + 4 * (1 - x));\n      c = c << 3 * x + 2 * (1 - x) | M, a = a << 2 * x + 3 * (1 - x) | m, null == l.children[g] && (l.children[g] = t.create(this._fields, c, a, d + 1), this._depth = Math.max(this._depth, d + 1), this._size += 1), d += 1, l = l.children[g];\n    }\n  }\n  putBins(t, e) {\n    for (const s of this.getNodes(e)) {\n      const e = t.get(s.id);\n      e ? e.merge(s) : t.set(s.id, s.clone());\n    }\n  }\n  getNodes(t) {\n    const e = [],\n      {\n        geohashBounds: s,\n        level: i\n      } = t;\n    let n = this._root;\n    for (; null !== n;) {\n      const t = n.depth,\n        o = n.xNode,\n        h = n.yNode;\n      if (t >= i) {\n        e.push(n), n = n.next;\n        continue;\n      }\n      const r = Math.ceil((t + 1) / 2),\n        l = Math.floor((t + 1) / 2),\n        d = 1 - t % 2,\n        c = 30 - (3 * r + 2 * l),\n        a = 30 - (2 * r + 3 * l),\n        f = ~((1 << c) - 1),\n        u = ~((1 << a) - 1),\n        x = (s.xLL & f) >> c,\n        _ = (s.yLL & u) >> a,\n        p = (s.xTR & f) >> c,\n        M = (s.yTR & u) >> a,\n        m = o << 3 * d + 2 * (1 - d),\n        g = h << 2 * d + 3 * (1 - d),\n        y = m + 8 * d + 4 * (1 - d),\n        z = g + 4 * d + 8 * (1 - d),\n        L = Math.max(m, x),\n        N = Math.max(g, _),\n        B = Math.min(y, p),\n        R = Math.min(z, M);\n      let T = null,\n        j = null;\n      for (let e = N; e <= R; e++) for (let t = L; t <= B; t++) {\n        const s = t - m + (e - g) * (8 * d + 4 * (1 - d)),\n          i = n.children[s];\n        i && (T || (T = i, T.next = n.next), j && (j.next = i), j = i, i.next = n.next);\n      }\n      n = T || n.next;\n    }\n    return e;\n  }\n}\nexport { e as GeohashTree };","map":{"version":3,"names":["GeohashCell","t","e","constructor","_fields","_size","_depth","_root","create","destroy","size","depth","find","s","insert","i","n","o","h","r","l","d","c","a","f","Math","ceil","u","floor","x","_","p","M","m","g","children","max","putBins","getNodes","get","id","merge","set","clone","geohashBounds","level","xNode","yNode","push","next","xLL","yLL","xTR","yTR","y","z","L","N","B","min","R","T","j","GeohashTree"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/geohash/GeohashTree.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{GeohashCell as t}from\"./GeohashCell.js\";class e{constructor(e){this._fields=e,this._size=0,this._depth=0,this._root=t.create(this._fields,0,0,0)}destroy(){}get size(){return this._size}get depth(){return this._depth}find(t,e,s){return this._root.find(t,e,s,0,0,0)}insert(e,s,i,n,o,h,r){let l=this._root,d=0,c=0,a=0;for(;null!==l;){if(l.insert(e,s,i,n,o,r),d>=h)return;const f=Math.ceil((d+1)/2),u=Math.floor((d+1)/2),x=1-d%2,_=30-(3*f+2*u),p=30-(2*f+3*u),M=(n&7*x+3*(1-x)<<_)>>_,m=(o&3*x+7*(1-x)<<p)>>p,g=M+m*(8*x+4*(1-x));c=c<<3*x+2*(1-x)|M,a=a<<2*x+3*(1-x)|m,null==l.children[g]&&(l.children[g]=t.create(this._fields,c,a,d+1),this._depth=Math.max(this._depth,d+1),this._size+=1),d+=1,l=l.children[g]}}putBins(t,e){for(const s of this.getNodes(e)){const e=t.get(s.id);e?e.merge(s):t.set(s.id,s.clone())}}getNodes(t){const e=[],{geohashBounds:s,level:i}=t;let n=this._root;for(;null!==n;){const t=n.depth,o=n.xNode,h=n.yNode;if(t>=i){e.push(n),n=n.next;continue}const r=Math.ceil((t+1)/2),l=Math.floor((t+1)/2),d=1-t%2,c=30-(3*r+2*l),a=30-(2*r+3*l),f=~((1<<c)-1),u=~((1<<a)-1),x=(s.xLL&f)>>c,_=(s.yLL&u)>>a,p=(s.xTR&f)>>c,M=(s.yTR&u)>>a,m=o<<3*d+2*(1-d),g=h<<2*d+3*(1-d),y=m+8*d+4*(1-d),z=g+4*d+8*(1-d),L=Math.max(m,x),N=Math.max(g,_),B=Math.min(y,p),R=Math.min(z,M);let T=null,j=null;for(let e=N;e<=R;e++)for(let t=L;t<=B;t++){const s=t-m+(e-g)*(8*d+4*(1-d)),i=n.children[s];i&&(T||(T=i,T.next=n.next),j&&(j.next=i),j=i,i.next=n.next)}n=T||n.next}return e}}export{e as GeohashTree};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}