{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Accessor.js\";\nimport i from \"../core/Error.js\";\nimport t from \"../core/Logger.js\";\nimport { someMap as s } from \"../core/MapUtils.js\";\nimport { removeMaybe as a } from \"../core/maybe.js\";\nimport { createResolver as o, createAbortError as l, isAbortError as n, onAbort as y, throwIfAborted as h } from \"../core/promiseUtils.js\";\nimport { on as c, watch as p, syncAndInitial as w } from \"../core/reactiveUtils.js\";\nimport { schedule as d } from \"../core/scheduling.js\";\nimport { property as m } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as f } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { get as u } from \"../core/accessorSupport/get.js\";\nimport { UpdatingHandles as _ } from \"../core/support/UpdatingHandles.js\";\nimport g from \"../layers/Layer.js\";\nimport { destroyMap as V } from \"../support/collectionUtils.js\";\nfunction v(e) {\n  return \"tryRecycleWith\" in e;\n}\nfunction L(e) {\n  return null != e && \"object\" == typeof e && \"layerViews\" in e;\n}\nclass M {\n  constructor(e, r, t) {\n    this.layer = e, this.view = r, this.layerViewImporter = t, this._controller = new AbortController(), this._deferred = o(), this._started = !1, this.done = !1, this.promise = this._deferred.promise, y(this._controller.signal, () => {\n      const r = new i(\"cancelled:layerview-create\", \"layerview creation cancelled\", {\n        layer: e\n      });\n      this._deferred.reject(r);\n    });\n  }\n  tryRecycle(e) {\n    if (!this.done || !this.layerView || !v(this.layerView)) return null;\n    const r = this.layer.type,\n      i = this._controller.signal;\n    for (let t = 0; t < e.length; t++) {\n      const s = e[t];\n      if (s.type !== r) continue;\n      const a = this.layerView.tryRecycleWith(s, {\n        signal: i\n      });\n      if (a) {\n        e.splice(t, 1), this.layer = s;\n        const r = this.layerView,\n          i = r.view;\n        return this.promise = Promise.race([a.then(() => (h(this._controller.signal), s.emit(\"layerview-destroy\", {\n          view: i,\n          layerView: r\n        }), i.emit(\"layerview-destroy\", {\n          view: i,\n          layerView: r\n        }), s.emit(\"layerview-create\", {\n          view: i,\n          layerView: r\n        }), i.emit(\"layerview-create\", {\n          view: i,\n          layerView: r\n        }), r)), new Promise((e, r) => y(this._controller.signal, () => r(l())))]), this.promise;\n      }\n    }\n    return null;\n  }\n  destroy() {\n    this._controller.abort();\n    const {\n      layerView: e\n    } = this;\n    if (e) {\n      const {\n        layer: r,\n        view: i\n      } = this;\n      r.emit(\"layerview-destroy\", {\n        view: i,\n        layerView: e\n      }), i.emit(\"layerview-destroy\", {\n        layer: r,\n        layerView: e\n      });\n    }\n    this.done = !0, this.layer = null, this.layerView = null, this.view = null, this.layerViewImporter = null, this._map = null;\n  }\n  async start() {\n    if (this._started) return;\n    this._started = !0;\n    const {\n      _controller: {\n        signal: e\n      },\n      layer: r,\n      view: t\n    } = this;\n    this._map = t.map;\n    try {\n      let o, l;\n      if (await r.load({\n        signal: e\n      }), r.prefetchResources && (await r.prefetchResources({\n        signal: e\n      })), C(r)) o = await r.createLayerView(t, {\n        signal: e\n      });else {\n        if (!this.layerViewImporter.hasLayerViewModule(r)) throw new i(\"layer:view-not-supported\", \"No layerview implementation was found\");\n        const s = await this.layerViewImporter.importLayerView(r);\n        h(e), o = \"default\" in s ? new s.default({\n          layer: r,\n          view: t\n        }) : new s({\n          layer: r,\n          view: t\n        });\n      }\n      const n = () => {\n        l = a(l), o.destroyed || o.destroy(), o.layer = null, o.parent = null, o.view = null, this.done = !0;\n      };\n      l = y(e, n), h(e);\n      try {\n        await o.when();\n      } catch (s) {\n        throw n(), s;\n      }\n      const c = this._map?.allLayers?.includes(r);\n      if (!c) return n(), void this._deferred.reject(new i(\"view:no-layerview-for-layer\", \"The layer has been removed from the map\", {\n        layer: r\n      }));\n      this.layerView = o, r.emit(\"layerview-create\", {\n        view: t,\n        layerView: o\n      }), t.emit(\"layerview-create\", {\n        layer: r,\n        layerView: o\n      }), this.done = !0, this._deferred.resolve(o);\n    } catch (s) {\n      r.emit(\"layerview-create-error\", {\n        view: t,\n        error: s\n      }), t.emit(\"layerview-create-error\", {\n        layer: r,\n        error: s\n      }), this.done = !0, this._deferred.reject(new i(\"layerview:create-error\", \"layerview creation failed\", {\n        layer: r,\n        error: s\n      }));\n    }\n  }\n}\nlet I = class extends r {\n  constructor(e) {\n    super(e), this._layerLayerViewInfoMap = new Map(), this._recyclingInfoMap = new Map(), this._watchUpdatingTracking = new _(), this.supportsGround = !0, this._preloadLayerViewModules = () => {\n      const e = this.view.map?.allLayers;\n      if (e) for (const r of e) this.layerViewImporter.hasLayerViewModule(r) && this.layerViewImporter.importLayerView(r);\n    }, this._reschedule = () => this.destroyed ? Promise.reject() : (null == this._workPromise && (this._workPromise = o(), this._workPromise.promise.catch(() => {})), this.removeHandles(\"reschedule\"), this.addHandles(d(this._doWork), \"reschedule\"), this._workPromise.promise), this._doWork = () => {\n      if (this.destroyed) return;\n      const e = this.view.map;\n      if (this._map !== e && (this.clear(), this._map = e), null == this._workPromise) return void this.notifyChange(\"updating\");\n      this.removeHandles(\"reschedule\"), this.removeHandles(\"collection-change\");\n      const r = new Set(),\n        i = [],\n        t = this.view.ready,\n        s = e => {\n          if (null != e) for (const a of e) if (a) {\n            r.add(a);\n            const e = this._layerLayerViewInfoMap.get(a);\n            e && t ? e.start() : e || this._recyclingInfoMap.has(a) || i.push(a), \"layers\" in a && a.layers && s(a.layers);\n          }\n        };\n      for (const o of this._rootCollectionNames) s(u(this, o));\n      for (const [o, l] of this._layerLayerViewInfoMap) if (!r.has(o)) {\n        this._layerLayerViewInfoMap.delete(l.layer);\n        const e = l.tryRecycle(i);\n        e ? (this.notifyChange(\"updating\"), this._recyclingInfoMap.set(l.layer, l), e.then(() => {\n          this.notifyChange(\"updating\"), this._recyclingInfoMap.delete(l.layer), this._layerLayerViewInfoMap.set(l.layer, l), this._reschedule();\n        }).catch(() => {\n          this.notifyChange(\"updating\"), this._recyclingInfoMap.delete(l.layer), l.destroy(), this._reschedule();\n        })) : l.destroy();\n      }\n      for (const [o, l] of this._recyclingInfoMap) r.has(o) || (this.notifyChange(\"updating\"), this._recyclingInfoMap.delete(l.layer), l.destroy());\n      for (const o of i) this._createLayerView(o);\n      this._refreshCollections();\n      const a = [e?.ground?.layers, e?.basemap?.baseLayers, e?.basemap?.referenceLayers, e?.layers].filter(e => !!e);\n      r.forEach(e => \"layers\" in e && a.push(e.layers)), this.addHandles(a.map(e => this._watchUpdatingTracking.addOnCollectionChange(() => e, this._reschedule)), \"collection-change\"), this._workPromise.resolve(), this._workPromise = null;\n    };\n  }\n  initialize() {\n    this.addHandles([c(() => this.view?.map?.allLayers, \"change\", this._preloadLayerViewModules, {\n      onListenerAdd: this._preloadLayerViewModules\n    }), p(() => {\n      const e = this.view,\n        r = e?.map;\n      return [r?.basemap, r?.ground, r?.layers, e?.ready];\n    }, () => this._reschedule(), w)]), this._preloadLayerViewModules(), this._reschedule();\n  }\n  destroy() {\n    this.clear(), V(this._recyclingInfoMap), V(this._layerLayerViewInfoMap), this._watchUpdatingTracking.destroy(), this._map = null, null != this._workPromise && (this._workPromise.reject(l()), this._workPromise = null);\n  }\n  get _layersToLayerViews() {\n    const e = [[\"view.map.basemap.baseLayers\", \"view.basemapView.baseLayerViews\"], [\"view.map.layers\", \"view.layerViews\"], [\"view.map.basemap.referenceLayers\", \"view.basemapView.referenceLayerViews\"]];\n    return this.supportsGround && e.push([\"view.map.ground.layers\", \"view.groundView.layerViews\"]), new Map(e);\n  }\n  get _rootCollectionNames() {\n    return Array.from(this._layersToLayerViews.keys());\n  }\n  get updating() {\n    return null != this._workPromise || this._watchUpdatingTracking.updating || s(this._layerLayerViewInfoMap, e => !e.done) || this._recyclingInfoMap.size > 0;\n  }\n  get updatingRemaining() {\n    let e = 0;\n    for (const r of this._layerLayerViewInfoMap.values()) r.done || ++e;\n    return e;\n  }\n  clear() {\n    this.destroyed || (V(this._layerLayerViewInfoMap), this._refreshCollections());\n  }\n  async whenLayerView(e) {\n    if (await this._reschedule(), !this._layerLayerViewInfoMap.has(e)) {\n      if (this._recyclingInfoMap.has(e)) return this._recyclingInfoMap.get(e).promise;\n      throw new i(\"view:no-layerview-for-layer\", \"No layerview has been found for the layer\", {\n        layer: e\n      });\n    }\n    return this._layerLayerViewInfoMap.get(e).promise;\n  }\n  isCreatingLayerViewsForLayer(e, r) {\n    this.commitProperty(\"updatingRemaining\");\n    const i = this._layerLayerViewInfoMap.get(e);\n    if (!i?.done) return !0;\n    const t = i.layerView;\n    return !(!t || !r || t.parent === r) || !!(i.done && t && \"layers\" in e && e.layers?.length) && e.layers.some(e => this.isCreatingLayerViewsForLayer(e, t));\n  }\n  _refreshCollections() {\n    for (const [e, r] of this._layersToLayerViews) this._populateLayerViewsOwners(u(this, e), u(this, r), this.view);\n    this.notifyChange(\"updating\"), this.notifyChange(\"updatingRemaining\");\n  }\n  _populateLayerViewsOwners(e, r, i) {\n    if (!e || !r) return void (r && r.removeAll());\n    let t = 0;\n    for (const s of e) {\n      const e = this._layerLayerViewInfoMap.get(s);\n      if (!e?.layerView) continue;\n      const a = e.layerView;\n      a.layer = s, a.parent = i, r.at(t) !== a && r.splice(t, 0, a), \"layers\" in s && L(a) && this._populateLayerViewsOwners(s.layers, a.layerViews, a), t += 1;\n    }\n    t < r.length && r.splice(t, r.length);\n  }\n  _createLayerView(e) {\n    e.load().catch(() => {}), this.layerViewImporter.hasLayerViewModule(e) && this.layerViewImporter.importLayerView(e);\n    const r = new M(e, this.view, this.layerViewImporter);\n    r.promise.then(() => this._refreshCollections(), r => {\n      r && (n(r) || \"cancelled:layerview-create\" === r.name) || t.getLogger(this).error(`Failed to create layerview for layer title:'${e.title ?? \"no title\"}', id:'${e.id ?? \"no id\"}' of type '${e.type}'.`, {\n        layer: e,\n        error: r\n      }), this._refreshCollections();\n    }), this._layerLayerViewInfoMap.set(e, r), this.view.ready && r.start(), this.notifyChange(\"updating\"), this.notifyChange(\"updatingRemaining\");\n  }\n};\ne([m()], I.prototype, \"_workPromise\", void 0), e([m({\n  readOnly: !0\n})], I.prototype, \"_watchUpdatingTracking\", void 0), e([m({\n  readOnly: !0\n})], I.prototype, \"_layersToLayerViews\", null), e([m({\n  readOnly: !0\n})], I.prototype, \"_rootCollectionNames\", null), e([m()], I.prototype, \"layerViewImporter\", void 0), e([m()], I.prototype, \"supportsGround\", void 0), e([m({\n  readOnly: !0\n})], I.prototype, \"updating\", null), e([m({\n  readOnly: !0\n})], I.prototype, \"updatingRemaining\", null), e([m({\n  constructOnly: !0\n})], I.prototype, \"view\", void 0), I = e([f(\"esri.views.LayerViewManager\")], I);\nconst j = I;\nfunction C(e) {\n  return e.createLayerView !== g.prototype.createLayerView;\n}\nexport { j as default };","map":{"version":3,"names":["_","e","r","i","t","someMap","s","removeMaybe","a","createResolver","o","createAbortError","l","isAbortError","n","onAbort","y","throwIfAborted","h","on","c","watch","p","syncAndInitial","w","schedule","d","property","m","subclass","f","get","u","UpdatingHandles","g","destroyMap","V","v","L","M","constructor","layer","view","layerViewImporter","_controller","AbortController","_deferred","_started","done","promise","signal","reject","tryRecycle","layerView","type","length","tryRecycleWith","splice","Promise","race","then","emit","destroy","abort","_map","start","map","load","prefetchResources","C","createLayerView","hasLayerViewModule","importLayerView","default","destroyed","parent","when","allLayers","includes","resolve","error","I","_layerLayerViewInfoMap","Map","_recyclingInfoMap","_watchUpdatingTracking","supportsGround","_preloadLayerViewModules","_reschedule","_workPromise","catch","removeHandles","addHandles","_doWork","clear","notifyChange","Set","ready","add","has","push","layers","_rootCollectionNames","delete","set","_createLayerView","_refreshCollections","ground","basemap","baseLayers","referenceLayers","filter","forEach","addOnCollectionChange","initialize","onListenerAdd","_layersToLayerViews","Array","from","keys","updating","size","updatingRemaining","values","whenLayerView","isCreatingLayerViewsForLayer","commitProperty","some","_populateLayerViewsOwners","removeAll","at","layerViews","name","getLogger","title","id","prototype","readOnly","constructOnly","j"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/LayerViewManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Accessor.js\";import i from\"../core/Error.js\";import t from\"../core/Logger.js\";import{someMap as s}from\"../core/MapUtils.js\";import{removeMaybe as a}from\"../core/maybe.js\";import{createResolver as o,createAbortError as l,isAbortError as n,onAbort as y,throwIfAborted as h}from\"../core/promiseUtils.js\";import{on as c,watch as p,syncAndInitial as w}from\"../core/reactiveUtils.js\";import{schedule as d}from\"../core/scheduling.js\";import{property as m}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as f}from\"../core/accessorSupport/decorators/subclass.js\";import{get as u}from\"../core/accessorSupport/get.js\";import{UpdatingHandles as _}from\"../core/support/UpdatingHandles.js\";import g from\"../layers/Layer.js\";import{destroyMap as V}from\"../support/collectionUtils.js\";function v(e){return\"tryRecycleWith\"in e}function L(e){return null!=e&&\"object\"==typeof e&&\"layerViews\"in e}class M{constructor(e,r,t){this.layer=e,this.view=r,this.layerViewImporter=t,this._controller=new AbortController,this._deferred=o(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,y(this._controller.signal,(()=>{const r=new i(\"cancelled:layerview-create\",\"layerview creation cancelled\",{layer:e});this._deferred.reject(r)}))}tryRecycle(e){if(!this.done||!this.layerView||!v(this.layerView))return null;const r=this.layer.type,i=this._controller.signal;for(let t=0;t<e.length;t++){const s=e[t];if(s.type!==r)continue;const a=this.layerView.tryRecycleWith(s,{signal:i});if(a){e.splice(t,1),this.layer=s;const r=this.layerView,i=r.view;return this.promise=Promise.race([a.then((()=>(h(this._controller.signal),s.emit(\"layerview-destroy\",{view:i,layerView:r}),i.emit(\"layerview-destroy\",{view:i,layerView:r}),s.emit(\"layerview-create\",{view:i,layerView:r}),i.emit(\"layerview-create\",{view:i,layerView:r}),r))),new Promise(((e,r)=>y(this._controller.signal,(()=>r(l())))))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:r,view:i}=this;r.emit(\"layerview-destroy\",{view:i,layerView:e}),i.emit(\"layerview-destroy\",{layer:r,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:e},layer:r,view:t}=this;this._map=t.map;try{let o,l;if(await r.load({signal:e}),r.prefetchResources&&await r.prefetchResources({signal:e}),C(r))o=await r.createLayerView(t,{signal:e});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new i(\"layer:view-not-supported\",\"No layerview implementation was found\");const s=await this.layerViewImporter.importLayerView(r);h(e),o=\"default\"in s?new s.default({layer:r,view:t}):new s({layer:r,view:t})}const n=()=>{l=a(l),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};l=y(e,n),h(e);try{await o.when()}catch(s){throw n(),s}const c=this._map?.allLayers?.includes(r);if(!c)return n(),void this._deferred.reject(new i(\"view:no-layerview-for-layer\",\"The layer has been removed from the map\",{layer:r}));this.layerView=o,r.emit(\"layerview-create\",{view:t,layerView:o}),t.emit(\"layerview-create\",{layer:r,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(s){r.emit(\"layerview-create-error\",{view:t,error:s}),t.emit(\"layerview-create-error\",{layer:r,error:s}),this.done=!0,this._deferred.reject(new i(\"layerview:create-error\",\"layerview creation failed\",{layer:r,error:s}))}}}let I=class extends r{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new _,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const e=this.view.map?.allLayers;if(e)for(const r of e)this.layerViewImporter.hasLayerViewModule(r)&&this.layerViewImporter.importLayerView(r)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=o(),this._workPromise.promise.catch((()=>{}))),this.removeHandles(\"reschedule\"),this.addHandles(d(this._doWork),\"reschedule\"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const e=this.view.map;if(this._map!==e&&(this.clear(),this._map=e),null==this._workPromise)return void this.notifyChange(\"updating\");this.removeHandles(\"reschedule\"),this.removeHandles(\"collection-change\");const r=new Set,i=[],t=this.view.ready,s=e=>{if(null!=e)for(const a of e)if(a){r.add(a);const e=this._layerLayerViewInfoMap.get(a);e&&t?e.start():e||this._recyclingInfoMap.has(a)||i.push(a),\"layers\"in a&&a.layers&&s(a.layers)}};for(const o of this._rootCollectionNames)s(u(this,o));for(const[o,l]of this._layerLayerViewInfoMap)if(!r.has(o)){this._layerLayerViewInfoMap.delete(l.layer);const e=l.tryRecycle(i);e?(this.notifyChange(\"updating\"),this._recyclingInfoMap.set(l.layer,l),e.then((()=>{this.notifyChange(\"updating\"),this._recyclingInfoMap.delete(l.layer),this._layerLayerViewInfoMap.set(l.layer,l),this._reschedule()})).catch((()=>{this.notifyChange(\"updating\"),this._recyclingInfoMap.delete(l.layer),l.destroy(),this._reschedule()}))):l.destroy()}for(const[o,l]of this._recyclingInfoMap)r.has(o)||(this.notifyChange(\"updating\"),this._recyclingInfoMap.delete(l.layer),l.destroy());for(const o of i)this._createLayerView(o);this._refreshCollections();const a=[e?.ground?.layers,e?.basemap?.baseLayers,e?.basemap?.referenceLayers,e?.layers].filter((e=>!!e));r.forEach((e=>\"layers\"in e&&a.push(e.layers))),this.addHandles(a.map((e=>this._watchUpdatingTracking.addOnCollectionChange((()=>e),this._reschedule))),\"collection-change\"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([c((()=>this.view?.map?.allLayers),\"change\",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),p((()=>{const e=this.view,r=e?.map;return[r?.basemap,r?.ground,r?.layers,e?.ready]}),(()=>this._reschedule()),w)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),V(this._recyclingInfoMap),V(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject(l()),this._workPromise=null)}get _layersToLayerViews(){const e=[[\"view.map.basemap.baseLayers\",\"view.basemapView.baseLayerViews\"],[\"view.map.layers\",\"view.layerViews\"],[\"view.map.basemap.referenceLayers\",\"view.basemapView.referenceLayerViews\"]];return this.supportsGround&&e.push([\"view.map.ground.layers\",\"view.groundView.layerViews\"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||s(this._layerLayerViewInfoMap,(e=>!e.done))||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++e;return e}clear(){this.destroyed||(V(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise;throw new i(\"view:no-layerview-for-layer\",\"No layerview has been found for the layer\",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}isCreatingLayerViewsForLayer(e,r){this.commitProperty(\"updatingRemaining\");const i=this._layerLayerViewInfoMap.get(e);if(!i?.done)return!0;const t=i.layerView;return!(!t||!r||t.parent===r)||!!(i.done&&t&&\"layers\"in e&&e.layers?.length)&&e.layers.some((e=>this.isCreatingLayerViewsForLayer(e,t)))}_refreshCollections(){for(const[e,r]of this._layersToLayerViews)this._populateLayerViewsOwners(u(this,e),u(this,r),this.view);this.notifyChange(\"updating\"),this.notifyChange(\"updatingRemaining\")}_populateLayerViewsOwners(e,r,i){if(!e||!r)return void(r&&r.removeAll());let t=0;for(const s of e){const e=this._layerLayerViewInfoMap.get(s);if(!e?.layerView)continue;const a=e.layerView;a.layer=s,a.parent=i,r.at(t)!==a&&r.splice(t,0,a),\"layers\"in s&&L(a)&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),t+=1}t<r.length&&r.splice(t,r.length)}_createLayerView(e){e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const r=new M(e,this.view,this.layerViewImporter);r.promise.then((()=>this._refreshCollections()),(r=>{r&&(n(r)||\"cancelled:layerview-create\"===r.name)||t.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??\"no title\"}', id:'${e.id??\"no id\"}' of type '${e.type}'.`,{layer:e,error:r}),this._refreshCollections()})),this._layerLayerViewInfoMap.set(e,r),this.view.ready&&r.start(),this.notifyChange(\"updating\"),this.notifyChange(\"updatingRemaining\")}};e([m()],I.prototype,\"_workPromise\",void 0),e([m({readOnly:!0})],I.prototype,\"_watchUpdatingTracking\",void 0),e([m({readOnly:!0})],I.prototype,\"_layersToLayerViews\",null),e([m({readOnly:!0})],I.prototype,\"_rootCollectionNames\",null),e([m()],I.prototype,\"layerViewImporter\",void 0),e([m()],I.prototype,\"supportsGround\",void 0),e([m({readOnly:!0})],I.prototype,\"updating\",null),e([m({readOnly:!0})],I.prototype,\"updatingRemaining\",null),e([m({constructOnly:!0})],I.prototype,\"view\",void 0),I=e([f(\"esri.views.LayerViewManager\")],I);const j=I;function C(e){return e.createLayerView!==g.prototype.createLayerView}export{j as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}