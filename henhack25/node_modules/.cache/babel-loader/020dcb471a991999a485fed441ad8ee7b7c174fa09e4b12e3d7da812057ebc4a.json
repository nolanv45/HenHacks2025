{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/pbf.js\";\nimport { isAborted as t } from \"../../../../core/promiseUtils.js\";\nimport { loadLibtess as r } from \"../../../../geometry/libtess.js\";\nimport { TileClipper as s, SimpleBuilder as i } from \"../../../../geometry/support/TileClipper.js\";\nimport o from \"./Feature.js\";\nimport { getTileMargins as c } from \"./GeometryUtils.js\";\nimport { TriangleIndexBuffer as n } from \"./IndexMemoryBuffer.js\";\nimport l from \"./SourceLayerData.js\";\nimport { FillVertexBuffer as a, OutlineVertexBuffer as u, LineVertexBuffer as f, CircleVertexBuffer as p, SymbolVertexBuffer as h } from \"./VertexMemoryBuffer.js\";\nimport m from \"./buckets/CircleBucket.js\";\nimport _ from \"./buckets/FillBucket.js\";\nimport y from \"./buckets/LineBucket.js\";\nimport d from \"./buckets/SymbolBucket.js\";\nimport { StyleLayerType as k } from \"./style/StyleDefinition.js\";\nimport { TileStatus as T } from \"../../tiling/enums.js\";\nclass g {\n  constructor(t, r, o, n, l, a) {\n    if (this._pbfTiles = {}, this._tileClippers = {}, this._client = o, this._tile = r, this._sourceDataMaxLOD = n, a) {\n      this._styleLayerUIDs = new Set();\n      for (const e of a) this._styleLayerUIDs.add(e);\n    }\n    this._styleRepository = l, this._layers = this._styleRepository?.layers ?? [];\n    const [u, f, p] = r.tileKey.split(\"/\").map(parseFloat);\n    this._level = u;\n    const h = c(this._level);\n    for (const c of Object.keys(t)) {\n      const r = t[c];\n      this._pbfTiles[c] = new e(new Uint8Array(r.protobuff), new DataView(r.protobuff));\n      if (r.refKey) {\n        const [e] = r.refKey.split(\"/\").map(parseFloat),\n          t = u - e;\n        if (t > 0) {\n          const e = (1 << t) - 1,\n            r = f & e,\n            i = p & e;\n          this._tileClippers[c] = new s(t, r, i, 8, h);\n        }\n      }\n      this._tileClippers[c] || (this._tileClippers[c] = new i());\n    }\n  }\n  _canParseStyleLayer(e) {\n    return !this._styleLayerUIDs || this._styleLayerUIDs.has(e);\n  }\n  async parse(e) {\n    const t = r(),\n      s = this._initialize(e),\n      {\n        returnedBuckets: i\n      } = s;\n    this._processLayers(s), this._linkReferences(s), this._filterFeatures(s);\n    const o = [],\n      c = new Set(),\n      n = (e, t) => {\n        c.has(e) || (o.push({\n          name: e,\n          repeat: t\n        }), c.add(e));\n      },\n      l = {};\n    for (const r of i) r.getResources(r.tileClipper, n, l);\n    if (this._tile.status === T.INVALID) return [];\n    const a = this._fetchResources(o, l, e);\n    return Promise.all([...a, t]).then(() => this._processFeatures(s.returnedBuckets));\n  }\n  _initialize(e) {\n    const t = e?.signal;\n    return {\n      signal: t,\n      sourceNameToTileData: this._parseTileData(this._pbfTiles),\n      layers: this._layers,\n      zoom: this._level,\n      sourceNameToTileClipper: this._tileClippers,\n      sourceNameToUniqueSourceLayerBuckets: {},\n      sourceNameToUniqueSourceLayers: {},\n      returnedBuckets: [],\n      layerIdToBucket: {},\n      referencerUIDToReferencedId: new Map()\n    };\n  }\n  _processLayers(e) {\n    const {\n        sourceNameToTileData: t,\n        zoom: r,\n        layers: s,\n        sourceNameToTileClipper: i,\n        sourceNameToUniqueSourceLayerBuckets: o,\n        sourceNameToUniqueSourceLayers: c,\n        returnedBuckets: n,\n        layerIdToBucket: l,\n        referencerUIDToReferencedId: a\n      } = e,\n      u = this._sourceDataMaxLOD;\n    for (let f = s.length - 1; f >= 0; f--) {\n      const e = s[f];\n      if (r < u) {\n        if (e.minzoom && r < Math.floor(e.minzoom) || e.maxzoom && r >= e.maxzoom) continue;\n      } else if (e.maxzoom && r >= e.maxzoom) continue;\n      if (e.type === k.BACKGROUND || !this._canParseStyleLayer(e.uid) || !t[e.source] || !i[e.source]) continue;\n      const p = t[e.source],\n        h = i[e.source],\n        m = e.sourceLayer,\n        _ = p[m];\n      if (_) {\n        let t = c[e.source];\n        if (t || (t = c[e.source] = new Set()), t.add(e.sourceLayer), e.refLayerId) a.set(e.uid, e.refLayerId);else {\n          const t = this._createBucket(e);\n          if (t) {\n            t.layerUIDs = [e.uid], t.layerExtent = _.extent, t.tileClipper = h;\n            let r = o[e.source];\n            r || (r = o[e.source] = {});\n            let s = r[m];\n            s || (s = r[m] = []), s.push(t), n.push(t), l[e.id] = t;\n          }\n        }\n      }\n    }\n  }\n  _linkReferences(e) {\n    const {\n      layerIdToBucket: t,\n      referencerUIDToReferencedId: r\n    } = e;\n    r.forEach((e, r) => {\n      t[e] && t[e].layerUIDs.push(r);\n    });\n  }\n  _filterFeatures(e) {\n    const {\n        signal: r,\n        sourceNameToTileData: s,\n        sourceNameToUniqueSourceLayerBuckets: i,\n        sourceNameToUniqueSourceLayers: c\n      } = e,\n      n = 10 * this._level,\n      l = 10 * (this._level + 1),\n      a = [],\n      u = [];\n    for (const t of Object.keys(c)) {\n      c[t].forEach(e => {\n        a.push(e), u.push(t);\n      });\n    }\n    for (let f = 0; f < a.length; f++) {\n      const e = u[f],\n        c = a[f];\n      if (!s[e] || !i[e]) continue;\n      const p = s[e][c],\n        h = i[e][c];\n      if (!h || 0 === h.length) continue;\n      if (t(r)) return;\n      let m = 0;\n      const _ = p.getData();\n      for (; _.nextTag(2);) {\n        const e = _.getMessage(),\n          t = new o(e, p, m++);\n        e.release();\n        const r = t.values;\n        if (r) {\n          const e = r._minzoom;\n          if (e && e >= l) continue;\n          const t = r._maxzoom;\n          if (t && t <= n) continue;\n        }\n        for (const s of h) s.pushFeature(t);\n      }\n    }\n  }\n  _fetchResources(e, t, r) {\n    const s = [],\n      i = this._tile.getWorkerTileHandler();\n    let o, c;\n    e.length > 0 && (o = i.fetchSprites(e, this._client, r), s.push(o));\n    for (const n in t) {\n      const e = t[n];\n      e.size > 0 && (c = i.fetchGlyphs(this._tile.tileKey, n, e, this._client, r), s.push(c));\n    }\n    return s;\n  }\n  _processFeatures(e) {\n    const t = e.filter(e => e.hasFeatures() || this._canParseStyleLayer(e.layer.uid));\n    for (const r of t) r.processFeatures(r.tileClipper);\n    return t;\n  }\n  _parseTileData(e) {\n    const t = {};\n    for (const r of Object.keys(e)) {\n      const s = e[r],\n        i = {};\n      for (; s.next();) switch (s.tag()) {\n        case 3:\n          {\n            const e = s.getMessage(),\n              t = new l(e);\n            e.release(), i[t.name] = t;\n            break;\n          }\n        default:\n          s.skip();\n      }\n      t[r] = i;\n    }\n    return t;\n  }\n  _createBucket(e) {\n    switch (e.type) {\n      case k.BACKGROUND:\n        return null;\n      case k.FILL:\n        return this._createFillBucket(e);\n      case k.LINE:\n        return this._createLineBucket(e);\n      case k.CIRCLE:\n        return this._createCircleBucket(e);\n      case k.SYMBOL:\n        return this._createSymbolBucket(e);\n    }\n  }\n  _createFillBucket(e) {\n    return new _(e, this._level, this._tile.getWorkerTileHandler().getSpriteItems(), new a(e.fillMaterial.getStride()), new n(), new u(e.outlineMaterial.getStride()), new n());\n  }\n  _createLineBucket(e) {\n    return new y(e, this._level, this._tile.getWorkerTileHandler().getSpriteItems(), new f(e.lineMaterial.getStride()), new n());\n  }\n  _createCircleBucket(e) {\n    return new m(e, this._level, this._tile.getWorkerTileHandler().getSpriteItems(), new p(e.circleMaterial.getStride()), new n());\n  }\n  _createSymbolBucket(e) {\n    const t = this._tile;\n    return new d(t.tileKey, e, this._level, new h(e.iconMaterial.getStride()), new n(), new h(e.textMaterial.getStride()), new n(), t.placementEngine, t.getWorkerTileHandler());\n  }\n}\nexport { g as default };","map":{"version":3,"names":["e","isAborted","t","loadLibtess","r","TileClipper","s","SimpleBuilder","i","o","getTileMargins","c","TriangleIndexBuffer","n","l","FillVertexBuffer","a","OutlineVertexBuffer","u","LineVertexBuffer","f","CircleVertexBuffer","p","SymbolVertexBuffer","h","m","_","y","d","StyleLayerType","k","TileStatus","T","g","constructor","_pbfTiles","_tileClippers","_client","_tile","_sourceDataMaxLOD","_styleLayerUIDs","Set","add","_styleRepository","_layers","layers","tileKey","split","map","parseFloat","_level","Object","keys","Uint8Array","protobuff","DataView","refKey","_canParseStyleLayer","has","parse","_initialize","returnedBuckets","_processLayers","_linkReferences","_filterFeatures","push","name","repeat","getResources","tileClipper","status","INVALID","_fetchResources","Promise","all","then","_processFeatures","signal","sourceNameToTileData","_parseTileData","zoom","sourceNameToTileClipper","sourceNameToUniqueSourceLayerBuckets","sourceNameToUniqueSourceLayers","layerIdToBucket","referencerUIDToReferencedId","Map","length","minzoom","Math","floor","maxzoom","type","BACKGROUND","uid","source","sourceLayer","refLayerId","set","_createBucket","layerUIDs","layerExtent","extent","id","forEach","getData","nextTag","getMessage","release","values","_minzoom","_maxzoom","pushFeature","getWorkerTileHandler","fetchSprites","size","fetchGlyphs","filter","hasFeatures","layer","processFeatures","next","tag","skip","FILL","_createFillBucket","LINE","_createLineBucket","CIRCLE","_createCircleBucket","SYMBOL","_createSymbolBucket","getSpriteItems","fillMaterial","getStride","outlineMaterial","lineMaterial","circleMaterial","iconMaterial","textMaterial","placementEngine","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileParser.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/pbf.js\";import{isAborted as t}from\"../../../../core/promiseUtils.js\";import{loadLibtess as r}from\"../../../../geometry/libtess.js\";import{TileClipper as s,SimpleBuilder as i}from\"../../../../geometry/support/TileClipper.js\";import o from\"./Feature.js\";import{getTileMargins as c}from\"./GeometryUtils.js\";import{TriangleIndexBuffer as n}from\"./IndexMemoryBuffer.js\";import l from\"./SourceLayerData.js\";import{FillVertexBuffer as a,OutlineVertexBuffer as u,LineVertexBuffer as f,CircleVertexBuffer as p,SymbolVertexBuffer as h}from\"./VertexMemoryBuffer.js\";import m from\"./buckets/CircleBucket.js\";import _ from\"./buckets/FillBucket.js\";import y from\"./buckets/LineBucket.js\";import d from\"./buckets/SymbolBucket.js\";import{StyleLayerType as k}from\"./style/StyleDefinition.js\";import{TileStatus as T}from\"../../tiling/enums.js\";class g{constructor(t,r,o,n,l,a){if(this._pbfTiles={},this._tileClippers={},this._client=o,this._tile=r,this._sourceDataMaxLOD=n,a){this._styleLayerUIDs=new Set;for(const e of a)this._styleLayerUIDs.add(e)}this._styleRepository=l,this._layers=this._styleRepository?.layers??[];const[u,f,p]=r.tileKey.split(\"/\").map(parseFloat);this._level=u;const h=c(this._level);for(const c of Object.keys(t)){const r=t[c];this._pbfTiles[c]=new e(new Uint8Array(r.protobuff),new DataView(r.protobuff));if(r.refKey){const[e]=r.refKey.split(\"/\").map(parseFloat),t=u-e;if(t>0){const e=(1<<t)-1,r=f&e,i=p&e;this._tileClippers[c]=new s(t,r,i,8,h)}}this._tileClippers[c]||(this._tileClippers[c]=new i)}}_canParseStyleLayer(e){return!this._styleLayerUIDs||this._styleLayerUIDs.has(e)}async parse(e){const t=r(),s=this._initialize(e),{returnedBuckets:i}=s;this._processLayers(s),this._linkReferences(s),this._filterFeatures(s);const o=[],c=new Set,n=(e,t)=>{c.has(e)||(o.push({name:e,repeat:t}),c.add(e))},l={};for(const r of i)r.getResources(r.tileClipper,n,l);if(this._tile.status===T.INVALID)return[];const a=this._fetchResources(o,l,e);return Promise.all([...a,t]).then((()=>this._processFeatures(s.returnedBuckets)))}_initialize(e){const t=e?.signal;return{signal:t,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}_processLayers(e){const{sourceNameToTileData:t,zoom:r,layers:s,sourceNameToTileClipper:i,sourceNameToUniqueSourceLayerBuckets:o,sourceNameToUniqueSourceLayers:c,returnedBuckets:n,layerIdToBucket:l,referencerUIDToReferencedId:a}=e,u=this._sourceDataMaxLOD;for(let f=s.length-1;f>=0;f--){const e=s[f];if(r<u){if(e.minzoom&&r<Math.floor(e.minzoom)||e.maxzoom&&r>=e.maxzoom)continue}else if(e.maxzoom&&r>=e.maxzoom)continue;if(e.type===k.BACKGROUND||!this._canParseStyleLayer(e.uid)||!t[e.source]||!i[e.source])continue;const p=t[e.source],h=i[e.source],m=e.sourceLayer,_=p[m];if(_){let t=c[e.source];if(t||(t=c[e.source]=new Set),t.add(e.sourceLayer),e.refLayerId)a.set(e.uid,e.refLayerId);else{const t=this._createBucket(e);if(t){t.layerUIDs=[e.uid],t.layerExtent=_.extent,t.tileClipper=h;let r=o[e.source];r||(r=o[e.source]={});let s=r[m];s||(s=r[m]=[]),s.push(t),n.push(t),l[e.id]=t}}}}}_linkReferences(e){const{layerIdToBucket:t,referencerUIDToReferencedId:r}=e;r.forEach(((e,r)=>{t[e]&&t[e].layerUIDs.push(r)}))}_filterFeatures(e){const{signal:r,sourceNameToTileData:s,sourceNameToUniqueSourceLayerBuckets:i,sourceNameToUniqueSourceLayers:c}=e,n=10*this._level,l=10*(this._level+1),a=[],u=[];for(const t of Object.keys(c)){c[t].forEach((e=>{a.push(e),u.push(t)}))}for(let f=0;f<a.length;f++){const e=u[f],c=a[f];if(!s[e]||!i[e])continue;const p=s[e][c],h=i[e][c];if(!h||0===h.length)continue;if(t(r))return;let m=0;const _=p.getData();for(;_.nextTag(2);){const e=_.getMessage(),t=new o(e,p,m++);e.release();const r=t.values;if(r){const e=r._minzoom;if(e&&e>=l)continue;const t=r._maxzoom;if(t&&t<=n)continue}for(const s of h)s.pushFeature(t)}}}_fetchResources(e,t,r){const s=[],i=this._tile.getWorkerTileHandler();let o,c;e.length>0&&(o=i.fetchSprites(e,this._client,r),s.push(o));for(const n in t){const e=t[n];e.size>0&&(c=i.fetchGlyphs(this._tile.tileKey,n,e,this._client,r),s.push(c))}return s}_processFeatures(e){const t=e.filter((e=>e.hasFeatures()||this._canParseStyleLayer(e.layer.uid)));for(const r of t)r.processFeatures(r.tileClipper);return t}_parseTileData(e){const t={};for(const r of Object.keys(e)){const s=e[r],i={};for(;s.next();)switch(s.tag()){case 3:{const e=s.getMessage(),t=new l(e);e.release(),i[t.name]=t;break}default:s.skip()}t[r]=i}return t}_createBucket(e){switch(e.type){case k.BACKGROUND:return null;case k.FILL:return this._createFillBucket(e);case k.LINE:return this._createLineBucket(e);case k.CIRCLE:return this._createCircleBucket(e);case k.SYMBOL:return this._createSymbolBucket(e)}}_createFillBucket(e){return new _(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new a(e.fillMaterial.getStride()),new n,new u(e.outlineMaterial.getStride()),new n)}_createLineBucket(e){return new y(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new f(e.lineMaterial.getStride()),new n)}_createCircleBucket(e){return new m(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new p(e.circleMaterial.getStride()),new n)}_createSymbolBucket(e){const t=this._tile;return new d(t.tileKey,e,this._level,new h(e.iconMaterial.getStride()),new n,new h(e.textMaterial.getStride()),new n,t.placementEngine,t.getWorkerTileHandler())}}export{g as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}