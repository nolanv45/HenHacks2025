{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"./BaseRasterFunction.js\";\nimport e from \"./ContrastBrightnessFunctionArguments.js\";\nimport { lookupPixels as n } from \"./pixelUtils.js\";\nimport { createContrastBrightnessLUT as i } from \"./stretchUtils.js\";\nlet u = class extends o {\n  constructor() {\n    super(...arguments), this.functionName = \"ContrastBrightness\", this.functionArguments = null, this.rasterArgumentNames = [\"raster\"], this.lookup = null;\n  }\n  _bindSourceRasters() {\n    const {\n        sourceRasterInfos: t\n      } = this,\n      s = t[0];\n    if (\"u8\" !== s.pixelType) return {\n      success: !1,\n      supportsGPU: !1,\n      error: \"Only unsigned 8 bit raster is supported by ContrastBrightness function.\"\n    };\n    this.outputPixelType = this._getOutputPixelType(\"u8\");\n    const r = s.clone();\n    this._removeStatsHistColormapVAT(r), this.rasterInfo = r;\n    const {\n      contrastOffset: o,\n      brightnessOffset: e\n    } = this.functionArguments;\n    return this.lookup = i(o, e), {\n      success: !0,\n      supportsGPU: !0\n    };\n  }\n  _processPixels(t) {\n    const s = t.pixelBlocks?.[0];\n    return null == s ? null : n(s, {\n      lut: s.pixels.map(() => this.lookup),\n      offset: 0,\n      outputPixelType: \"u8\"\n    });\n  }\n  _getWebGLParameters() {\n    const {\n      contrastOffset: t,\n      brightnessOffset: s\n    } = this.functionArguments;\n    return {\n      contrastOffset: t,\n      brightnessOffset: s\n    };\n  }\n};\nt([s({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], u.prototype, \"functionName\", void 0), t([s({\n  type: e,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], u.prototype, \"functionArguments\", void 0), t([s()], u.prototype, \"rasterArgumentNames\", void 0), t([s({\n  json: {\n    write: !0\n  }\n})], u.prototype, \"lookup\", void 0), u = t([r(\"esri.layers.support.rasterFunctions.ContrastBrightnessFunction\")], u);\nconst p = u;\nexport { p as default };","map":{"version":3,"names":["_","t","property","s","subclass","r","o","e","lookupPixels","n","createContrastBrightnessLUT","i","u","constructor","arguments","functionName","functionArguments","rasterArgumentNames","lookup","_bindSourceRasters","sourceRasterInfos","pixelType","success","supportsGPU","error","outputPixelType","_getOutputPixelType","clone","_removeStatsHistColormapVAT","rasterInfo","contrastOffset","brightnessOffset","_processPixels","pixelBlocks","lut","pixels","map","offset","_getWebGLParameters","json","write","name","prototype","type","p","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/rasterFunctions/ContrastBrightnessFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"./BaseRasterFunction.js\";import e from\"./ContrastBrightnessFunctionArguments.js\";import{lookupPixels as n}from\"./pixelUtils.js\";import{createContrastBrightnessLUT as i}from\"./stretchUtils.js\";let u=class extends o{constructor(){super(...arguments),this.functionName=\"ContrastBrightness\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"],this.lookup=null}_bindSourceRasters(){const{sourceRasterInfos:t}=this,s=t[0];if(\"u8\"!==s.pixelType)return{success:!1,supportsGPU:!1,error:\"Only unsigned 8 bit raster is supported by ContrastBrightness function.\"};this.outputPixelType=this._getOutputPixelType(\"u8\");const r=s.clone();this._removeStatsHistColormapVAT(r),this.rasterInfo=r;const{contrastOffset:o,brightnessOffset:e}=this.functionArguments;return this.lookup=i(o,e),{success:!0,supportsGPU:!0}}_processPixels(t){const s=t.pixelBlocks?.[0];return null==s?null:n(s,{lut:s.pixels.map((()=>this.lookup)),offset:0,outputPixelType:\"u8\"})}_getWebGLParameters(){const{contrastOffset:t,brightnessOffset:s}=this.functionArguments;return{contrastOffset:t,brightnessOffset:s}}};t([s({json:{write:!0,name:\"rasterFunction\"}})],u.prototype,\"functionName\",void 0),t([s({type:e,json:{write:!0,name:\"rasterFunctionArguments\"}})],u.prototype,\"functionArguments\",void 0),t([s()],u.prototype,\"rasterArgumentNames\",void 0),t([s({json:{write:!0}})],u.prototype,\"lookup\",void 0),u=t([r(\"esri.layers.support.rasterFunctions.ContrastBrightnessFunction\")],u);const p=u;export{p as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}