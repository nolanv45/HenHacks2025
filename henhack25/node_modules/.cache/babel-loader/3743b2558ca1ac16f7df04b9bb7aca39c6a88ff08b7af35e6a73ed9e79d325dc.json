{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { ZEROS as t } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { newLayout as r } from \"../../support/buffer/InterleavedLayout.js\";\nimport { isColorOrColorEmissionOrOID as e, isDepth as s, is2DGeometryOutput as i, isColorOrColorEmission as a, ShaderOutput as o } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { olidEnabled as n } from \"../effects/geometry/olidUtils.js\";\nimport { CullFaceOptions as h } from \"../lib/basicInterfaces.js\";\nimport p from \"../lib/GLMaterial.js\";\nimport { OITPolygonOffsetLimit as l } from \"../lib/OrderIndependentTransparency.js\";\nimport { RenderSlot as u } from \"../lib/RenderSlot.js\";\nimport { VertexAttribute as c } from \"../lib/VertexAttribute.js\";\nimport { DefaultBufferWriter as f } from \"./DefaultBufferWriter.js\";\nimport { TriangleMaterial as m } from \"./TriangleMaterial.js\";\nimport { VisualVariablePassParameters as _ } from \"./VisualVariablePassParameters.js\";\nimport { ColorMaterialTechnique as g } from \"../shaders/ColorMaterialTechnique.js\";\nimport { ColorMaterialTechniqueConfiguration as T } from \"../shaders/ColorMaterialTechniqueConfiguration.js\";\nimport { alphaCutoff as O } from \"../../../../webscene/support/AlphaCutoff.js\";\nclass A extends m {\n  constructor(t) {\n    super(t, P), this._configuration = new T(), this.supportsEdges = !0, this.produces = new Map([[u.OPAQUE_MATERIAL, t => this._isOpaqueMaterialPass(t)], [u.OPAQUE_MATERIAL_WITHOUT_NORMALS, t => this._isOpaqueNoSSAODepthPass(t)], [u.TRANSPARENT_MATERIAL, t => e(t) && this._transparent && this.parameters.writeDepth], [u.TRANSPARENT_MATERIAL_WITHOUT_NORMALS, t => s(t) && this._transparent && this.parameters.writeDepth], [u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH, t => e(t) && this._transparent && !this.parameters.writeDepth], [u.DRAPED_MATERIAL, t => i(t)]]);\n  }\n  getConfiguration(t, r) {\n    return this._configuration.output = t, this._configuration.cullFace = this.parameters.cullFace, this._configuration.hasVertexColors = this.parameters.hasVertexColors && !this.parameters.vvColor, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.transparent = this._transparent, this._configuration.discardInvisibleFragments = this._transparent && !this._isOpaquePass(t) && this.parameters.discardInvisibleFragments, this._configuration.polygonOffset = this.parameters.polygonOffset, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.hasOccludees = r.hasOccludees, this._configuration.oitPass = r.oitPass, this._configuration.enableOffset = r.camera.relativeElevation < l, this._configuration.terrainDepthTest = r.terrainDepthTest && a(t), this._configuration.cullAboveTerrain = r.cullAboveTerrain, this._configuration.vvColor = !!this.parameters.vvColor, this._configuration.draped = this.parameters.draped, this._configuration;\n  }\n  get visible() {\n    return this.parameters.color[3] >= O;\n  }\n  get _transparent() {\n    return this.parameters.color[3] < 1 || this.parameters.forceTransparentMode;\n  }\n  _isOpaquePass(t) {\n    return this._isOpaqueMaterialPass(t) || this._isOpaqueNoSSAODepthPass(t);\n  }\n  _isOpaqueMaterialPass(t) {\n    return t === o.Highlight || e(t) && !this._transparent;\n  }\n  _isOpaqueNoSSAODepthPass(t) {\n    return s(t) && this.parameters.writeDepth && !this._transparent;\n  }\n  createGLMaterial(t) {\n    return new d(t);\n  }\n  createBufferWriter() {\n    const t = r().vec3f(c.POSITION);\n    return n() && t.vec4u8(c.OBJECTANDLAYERIDCOLOR), this.parameters.vvColor ? t.f32(c.COLORFEATUREATTRIBUTE) : t.vec4u8(c.COLOR), new f(t);\n  }\n}\nclass d extends p {\n  beginSlot(t) {\n    return this.getTechnique(g, t);\n  }\n}\nclass P extends _ {\n  constructor() {\n    super(...arguments), this.color = t, this.forceTransparentMode = !1, this.writeDepth = !0, this.hasVertexColors = !1, this.polygonOffset = !1, this.hasSlicePlane = !1, this.cullFace = h.None, this.draped = !1, this.discardInvisibleFragments = !1;\n  }\n}\nexport { A as ColorMaterial, P as Parameters };","map":{"version":3,"names":["ZEROS","t","newLayout","r","isColorOrColorEmissionOrOID","e","isDepth","s","is2DGeometryOutput","i","isColorOrColorEmission","a","ShaderOutput","o","olidEnabled","n","CullFaceOptions","h","p","OITPolygonOffsetLimit","l","RenderSlot","u","VertexAttribute","c","DefaultBufferWriter","f","TriangleMaterial","m","VisualVariablePassParameters","_","ColorMaterialTechnique","g","ColorMaterialTechniqueConfiguration","T","alphaCutoff","O","A","constructor","P","_configuration","supportsEdges","produces","Map","OPAQUE_MATERIAL","_isOpaqueMaterialPass","OPAQUE_MATERIAL_WITHOUT_NORMALS","_isOpaqueNoSSAODepthPass","TRANSPARENT_MATERIAL","_transparent","parameters","writeDepth","TRANSPARENT_MATERIAL_WITHOUT_NORMALS","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","output","cullFace","hasVertexColors","vvColor","hasSlicePlane","transparent","discardInvisibleFragments","_isOpaquePass","polygonOffset","hasOccludees","oitPass","enableOffset","camera","relativeElevation","terrainDepthTest","cullAboveTerrain","draped","visible","color","forceTransparentMode","Highlight","createGLMaterial","d","createBufferWriter","vec3f","POSITION","vec4u8","OBJECTANDLAYERIDCOLOR","f32","COLORFEATUREATTRIBUTE","COLOR","beginSlot","getTechnique","arguments","None","ColorMaterial","Parameters"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ZEROS as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmissionOrOID as e,isDepth as s,is2DGeometryOutput as i,isColorOrColorEmission as a,ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as n}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as l}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as f}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as _}from\"./VisualVariablePassParameters.js\";import{ColorMaterialTechnique as g}from\"../shaders/ColorMaterialTechnique.js\";import{ColorMaterialTechniqueConfiguration as T}from\"../shaders/ColorMaterialTechniqueConfiguration.js\";import{alphaCutoff as O}from\"../../../../webscene/support/AlphaCutoff.js\";class A extends m{constructor(t){super(t,P),this._configuration=new T,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,t=>this._isOpaqueMaterialPass(t)],[u.OPAQUE_MATERIAL_WITHOUT_NORMALS,t=>this._isOpaqueNoSSAODepthPass(t)],[u.TRANSPARENT_MATERIAL,t=>e(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,t=>s(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>e(t)&&this._transparent&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,t=>i(t)]])}getConfiguration(t,r){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(t)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=r.hasOccludees,this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<l,this._configuration.terrainDepthTest=r.terrainDepthTest&&a(t),this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=O}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(t){return this._isOpaqueMaterialPass(t)||this._isOpaqueNoSSAODepthPass(t)}_isOpaqueMaterialPass(t){return t===o.Highlight||e(t)&&!this._transparent}_isOpaqueNoSSAODepthPass(t){return s(t)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(t){return new d(t)}createBufferWriter(){const t=r().vec3f(c.POSITION);return n()&&t.vec4u8(c.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?t.f32(c.COLORFEATUREATTRIBUTE):t.vec4u8(c.COLOR),new f(t)}}class d extends p{beginSlot(t){return this.getTechnique(g,t)}}class P extends _{constructor(){super(...arguments),this.color=t,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=h.None,this.draped=!1,this.discardInvisibleFragments=!1}}export{A as ColorMaterial,P as Parameters};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}