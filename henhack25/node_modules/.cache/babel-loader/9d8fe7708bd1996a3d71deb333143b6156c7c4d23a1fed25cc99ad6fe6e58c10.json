{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { abortMaybe as t } from \"../../../../core/maybe.js\";\nimport { throwIfNotAbortError as e, throwIfAbortError as s, isAbortError as r, eachAlways as i } from \"../../../../core/promiseUtils.js\";\nimport { addQueryParameters as o } from \"../../../../core/urlUtils.js\";\nimport { open as n } from \"../../../../core/workers/workers.js\";\nimport { StyleUpdateType as a } from \"./enums.js\";\nimport l from \"./GlyphMosaic.js\";\nimport c from \"./GlyphSource.js\";\nimport u from \"./SpriteMosaic.js\";\nimport h from \"../../tiling/TileKey.js\";\nclass p {\n  constructor(t, e, s, r) {\n    this._layer = t, this._styleRepository = e, this.devicePixelRatio = s, this._sourceDataMaxLOD = r, this._spriteMosaic = null, this._glyphMosaic = null, this._connection = null, this._spriteSourceAbortController = null, this._startOptionsInputSignal = null, this._inputSignalEventListener = null;\n  }\n  destroy() {\n    this._connection?.close(), this._connection = null, this._styleRepository = null, this._layer = null, this._spriteMosaic?.destroy(), this._spriteMosaic = null, this._glyphMosaic = null, this._spriteSourceAbortController = t(this._spriteSourceAbortController), this._spriteSourcePromise = null, this._inputSignalEventListener && this._startOptionsInputSignal?.removeEventListener(\"abort\", this._inputSignalEventListener), this._startOptionsInputSignal = null, this._inputSignalEventListener = null;\n  }\n  get spriteMosaic() {\n    return this._spriteSourcePromise.then(() => this._spriteMosaic);\n  }\n  get glyphMosaic() {\n    return this._glyphMosaic;\n  }\n  async start(t) {\n    this._requestSprite(t);\n    const s = this._layer.currentStyleInfo.glyphsUrl,\n      r = new c(s ? o(s, {\n        ...this._layer.customParameters,\n        token: this._layer.apiKey\n      }) : null);\n    this._glyphMosaic = new l(1024, 1024, r), this._broadcastPromise = n(\"WorkerTileHandler\", {\n      client: this,\n      schedule: t.schedule,\n      signal: t.signal\n    }).then(s => {\n      if (this._layer && (this._connection?.close(), this._connection = s, this._layer && !this._connection.closed)) {\n        const r = s.broadcast(\"setStyle\", {\n          style: this._layer.currentStyleInfo.style,\n          sourceDataMaxLOD: this._sourceDataMaxLOD\n        }, t);\n        Promise.all(r).catch(t => e(t));\n      }\n    });\n  }\n  _requestSprite(t) {\n    this._spriteSourceAbortController?.abort();\n    const e = new AbortController();\n    this._spriteSourceAbortController = e;\n    const r = t?.signal;\n    this._inputSignalEventListener && this._startOptionsInputSignal?.removeEventListener(\"abort\", this._inputSignalEventListener), this._startOptionsInputSignal = null, r && (this._inputSignalEventListener = _(e), r.addEventListener(\"abort\", this._inputSignalEventListener, {\n      once: !0\n    }));\n    const {\n        signal: i\n      } = e,\n      o = {\n        ...t,\n        signal: i\n      };\n    this._spriteSourcePromise = this._layer.loadSpriteSource(this.devicePixelRatio, o), this._spriteSourcePromise.then(t => {\n      s(i), this._spriteMosaic = new u(1024, 1024, 250), this._spriteMosaic.setSpriteSource(t);\n    });\n  }\n  async updateStyle(t) {\n    const e = [];\n    for (const s of t) s.type === a.SPRITES_CHANGED ? e.push({\n      type: a.SPRITES_CHANGED,\n      data: {\n        spriteSource: null\n      }\n    }) : e.push(s);\n    return await this._broadcastPromise, this._broadcastPromise = Promise.all(this._connection.broadcast(\"updateStyle\", e)), this._broadcastPromise;\n  }\n  setSpriteSource(t) {\n    const e = new u(1024, 1024, 250);\n    return e.setSpriteSource(t), this._spriteMosaic = e, this._spriteSourcePromise = Promise.resolve(t), this._spriteSourceAbortController = null, e;\n  }\n  async setStyle(t, e, s) {\n    await this._broadcastPromise, this._styleRepository = t, this._sourceDataMaxLOD = s, this._requestSprite();\n    const r = new c(this._layer.currentStyleInfo.glyphsUrl ? o(this._layer.currentStyleInfo.glyphsUrl, {\n      ...this._layer.customParameters,\n      token: this._layer.apiKey\n    }) : null);\n    return this._glyphMosaic = new l(1024, 1024, r), this._broadcastPromise = Promise.all(this._connection.broadcast(\"setStyle\", {\n      style: e,\n      sourceDataMaxLOD: this._sourceDataMaxLOD\n    })), this._broadcastPromise;\n  }\n  async fetchTileData(t, e) {\n    const s = await this._getRefKeys(t, e);\n    return this._getSourcesData(Object.keys(this._layer.sourceNameToSource), s, e);\n  }\n  async fetchTilePBFs(t) {\n    const e = Object.keys(this._layer.sourceNameToSource),\n      s = {},\n      r = await this._getRefKeys(t, s),\n      i = [],\n      o = [];\n    for (let n = 0; n < r.length; n++) if (null == r[n].value || null == e[n]) o.push(null);else {\n      const t = r[n].value,\n        a = this._getTilePayload(t, e[n], s);\n      a.then(e => {\n        i.push({\n          ...e,\n          key: t\n        });\n      }), o.push(a);\n    }\n    return Promise.all(o).then(() => i);\n  }\n  async parseTileData(t, e) {\n    const s = t && t.data;\n    if (!s) return null;\n    const {\n      sourceName2DataAndRefKey: r,\n      transferList: i\n    } = s;\n    return 0 === Object.keys(r).length ? null : this._broadcastPromise.then(() => this._connection.invoke(\"createTileAndParse\", {\n      key: t.key.id,\n      sourceName2DataAndRefKey: r,\n      styleLayerUIDs: t.styleLayerUIDs\n    }, {\n      ...e,\n      transferList: i\n    }));\n  }\n  async getSprites(t) {\n    return await this._spriteSourcePromise, this._spriteMosaic.getSpriteItems(t);\n  }\n  getGlyphs(t) {\n    return this._glyphMosaic.getGlyphItems(t.font, t.codePoints);\n  }\n  async _getTilePayload(t, e, s) {\n    const i = h.pool.acquire(t.id),\n      o = this._layer.sourceNameToSource[e],\n      {\n        level: n,\n        row: a,\n        col: l\n      } = i;\n    h.pool.release(i);\n    try {\n      return {\n        protobuff: await o.requestTile(n, a, l, s),\n        sourceName: e\n      };\n    } catch (c) {\n      if (r(c)) throw c;\n      return {\n        protobuff: null,\n        sourceName: e\n      };\n    }\n  }\n  async _getRefKeys(t, e) {\n    const s = this._layer.sourceNameToSource,\n      r = new Array();\n    for (const i in s) {\n      const o = s[i].getRefKey(t, e);\n      r.push(o);\n    }\n    return i(r);\n  }\n  _getSourcesData(t, e, s) {\n    const r = [];\n    for (let i = 0; i < e.length; i++) if (null == e[i].value || null == t[i]) r.push(null);else {\n      const o = e[i].value,\n        n = this._getTilePayload(o, t[i], s);\n      r.push(n);\n    }\n    return i(r).then(t => {\n      const s = {},\n        r = [];\n      for (let i = 0; i < t.length; i++) {\n        const o = t[i].value;\n        if (o && o.protobuff && o.protobuff.byteLength > 0) {\n          const t = e[i].value.id;\n          s[o.sourceName] = {\n            refKey: t,\n            protobuff: o.protobuff\n          }, r.push(o.protobuff);\n        }\n      }\n      return {\n        sourceName2DataAndRefKey: s,\n        transferList: r\n      };\n    });\n  }\n}\nfunction _(t) {\n  return () => t.abort();\n}\nexport { p as TileHandler };","map":{"version":3,"names":["abortMaybe","t","throwIfNotAbortError","e","throwIfAbortError","s","isAbortError","r","eachAlways","i","addQueryParameters","o","open","n","StyleUpdateType","a","l","c","u","h","p","constructor","_layer","_styleRepository","devicePixelRatio","_sourceDataMaxLOD","_spriteMosaic","_glyphMosaic","_connection","_spriteSourceAbortController","_startOptionsInputSignal","_inputSignalEventListener","destroy","close","_spriteSourcePromise","removeEventListener","spriteMosaic","then","glyphMosaic","start","_requestSprite","currentStyleInfo","glyphsUrl","customParameters","token","apiKey","_broadcastPromise","client","schedule","signal","closed","broadcast","style","sourceDataMaxLOD","Promise","all","catch","abort","AbortController","_","addEventListener","once","loadSpriteSource","setSpriteSource","updateStyle","type","SPRITES_CHANGED","push","data","spriteSource","resolve","setStyle","fetchTileData","_getRefKeys","_getSourcesData","Object","keys","sourceNameToSource","fetchTilePBFs","length","value","_getTilePayload","key","parseTileData","sourceName2DataAndRefKey","transferList","invoke","id","styleLayerUIDs","getSprites","getSpriteItems","getGlyphs","getGlyphItems","font","codePoints","pool","acquire","level","row","col","release","protobuff","requestTile","sourceName","Array","getRefKey","byteLength","refKey","TileHandler"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{abortMaybe as t}from\"../../../../core/maybe.js\";import{throwIfNotAbortError as e,throwIfAbortError as s,isAbortError as r,eachAlways as i}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as o}from\"../../../../core/urlUtils.js\";import{open as n}from\"../../../../core/workers/workers.js\";import{StyleUpdateType as a}from\"./enums.js\";import l from\"./GlyphMosaic.js\";import c from\"./GlyphSource.js\";import u from\"./SpriteMosaic.js\";import h from\"../../tiling/TileKey.js\";class p{constructor(t,e,s,r){this._layer=t,this._styleRepository=e,this.devicePixelRatio=s,this._sourceDataMaxLOD=r,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null,this._spriteSourceAbortController=null,this._startOptionsInputSignal=null,this._inputSignalEventListener=null}destroy(){this._connection?.close(),this._connection=null,this._styleRepository=null,this._layer=null,this._spriteMosaic?.destroy(),this._spriteMosaic=null,this._glyphMosaic=null,this._spriteSourceAbortController=t(this._spriteSourceAbortController),this._spriteSourcePromise=null,this._inputSignalEventListener&&this._startOptionsInputSignal?.removeEventListener(\"abort\",this._inputSignalEventListener),this._startOptionsInputSignal=null,this._inputSignalEventListener=null}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(t){this._requestSprite(t);const s=this._layer.currentStyleInfo.glyphsUrl,r=new c(s?o(s,{...this._layer.customParameters,token:this._layer.apiKey}):null);this._glyphMosaic=new l(1024,1024,r),this._broadcastPromise=n(\"WorkerTileHandler\",{client:this,schedule:t.schedule,signal:t.signal}).then((s=>{if(this._layer&&(this._connection?.close(),this._connection=s,this._layer&&!this._connection.closed)){const r=s.broadcast(\"setStyle\",{style:this._layer.currentStyleInfo.style,sourceDataMaxLOD:this._sourceDataMaxLOD},t);Promise.all(r).catch((t=>e(t)))}}))}_requestSprite(t){this._spriteSourceAbortController?.abort();const e=new AbortController;this._spriteSourceAbortController=e;const r=t?.signal;this._inputSignalEventListener&&this._startOptionsInputSignal?.removeEventListener(\"abort\",this._inputSignalEventListener),this._startOptionsInputSignal=null,r&&(this._inputSignalEventListener=_(e),r.addEventListener(\"abort\",this._inputSignalEventListener,{once:!0}));const{signal:i}=e,o={...t,signal:i};this._spriteSourcePromise=this._layer.loadSpriteSource(this.devicePixelRatio,o),this._spriteSourcePromise.then((t=>{s(i),this._spriteMosaic=new u(1024,1024,250),this._spriteMosaic.setSpriteSource(t)}))}async updateStyle(t){const e=[];for(const s of t)s.type===a.SPRITES_CHANGED?e.push({type:a.SPRITES_CHANGED,data:{spriteSource:null}}):e.push(s);return await this._broadcastPromise,this._broadcastPromise=Promise.all(this._connection.broadcast(\"updateStyle\",e)),this._broadcastPromise}setSpriteSource(t){const e=new u(1024,1024,250);return e.setSpriteSource(t),this._spriteMosaic=e,this._spriteSourcePromise=Promise.resolve(t),this._spriteSourceAbortController=null,e}async setStyle(t,e,s){await this._broadcastPromise,this._styleRepository=t,this._sourceDataMaxLOD=s,this._requestSprite();const r=new c(this._layer.currentStyleInfo.glyphsUrl?o(this._layer.currentStyleInfo.glyphsUrl,{...this._layer.customParameters,token:this._layer.apiKey}):null);return this._glyphMosaic=new l(1024,1024,r),this._broadcastPromise=Promise.all(this._connection.broadcast(\"setStyle\",{style:e,sourceDataMaxLOD:this._sourceDataMaxLOD})),this._broadcastPromise}async fetchTileData(t,e){const s=await this._getRefKeys(t,e);return this._getSourcesData(Object.keys(this._layer.sourceNameToSource),s,e)}async fetchTilePBFs(t){const e=Object.keys(this._layer.sourceNameToSource),s={},r=await this._getRefKeys(t,s),i=[],o=[];for(let n=0;n<r.length;n++)if(null==r[n].value||null==e[n])o.push(null);else{const t=r[n].value,a=this._getTilePayload(t,e[n],s);a.then((e=>{i.push({...e,key:t})})),o.push(a)}return Promise.all(o).then((()=>i))}async parseTileData(t,e){const s=t&&t.data;if(!s)return null;const{sourceName2DataAndRefKey:r,transferList:i}=s;return 0===Object.keys(r).length?null:this._broadcastPromise.then((()=>this._connection.invoke(\"createTileAndParse\",{key:t.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:t.styleLayerUIDs},{...e,transferList:i})))}async getSprites(t){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(t)}getGlyphs(t){return this._glyphMosaic.getGlyphItems(t.font,t.codePoints)}async _getTilePayload(t,e,s){const i=h.pool.acquire(t.id),o=this._layer.sourceNameToSource[e],{level:n,row:a,col:l}=i;h.pool.release(i);try{return{protobuff:await o.requestTile(n,a,l,s),sourceName:e}}catch(c){if(r(c))throw c;return{protobuff:null,sourceName:e}}}async _getRefKeys(t,e){const s=this._layer.sourceNameToSource,r=new Array;for(const i in s){const o=s[i].getRefKey(t,e);r.push(o)}return i(r)}_getSourcesData(t,e,s){const r=[];for(let i=0;i<e.length;i++)if(null==e[i].value||null==t[i])r.push(null);else{const o=e[i].value,n=this._getTilePayload(o,t[i],s);r.push(n)}return i(r).then((t=>{const s={},r=[];for(let i=0;i<t.length;i++){const o=t[i].value;if(o&&(o.protobuff&&o.protobuff.byteLength>0)){const t=e[i].value.id;s[o.sourceName]={refKey:t,protobuff:o.protobuff},r.push(o.protobuff)}}return{sourceName2DataAndRefKey:s,transferList:r}}))}}function _(t){return()=>t.abort()}export{p as TileHandler};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}