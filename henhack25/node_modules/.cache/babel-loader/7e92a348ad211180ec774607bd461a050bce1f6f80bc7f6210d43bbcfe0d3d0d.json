{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from \"../Error.js\";\nimport has from \"../has.js\";\nimport { throwIfAborted as t } from \"../promiseUtils.js\";\nimport e from \"./Connection.js\";\nimport { register as o } from \"./connectionRegistry.js\";\nimport n from \"./RemoteClient.js\";\nimport i from \"./WorkerOwner.js\";\nconst s = has(\"host-browser\") ? Math.min(navigator.hardwareConcurrency - 1, has(\"workers-pool-size\") ?? 8) : 0;\nlet a = has(\"esri-mobile\") ? Math.min(s, 3) : s;\na || (a = has(\"safari\") && has(\"mac\") ? 7 : 2);\nlet c = 0;\nconst l = [];\nfunction m() {\n  g();\n}\nfunction u(r, t) {\n  return f(r, {\n    client: t\n  });\n}\nasync function f(r, t) {\n  const n = new e(),\n    {\n      registryTarget: i,\n      ...s\n    } = t;\n  return await n.open(r, s), i && o(i, n), n;\n}\nasync function p(e) {\n  let o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (\"string\" != typeof e) throw new r(\"workers:undefined-module\", \"modulePath is missing\");\n  let i = o.strategy || \"distributed\";\n  if (has(\"host-webworker\") && !has(\"esri-workers\") && (i = \"local\"), \"local\" === i) {\n    let r = await n.loadWorker(e);\n    r || (r = await import(/* @vite-ignore */ /* webpackIgnore: true */e)), t(o.signal);\n    const i = o.client || r;\n    return f([n.connect(r, o.schedule)], {\n      ...o,\n      client: i\n    });\n  }\n  if (await g(), t(o.signal), \"dedicated\" === i) {\n    const r = c++ % a;\n    return f([await l[r].open(e, o)], o);\n  }\n  if (o.maxNumWorkers && o.maxNumWorkers > 0) {\n    const r = Math.min(o.maxNumWorkers, a);\n    if (r < a) {\n      const t = new Array(r);\n      for (let n = 0; n < r; ++n) {\n        const r = c++ % a;\n        t[n] = l[r].open(e, o);\n      }\n      return f(t, o);\n    }\n  }\n  return f(l.map(r => r.open(e, o)), o);\n}\nfunction w() {\n  d && (h.abort(), d = null);\n  for (let r = 0; r < l.length; r++) l[r] && l[r].terminate();\n  l.length = 0;\n}\nlet h,\n  d = null;\nasync function g() {\n  if (d) return d;\n  h = new AbortController();\n  const r = [];\n  for (let t = 0; t < a; t++) {\n    const e = i.create(t).then(r => (l[t] = r, r));\n    r.push(e);\n  }\n  return d = Promise.all(r), d;\n}\nexport { e as Connection, n as RemoteClient, m as initialize, p as open, u as openWithPorts, w as terminate };","map":{"version":3,"names":["r","has","throwIfAborted","t","e","register","o","n","i","s","Math","min","navigator","hardwareConcurrency","a","c","l","m","g","u","f","client","registryTarget","open","p","arguments","length","undefined","strategy","loadWorker","signal","connect","schedule","maxNumWorkers","Array","map","w","d","h","abort","terminate","AbortController","create","then","push","Promise","all","Connection","RemoteClient","initialize","openWithPorts"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/core/workers/workers.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../Error.js\";import has from\"../has.js\";import{throwIfAborted as t}from\"../promiseUtils.js\";import e from\"./Connection.js\";import{register as o}from\"./connectionRegistry.js\";import n from\"./RemoteClient.js\";import i from\"./WorkerOwner.js\";const s=has(\"host-browser\")?Math.min(navigator.hardwareConcurrency-1,has(\"workers-pool-size\")??8):0;let a=has(\"esri-mobile\")?Math.min(s,3):s;a||(a=has(\"safari\")&&has(\"mac\")?7:2);let c=0;const l=[];function m(){g()}function u(r,t){return f(r,{client:t})}async function f(r,t){const n=new e,{registryTarget:i,...s}=t;return await n.open(r,s),i&&o(i,n),n}async function p(e,o={}){if(\"string\"!=typeof e)throw new r(\"workers:undefined-module\",\"modulePath is missing\");let i=o.strategy||\"distributed\";if(has(\"host-webworker\")&&!has(\"esri-workers\")&&(i=\"local\"),\"local\"===i){let r=await n.loadWorker(e);r||(r=await import(/* @vite-ignore */ /* webpackIgnore: true */e)),t(o.signal);const i=o.client||r;return f([n.connect(r,o.schedule)],{...o,client:i})}if(await g(),t(o.signal),\"dedicated\"===i){const r=c++%a;return f([await l[r].open(e,o)],o)}if(o.maxNumWorkers&&o.maxNumWorkers>0){const r=Math.min(o.maxNumWorkers,a);if(r<a){const t=new Array(r);for(let n=0;n<r;++n){const r=c++%a;t[n]=l[r].open(e,o)}return f(t,o)}}return f(l.map((r=>r.open(e,o))),o)}function w(){d&&(h.abort(),d=null);for(let r=0;r<l.length;r++)l[r]&&l[r].terminate();l.length=0}let h,d=null;async function g(){if(d)return d;h=new AbortController;const r=[];for(let t=0;t<a;t++){const e=i.create(t).then((r=>(l[t]=r,r)));r.push(e)}return d=Promise.all(r),d}export{e as Connection,n as RemoteClient,m as initialize,p as open,u as openWithPorts,w as terminate};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}