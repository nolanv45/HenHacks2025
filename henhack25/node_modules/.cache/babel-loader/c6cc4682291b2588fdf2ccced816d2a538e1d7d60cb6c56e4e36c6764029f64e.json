{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { createTask as e } from \"../../../core/asyncUtils.js\";\nimport t from \"../../../core/Error.js\";\nimport r from \"../../../core/Logger.js\";\nimport { throwIfAborted as a, isAbortError as s } from \"../../../core/promiseUtils.js\";\nimport o from \"../../../core/Warning.js\";\nimport { equals as n } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { convertFromGeometry as i, convertToGeometry as u } from \"../featureConversionUtils.js\";\nimport { executeQueryForSnapping as l } from \"../data/executeQueryForSnapping.js\";\nimport h from \"../data/FeatureStore.js\";\nimport { checkProjectionSupport as c, project as m } from \"../data/projectionSupport.js\";\nimport { QueryEngine as p } from \"../data/QueryEngine.js\";\nimport { validateGeoJSON as g, createOptimizedFeatures as d } from \"./geojson/geojson.js\";\nimport { mixAttributes as f } from \"./support/sourceUtils.js\";\nimport { getGetFeatureSpatialReference as y, getFeatureCount as _, getFeature as x } from \"../../ogc/wfsUtils.js\";\nimport w from \"../../support/FieldsIndex.js\";\nimport { isNumber as C } from \"../../../support/guards.js\";\nimport { utc as R } from \"../../../time/timeZoneUtils.js\";\nconst F = \"esri.layers.WFSLayer\";\nclass S {\n  constructor() {\n    this._customParameters = null, this._queryEngine = null, this._supportsPagination = !0;\n  }\n  destroy() {\n    this._queryEngine?.destroy(), this._queryEngine = null;\n  }\n  async load(e) {\n    let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const {\n        getFeatureUrl: s,\n        getFeatureOutputFormat: o,\n        fields: n,\n        geometryType: i,\n        featureType: u,\n        maxRecordCount: l,\n        maxTotalRecordCount: m,\n        maxPageCount: g,\n        objectIdField: d,\n        customParameters: f\n      } = e,\n      {\n        spatialReference: _,\n        getFeatureSpatialReference: x\n      } = y(s, u, e.spatialReference);\n    try {\n      await c(x, _);\n    } catch {\n      throw new t(\"unsupported-projection\", \"Projection not supported\", {\n        inSpatialReference: x,\n        outSpatialReference: _\n      });\n    }\n    a(r), this._customParameters = f, this._featureType = u, this._fieldsIndex = w.fromLayerJSON({\n      fields: n,\n      dateFieldsTimeReference: n.some(e => \"esriFieldTypeDate\" === e.type) ? {\n        timeZoneIANA: R\n      } : null\n    }), this._geometryType = i, this._getFeatureUrl = s, this._getFeatureOutputFormat = o, this._getFeatureSpatialReference = x, this._maxRecordCount = l, this._maxTotalRecordCount = m, this._maxPageCount = g, this._objectIdField = d, this._spatialReference = _;\n    let C = await this._snapshotFeatures(r);\n    if (C.errors.length > 0 && (this._supportsPagination = !1, C = await this._snapshotFeatures(r), C.errors.length > 0)) throw C.errors[0];\n    return this._queryEngine = new p({\n      fieldsIndex: this._fieldsIndex,\n      geometryType: i,\n      hasM: !1,\n      hasZ: !1,\n      objectIdField: d,\n      spatialReference: _,\n      timeInfo: null,\n      featureStore: new h({\n        geometryType: i,\n        hasM: !1,\n        hasZ: !1\n      })\n    }), this._queryEngine.featureStore.addMany(C.features), {\n      warnings: E(C),\n      extent: (await this._queryEngine.fetchRecomputedExtents()).fullExtent\n    };\n  }\n  async applyEdits() {\n    throw new t(\"wfs-source:editing-not-supported\", \"applyEdits() is not supported on WFSLayer\");\n  }\n  async queryFeatures() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return await this._waitSnapshotComplete(), this._queryEngine.executeQuery(e, t.signal);\n  }\n  async queryFeatureCount() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return await this._waitSnapshotComplete(), this._queryEngine.executeQueryForCount(e, t.signal);\n  }\n  async queryObjectIds() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    await this._waitSnapshotComplete();\n    return (await this._queryEngine.executeQueryForIds(e, t.signal)).filter(C);\n  }\n  async queryExtent() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return await this._waitSnapshotComplete(), this._queryEngine.executeQueryForExtent(e, t.signal);\n  }\n  async querySnapping(e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return await this._waitSnapshotComplete(), l(this._queryEngine, e, t.signal);\n  }\n  async queryAttributeBins(e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return await this._waitSnapshotComplete(), this._queryEngine.executeAttributeBinsQuery(e, t.signal);\n  }\n  async refresh(t) {\n    return this._customParameters = t.customParameters, this._maxRecordCount = t.maxRecordCount, this._maxTotalRecordCount = t.maxTotalRecordCount, this._maxPageCount = t.maxPageCount, this._snapshotTask?.abort(), this._snapshotTask = e(e => this._snapshotFeatures({\n      signal: e\n    })), this._snapshotTask.promise.then(e => {\n      this._queryEngine.featureStore.clear(), this._queryEngine.featureStore.addMany(e.features);\n      for (const t of E(e)) r.getLogger(F).warn(new o(\"wfs-layer:refresh-warning\", t.message, t.details));\n      e.errors?.length && r.getLogger(F).warn(new o(\"wfs-layer:refresh-error\", \"Refresh completed with errors\", {\n        errors: e.errors\n      }));\n    }, () => {\n      this._queryEngine.featureStore.clear();\n    }), await this._waitSnapshotComplete(), {\n      extent: (await this._queryEngine.fetchRecomputedExtents()).fullExtent\n    };\n  }\n  async _waitSnapshotComplete() {\n    if (this._snapshotTask && !this._snapshotTask.finished) {\n      try {\n        await this._snapshotTask.promise;\n      } catch {}\n      return this._waitSnapshotComplete();\n    }\n  }\n  async _snapshotFeatures(e) {\n    const t = e?.signal,\n      r = this._maxTotalRecordCount,\n      o = this._maxPageCount,\n      n = this._supportsPagination ? await _(this._getFeatureUrl, this._featureType.typeName, {\n        customParameters: this._customParameters,\n        signal: t\n      }) : void 0;\n    let i = [];\n    const u = [];\n    if (null == n) try {\n      i = await this._singleQuery(t);\n    } catch (l) {\n      s(l) || u.push(l);\n    } else {\n      const e = Math.min(n, r),\n        a = T(this, Math.max(1, Math.min(Math.ceil(e / this._maxRecordCount), o)), t);\n      await Promise.allSettled(Array.from({\n        length: 10\n      }).map(() => j(a, i, u)));\n    }\n    return a(t), {\n      features: i,\n      totalRecordCount: n,\n      maxTotalRecordCount: r,\n      maxPageCount: o,\n      errors: u\n    };\n  }\n  async _singleQuery(e) {\n    const t = await x(this._getFeatureUrl, this._featureType.typeName, this._getFeatureSpatialReference, this._getFeatureOutputFormat, {\n      customParameters: this._customParameters,\n      signal: e\n    });\n    return this._processGeoJSON(t, {\n      signal: e\n    });\n  }\n  async _pageQuery(e, t) {\n    const r = e * this._maxRecordCount,\n      a = await x(this._getFeatureUrl, this._featureType.typeName, this._getFeatureSpatialReference, this._getFeatureOutputFormat, {\n        customParameters: this._customParameters,\n        startIndex: r,\n        count: this._maxRecordCount,\n        signal: t\n      });\n    return this._processGeoJSON(a, {\n      startIndex: r,\n      signal: t\n    });\n  }\n  _processGeoJSON(e, t) {\n    g(e, this._getFeatureSpatialReference.wkid);\n    const {\n      startIndex: r,\n      signal: s\n    } = t;\n    a(s);\n    const o = d(e, {\n      geometryType: this._geometryType,\n      hasZ: !1,\n      objectIdField: this._objectIdField\n    });\n    if (!n(this._spatialReference, this._getFeatureSpatialReference)) for (const a of o) null != a.geometry && (a.geometry = i(m(u(a.geometry, this._geometryType, !1, !1), this._getFeatureSpatialReference, this._spatialReference)));\n    let l = r ?? 1;\n    for (const a of o) {\n      const e = {};\n      f(this._fieldsIndex, e, a.attributes, !0), a.attributes = e, null == e[this._objectIdField] && (a.objectId = e[this._objectIdField] = l++);\n    }\n    return o;\n  }\n}\nfunction* T(e, t, r) {\n  for (let a = 0; a < t; a++) yield e._pageQuery(a, r);\n}\nasync function j(e, t, r) {\n  let a = e.next();\n  for (; !a.done;) {\n    try {\n      const e = await a.value;\n      t.push(...e);\n    } catch (o) {\n      s(o) || r.push(o);\n    }\n    a = e.next();\n  }\n}\nfunction E(e) {\n  const t = [];\n  return null != e.totalRecordCount && (e.features.length < e.totalRecordCount && t.push({\n    name: \"wfs-layer:maxRecordCount-too-low\",\n    message: `Could only fetch ${e.features.length} of ${e.totalRecordCount} in ${e.maxPageCount} queries. Try increasing the value of WFSLayer.maxRecordCount.`,\n    details: {\n      recordCount: e.features.length,\n      totalRecordCount: e.totalRecordCount\n    }\n  }), e.totalRecordCount > e.maxTotalRecordCount && t.push({\n    name: \"wfs-layer:large-dataset\",\n    message: `The number of ${e.totalRecordCount} features exceeds the maximum allowed of ${e.maxTotalRecordCount}.`,\n    details: {\n      recordCount: e.features.length,\n      totalRecordCount: e.totalRecordCount,\n      maxTotalRecordCount: e.maxTotalRecordCount\n    }\n  })), t;\n}\nexport { S as default };","map":{"version":3,"names":["createTask","e","t","r","throwIfAborted","a","isAbortError","s","o","equals","n","convertFromGeometry","i","convertToGeometry","u","executeQueryForSnapping","l","h","checkProjectionSupport","c","project","m","QueryEngine","p","validateGeoJSON","g","createOptimizedFeatures","d","mixAttributes","f","getGetFeatureSpatialReference","y","getFeatureCount","_","getFeature","x","w","isNumber","C","utc","R","F","S","constructor","_customParameters","_queryEngine","_supportsPagination","destroy","load","arguments","length","undefined","getFeatureUrl","getFeatureOutputFormat","fields","geometryType","featureType","maxRecordCount","maxTotalRecordCount","maxPageCount","objectIdField","customParameters","spatialReference","getFeatureSpatialReference","inSpatialReference","outSpatialReference","_featureType","_fieldsIndex","fromLayerJSON","dateFieldsTimeReference","some","type","timeZoneIANA","_geometryType","_getFeatureUrl","_getFeatureOutputFormat","_getFeatureSpatialReference","_maxRecordCount","_maxTotalRecordCount","_maxPageCount","_objectIdField","_spatialReference","_snapshotFeatures","errors","fieldsIndex","hasM","hasZ","timeInfo","featureStore","addMany","features","warnings","E","extent","fetchRecomputedExtents","fullExtent","applyEdits","queryFeatures","_waitSnapshotComplete","executeQuery","signal","queryFeatureCount","executeQueryForCount","queryObjectIds","executeQueryForIds","filter","queryExtent","executeQueryForExtent","querySnapping","queryAttributeBins","executeAttributeBinsQuery","refresh","_snapshotTask","abort","promise","then","clear","getLogger","warn","message","details","finished","typeName","_singleQuery","push","Math","min","T","max","ceil","Promise","allSettled","Array","from","map","j","totalRecordCount","_processGeoJSON","_pageQuery","startIndex","count","wkid","geometry","attributes","objectId","next","done","value","name","recordCount","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createTask as e}from\"../../../core/asyncUtils.js\";import t from\"../../../core/Error.js\";import r from\"../../../core/Logger.js\";import{throwIfAborted as a,isAbortError as s}from\"../../../core/promiseUtils.js\";import o from\"../../../core/Warning.js\";import{equals as n}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as i,convertToGeometry as u}from\"../featureConversionUtils.js\";import{executeQueryForSnapping as l}from\"../data/executeQueryForSnapping.js\";import h from\"../data/FeatureStore.js\";import{checkProjectionSupport as c,project as m}from\"../data/projectionSupport.js\";import{QueryEngine as p}from\"../data/QueryEngine.js\";import{validateGeoJSON as g,createOptimizedFeatures as d}from\"./geojson/geojson.js\";import{mixAttributes as f}from\"./support/sourceUtils.js\";import{getGetFeatureSpatialReference as y,getFeatureCount as _,getFeature as x}from\"../../ogc/wfsUtils.js\";import w from\"../../support/FieldsIndex.js\";import{isNumber as C}from\"../../../support/guards.js\";import{utc as R}from\"../../../time/timeZoneUtils.js\";const F=\"esri.layers.WFSLayer\";class S{constructor(){this._customParameters=null,this._queryEngine=null,this._supportsPagination=!0}destroy(){this._queryEngine?.destroy(),this._queryEngine=null}async load(e,r={}){const{getFeatureUrl:s,getFeatureOutputFormat:o,fields:n,geometryType:i,featureType:u,maxRecordCount:l,maxTotalRecordCount:m,maxPageCount:g,objectIdField:d,customParameters:f}=e,{spatialReference:_,getFeatureSpatialReference:x}=y(s,u,e.spatialReference);try{await c(x,_)}catch{throw new t(\"unsupported-projection\",\"Projection not supported\",{inSpatialReference:x,outSpatialReference:_})}a(r),this._customParameters=f,this._featureType=u,this._fieldsIndex=w.fromLayerJSON({fields:n,dateFieldsTimeReference:n.some((e=>\"esriFieldTypeDate\"===e.type))?{timeZoneIANA:R}:null}),this._geometryType=i,this._getFeatureUrl=s,this._getFeatureOutputFormat=o,this._getFeatureSpatialReference=x,this._maxRecordCount=l,this._maxTotalRecordCount=m,this._maxPageCount=g,this._objectIdField=d,this._spatialReference=_;let C=await this._snapshotFeatures(r);if(C.errors.length>0&&(this._supportsPagination=!1,C=await this._snapshotFeatures(r),C.errors.length>0))throw C.errors[0];return this._queryEngine=new p({fieldsIndex:this._fieldsIndex,geometryType:i,hasM:!1,hasZ:!1,objectIdField:d,spatialReference:_,timeInfo:null,featureStore:new h({geometryType:i,hasM:!1,hasZ:!1})}),this._queryEngine.featureStore.addMany(C.features),{warnings:E(C),extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async applyEdits(){throw new t(\"wfs-source:editing-not-supported\",\"applyEdits() is not supported on WFSLayer\")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){await this._waitSnapshotComplete();return(await this._queryEngine.executeQueryForIds(e,t.signal)).filter(C)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),l(this._queryEngine,e,t.signal)}async queryAttributeBins(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeAttributeBinsQuery(e,t.signal)}async refresh(t){return this._customParameters=t.customParameters,this._maxRecordCount=t.maxRecordCount,this._maxTotalRecordCount=t.maxTotalRecordCount,this._maxPageCount=t.maxPageCount,this._snapshotTask?.abort(),this._snapshotTask=e((e=>this._snapshotFeatures({signal:e}))),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),this._queryEngine.featureStore.addMany(e.features);for(const t of E(e))r.getLogger(F).warn(new o(\"wfs-layer:refresh-warning\",t.message,t.details));e.errors?.length&&r.getLogger(F).warn(new o(\"wfs-layer:refresh-error\",\"Refresh completed with errors\",{errors:e.errors}))}),(()=>{this._queryEngine.featureStore.clear()})),await this._waitSnapshotComplete(),{extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _snapshotFeatures(e){const t=e?.signal,r=this._maxTotalRecordCount,o=this._maxPageCount,n=this._supportsPagination?await _(this._getFeatureUrl,this._featureType.typeName,{customParameters:this._customParameters,signal:t}):void 0;let i=[];const u=[];if(null==n)try{i=await this._singleQuery(t)}catch(l){s(l)||u.push(l)}else{const e=Math.min(n,r),a=T(this,Math.max(1,Math.min(Math.ceil(e/this._maxRecordCount),o)),t);await Promise.allSettled(Array.from({length:10}).map((()=>j(a,i,u))))}return a(t),{features:i,totalRecordCount:n,maxTotalRecordCount:r,maxPageCount:o,errors:u}}async _singleQuery(e){const t=await x(this._getFeatureUrl,this._featureType.typeName,this._getFeatureSpatialReference,this._getFeatureOutputFormat,{customParameters:this._customParameters,signal:e});return this._processGeoJSON(t,{signal:e})}async _pageQuery(e,t){const r=e*this._maxRecordCount,a=await x(this._getFeatureUrl,this._featureType.typeName,this._getFeatureSpatialReference,this._getFeatureOutputFormat,{customParameters:this._customParameters,startIndex:r,count:this._maxRecordCount,signal:t});return this._processGeoJSON(a,{startIndex:r,signal:t})}_processGeoJSON(e,t){g(e,this._getFeatureSpatialReference.wkid);const{startIndex:r,signal:s}=t;a(s);const o=d(e,{geometryType:this._geometryType,hasZ:!1,objectIdField:this._objectIdField});if(!n(this._spatialReference,this._getFeatureSpatialReference))for(const a of o)null!=a.geometry&&(a.geometry=i(m(u(a.geometry,this._geometryType,!1,!1),this._getFeatureSpatialReference,this._spatialReference)));let l=r??1;for(const a of o){const e={};f(this._fieldsIndex,e,a.attributes,!0),a.attributes=e,null==e[this._objectIdField]&&(a.objectId=e[this._objectIdField]=l++)}return o}}function*T(e,t,r){for(let a=0;a<t;a++)yield e._pageQuery(a,r)}async function j(e,t,r){let a=e.next();for(;!a.done;){try{const e=await a.value;t.push(...e)}catch(o){s(o)||r.push(o)}a=e.next()}}function E(e){const t=[];return null!=e.totalRecordCount&&(e.features.length<e.totalRecordCount&&t.push({name:\"wfs-layer:maxRecordCount-too-low\",message:`Could only fetch ${e.features.length} of ${e.totalRecordCount} in ${e.maxPageCount} queries. Try increasing the value of WFSLayer.maxRecordCount.`,details:{recordCount:e.features.length,totalRecordCount:e.totalRecordCount}}),e.totalRecordCount>e.maxTotalRecordCount&&t.push({name:\"wfs-layer:large-dataset\",message:`The number of ${e.totalRecordCount} features exceeds the maximum allowed of ${e.maxTotalRecordCount}.`,details:{recordCount:e.features.length,totalRecordCount:e.totalRecordCount,maxTotalRecordCount:e.maxTotalRecordCount}})),t}export{S as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}