{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { nextTick as e } from \"../nextTick.js\";\nimport s from \"./RemoteClient.js\";\nimport { MessageType as r, receiveMessage as t } from \"./utils.js\";\nclass n {\n  constructor() {\n    const e = document.createDocumentFragment();\n    [\"addEventListener\", \"dispatchEvent\", \"removeEventListener\"].forEach(s => {\n      this[s] = (...r) => e[s](...r);\n    });\n  }\n}\nclass a {\n  constructor() {\n    this._dispatcher = new n(), this._workerPostMessage({\n      type: r.HANDSHAKE\n    });\n  }\n  terminate() {}\n  get onmessage() {\n    return this._onmessageHandler;\n  }\n  set onmessage(e) {\n    this._onmessageHandler && this.removeEventListener(\"message\", this._onmessageHandler), this._onmessageHandler = e, e && this.addEventListener(\"message\", e);\n  }\n  get onmessageerror() {\n    return this._onmessageerrorHandler;\n  }\n  set onmessageerror(e) {\n    this._onmessageerrorHandler && this.removeEventListener(\"messageerror\", this._onmessageerrorHandler), this._onmessageerrorHandler = e, e && this.addEventListener(\"messageerror\", e);\n  }\n  get onerror() {\n    return this._onerrorHandler;\n  }\n  set onerror(e) {\n    this._onerrorHandler && this.removeEventListener(\"error\", this._onerrorHandler), this._onerrorHandler = e, e && this.addEventListener(\"error\", e);\n  }\n  postMessage(s) {\n    e(() => {\n      this._workerMessageHandler(new MessageEvent(\"message\", {\n        data: s\n      }));\n    });\n  }\n  dispatchEvent(e) {\n    return this._dispatcher.dispatchEvent(e);\n  }\n  addEventListener(e, s, r) {\n    this._dispatcher.addEventListener(e, s, r);\n  }\n  removeEventListener(e, s, r) {\n    this._dispatcher.removeEventListener(e, s, r);\n  }\n  _workerPostMessage(s) {\n    e(() => {\n      this.dispatchEvent(new MessageEvent(\"message\", {\n        data: s\n      }));\n    });\n  }\n  async _workerMessageHandler(e) {\n    const n = t(e);\n    if (n && n.type === r.OPEN) {\n      const {\n        modulePath: e,\n        jobId: t\n      } = n;\n      let a = await s.loadWorker(e);\n      a || (a = await import(/* @vite-ignore */ /* webpackIgnore: true */e));\n      const o = s.connect(a);\n      this._workerPostMessage({\n        type: r.OPENED,\n        jobId: t,\n        data: o\n      });\n    }\n  }\n}\nexport { a as default };","map":{"version":3,"names":["nextTick","e","s","MessageType","r","receiveMessage","t","n","constructor","document","createDocumentFragment","forEach","a","_dispatcher","_workerPostMessage","type","HANDSHAKE","terminate","onmessage","_onmessageHandler","removeEventListener","addEventListener","onmessageerror","_onmessageerrorHandler","onerror","_onerrorHandler","postMessage","_workerMessageHandler","MessageEvent","data","dispatchEvent","OPEN","modulePath","jobId","loadWorker","o","connect","OPENED","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/core/workers/WorkerFallback.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{nextTick as e}from\"../nextTick.js\";import s from\"./RemoteClient.js\";import{MessageType as r,receiveMessage as t}from\"./utils.js\";class n{constructor(){const e=document.createDocumentFragment();[\"addEventListener\",\"dispatchEvent\",\"removeEventListener\"].forEach((s=>{this[s]=(...r)=>e[s](...r)}))}}class a{constructor(){this._dispatcher=new n,this._workerPostMessage({type:r.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener(\"message\",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener(\"message\",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener(\"messageerror\",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener(\"messageerror\",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener(\"error\",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener(\"error\",e)}postMessage(s){e((()=>{this._workerMessageHandler(new MessageEvent(\"message\",{data:s}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,s,r){this._dispatcher.addEventListener(e,s,r)}removeEventListener(e,s,r){this._dispatcher.removeEventListener(e,s,r)}_workerPostMessage(s){e((()=>{this.dispatchEvent(new MessageEvent(\"message\",{data:s}))}))}async _workerMessageHandler(e){const n=t(e);if(n&&n.type===r.OPEN){const{modulePath:e,jobId:t}=n;let a=await s.loadWorker(e);a||(a=await import(/* @vite-ignore */ /* webpackIgnore: true */e));const o=s.connect(a);this._workerPostMessage({type:r.OPENED,jobId:t,data:o})}}}export{a as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}