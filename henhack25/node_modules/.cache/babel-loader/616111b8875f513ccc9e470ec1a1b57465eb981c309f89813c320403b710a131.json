{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../layers/support/TileInfo.js\";\nimport l from \"./TileInfoView.js\";\nimport s from \"./TileKey.js\";\nclass t extends l {\n  constructor() {\n    super(...arguments), this._fullCacheLodInfos = null, this._levelByScale = {};\n  }\n  getTileParentId(e) {\n    const l = s.pool.acquire(e),\n      t = 0 === l.level ? null : s.getId(l.level - 1, l.row >> 1, l.col >> 1, l.world);\n    return s.pool.release(l), t;\n  }\n  getTileCoverage(e, l, s = !0, t) {\n    const o = super.getTileCoverage(e, l, s, t);\n    if (!o) return o;\n    const i = 1 << o.lodInfo.level;\n    return o.spans = o.spans.filter(e => e.row >= 0 && e.row < i), o;\n  }\n  scaleToLevel(e) {\n    if (this._fullCacheLodInfos || this._initializeFullCacheLODs(this._lodInfos), this._levelByScale[e]) return this._levelByScale[e];\n    {\n      const l = this._fullCacheLodInfos;\n      if (e > l[0].scale) return l[0].level;\n      let s, t;\n      for (let o = 0; o < l.length - 1; o++) if (t = l[o + 1], e > t.scale) return s = l[o], s.level + (s.scale - e) / (s.scale - t.scale);\n      return l[l.length - 1].level;\n    }\n  }\n  _initializeFullCacheLODs(l) {\n    let s;\n    if (0 === l[0].level) s = l.map(e => ({\n      level: e.level,\n      resolution: e.resolution,\n      scale: e.scale\n    }));else {\n      const l = this.tileInfo.size[0],\n        t = this.tileInfo.spatialReference;\n      s = e.create({\n        size: l,\n        spatialReference: t\n      }).lods.map(e => ({\n        level: e.level,\n        resolution: e.resolution,\n        scale: e.scale\n      }));\n    }\n    for (let e = 0; e < s.length; e++) this._levelByScale[s[e].scale] = s[e].level;\n    this._fullCacheLodInfos = s;\n  }\n}\nexport { t as default };","map":{"version":3,"names":["e","l","s","t","constructor","arguments","_fullCacheLodInfos","_levelByScale","getTileParentId","pool","acquire","level","getId","row","col","world","release","getTileCoverage","o","i","lodInfo","spans","filter","scaleToLevel","_initializeFullCacheLODs","_lodInfos","scale","length","map","resolution","tileInfo","size","spatialReference","create","lods","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../layers/support/TileInfo.js\";import l from\"./TileInfoView.js\";import s from\"./TileKey.js\";class t extends l{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const l=s.pool.acquire(e),t=0===l.level?null:s.getId(l.level-1,l.row>>1,l.col>>1,l.world);return s.pool.release(l),t}getTileCoverage(e,l,s=!0,t){const o=super.getTileCoverage(e,l,s,t);if(!o)return o;const i=1<<o.lodInfo.level;return o.spans=o.spans.filter((e=>e.row>=0&&e.row<i)),o}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=e.create({size:l,spatialReference:t}).lods.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}export{t as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}