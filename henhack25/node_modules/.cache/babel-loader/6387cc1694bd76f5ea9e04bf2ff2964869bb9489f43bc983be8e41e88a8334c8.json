{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { getMetersPerUnitForSR as e } from \"../../../core/unitUtils.js\";\nimport { distance as t } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { absoluteHeightElevationInfo as r } from \"../../../support/elevationInfoUtils.js\";\nimport { fromAnyMapPoint as s, asVec2 as i } from \"../sketch/normalizedPoint.js\";\nimport { defaults as o } from \"./Settings.js\";\nimport { squaredScreenDistance as h } from \"./snappingUtils.js\";\nimport { vectorToScreenPoint as n } from \"../support/viewUtils.js\";\nclass l {\n  constructor(e, t) {\n    this.view = e, this.options = t, this.squaredShortLineThreshold = o.shortLineThreshold * o.shortLineThreshold;\n  }\n  snap(e, t) {\n    return null != t.vertexHandle ? \"vertex\" !== t.vertexHandle.type ? [] : this.snapExistingVertex(e, t) : this.snapNewVertex(e, t);\n  }\n  edgeExceedsShortLineThreshold(e, t) {\n    return this.exceedsShortLineThreshold(s(e.leftVertex.pos, this.view, t), s(e.rightVertex.pos, this.view, t), t);\n  }\n  exceedsShortLineThreshold(e, t, {\n    spatialReference: s\n  }) {\n    return 0 === this.squaredShortLineThreshold || h(n(t, s, r, this.view), n(e, s, r, this.view)) > this.squaredShortLineThreshold;\n  }\n  isVertical(r, s, {\n    spatialReference: h\n  }) {\n    const n = e(h);\n    return t(i(r), i(s)) * n < o.verticalLineThresholdMeters;\n  }\n  squaredProximityThreshold(e) {\n    return \"touch\" === e ? this._squaredTouchProximityThreshold : this._squaredMouseProximityThreshold;\n  }\n  get _squaredMouseProximityThreshold() {\n    return this.options.distance * this.options.distance;\n  }\n  get _squaredTouchProximityThreshold() {\n    const {\n        distance: e,\n        touchSensitivityMultiplier: t\n      } = this.options,\n      r = e * t;\n    return r * r;\n  }\n}\nexport { l as SnappingAlgorithm };","map":{"version":3,"names":["getMetersPerUnitForSR","e","distance","t","absoluteHeightElevationInfo","r","fromAnyMapPoint","s","asVec2","i","defaults","o","squaredScreenDistance","h","vectorToScreenPoint","n","l","constructor","view","options","squaredShortLineThreshold","shortLineThreshold","snap","vertexHandle","type","snapExistingVertex","snapNewVertex","edgeExceedsShortLineThreshold","exceedsShortLineThreshold","leftVertex","pos","rightVertex","spatialReference","isVertical","verticalLineThresholdMeters","squaredProximityThreshold","_squaredTouchProximityThreshold","_squaredMouseProximityThreshold","touchSensitivityMultiplier","SnappingAlgorithm"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../core/unitUtils.js\";import{distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as s,asVec2 as i}from\"../sketch/normalizedPoint.js\";import{defaults as o}from\"./Settings.js\";import{squaredScreenDistance as h}from\"./snappingUtils.js\";import{vectorToScreenPoint as n}from\"../support/viewUtils.js\";class l{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=o.shortLineThreshold*o.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?\"vertex\"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(s(e.leftVertex.pos,this.view,t),s(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,t,{spatialReference:s}){return 0===this.squaredShortLineThreshold||h(n(t,s,r,this.view),n(e,s,r,this.view))>this.squaredShortLineThreshold}isVertical(r,s,{spatialReference:h}){const n=e(h);return t(i(r),i(s))*n<o.verticalLineThresholdMeters}squaredProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{l as SnappingAlgorithm};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,qBAAqB,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,6CAA6C;AAAC,SAAOC,2BAA2B,IAAIC,CAAC,QAAK,wCAAwC;AAAC,SAAOC,eAAe,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,eAAe;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,mBAAmB,IAAIC,CAAC,QAAK,yBAAyB;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAAChB,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACe,IAAI,GAACjB,CAAC,EAAC,IAAI,CAACkB,OAAO,GAAChB,CAAC,EAAC,IAAI,CAACiB,yBAAyB,GAACT,CAAC,CAACU,kBAAkB,GAACV,CAAC,CAACU,kBAAkB;EAAA;EAACC,IAAIA,CAACrB,CAAC,EAACE,CAAC,EAAC;IAAC,OAAO,IAAI,IAAEA,CAAC,CAACoB,YAAY,GAAC,QAAQ,KAAGpB,CAAC,CAACoB,YAAY,CAACC,IAAI,GAAC,EAAE,GAAC,IAAI,CAACC,kBAAkB,CAACxB,CAAC,EAACE,CAAC,CAAC,GAAC,IAAI,CAACuB,aAAa,CAACzB,CAAC,EAACE,CAAC,CAAC;EAAA;EAACwB,6BAA6BA,CAAC1B,CAAC,EAACE,CAAC,EAAC;IAAC,OAAO,IAAI,CAACyB,yBAAyB,CAACrB,CAAC,CAACN,CAAC,CAAC4B,UAAU,CAACC,GAAG,EAAC,IAAI,CAACZ,IAAI,EAACf,CAAC,CAAC,EAACI,CAAC,CAACN,CAAC,CAAC8B,WAAW,CAACD,GAAG,EAAC,IAAI,CAACZ,IAAI,EAACf,CAAC,CAAC,EAACA,CAAC,CAAC;EAAA;EAACyB,yBAAyBA,CAAC3B,CAAC,EAACE,CAAC,EAAC;IAAC6B,gBAAgB,EAACzB;EAAC,CAAC,EAAC;IAAC,OAAO,CAAC,KAAG,IAAI,CAACa,yBAAyB,IAAEP,CAAC,CAACE,CAAC,CAACZ,CAAC,EAACI,CAAC,EAACF,CAAC,EAAC,IAAI,CAACa,IAAI,CAAC,EAACH,CAAC,CAACd,CAAC,EAACM,CAAC,EAACF,CAAC,EAAC,IAAI,CAACa,IAAI,CAAC,CAAC,GAAC,IAAI,CAACE,yBAAyB;EAAA;EAACa,UAAUA,CAAC5B,CAAC,EAACE,CAAC,EAAC;IAACyB,gBAAgB,EAACnB;EAAC,CAAC,EAAC;IAAC,MAAME,CAAC,GAACd,CAAC,CAACY,CAAC,CAAC;IAAC,OAAOV,CAAC,CAACM,CAAC,CAACJ,CAAC,CAAC,EAACI,CAAC,CAACF,CAAC,CAAC,CAAC,GAACQ,CAAC,GAACJ,CAAC,CAACuB,2BAA2B;EAAA;EAACC,yBAAyBA,CAAClC,CAAC,EAAC;IAAC,OAAM,OAAO,KAAGA,CAAC,GAAC,IAAI,CAACmC,+BAA+B,GAAC,IAAI,CAACC,+BAA+B;EAAA;EAAC,IAAIA,+BAA+BA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAClB,OAAO,CAACjB,QAAQ,GAAC,IAAI,CAACiB,OAAO,CAACjB,QAAQ;EAAA;EAAC,IAAIkC,+BAA+BA,CAAA,EAAE;IAAC,MAAK;QAAClC,QAAQ,EAACD,CAAC;QAACqC,0BAA0B,EAACnC;MAAC,CAAC,GAAC,IAAI,CAACgB,OAAO;MAACd,CAAC,GAACJ,CAAC,GAACE,CAAC;IAAC,OAAOE,CAAC,GAACA,CAAC;EAAA;AAAC;AAAC,SAAOW,CAAC,IAAIuB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}