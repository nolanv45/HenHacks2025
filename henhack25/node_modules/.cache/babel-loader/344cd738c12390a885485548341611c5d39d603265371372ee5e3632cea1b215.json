{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { i } from \"../../../../../../chunks/vec32.js\";\nimport { create as n } from \"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { s as t } from \"../../../../../../chunks/vec42.js\";\nimport { create as e } from \"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { PBRMode as h } from \"./PhysicallyBasedRenderingParameters.glsl.js\";\nimport { Float3BindUniform as s } from \"../../shaderModules/Float3BindUniform.js\";\nimport { Float4BindUniform as g } from \"../../shaderModules/Float4BindUniform.js\";\nimport { glsl as r } from \"../../shaderModules/glsl.js\";\nfunction m(n, e) {\n  const m = n.fragment,\n    o = void 0 !== e.lightingSphericalHarmonicsOrder ? e.lightingSphericalHarmonicsOrder : 2;\n  0 === o ? (m.uniforms.add(new s(\"lightingAmbientSH0\", ({\n    lighting: n\n  }) => i(l, n.sh.r[0], n.sh.g[0], n.sh.b[0]))), m.code.add(r`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)) : 1 === o ? (m.uniforms.add(new g(\"lightingAmbientSH_R\", ({\n    lighting: i\n  }) => t(a, i.sh.r[0], i.sh.r[1], i.sh.r[2], i.sh.r[3])), new g(\"lightingAmbientSH_G\", ({\n    lighting: i\n  }) => t(a, i.sh.g[0], i.sh.g[1], i.sh.g[2], i.sh.g[3])), new g(\"lightingAmbientSH_B\", ({\n    lighting: i\n  }) => t(a, i.sh.b[0], i.sh.b[1], i.sh.b[2], i.sh.b[3]))), m.code.add(r`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)) : 2 === o && (m.uniforms.add(new s(\"lightingAmbientSH0\", ({\n    lighting: n\n  }) => i(l, n.sh.r[0], n.sh.g[0], n.sh.b[0])), new g(\"lightingAmbientSH_R1\", ({\n    lighting: i\n  }) => t(a, i.sh.r[1], i.sh.r[2], i.sh.r[3], i.sh.r[4])), new g(\"lightingAmbientSH_G1\", ({\n    lighting: i\n  }) => t(a, i.sh.g[1], i.sh.g[2], i.sh.g[3], i.sh.g[4])), new g(\"lightingAmbientSH_B1\", ({\n    lighting: i\n  }) => t(a, i.sh.b[1], i.sh.b[2], i.sh.b[3], i.sh.b[4])), new g(\"lightingAmbientSH_R2\", ({\n    lighting: i\n  }) => t(a, i.sh.r[5], i.sh.r[6], i.sh.r[7], i.sh.r[8])), new g(\"lightingAmbientSH_G2\", ({\n    lighting: i\n  }) => t(a, i.sh.g[5], i.sh.g[6], i.sh.g[7], i.sh.g[8])), new g(\"lightingAmbientSH_B2\", ({\n    lighting: i\n  }) => t(a, i.sh.b[5], i.sh.b[6], i.sh.b[7], i.sh.b[8]))), m.code.add(r`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`), e.pbrMode !== h.Normal && e.pbrMode !== h.Schematic || m.code.add(r`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`));\n}\nconst l = n(),\n  a = e();\nexport { m as EvaluateAmbientLighting };","map":{"version":3,"names":["i","create","n","s","t","e","PBRMode","h","Float3BindUniform","Float4BindUniform","g","glsl","r","m","fragment","o","lightingSphericalHarmonicsOrder","uniforms","add","lighting","l","sh","b","code","a","pbrMode","Normal","Schematic","EvaluateAmbientLighting"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i}from\"../../../../../../chunks/vec32.js\";import{create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as t}from\"../../../../../../chunks/vec42.js\";import{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PBRMode as h}from\"./PhysicallyBasedRenderingParameters.glsl.js\";import{Float3BindUniform as s}from\"../../shaderModules/Float3BindUniform.js\";import{Float4BindUniform as g}from\"../../shaderModules/Float4BindUniform.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function m(n,e){const m=n.fragment,o=void 0!==e.lightingSphericalHarmonicsOrder?e.lightingSphericalHarmonicsOrder:2;0===o?(m.uniforms.add(new s(\"lightingAmbientSH0\",(({lighting:n})=>i(l,n.sh.r[0],n.sh.g[0],n.sh.b[0])))),m.code.add(r`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):1===o?(m.uniforms.add(new g(\"lightingAmbientSH_R\",(({lighting:i})=>t(a,i.sh.r[0],i.sh.r[1],i.sh.r[2],i.sh.r[3]))),new g(\"lightingAmbientSH_G\",(({lighting:i})=>t(a,i.sh.g[0],i.sh.g[1],i.sh.g[2],i.sh.g[3]))),new g(\"lightingAmbientSH_B\",(({lighting:i})=>t(a,i.sh.b[0],i.sh.b[1],i.sh.b[2],i.sh.b[3])))),m.code.add(r`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):2===o&&(m.uniforms.add(new s(\"lightingAmbientSH0\",(({lighting:n})=>i(l,n.sh.r[0],n.sh.g[0],n.sh.b[0]))),new g(\"lightingAmbientSH_R1\",(({lighting:i})=>t(a,i.sh.r[1],i.sh.r[2],i.sh.r[3],i.sh.r[4]))),new g(\"lightingAmbientSH_G1\",(({lighting:i})=>t(a,i.sh.g[1],i.sh.g[2],i.sh.g[3],i.sh.g[4]))),new g(\"lightingAmbientSH_B1\",(({lighting:i})=>t(a,i.sh.b[1],i.sh.b[2],i.sh.b[3],i.sh.b[4]))),new g(\"lightingAmbientSH_R2\",(({lighting:i})=>t(a,i.sh.r[5],i.sh.r[6],i.sh.r[7],i.sh.r[8]))),new g(\"lightingAmbientSH_G2\",(({lighting:i})=>t(a,i.sh.g[5],i.sh.g[6],i.sh.g[7],i.sh.g[8]))),new g(\"lightingAmbientSH_B2\",(({lighting:i})=>t(a,i.sh.b[5],i.sh.b[6],i.sh.b[7],i.sh.b[8])))),m.code.add(r`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`),e.pbrMode!==h.Normal&&e.pbrMode!==h.Schematic||m.code.add(r`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`))}const l=n(),a=e();export{m as EvaluateAmbientLighting};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}