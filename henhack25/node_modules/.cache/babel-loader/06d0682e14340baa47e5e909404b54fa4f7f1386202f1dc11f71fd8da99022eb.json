{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t, a as o } from \"../../../../../../../chunks/tslib.es6.js\";\nimport { location as e, uniform as r, GraphShaderModule as n, VertexInput as s, UniformGroup as i, FragmentOutput as a, input as p, FragmentInput as d } from \"../../GraphShaderModule.js\";\nimport { Vec2 as l, Vec4 as c, texture2D as u, Float as y, ifElse as m, equal as w, atan as x, pow as f, length as g, cos as v, sin as h, Sampler2D as b } from \"../../graph/glsl.js\";\nimport { magnifierBarrelFactor as k } from \"./constants.js\";\nclass T extends s {}\nt([e(0, l)], T.prototype, \"position\", void 0);\nclass C extends d {}\nclass j extends i {}\nt([r(b)], j.prototype, \"readbackTexture\", void 0), t([r(b)], j.prototype, \"maskTexture\", void 0), t([r(b)], j.prototype, \"overlayTexture\", void 0), t([r(c)], j.prototype, \"background\", void 0), t([r(c)], j.prototype, \"drawPos\", void 0), t([r(y)], j.prototype, \"maskEnabled\", void 0), t([r(y)], j.prototype, \"overlayEnabled\", void 0);\nclass E extends n {\n  constructor() {\n    super(...arguments), this.type = \"MagnifierShader\";\n  }\n  vertex(t) {\n    const o = t.position,\n      e = t.position.subtract(new l(.5)).multiply(this.config.drawPos.zw),\n      r = this.config.drawPos.xy.add(e);\n    return {\n      glPosition: new c(r, 0, 1),\n      texCoord: o\n    };\n  }\n  fragment(t) {\n    let o = u(this.config.readbackTexture, P(t.texCoord));\n    o = o.add(new y(1).subtract(o.a)).multiply(this.config.background);\n    const e = m(w(this.config.maskEnabled, new y(1)), u(this.config.maskTexture, t.texCoord).a, new y(1));\n    o = o.multiply(e);\n    const r = m(w(this.config.overlayEnabled, new y(1)), u(this.config.overlayTexture, t.texCoord), new c(0)),\n      n = new a();\n    return n.fragColor = r.add(new y(1).subtract(r.a).multiply(o)), n;\n  }\n}\nfunction P(t) {\n  const o = t.multiply(new l(2)).subtract(1);\n  return m(w(o.x, new y(0)).and(w(o.y, new y(0))), new l(.5), () => {\n    const t = x(o.y, o.x),\n      e = f(g(o), new y(k)),\n      r = new l(v(t), h(t));\n    return e.multiply(r).multiply(new l(.5)).add(new y(.5));\n  });\n}\nt([r(j)], E.prototype, \"config\", void 0), t([o(0, p(T))], E.prototype, \"vertex\", null), t([o(0, p(C))], E.prototype, \"fragment\", null);\nexport { E as MagnifierShader };","map":{"version":3,"names":["_","t","a","o","location","e","uniform","r","GraphShaderModule","n","VertexInput","s","UniformGroup","i","FragmentOutput","input","p","FragmentInput","d","Vec2","l","Vec4","c","texture2D","u","Float","y","ifElse","m","equal","w","atan","x","pow","f","length","g","cos","v","sin","h","Sampler2D","b","magnifierBarrelFactor","k","T","prototype","C","j","E","constructor","arguments","type","vertex","position","subtract","multiply","config","drawPos","zw","xy","add","glPosition","texCoord","fragment","readbackTexture","P","background","maskEnabled","maskTexture","overlayEnabled","overlayTexture","fragColor","and","MagnifierShader"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/MagnifierShader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t,a as o}from\"../../../../../../../chunks/tslib.es6.js\";import{location as e,uniform as r,GraphShaderModule as n,VertexInput as s,UniformGroup as i,FragmentOutput as a,input as p,FragmentInput as d}from\"../../GraphShaderModule.js\";import{Vec2 as l,Vec4 as c,texture2D as u,Float as y,ifElse as m,equal as w,atan as x,pow as f,length as g,cos as v,sin as h,Sampler2D as b}from\"../../graph/glsl.js\";import{magnifierBarrelFactor as k}from\"./constants.js\";class T extends s{}t([e(0,l)],T.prototype,\"position\",void 0);class C extends d{}class j extends i{}t([r(b)],j.prototype,\"readbackTexture\",void 0),t([r(b)],j.prototype,\"maskTexture\",void 0),t([r(b)],j.prototype,\"overlayTexture\",void 0),t([r(c)],j.prototype,\"background\",void 0),t([r(c)],j.prototype,\"drawPos\",void 0),t([r(y)],j.prototype,\"maskEnabled\",void 0),t([r(y)],j.prototype,\"overlayEnabled\",void 0);class E extends n{constructor(){super(...arguments),this.type=\"MagnifierShader\"}vertex(t){const o=t.position,e=t.position.subtract(new l(.5)).multiply(this.config.drawPos.zw),r=this.config.drawPos.xy.add(e);return{glPosition:new c(r,0,1),texCoord:o}}fragment(t){let o=u(this.config.readbackTexture,P(t.texCoord));o=o.add(new y(1).subtract(o.a)).multiply(this.config.background);const e=m(w(this.config.maskEnabled,new y(1)),u(this.config.maskTexture,t.texCoord).a,new y(1));o=o.multiply(e);const r=m(w(this.config.overlayEnabled,new y(1)),u(this.config.overlayTexture,t.texCoord),new c(0)),n=new a;return n.fragColor=r.add(new y(1).subtract(r.a).multiply(o)),n}}function P(t){const o=t.multiply(new l(2)).subtract(1);return m(w(o.x,new y(0)).and(w(o.y,new y(0))),new l(.5),(()=>{const t=x(o.y,o.x),e=f(g(o),new y(k)),r=new l(v(t),h(t));return e.multiply(r).multiply(new l(.5)).add(new y(.5))}))}t([r(j)],E.prototype,\"config\",void 0),t([o(0,p(T))],E.prototype,\"vertex\",null),t([o(0,p(C))],E.prototype,\"fragment\",null);export{E as MagnifierShader};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}