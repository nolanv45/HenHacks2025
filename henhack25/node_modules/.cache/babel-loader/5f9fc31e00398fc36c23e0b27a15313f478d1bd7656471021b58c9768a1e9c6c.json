{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { SymbolUnits as t } from \"../../../../../../../symbols/cim/enums.js\";\nimport { spritePadding as e, gradientTextureExternalPadding as r } from \"../../../definitions.js\";\nimport { AFillMeshWriter as i } from \"./AFillMeshWriter.js\";\nimport { fillVertexSpec as s } from \"./FillMeshWriter.js\";\nimport { gradientFillMethods as a, bitset as o } from \"./gradientFillConstants.js\";\nimport { getGradientSizeHelper as n } from \"./GradientSizeHelper.js\";\nimport { getBitMask as c } from \"./meshWriterUtils.js\";\nimport { DataType as l } from \"../../../../../../webgl/enums.js\";\nconst p = {\n  createComputedParams: t => t,\n  optionalAttributes: s.optionalAttributes,\n  attributes: {\n    ...s.attributes,\n    bitset: {\n      type: l.UNSIGNED_BYTE,\n      count: 1,\n      pack: _ref => {\n        let {\n          gradientSizeUnits: e,\n          gradientType: r\n        } = _ref;\n        let i = 0;\n        return e === t.Absolute && (i |= c(o.isAbsolute)), \"discrete\" === r.toLowerCase() && (i |= c(o.isDiscrete)), i;\n      }\n    },\n    tlbr: {\n      count: 4,\n      type: l.UNSIGNED_SHORT,\n      pack: _ref2 => {\n        let {\n          sprite: t\n        } = _ref2;\n        const {\n            rect: i,\n            width: s,\n            height: a\n          } = t,\n          o = i.x + e + r,\n          n = i.y + e;\n        return [o, n, o + s - 2 * r, n + a];\n      }\n    },\n    relativePosition: {\n      count: 2,\n      type: l.HALF_FLOAT,\n      packTessellation: (_ref3, e, r, i) => {\n        let {\n          gradientStats: t\n        } = _ref3;\n        return t?.getRelativePosition(r, i) ?? [0, 0];\n      }\n    },\n    relativeGradientSize: {\n      count: 2,\n      type: l.HALF_FLOAT,\n      packTessellation: _ref4 => {\n        let {\n          gradientStats: t\n        } = _ref4;\n        return t?.relativeSize ?? [1, 1];\n      }\n    },\n    gradientMethod: {\n      count: 1,\n      type: l.UNSIGNED_BYTE,\n      pack: _ref5 => {\n        let {\n          gradientMethod: t\n        } = _ref5;\n        switch (t.toLowerCase()) {\n          case \"rectangular\":\n            return a.rectangular;\n          case \"circular\":\n            return a.circular;\n          default:\n            return a.linear;\n        }\n      }\n    }\n  }\n};\nclass u extends i {\n  constructor() {\n    super(...arguments), this.vertexSpec = p;\n  }\n  get _preventEffectClipping() {\n    return !0;\n  }\n  createTesselationParams(t) {\n    return {\n      gradientStats: n(t.readGeometryForDisplay(), this.evaluatedMeshParams)\n    };\n  }\n  _write(t, e, r) {\n    const i = r?.asOptimized() ?? e.readGeometryForDisplay(),\n      s = this._clip(i);\n    if (!s) return;\n    const a = this.evaluatedMeshParams.sprite?.textureBinding;\n    t.recordStart(this.instanceId, this.attributeLayout, a), this._writeGeometry(t, e, s), t.recordEnd();\n  }\n}\nexport { u as GradientFillMeshWriter, p as gradientFillVertexSpec };","map":{"version":3,"names":["SymbolUnits","t","spritePadding","e","gradientTextureExternalPadding","r","AFillMeshWriter","i","fillVertexSpec","s","gradientFillMethods","a","bitset","o","getGradientSizeHelper","n","getBitMask","c","DataType","l","p","createComputedParams","optionalAttributes","attributes","type","UNSIGNED_BYTE","count","pack","_ref","gradientSizeUnits","gradientType","Absolute","isAbsolute","toLowerCase","isDiscrete","tlbr","UNSIGNED_SHORT","_ref2","sprite","rect","width","height","x","y","relativePosition","HALF_FLOAT","packTessellation","_ref3","gradientStats","getRelativePosition","relativeGradientSize","_ref4","relativeSize","gradientMethod","_ref5","rectangular","circular","linear","u","constructor","arguments","vertexSpec","_preventEffectClipping","createTesselationParams","readGeometryForDisplay","evaluatedMeshParams","_write","asOptimized","_clip","textureBinding","recordStart","instanceId","attributeLayout","_writeGeometry","recordEnd","GradientFillMeshWriter","gradientFillVertexSpec"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/GradientFillMeshWriter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{SymbolUnits as t}from\"../../../../../../../symbols/cim/enums.js\";import{spritePadding as e,gradientTextureExternalPadding as r}from\"../../../definitions.js\";import{AFillMeshWriter as i}from\"./AFillMeshWriter.js\";import{fillVertexSpec as s}from\"./FillMeshWriter.js\";import{gradientFillMethods as a,bitset as o}from\"./gradientFillConstants.js\";import{getGradientSizeHelper as n}from\"./GradientSizeHelper.js\";import{getBitMask as c}from\"./meshWriterUtils.js\";import{DataType as l}from\"../../../../../../webgl/enums.js\";const p={createComputedParams:t=>t,optionalAttributes:s.optionalAttributes,attributes:{...s.attributes,bitset:{type:l.UNSIGNED_BYTE,count:1,pack:({gradientSizeUnits:e,gradientType:r})=>{let i=0;return e===t.Absolute&&(i|=c(o.isAbsolute)),\"discrete\"===r.toLowerCase()&&(i|=c(o.isDiscrete)),i}},tlbr:{count:4,type:l.UNSIGNED_SHORT,pack:({sprite:t})=>{const{rect:i,width:s,height:a}=t,o=i.x+e+r,n=i.y+e;return[o,n,o+s-2*r,n+a]}},relativePosition:{count:2,type:l.HALF_FLOAT,packTessellation:({gradientStats:t},e,r,i)=>t?.getRelativePosition(r,i)??[0,0]},relativeGradientSize:{count:2,type:l.HALF_FLOAT,packTessellation:({gradientStats:t})=>t?.relativeSize??[1,1]},gradientMethod:{count:1,type:l.UNSIGNED_BYTE,pack:({gradientMethod:t})=>{switch(t.toLowerCase()){case\"rectangular\":return a.rectangular;case\"circular\":return a.circular;default:return a.linear}}}}};class u extends i{constructor(){super(...arguments),this.vertexSpec=p}get _preventEffectClipping(){return!0}createTesselationParams(t){return{gradientStats:n(t.readGeometryForDisplay(),this.evaluatedMeshParams)}}_write(t,e,r){const i=r?.asOptimized()??e.readGeometryForDisplay(),s=this._clip(i);if(!s)return;const a=this.evaluatedMeshParams.sprite?.textureBinding;t.recordStart(this.instanceId,this.attributeLayout,a),this._writeGeometry(t,e,s),t.recordEnd()}}export{u as GradientFillMeshWriter,p as gradientFillVertexSpec};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}