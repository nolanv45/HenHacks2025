{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from \"../../../../../../../core/has.js\";\nimport { loadLibtess as e } from \"../../../../../../../geometry/libtess.js\";\nimport { clipMarshall as t, triangulate as r, triangulateLibtess as s } from \"../../../mesh/templates/templateUtils.js\";\nimport { MeshWriter as i } from \"../mesh/MeshWriter.js\";\nconst o = 100,\n  n = has(\"featurelayer-fast-triangulation-enabled\");\nclass a extends i {\n  async loadDependencies() {\n    await Promise.all([super.loadDependencies(), e()]);\n  }\n  _write(e, t, r) {\n    const s = r?.asOptimized() ?? t.readGeometryForDisplay(),\n      i = this._clip(s);\n    i && (e.recordStart(this.instanceId, this.attributeLayout), this._writeGeometry(e, t, i), e.recordEnd());\n  }\n  _clip(e) {\n    if (!e) return null;\n    const r = this.hasEffects;\n    return t(e, r ? 256 : 8);\n  }\n  _writeGeometry(e, t, i) {\n    const a = i.maxLength > o,\n      c = [],\n      l = this.createTesselationParams(t);\n    if (!a && n && r(c, i)) return void (c.length && this._writeVertices(e, t, i.coords, l, c));\n    const d = s(i);\n    this._writeVertices(e, t, d, l);\n  }\n  _writeVertices(e, t, r, s, i) {\n    const o = t.getDisplayId(),\n      n = e.vertexCount(),\n      a = this.hasEffects;\n    let c = 0;\n    if (i) for (const l of i) {\n      const t = r[2 * l],\n        i = r[2 * l + 1];\n      a && e.recordBounds(t, i, 0, 0), this._writeVertex(e, o, t, i, s), c++;\n    } else for (let l = 0; l < r.length; l += 2) {\n      const t = Math.round(r[l]),\n        i = Math.round(r[l + 1]);\n      a && e.recordBounds(t, i, 0, 0), this._writeVertex(e, o, t, i, s), c++;\n    }\n    e.indexEnsureSize(c);\n    for (let l = 0; l < c; l++) e.indexWrite(l + n);\n  }\n}\nexport { a as AFillMeshWriter };","map":{"version":3,"names":["has","loadLibtess","e","clipMarshall","t","triangulate","r","triangulateLibtess","s","MeshWriter","i","o","n","a","loadDependencies","Promise","all","_write","asOptimized","readGeometryForDisplay","_clip","recordStart","instanceId","attributeLayout","_writeGeometry","recordEnd","hasEffects","maxLength","c","l","createTesselationParams","length","_writeVertices","coords","d","getDisplayId","vertexCount","recordBounds","_writeVertex","Math","round","indexEnsureSize","indexWrite","AFillMeshWriter"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/AFillMeshWriter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../../../core/has.js\";import{loadLibtess as e}from\"../../../../../../../geometry/libtess.js\";import{clipMarshall as t,triangulate as r,triangulateLibtess as s}from\"../../../mesh/templates/templateUtils.js\";import{MeshWriter as i}from\"../mesh/MeshWriter.js\";const o=100,n=has(\"featurelayer-fast-triangulation-enabled\");class a extends i{async loadDependencies(){await Promise.all([super.loadDependencies(),e()])}_write(e,t,r){const s=r?.asOptimized()??t.readGeometryForDisplay(),i=this._clip(s);i&&(e.recordStart(this.instanceId,this.attributeLayout),this._writeGeometry(e,t,i),e.recordEnd())}_clip(e){if(!e)return null;const r=this.hasEffects;return t(e,r?256:8)}_writeGeometry(e,t,i){const a=i.maxLength>o,c=[],l=this.createTesselationParams(t);if(!a&&n&&r(c,i))return void(c.length&&this._writeVertices(e,t,i.coords,l,c));const d=s(i);this._writeVertices(e,t,d,l)}_writeVertices(e,t,r,s,i){const o=t.getDisplayId(),n=e.vertexCount(),a=this.hasEffects;let c=0;if(i)for(const l of i){const t=r[2*l],i=r[2*l+1];a&&e.recordBounds(t,i,0,0),this._writeVertex(e,o,t,i,s),c++}else for(let l=0;l<r.length;l+=2){const t=Math.round(r[l]),i=Math.round(r[l+1]);a&&e.recordBounds(t,i,0,0),this._writeVertex(e,o,t,i,s),c++}e.indexEnsureSize(c);for(let l=0;l<c;l++)e.indexWrite(l+n)}}export{a as AFillMeshWriter};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}