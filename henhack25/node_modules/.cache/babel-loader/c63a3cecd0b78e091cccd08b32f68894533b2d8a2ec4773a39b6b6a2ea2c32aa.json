{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { watch as e, syncAndInitial as t } from \"../../../core/reactiveUtils.js\";\nimport { intersection as n } from \"../../../core/SetUtils.js\";\nimport { sqlAnd as r } from \"../../../core/sql.js\";\nimport { mergeTimeExtents as o } from \"../../../core/timeUtils.js\";\nimport { s as i } from \"../../../chunks/vec32.js\";\nimport { makeDehydratedPoint as s } from \"../../../layers/graphics/dehydratedPoint.js\";\nimport a from \"../../../rest/support/Query.js\";\nimport { ViewEventPriorities as l } from \"../../input/InputManager.js\";\nimport { snappingKeys as p } from \"../keybindings.js\";\nimport { fromAnyMapPoint as c } from \"../sketch/normalizedPoint.js\";\nimport { isWebMap as m } from \"../../../webmap/utils.js\";\nconst d = Symbol(\"grid-placement-graphic\");\nfunction g(e, t) {\n  const n = e.length === t.length && e[0] === t[0] && e[1] === t[1];\n  switch (e.length) {\n    case 2:\n      return n;\n    case 3:\n      return n && e[2] === t[2];\n    case 4:\n      return n && e[2] === t[2] && e[3] === t[3];\n  }\n  return !1;\n}\nfunction u(e, t) {\n  const n = e.x - t.x,\n    r = e.y - t.y;\n  return n * n + r * r;\n}\nfunction f(e, t) {\n  return Math.sqrt(u(e, t));\n}\nfunction E(e, t) {\n  t.sort((t, n) => i(t.targetPoint, e) - i(n.targetPoint, e));\n}\nvar h;\nfunction y(_ref, c, m) {\n  let {\n    point: e,\n    distance: t,\n    returnEdge: n,\n    vertexMode: i,\n    coordinateHelper: {\n      spatialReference: l\n    },\n    filter: p\n  } = _ref;\n  return m = null != m ? m.clone() : new a({\n    where: \"1=1\"\n  }), p && (m.geometry = p.geometry, m.distance = p.distance, m.spatialRelationship = p.spatialRelationship, m.where = r(m.where, p.where), m.timeExtent = o(m.timeExtent, p.timeExtent), m.objectIds = w(m.objectIds, p.objectIds)), {\n    point: s(e[0], e[1], e[2], l.toJSON()),\n    mode: c,\n    distance: t,\n    returnEdge: n,\n    vertexMode: i,\n    query: m.toJSON()\n  };\n}\nfunction w(e, t) {\n  return e || t ? t ? e ? Array.from(n(new Set(e), new Set(t))) : t : e : null;\n}\nfunction j(e, t, n) {\n  return {\n    left: c(e.leftVertex.pos, t, n),\n    right: c(e.rightVertex.pos, t, n)\n  };\n}\n!function (e) {\n  e[e.TARGET = 0] = \"TARGET\", e[e.REFERENCE = 1] = \"REFERENCE\", e[e.REFERENCE_EXTENSION = 2] = \"REFERENCE_EXTENSION\";\n}(h || (h = {}));\nconst R = Symbol(\"snapping-toggle\");\nfunction N(n) {\n  let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : () => {};\n  const o = e(() => ({\n    view: n.view,\n    snappingOptions: n.snappingOptions\n  }), _ref2 => {\n    let {\n      view: e,\n      snappingOptions: t\n    } = _ref2;\n    if (n.removeHandles(R), !e || !t) return;\n    const o = l.TOOL,\n      i = [e.on(\"key-down\", e => {\n        e.key !== p.toggle || e.repeat || (t.enabledToggled = !0, r());\n      }, o), e.on(\"key-up\", e => {\n        e.key === p.toggle && (t.enabledToggled = !1, r());\n      }, o), e.on(\"pointer-move\", e => {\n        const n = e.native.ctrlKey;\n        t.enabledToggled !== n && (t.enabledToggled = n, r());\n      }, o)];\n    n.addHandles(i, R);\n  }, t);\n  n.addHandles(o);\n}\nfunction b(e) {\n  return m(e) && \"utilityNetworks\" in e && !!e.utilityNetworks?.length;\n}\nexport { h as LineSegmentHintType, j as editEdgeToSnappingEdge, d as gridPlacementGraphicSymbol, b as isUtilityNetworkWebMap, y as makeSnappingQuery, g as objectEqual, f as screenDistance, N as setupSnappingToggleHandles, E as sortCandidatesInPlace, u as squaredScreenDistance };","map":{"version":3,"names":["watch","e","syncAndInitial","t","intersection","n","sqlAnd","r","mergeTimeExtents","o","s","i","makeDehydratedPoint","a","ViewEventPriorities","l","snappingKeys","p","fromAnyMapPoint","c","isWebMap","m","d","Symbol","g","length","u","x","y","f","Math","sqrt","E","sort","targetPoint","h","_ref","point","distance","returnEdge","vertexMode","coordinateHelper","spatialReference","filter","clone","where","geometry","spatialRelationship","timeExtent","objectIds","w","toJSON","mode","query","Array","from","Set","j","left","leftVertex","pos","right","rightVertex","TARGET","REFERENCE","REFERENCE_EXTENSION","R","N","arguments","undefined","view","snappingOptions","_ref2","removeHandles","TOOL","on","key","toggle","repeat","enabledToggled","native","ctrlKey","addHandles","b","utilityNetworks","LineSegmentHintType","editEdgeToSnappingEdge","gridPlacementGraphicSymbol","isUtilityNetworkWebMap","makeSnappingQuery","objectEqual","screenDistance","setupSnappingToggleHandles","sortCandidatesInPlace","squaredScreenDistance"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{watch as e,syncAndInitial as t}from\"../../../core/reactiveUtils.js\";import{intersection as n}from\"../../../core/SetUtils.js\";import{sqlAnd as r}from\"../../../core/sql.js\";import{mergeTimeExtents as o}from\"../../../core/timeUtils.js\";import{s as i}from\"../../../chunks/vec32.js\";import{makeDehydratedPoint as s}from\"../../../layers/graphics/dehydratedPoint.js\";import a from\"../../../rest/support/Query.js\";import{ViewEventPriorities as l}from\"../../input/InputManager.js\";import{snappingKeys as p}from\"../keybindings.js\";import{fromAnyMapPoint as c}from\"../sketch/normalizedPoint.js\";import{isWebMap as m}from\"../../../webmap/utils.js\";const d=Symbol(\"grid-placement-graphic\");function g(e,t){const n=e.length===t.length&&e[0]===t[0]&&e[1]===t[1];switch(e.length){case 2:return n;case 3:return n&&e[2]===t[2];case 4:return n&&e[2]===t[2]&&e[3]===t[3]}return!1}function u(e,t){const n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function f(e,t){return Math.sqrt(u(e,t))}function E(e,t){t.sort(((t,n)=>i(t.targetPoint,e)-i(n.targetPoint,e)))}var h;function y({point:e,distance:t,returnEdge:n,vertexMode:i,coordinateHelper:{spatialReference:l},filter:p},c,m){return m=null!=m?m.clone():new a({where:\"1=1\"}),p&&(m.geometry=p.geometry,m.distance=p.distance,m.spatialRelationship=p.spatialRelationship,m.where=r(m.where,p.where),m.timeExtent=o(m.timeExtent,p.timeExtent),m.objectIds=w(m.objectIds,p.objectIds)),{point:s(e[0],e[1],e[2],l.toJSON()),mode:c,distance:t,returnEdge:n,vertexMode:i,query:m.toJSON()}}function w(e,t){return e||t?t?e?Array.from(n(new Set(e),new Set(t))):t:e:null}function j(e,t,n){return{left:c(e.leftVertex.pos,t,n),right:c(e.rightVertex.pos,t,n)}}!function(e){e[e.TARGET=0]=\"TARGET\",e[e.REFERENCE=1]=\"REFERENCE\",e[e.REFERENCE_EXTENSION=2]=\"REFERENCE_EXTENSION\"}(h||(h={}));const R=Symbol(\"snapping-toggle\");function N(n,r=()=>{}){const o=e((()=>({view:n.view,snappingOptions:n.snappingOptions})),(({view:e,snappingOptions:t})=>{if(n.removeHandles(R),!e||!t)return;const o=l.TOOL,i=[e.on(\"key-down\",(e=>{e.key!==p.toggle||e.repeat||(t.enabledToggled=!0,r())}),o),e.on(\"key-up\",(e=>{e.key===p.toggle&&(t.enabledToggled=!1,r())}),o),e.on(\"pointer-move\",(e=>{const n=e.native.ctrlKey;t.enabledToggled!==n&&(t.enabledToggled=n,r())}),o)];n.addHandles(i,R)}),t);n.addHandles(o)}function b(e){return m(e)&&\"utilityNetworks\"in e&&!!e.utilityNetworks?.length}export{h as LineSegmentHintType,j as editEdgeToSnappingEdge,d as gridPlacementGraphicSymbol,b as isUtilityNetworkWebMap,y as makeSnappingQuery,g as objectEqual,f as screenDistance,N as setupSnappingToggleHandles,E as sortCandidatesInPlace,u as squaredScreenDistance};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}