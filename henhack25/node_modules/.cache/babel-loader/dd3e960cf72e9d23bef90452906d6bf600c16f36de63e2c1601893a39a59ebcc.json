{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport { parse as t } from \"../../layers/support/arcgisLayerUrl.js\";\nimport { fetchFeatureService as r } from \"../../layers/support/fetchService.js\";\nimport { LayerLoadContext as a } from \"../../layers/support/LayerLoadContext.js\";\nimport o from \"../Portal.js\";\nimport { createForItemRead as n } from \"./jsonContext.js\";\nimport { getFirstLayerOrTable as s, preprocessFSItemData as l, populateSceneServiceItemData as i, getNumLayersAndTables as u, createSublayerData as p, instanceTypeToLayerTypes as c, getSublayersByLayerType as y, layerTypeToLayerModuleType as m } from \"./loadUtils.js\";\nimport { hasTypeKeyword as d } from \"./portalItemUtils.js\";\nimport { loadStyleRenderer as f } from \"../../renderers/support/styleUtils.js\";\nimport { fetchArcGISServiceJSON as w } from \"../../support/requestPresets.js\";\nasync function h(e, t) {\n  const r = e.instance.portalItem;\n  if (r?.id) return await r.load(t), g(e), e.validateItem && e.validateItem(r), I(e, t);\n}\nfunction g(t) {\n  const r = t.instance.portalItem;\n  if (!r?.type || !t.supportedTypes.includes(r.type)) throw new e(\"portal:invalid-layer-item-type\", \"Invalid layer item type '${type}', expected '${expectedType}'\", {\n    type: r?.type,\n    expectedType: t.supportedTypes.join(\", \")\n  });\n}\nasync function I(e, t) {\n  const r = e.instance,\n    o = r.portalItem;\n  if (!o) return;\n  const {\n      url: s,\n      title: l\n    } = o,\n    i = n(o, \"portal-item\");\n  if (\"group\" === r.type) return b(r, i, e);\n  s && \"media\" !== r.type && r.read({\n    url: s\n  }, i);\n  const u = new a(),\n    p = await F(e, u, t);\n  return p && r.read(p, i), r.resourceReferences = {\n    portalItem: o,\n    paths: i.readResourcePaths ?? []\n  }, \"subtype-group\" !== r.type && r.read({\n    title: l\n  }, i), f(r, i);\n}\nasync function b(t, r, a) {\n  const o = t.portalItem;\n  if (!t.sourceIsPortalItem) return;\n  const {\n    title: n,\n    type: s\n  } = o;\n  if (\"Group Layer\" === s) {\n    if (!d(o, \"Map\")) throw new e(\"portal:invalid-layer-item-typekeyword\", \"'Group Layer' item without 'Map' type keyword is not supported\");\n    return L(t, a);\n  }\n  return t.read({\n    title: n\n  }, r), S(t, a);\n}\nasync function L(t, r) {\n  const a = t.portalItem,\n    o = await a.fetchData(\"json\");\n  if (!o) return;\n  if (!r.populateGroupLayer) throw new e(\"portal:missing-populate-group-layer\", \"Missing populate group layer\");\n  const s = n(a, \"web-map\");\n  t.read(o, s), await r.populateGroupLayer(t, o, {\n    context: s\n  }), t.resourceReferences = {\n    portalItem: a,\n    paths: s.readResourcePaths ?? []\n  };\n}\nasync function S(t, r) {\n  let o;\n  const {\n    portalItem: n\n  } = t;\n  if (!n) return;\n  const p = n.type,\n    c = r.layerModuleTypeMap;\n  if (!c) throw new e(\"portal:missing-layer-module-type-map\", \"Layer module type map is required to construct sub layers\");\n  switch (p) {\n    case \"Feature Service\":\n    case \"Feature Collection\":\n      o = c.FeatureLayer;\n      break;\n    case \"Stream Service\":\n      o = c.StreamLayer;\n      break;\n    case \"Scene Service\":\n      o = c.SceneLayer;\n      break;\n    default:\n      throw new e(\"portal:unsupported-item-type-as-group\", `The item type '${p}' is not supported as a 'IGroupLayer'`);\n  }\n  const y = new a();\n  let [m, d] = await Promise.all([o(), F(r, y)]),\n    f = () => m;\n  if (\"Feature Service\" === p) {\n    const e = s(d)?.customParameters;\n    d = n.url ? await l(d, n.url, y) : {}, f = (await D(d, c)) || f;\n    const r = await C(n.url, {\n      customParameters: e,\n      loadContext: y\n    });\n    return await v(t, f, f, d, c, r);\n  }\n  return \"Scene Service\" === p && n.url && (d = await i(n, d, y)), u(d) > 0 ? await v(t, f, null, d, c) : await T(t, f, c);\n}\nasync function T(e, t, r) {\n  const {\n    portalItem: a\n  } = e;\n  if (!a?.url) return;\n  const o = await w(a.url);\n  o && v(e, t, null, {\n    layers: o.layers?.map(p),\n    tables: o.tables?.map(p)\n  }, r);\n}\nasync function v(e, t, r, a, o, n) {\n  let s = a.layers || [];\n  const l = a.tables || [];\n  if (\"Feature Collection\" === e.portalItem?.type ? (s.forEach((e, t) => {\n    e.id = t, \"Table\" === e?.layerDefinition?.type && l.push(e);\n  }), s = s.filter(e => \"Table\" !== e?.layerDefinition?.type)) : (s.reverse(), l.reverse()), s.forEach(r => {\n    const o = n?.(r);\n    if (o || !n) {\n      const n = j(e, t(r), a, r, o);\n      e.add(n);\n    }\n  }), l.length) {\n    const t = r ? null : await o.FeatureLayer();\n    l.forEach(o => {\n      const s = n?.(o);\n      if (s || !n) {\n        const n = j(e, r ? r(o) : t, a, o, s);\n        e.tables.add(n);\n      }\n    });\n  }\n}\nfunction j(e, t, r, a, n) {\n  const s = e.portalItem,\n    l = {\n      portalItem: s.clone(),\n      layerId: a.id\n    };\n  null != a.url && (l.url = a.url);\n  const i = new t(l);\n  if (\"sourceJSON\" in i && (i.sourceJSON = n), \"subtype-group\" !== i.type && \"catalog\" !== i.type && (i.sublayerTitleMode = \"service-name\"), \"Feature Collection\" === s.type) {\n    const e = {\n      origin: \"portal-item\",\n      portal: s.portal || o.getDefault()\n    };\n    i.read(a, e);\n    const t = r.showLegend;\n    null != t && i.read({\n      showLegend: t\n    }, e);\n  }\n  return i;\n}\nasync function F(e, t, r) {\n  if (!1 === e.supportsData) return;\n  const a = e.instance,\n    o = a.portalItem;\n  if (!o) return;\n  let n = null;\n  try {\n    n = await o.fetchData(\"json\", r);\n  } catch (l) {}\n  if (x(a)) {\n    let e = null;\n    const r = await M(o, n, t);\n    if ((n?.layers || n?.tables) && r > 0) {\n      if (null == a.layerId) {\n        const e = c(a.type),\n          t = e?.length ? y(n, e)[0] : s(n);\n        t && (a.layerId = t.id);\n      }\n      e = P(n, a), \"OrientedImageryLayer\" === e?.layerType && \"oriented-imagery\" === a.type && a.supportedSourceTypes.add(\"Feature Layer\"), e && null != n.showLegend && (e.showLegend = n.showLegend);\n    }\n    return r > 1 && \"sublayerTitleMode\" in a && \"service-name\" !== a.sublayerTitleMode && (a.sublayerTitleMode = \"item-title-and-service-name\"), e;\n  }\n  return n;\n}\nasync function M(e, r, a) {\n  if (r?.layers && r?.tables) return u(r);\n  const o = t(e.url);\n  if (!o) return 1;\n  const n = await a.fetchServiceMetadata(o.url.path, {\n    customParameters: s(r)?.customParameters\n  }).catch(() => null);\n  return (r?.layers?.length ?? n?.layers?.length ?? 0) + (r?.tables?.length ?? n?.tables?.length ?? 0);\n}\nfunction P(e, t) {\n  const {\n      layerId: r\n    } = t,\n    a = e.layers?.find(e => e.id === r) || e.tables?.find(e => e.id === r);\n  return a && G(a, t) ? a : null;\n}\nfunction x(e) {\n  return \"stream\" !== e.type && \"layerId\" in e;\n}\nfunction G(e, t) {\n  const r = \"layerType\" in e && e.layerType,\n    {\n      type: a\n    } = t;\n  return !(\"feature\" === a && r && \"ArcGISFeatureLayer\" !== e.layerType || \"catalog\" === a && !r || \"oriented-imagery\" === a && !r || \"subtype-group\" === a && !r);\n}\nasync function C(e, t) {\n  const {\n    layersJSON: a\n  } = await r(e, t);\n  if (!a) return null;\n  const o = [...a.layers, ...a.tables];\n  return e => o.find(t => t.id === e.id);\n}\nasync function D(e, t) {\n  const {\n      layers: r,\n      tables: a\n    } = e,\n    o = [...(r ?? []), ...(a ?? [])];\n  if (!o.length) return;\n  const n = new Set(),\n    s = [];\n  for (const {\n    layerType: u\n  } of o) {\n    const e = u ?? \"ArcGISFeatureLayer\";\n    if (n.has(e)) continue;\n    n.add(e);\n    const r = t[m(e)];\n    s.push(r());\n  }\n  const l = await Promise.all(s),\n    i = new Map();\n  return Array.from(n).forEach((e, t) => {\n    i.set(e, l[t]);\n  }), _ref => {\n    let {\n      layerType: e\n    } = _ref;\n    const t = e ?? \"ArcGISFeatureLayer\";\n    return i.get(t);\n  };\n}\nexport { h as load };","map":{"version":3,"names":["e","parse","t","fetchFeatureService","r","LayerLoadContext","a","o","createForItemRead","n","getFirstLayerOrTable","s","preprocessFSItemData","l","populateSceneServiceItemData","i","getNumLayersAndTables","u","createSublayerData","p","instanceTypeToLayerTypes","c","getSublayersByLayerType","y","layerTypeToLayerModuleType","m","hasTypeKeyword","d","loadStyleRenderer","f","fetchArcGISServiceJSON","w","h","instance","portalItem","id","load","g","validateItem","I","type","supportedTypes","includes","expectedType","join","url","title","b","read","F","resourceReferences","paths","readResourcePaths","sourceIsPortalItem","L","S","fetchData","populateGroupLayer","context","layerModuleTypeMap","FeatureLayer","StreamLayer","SceneLayer","Promise","all","customParameters","D","C","loadContext","v","T","layers","map","tables","forEach","layerDefinition","push","filter","reverse","j","add","length","clone","layerId","sourceJSON","sublayerTitleMode","origin","portal","getDefault","showLegend","supportsData","x","M","P","layerType","supportedSourceTypes","fetchServiceMetadata","path","catch","find","G","layersJSON","Set","has","Map","Array","from","set","_ref","get"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/portal/support/layersLoader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{parse as t}from\"../../layers/support/arcgisLayerUrl.js\";import{fetchFeatureService as r}from\"../../layers/support/fetchService.js\";import{LayerLoadContext as a}from\"../../layers/support/LayerLoadContext.js\";import o from\"../Portal.js\";import{createForItemRead as n}from\"./jsonContext.js\";import{getFirstLayerOrTable as s,preprocessFSItemData as l,populateSceneServiceItemData as i,getNumLayersAndTables as u,createSublayerData as p,instanceTypeToLayerTypes as c,getSublayersByLayerType as y,layerTypeToLayerModuleType as m}from\"./loadUtils.js\";import{hasTypeKeyword as d}from\"./portalItemUtils.js\";import{loadStyleRenderer as f}from\"../../renderers/support/styleUtils.js\";import{fetchArcGISServiceJSON as w}from\"../../support/requestPresets.js\";async function h(e,t){const r=e.instance.portalItem;if(r?.id)return await r.load(t),g(e),e.validateItem&&e.validateItem(r),I(e,t)}function g(t){const r=t.instance.portalItem;if(!r?.type||!t.supportedTypes.includes(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r?.type,expectedType:t.supportedTypes.join(\", \")})}async function I(e,t){const r=e.instance,o=r.portalItem;if(!o)return;const{url:s,title:l}=o,i=n(o,\"portal-item\");if(\"group\"===r.type)return b(r,i,e);s&&\"media\"!==r.type&&r.read({url:s},i);const u=new a,p=await F(e,u,t);return p&&r.read(p,i),r.resourceReferences={portalItem:o,paths:i.readResourcePaths??[]},\"subtype-group\"!==r.type&&r.read({title:l},i),f(r,i)}async function b(t,r,a){const o=t.portalItem;if(!t.sourceIsPortalItem)return;const{title:n,type:s}=o;if(\"Group Layer\"===s){if(!d(o,\"Map\"))throw new e(\"portal:invalid-layer-item-typekeyword\",\"'Group Layer' item without 'Map' type keyword is not supported\");return L(t,a)}return t.read({title:n},r),S(t,a)}async function L(t,r){const a=t.portalItem,o=await a.fetchData(\"json\");if(!o)return;if(!r.populateGroupLayer)throw new e(\"portal:missing-populate-group-layer\",\"Missing populate group layer\");const s=n(a,\"web-map\");t.read(o,s),await r.populateGroupLayer(t,o,{context:s}),t.resourceReferences={portalItem:a,paths:s.readResourcePaths??[]}}async function S(t,r){let o;const{portalItem:n}=t;if(!n)return;const p=n.type,c=r.layerModuleTypeMap;if(!c)throw new e(\"portal:missing-layer-module-type-map\",\"Layer module type map is required to construct sub layers\");switch(p){case\"Feature Service\":case\"Feature Collection\":o=c.FeatureLayer;break;case\"Stream Service\":o=c.StreamLayer;break;case\"Scene Service\":o=c.SceneLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${p}' is not supported as a 'IGroupLayer'`)}const y=new a;let[m,d]=await Promise.all([o(),F(r,y)]),f=()=>m;if(\"Feature Service\"===p){const e=s(d)?.customParameters;d=n.url?await l(d,n.url,y):{},f=await D(d,c)||f;const r=await C(n.url,{customParameters:e,loadContext:y});return await v(t,f,f,d,c,r)}return\"Scene Service\"===p&&n.url&&(d=await i(n,d,y)),u(d)>0?await v(t,f,null,d,c):await T(t,f,c)}async function T(e,t,r){const{portalItem:a}=e;if(!a?.url)return;const o=await w(a.url);o&&v(e,t,null,{layers:o.layers?.map(p),tables:o.tables?.map(p)},r)}async function v(e,t,r,a,o,n){let s=a.layers||[];const l=a.tables||[];if(\"Feature Collection\"===e.portalItem?.type?(s.forEach(((e,t)=>{e.id=t,\"Table\"===e?.layerDefinition?.type&&l.push(e)})),s=s.filter((e=>\"Table\"!==e?.layerDefinition?.type))):(s.reverse(),l.reverse()),s.forEach((r=>{const o=n?.(r);if(o||!n){const n=j(e,t(r),a,r,o);e.add(n)}})),l.length){const t=r?null:await o.FeatureLayer();l.forEach((o=>{const s=n?.(o);if(s||!n){const n=j(e,r?r(o):t,a,o,s);e.tables.add(n)}}))}}function j(e,t,r,a,n){const s=e.portalItem,l={portalItem:s.clone(),layerId:a.id};null!=a.url&&(l.url=a.url);const i=new t(l);if(\"sourceJSON\"in i&&(i.sourceJSON=n),\"subtype-group\"!==i.type&&\"catalog\"!==i.type&&(i.sublayerTitleMode=\"service-name\"),\"Feature Collection\"===s.type){const e={origin:\"portal-item\",portal:s.portal||o.getDefault()};i.read(a,e);const t=r.showLegend;null!=t&&i.read({showLegend:t},e)}return i}async function F(e,t,r){if(!1===e.supportsData)return;const a=e.instance,o=a.portalItem;if(!o)return;let n=null;try{n=await o.fetchData(\"json\",r)}catch(l){}if(x(a)){let e=null;const r=await M(o,n,t);if((n?.layers||n?.tables)&&r>0){if(null==a.layerId){const e=c(a.type),t=e?.length?y(n,e)[0]:s(n);t&&(a.layerId=t.id)}e=P(n,a),\"OrientedImageryLayer\"===e?.layerType&&\"oriented-imagery\"===a.type&&a.supportedSourceTypes.add(\"Feature Layer\"),e&&null!=n.showLegend&&(e.showLegend=n.showLegend)}return r>1&&\"sublayerTitleMode\"in a&&\"service-name\"!==a.sublayerTitleMode&&(a.sublayerTitleMode=\"item-title-and-service-name\"),e}return n}async function M(e,r,a){if(r?.layers&&r?.tables)return u(r);const o=t(e.url);if(!o)return 1;const n=await a.fetchServiceMetadata(o.url.path,{customParameters:s(r)?.customParameters}).catch((()=>null));return(r?.layers?.length??n?.layers?.length??0)+(r?.tables?.length??n?.tables?.length??0)}function P(e,t){const{layerId:r}=t,a=e.layers?.find((e=>e.id===r))||e.tables?.find((e=>e.id===r));return a&&G(a,t)?a:null}function x(e){return\"stream\"!==e.type&&\"layerId\"in e}function G(e,t){const r=\"layerType\"in e&&e.layerType,{type:a}=t;return!(\"feature\"===a&&r&&\"ArcGISFeatureLayer\"!==e.layerType||\"catalog\"===a&&!r||\"oriented-imagery\"===a&&!r||\"subtype-group\"===a&&!r)}async function C(e,t){const{layersJSON:a}=await r(e,t);if(!a)return null;const o=[...a.layers,...a.tables];return e=>o.find((t=>t.id===e.id))}async function D(e,t){const{layers:r,tables:a}=e,o=[...r??[],...a??[]];if(!o.length)return;const n=new Set,s=[];for(const{layerType:u}of o){const e=u??\"ArcGISFeatureLayer\";if(n.has(e))continue;n.add(e);const r=t[m(e)];s.push(r())}const l=await Promise.all(s),i=new Map;return Array.from(n).forEach(((e,t)=>{i.set(e,l[t])})),({layerType:e})=>{const t=e??\"ArcGISFeatureLayer\";return i.get(t)}}export{h as load};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}