{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport has from \"../../../core/has.js\";\nimport e from \"../../../core/Loadable.js\";\nimport { debounce as o } from \"../../../core/promiseUtils.js\";\nimport { open as r } from \"../../../core/workers/workers.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../../../geometry/Extent.js\";\nimport a from \"../../../rest/support/FeatureSet.js\";\nlet c = class extends e {\n  constructor(t) {\n    super(t), this.type = \"csv\", this.refresh = o(async t => {\n      await this.load();\n      const {\n        extent: e,\n        timeExtent: o\n      } = await this._connection.invoke(\"refresh\", t);\n      return e && (this.sourceJSON.extent = e), o && (this.sourceJSON.timeInfo.timeExtent = [o.start, o.end]), {\n        dataChanged: !0,\n        updates: {\n          extent: this.sourceJSON.extent,\n          timeInfo: this.sourceJSON.timeInfo\n        }\n      };\n    });\n  }\n  load(t) {\n    const e = null != t ? t.signal : null;\n    return this.addResolvingPromise(this._startWorker(e)), Promise.resolve(this);\n  }\n  destroy() {\n    this._connection?.close(), this._connection = null;\n  }\n  async openPorts() {\n    return await this.load(), this._connection.openPorts();\n  }\n  async queryFeatures(t, e = {}) {\n    await this.load(e);\n    const o = await this._connection.invoke(\"queryFeatures\", t ? t.toJSON() : null, e);\n    return a.fromJSON(o);\n  }\n  async queryFeaturesJSON(t, e = {}) {\n    return await this.load(e), this._connection.invoke(\"queryFeatures\", t ? t.toJSON() : null, e);\n  }\n  async queryFeatureCount(t, e = {}) {\n    return await this.load(e), this._connection.invoke(\"queryFeatureCount\", t ? t.toJSON() : null, e);\n  }\n  async queryObjectIds(t, e = {}) {\n    return await this.load(e), this._connection.invoke(\"queryObjectIds\", t ? t.toJSON() : null, e);\n  }\n  async queryExtent(t, e = {}) {\n    await this.load(e);\n    const o = await this._connection.invoke(\"queryExtent\", t ? t.toJSON() : null, e);\n    return {\n      count: o.count,\n      extent: n.fromJSON(o.extent)\n    };\n  }\n  async querySnapping(t, e = {}) {\n    return await this.load(e), this._connection.invoke(\"querySnapping\", t, e);\n  }\n  async queryAttributeBins(t, e = {}) {\n    return await this.load(), this._connection.invoke(\"queryAttributeBins\", t ? t.toJSON() : null, e);\n  }\n  async _startWorker(t) {\n    this._connection = await r(\"CSVSourceWorker\", {\n      strategy: has(\"feature-layers-workers\") ? \"dedicated\" : \"local\",\n      signal: t,\n      registryTarget: this\n    });\n    const {\n        url: e,\n        delimiter: o,\n        fields: i,\n        latitudeField: s,\n        longitudeField: n,\n        spatialReference: a,\n        timeInfo: c\n      } = this.loadOptions,\n      u = await this._connection.invoke(\"load\", {\n        url: e,\n        customParameters: this.customParameters,\n        parsingOptions: {\n          delimiter: o,\n          fields: i?.map(t => t.toJSON()),\n          latitudeField: s,\n          longitudeField: n,\n          spatialReference: a?.toJSON(),\n          timeInfo: c?.toJSON()\n        }\n      }, {\n        signal: t\n      });\n    this.locationInfo = u.locationInfo, this.sourceJSON = u.layerDefinition, this.delimiter = u.delimiter;\n  }\n};\nt([i()], c.prototype, \"type\", void 0), t([i()], c.prototype, \"loadOptions\", void 0), t([i()], c.prototype, \"customParameters\", void 0), t([i()], c.prototype, \"locationInfo\", void 0), t([i()], c.prototype, \"sourceJSON\", void 0), t([i()], c.prototype, \"delimiter\", void 0), c = t([s(\"esri.layers.graphics.sources.CSVSource\")], c);\nexport { c as CSVSource };","map":{"version":3,"names":["_","t","has","e","debounce","o","open","r","property","i","subclass","s","n","a","c","constructor","type","refresh","load","extent","timeExtent","_connection","invoke","sourceJSON","timeInfo","start","end","dataChanged","updates","signal","addResolvingPromise","_startWorker","Promise","resolve","destroy","close","openPorts","queryFeatures","toJSON","fromJSON","queryFeaturesJSON","queryFeatureCount","queryObjectIds","queryExtent","count","querySnapping","queryAttributeBins","strategy","registryTarget","url","delimiter","fields","latitudeField","longitudeField","spatialReference","loadOptions","u","customParameters","parsingOptions","map","locationInfo","layerDefinition","prototype","CSVSource"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/graphics/sources/CSVSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import has from\"../../../core/has.js\";import e from\"../../../core/Loadable.js\";import{debounce as o}from\"../../../core/promiseUtils.js\";import{open as r}from\"../../../core/workers/workers.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../geometry/Extent.js\";import a from\"../../../rest/support/FeatureSet.js\";let c=class extends e{constructor(t){super(t),this.type=\"csv\",this.refresh=o((async t=>{await this.load();const{extent:e,timeExtent:o}=await this._connection.invoke(\"refresh\",t);return e&&(this.sourceJSON.extent=e),o&&(this.sourceJSON.timeInfo.timeExtent=[o.start,o.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}}))}load(t){const e=null!=t?t.signal:null;return this.addResolvingPromise(this._startWorker(e)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}async openPorts(){return await this.load(),this._connection.openPorts()}async queryFeatures(t,e={}){await this.load(e);const o=await this._connection.invoke(\"queryFeatures\",t?t.toJSON():null,e);return a.fromJSON(o)}async queryFeaturesJSON(t,e={}){return await this.load(e),this._connection.invoke(\"queryFeatures\",t?t.toJSON():null,e)}async queryFeatureCount(t,e={}){return await this.load(e),this._connection.invoke(\"queryFeatureCount\",t?t.toJSON():null,e)}async queryObjectIds(t,e={}){return await this.load(e),this._connection.invoke(\"queryObjectIds\",t?t.toJSON():null,e)}async queryExtent(t,e={}){await this.load(e);const o=await this._connection.invoke(\"queryExtent\",t?t.toJSON():null,e);return{count:o.count,extent:n.fromJSON(o.extent)}}async querySnapping(t,e={}){return await this.load(e),this._connection.invoke(\"querySnapping\",t,e)}async queryAttributeBins(t,e={}){return await this.load(),this._connection.invoke(\"queryAttributeBins\",t?t.toJSON():null,e)}async _startWorker(t){this._connection=await r(\"CSVSourceWorker\",{strategy:has(\"feature-layers-workers\")?\"dedicated\":\"local\",signal:t,registryTarget:this});const{url:e,delimiter:o,fields:i,latitudeField:s,longitudeField:n,spatialReference:a,timeInfo:c}=this.loadOptions,u=await this._connection.invoke(\"load\",{url:e,customParameters:this.customParameters,parsingOptions:{delimiter:o,fields:i?.map((t=>t.toJSON())),latitudeField:s,longitudeField:n,spatialReference:a?.toJSON(),timeInfo:c?.toJSON()}},{signal:t});this.locationInfo=u.locationInfo,this.sourceJSON=u.layerDefinition,this.delimiter=u.delimiter}};t([i()],c.prototype,\"type\",void 0),t([i()],c.prototype,\"loadOptions\",void 0),t([i()],c.prototype,\"customParameters\",void 0),t([i()],c.prototype,\"locationInfo\",void 0),t([i()],c.prototype,\"sourceJSON\",void 0),t([i()],c.prototype,\"delimiter\",void 0),c=t([s(\"esri.layers.graphics.sources.CSVSource\")],c);export{c as CSVSource};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}