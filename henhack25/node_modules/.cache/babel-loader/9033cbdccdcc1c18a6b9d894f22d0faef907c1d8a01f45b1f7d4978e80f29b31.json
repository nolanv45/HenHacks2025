{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { isSome as r } from \"../../../core/arrayUtils.js\";\nimport { destroyHandle as a } from \"../../../core/handleUtils.js\";\nimport \"../../../core/has.js\";\nimport { allSettledValues as n, throwIfAborted as s } from \"../../../core/promiseUtils.js\";\nimport { mapCollectionAsync as i, watch as o, sync as c } from \"../../../core/reactiveUtils.js\";\nimport { getMetersPerUnitForSR as u, getMetersPerVerticalUnitForSR as l } from \"../../../core/unitUtils.js\";\nimport { property as p } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as d } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { squaredDistance as m } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { s as g, c as h } from \"../../../chunks/vec32.js\";\nimport { create as S } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getEpsilon as f } from \"../../../core/libs/gl-matrix-2/math/common.js\";\nimport { UpdatingHandles as y } from \"../../../core/support/UpdatingHandles.js\";\nimport { absoluteHeightElevationInfo as _ } from \"../../../support/elevationInfoUtils.js\";\nimport { VerticalHalfPlaneConstraint as v } from \"../sketch/constraints.js\";\nimport { fromAnyMapPoint as w, markAsTarget as j, asVec2 as F } from \"../sketch/normalizedPoint.js\";\nimport { FeatureSnappingSourceInfo as b } from \"./FeatureSnappingSourceInfo.js\";\nimport { SnappingDomain as x } from \"./SnappingDomain.js\";\nimport { sortCandidatesInPlace as C, screenDistance as R } from \"./snappingUtils.js\";\nimport { DrapedEdgeSnappingCandidate as E } from \"./candidates/DrapedEdgeSnappingCandidate.js\";\nimport { EdgeSnappingCandidate as M } from \"./candidates/EdgeSnappingCandidate.js\";\nimport { FeatureSnappingCandidate as L } from \"./candidates/FeatureSnappingCandidate.js\";\nimport { RightAngleSnappingCandidate as I, OtherVertexType as G } from \"./candidates/RightAngleSnappingCandidate.js\";\nimport { vectorToScreenPoint as H } from \"../support/viewUtils.js\";\nlet P = class extends t {\n  get updating() {\n    return this._snappingSources.some(e => null == e?.valid || !0 === e.valid && !0 === e.snappingSource?.updating) || this._updatingHandles.updating;\n  }\n  constructor(e) {\n    super(e), this.options = null, this._domain = x.FEATURE, this._updatingHandles = new y(), this._sourceModules = {\n      featureService: {\n        module: null,\n        loader: null\n      },\n      featureCollection: {\n        module: null,\n        loader: null\n      },\n      graphics: {\n        module: null,\n        loader: null\n      },\n      notes: {\n        module: null,\n        loader: null\n      },\n      scene: {\n        module: null,\n        loader: null\n      }\n    };\n  }\n  initialize() {\n    const e = i(() => this.options?._effectiveFeatureSources, (e, t) => this._createSourceInfo(e, t));\n    this._snappingSources = e, this.addHandles([a(e), o(() => ({\n      rulesEnabled: !!this.options?.attributeRulesEnabled,\n      sources: this._snappingSources.filter(r)\n    }), _ref => {\n      let {\n        rulesEnabled: e,\n        sources: t\n      } = _ref;\n      for (const r of t) r.attributeRulesEnabled = e;\n    }, c)]);\n  }\n  destroy() {\n    this._set(\"options\", null), this._updatingHandles.destroy();\n  }\n  async fetchCandidates(e, t, r, a) {\n    if (!(t & this._domain && null != this.options && this.options.effectiveFeatureEnabled)) return [];\n    const i = [],\n      o = this._computeScreenSizeDistanceParameters(e, r);\n    for (const n of this._snappingSources) {\n      if (!n?.valid || !n.snappingSource?.layerSource?.enabled || n.layerView?.suspended) continue;\n      const t = n.getFetchCandidatesParameters(e, r, o);\n      for (const e of t) i.push(n.snappingSource.fetchCandidates(e, a).then(e => e.filter(e => !this._candidateIsExcluded(n.snappingSource, e, r.excludeFeature))));\n    }\n    const c = (await n(i)).flat();\n    return this._addRightAngleCandidates(c, e, o, r), s(a), C(e, c), c;\n  }\n  _addRightAngleCandidates(e, t, r, a) {\n    const n = null != a.vertexHandle ? a.vertexHandle.rightEdge?.rightVertex?.pos : null != a.editGeometryOperations && \"polygon\" === a.editGeometryOperations.data.type ? a.editGeometryOperations.data.components[0]?.getFirstVertex()?.pos : null,\n      s = null != a.vertexHandle ? a.vertexHandle.leftEdge?.leftVertex?.pos : null != a.editGeometryOperations ? a.editGeometryOperations.data.components[0]?.getLastVertex()?.pos : null,\n      {\n        view: i\n      } = this,\n      o = w(n, i, a),\n      c = w(s, i, a),\n      u = e.length;\n    for (let l = 0; l < u; l++) this._addRightAngleCandidate(e[l], c, t, r, e), this._addRightAngleCandidate(e[l], o, t, r, e);\n  }\n  _addRightAngleCandidate(e, t, r, a, n) {\n    if (null == t || !A(e)) return;\n    const s = e.constraint.closestTo(t),\n      i = (s[0] - r[0]) / a.x,\n      o = (s[1] - r[1]) / a.y,\n      {\n        start: c,\n        end: u\n      } = e.constraint;\n    if (i * i + o * o <= 1) {\n      const r = m(F(s), F(c)) > m(F(s), F(u)) ? c : u,\n        a = new I({\n          targetPoint: j(s),\n          otherVertex: t,\n          otherVertexType: G.NEXT,\n          previousVertex: r,\n          constraint: new v(t, s),\n          objectId: e.objectId,\n          isDraped: e.isDraped,\n          domain: x.FEATURE\n        });\n      n.push(a);\n    }\n  }\n  _computeScreenSizeDistanceParameters(e, t) {\n    let r = null != this.options ? this.options.distance * (\"touch\" === t.pointer ? this.options.touchSensitivityMultiplier : 1) : 0;\n    return null == this.view ? {\n      x: r,\n      y: r,\n      z: r,\n      distance: r\n    } : \"2d\" === this.view.type ? (r *= this.view.resolution, {\n      x: r,\n      y: r,\n      z: r,\n      distance: r\n    }) : this._computeScreenSizeDistanceParameters3D(e, r, this.view, t);\n  }\n  _computeScreenSizeDistanceParameters3D(e, t, r, a) {\n    const {\n      spatialReference: n\n    } = a;\n    r.renderCoordsHelper.toRenderCoords(e, n, D);\n    const s = r.state.camera.computeScreenPixelSizeAt(D),\n      i = s * r.renderCoordsHelper.unitInMeters,\n      o = i / u(n),\n      c = i / l(n),\n      p = t * o,\n      d = t * c,\n      m = H(e, n, _, r),\n      g = m ? z(m, e, o, 0, 0, r, a) : 0,\n      h = m ? z(m, e, 0, o, 0, r, a) : 0,\n      S = m ? z(m, e, 0, 0, c, r, a) : 0;\n    return {\n      x: 0 === g ? 0 : p / g,\n      y: 0 === h ? 0 : p / h,\n      z: 0 === S ? 0 : d / S,\n      distance: s * t\n    };\n  }\n  _candidateIsExcluded(e, t, r) {\n    if (null == r) return !1;\n    const a = this._getCandidateObjectId(t);\n    if (null == a) return !1;\n    const n = e.layerSource.layer;\n    return \"graphics\" === n.type ? r.uid === a : r.sourceLayer === n && !(!r.attributes || !(\"objectIdField\" in n)) && r.attributes[n.objectIdField] === a;\n  }\n  _getCandidateObjectId(e) {\n    return e instanceof L ? e.objectId : null;\n  }\n  async _createSourceInfo(e, t) {\n    const r = e.layer;\n    r.loaded || (await r.load(), s(t));\n    const {\n        view: a\n      } = this,\n      n = await this._createFeatureSnappingSourceType(e);\n    return s(t), new b(null == n ? {} : {\n      snappingSource: n,\n      view: a,\n      layer: r\n    });\n  }\n  async _createFeatureSnappingSourceType(e) {\n    switch (e.layer.type) {\n      case \"feature\":\n      case \"geojson\":\n      case \"csv\":\n      case \"oriented-imagery\":\n      case \"subtype-group\":\n      case \"wfs\":\n        return this._createFeatureSnappingSourceFeatureLayer(e);\n      case \"graphics\":\n        return this._createFeatureSnappingSourceGraphicsLayer(e);\n      case \"map-notes\":\n        return this._createFeatureSnappingSourceMapNotesLayer(e);\n      case \"scene\":\n      case \"building-scene\":\n        return this._createFeatureSnappingSourceSceneLayer(e);\n    }\n    return null;\n  }\n  async _createFeatureSnappingSourceSceneLayer(e) {\n    const {\n      view: t\n    } = this;\n    if (null == t || \"3d\" !== t.type) return null;\n    return new (await this._getSourceModule(\"scene\")).SceneLayerSnappingSource({\n      layerSource: e,\n      view: t\n    });\n  }\n  async _createFeatureSnappingSourceFeatureLayer(e) {\n    switch (e.layer.source?.type) {\n      case \"feature-layer\":\n      case \"oriented-imagery\":\n        return new (await this._getSourceModule(\"featureService\")).FeatureServiceSnappingSource({\n          spatialReference: this.spatialReference,\n          view: this.view,\n          layerSource: e\n        });\n      case \"memory\":\n      case \"csv\":\n      case \"geojson\":\n      case \"wfs\":\n        if (\"mesh\" === e.layer.geometryType) return null;\n        return new (await this._getSourceModule(\"featureCollection\")).FeatureCollectionSnappingSource({\n          layerSource: e,\n          view: this.view\n        });\n    }\n    return null;\n  }\n  async _createFeatureSnappingSourceGraphicsLayer(e) {\n    return new (await this._getSourceModule(\"graphics\")).GraphicsSnappingSource({\n      getGraphicsLayers: () => [e.layer],\n      spatialReference: this.spatialReference,\n      view: this.view,\n      layerSource: e\n    });\n  }\n  async _createFeatureSnappingSourceMapNotesLayer(e) {\n    return new (await this._getSourceModule(\"notes\")).GraphicsSnappingSource({\n      getGraphicsLayers: () => e.layer.sublayers?.toArray() ?? [],\n      spatialReference: this.spatialReference,\n      view: this.view,\n      layerSource: e\n    });\n  }\n  async _getSourceModule(e) {\n    const t = this._sourceModules[e];\n    if (null == t.loader) {\n      const t = this._loadSourceModule(e),\n        r = {\n          module: null,\n          loader: t\n        };\n      this._sourceModules[e] = r;\n      const a = await t,\n        n = {\n          module: a,\n          loader: t\n        };\n      return this._sourceModules[e] = n, a;\n    }\n    return null == t.module ? t.loader : t.module;\n  }\n  _loadSourceModule(e) {\n    const t = this._updatingHandles;\n    switch (e) {\n      case \"featureService\":\n        return t.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));\n      case \"featureCollection\":\n        return t.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));\n      case \"graphics\":\n      case \"notes\":\n        return t.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));\n      case \"scene\":\n        return t.addPromise(import(\"./featureSources/SceneLayerSnappingSource.js\"));\n    }\n  }\n  get test() {}\n};\nfunction A(e) {\n  return (e instanceof M || e instanceof E) && !U(e);\n}\nfunction U(_ref2) {\n  let {\n    constraint: {\n      start: e,\n      end: t\n    }\n  } = _ref2;\n  const r = g(e, t),\n    a = m(F(e), F(t));\n  return r < f() || a / r < T;\n}\nfunction z(e, t, r, a, n, s, _ref3) {\n  let {\n    spatialReference: i\n  } = _ref3;\n  const o = h(O, t);\n  o[0] += r, o[1] += a, o[2] += n;\n  const c = H(o, i, _, s);\n  return c ? R(c, e) : 1 / 0;\n}\ne([p({\n  constructOnly: !0\n})], P.prototype, \"spatialReference\", void 0), e([p({\n  constructOnly: !0\n})], P.prototype, \"view\", void 0), e([p()], P.prototype, \"options\", void 0), e([p({\n  readOnly: !0\n})], P.prototype, \"updating\", null), e([p()], P.prototype, \"_snappingSources\", void 0), P = e([d(\"esri.views.interactive.snapping.FeatureSnappingEngine\")], P);\nconst D = S(),\n  O = S(),\n  T = 1e-4;\nexport { P as FeatureSnappingEngine };","map":{"version":3,"names":["_","e","t","isSome","r","destroyHandle","a","allSettledValues","n","throwIfAborted","s","mapCollectionAsync","i","watch","o","sync","c","getMetersPerUnitForSR","u","getMetersPerVerticalUnitForSR","l","property","p","subclass","d","squaredDistance","m","g","h","create","S","getEpsilon","f","UpdatingHandles","y","absoluteHeightElevationInfo","VerticalHalfPlaneConstraint","v","fromAnyMapPoint","w","markAsTarget","j","asVec2","F","FeatureSnappingSourceInfo","b","SnappingDomain","x","sortCandidatesInPlace","C","screenDistance","R","DrapedEdgeSnappingCandidate","E","EdgeSnappingCandidate","M","FeatureSnappingCandidate","L","RightAngleSnappingCandidate","I","OtherVertexType","G","vectorToScreenPoint","H","P","updating","_snappingSources","some","valid","snappingSource","_updatingHandles","constructor","options","_domain","FEATURE","_sourceModules","featureService","module","loader","featureCollection","graphics","notes","scene","initialize","_effectiveFeatureSources","_createSourceInfo","addHandles","rulesEnabled","attributeRulesEnabled","sources","filter","_ref","destroy","_set","fetchCandidates","effectiveFeatureEnabled","_computeScreenSizeDistanceParameters","layerSource","enabled","layerView","suspended","getFetchCandidatesParameters","push","then","_candidateIsExcluded","excludeFeature","flat","_addRightAngleCandidates","vertexHandle","rightEdge","rightVertex","pos","editGeometryOperations","data","type","components","getFirstVertex","leftEdge","leftVertex","getLastVertex","view","length","_addRightAngleCandidate","A","constraint","closestTo","start","end","targetPoint","otherVertex","otherVertexType","NEXT","previousVertex","objectId","isDraped","domain","distance","pointer","touchSensitivityMultiplier","z","resolution","_computeScreenSizeDistanceParameters3D","spatialReference","renderCoordsHelper","toRenderCoords","D","state","camera","computeScreenPixelSizeAt","unitInMeters","_getCandidateObjectId","layer","uid","sourceLayer","attributes","objectIdField","loaded","load","_createFeatureSnappingSourceType","_createFeatureSnappingSourceFeatureLayer","_createFeatureSnappingSourceGraphicsLayer","_createFeatureSnappingSourceMapNotesLayer","_createFeatureSnappingSourceSceneLayer","_getSourceModule","SceneLayerSnappingSource","source","FeatureServiceSnappingSource","geometryType","FeatureCollectionSnappingSource","GraphicsSnappingSource","getGraphicsLayers","sublayers","toArray","_loadSourceModule","addPromise","test","U","_ref2","T","_ref3","O","constructOnly","prototype","readOnly","FeatureSnappingEngine"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{isSome as r}from\"../../../core/arrayUtils.js\";import{destroyHandle as a}from\"../../../core/handleUtils.js\";import\"../../../core/has.js\";import{allSettledValues as n,throwIfAborted as s}from\"../../../core/promiseUtils.js\";import{mapCollectionAsync as i,watch as o,sync as c}from\"../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as u,getMetersPerVerticalUnitForSR as l}from\"../../../core/unitUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as m}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{s as g,c as h}from\"../../../chunks/vec32.js\";import{create as S}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getEpsilon as f}from\"../../../core/libs/gl-matrix-2/math/common.js\";import{UpdatingHandles as y}from\"../../../core/support/UpdatingHandles.js\";import{absoluteHeightElevationInfo as _}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as v}from\"../sketch/constraints.js\";import{fromAnyMapPoint as w,markAsTarget as j,asVec2 as F}from\"../sketch/normalizedPoint.js\";import{FeatureSnappingSourceInfo as b}from\"./FeatureSnappingSourceInfo.js\";import{SnappingDomain as x}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as C,screenDistance as R}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as E}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as M}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as L}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as I,OtherVertexType as G}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as H}from\"../support/viewUtils.js\";let P=class extends t{get updating(){return this._snappingSources.some((e=>null==e?.valid||!0===e.valid&&!0===e.snappingSource?.updating))||this._updatingHandles.updating}constructor(e){super(e),this.options=null,this._domain=x.FEATURE,this._updatingHandles=new y,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}initialize(){const e=i((()=>this.options?._effectiveFeatureSources),((e,t)=>this._createSourceInfo(e,t)));this._snappingSources=e,this.addHandles([a(e),o((()=>({rulesEnabled:!!this.options?.attributeRulesEnabled,sources:this._snappingSources.filter(r)})),(({rulesEnabled:e,sources:t})=>{for(const r of t)r.attributeRulesEnabled=e}),c)])}destroy(){this._set(\"options\",null),this._updatingHandles.destroy()}async fetchCandidates(e,t,r,a){if(!(t&this._domain&&null!=this.options&&this.options.effectiveFeatureEnabled))return[];const i=[],o=this._computeScreenSizeDistanceParameters(e,r);for(const n of this._snappingSources){if(!n?.valid||!n.snappingSource?.layerSource?.enabled||n.layerView?.suspended)continue;const t=n.getFetchCandidatesParameters(e,r,o);for(const e of t)i.push(n.snappingSource.fetchCandidates(e,a).then((e=>e.filter((e=>!this._candidateIsExcluded(n.snappingSource,e,r.excludeFeature))))))}const c=(await n(i)).flat();return this._addRightAngleCandidates(c,e,o,r),s(a),C(e,c),c}_addRightAngleCandidates(e,t,r,a){const n=null!=a.vertexHandle?a.vertexHandle.rightEdge?.rightVertex?.pos:null!=a.editGeometryOperations&&\"polygon\"===a.editGeometryOperations.data.type?a.editGeometryOperations.data.components[0]?.getFirstVertex()?.pos:null,s=null!=a.vertexHandle?a.vertexHandle.leftEdge?.leftVertex?.pos:null!=a.editGeometryOperations?a.editGeometryOperations.data.components[0]?.getLastVertex()?.pos:null,{view:i}=this,o=w(n,i,a),c=w(s,i,a),u=e.length;for(let l=0;l<u;l++)this._addRightAngleCandidate(e[l],c,t,r,e),this._addRightAngleCandidate(e[l],o,t,r,e)}_addRightAngleCandidate(e,t,r,a,n){if(null==t||!A(e))return;const s=e.constraint.closestTo(t),i=(s[0]-r[0])/a.x,o=(s[1]-r[1])/a.y,{start:c,end:u}=e.constraint;if(i*i+o*o<=1){const r=m(F(s),F(c))>m(F(s),F(u))?c:u,a=new I({targetPoint:j(s),otherVertex:t,otherVertexType:G.NEXT,previousVertex:r,constraint:new v(t,s),objectId:e.objectId,isDraped:e.isDraped,domain:x.FEATURE});n.push(a)}}_computeScreenSizeDistanceParameters(e,t){let r=null!=this.options?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;return null==this.view?{x:r,y:r,z:r,distance:r}:\"2d\"===this.view.type?(r*=this.view.resolution,{x:r,y:r,z:r,distance:r}):this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,a){const{spatialReference:n}=a;r.renderCoordsHelper.toRenderCoords(e,n,D);const s=r.state.camera.computeScreenPixelSizeAt(D),i=s*r.renderCoordsHelper.unitInMeters,o=i/u(n),c=i/l(n),p=t*o,d=t*c,m=H(e,n,_,r),g=m?z(m,e,o,0,0,r,a):0,h=m?z(m,e,0,o,0,r,a):0,S=m?z(m,e,0,0,c,r,a):0;return{x:0===g?0:p/g,y:0===h?0:p/h,z:0===S?0:d/S,distance:s*t}}_candidateIsExcluded(e,t,r){if(null==r)return!1;const a=this._getCandidateObjectId(t);if(null==a)return!1;const n=e.layerSource.layer;return\"graphics\"===n.type?r.uid===a:r.sourceLayer===n&&(!(!r.attributes||!(\"objectIdField\"in n))&&r.attributes[n.objectIdField]===a)}_getCandidateObjectId(e){return e instanceof L?e.objectId:null}async _createSourceInfo(e,t){const r=e.layer;r.loaded||(await r.load(),s(t));const{view:a}=this,n=await this._createFeatureSnappingSourceType(e);return s(t),new b(null==n?{}:{snappingSource:n,view:a,layer:r})}async _createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e);case\"map-notes\":return this._createFeatureSnappingSourceMapNotesLayer(e);case\"scene\":case\"building-scene\":return this._createFeatureSnappingSourceSceneLayer(e)}return null}async _createFeatureSnappingSourceSceneLayer(e){const{view:t}=this;if(null==t||\"3d\"!==t.type)return null;return new((await this._getSourceModule(\"scene\")).SceneLayerSnappingSource)({layerSource:e,view:t})}async _createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source?.type){case\"feature-layer\":case\"oriented-imagery\":return new((await this._getSourceModule(\"featureService\")).FeatureServiceSnappingSource)({spatialReference:this.spatialReference,view:this.view,layerSource:e});case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":if(\"mesh\"===e.layer.geometryType)return null;return new((await this._getSourceModule(\"featureCollection\")).FeatureCollectionSnappingSource)({layerSource:e,view:this.view})}return null}async _createFeatureSnappingSourceGraphicsLayer(e){return new((await this._getSourceModule(\"graphics\")).GraphicsSnappingSource)({getGraphicsLayers:()=>[e.layer],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _createFeatureSnappingSourceMapNotesLayer(e){return new((await this._getSourceModule(\"notes\")).GraphicsSnappingSource)({getGraphicsLayers:()=>e.layer.sublayers?.toArray()??[],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _getSourceModule(e){const t=this._sourceModules[e];if(null==t.loader){const t=this._loadSourceModule(e),r={module:null,loader:t};this._sourceModules[e]=r;const a=await t,n={module:a,loader:t};return this._sourceModules[e]=n,a}return null==t.module?t.loader:t.module}_loadSourceModule(e){const t=this._updatingHandles;switch(e){case\"featureService\":return t.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return t.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":case\"notes\":return t.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));case\"scene\":return t.addPromise(import(\"./featureSources/SceneLayerSnappingSource.js\"))}}get test(){}};function A(e){return(e instanceof M||e instanceof E)&&!U(e)}function U({constraint:{start:e,end:t}}){const r=g(e,t),a=m(F(e),F(t));return r<f()||a/r<T}function z(e,t,r,a,n,s,{spatialReference:i}){const o=h(O,t);o[0]+=r,o[1]+=a,o[2]+=n;const c=H(o,i,_,s);return c?R(c,e):1/0}e([p({constructOnly:!0})],P.prototype,\"spatialReference\",void 0),e([p({constructOnly:!0})],P.prototype,\"view\",void 0),e([p()],P.prototype,\"options\",void 0),e([p({readOnly:!0})],P.prototype,\"updating\",null),e([p()],P.prototype,\"_snappingSources\",void 0),P=e([d(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],P);const D=S(),O=S(),T=1e-4;export{P as FeatureSnappingEngine};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}