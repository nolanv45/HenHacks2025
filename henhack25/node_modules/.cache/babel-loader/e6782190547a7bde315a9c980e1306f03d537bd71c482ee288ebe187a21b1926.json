{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { ArcadeDate as n } from \"../ArcadeDate.js\";\nimport { ArcadeExecutionError as t, ExecutionErrorCodes as e } from \"../executionError.js\";\nimport { D as a, p as r, m as i, J as o, K as s } from \"../../chunks/languageUtils.js\";\nimport { calculateStat as c } from \"./fieldStats.js\";\nimport { SqlTimeStampOffset as u } from \"../../core/sql/SqlTimestampOffset.js\";\nimport f from \"../../core/sql/WhereClause.js\";\nimport { isArray as d, isString as m } from \"../../support/guards.js\";\nasync function l(n, t, e, a) {\n  if (1 === e.length) {\n    if (d(e[0])) return c(n, e[0], o(e[1], -1));\n    if (i(e[0])) return c(n, e[0].toArray(), o(e[1], -1));\n  } else if (2 === e.length) {\n    if (d(e[0])) return c(n, e[0], o(e[1], -1));\n    if (i(e[0])) return c(n, e[0].toArray(), o(e[1], -1));\n    if (r(e[0])) {\n      const r = await e[0].load(),\n        i = await p(f.create(e[1], {\n          fieldsIndex: r.getFieldsIndex(),\n          timeZone: r.dateFieldsTimeZoneDefaultUTC\n        }), a, t);\n      return g(t, await e[0].calculateStatistic(n, i, o(e[2], 1e3), t.abortSignal));\n    }\n  } else if (3 === e.length && r(e[0])) {\n    const r = await e[0].load(),\n      i = await p(f.create(e[1], {\n        fieldsIndex: r.getFieldsIndex(),\n        timeZone: r.dateFieldsTimeZoneDefaultUTC\n      }), a, t);\n    return g(t, await e[0].calculateStatistic(n, i, o(e[2], 1e3), t.abortSignal));\n  }\n  return c(n, e, -1);\n}\nfunction g(t, e) {\n  return e instanceof u ? n.fromReaderAsTimeStampOffset(e.toStorageFormat()) : e instanceof Date ? n.dateJSAndZoneToArcadeDate(e, s(t)) : e;\n}\nasync function p(n, t, e) {\n  const a = n.getVariables();\n  if (a.length > 0) {\n    const r = {};\n    for (const n of a) r[n] = t.evaluateIdentifier(e, {\n      name: n\n    });\n    n.parameters = r;\n  }\n  return n;\n}\nfunction y(n) {\n  \"async\" === n.mode && (n.functions.stdev = function (t, e) {\n    return n.standardFunctionAsync(t, e, (e, a, r) => l(\"stdev\", t, r, n));\n  }, n.functions.variance = function (t, e) {\n    return n.standardFunctionAsync(t, e, (e, a, r) => l(\"variance\", t, r, n));\n  }, n.functions.average = function (t, e) {\n    return n.standardFunctionAsync(t, e, (e, a, r) => l(\"mean\", t, r, n));\n  }, n.functions.mean = function (t, e) {\n    return n.standardFunctionAsync(t, e, (e, a, r) => l(\"mean\", t, r, n));\n  }, n.functions.sum = function (t, e) {\n    return n.standardFunctionAsync(t, e, (e, a, r) => l(\"sum\", t, r, n));\n  }, n.functions.min = function (t, e) {\n    return n.standardFunctionAsync(t, e, (e, a, r) => l(\"min\", t, r, n));\n  }, n.functions.max = function (t, e) {\n    return n.standardFunctionAsync(t, e, (e, a, r) => l(\"max\", t, r, n));\n  }, n.functions.count = function (o, s) {\n    return n.standardFunctionAsync(o, s, async (n, c, u) => {\n      if (a(u, 1, 1, o, s), r(u[0])) return u[0].count(n.abortSignal);\n      if (d(u[0]) || m(u[0])) return u[0].length;\n      if (i(u[0])) return u[0].length();\n      throw new t(o, e.InvalidParameter, s);\n    });\n  });\n}\nexport { y as registerFunctions };","map":{"version":3,"names":["ArcadeDate","n","ArcadeExecutionError","t","ExecutionErrorCodes","e","D","a","p","r","m","i","J","o","K","s","calculateStat","c","SqlTimeStampOffset","u","f","isArray","d","isString","l","length","toArray","load","create","fieldsIndex","getFieldsIndex","timeZone","dateFieldsTimeZoneDefaultUTC","g","calculateStatistic","abortSignal","fromReaderAsTimeStampOffset","toStorageFormat","Date","dateJSAndZoneToArcadeDate","getVariables","evaluateIdentifier","name","parameters","y","mode","functions","stdev","standardFunctionAsync","variance","average","mean","sum","min","max","count","InvalidParameter","registerFunctions"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/arcade/functions/featuresetstats.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ArcadeDate as n}from\"../ArcadeDate.js\";import{ArcadeExecutionError as t,ExecutionErrorCodes as e}from\"../executionError.js\";import{D as a,p as r,m as i,J as o,K as s}from\"../../chunks/languageUtils.js\";import{calculateStat as c}from\"./fieldStats.js\";import{SqlTimeStampOffset as u}from\"../../core/sql/SqlTimestampOffset.js\";import f from\"../../core/sql/WhereClause.js\";import{isArray as d,isString as m}from\"../../support/guards.js\";async function l(n,t,e,a){if(1===e.length){if(d(e[0]))return c(n,e[0],o(e[1],-1));if(i(e[0]))return c(n,e[0].toArray(),o(e[1],-1))}else if(2===e.length){if(d(e[0]))return c(n,e[0],o(e[1],-1));if(i(e[0]))return c(n,e[0].toArray(),o(e[1],-1));if(r(e[0])){const r=await e[0].load(),i=await p(f.create(e[1],{fieldsIndex:r.getFieldsIndex(),timeZone:r.dateFieldsTimeZoneDefaultUTC}),a,t);return g(t,await e[0].calculateStatistic(n,i,o(e[2],1e3),t.abortSignal))}}else if(3===e.length&&r(e[0])){const r=await e[0].load(),i=await p(f.create(e[1],{fieldsIndex:r.getFieldsIndex(),timeZone:r.dateFieldsTimeZoneDefaultUTC}),a,t);return g(t,await e[0].calculateStatistic(n,i,o(e[2],1e3),t.abortSignal))}return c(n,e,-1)}function g(t,e){return e instanceof u?n.fromReaderAsTimeStampOffset(e.toStorageFormat()):e instanceof Date?n.dateJSAndZoneToArcadeDate(e,s(t)):e}async function p(n,t,e){const a=n.getVariables();if(a.length>0){const r={};for(const n of a)r[n]=t.evaluateIdentifier(e,{name:n});n.parameters=r}return n}function y(n){\"async\"===n.mode&&(n.functions.stdev=function(t,e){return n.standardFunctionAsync(t,e,((e,a,r)=>l(\"stdev\",t,r,n)))},n.functions.variance=function(t,e){return n.standardFunctionAsync(t,e,((e,a,r)=>l(\"variance\",t,r,n)))},n.functions.average=function(t,e){return n.standardFunctionAsync(t,e,((e,a,r)=>l(\"mean\",t,r,n)))},n.functions.mean=function(t,e){return n.standardFunctionAsync(t,e,((e,a,r)=>l(\"mean\",t,r,n)))},n.functions.sum=function(t,e){return n.standardFunctionAsync(t,e,((e,a,r)=>l(\"sum\",t,r,n)))},n.functions.min=function(t,e){return n.standardFunctionAsync(t,e,((e,a,r)=>l(\"min\",t,r,n)))},n.functions.max=function(t,e){return n.standardFunctionAsync(t,e,((e,a,r)=>l(\"max\",t,r,n)))},n.functions.count=function(o,s){return n.standardFunctionAsync(o,s,(async(n,c,u)=>{if(a(u,1,1,o,s),r(u[0]))return u[0].count(n.abortSignal);if(d(u[0])||m(u[0]))return u[0].length;if(i(u[0]))return u[0].length();throw new t(o,e.InvalidParameter,s)}))})}export{y as registerFunctions};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}