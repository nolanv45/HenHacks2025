{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { convertFromFeatures as e, convertFromFeatureSet as t, getQuantizedArea as r } from \"../../../../../layers/graphics/featureConversionUtils.js\";\nimport { hasGeometry as s } from \"../../../../../layers/graphics/OptimizedFeature.js\";\nimport i from \"../../../../../layers/support/FieldsIndex.js\";\nimport { FeatureSetReader as n } from \"./FeatureSetReader.js\";\nclass u extends n {\n  static fromFeatures(t, r) {\n    const {\n        objectIdField: s,\n        geometryType: i\n      } = r,\n      n = e([], t, i, !1, !1, s);\n    for (let e = 0; e < n.length; e++) n[e].displayId = t[e].displayId;\n    return u.fromOptimizedFeatures(n, r);\n  }\n  static fromFeatureSet(e, r) {\n    const s = t(e, r.objectIdField);\n    return u.fromOptimizedFeatureSet(s, r);\n  }\n  static fromOptimizedFeatureSet(e, t) {\n    const r = u.fromOptimizedFeatures(e.features, t);\n    return r._exceededTransferLimit = e.exceededTransferLimit, r._transform = e.transform, r._fieldsIndex = new i(e.fields), r;\n  }\n  static fromOptimizedFeatures(e, t, r) {\n    const s = new u(e, t);\n    return s._fieldsIndex = t.fieldsIndex, s._transform = r, s;\n  }\n  static empty(e) {\n    return new u([], e);\n  }\n  constructor(e, t) {\n    super(t), this._exceededTransferLimit = !1, this._featureIndex = -1, this._fieldsIndex = null, this._geometryType = t.geometryType, this._features = e;\n  }\n  get fields() {\n    return this._fieldsIndex;\n  }\n  get geometryType() {\n    return this._geometryType;\n  }\n  get hasFeatures() {\n    return !!this._features.length;\n  }\n  get hasNext() {\n    return this._featureIndex + 1 < this._features.length;\n  }\n  get exceededTransferLimit() {\n    return this._exceededTransferLimit;\n  }\n  get hasZ() {\n    return !1;\n  }\n  get hasM() {\n    return !1;\n  }\n  get _current() {\n    return this._features[this._featureIndex];\n  }\n  get usedMemory() {\n    return this._current.usedMemory;\n  }\n  getSize() {\n    return this._features.length;\n  }\n  getCursor() {\n    return this.copy();\n  }\n  getInTransform() {\n    return this._transform;\n  }\n  getAttributeHash() {\n    let e = \"\";\n    for (const t in this._current.attributes) e += this._current.attributes[t];\n    return e;\n  }\n  getIndex() {\n    return this._featureIndex;\n  }\n  setIndex(e) {\n    this._featureIndex = e;\n  }\n  getObjectId() {\n    return this._current?.objectId;\n  }\n  getDisplayId() {\n    return this._current.displayId;\n  }\n  setDisplayId(e) {\n    this._current.displayId = e;\n  }\n  copy() {\n    const e = new u(this._features, this.metadata);\n    return this.copyInto(e), e;\n  }\n  next() {\n    for (; ++this._featureIndex < this._features.length && !this._getExists(););\n    return this._featureIndex < this._features.length;\n  }\n  readGeometryArea() {\n    return s(this._current) ? r(this._current.geometry, 2) : 0;\n  }\n  _readX() {\n    return s(this._current) ? this._current.geometry.coords[0] : 0;\n  }\n  _readY() {\n    return s(this._current) ? this._current.geometry.coords[1] : 0;\n  }\n  _readGeometry() {\n    return s(this._current) ? this._current.geometry ?? null : null;\n  }\n  _readServerCentroid() {\n    return this._current.centroid;\n  }\n  _readAttribute(e, t) {\n    if (!this._fieldsIndex) {\n      const t = this._current.attributes[e];\n      if (void 0 !== t) return t;\n      const r = e.toLowerCase();\n      for (const e in this._current.attributes) if (e.toLowerCase() === r) return this._current.attributes[e];\n      return;\n    }\n    const r = this._fieldsIndex.get(e);\n    if (!r) return;\n    const s = this._current.attributes[r.name];\n    return null == s ? s : t && this.fields.isDateField(e) ? new Date(s) : s;\n  }\n  _readAttributes() {\n    return this._current.attributes;\n  }\n  copyInto(e) {\n    super.copyInto(e), e._featureIndex = this._featureIndex, e._transform = this._transform, e._fieldsIndex = this._fieldsIndex;\n  }\n}\nexport { u as FeatureSetReaderJSON };","map":{"version":3,"names":["convertFromFeatures","e","convertFromFeatureSet","t","getQuantizedArea","r","hasGeometry","s","i","FeatureSetReader","n","u","fromFeatures","objectIdField","geometryType","length","displayId","fromOptimizedFeatures","fromFeatureSet","fromOptimizedFeatureSet","features","_exceededTransferLimit","exceededTransferLimit","_transform","transform","_fieldsIndex","fields","fieldsIndex","empty","constructor","_featureIndex","_geometryType","_features","hasFeatures","hasNext","hasZ","hasM","_current","usedMemory","getSize","getCursor","copy","getInTransform","getAttributeHash","attributes","getIndex","setIndex","getObjectId","objectId","getDisplayId","setDisplayId","metadata","copyInto","next","_getExists","readGeometryArea","geometry","_readX","coords","_readY","_readGeometry","_readServerCentroid","centroid","_readAttribute","toLowerCase","get","name","isDateField","Date","_readAttributes","FeatureSetReaderJSON"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{convertFromFeatures as e,convertFromFeatureSet as t,getQuantizedArea as r}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{hasGeometry as s}from\"../../../../../layers/graphics/OptimizedFeature.js\";import i from\"../../../../../layers/support/FieldsIndex.js\";import{FeatureSetReader as n}from\"./FeatureSetReader.js\";class u extends n{static fromFeatures(t,r){const{objectIdField:s,geometryType:i}=r,n=e([],t,i,!1,!1,s);for(let e=0;e<n.length;e++)n[e].displayId=t[e].displayId;return u.fromOptimizedFeatures(n,r)}static fromFeatureSet(e,r){const s=t(e,r.objectIdField);return u.fromOptimizedFeatureSet(s,r)}static fromOptimizedFeatureSet(e,t){const r=u.fromOptimizedFeatures(e.features,t);return r._exceededTransferLimit=e.exceededTransferLimit,r._transform=e.transform,r._fieldsIndex=new i(e.fields),r}static fromOptimizedFeatures(e,t,r){const s=new u(e,t);return s._fieldsIndex=t.fieldsIndex,s._transform=r,s}static empty(e){return new u([],e)}constructor(e,t){super(t),this._exceededTransferLimit=!1,this._featureIndex=-1,this._fieldsIndex=null,this._geometryType=t.geometryType,this._features=e}get fields(){return this._fieldsIndex}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}get _current(){return this._features[this._featureIndex]}get usedMemory(){return this._current.usedMemory}getSize(){return this._features.length}getCursor(){return this.copy()}getInTransform(){return this._transform}getAttributeHash(){let e=\"\";for(const t in this._current.attributes)e+=this._current.attributes[t];return e}getIndex(){return this._featureIndex}setIndex(e){this._featureIndex=e}getObjectId(){return this._current?.objectId}getDisplayId(){return this._current.displayId}setDisplayId(e){this._current.displayId=e}copy(){const e=new u(this._features,this.metadata);return this.copyInto(e),e}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readGeometryArea(){return s(this._current)?r(this._current.geometry,2):0}_readX(){return s(this._current)?this._current.geometry.coords[0]:0}_readY(){return s(this._current)?this._current.geometry.coords[1]:0}_readGeometry(){return s(this._current)?this._current.geometry??null:null}_readServerCentroid(){return this._current.centroid}_readAttribute(e,t){if(!this._fieldsIndex){const t=this._current.attributes[e];if(void 0!==t)return t;const r=e.toLowerCase();for(const e in this._current.attributes)if(e.toLowerCase()===r)return this._current.attributes[e];return}const r=this._fieldsIndex.get(e);if(!r)return;const s=this._current.attributes[r.name];return null==s?s:t&&this.fields.isDateField(e)?new Date(s):s}_readAttributes(){return this._current.attributes}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._transform=this._transform,e._fieldsIndex=this._fieldsIndex}}export{u as FeatureSetReaderJSON};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}