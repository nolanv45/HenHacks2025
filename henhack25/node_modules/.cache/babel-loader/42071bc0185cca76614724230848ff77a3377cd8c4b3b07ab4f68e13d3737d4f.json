{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { createVisualVariableUniforms as e, noVisualVariables as a } from \"./VisualVariablesSchema.js\";\nimport { createSymbolMeshSchemas as i, createDotDensityMeshSchemas as n, createHeatmapMeshSchemas as s, createPieChartMeshSchemas as l } from \"./symbols/SymbolSchema.js\";\nasync function r(e, a) {\n  if (!a) return {\n    type: \"simple\",\n    meshes: []\n  };\n  switch (a.type) {\n    case \"simple\":\n      return t(e, a);\n    case \"dot-density\":\n      return o(e, a);\n    case \"class-breaks\":\n      return u(e, a);\n    case \"unique-value\":\n      return m(e, a);\n    case \"dictionary\":\n      return c(a);\n    case \"heatmap\":\n      return p(e, a);\n    case \"pie-chart\":\n      return f(e, a);\n  }\n}\nasync function t(a, n) {\n  const s = n.symbols,\n    l = s.length ? s[0] : null,\n    r = e(n),\n    t = \"renderer.symbol\";\n  return {\n    type: \"simple\",\n    meshes: await i(l, {\n      schemaOptions: a,\n      uniforms: r,\n      path: t\n    })\n  };\n}\nasync function o(a, i) {\n  const s = e(i),\n    l = \"renderer.symbol\";\n  return {\n    type: \"dot-density\",\n    meshes: await n(i, {\n      schemaOptions: a,\n      uniforms: s,\n      path: l\n    })\n  };\n}\nasync function u(n, s) {\n  const l = e(s),\n    r = s.backgroundFillSymbol,\n    t = s.normalizationType,\n    o = \"log\" === t ? \"esriNormalizeByLog\" : \"percent-of-total\" === t ? \"esriNormalizeByPercentOfTotal\" : \"field\" === t ? \"esriNormalizeByField\" : null,\n    u = s.classBreakInfos.map(async e => ({\n      meshes: await i(e.symbol, {\n        path: `renderer-stop-${e.minValue}-${e.maxValue}`,\n        schemaOptions: n,\n        uniforms: l\n      }),\n      min: e.minValue,\n      max: e.maxValue\n    })),\n    m = (await Promise.all(u)).sort((e, a) => e.min - a.min),\n    c = await i(r, {\n      schemaOptions: n,\n      path: \"renderer.backgroundFill\",\n      uniforms: {\n        ...a,\n        visualVariableSizeOutlineScaleStops: l.visualVariableSizeOutlineScaleStops\n      }\n    }),\n    p = await i(s.defaultSymbol, {\n      schemaOptions: n,\n      path: \"renderer.defaultSymbol\",\n      uniforms: l\n    });\n  return {\n    type: \"interval\",\n    field: s.field,\n    expression: s.valueExpression,\n    backgroundFill: c,\n    defaultSymbol: p,\n    intervals: m,\n    normalizationField: s.normalizationField,\n    normalizationTotal: s.normalizationTotal,\n    normalizationType: o,\n    isMaxInclusive: s.isMaxInclusive\n  };\n}\nasync function m(n, s) {\n  const l = [],\n    r = e(s),\n    t = await i(s.backgroundFillSymbol, {\n      schemaOptions: n,\n      path: \"renderer.backgroundFill\",\n      uniforms: {\n        ...a,\n        visualVariableSizeOutlineScaleStops: r.visualVariableSizeOutlineScaleStops\n      }\n    }),\n    o = await i(s.defaultSymbol, {\n      schemaOptions: n,\n      path: \"renderer.defaultSymbol\",\n      uniforms: r\n    });\n  for (const e of s.uniqueValueInfos ?? []) {\n    const a = await i(e.symbol, {\n      path: `renderer-unique-value-${e.value}`,\n      schemaOptions: n,\n      uniforms: r\n    });\n    l.push({\n      value: \"\" + e.value,\n      symbol: a\n    });\n  }\n  return {\n    type: \"map\",\n    field: s.field,\n    expression: s.valueExpression,\n    field2: s.field2,\n    field3: s.field3,\n    fieldDelimiter: s.fieldDelimiter,\n    backgroundFill: t,\n    defaultSymbol: o,\n    map: l\n  };\n}\nfunction c(a) {\n  const i = e(a),\n    n = a.scaleExpression,\n    s = null != n && \"1\" !== n ? {\n      valueExpressionInfo: {\n        type: \"CIMExpressionInfo\",\n        expression: a.scaleExpression,\n        returnType: \"Numeric\"\n      },\n      defaultValue: 1\n    } : void 0;\n  return {\n    type: \"dictionary\",\n    fieldMap: a.fieldMap,\n    scaleExpression: s,\n    visualVariableUniforms: i\n  };\n}\nasync function p(e, a) {\n  return {\n    type: \"heatmap\",\n    meshes: await s(a, e)\n  };\n}\nasync function f(e, a) {\n  return {\n    type: \"pie-chart\",\n    meshes: await l(a, e)\n  };\n}\nexport { r as createMatcherSchema };","map":{"version":3,"names":["createVisualVariableUniforms","e","noVisualVariables","a","createSymbolMeshSchemas","i","createDotDensityMeshSchemas","n","createHeatmapMeshSchemas","s","createPieChartMeshSchemas","l","r","type","meshes","t","o","u","m","c","p","f","symbols","length","schemaOptions","uniforms","path","backgroundFillSymbol","normalizationType","classBreakInfos","map","symbol","minValue","maxValue","min","max","Promise","all","sort","visualVariableSizeOutlineScaleStops","defaultSymbol","field","expression","valueExpression","backgroundFill","intervals","normalizationField","normalizationTotal","isMaxInclusive","uniqueValueInfos","value","push","field2","field3","fieldDelimiter","scaleExpression","valueExpressionInfo","returnType","defaultValue","fieldMap","visualVariableUniforms","createMatcherSchema"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/schema/processor/MatcherSchema.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createVisualVariableUniforms as e,noVisualVariables as a}from\"./VisualVariablesSchema.js\";import{createSymbolMeshSchemas as i,createDotDensityMeshSchemas as n,createHeatmapMeshSchemas as s,createPieChartMeshSchemas as l}from\"./symbols/SymbolSchema.js\";async function r(e,a){if(!a)return{type:\"simple\",meshes:[]};switch(a.type){case\"simple\":return t(e,a);case\"dot-density\":return o(e,a);case\"class-breaks\":return u(e,a);case\"unique-value\":return m(e,a);case\"dictionary\":return c(a);case\"heatmap\":return p(e,a);case\"pie-chart\":return f(e,a)}}async function t(a,n){const s=n.symbols,l=s.length?s[0]:null,r=e(n),t=\"renderer.symbol\";return{type:\"simple\",meshes:await i(l,{schemaOptions:a,uniforms:r,path:t})}}async function o(a,i){const s=e(i),l=\"renderer.symbol\";return{type:\"dot-density\",meshes:await n(i,{schemaOptions:a,uniforms:s,path:l})}}async function u(n,s){const l=e(s),r=s.backgroundFillSymbol,t=s.normalizationType,o=\"log\"===t?\"esriNormalizeByLog\":\"percent-of-total\"===t?\"esriNormalizeByPercentOfTotal\":\"field\"===t?\"esriNormalizeByField\":null,u=s.classBreakInfos.map((async e=>({meshes:await i(e.symbol,{path:`renderer-stop-${e.minValue}-${e.maxValue}`,schemaOptions:n,uniforms:l}),min:e.minValue,max:e.maxValue}))),m=(await Promise.all(u)).sort(((e,a)=>e.min-a.min)),c=await i(r,{schemaOptions:n,path:\"renderer.backgroundFill\",uniforms:{...a,visualVariableSizeOutlineScaleStops:l.visualVariableSizeOutlineScaleStops}}),p=await i(s.defaultSymbol,{schemaOptions:n,path:\"renderer.defaultSymbol\",uniforms:l});return{type:\"interval\",field:s.field,expression:s.valueExpression,backgroundFill:c,defaultSymbol:p,intervals:m,normalizationField:s.normalizationField,normalizationTotal:s.normalizationTotal,normalizationType:o,isMaxInclusive:s.isMaxInclusive}}async function m(n,s){const l=[],r=e(s),t=await i(s.backgroundFillSymbol,{schemaOptions:n,path:\"renderer.backgroundFill\",uniforms:{...a,visualVariableSizeOutlineScaleStops:r.visualVariableSizeOutlineScaleStops}}),o=await i(s.defaultSymbol,{schemaOptions:n,path:\"renderer.defaultSymbol\",uniforms:r});for(const e of s.uniqueValueInfos??[]){const a=await i(e.symbol,{path:`renderer-unique-value-${e.value}`,schemaOptions:n,uniforms:r});l.push({value:\"\"+e.value,symbol:a})}return{type:\"map\",field:s.field,expression:s.valueExpression,field2:s.field2,field3:s.field3,fieldDelimiter:s.fieldDelimiter,backgroundFill:t,defaultSymbol:o,map:l}}function c(a){const i=e(a),n=a.scaleExpression,s=null!=n&&\"1\"!==n?{valueExpressionInfo:{type:\"CIMExpressionInfo\",expression:a.scaleExpression,returnType:\"Numeric\"},defaultValue:1}:void 0;return{type:\"dictionary\",fieldMap:a.fieldMap,scaleExpression:s,visualVariableUniforms:i}}async function p(e,a){return{type:\"heatmap\",meshes:await s(a,e)}}async function f(e,a){return{type:\"pie-chart\",meshes:await l(a,e)}}export{r as createMatcherSchema};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}