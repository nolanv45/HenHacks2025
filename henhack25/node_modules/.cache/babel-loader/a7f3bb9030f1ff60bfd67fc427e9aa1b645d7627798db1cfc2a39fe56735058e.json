{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport t from \"../../core/Error.js\";\nimport { cache as r, find as n } from \"../../core/iteratorUtils.js\";\nimport { isHTTPSProtocol as a, hasSameOrigin as o, toHTTPS as i } from \"../../core/urlUtils.js\";\nimport s from \"../../geometry/Extent.js\";\nimport { initializeProjection as u, project as p } from \"../../geometry/projection.js\";\nimport l from \"../../geometry/SpatialReference.js\";\nimport { wgs84 as c, equals as m } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { featureGeometryTypeKebabDictionary as f } from \"../../geometry/support/typeUtils.js\";\nimport { getGeometryType as y } from \"../graphics/sources/geojson/geojson.js\";\nimport { visitXML as d, iterateXML as g } from \"./xmlUtils.js\";\nimport { isArcGISUrl as w } from \"../support/arcgisLayerUrl.js\";\nimport b from \"../support/Field.js\";\nimport { getFieldDefaultLength as h } from \"../support/fieldUtils.js\";\nconst T = \"xlink:href\",\n  F = \"2.0.0\",\n  S = \"__esri_wfs_id__\",\n  x = \"wfs-layer:getWFSLayerTypeInfo-error\",\n  E = \"wfs-layer:empty-service\",\n  C = \"wfs-layer:feature-type-not-found\",\n  R = \"wfs-layer:geojson-not-supported\",\n  k = \"wfs-layer:kvp-encoding-not-supported\",\n  P = \"wfs-layer:malformed-json\",\n  j = \"wfs-layer:unknown-geometry-type\",\n  A = \"wfs-layer:unknown-field-type\",\n  N = \"wfs-layer:unsupported-spatial-reference\",\n  G = \"wfs-layer:unsupported-wfs-version\";\nasync function v(t, r) {\n  const n = U((await e(t, {\n    responseType: \"text\",\n    query: {\n      SERVICE: \"WFS\",\n      REQUEST: \"GetCapabilities\",\n      VERSION: F,\n      ...r?.customParameters\n    },\n    signal: r?.signal\n  })).data);\n  return L(t, n), n;\n}\nfunction U(e) {\n  const t = te(e);\n  ne(t), ae(t);\n  const n = t.firstElementChild,\n    a = r(O(n));\n  return {\n    operations: D(n),\n    get featureTypes() {\n      return Array.from(a());\n    },\n    readFeatureTypes: a\n  };\n}\nconst I = [\"json\", \"application/json\", \"geojson\", \"application/json; subtype=geojson\", \"application/geo+json\"];\nfunction M(e) {\n  for (const t of I) {\n    const r = e.findIndex(e => e.toLowerCase() === t);\n    if (r >= 0) return e[r];\n  }\n  return null;\n}\nfunction D(e) {\n  let r = !1;\n  const n = {\n      GetCapabilities: {\n        url: \"\"\n      },\n      DescribeFeatureType: {\n        url: \"\"\n      },\n      GetFeature: {\n        url: \"\",\n        outputFormat: null,\n        supportsPagination: !1\n      }\n    },\n    a = [],\n    o = [];\n  if (d(e, {\n    OperationsMetadata: {\n      Parameter: e => {\n        if (\"outputFormat\" === e.getAttribute(\"name\")) return {\n          AllowedValues: {\n            Value: ({\n              textContent: e\n            }) => {\n              e && a.push(e);\n            }\n          }\n        };\n      },\n      Operation: e => {\n        switch (e.getAttribute(\"name\")) {\n          case \"GetCapabilities\":\n            return {\n              DCP: {\n                HTTP: {\n                  Get: e => {\n                    n.GetCapabilities.url = e.getAttribute(T);\n                  }\n                }\n              }\n            };\n          case \"DescribeFeatureType\":\n            return {\n              DCP: {\n                HTTP: {\n                  Get: e => {\n                    n.DescribeFeatureType.url = e.getAttribute(T);\n                  }\n                }\n              }\n            };\n          case \"GetFeature\":\n            return {\n              DCP: {\n                HTTP: {\n                  Get: e => {\n                    n.GetFeature.url = e.getAttribute(T);\n                  }\n                }\n              },\n              Parameter: e => {\n                if (\"outputFormat\" === e.getAttribute(\"name\")) return {\n                  AllowedValues: {\n                    Value: ({\n                      textContent: e\n                    }) => {\n                      e && o.push(e);\n                    }\n                  }\n                };\n              }\n            };\n        }\n      },\n      Constraint: e => {\n        switch (e.getAttribute(\"name\")) {\n          case \"KVPEncoding\":\n            return {\n              DefaultValue: e => {\n                r = \"true\" === e.textContent.toLowerCase();\n              }\n            };\n          case \"ImplementsResultPaging\":\n            return {\n              DefaultValue: e => {\n                n.GetFeature.supportsPagination = \"true\" === e.textContent.toLowerCase();\n              }\n            };\n        }\n      }\n    }\n  }), n.GetFeature.outputFormat = M(o) ?? M(a), !r) throw new t(k, \"WFS service doesn't support key/value pair (KVP) encoding\");\n  if (null == n.GetFeature.outputFormat) throw new t(R, \"WFS service doesn't support GeoJSON output format\");\n  return n;\n}\nfunction L(e, t) {\n  a(e) && (o(e, t.operations.DescribeFeatureType.url, !0) && (t.operations.DescribeFeatureType.url = i(t.operations.DescribeFeatureType.url)), o(e, t.operations.GetFeature.url, !0) && (t.operations.GetFeature.url = i(t.operations.GetFeature.url)));\n}\nfunction V(e) {\n  const t = parseInt(e.textContent?.match(/(?<wkid>\\d+$)/i)?.groups?.wkid ?? \"\", 10);\n  if (!Number.isNaN(t)) return t;\n}\nfunction O(e) {\n  return g(e, {\n    FeatureTypeList: {\n      FeatureType: e => {\n        const t = {\n            typeName: \"undefined:undefined\",\n            name: \"\",\n            title: \"\",\n            description: \"\",\n            extent: null,\n            namespacePrefix: \"\",\n            namespaceUri: \"\",\n            defaultSpatialReference: 4326,\n            supportedSpatialReferences: []\n          },\n          r = new Set();\n        return d(e, {\n          Name: e => {\n            const {\n              name: r,\n              prefix: n\n            } = re(e.textContent);\n            t.typeName = `${n}:${r}`, t.name = r, t.namespacePrefix = n, t.namespaceUri = e.lookupNamespaceURI(n);\n          },\n          Abstract: e => {\n            t.description = e.textContent;\n          },\n          Title: e => {\n            t.title = e.textContent;\n          },\n          WGS84BoundingBox: e => {\n            t.extent = s.fromJSON($(e));\n          },\n          DefaultCRS: e => {\n            const n = V(e);\n            n && (t.defaultSpatialReference = n, r.add(n));\n          },\n          OtherCRS: e => {\n            const t = V(e);\n            t && r.add(t);\n          }\n        }), t.title || (t.title = t.name), r.add(4326), t.supportedSpatialReferences.push(...r), t;\n      }\n    }\n  });\n}\nfunction $(e) {\n  let t, r, n, a;\n  for (const o of e.children) switch (o.localName) {\n    case \"LowerCorner\":\n      [t, r] = o.textContent.split(\" \").map(e => Number.parseFloat(e));\n      break;\n    case \"UpperCorner\":\n      [n, a] = o.textContent.split(\" \").map(e => Number.parseFloat(e));\n  }\n  return {\n    xmin: t,\n    ymin: r,\n    xmax: n,\n    ymax: a,\n    spatialReference: c\n  };\n}\nfunction Y(e, t, r) {\n  return n(e, e => r ? e.name === t && e.namespaceUri === r : e.typeName === t || e.name === t);\n}\nasync function W(e, t, r, n = {}) {\n  const {\n      featureType: a,\n      extent: o\n    } = await X(e, t, r, n),\n    {\n      spatialReference: i\n    } = oe(e.operations.GetFeature.url, a, n.spatialReference),\n    {\n      fields: s,\n      geometryType: u,\n      swapXY: p,\n      objectIdField: c,\n      geometryField: m\n    } = await q(e, a, i, n);\n  return {\n    url: e.operations.GetCapabilities.url,\n    name: a.name,\n    namespaceUri: a.namespaceUri,\n    fields: s,\n    geometryField: m,\n    geometryType: u,\n    objectIdField: c,\n    spatialReference: n.spatialReference ?? new l({\n      wkid: a.defaultSpatialReference\n    }),\n    extent: o,\n    swapXY: p,\n    wfsCapabilities: e,\n    customParameters: n.customParameters\n  };\n}\nasync function X(e, r, n, a = {}) {\n  const o = e.readFeatureTypes(),\n    i = r ? Y(o, r, n) : o.next().value,\n    {\n      spatialReference: s = new l({\n        wkid: i?.defaultSpatialReference\n      })\n    } = a;\n  if (null == i) throw r ? new t(C, `The type '${r}' could not be found in the service`) : new t(E, \"The service is empty\");\n  let c = i.extent;\n  if (c && !m(c.spatialReference, s)) try {\n    await u(c.spatialReference, s, void 0, a), c = p(c, s);\n  } catch {\n    throw new t(N, \"Projection not supported\");\n  }\n  return {\n    extent: c,\n    spatialReference: s,\n    featureType: i\n  };\n}\nasync function q(e, r, n, a = {}) {\n  const {\n      typeName: o\n    } = r,\n    [i, s] = await Promise.allSettled([J(e.operations.DescribeFeatureType.url, o, a), _(e, o, n, a)]),\n    u = e => new t(x, `An error occurred while getting info about the feature type '${o}'`, {\n      error: e\n    });\n  if (\"rejected\" === i.status) throw u(i.reason);\n  if (\"rejected\" === s.status) throw u(s.reason);\n  const {\n      fields: p,\n      errors: l\n    } = i.value ?? {},\n    c = i.value?.geometryType || s.value?.geometryType,\n    m = s.value?.swapXY ?? !1;\n  if (null == c) throw new t(j, `The geometry type could not be determined for type '${o}`, {\n    typeName: o,\n    geometryType: c,\n    fields: p,\n    errors: l\n  });\n  return {\n    ...z(p ?? []),\n    geometryType: c,\n    swapXY: m\n  };\n}\nfunction z(e) {\n  const t = e.find(e => \"geometry\" === e.type);\n  let r = e.find(e => \"oid\" === e.type);\n  return e = e.filter(e => \"geometry\" !== e.type), r || (r = new b({\n    name: S,\n    type: \"oid\",\n    alias: S\n  }), e.unshift(r)), {\n    geometryField: t?.name ?? null,\n    objectIdField: r.name,\n    fields: e\n  };\n}\nasync function _(t, r, n, a = {}) {\n  let o,\n    i = !1;\n  const [s, u] = await Promise.all([K(t.operations.GetFeature.url, r, n, t.operations.GetFeature.outputFormat, {\n      ...a,\n      count: 1\n    }), e(t.operations.GetFeature.url, {\n      responseType: \"text\",\n      query: Z(r, n, void 0, {\n        ...a,\n        count: 1\n      }),\n      signal: a?.signal\n    })]),\n    p = \"FeatureCollection\" === s.type && s.features[0]?.geometry;\n  if (p) {\n    let e;\n    switch (o = f.fromJSON(y(p.type)), p.type) {\n      case \"Point\":\n        e = p.coordinates;\n        break;\n      case \"LineString\":\n      case \"MultiPoint\":\n        e = p.coordinates[0];\n        break;\n      case \"MultiLineString\":\n      case \"Polygon\":\n        e = p.coordinates[0][0];\n        break;\n      case \"MultiPolygon\":\n        e = p.coordinates[0][0][0];\n    }\n    const t = /<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(u.data);\n    if (t) {\n      const r = e[0].toFixed(3),\n        n = e[1].toFixed(3),\n        a = parseFloat(t[1]).toFixed(3);\n      r === parseFloat(t[2]).toFixed(3) && n === a && (i = !0);\n    }\n  }\n  return {\n    geometryType: o,\n    swapXY: i\n  };\n}\nasync function J(t, r, n) {\n  return Q(r, (await e(t, {\n    responseType: \"text\",\n    query: {\n      SERVICE: \"WFS\",\n      REQUEST: \"DescribeFeatureType\",\n      VERSION: F,\n      TYPENAME: r,\n      TYPENAMES: r,\n      ...n?.customParameters\n    },\n    signal: n?.signal\n  })).data);\n}\nfunction Q(e, r) {\n  const {\n      name: a\n    } = re(e),\n    o = te(r);\n  ae(o);\n  const i = n(g(o.firstElementChild, {\n    element: e => e\n  }), e => e.getAttribute(\"name\") === a);\n  if (null != i) {\n    const e = i.getAttribute(\"type\"),\n      t = e ? n(g(o.firstElementChild, {\n        complexType: e => e\n      }), t => t.getAttribute(\"name\") === re(e).name) : n(g(i, {\n        complexType: e => e\n      }), () => !0);\n    if (t) return B(t);\n  }\n  throw new t(C, `Type '${e}' not found in document`, {\n    document: new XMLSerializer().serializeToString(o)\n  });\n}\nconst H = new Set([\"objectid\", \"fid\"]);\nfunction B(e) {\n  const r = [],\n    n = [];\n  let a;\n  const o = g(e, {\n    complexContent: {\n      extension: {\n        sequence: {\n          element: e => e\n        }\n      }\n    }\n  });\n  for (const i of o) {\n    const o = i.getAttribute(\"name\");\n    if (!o) continue;\n    let s, u;\n    if (i.hasAttribute(\"type\") ? s = re(i.getAttribute(\"type\")).name : d(i, {\n      simpleType: {\n        restriction: e => (s = re(e.getAttribute(\"base\")).name, {\n          maxLength: e => {\n            u = +e.getAttribute(\"value\");\n          }\n        })\n      }\n    }), !s) continue;\n    const p = \"true\" === i.getAttribute(\"nillable\");\n    let l = !1;\n    switch (s.toLowerCase()) {\n      case \"integer\":\n      case \"nonpositiveinteger\":\n      case \"negativeinteger\":\n      case \"long\":\n      case \"int\":\n      case \"short\":\n      case \"byte\":\n      case \"nonnegativeinteger\":\n      case \"unsignedlong\":\n      case \"unsignedint\":\n      case \"unsignedshort\":\n      case \"unsignedbyte\":\n      case \"positiveinteger\":\n        n.push(new b({\n          name: o,\n          alias: o,\n          type: \"integer\",\n          nullable: p,\n          length: h(\"integer\")\n        }));\n        break;\n      case \"float\":\n      case \"double\":\n      case \"decimal\":\n        n.push(new b({\n          name: o,\n          alias: o,\n          type: \"double\",\n          nullable: p,\n          length: h(\"double\")\n        }));\n        break;\n      case \"boolean\":\n      case \"string\":\n      case \"gyearmonth\":\n      case \"gyear\":\n      case \"gmonthday\":\n      case \"gday\":\n      case \"gmonth\":\n      case \"anyuri\":\n      case \"qname\":\n      case \"notation\":\n      case \"normalizedstring\":\n      case \"token\":\n      case \"language\":\n      case \"idrefs\":\n      case \"entities\":\n      case \"nmtoken\":\n      case \"nmtokens\":\n      case \"name\":\n      case \"ncname\":\n      case \"id\":\n      case \"idref\":\n      case \"entity\":\n      case \"duration\":\n      case \"time\":\n        n.push(new b({\n          name: o,\n          alias: o,\n          type: \"string\",\n          nullable: p,\n          length: u ?? h(\"string\")\n        }));\n        break;\n      case \"datetime\":\n      case \"date\":\n        n.push(new b({\n          name: o,\n          alias: o,\n          type: \"date\",\n          nullable: p,\n          length: u ?? h(\"date\")\n        }));\n        break;\n      case \"pointpropertytype\":\n        a = \"point\", l = !0;\n        break;\n      case \"multipointpropertytype\":\n        a = \"multipoint\", l = !0;\n        break;\n      case \"curvepropertytype\":\n      case \"multicurvepropertytype\":\n      case \"multilinestringpropertytype\":\n        a = \"polyline\", l = !0;\n        break;\n      case \"surfacepropertytype\":\n      case \"multisurfacepropertytype\":\n      case \"multipolygonpropertytype\":\n        a = \"polygon\", l = !0;\n        break;\n      case \"geometrypropertytype\":\n      case \"multigeometrypropertytype\":\n        l = !0, r.push(new t(j, `geometry type '${s}' is not supported`, {\n          type: new XMLSerializer().serializeToString(e)\n        }));\n        break;\n      default:\n        r.push(new t(A, `Unknown field type '${s}'`, {\n          type: new XMLSerializer().serializeToString(e)\n        }));\n    }\n    l && n.push(new b({\n      name: o,\n      alias: o,\n      type: \"geometry\",\n      nullable: p\n    }));\n  }\n  for (const t of n) if (\"integer\" === t.type && !t.nullable && H.has(t.name.toLowerCase())) {\n    t.type = \"oid\";\n    break;\n  }\n  return {\n    geometryType: a,\n    fields: n,\n    errors: r\n  };\n}\nasync function K(r, n, a, o, i) {\n  let {\n    data: s\n  } = await e(r, {\n    responseType: \"text\",\n    query: Z(n, a, o, i),\n    signal: i?.signal\n  });\n  s = s.replaceAll(/\": +(-?\\d+),(\\d+)(,)?/g, '\": $1.$2$3');\n  try {\n    return JSON.parse(s);\n  } catch (u) {\n    throw new t(P, \"Error while parsing the response\", {\n      response: s,\n      error: u\n    });\n  }\n}\nfunction Z(e, t, r, n) {\n  const a = \"number\" == typeof t ? t : t.wkid;\n  return {\n    SERVICE: \"WFS\",\n    REQUEST: \"GetFeature\",\n    VERSION: F,\n    TYPENAMES: e,\n    OUTPUTFORMAT: r,\n    SRSNAME: \"EPSG:\" + a,\n    STARTINDEX: n?.startIndex,\n    COUNT: n?.count,\n    ...n?.customParameters\n  };\n}\nasync function ee(t, r, n) {\n  const a = await e(t, {\n      responseType: \"text\",\n      query: {\n        SERVICE: \"WFS\",\n        REQUEST: \"GetFeature\",\n        VERSION: F,\n        TYPENAMES: r,\n        RESULTTYPE: \"hits\",\n        ...n?.customParameters\n      },\n      signal: n?.signal\n    }),\n    o = /numberMatched=[\"'](?<numberMatched>\\d+)[\"']/gi.exec(a.data);\n  if (o?.groups) return +o.groups.numberMatched;\n}\nfunction te(e) {\n  return new DOMParser().parseFromString(e.trim(), \"text/xml\");\n}\nfunction re(e) {\n  const [t, r] = e.split(\":\");\n  return {\n    prefix: r ? t : \"\",\n    name: r ?? t\n  };\n}\nfunction ne(e) {\n  const r = e.firstElementChild?.getAttribute(\"version\");\n  if (r && r !== F) throw new t(G, `Unsupported WFS version ${r}. Supported version: ${F}`);\n}\nfunction ae(e) {\n  let r = \"\",\n    n = \"\";\n  if (d(e.firstElementChild, {\n    Exception: e => (r = e.getAttribute(\"exceptionCode\"), {\n      ExceptionText: e => {\n        n = e.textContent;\n      }\n    })\n  }), r) throw new t(`wfs-layer:${r}`, n);\n}\nfunction oe(e, t, r) {\n  const n = {\n      wkid: t.defaultSpatialReference\n    },\n    a = null != r?.wkid ? {\n      wkid: r.wkid\n    } : n;\n  return {\n    spatialReference: a,\n    getFeatureSpatialReference: w(e) || a.wkid && t.supportedSpatialReferences.includes(a.wkid) ? {\n      wkid: a.wkid\n    } : {\n      wkid: t.defaultSpatialReference\n    }\n  };\n}\nexport { J as describeFeatureType, Y as findFeatureType, v as getCapabilities, K as getFeature, ee as getFeatureCount, X as getFeatureTypeInfo, oe as getGetFeatureSpatialReference, W as getWFSLayerInfo, Q as parseDescribeFeatureTypeResponse, U as parseGetCapabilitiesResponse, z as prepareWFSLayerFields, S as wfsOidFieldName };","map":{"version":3,"names":["e","t","cache","r","find","n","isHTTPSProtocol","a","hasSameOrigin","o","toHTTPS","i","s","initializeProjection","u","project","p","l","wgs84","c","equals","m","featureGeometryTypeKebabDictionary","f","getGeometryType","y","visitXML","d","iterateXML","g","isArcGISUrl","w","b","getFieldDefaultLength","h","T","F","S","x","E","C","R","k","P","j","A","N","G","v","U","responseType","query","SERVICE","REQUEST","VERSION","customParameters","signal","data","L","te","ne","ae","firstElementChild","O","operations","D","featureTypes","Array","from","readFeatureTypes","I","M","findIndex","toLowerCase","GetCapabilities","url","DescribeFeatureType","GetFeature","outputFormat","supportsPagination","OperationsMetadata","Parameter","getAttribute","AllowedValues","Value","textContent","push","Operation","DCP","HTTP","Get","Constraint","DefaultValue","V","parseInt","match","groups","wkid","Number","isNaN","FeatureTypeList","FeatureType","typeName","name","title","description","extent","namespacePrefix","namespaceUri","defaultSpatialReference","supportedSpatialReferences","Set","Name","prefix","re","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","fromJSON","$","DefaultCRS","add","OtherCRS","children","localName","split","map","parseFloat","xmin","ymin","xmax","ymax","spatialReference","Y","W","featureType","X","oe","fields","geometryType","swapXY","objectIdField","geometryField","q","wfsCapabilities","next","value","Promise","allSettled","J","_","error","status","reason","errors","z","type","filter","alias","unshift","all","K","count","Z","features","geometry","coordinates","exec","toFixed","Q","TYPENAME","TYPENAMES","element","complexType","B","document","XMLSerializer","serializeToString","H","complexContent","extension","sequence","hasAttribute","simpleType","restriction","maxLength","nullable","length","has","replaceAll","JSON","parse","response","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","ee","RESULTTYPE","numberMatched","DOMParser","parseFromString","trim","Exception","ExceptionText","getFeatureSpatialReference","includes","describeFeatureType","findFeatureType","getCapabilities","getFeature","getFeatureCount","getFeatureTypeInfo","getGetFeatureSpatialReference","getWFSLayerInfo","parseDescribeFeatureTypeResponse","parseGetCapabilitiesResponse","prepareWFSLayerFields","wfsOidFieldName"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/ogc/wfsUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{cache as r,find as n}from\"../../core/iteratorUtils.js\";import{isHTTPSProtocol as a,hasSameOrigin as o,toHTTPS as i}from\"../../core/urlUtils.js\";import s from\"../../geometry/Extent.js\";import{initializeProjection as u,project as p}from\"../../geometry/projection.js\";import l from\"../../geometry/SpatialReference.js\";import{wgs84 as c,equals as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as f}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as y}from\"../graphics/sources/geojson/geojson.js\";import{visitXML as d,iterateXML as g}from\"./xmlUtils.js\";import{isArcGISUrl as w}from\"../support/arcgisLayerUrl.js\";import b from\"../support/Field.js\";import{getFieldDefaultLength as h}from\"../support/fieldUtils.js\";const T=\"xlink:href\",F=\"2.0.0\",S=\"__esri_wfs_id__\",x=\"wfs-layer:getWFSLayerTypeInfo-error\",E=\"wfs-layer:empty-service\",C=\"wfs-layer:feature-type-not-found\",R=\"wfs-layer:geojson-not-supported\",k=\"wfs-layer:kvp-encoding-not-supported\",P=\"wfs-layer:malformed-json\",j=\"wfs-layer:unknown-geometry-type\",A=\"wfs-layer:unknown-field-type\",N=\"wfs-layer:unsupported-spatial-reference\",G=\"wfs-layer:unsupported-wfs-version\";async function v(t,r){const n=U((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:F,...r?.customParameters},signal:r?.signal})).data);return L(t,n),n}function U(e){const t=te(e);ne(t),ae(t);const n=t.firstElementChild,a=r(O(n));return{operations:D(n),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const I=[\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\",\"application/geo+json\"];function M(e){for(const t of I){const r=e.findIndex((e=>e.toLowerCase()===t));if(r>=0)return e[r]}return null}function D(e){let r=!1;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}},a=[],o=[];if(d(e,{OperationsMetadata:{Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:({textContent:e})=>{e&&a.push(e)}}}},Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(T)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(T)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(T)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:({textContent:e})=>{e&&o.push(e)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),n.GetFeature.outputFormat=M(o)??M(a),!r)throw new t(k,\"WFS service doesn't support key/value pair (KVP) encoding\");if(null==n.GetFeature.outputFormat)throw new t(R,\"WFS service doesn't support GeoJSON output format\");return n}function L(e,t){a(e)&&(o(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=i(t.operations.DescribeFeatureType.url)),o(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=i(t.operations.GetFeature.url)))}function V(e){const t=parseInt(e.textContent?.match(/(?<wkid>\\d+$)/i)?.groups?.wkid??\"\",10);if(!Number.isNaN(t))return t}function O(e){return g(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",defaultSpatialReference:4326,supportedSpatialReferences:[]},r=new Set;return d(e,{Name:e=>{const{name:r,prefix:n}=re(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=s.fromJSON($(e))},DefaultCRS:e=>{const n=V(e);n&&(t.defaultSpatialReference=n,r.add(n))},OtherCRS:e=>{const t=V(e);t&&r.add(t)}}),t.title||(t.title=t.name),r.add(4326),t.supportedSpatialReferences.push(...r),t}}})}function $(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:c}}function Y(e,t,r){return n(e,(e=>r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t))}async function W(e,t,r,n={}){const{featureType:a,extent:o}=await X(e,t,r,n),{spatialReference:i}=oe(e.operations.GetFeature.url,a,n.spatialReference),{fields:s,geometryType:u,swapXY:p,objectIdField:c,geometryField:m}=await q(e,a,i,n);return{url:e.operations.GetCapabilities.url,name:a.name,namespaceUri:a.namespaceUri,fields:s,geometryField:m,geometryType:u,objectIdField:c,spatialReference:n.spatialReference??new l({wkid:a.defaultSpatialReference}),extent:o,swapXY:p,wfsCapabilities:e,customParameters:n.customParameters}}async function X(e,r,n,a={}){const o=e.readFeatureTypes(),i=r?Y(o,r,n):o.next().value,{spatialReference:s=new l({wkid:i?.defaultSpatialReference})}=a;if(null==i)throw r?new t(C,`The type '${r}' could not be found in the service`):new t(E,\"The service is empty\");let c=i.extent;if(c&&!m(c.spatialReference,s))try{await u(c.spatialReference,s,void 0,a),c=p(c,s)}catch{throw new t(N,\"Projection not supported\")}return{extent:c,spatialReference:s,featureType:i}}async function q(e,r,n,a={}){const{typeName:o}=r,[i,s]=await Promise.allSettled([J(e.operations.DescribeFeatureType.url,o,a),_(e,o,n,a)]),u=e=>new t(x,`An error occurred while getting info about the feature type '${o}'`,{error:e});if(\"rejected\"===i.status)throw u(i.reason);if(\"rejected\"===s.status)throw u(s.reason);const{fields:p,errors:l}=i.value??{},c=i.value?.geometryType||s.value?.geometryType,m=s.value?.swapXY??!1;if(null==c)throw new t(j,`The geometry type could not be determined for type '${o}`,{typeName:o,geometryType:c,fields:p,errors:l});return{...z(p??[]),geometryType:c,swapXY:m}}function z(e){const t=e.find((e=>\"geometry\"===e.type));let r=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),r||(r=new b({name:S,type:\"oid\",alias:S}),e.unshift(r)),{geometryField:t?.name??null,objectIdField:r.name,fields:e}}async function _(t,r,n,a={}){let o,i=!1;const[s,u]=await Promise.all([K(t.operations.GetFeature.url,r,n,t.operations.GetFeature.outputFormat,{...a,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:Z(r,n,void 0,{...a,count:1}),signal:a?.signal})]),p=\"FeatureCollection\"===s.type&&s.features[0]?.geometry;if(p){let e;switch(o=f.fromJSON(y(p.type)),p.type){case\"Point\":e=p.coordinates;break;case\"LineString\":case\"MultiPoint\":e=p.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=p.coordinates[0][0];break;case\"MultiPolygon\":e=p.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(u.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(i=!0)}}return{geometryType:o,swapXY:i}}async function J(t,r,n){return Q(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:F,TYPENAME:r,TYPENAMES:r,...n?.customParameters},signal:n?.signal})).data)}function Q(e,r){const{name:a}=re(e),o=te(r);ae(o);const i=n(g(o.firstElementChild,{element:e=>e}),(e=>e.getAttribute(\"name\")===a));if(null!=i){const e=i.getAttribute(\"type\"),t=e?n(g(o.firstElementChild,{complexType:e=>e}),(t=>t.getAttribute(\"name\")===re(e).name)):n(g(i,{complexType:e=>e}),(()=>!0));if(t)return B(t)}throw new t(C,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(o)})}const H=new Set([\"objectid\",\"fid\"]);function B(e){const r=[],n=[];let a;const o=g(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const i of o){const o=i.getAttribute(\"name\");if(!o)continue;let s,u;if(i.hasAttribute(\"type\")?s=re(i.getAttribute(\"type\")).name:d(i,{simpleType:{restriction:e=>(s=re(e.getAttribute(\"base\")).name,{maxLength:e=>{u=+e.getAttribute(\"value\")}})}}),!s)continue;const p=\"true\"===i.getAttribute(\"nillable\");let l=!1;switch(s.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":n.push(new b({name:o,alias:o,type:\"integer\",nullable:p,length:h(\"integer\")}));break;case\"float\":case\"double\":case\"decimal\":n.push(new b({name:o,alias:o,type:\"double\",nullable:p,length:h(\"double\")}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":n.push(new b({name:o,alias:o,type:\"string\",nullable:p,length:u??h(\"string\")}));break;case\"datetime\":case\"date\":n.push(new b({name:o,alias:o,type:\"date\",nullable:p,length:u??h(\"date\")}));break;case\"pointpropertytype\":a=\"point\",l=!0;break;case\"multipointpropertytype\":a=\"multipoint\",l=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":a=\"polyline\",l=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":a=\"polygon\",l=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":l=!0,r.push(new t(j,`geometry type '${s}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new t(A,`Unknown field type '${s}'`,{type:(new XMLSerializer).serializeToString(e)}))}l&&n.push(new b({name:o,alias:o,type:\"geometry\",nullable:p}))}for(const t of n)if(\"integer\"===t.type&&!t.nullable&&H.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:a,fields:n,errors:r}}async function K(r,n,a,o,i){let{data:s}=await e(r,{responseType:\"text\",query:Z(n,a,o,i),signal:i?.signal});s=s.replaceAll(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{return JSON.parse(s)}catch(u){throw new t(P,\"Error while parsing the response\",{response:s,error:u})}}function Z(e,t,r,n){const a=\"number\"==typeof t?t:t.wkid;return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:F,TYPENAMES:e,OUTPUTFORMAT:r,SRSNAME:\"EPSG:\"+a,STARTINDEX:n?.startIndex,COUNT:n?.count,...n?.customParameters}}async function ee(t,r,n){const a=await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:F,TYPENAMES:r,RESULTTYPE:\"hits\",...n?.customParameters},signal:n?.signal}),o=/numberMatched=[\"'](?<numberMatched>\\d+)[\"']/gi.exec(a.data);if(o?.groups)return+o.groups.numberMatched}function te(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function re(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:r??t}}function ne(e){const r=e.firstElementChild?.getAttribute(\"version\");if(r&&r!==F)throw new t(G,`Unsupported WFS version ${r}. Supported version: ${F}`)}function ae(e){let r=\"\",n=\"\";if(d(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}function oe(e,t,r){const n={wkid:t.defaultSpatialReference},a=null!=r?.wkid?{wkid:r.wkid}:n;return{spatialReference:a,getFeatureSpatialReference:w(e)||a.wkid&&t.supportedSpatialReferences.includes(a.wkid)?{wkid:a.wkid}:{wkid:t.defaultSpatialReference}}}export{J as describeFeatureType,Y as findFeatureType,v as getCapabilities,K as getFeature,ee as getFeatureCount,X as getFeatureTypeInfo,oe as getGetFeatureSpatialReference,W as getWFSLayerInfo,Q as parseDescribeFeatureTypeResponse,U as parseGetCapabilitiesResponse,z as prepareWFSLayerFields,S as wfsOidFieldName};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}