{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport a from \"../../core/Accessor.js\";\nimport { watch as t, initial as s, whenOnce as i } from \"../../core/reactiveUtils.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport { cast as p } from \"../../core/accessorSupport/decorators/cast.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { isLoaded as n, canProjectWithoutEngine as c, load as l } from \"../../geometry/projection.js\";\nimport { equals as m } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { basemapEnsureType as h, destroyCache as f } from \"../../support/basemapEnsureType.js\";\nimport { findSpatialReference as d, getBasemapThumbnailUrl as u } from \"../../support/basemapUtils.js\";\nlet g = class extends a {\n  constructor(e) {\n    super(e), this._basemapCache = {}, this._loadingProjectionEngine = !1, this.nextBasemap = h(\"hybrid\", this._basemapCache), this.view = null;\n  }\n  initialize() {\n    t(() => this.nextBasemap, e => {\n      e && !e.loaded && e.load().catch(() => {});\n    }, s);\n  }\n  destroy() {\n    this.view = null, f(this._basemapCache), this._basemapCache = null;\n  }\n  get _nextBasemapSpatialReferenceTask() {\n    return d(this.view, this.nextBasemap);\n  }\n  get _viewSpatialReferenceLocked() {\n    const {\n      view: e\n    } = this;\n    return !e || !(\"spatialReferenceLocked\" in e) || e.spatialReferenceLocked;\n  }\n  get activeBasemap() {\n    return h(this.view?.map?.basemap ?? \"topo-vector\", this._basemapCache);\n  }\n  castNextBasemap(e) {\n    return h(e, this._basemapCache);\n  }\n  get state() {\n    const {\n      view: e\n    } = this;\n    if (!e?.ready) return \"disabled\";\n    if (this._nextBasemapSpatialReferenceTask.updating) return \"disabled\";\n    const {\n      spatialReference: a\n    } = this._nextBasemapSpatialReferenceTask;\n    return this._viewSpatialReferenceLocked && null != a && !e.spatialReference.equals(a) ? \"incompatible-next-basemap\" : this._loadingProjectionEngine ? \"loading\" : \"ready\";\n  }\n  async toggle() {\n    const {\n      activeBasemap: e,\n      nextBasemap: a,\n      state: t,\n      view: s\n    } = this;\n    if (!s || \"disabled\" === t || \"incompatible-next-basemap\" === t) return;\n    const r = this._viewSpatialReferenceLocked;\n    if (!r) {\n      if (await i(() => !this._nextBasemapSpatialReferenceTask.updating), a !== this.nextBasemap || e !== this.activeBasemap) return;\n      const {\n        spatialReference: t\n      } = this._nextBasemapSpatialReferenceTask;\n      if (null == t || m(s.spatialReference, t) || n() || c(s.spatialReference, t) || (this._loadingProjectionEngine = !0, await l(), this._loadingProjectionEngine = !1), a !== this.nextBasemap || e !== this.activeBasemap) return;\n    }\n    s.map.basemap = a, r || null == this._nextBasemapSpatialReferenceTask.spatialReference || m(s.spatialReference, this._nextBasemapSpatialReferenceTask.spatialReference) || (s.spatialReference = this._nextBasemapSpatialReferenceTask.spatialReference), this.nextBasemap = e;\n  }\n  static getThumbnailUrl(e) {\n    return u(e);\n  }\n};\ne([r()], g.prototype, \"_loadingProjectionEngine\", void 0), e([r({\n  readOnly: !0\n})], g.prototype, \"_nextBasemapSpatialReferenceTask\", null), e([r({\n  readOnly: !0\n})], g.prototype, \"_viewSpatialReferenceLocked\", null), e([r({\n  readOnly: !0\n})], g.prototype, \"activeBasemap\", null), e([r()], g.prototype, \"nextBasemap\", void 0), e([p(\"nextBasemap\")], g.prototype, \"castNextBasemap\", null), e([r({\n  readOnly: !0\n})], g.prototype, \"state\", null), e([r()], g.prototype, \"view\", void 0), e([r()], g.prototype, \"toggle\", null), g = e([o(\"esri.widgets.BasemapToggle.BasemapToggleViewModel\")], g);\nconst B = g;\nexport { B as default };","map":{"version":3,"names":["_","e","a","watch","t","initial","s","whenOnce","i","property","r","cast","p","subclass","o","isLoaded","n","canProjectWithoutEngine","c","load","l","equals","m","basemapEnsureType","h","destroyCache","f","findSpatialReference","d","getBasemapThumbnailUrl","u","g","constructor","_basemapCache","_loadingProjectionEngine","nextBasemap","view","initialize","loaded","catch","destroy","_nextBasemapSpatialReferenceTask","_viewSpatialReferenceLocked","spatialReferenceLocked","activeBasemap","map","basemap","castNextBasemap","state","ready","updating","spatialReference","toggle","getThumbnailUrl","prototype","readOnly","B","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/widgets/BasemapToggle/BasemapToggleViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import a from\"../../core/Accessor.js\";import{watch as t,initial as s,whenOnce as i}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as p}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{isLoaded as n,canProjectWithoutEngine as c,load as l}from\"../../geometry/projection.js\";import{equals as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{basemapEnsureType as h,destroyCache as f}from\"../../support/basemapEnsureType.js\";import{findSpatialReference as d,getBasemapThumbnailUrl as u}from\"../../support/basemapUtils.js\";let g=class extends a{constructor(e){super(e),this._basemapCache={},this._loadingProjectionEngine=!1,this.nextBasemap=h(\"hybrid\",this._basemapCache),this.view=null}initialize(){t((()=>this.nextBasemap),(e=>{e&&!e.loaded&&e.load().catch((()=>{}))}),s)}destroy(){this.view=null,f(this._basemapCache),this._basemapCache=null}get _nextBasemapSpatialReferenceTask(){return d(this.view,this.nextBasemap)}get _viewSpatialReferenceLocked(){const{view:e}=this;return!e||!(\"spatialReferenceLocked\"in e)||e.spatialReferenceLocked}get activeBasemap(){return h(this.view?.map?.basemap??\"topo-vector\",this._basemapCache)}castNextBasemap(e){return h(e,this._basemapCache)}get state(){const{view:e}=this;if(!e?.ready)return\"disabled\";if(this._nextBasemapSpatialReferenceTask.updating)return\"disabled\";const{spatialReference:a}=this._nextBasemapSpatialReferenceTask;return this._viewSpatialReferenceLocked&&null!=a&&!e.spatialReference.equals(a)?\"incompatible-next-basemap\":this._loadingProjectionEngine?\"loading\":\"ready\"}async toggle(){const{activeBasemap:e,nextBasemap:a,state:t,view:s}=this;if(!s||\"disabled\"===t||\"incompatible-next-basemap\"===t)return;const r=this._viewSpatialReferenceLocked;if(!r){if(await i((()=>!this._nextBasemapSpatialReferenceTask.updating)),a!==this.nextBasemap||e!==this.activeBasemap)return;const{spatialReference:t}=this._nextBasemapSpatialReferenceTask;if(null==t||m(s.spatialReference,t)||n()||c(s.spatialReference,t)||(this._loadingProjectionEngine=!0,await l(),this._loadingProjectionEngine=!1),a!==this.nextBasemap||e!==this.activeBasemap)return}s.map.basemap=a,r||null==this._nextBasemapSpatialReferenceTask.spatialReference||m(s.spatialReference,this._nextBasemapSpatialReferenceTask.spatialReference)||(s.spatialReference=this._nextBasemapSpatialReferenceTask.spatialReference),this.nextBasemap=e}static getThumbnailUrl(e){return u(e)}};e([r()],g.prototype,\"_loadingProjectionEngine\",void 0),e([r({readOnly:!0})],g.prototype,\"_nextBasemapSpatialReferenceTask\",null),e([r({readOnly:!0})],g.prototype,\"_viewSpatialReferenceLocked\",null),e([r({readOnly:!0})],g.prototype,\"activeBasemap\",null),e([r()],g.prototype,\"nextBasemap\",void 0),e([p(\"nextBasemap\")],g.prototype,\"castNextBasemap\",null),e([r({readOnly:!0})],g.prototype,\"state\",null),e([r()],g.prototype,\"view\",void 0),e([r()],g.prototype,\"toggle\",null),g=e([o(\"esri.widgets.BasemapToggle.BasemapToggleViewModel\")],g);const B=g;export{B as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}