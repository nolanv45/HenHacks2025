{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { GeometryCursor as t } from \"../../../geometry/GeometryCursor.js\";\nimport { collectPath as e } from \"../../../geometry/geometryCursorCollectUtils.js\";\nimport s from \"../../../geometry/SpatialReference.js\";\nimport { isExtent as o } from \"../../../geometry/support/jsonUtils.js\";\nimport { clipCursorToTileExtent as i } from \"../CIMEffects.js\";\nimport { CurveHelper as r, pixelTolerance as n } from \"../CurveHelper.js\";\nimport { GeometricEffectOffsetMethod as f } from \"../enums.js\";\nconst m = 10;\nclass h {\n  static local() {\n    return null === h.instance && (h.instance = new h()), h.instance;\n  }\n  execute(t, e, s, o, i, r, n) {\n    return new l(t, e, s, o, i, r, n);\n  }\n}\nh.instance = null;\nclass l {\n  constructor(t, e, s, o, i, f, h) {\n    this._preventClipping = h, this._inputGeometries = t, this._tileKey = o, this._geometryEngine = i, this._curveHelper = new r(), this._offset = (e.offset ?? 1) * s, this._method = e.method, this._maxInflateSize = Math.max(Math.abs(f * s), m), this._option = e.option, this._offsetFlattenError = n * s;\n  }\n  next() {\n    let r;\n    for (; r = this._inputGeometries.next();) {\n      if (0 === this._offset) return r.clone();\n      if (\"esriGeometryEnvelope\" === r.geometryType) {\n        if (this._method === f.Rounded && this._offset > 0) {\n          const s = e(r),\n            o = this._curveHelper.offset(s, -this._offset, this._method, 4, this._offsetFlattenError);\n          if (o) {\n            const e = t.createEmptyOptimizedCIM(r.geometryType);\n            return e.pushPath(o), e;\n          }\n          return null;\n        }\n        const s = r.asJSON();\n        if (o(s) && Math.min(s.xmax - s.xmin, s.ymax - s.ymin) + 2 * this._offset > 0) return t.fromJSONCIM({\n          xmin: s.xmin - this._offset,\n          xmax: s.xmax + this._offset,\n          ymin: s.ymin - this._offset,\n          ymax: s.ymax + this._offset\n        });\n      }\n      const n = this._geometryEngine;\n      if (null == n) continue;\n      const m = !this._preventClipping && this._tileKey ? i(r, this._maxInflateSize) : r.clone();\n      if (!m) continue;\n      const h = n.offset(s.WebMercator, m.asJSON(), -this._offset, 1, this._method, 4, this._offsetFlattenError);\n      return h ? t.fromJSONCIM(h) : null;\n    }\n    return null;\n  }\n}\nexport { h as EffectOffset };","map":{"version":3,"names":["GeometryCursor","t","collectPath","e","s","isExtent","o","clipCursorToTileExtent","i","CurveHelper","r","pixelTolerance","n","GeometricEffectOffsetMethod","f","m","h","local","instance","execute","l","constructor","_preventClipping","_inputGeometries","_tileKey","_geometryEngine","_curveHelper","_offset","offset","_method","method","_maxInflateSize","Math","max","abs","_option","option","_offsetFlattenError","next","clone","geometryType","Rounded","createEmptyOptimizedCIM","pushPath","asJSON","min","xmax","xmin","ymax","ymin","fromJSONCIM","WebMercator","EffectOffset"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{GeometryCursor as t}from\"../../../geometry/GeometryCursor.js\";import{collectPath as e}from\"../../../geometry/geometryCursorCollectUtils.js\";import s from\"../../../geometry/SpatialReference.js\";import{isExtent as o}from\"../../../geometry/support/jsonUtils.js\";import{clipCursorToTileExtent as i}from\"../CIMEffects.js\";import{CurveHelper as r,pixelTolerance as n}from\"../CurveHelper.js\";import{GeometricEffectOffsetMethod as f}from\"../enums.js\";const m=10;class h{static local(){return null===h.instance&&(h.instance=new h),h.instance}execute(t,e,s,o,i,r,n){return new l(t,e,s,o,i,r,n)}}h.instance=null;class l{constructor(t,e,s,o,i,f,h){this._preventClipping=h,this._inputGeometries=t,this._tileKey=o,this._geometryEngine=i,this._curveHelper=new r,this._offset=(e.offset??1)*s,this._method=e.method,this._maxInflateSize=Math.max(Math.abs(f*s),m),this._option=e.option,this._offsetFlattenError=n*s}next(){let r;for(;r=this._inputGeometries.next();){if(0===this._offset)return r.clone();if(\"esriGeometryEnvelope\"===r.geometryType){if(this._method===f.Rounded&&this._offset>0){const s=e(r),o=this._curveHelper.offset(s,-this._offset,this._method,4,this._offsetFlattenError);if(o){const e=t.createEmptyOptimizedCIM(r.geometryType);return e.pushPath(o),e}return null}const s=r.asJSON();if(o(s)&&Math.min(s.xmax-s.xmin,s.ymax-s.ymin)+2*this._offset>0)return t.fromJSONCIM({xmin:s.xmin-this._offset,xmax:s.xmax+this._offset,ymin:s.ymin-this._offset,ymax:s.ymax+this._offset})}const n=this._geometryEngine;if(null==n)continue;const m=!this._preventClipping&&this._tileKey?i(r,this._maxInflateSize):r.clone();if(!m)continue;const h=n.offset(s.WebMercator,m.asJSON(),-this._offset,1,this._method,4,this._offsetFlattenError);return h?t.fromJSONCIM(h):null}return null}}export{h as EffectOffset};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,cAAc,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,iDAAiD;AAAC,OAAOC,CAAC,MAAK,uCAAuC;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,wCAAwC;AAAC,SAAOC,sBAAsB,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,WAAW,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,2BAA2B,IAAIC,CAAC,QAAK,aAAa;AAAC,MAAMC,CAAC,GAAC,EAAE;AAAC,MAAMC,CAAC;EAAC,OAAOC,KAAKA,CAAA,EAAE;IAAC,OAAO,IAAI,KAAGD,CAAC,CAACE,QAAQ,KAAGF,CAAC,CAACE,QAAQ,GAAC,IAAIF,CAAC,CAAD,CAAC,CAAC,EAACA,CAAC,CAACE,QAAQ;EAAA;EAACC,OAAOA,CAAClB,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;IAAC,OAAO,IAAIQ,CAAC,CAACnB,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC;EAAA;AAAC;AAACI,CAAC,CAACE,QAAQ,GAAC,IAAI;AAAC,MAAME,CAAC;EAACC,WAAWA,CAACpB,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAACE,CAAC,EAACM,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACM,gBAAgB,GAACN,CAAC,EAAC,IAAI,CAACO,gBAAgB,GAACtB,CAAC,EAAC,IAAI,CAACuB,QAAQ,GAAClB,CAAC,EAAC,IAAI,CAACmB,eAAe,GAACjB,CAAC,EAAC,IAAI,CAACkB,YAAY,GAAC,IAAIhB,CAAC,CAAD,CAAC,EAAC,IAAI,CAACiB,OAAO,GAAC,CAACxB,CAAC,CAACyB,MAAM,IAAE,CAAC,IAAExB,CAAC,EAAC,IAAI,CAACyB,OAAO,GAAC1B,CAAC,CAAC2B,MAAM,EAAC,IAAI,CAACC,eAAe,GAACC,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACpB,CAAC,GAACV,CAAC,CAAC,EAACW,CAAC,CAAC,EAAC,IAAI,CAACoB,OAAO,GAAChC,CAAC,CAACiC,MAAM,EAAC,IAAI,CAACC,mBAAmB,GAACzB,CAAC,GAACR,CAAC;EAAA;EAACkC,IAAIA,CAAA,EAAE;IAAC,IAAI5B,CAAC;IAAC,OAAKA,CAAC,GAAC,IAAI,CAACa,gBAAgB,CAACe,IAAI,CAAC,CAAC,GAAE;MAAC,IAAG,CAAC,KAAG,IAAI,CAACX,OAAO,EAAC,OAAOjB,CAAC,CAAC6B,KAAK,CAAC,CAAC;MAAC,IAAG,sBAAsB,KAAG7B,CAAC,CAAC8B,YAAY,EAAC;QAAC,IAAG,IAAI,CAACX,OAAO,KAAGf,CAAC,CAAC2B,OAAO,IAAE,IAAI,CAACd,OAAO,GAAC,CAAC,EAAC;UAAC,MAAMvB,CAAC,GAACD,CAAC,CAACO,CAAC,CAAC;YAACJ,CAAC,GAAC,IAAI,CAACoB,YAAY,CAACE,MAAM,CAACxB,CAAC,EAAC,CAAC,IAAI,CAACuB,OAAO,EAAC,IAAI,CAACE,OAAO,EAAC,CAAC,EAAC,IAAI,CAACQ,mBAAmB,CAAC;UAAC,IAAG/B,CAAC,EAAC;YAAC,MAAMH,CAAC,GAACF,CAAC,CAACyC,uBAAuB,CAAChC,CAAC,CAAC8B,YAAY,CAAC;YAAC,OAAOrC,CAAC,CAACwC,QAAQ,CAACrC,CAAC,CAAC,EAACH,CAAC;UAAA;UAAC,OAAO,IAAI;QAAA;QAAC,MAAMC,CAAC,GAACM,CAAC,CAACkC,MAAM,CAAC,CAAC;QAAC,IAAGtC,CAAC,CAACF,CAAC,CAAC,IAAE4B,IAAI,CAACa,GAAG,CAACzC,CAAC,CAAC0C,IAAI,GAAC1C,CAAC,CAAC2C,IAAI,EAAC3C,CAAC,CAAC4C,IAAI,GAAC5C,CAAC,CAAC6C,IAAI,CAAC,GAAC,CAAC,GAAC,IAAI,CAACtB,OAAO,GAAC,CAAC,EAAC,OAAO1B,CAAC,CAACiD,WAAW,CAAC;UAACH,IAAI,EAAC3C,CAAC,CAAC2C,IAAI,GAAC,IAAI,CAACpB,OAAO;UAACmB,IAAI,EAAC1C,CAAC,CAAC0C,IAAI,GAAC,IAAI,CAACnB,OAAO;UAACsB,IAAI,EAAC7C,CAAC,CAAC6C,IAAI,GAAC,IAAI,CAACtB,OAAO;UAACqB,IAAI,EAAC5C,CAAC,CAAC4C,IAAI,GAAC,IAAI,CAACrB;QAAO,CAAC,CAAC;MAAA;MAAC,MAAMf,CAAC,GAAC,IAAI,CAACa,eAAe;MAAC,IAAG,IAAI,IAAEb,CAAC,EAAC;MAAS,MAAMG,CAAC,GAAC,CAAC,IAAI,CAACO,gBAAgB,IAAE,IAAI,CAACE,QAAQ,GAAChB,CAAC,CAACE,CAAC,EAAC,IAAI,CAACqB,eAAe,CAAC,GAACrB,CAAC,CAAC6B,KAAK,CAAC,CAAC;MAAC,IAAG,CAACxB,CAAC,EAAC;MAAS,MAAMC,CAAC,GAACJ,CAAC,CAACgB,MAAM,CAACxB,CAAC,CAAC+C,WAAW,EAACpC,CAAC,CAAC6B,MAAM,CAAC,CAAC,EAAC,CAAC,IAAI,CAACjB,OAAO,EAAC,CAAC,EAAC,IAAI,CAACE,OAAO,EAAC,CAAC,EAAC,IAAI,CAACQ,mBAAmB,CAAC;MAAC,OAAOrB,CAAC,GAACf,CAAC,CAACiD,WAAW,CAAClC,CAAC,CAAC,GAAC,IAAI;IAAA;IAAC,OAAO,IAAI;EAAA;AAAC;AAAC,SAAOA,CAAC,IAAIoC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}