{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { makeData as e, isAbsolute as r, join as t, isDataProtocol as a, dataComponents as n } from \"../../core/urlUtils.js\";\nimport { f as i, w as u } from \"../../chunks/persistableUrlUtils.js\";\nfunction l(r, t, a) {\n  return t.imageData ? e({\n    mediaType: t.contentType || \"image/png\",\n    isBase64: !0,\n    data: t.imageData\n  }) : o(t.url, a);\n}\nfunction o(e, a) {\n  if (!r(e)) {\n    const r = p(a);\n    if (r) return t(r, \"images\", e);\n  }\n  return i(e, a);\n}\nfunction s(e, r, t, i) {\n  if (a(e)) {\n    const a = n(e);\n    if (!a) return;\n    r.contentType = a.mediaType, r.imageData = a.data, t && t.imageData === r.imageData && t.url && u(t.url, r, \"url\", i);\n  } else u(e, r, \"url\", i);\n}\nconst m = {\n    json: {\n      read: {\n        source: [\"imageData\", \"url\"],\n        reader: l\n      },\n      write: {\n        writer(e, r, t, a) {\n          s(e, r, this.source, a);\n        }\n      }\n    }\n  },\n  c = {\n    readOnly: !0,\n    json: {\n      read: {\n        source: [\"imageData\", \"url\"],\n        reader(e, r, t) {\n          const a = {};\n          return r.imageData && (a.imageData = r.imageData), r.contentType && (a.contentType = r.contentType), r.url && (a.url = o(r.url, t)), a;\n        }\n      }\n    }\n  };\nfunction p(e) {\n  if (!e) return null;\n  const {\n    origin: r,\n    layer: t\n  } = e;\n  if (\"service\" !== r && \"portal-item\" !== r) return null;\n  const a = t?.type;\n  return \"feature\" === a || \"stream\" === a ? t.parsedUrl?.path : \"map-image\" === a || \"tile\" === a ? e.url?.path : null;\n}\nexport { o as read, l as readImageDataOrUrl, c as sourcePropertyDefinition, m as urlPropertyDefinition, s as writeImageDataAndUrl };","map":{"version":3,"names":["makeData","e","isAbsolute","r","join","t","isDataProtocol","a","dataComponents","n","f","i","w","u","l","imageData","mediaType","contentType","isBase64","data","o","url","p","s","m","json","read","source","reader","write","writer","c","readOnly","origin","layer","type","parsedUrl","path","readImageDataOrUrl","sourcePropertyDefinition","urlPropertyDefinition","writeImageDataAndUrl"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/support/urlUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{makeData as e,isAbsolute as r,join as t,isDataProtocol as a,dataComponents as n}from\"../../core/urlUtils.js\";import{f as i,w as u}from\"../../chunks/persistableUrlUtils.js\";function l(r,t,a){return t.imageData?e({mediaType:t.contentType||\"image/png\",isBase64:!0,data:t.imageData}):o(t.url,a)}function o(e,a){if(!r(e)){const r=p(a);if(r)return t(r,\"images\",e)}return i(e,a)}function s(e,r,t,i){if(a(e)){const a=n(e);if(!a)return;r.contentType=a.mediaType,r.imageData=a.data,t&&t.imageData===r.imageData&&t.url&&u(t.url,r,\"url\",i)}else u(e,r,\"url\",i)}const m={json:{read:{source:[\"imageData\",\"url\"],reader:l},write:{writer(e,r,t,a){s(e,r,this.source,a)}}}},c={readOnly:!0,json:{read:{source:[\"imageData\",\"url\"],reader(e,r,t){const a={};return r.imageData&&(a.imageData=r.imageData),r.contentType&&(a.contentType=r.contentType),r.url&&(a.url=o(r.url,t)),a}}}};function p(e){if(!e)return null;const{origin:r,layer:t}=e;if(\"service\"!==r&&\"portal-item\"!==r)return null;const a=t?.type;return\"feature\"===a||\"stream\"===a?t.parsedUrl?.path:\"map-image\"===a||\"tile\"===a?e.url?.path:null}export{o as read,l as readImageDataOrUrl,c as sourcePropertyDefinition,m as urlPropertyDefinition,s as writeImageDataAndUrl};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}