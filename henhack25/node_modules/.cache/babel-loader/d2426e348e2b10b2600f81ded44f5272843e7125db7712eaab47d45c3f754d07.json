{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"./chunks/tslib.es6.js\";\nimport e from \"./core/Clonable.js\";\nimport o from \"./core/Collection.js\";\nimport s from \"./core/JSONSupport.js\";\nimport { clone as i } from \"./core/lang.js\";\nimport r from \"./core/Logger.js\";\nimport { isPromiseLike as n } from \"./core/promiseUtils.js\";\nimport { property as p } from \"./core/accessorSupport/decorators/property.js\";\nimport { cast as l } from \"./core/accessorSupport/decorators/cast.js\";\nimport { reader as a } from \"./core/accessorSupport/decorators/reader.js\";\nimport { subclass as d } from \"./core/accessorSupport/decorators/subclass.js\";\nimport { writer as c } from \"./core/accessorSupport/decorators/writer.js\";\nimport { ensureOneOfType as f } from \"./core/accessorSupport/ensureType.js\";\nimport { collectFields as m, collectArcadeFieldNames as u, extractSubstitutionTemplatesFromString as h } from \"./layers/support/fieldUtils.js\";\nimport { persistableWebSceneTypes as y, persistableTypes as I } from \"./popup/content.js\";\nimport F from \"./popup/ExpressionInfo.js\";\nimport _ from \"./popup/FieldInfo.js\";\nimport w from \"./popup/LayerOptions.js\";\nimport x from \"./popup/RelatedRecordsInfo.js\";\nimport { types as g } from \"./popup/content/support/mediaInfoTypes.js\";\nimport N from \"./support/actions/ActionBase.js\";\nimport A from \"./support/actions/ActionButton.js\";\nimport C from \"./support/actions/ActionToggle.js\";\nimport j from \"./popup/content/MediaContent.js\";\nimport S from \"./popup/content/TextContent.js\";\nimport E from \"./popup/content/AttachmentsContent.js\";\nimport O from \"./popup/content/FieldsContent.js\";\nimport R from \"./popup/content/ExpressionContent.js\";\nimport T from \"./popup/content/RelationshipContent.js\";\nimport b from \"./popup/content/UtilityNetworkAssociationsContent.js\";\nimport v from \"./popup/content/Content.js\";\nimport J from \"./popup/content/CustomContent.js\";\nconst B = \"relationships/\",\n  L = \"expression/\",\n  M = o.ofType({\n    key: \"type\",\n    defaultKeyValue: \"button\",\n    base: N,\n    typeMap: {\n      button: A,\n      toggle: C\n    }\n  }),\n  k = {\n    base: v,\n    key: \"type\",\n    typeMap: {\n      media: j,\n      custom: J,\n      text: S,\n      attachments: E,\n      fields: O,\n      expression: R,\n      relationship: T,\n      utilityNetworkAssociations: b\n    }\n  },\n  P = new Set([\"attachments\", \"fields\", \"media\", \"text\", \"expression\", \"relationship\"]),\n  W = new Set([...P, \"utility-network-associations\"]);\nlet U = class extends e.ClonableMixin(s) {\n  constructor() {\n    super(...arguments), this.actions = null, this.content = \"\", this.expressionInfos = null, this.fieldInfos = null, this.layerOptions = null, this.lastEditInfoEnabled = !0, this.outFields = null, this.overwriteActions = !1, this.returnGeometry = !1, this.title = \"\";\n  }\n  castContent(t) {\n    return Array.isArray(t) ? t.map(t => f(k, t)) : \"string\" == typeof t || \"function\" == typeof t || t instanceof HTMLElement || n(t) ? t : (r.getLogger(this).error(\"content error\", \"unsupported content value\", {\n      value: t\n    }), null);\n  }\n  readContent(t, e) {\n    const {\n      popupElements: o\n    } = e;\n    return Array.isArray(o) && o.length > 0 ? this._readPopupInfoElements(e.description, e.mediaInfos, o) : this._readPopupInfo(e);\n  }\n  writeWebSceneContent(t, e, o, s) {\n    this._writePopupTemplateContent(t, e, s);\n  }\n  writeWebMapContent(t, e, o, s) {\n    this._writePopupTemplateContent(t, e, s);\n  }\n  writeFieldInfos(t, e, o, s) {\n    const {\n        content: i\n      } = this,\n      r = Array.isArray(i) ? i : null;\n    if (t) {\n      const o = r ? r.filter(t => \"fields\" === t.type) : [],\n        i = o.length && o.every(t => t.fieldInfos?.length);\n      e.fieldInfos = t.filter(Boolean).map(t => {\n        const e = t.toJSON(s);\n        return i && (e.visible = !1), e;\n      });\n    }\n    if (r) for (const n of r) \"fields\" === n.type && this._writeFieldsContent(n, e);\n  }\n  writeLayerOptions(t, e, o, s) {\n    e[o] = !t || null === t.showNoDataRecords && null === t.returnTopmostRaster ? null : t.toJSON(s);\n  }\n  writeTitle(t, e) {\n    e.title = t || \"\";\n  }\n  async collectRequiredFields(t, e) {\n    const o = this.expressionInfos || [];\n    await this._collectExpressionInfoFields(t, e, [...o, ...this._getContentExpressionInfos(this.content, o)]), m(t, e, [...(this.outFields || []), ...this._getActionsFields(this.actions), ...this._getTitleFields(this.title), ...this._getContentFields(this.content)]);\n  }\n  async getRequiredFields(t) {\n    const e = new Set();\n    return await this.collectRequiredFields(e, t), [...e].sort();\n  }\n  _writePopupTemplateContent(t, e, o) {\n    \"string\" != typeof t ? Array.isArray(t) && (e.popupElements = t.filter(t => \"web-scene\" === o?.origin ? P.has(t.type) : W.has(t.type)).map(t => t?.toJSON(o)), e.popupElements.forEach(t => {\n      \"attachments\" === t.type ? this._writeAttachmentContent(e) : \"media\" === t.type ? this._writeMediaContent(t, e) : \"text\" === t.type ? this._writeTextContent(t, e) : \"relationship\" === t.type && this._writeRelationshipContent(t, e);\n    })) : e.description = t;\n  }\n  _writeFieldsContent(t, e) {\n    if (!Array.isArray(t.fieldInfos) || !t.fieldInfos.length) return;\n    const o = i(t.fieldInfos);\n    Array.isArray(e.fieldInfos) ? o.forEach(t => {\n      const o = e.fieldInfos.find(e => e.fieldName?.toLowerCase() === t.fieldName?.toLowerCase());\n      o ? o.visible = !0 : e.fieldInfos.push(t);\n    }) : e.fieldInfos = o;\n  }\n  _writeAttachmentContent(t) {\n    t.showAttachments || (t.showAttachments = !0);\n  }\n  _writeRelationshipContent(t, e) {\n    const o = t.orderByFields?.map(e => this._toFieldOrderJSON(e, t.relationshipId)) || [],\n      s = [...(e.relatedRecordsInfo?.orderByFields || []), ...o];\n    e.relatedRecordsInfo = {\n      showRelatedRecords: !0,\n      ...(s?.length && {\n        orderByFields: s\n      })\n    };\n  }\n  _writeTextContent(t, e) {\n    !e.description && t.text && (e.description = t.text);\n  }\n  _writeMediaContent(t, e) {\n    if (!Array.isArray(t.mediaInfos) || !t.mediaInfos.length) return;\n    const o = i(t.mediaInfos);\n    Array.isArray(e.mediaInfos) ? e.mediaInfos = [...e.mediaInfos, ...o] : e.mediaInfos = o;\n  }\n  _readPopupInfoElements(t, e, o) {\n    const s = {\n      description: !1,\n      mediaInfos: !1\n    };\n    return o.map(o => \"media\" === o.type ? (o.mediaInfos || !e || s.mediaInfos || (o.mediaInfos = e, s.mediaInfos = !0), j.fromJSON(o)) : \"text\" === o.type ? (o.text || !t || s.description || (o.text = t, s.description = !0), S.fromJSON(o)) : \"attachments\" === o.type ? E.fromJSON(o) : \"fields\" === o.type ? O.fromJSON(o) : \"expression\" === o.type ? R.fromJSON(o) : \"relationship\" === o.type ? T.fromJSON(o) : \"utilityNetworkAssociations\" === o.type ? b.fromJSON(o) : void 0).filter(Boolean);\n  }\n  _toRelationshipContent(t) {\n    const {\n      field: e,\n      order: o\n    } = t;\n    if (!e?.startsWith(B)) return null;\n    const s = e.replace(B, \"\").split(\"/\");\n    if (2 !== s.length) return null;\n    const i = parseInt(s[0], 10),\n      r = s[1];\n    return !Number.isNaN(i) && r ? T.fromJSON({\n      relationshipId: i,\n      orderByFields: [{\n        field: r,\n        order: o\n      }]\n    }) : null;\n  }\n  _toFieldOrderJSON(t, e) {\n    const {\n      order: o,\n      field: s\n    } = t;\n    return {\n      field: `${B}${e}/${s}`,\n      order: o\n    };\n  }\n  _readPopupInfo(_ref) {\n    let {\n      description: t,\n      mediaInfos: e,\n      showAttachments: o,\n      relatedRecordsInfo: s = {\n        showRelatedRecords: !1\n      }\n    } = _ref;\n    const i = [];\n    t ? i.push(new S({\n      text: t\n    })) : i.push(new O()), Array.isArray(e) && e.length && i.push(j.fromJSON({\n      mediaInfos: e\n    })), o && i.push(E.fromJSON({\n      displayType: \"auto\"\n    }));\n    const {\n      showRelatedRecords: r,\n      orderByFields: n\n    } = s;\n    return r && n?.length && n.forEach(t => {\n      const e = this._toRelationshipContent(t);\n      e && i.push(e);\n    }), i.length ? i : t;\n  }\n  _getContentElementFields(t) {\n    const e = t?.type;\n    if (\"attachments\" === e) return [...this._extractFieldNames(t.title), ...this._extractFieldNames(t.description)];\n    if (\"custom\" === e) return t.outFields || [];\n    if (\"fields\" === e) return [...this._extractFieldNames(t.title), ...this._extractFieldNames(t.description), ...this._getFieldInfoFields(t.fieldInfos ?? this.fieldInfos)];\n    if (\"media\" === e) {\n      const e = t.mediaInfos || [];\n      return [...this._extractFieldNames(t.title), ...this._extractFieldNames(t.description), ...e.reduce((t, e) => [...t, ...this._getMediaInfoFields(e)], [])];\n    }\n    return \"text\" === e ? this._extractFieldNames(t.text) : \"relationship\" === e || \"utility-network-associations\" === e ? [...this._extractFieldNames(t.title), ...this._extractFieldNames(t.description)] : [];\n  }\n  _getMediaInfoFields(t) {\n    const {\n        caption: e,\n        title: o,\n        value: s\n      } = t,\n      i = s || {},\n      {\n        fields: r,\n        normalizeField: n,\n        tooltipField: p,\n        sourceURL: l,\n        linkURL: a\n      } = i,\n      d = [...this._extractFieldNames(o), ...this._extractFieldNames(e), ...this._extractFieldNames(l), ...this._extractFieldNames(a), ...(r ?? [])];\n    return n && d.push(n), p && d.push(p), d;\n  }\n  _getContentExpressionInfos(t, e) {\n    return Array.isArray(t) ? t.reduce((t, e) => [...t, ...(\"expression\" === e.type && e.expressionInfo ? [e.expressionInfo] : [])], e) : [];\n  }\n  _getContentFields(t) {\n    return \"string\" == typeof t ? this._extractFieldNames(t) : Array.isArray(t) ? t.reduce((t, e) => [...t, ...this._getContentElementFields(e)], []) : [];\n  }\n  async _collectExpressionInfoFields(t, e, o) {\n    o && (await Promise.all(o.map(o => u(t, e, o.expression))));\n  }\n  _getFieldInfoFields(t) {\n    return t ? t.filter(_ref2 => {\n      let {\n        fieldName: t,\n        visible: e\n      } = _ref2;\n      return !(void 0 !== e && !e || !t || t.startsWith(B) || t.startsWith(L));\n    }).map(t => t.fieldName) : [];\n  }\n  _getActionsFields(t) {\n    return t ? t.toArray().reduce((t, e) => [...t, ...this._getActionFields(e)], []) : [];\n  }\n  _getActionFields(t) {\n    const {\n        className: e,\n        title: o,\n        type: s\n      } = t,\n      i = \"button\" === s || \"toggle\" === s ? t.image : \"\";\n    return [...this._extractFieldNames(o), ...this._extractFieldNames(e), ...this._extractFieldNames(i)];\n  }\n  _getTitleFields(t) {\n    return \"string\" == typeof t ? this._extractFieldNames(t) : [];\n  }\n  _extractFieldNames(t) {\n    return h(t).filter(t => !(0 === t.indexOf(B) || 0 === t.indexOf(L)));\n  }\n};\nt([p({\n  type: M\n})], U.prototype, \"actions\", void 0), t([p()], U.prototype, \"content\", void 0), t([l(\"content\")], U.prototype, \"castContent\", null), t([a(\"content\", [\"description\", \"fieldInfos\", \"popupElements\", \"mediaInfos\", \"showAttachments\", \"relatedRecordsInfo\"])], U.prototype, \"readContent\", null), t([c(\"web-scene\", \"content\", {\n  popupElements: {\n    type: o.ofType(y)\n  },\n  showAttachments: {\n    type: Boolean\n  },\n  mediaInfos: {\n    type: o.ofType(g)\n  },\n  description: {\n    type: String\n  },\n  relatedRecordsInfo: {\n    type: x\n  }\n})], U.prototype, \"writeWebSceneContent\", null), t([c(\"content\", {\n  popupElements: {\n    type: o.ofType(I)\n  },\n  showAttachments: {\n    type: Boolean\n  },\n  mediaInfos: {\n    type: o.ofType(g)\n  },\n  description: {\n    type: String\n  },\n  relatedRecordsInfo: {\n    type: x\n  }\n})], U.prototype, \"writeWebMapContent\", null), t([p({\n  type: [F],\n  json: {\n    write: !0\n  }\n})], U.prototype, \"expressionInfos\", void 0), t([p({\n  type: [_]\n})], U.prototype, \"fieldInfos\", void 0), t([c(\"fieldInfos\")], U.prototype, \"writeFieldInfos\", null), t([p({\n  type: w\n})], U.prototype, \"layerOptions\", void 0), t([c(\"layerOptions\")], U.prototype, \"writeLayerOptions\", null), t([p({\n  type: Boolean,\n  json: {\n    read: {\n      source: \"showLastEditInfo\"\n    },\n    write: {\n      target: \"showLastEditInfo\"\n    },\n    default: !0\n  }\n})], U.prototype, \"lastEditInfoEnabled\", void 0), t([p()], U.prototype, \"outFields\", void 0), t([p()], U.prototype, \"overwriteActions\", void 0), t([p()], U.prototype, \"returnGeometry\", void 0), t([p({\n  json: {\n    type: String\n  }\n})], U.prototype, \"title\", void 0), t([c(\"title\")], U.prototype, \"writeTitle\", null), U = t([d(\"esri.PopupTemplate\")], U);\nconst q = U;\nexport { q as default };","map":{"version":3,"names":["_","t","e","o","s","clone","i","r","isPromiseLike","n","property","p","cast","l","reader","a","subclass","d","writer","c","ensureOneOfType","f","collectFields","m","collectArcadeFieldNames","u","extractSubstitutionTemplatesFromString","h","persistableWebSceneTypes","y","persistableTypes","I","F","w","x","types","g","N","A","C","j","S","E","O","R","T","b","v","J","B","L","M","ofType","key","defaultKeyValue","base","typeMap","button","toggle","k","media","custom","text","attachments","fields","expression","relationship","utilityNetworkAssociations","P","Set","W","U","ClonableMixin","constructor","arguments","actions","content","expressionInfos","fieldInfos","layerOptions","lastEditInfoEnabled","outFields","overwriteActions","returnGeometry","title","castContent","Array","isArray","map","HTMLElement","getLogger","error","value","readContent","popupElements","length","_readPopupInfoElements","description","mediaInfos","_readPopupInfo","writeWebSceneContent","_writePopupTemplateContent","writeWebMapContent","writeFieldInfos","filter","type","every","Boolean","toJSON","visible","_writeFieldsContent","writeLayerOptions","showNoDataRecords","returnTopmostRaster","writeTitle","collectRequiredFields","_collectExpressionInfoFields","_getContentExpressionInfos","_getActionsFields","_getTitleFields","_getContentFields","getRequiredFields","sort","origin","has","forEach","_writeAttachmentContent","_writeMediaContent","_writeTextContent","_writeRelationshipContent","find","fieldName","toLowerCase","push","showAttachments","orderByFields","_toFieldOrderJSON","relationshipId","relatedRecordsInfo","showRelatedRecords","fromJSON","_toRelationshipContent","field","order","startsWith","replace","split","parseInt","Number","isNaN","_ref","displayType","_getContentElementFields","_extractFieldNames","_getFieldInfoFields","reduce","_getMediaInfoFields","caption","normalizeField","tooltipField","sourceURL","linkURL","expressionInfo","Promise","all","_ref2","toArray","_getActionFields","className","image","indexOf","prototype","String","json","write","read","source","target","default","q"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/PopupTemplate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"./chunks/tslib.es6.js\";import e from\"./core/Clonable.js\";import o from\"./core/Collection.js\";import s from\"./core/JSONSupport.js\";import{clone as i}from\"./core/lang.js\";import r from\"./core/Logger.js\";import{isPromiseLike as n}from\"./core/promiseUtils.js\";import{property as p}from\"./core/accessorSupport/decorators/property.js\";import{cast as l}from\"./core/accessorSupport/decorators/cast.js\";import{reader as a}from\"./core/accessorSupport/decorators/reader.js\";import{subclass as d}from\"./core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"./core/accessorSupport/decorators/writer.js\";import{ensureOneOfType as f}from\"./core/accessorSupport/ensureType.js\";import{collectFields as m,collectArcadeFieldNames as u,extractSubstitutionTemplatesFromString as h}from\"./layers/support/fieldUtils.js\";import{persistableWebSceneTypes as y,persistableTypes as I}from\"./popup/content.js\";import F from\"./popup/ExpressionInfo.js\";import _ from\"./popup/FieldInfo.js\";import w from\"./popup/LayerOptions.js\";import x from\"./popup/RelatedRecordsInfo.js\";import{types as g}from\"./popup/content/support/mediaInfoTypes.js\";import N from\"./support/actions/ActionBase.js\";import A from\"./support/actions/ActionButton.js\";import C from\"./support/actions/ActionToggle.js\";import j from\"./popup/content/MediaContent.js\";import S from\"./popup/content/TextContent.js\";import E from\"./popup/content/AttachmentsContent.js\";import O from\"./popup/content/FieldsContent.js\";import R from\"./popup/content/ExpressionContent.js\";import T from\"./popup/content/RelationshipContent.js\";import b from\"./popup/content/UtilityNetworkAssociationsContent.js\";import v from\"./popup/content/Content.js\";import J from\"./popup/content/CustomContent.js\";const B=\"relationships/\",L=\"expression/\",M=o.ofType({key:\"type\",defaultKeyValue:\"button\",base:N,typeMap:{button:A,toggle:C}}),k={base:v,key:\"type\",typeMap:{media:j,custom:J,text:S,attachments:E,fields:O,expression:R,relationship:T,utilityNetworkAssociations:b}},P=new Set([\"attachments\",\"fields\",\"media\",\"text\",\"expression\",\"relationship\"]),W=new Set([...P,\"utility-network-associations\"]);let U=class extends(e.ClonableMixin(s)){constructor(){super(...arguments),this.actions=null,this.content=\"\",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=\"\"}castContent(t){return Array.isArray(t)?t.map((t=>f(k,t))):\"string\"==typeof t||\"function\"==typeof t||t instanceof HTMLElement||n(t)?t:(r.getLogger(this).error(\"content error\",\"unsupported content value\",{value:t}),null)}readContent(t,e){const{popupElements:o}=e;return Array.isArray(o)&&o.length>0?this._readPopupInfoElements(e.description,e.mediaInfos,o):this._readPopupInfo(e)}writeWebSceneContent(t,e,o,s){this._writePopupTemplateContent(t,e,s)}writeWebMapContent(t,e,o,s){this._writePopupTemplateContent(t,e,s)}writeFieldInfos(t,e,o,s){const{content:i}=this,r=Array.isArray(i)?i:null;if(t){const o=r?r.filter((t=>\"fields\"===t.type)):[],i=o.length&&o.every((t=>t.fieldInfos?.length));e.fieldInfos=t.filter(Boolean).map((t=>{const e=t.toJSON(s);return i&&(e.visible=!1),e}))}if(r)for(const n of r)\"fields\"===n.type&&this._writeFieldsContent(n,e)}writeLayerOptions(t,e,o,s){e[o]=!t||null===t.showNoDataRecords&&null===t.returnTopmostRaster?null:t.toJSON(s)}writeTitle(t,e){e.title=t||\"\"}async collectRequiredFields(t,e){const o=this.expressionInfos||[];await this._collectExpressionInfoFields(t,e,[...o,...this._getContentExpressionInfos(this.content,o)]),m(t,e,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const e=new Set;return await this.collectRequiredFields(e,t),[...e].sort()}_writePopupTemplateContent(t,e,o){\"string\"!=typeof t?Array.isArray(t)&&(e.popupElements=t.filter((t=>\"web-scene\"===o?.origin?P.has(t.type):W.has(t.type))).map((t=>t?.toJSON(o))),e.popupElements.forEach((t=>{\"attachments\"===t.type?this._writeAttachmentContent(e):\"media\"===t.type?this._writeMediaContent(t,e):\"text\"===t.type?this._writeTextContent(t,e):\"relationship\"===t.type&&this._writeRelationshipContent(t,e)}))):e.description=t}_writeFieldsContent(t,e){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const o=i(t.fieldInfos);Array.isArray(e.fieldInfos)?o.forEach((t=>{const o=e.fieldInfos.find((e=>e.fieldName?.toLowerCase()===t.fieldName?.toLowerCase()));o?o.visible=!0:e.fieldInfos.push(t)})):e.fieldInfos=o}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,e){const o=t.orderByFields?.map((e=>this._toFieldOrderJSON(e,t.relationshipId)))||[],s=[...e.relatedRecordsInfo?.orderByFields||[],...o];e.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(t,e){!e.description&&t.text&&(e.description=t.text)}_writeMediaContent(t,e){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const o=i(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[...e.mediaInfos,...o]:e.mediaInfos=o}_readPopupInfoElements(t,e,o){const s={description:!1,mediaInfos:!1};return o.map((o=>\"media\"===o.type?(o.mediaInfos||!e||s.mediaInfos||(o.mediaInfos=e,s.mediaInfos=!0),j.fromJSON(o)):\"text\"===o.type?(o.text||!t||s.description||(o.text=t,s.description=!0),S.fromJSON(o)):\"attachments\"===o.type?E.fromJSON(o):\"fields\"===o.type?O.fromJSON(o):\"expression\"===o.type?R.fromJSON(o):\"relationship\"===o.type?T.fromJSON(o):\"utilityNetworkAssociations\"===o.type?b.fromJSON(o):void 0)).filter(Boolean)}_toRelationshipContent(t){const{field:e,order:o}=t;if(!e?.startsWith(B))return null;const s=e.replace(B,\"\").split(\"/\");if(2!==s.length)return null;const i=parseInt(s[0],10),r=s[1];return!Number.isNaN(i)&&r?T.fromJSON({relationshipId:i,orderByFields:[{field:r,order:o}]}):null}_toFieldOrderJSON(t,e){const{order:o,field:s}=t;return{field:`${B}${e}/${s}`,order:o}}_readPopupInfo({description:t,mediaInfos:e,showAttachments:o,relatedRecordsInfo:s={showRelatedRecords:!1}}){const i=[];t?i.push(new S({text:t})):i.push(new O),Array.isArray(e)&&e.length&&i.push(j.fromJSON({mediaInfos:e})),o&&i.push(E.fromJSON({displayType:\"auto\"}));const{showRelatedRecords:r,orderByFields:n}=s;return r&&n?.length&&n.forEach((t=>{const e=this._toRelationshipContent(t);e&&i.push(e)})),i.length?i:t}_getContentElementFields(t){const e=t?.type;if(\"attachments\"===e)return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(\"custom\"===e)return t.outFields||[];if(\"fields\"===e)return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(\"media\"===e){const e=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...e.reduce(((t,e)=>[...t,...this._getMediaInfoFields(e)]),[])]}return\"text\"===e?this._extractFieldNames(t.text):\"relationship\"===e||\"utility-network-associations\"===e?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:e,title:o,value:s}=t,i=s||{},{fields:r,normalizeField:n,tooltipField:p,sourceURL:l,linkURL:a}=i,d=[...this._extractFieldNames(o),...this._extractFieldNames(e),...this._extractFieldNames(l),...this._extractFieldNames(a),...r??[]];return n&&d.push(n),p&&d.push(p),d}_getContentExpressionInfos(t,e){return Array.isArray(t)?t.reduce(((t,e)=>[...t,...\"expression\"===e.type&&e.expressionInfo?[e.expressionInfo]:[]]),e):[]}_getContentFields(t){return\"string\"==typeof t?this._extractFieldNames(t):Array.isArray(t)?t.reduce(((t,e)=>[...t,...this._getContentElementFields(e)]),[]):[]}async _collectExpressionInfoFields(t,e,o){o&&await Promise.all(o.map((o=>u(t,e,o.expression))))}_getFieldInfoFields(t){return t?t.filter((({fieldName:t,visible:e})=>!(void 0!==e&&!e||!t||t.startsWith(B)||t.startsWith(L)))).map((t=>t.fieldName)):[]}_getActionsFields(t){return t?t.toArray().reduce(((t,e)=>[...t,...this._getActionFields(e)]),[]):[]}_getActionFields(t){const{className:e,title:o,type:s}=t,i=\"button\"===s||\"toggle\"===s?t.image:\"\";return[...this._extractFieldNames(o),...this._extractFieldNames(e),...this._extractFieldNames(i)]}_getTitleFields(t){return\"string\"==typeof t?this._extractFieldNames(t):[]}_extractFieldNames(t){return h(t).filter((t=>!(0===t.indexOf(B)||0===t.indexOf(L))))}};t([p({type:M})],U.prototype,\"actions\",void 0),t([p()],U.prototype,\"content\",void 0),t([l(\"content\")],U.prototype,\"castContent\",null),t([a(\"content\",[\"description\",\"fieldInfos\",\"popupElements\",\"mediaInfos\",\"showAttachments\",\"relatedRecordsInfo\"])],U.prototype,\"readContent\",null),t([c(\"web-scene\",\"content\",{popupElements:{type:o.ofType(y)},showAttachments:{type:Boolean},mediaInfos:{type:o.ofType(g)},description:{type:String},relatedRecordsInfo:{type:x}})],U.prototype,\"writeWebSceneContent\",null),t([c(\"content\",{popupElements:{type:o.ofType(I)},showAttachments:{type:Boolean},mediaInfos:{type:o.ofType(g)},description:{type:String},relatedRecordsInfo:{type:x}})],U.prototype,\"writeWebMapContent\",null),t([p({type:[F],json:{write:!0}})],U.prototype,\"expressionInfos\",void 0),t([p({type:[_]})],U.prototype,\"fieldInfos\",void 0),t([c(\"fieldInfos\")],U.prototype,\"writeFieldInfos\",null),t([p({type:w})],U.prototype,\"layerOptions\",void 0),t([c(\"layerOptions\")],U.prototype,\"writeLayerOptions\",null),t([p({type:Boolean,json:{read:{source:\"showLastEditInfo\"},write:{target:\"showLastEditInfo\"},default:!0}})],U.prototype,\"lastEditInfoEnabled\",void 0),t([p()],U.prototype,\"outFields\",void 0),t([p()],U.prototype,\"overwriteActions\",void 0),t([p()],U.prototype,\"returnGeometry\",void 0),t([p({json:{type:String}})],U.prototype,\"title\",void 0),t([c(\"title\")],U.prototype,\"writeTitle\",null),U=t([d(\"esri.PopupTemplate\")],U);const q=U;export{q as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}