{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { toParquetGeometryInfoJSON as e } from \"../../../../../layers/support/parquetLayerUtils.js\";\nimport { getEffectiveFeatureReduction as r } from \"./featureReductionUtils.js\";\nimport { getServiceGeometryType as t } from \"./geometryUtils.js\";\nimport { getFeatureReductionDeconflictionEnabled as l, getLayerDeconflictionEnabled as s, createLabelVVEvaluator as i } from \"./labelingUtils.js\";\nimport { createSimpleProcessorSchema as a } from \"../schema/processor/SimpleProcessorSchema.js\";\nimport { isRendererSupported as o } from \"../support/rendererUtils.js\";\nclass n {\n  constructor(e) {\n    this.layer = e;\n  }\n  get hasRequiredSupport() {\n    return o(this.layer.renderer);\n  }\n  get timeOptions() {\n    return null;\n  }\n  getLabelingDeconflictionInfo(e) {\n    const r = this.layer,\n      t = l(r, e) ?? s(r);\n    return [{\n      vvEvaluators: {\n        0: i(r.renderer)\n      },\n      deconflictionEnabled: t\n    }];\n  }\n  getUpdateHashProperties(e) {\n    return [() => this.layer.outFields, () => this.layer.labelsVisible ? this.layer.labelingInfo : null, () => r(this.layer, e), () => this.layer.customParameters, () => this.layer.orderBy, () => this.layer.renderer, () => this.layer.popupTemplate];\n  }\n  async createServiceOptions(r) {\n    const l = t(this.layer),\n      s = r.spatialReference.toJSON();\n    return {\n      type: \"parquet\",\n      source: {\n        urls: this.layer.urls.items\n      },\n      outSpatialReference: s,\n      geometryInfo: e(this.layer.source.geometryInfo),\n      metadata: {\n        spatialReference: this.layer.spatialReference,\n        outSpatialReference: s,\n        fieldsIndex: this.layer.fieldsIndex.toJSON(),\n        objectIdField: this.layer.objectIdField,\n        geometryType: l,\n        types: null,\n        subtypes: null,\n        timeInfo: null,\n        typeIdField: null,\n        subtypeField: null,\n        globalIdField: null,\n        timeReferenceUnknownClient: null,\n        dateFieldsTimeZone: null\n      }\n    };\n  }\n  createSourceSchema(e, r) {\n    return {\n      type: \"parquet\",\n      mutable: {\n        sourceRefreshVersion: r,\n        availableFields: e.availableFields.includes(\"*\") ? this.layer.fields.map(e => e.name) : e.availableFields,\n        dataFilter: {\n          customParameters: this.layer.customParameters ?? null\n        }\n      }\n    };\n  }\n  createProcessorSchema(e, t, l) {\n    const s = {\n      fields: this.layer.fields.map(e => e.toJSON()),\n      renderer: this.layer.renderer?.clone(),\n      featureReduction: r(this.layer, t),\n      geometryType: this.layer.geometryType,\n      labelingInfo: this.layer.labelingInfo,\n      labelsVisible: this.layer.labelsVisible,\n      objectIdField: this.layer.objectIdField,\n      orderBy: this.layer.orderBy\n    };\n    return a(e, t, s, l);\n  }\n}\nexport { n as ParquetLayerAdapter };","map":{"version":3,"names":["toParquetGeometryInfoJSON","e","getEffectiveFeatureReduction","r","getServiceGeometryType","t","getFeatureReductionDeconflictionEnabled","l","getLayerDeconflictionEnabled","s","createLabelVVEvaluator","i","createSimpleProcessorSchema","a","isRendererSupported","o","n","constructor","layer","hasRequiredSupport","renderer","timeOptions","getLabelingDeconflictionInfo","vvEvaluators","deconflictionEnabled","getUpdateHashProperties","outFields","labelsVisible","labelingInfo","customParameters","orderBy","popupTemplate","createServiceOptions","spatialReference","toJSON","type","source","urls","items","outSpatialReference","geometryInfo","metadata","fieldsIndex","objectIdField","geometryType","types","subtypes","timeInfo","typeIdField","subtypeField","globalIdField","timeReferenceUnknownClient","dateFieldsTimeZone","createSourceSchema","mutable","sourceRefreshVersion","availableFields","includes","fields","map","name","dataFilter","createProcessorSchema","clone","featureReduction","ParquetLayerAdapter"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/ParquetLayerAdapter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{toParquetGeometryInfoJSON as e}from\"../../../../../layers/support/parquetLayerUtils.js\";import{getEffectiveFeatureReduction as r}from\"./featureReductionUtils.js\";import{getServiceGeometryType as t}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as l,getLayerDeconflictionEnabled as s,createLabelVVEvaluator as i}from\"./labelingUtils.js\";import{createSimpleProcessorSchema as a}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as o}from\"../support/rendererUtils.js\";class n{constructor(e){this.layer=e}get hasRequiredSupport(){return o(this.layer.renderer)}get timeOptions(){return null}getLabelingDeconflictionInfo(e){const r=this.layer,t=l(r,e)??s(r);return[{vvEvaluators:{0:i(r.renderer)},deconflictionEnabled:t}]}getUpdateHashProperties(e){return[()=>this.layer.outFields,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>r(this.layer,e),()=>this.layer.customParameters,()=>this.layer.orderBy,()=>this.layer.renderer,()=>this.layer.popupTemplate]}async createServiceOptions(r){const l=t(this.layer),s=r.spatialReference.toJSON();return{type:\"parquet\",source:{urls:this.layer.urls.items},outSpatialReference:s,geometryInfo:e(this.layer.source.geometryInfo),metadata:{spatialReference:this.layer.spatialReference,outSpatialReference:s,fieldsIndex:this.layer.fieldsIndex.toJSON(),objectIdField:this.layer.objectIdField,geometryType:l,types:null,subtypes:null,timeInfo:null,typeIdField:null,subtypeField:null,globalIdField:null,timeReferenceUnknownClient:null,dateFieldsTimeZone:null}}}createSourceSchema(e,r){return{type:\"parquet\",mutable:{sourceRefreshVersion:r,availableFields:e.availableFields.includes(\"*\")?this.layer.fields.map((e=>e.name)):e.availableFields,dataFilter:{customParameters:this.layer.customParameters??null}}}}createProcessorSchema(e,t,l){const s={fields:this.layer.fields.map((e=>e.toJSON())),renderer:this.layer.renderer?.clone(),featureReduction:r(this.layer,t),geometryType:this.layer.geometryType,labelingInfo:this.layer.labelingInfo,labelsVisible:this.layer.labelsVisible,objectIdField:this.layer.objectIdField,orderBy:this.layer.orderBy};return a(e,t,s,l)}}export{n as ParquetLayerAdapter};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}