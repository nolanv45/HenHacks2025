{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport o from \"../../../../core/Accessor.js\";\nimport i from \"../../../../core/Logger.js\";\nimport { deg2rad as e } from \"../../../../core/mathUtils.js\";\nimport { isAbortError as a } from \"../../../../core/promiseUtils.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as l } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport r from \"../../../../geometry/Extent.js\";\nimport n from \"../../../../geometry/Point.js\";\nimport p from \"./FlowDisplayData.js\";\nimport { FlowDisplayObject as c } from \"./FlowDisplayObject.js\";\nconst m = 1.15;\nlet d = class extends o {\n  constructor(t) {\n    super(t), this._flowDisplayObject = new c(), this._loading = null;\n  }\n  initialize() {\n    this.flowContainer.addChild(this._flowDisplayObject);\n  }\n  destroy() {\n    this._clear(), this.flowContainer.removeAllChildren();\n  }\n  get updating() {\n    return null != this._loading;\n  }\n  update(t) {\n    const {\n      flowStyle: o\n    } = this.flowContainer;\n    if (null == o) return void this._clear();\n    const {\n        extent: e,\n        rotation: s,\n        resolution: l,\n        pixelRatio: r\n      } = t.state,\n      n = f(e, s);\n    n.expand(m);\n    const c = [Math.round((n.xmax - n.xmin) / l), Math.round((n.ymax - n.ymin) / l)],\n      d = new p(o, n, c, r);\n    if (null != this._loading) {\n      if (this._loading.update(d)) return;\n      this._loading.detach(), this._loading = null;\n    }\n    null != this._flowDisplayObject.displayData && this._flowDisplayObject.displayData.update(d) || (d.load().then(() => {\n      this._flowDisplayObject.clear(), this._flowDisplayObject.displayData = this._loading, this._loading = null;\n    }, t => {\n      a(t) || (i.getLogger(this).error(\"A resource failed to load.\", t), this._loading = null);\n    }), this._loading = d);\n  }\n  _clear() {\n    this._flowDisplayObject.clear(), null != this._loading && (this._loading.detach(), this._loading = null);\n  }\n};\nt([s()], d.prototype, \"_loading\", void 0), t([s()], d.prototype, \"flowContainer\", void 0), t([s()], d.prototype, \"updating\", null), d = t([l(\"esri.views.2d.engine.flow.FlowStrategy\")], d);\nconst h = d;\nfunction f(t, o) {\n  const i = new n({\n      x: (t.xmax + t.xmin) / 2,\n      y: (t.ymax + t.ymin) / 2,\n      spatialReference: t.spatialReference\n    }),\n    a = t.xmax - t.xmin,\n    s = t.ymax - t.ymin,\n    l = Math.abs(Math.cos(e(o))),\n    p = Math.abs(Math.sin(e(o))),\n    c = l * a + p * s,\n    m = p * a + l * s,\n    d = new r({\n      xmin: i.x - c / 2,\n      ymin: i.y - m / 2,\n      xmax: i.x + c / 2,\n      ymax: i.y + m / 2,\n      spatialReference: t.spatialReference\n    });\n  return d.centerAt(i), d;\n}\nexport { h as default };","map":{"version":3,"names":["_","t","o","i","deg2rad","e","isAbortError","a","property","s","subclass","l","r","n","p","FlowDisplayObject","c","m","d","constructor","_flowDisplayObject","_loading","initialize","flowContainer","addChild","destroy","_clear","removeAllChildren","updating","update","flowStyle","extent","rotation","resolution","pixelRatio","state","f","expand","Math","round","xmax","xmin","ymax","ymin","detach","displayData","load","then","clear","getLogger","error","prototype","h","x","y","spatialReference","abs","cos","sin","centerAt","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/flow/FlowStrategy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{deg2rad as e}from\"../../../../core/mathUtils.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import r from\"../../../../geometry/Extent.js\";import n from\"../../../../geometry/Point.js\";import p from\"./FlowDisplayData.js\";import{FlowDisplayObject as c}from\"./FlowDisplayObject.js\";const m=1.15;let d=class extends o{constructor(t){super(t),this._flowDisplayObject=new c,this._loading=null}initialize(){this.flowContainer.addChild(this._flowDisplayObject)}destroy(){this._clear(),this.flowContainer.removeAllChildren()}get updating(){return null!=this._loading}update(t){const{flowStyle:o}=this.flowContainer;if(null==o)return void this._clear();const{extent:e,rotation:s,resolution:l,pixelRatio:r}=t.state,n=f(e,s);n.expand(m);const c=[Math.round((n.xmax-n.xmin)/l),Math.round((n.ymax-n.ymin)/l)],d=new p(o,n,c,r);if(null!=this._loading){if(this._loading.update(d))return;this._loading.detach(),this._loading=null}null!=this._flowDisplayObject.displayData&&this._flowDisplayObject.displayData.update(d)||(d.load().then((()=>{this._flowDisplayObject.clear(),this._flowDisplayObject.displayData=this._loading,this._loading=null}),(t=>{a(t)||(i.getLogger(this).error(\"A resource failed to load.\",t),this._loading=null)})),this._loading=d)}_clear(){this._flowDisplayObject.clear(),null!=this._loading&&(this._loading.detach(),this._loading=null)}};t([s()],d.prototype,\"_loading\",void 0),t([s()],d.prototype,\"flowContainer\",void 0),t([s()],d.prototype,\"updating\",null),d=t([l(\"esri.views.2d.engine.flow.FlowStrategy\")],d);const h=d;function f(t,o){const i=new n({x:(t.xmax+t.xmin)/2,y:(t.ymax+t.ymin)/2,spatialReference:t.spatialReference}),a=t.xmax-t.xmin,s=t.ymax-t.ymin,l=Math.abs(Math.cos(e(o))),p=Math.abs(Math.sin(e(o))),c=l*a+p*s,m=p*a+l*s,d=new r({xmin:i.x-c/2,ymin:i.y-m/2,xmax:i.x+c/2,ymax:i.y+m/2,spatialReference:t.spatialReference});return d.centerAt(i),d}export{h as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}