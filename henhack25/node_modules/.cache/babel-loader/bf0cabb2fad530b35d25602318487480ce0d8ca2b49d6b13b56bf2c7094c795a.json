{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { v as n, i as o, c as r } from \"../../../../chunks/vec32.js\";\nimport { create as e } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { elementwiseProduct as i, scalarProduct as s, add as c } from \"../lib/LongVectorMath.js\";\nimport { MainLight as f, FillLight as h, AmbientLight as a, SphericalHarmonicsAmbientLight as g } from \"./Lightsources.js\";\nfunction u(t) {\n  return (t + 1) * (t + 1);\n}\nfunction l(n) {\n  return t(Math.floor(Math.sqrt(n) - 1), 0, 2);\n}\nfunction m(t, n, o) {\n  const r = t[0],\n    e = t[1],\n    i = t[2],\n    s = o || [];\n  return s.length = u(n), n >= 0 && (s[0] = .28209479177), n >= 1 && (s[1] = .4886025119 * r, s[2] = .4886025119 * i, s[3] = .4886025119 * e), n >= 2 && (s[4] = 1.09254843059 * r * e, s[5] = 1.09254843059 * e * i, s[6] = .31539156525 * (3 * i * i - 1), s[7] = 1.09254843059 * r * i, s[8] = .54627421529 * (r * r - e * e)), s;\n}\nfunction p(t, n) {\n  const o = u(t),\n    r = n || {\n      r: [],\n      g: [],\n      b: []\n    };\n  r.r.length = r.g.length = r.b.length = o;\n  for (let e = 0; e < o; e++) r.r[e] = r.g[e] = r.b[e] = 0;\n  return r;\n}\nfunction b(t, o) {\n  const r = l(o.r.length);\n  for (const e of t) n(P, e.direction), m(P, r, v), i(v, w), s(v, e.intensity[0], I), c(o.r, I), s(v, e.intensity[1], I), c(o.g, I), s(v, e.intensity[2], I), c(o.b, I);\n  return o;\n}\nfunction y(t, n) {\n  m(P, 0, v);\n  for (const o of t) n.r[0] += v[0] * w[0] * o.intensity[0] * 4 * Math.PI, n.g[0] += v[0] * w[0] * o.intensity[1] * 4 * Math.PI, n.b[0] += v[0] * w[0] * o.intensity[2] * 4 * Math.PI;\n  return n;\n}\nfunction M(t, n, e, i) {\n  p(n, i), o(e.intensity, 0, 0, 0);\n  let s = !1;\n  const u = S,\n    l = d,\n    m = j;\n  u.length = 0, l.length = 0, m.length = 0;\n  for (const o of t) o instanceof f && !s ? (r(e.direction, o.direction), r(e.intensity, o.intensity), e.specularStrength = o.specularStrength, e.environmentStrength = o.environmentStrength, e.castShadows = o.castShadows, s = !0) : o instanceof f || o instanceof h ? u.push(o) : o instanceof a ? l.push(o) : o instanceof g && m.push(o);\n  b(u, i), y(l, i);\n  for (const o of m) c(i.r, o.r), c(i.g, o.g), c(i.b, o.b);\n}\nconst S = [],\n  d = [],\n  j = [],\n  v = [0],\n  I = [0],\n  P = e(),\n  w = [3.141593, 2.094395, 2.094395, 2.094395, .785398, .785398, .785398, .785398, .785398];\nexport { M as combineLights, m as computeCoefficients, p as initSHCoefficients, u as numberOfCoefficients, l as orderFromNumberOfCoefficients, y as projectAmbientLights, b as projectFillLights };","map":{"version":3,"names":["clamp","t","v","n","i","o","c","r","create","e","elementwiseProduct","scalarProduct","s","add","MainLight","f","FillLight","h","AmbientLight","a","SphericalHarmonicsAmbientLight","g","u","l","Math","floor","sqrt","m","length","p","b","P","direction","w","intensity","I","y","PI","M","S","d","j","specularStrength","environmentStrength","castShadows","push","combineLights","computeCoefficients","initSHCoefficients","numberOfCoefficients","orderFromNumberOfCoefficients","projectAmbientLights","projectFillLights"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{v as n,i as o,c as r}from\"../../../../chunks/vec32.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{elementwiseProduct as i,scalarProduct as s,add as c}from\"../lib/LongVectorMath.js\";import{MainLight as f,FillLight as h,AmbientLight as a,SphericalHarmonicsAmbientLight as g}from\"./Lightsources.js\";function u(t){return(t+1)*(t+1)}function l(n){return t(Math.floor(Math.sqrt(n)-1),0,2)}function m(t,n,o){const r=t[0],e=t[1],i=t[2],s=o||[];return s.length=u(n),n>=0&&(s[0]=.28209479177),n>=1&&(s[1]=.4886025119*r,s[2]=.4886025119*i,s[3]=.4886025119*e),n>=2&&(s[4]=1.09254843059*r*e,s[5]=1.09254843059*e*i,s[6]=.31539156525*(3*i*i-1),s[7]=1.09254843059*r*i,s[8]=.54627421529*(r*r-e*e)),s}function p(t,n){const o=u(t),r=n||{r:[],g:[],b:[]};r.r.length=r.g.length=r.b.length=o;for(let e=0;e<o;e++)r.r[e]=r.g[e]=r.b[e]=0;return r}function b(t,o){const r=l(o.r.length);for(const e of t)n(P,e.direction),m(P,r,v),i(v,w),s(v,e.intensity[0],I),c(o.r,I),s(v,e.intensity[1],I),c(o.g,I),s(v,e.intensity[2],I),c(o.b,I);return o}function y(t,n){m(P,0,v);for(const o of t)n.r[0]+=v[0]*w[0]*o.intensity[0]*4*Math.PI,n.g[0]+=v[0]*w[0]*o.intensity[1]*4*Math.PI,n.b[0]+=v[0]*w[0]*o.intensity[2]*4*Math.PI;return n}function M(t,n,e,i){p(n,i),o(e.intensity,0,0,0);let s=!1;const u=S,l=d,m=j;u.length=0,l.length=0,m.length=0;for(const o of t)o instanceof f&&!s?(r(e.direction,o.direction),r(e.intensity,o.intensity),e.specularStrength=o.specularStrength,e.environmentStrength=o.environmentStrength,e.castShadows=o.castShadows,s=!0):o instanceof f||o instanceof h?u.push(o):o instanceof a?l.push(o):o instanceof g&&m.push(o);b(u,i),y(l,i);for(const o of m)c(i.r,o.r),c(i.g,o.g),c(i.b,o.b)}const S=[],d=[],j=[],v=[0],I=[0],P=e(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,m as computeCoefficients,p as initSHCoefficients,u as numberOfCoefficients,l as orderFromNumberOfCoefficients,y as projectAmbientLights,b as projectFillLights};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}