{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../Graphic.js\";\nimport { UndoRedo as o } from \"../../UndoRedo.js\";\nimport { createTask as r } from \"../../core/asyncUtils.js\";\nimport i from \"../../core/Evented.js\";\nimport { makeHandle as s } from \"../../core/handleUtils.js\";\nimport { destroyMaybe as n } from \"../../core/maybe.js\";\nimport { watch as a, syncAndInitial as l, sync as p } from \"../../core/reactiveUtils.js\";\nimport { property as c } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { load as d } from \"../../geometry/coordinateFormatter.js\";\nimport u from \"../../layers/GraphicsLayer.js\";\nimport { pointEquals as m } from \"../../layers/graphics/dehydratedFeatureComparison.js\";\nimport { CreateOperationGeometry as y } from \"./support/CreateOperationGeometry.js\";\nimport { createCircle as g, createEllipse as v, createSquare as f, createRectangle as O, createPolygon as _, createPolyline as w, createMultipoint as C } from \"./support/createUtils.js\";\nimport { createViewAlignedCoordinateSystem as G } from \"./support/surfaceCoordinateSystems.js\";\nimport { createTooltipInfos as x, initializeConstraints as V, unlockConstraintsOnVertexAddOrRemove as b, lockElevationOnVertexAdd as k, getActiveTooltipInfo as S, updateTooltipInfo as U, getConstraintZ as j } from \"./support/tooltipUtils.js\";\nimport { InteractiveToolBase as T } from \"../interactive/InteractiveToolBase.js\";\nimport H from \"../interactive/sketch/SketchOptions.js\";\nimport { makeTooltip as L, pasteLocation as R, enterInputModeIfAvailable as z } from \"../interactive/tooltip/tooltipCommonUtils.js\";\nimport { autorun as E } from \"../../core/accessorSupport/trackingUtils.js\";\nlet I = class extends i.EventedMixin(T) {\n  constructor(t) {\n    super(t), this._graphic = null, this._coordinateFormatterLoadTask = null, this._createOperationGeometry = null, this.defaultZ = 0, this.directionOptions = null, this.elevationLockOnVertexAddDisabled = !1, this.geometryType = null, this.hasZ = !0, this.geometryToPlace = null, this.snappingManager = null, this.snapToScene = !1, this.sketchOptions = new H();\n  }\n  initialize() {\n    const {\n      view: t\n    } = this;\n    this.internalGraphicsLayer = new u({\n      listMode: \"hide\",\n      internal: !0\n    }), this.view.map.layers.add(this.internalGraphicsLayer);\n    const e = this.drawOperation = this.makeDrawOperation();\n    this.tooltipInfos = x(t.type, this.sketchOptions);\n    const o = L(() => ({\n      view: t,\n      options: this.sketchOptions.tooltips\n    }));\n    this.tooltip = o, V(this._tooltipsContext), this._coordinateFormatterLoadTask = r(() => d()), this.addHandles([e.on(\"vertex-add\", t => this.onVertexAdd(t)), e.on(\"vertex-remove\", t => this.onVertexRemove(t)), e.on(\"vertex-update\", t => this.onVertexUpdate(t)), e.on(\"cursor-update\", t => this.onCursorUpdate(t)), e.on(\"cursor-remove\", () => this._updateGraphic()), e.on(\"complete\", t => this.onComplete(t)), this._coordinateFormatterLoadTask, o.on(\"paste\", t => R(t, this.activeTooltipInfo)), a(() => this.cursor, t => {\n      e.cursor = t;\n    }, l), E(() => {\n      const {\n        activeTooltipInfo: t,\n        sketchOptions: e\n      } = this;\n      U(t, this._tooltipsContext), o.info = e.tooltips.effectiveEnabled ? t : null;\n    }), E(() => {\n      e.constraintZ = j(this._tooltipsContext);\n    }, p)]), this.finishToolCreation();\n  }\n  destroy() {\n    this.drawOperation = n(this.drawOperation), this.tooltip = n(this.tooltip), this._destroyAllVisualizations(), this.view.map.remove(this.internalGraphicsLayer), this.internalGraphicsLayer = n(this.internalGraphicsLayer), this._set(\"view\", null);\n  }\n  get _drawSpatialReference() {\n    return this.drawOperation.coordinateHelper.spatialReference;\n  }\n  get _tooltipsContext() {\n    return {\n      createOperationGeometry: this._createOperationGeometry,\n      defaultZ: this.defaultZ,\n      directionOptions: this.directionOptions,\n      drawOperation: this.drawOperation,\n      forceUniformSize: this.forceUniformSize,\n      geometryType: this.geometryType,\n      graphic: this.graphic,\n      sketchOptions: this.sketchOptions,\n      tooltipInfos: this.tooltipInfos,\n      view: this.view\n    };\n  }\n  get canRedo() {\n    return this.drawOperation.canRedo;\n  }\n  get canUndo() {\n    return this.drawOperation.canUndo;\n  }\n  set centered(t) {\n    this._set(\"centered\", t), this._updateGraphic();\n  }\n  get cursor() {\n    return this._get(\"cursor\");\n  }\n  set cursor(t) {\n    this._set(\"cursor\", t);\n  }\n  set enabled(t) {\n    this.drawOperation.interactive = t, this._set(\"enabled\", t);\n  }\n  set forceUniformSize(t) {\n    this._set(\"forceUniformSize\", t), this._updateGraphic();\n  }\n  get graphic() {\n    return this._graphic;\n  }\n  set graphicSymbol(t) {\n    this._set(\"graphicSymbol\", t), null != this._graphic && (this._graphic.symbol = t);\n  }\n  set mode(t) {\n    const e = this.drawOperation;\n    e && (e.drawingMode = t), this._set(\"mode\", t);\n  }\n  get updating() {\n    return this.drawOperation?.updating ?? !1;\n  }\n  get undoRedo() {\n    const {\n      view: {\n        type: t,\n        map: e\n      }\n    } = this;\n    return \"2d\" === t && e && \"undoRedo\" in e && e.undoRedo instanceof o ? e.undoRedo : null;\n  }\n  set undoRedo(t) {\n    this._override(\"undoRedo\", t);\n  }\n  completeCreateOperation() {\n    this.drawOperation.complete();\n  }\n  onInputEvent(t) {\n    this.destroyed || z(t, this.tooltip) || this.drawOperation.onInputEvent(t);\n  }\n  redo() {\n    this.drawOperation.redo();\n  }\n  reset() {}\n  undo() {\n    this.drawOperation.undo(), 0 === this.drawOperation.numCommittedVertices && V(this._tooltipsContext);\n  }\n  _destroyAllVisualizations() {\n    this.removeHandles(F.outline), this.removeHandles(F.regularVertices), this.removeHandles(F.activeVertex), this.removeHandles(F.activeEdge), this.removeHandles(A);\n  }\n  _createOrUpdateGraphic(t) {\n    if (null != this._graphic) return this.updateGraphicGeometry(t), this._graphic;\n    const o = new e({\n      ...this.graphicProperties,\n      symbol: this.graphicSymbol\n    });\n    return this._graphic = o, this.updateGraphicGeometry(t), this.internalGraphicsLayer.add(o), this.addHandles(this.initializeGraphic(o)), this.notifyChange(\"graphic\"), this.addHandles(s(() => {\n      this.internalGraphicsLayer.remove(o), this._graphic === o && (this._graphic = null);\n    }), A), o;\n  }\n  updateGraphicGeometry(t) {\n    this._graphic.geometry = t;\n  }\n  _getCreateOperationGeometry(t = {\n    operationComplete: !1\n  }) {\n    if (null == this.drawOperation) return;\n    const {\n      coordinateHelper: e,\n      view: o,\n      visualizationCursorVertex: r,\n      lastVertex: i,\n      committedVertices: s,\n      geometryIncludingUncommittedVertices: n,\n      numCommittedVertices: a\n    } = this.drawOperation;\n    if (!(a > 0 || null != r)) return;\n    const l = t.operationComplete ? s : n,\n      p = l.length,\n      c = null != r ? e.pointToArray(r) : null,\n      h = this._drawSpatialReference,\n      d = \"3d\" === o.type && \"global\" === o.viewingMode,\n      u = new y();\n    u.committedVertices = s, u.cursorVertex = c;\n    const {\n      geometryType: x\n    } = this;\n    switch (x) {\n      case \"point\":\n      case \"mesh\":\n        u.full = e.arrayToPoint(l[0]);\n        break;\n      case \"multipoint\":\n        u.full = p > 0 ? C(l, h) : null;\n        break;\n      case \"polyline\":\n      case \"polygon\":\n        p > 0 && (u.full = \"polygon\" === x ? _([l], h, d, !0) : w([l], h, d), u.cursorEdge = null != c && i && !m(r, i) ? w([[c, e.pointToArray(i)]], h, d) : null, u.outline = p > 1 ? u.full : null);\n        break;\n      case \"circle\":\n      case \"rectangle\":\n        {\n          if (u.committedVertices = u.cursorVertex = null, !p) break;\n          const e = G(o, l[0]),\n            r = l[0],\n            i = e.makeMapPoint(r[0] + Z * o.resolution, r[1]);\n          \"circle\" === x ? 1 === p && t.operationComplete ? u.circle = g([r, i], e, !0) : 2 === p && (this.forceUniformSize ? u.circle = g(l, e, this.centered) : u.rectangle = v(l, e, this.centered)) : 1 === p && t.operationComplete ? u.rectangle = f([r, i], e, !0) : 2 === p && (u.rectangle = this.forceUniformSize ? f(l, e, this.centered) : O(l, e, this.centered)), u.full = null != u.circle ? u.circle.geometry : u.rectangle?.geometry, u.outline = \"polygon\" === u.full?.type ? u.full : null;\n          break;\n        }\n      default:\n        return null;\n    }\n    return u;\n  }\n  initializeGraphic(t) {\n    return s();\n  }\n  onComplete(t) {\n    if (!this.drawOperation) return;\n    this._updateGraphic();\n    let e = null;\n    if (this.drawOperation.isCompleted) {\n      const t = this._getCreateOperationGeometry({\n        operationComplete: !0\n      });\n      null != t && (e = this._createOrUpdateGraphic(t.full));\n    }\n    this._createOperationGeometry = null, this.emit(\"complete\", {\n      graphic: e,\n      ...t\n    });\n  }\n  onCursorUpdate(t) {\n    this._updateGraphic(), this.emit(\"cursor-update\", t);\n  }\n  onDeactivate() {\n    const {\n      drawOperation: t\n    } = this;\n    t && (t.isCompleted || t.cancel());\n  }\n  onOutlineChanged(t) {\n    return s();\n  }\n  onCursorEdgeChanged(t) {\n    return s();\n  }\n  onVertexAdd(t) {\n    b(this._tooltipsContext), this._updateGraphic(), this.elevationLockOnVertexAddDisabled || k(t.vertices.at(0)?.coordinates, this._tooltipsContext), this.emit(\"vertex-add\", t);\n  }\n  onVertexRemove(t) {\n    b(this._tooltipsContext), this._updateGraphic(), this.emit(\"vertex-remove\", t);\n  }\n  onVertexUpdate(t) {\n    this._updateGraphic(), this.emit(\"vertex-update\", t);\n  }\n  _updateGraphic() {\n    const t = this._getCreateOperationGeometry();\n    this._createOperationGeometry = t, null != t ? (null != t.cursorEdge ? this.addHandles(this.onCursorEdgeChanged(t.cursorEdge), F.activeEdge) : this.removeHandles(F.activeEdge), null != t.outline ? this.addHandles(this.onOutlineChanged(t.outline), F.outline) : this.removeHandles(F.outline), null != t.committedVertices ? this.addHandles(this.onRegularVerticesChanged(t.committedVertices), F.regularVertices) : this.removeHandles(F.regularVertices), null != t.cursorVertex ? this.addHandles(this.onActiveVertexChanged(t.cursorVertex), F.activeVertex) : this.removeHandles(F.activeVertex), null != t.full ? this._createOrUpdateGraphic(t.full) : this.removeHandles(A)) : this._destroyAllVisualizations();\n  }\n  get activeTooltipInfo() {\n    return this._coordinateFormatterLoadTask?.finished ? S(this._tooltipsContext) : null;\n  }\n};\nt([c()], I.prototype, \"_coordinateFormatterLoadTask\", void 0), t([c()], I.prototype, \"_createOperationGeometry\", void 0), t([c()], I.prototype, \"_tooltipsContext\", null), t([c({\n  value: !0\n})], I.prototype, \"centered\", null), t([c()], I.prototype, \"cursor\", null), t([c({\n  nonNullable: !0\n})], I.prototype, \"defaultZ\", void 0), t([c({\n  constructOnly: !0\n})], I.prototype, \"directionOptions\", void 0), t([c()], I.prototype, \"drawOperation\", void 0), t([c()], I.prototype, \"elevationLockOnVertexAddDisabled\", void 0), t([c({\n  value: !0\n})], I.prototype, \"enabled\", null), t([c({\n  value: !0\n})], I.prototype, \"forceUniformSize\", null), t([c({\n  constructOnly: !0\n})], I.prototype, \"geometryType\", void 0), t([c()], I.prototype, \"graphic\", null), t([c({\n  constructOnly: !0\n})], I.prototype, \"graphicProperties\", void 0), t([c()], I.prototype, \"graphicSymbol\", null), t([c({\n  constructOnly: !0\n})], I.prototype, \"hasZ\", void 0), t([c({\n  constructOnly: !0\n})], I.prototype, \"geometryToPlace\", void 0), t([c()], I.prototype, \"mode\", null), t([c()], I.prototype, \"snappingManager\", void 0), t([c()], I.prototype, \"snapToScene\", void 0), t([c()], I.prototype, \"tooltip\", void 0), t([c()], I.prototype, \"tooltipInfos\", void 0), t([c({\n  constructOnly: !0,\n  type: H\n})], I.prototype, \"sketchOptions\", void 0), t([c()], I.prototype, \"updating\", null), t([c({\n  constructOnly: !0,\n  nonNullable: !0\n})], I.prototype, \"view\", void 0), t([c({\n  constructOnly: !0\n})], I.prototype, \"undoRedo\", null), t([c()], I.prototype, \"activeTooltipInfo\", null), I = t([h(\"esri.views.draw.DrawGraphicTool\")], I);\nconst A = Symbol(\"create-operation-graphic\"),\n  F = {\n    outline: Symbol(\"outline-visual\"),\n    regularVertices: Symbol(\"regular-vertices-visual\"),\n    activeVertex: Symbol(\"active-vertex-visual\"),\n    activeEdge: Symbol(\"active-edge-visual\")\n  };\nfunction M(t) {\n  switch (t) {\n    case \"point\":\n    case \"polyline\":\n    case \"polygon\":\n    case \"multipoint\":\n      return t;\n    case \"circle\":\n    case \"rectangle\":\n      return \"segment\";\n    case \"mesh\":\n      return \"point\";\n  }\n}\nconst Z = 48;\nexport { I as DrawGraphicTool, M as geometryTypeToDrawOperationGeometryType };","map":{"version":3,"names":["_","t","e","UndoRedo","o","createTask","r","i","makeHandle","s","destroyMaybe","n","watch","a","syncAndInitial","l","sync","p","property","c","subclass","h","load","d","u","pointEquals","m","CreateOperationGeometry","y","createCircle","g","createEllipse","v","createSquare","f","createRectangle","O","createPolygon","createPolyline","w","createMultipoint","C","createViewAlignedCoordinateSystem","G","createTooltipInfos","x","initializeConstraints","V","unlockConstraintsOnVertexAddOrRemove","b","lockElevationOnVertexAdd","k","getActiveTooltipInfo","S","updateTooltipInfo","U","getConstraintZ","j","InteractiveToolBase","T","H","makeTooltip","L","pasteLocation","R","enterInputModeIfAvailable","z","autorun","E","I","EventedMixin","constructor","_graphic","_coordinateFormatterLoadTask","_createOperationGeometry","defaultZ","directionOptions","elevationLockOnVertexAddDisabled","geometryType","hasZ","geometryToPlace","snappingManager","snapToScene","sketchOptions","initialize","view","internalGraphicsLayer","listMode","internal","map","layers","add","drawOperation","makeDrawOperation","tooltipInfos","type","options","tooltips","tooltip","_tooltipsContext","addHandles","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","_updateGraphic","onComplete","activeTooltipInfo","cursor","info","effectiveEnabled","constraintZ","finishToolCreation","destroy","_destroyAllVisualizations","remove","_set","_drawSpatialReference","coordinateHelper","spatialReference","createOperationGeometry","forceUniformSize","graphic","canRedo","canUndo","centered","_get","enabled","interactive","graphicSymbol","symbol","mode","drawingMode","updating","undoRedo","_override","completeCreateOperation","complete","onInputEvent","destroyed","redo","reset","undo","numCommittedVertices","removeHandles","F","outline","regularVertices","activeVertex","activeEdge","A","_createOrUpdateGraphic","updateGraphicGeometry","graphicProperties","initializeGraphic","notifyChange","geometry","_getCreateOperationGeometry","operationComplete","visualizationCursorVertex","lastVertex","committedVertices","geometryIncludingUncommittedVertices","length","pointToArray","viewingMode","cursorVertex","full","arrayToPoint","cursorEdge","makeMapPoint","Z","resolution","circle","rectangle","isCompleted","emit","onDeactivate","cancel","onOutlineChanged","onCursorEdgeChanged","vertices","at","coordinates","onRegularVerticesChanged","onActiveVertexChanged","finished","prototype","value","nonNullable","constructOnly","Symbol","M","DrawGraphicTool","geometryTypeToDrawOperationGeometryType"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/draw/DrawGraphicTool.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Graphic.js\";import{UndoRedo as o}from\"../../UndoRedo.js\";import{createTask as r}from\"../../core/asyncUtils.js\";import i from\"../../core/Evented.js\";import{makeHandle as s}from\"../../core/handleUtils.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{watch as a,syncAndInitial as l,sync as p}from\"../../core/reactiveUtils.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{load as d}from\"../../geometry/coordinateFormatter.js\";import u from\"../../layers/GraphicsLayer.js\";import{pointEquals as m}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{CreateOperationGeometry as y}from\"./support/CreateOperationGeometry.js\";import{createCircle as g,createEllipse as v,createSquare as f,createRectangle as O,createPolygon as _,createPolyline as w,createMultipoint as C}from\"./support/createUtils.js\";import{createViewAlignedCoordinateSystem as G}from\"./support/surfaceCoordinateSystems.js\";import{createTooltipInfos as x,initializeConstraints as V,unlockConstraintsOnVertexAddOrRemove as b,lockElevationOnVertexAdd as k,getActiveTooltipInfo as S,updateTooltipInfo as U,getConstraintZ as j}from\"./support/tooltipUtils.js\";import{InteractiveToolBase as T}from\"../interactive/InteractiveToolBase.js\";import H from\"../interactive/sketch/SketchOptions.js\";import{makeTooltip as L,pasteLocation as R,enterInputModeIfAvailable as z}from\"../interactive/tooltip/tooltipCommonUtils.js\";import{autorun as E}from\"../../core/accessorSupport/trackingUtils.js\";let I=class extends(i.EventedMixin(T)){constructor(t){super(t),this._graphic=null,this._coordinateFormatterLoadTask=null,this._createOperationGeometry=null,this.defaultZ=0,this.directionOptions=null,this.elevationLockOnVertexAddDisabled=!1,this.geometryType=null,this.hasZ=!0,this.geometryToPlace=null,this.snappingManager=null,this.snapToScene=!1,this.sketchOptions=new H}initialize(){const{view:t}=this;this.internalGraphicsLayer=new u({listMode:\"hide\",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer);const e=this.drawOperation=this.makeDrawOperation();this.tooltipInfos=x(t.type,this.sketchOptions);const o=L((()=>({view:t,options:this.sketchOptions.tooltips})));this.tooltip=o,V(this._tooltipsContext),this._coordinateFormatterLoadTask=r((()=>d())),this.addHandles([e.on(\"vertex-add\",(t=>this.onVertexAdd(t))),e.on(\"vertex-remove\",(t=>this.onVertexRemove(t))),e.on(\"vertex-update\",(t=>this.onVertexUpdate(t))),e.on(\"cursor-update\",(t=>this.onCursorUpdate(t))),e.on(\"cursor-remove\",(()=>this._updateGraphic())),e.on(\"complete\",(t=>this.onComplete(t))),this._coordinateFormatterLoadTask,o.on(\"paste\",(t=>R(t,this.activeTooltipInfo))),a((()=>this.cursor),(t=>{e.cursor=t}),l),E((()=>{const{activeTooltipInfo:t,sketchOptions:e}=this;U(t,this._tooltipsContext),o.info=e.tooltips.effectiveEnabled?t:null})),E((()=>{e.constraintZ=j(this._tooltipsContext)}),p)]),this.finishToolCreation()}destroy(){this.drawOperation=n(this.drawOperation),this.tooltip=n(this.tooltip),this._destroyAllVisualizations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=n(this.internalGraphicsLayer),this._set(\"view\",null)}get _drawSpatialReference(){return this.drawOperation.coordinateHelper.spatialReference}get _tooltipsContext(){return{createOperationGeometry:this._createOperationGeometry,defaultZ:this.defaultZ,directionOptions:this.directionOptions,drawOperation:this.drawOperation,forceUniformSize:this.forceUniformSize,geometryType:this.geometryType,graphic:this.graphic,sketchOptions:this.sketchOptions,tooltipInfos:this.tooltipInfos,view:this.view}}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set(\"centered\",t),this._updateGraphic()}get cursor(){return this._get(\"cursor\")}set cursor(t){this._set(\"cursor\",t)}set enabled(t){this.drawOperation.interactive=t,this._set(\"enabled\",t)}set forceUniformSize(t){this._set(\"forceUniformSize\",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set(\"graphicSymbol\",t),null!=this._graphic&&(this._graphic.symbol=t)}set mode(t){const e=this.drawOperation;e&&(e.drawingMode=t),this._set(\"mode\",t)}get updating(){return this.drawOperation?.updating??!1}get undoRedo(){const{view:{type:t,map:e}}=this;return\"2d\"===t&&e&&\"undoRedo\"in e&&e.undoRedo instanceof o?e.undoRedo:null}set undoRedo(t){this._override(\"undoRedo\",t)}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){this.destroyed||z(t,this.tooltip)||this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo(),0===this.drawOperation.numCommittedVertices&&V(this._tooltipsContext)}_destroyAllVisualizations(){this.removeHandles(F.outline),this.removeHandles(F.regularVertices),this.removeHandles(F.activeVertex),this.removeHandles(F.activeEdge),this.removeHandles(A)}_createOrUpdateGraphic(t){if(null!=this._graphic)return this.updateGraphicGeometry(t),this._graphic;const o=new e({...this.graphicProperties,symbol:this.graphicSymbol});return this._graphic=o,this.updateGraphicGeometry(t),this.internalGraphicsLayer.add(o),this.addHandles(this.initializeGraphic(o)),this.notifyChange(\"graphic\"),this.addHandles(s((()=>{this.internalGraphicsLayer.remove(o),this._graphic===o&&(this._graphic=null)})),A),o}updateGraphicGeometry(t){this._graphic.geometry=t}_getCreateOperationGeometry(t={operationComplete:!1}){if(null==this.drawOperation)return;const{coordinateHelper:e,view:o,visualizationCursorVertex:r,lastVertex:i,committedVertices:s,geometryIncludingUncommittedVertices:n,numCommittedVertices:a}=this.drawOperation;if(!(a>0||null!=r))return;const l=t.operationComplete?s:n,p=l.length,c=null!=r?e.pointToArray(r):null,h=this._drawSpatialReference,d=\"3d\"===o.type&&\"global\"===o.viewingMode,u=new y;u.committedVertices=s,u.cursorVertex=c;const{geometryType:x}=this;switch(x){case\"point\":case\"mesh\":u.full=e.arrayToPoint(l[0]);break;case\"multipoint\":u.full=p>0?C(l,h):null;break;case\"polyline\":case\"polygon\":p>0&&(u.full=\"polygon\"===x?_([l],h,d,!0):w([l],h,d),u.cursorEdge=null!=c&&i&&!m(r,i)?w([[c,e.pointToArray(i)]],h,d):null,u.outline=p>1?u.full:null);break;case\"circle\":case\"rectangle\":{if(u.committedVertices=u.cursorVertex=null,!p)break;const e=G(o,l[0]),r=l[0],i=e.makeMapPoint(r[0]+Z*o.resolution,r[1]);\"circle\"===x?1===p&&t.operationComplete?u.circle=g([r,i],e,!0):2===p&&(this.forceUniformSize?u.circle=g(l,e,this.centered):u.rectangle=v(l,e,this.centered)):1===p&&t.operationComplete?u.rectangle=f([r,i],e,!0):2===p&&(u.rectangle=this.forceUniformSize?f(l,e,this.centered):O(l,e,this.centered)),u.full=null!=u.circle?u.circle.geometry:u.rectangle?.geometry,u.outline=\"polygon\"===u.full?.type?u.full:null;break}default:return null}return u}initializeGraphic(t){return s()}onComplete(t){if(!this.drawOperation)return;this._updateGraphic();let e=null;if(this.drawOperation.isCompleted){const t=this._getCreateOperationGeometry({operationComplete:!0});null!=t&&(e=this._createOrUpdateGraphic(t.full))}this._createOperationGeometry=null,this.emit(\"complete\",{graphic:e,...t})}onCursorUpdate(t){this._updateGraphic(),this.emit(\"cursor-update\",t)}onDeactivate(){const{drawOperation:t}=this;t&&(t.isCompleted||t.cancel())}onOutlineChanged(t){return s()}onCursorEdgeChanged(t){return s()}onVertexAdd(t){b(this._tooltipsContext),this._updateGraphic(),this.elevationLockOnVertexAddDisabled||k(t.vertices.at(0)?.coordinates,this._tooltipsContext),this.emit(\"vertex-add\",t)}onVertexRemove(t){b(this._tooltipsContext),this._updateGraphic(),this.emit(\"vertex-remove\",t)}onVertexUpdate(t){this._updateGraphic(),this.emit(\"vertex-update\",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();this._createOperationGeometry=t,null!=t?(null!=t.cursorEdge?this.addHandles(this.onCursorEdgeChanged(t.cursorEdge),F.activeEdge):this.removeHandles(F.activeEdge),null!=t.outline?this.addHandles(this.onOutlineChanged(t.outline),F.outline):this.removeHandles(F.outline),null!=t.committedVertices?this.addHandles(this.onRegularVerticesChanged(t.committedVertices),F.regularVertices):this.removeHandles(F.regularVertices),null!=t.cursorVertex?this.addHandles(this.onActiveVertexChanged(t.cursorVertex),F.activeVertex):this.removeHandles(F.activeVertex),null!=t.full?this._createOrUpdateGraphic(t.full):this.removeHandles(A)):this._destroyAllVisualizations()}get activeTooltipInfo(){return this._coordinateFormatterLoadTask?.finished?S(this._tooltipsContext):null}};t([c()],I.prototype,\"_coordinateFormatterLoadTask\",void 0),t([c()],I.prototype,\"_createOperationGeometry\",void 0),t([c()],I.prototype,\"_tooltipsContext\",null),t([c({value:!0})],I.prototype,\"centered\",null),t([c()],I.prototype,\"cursor\",null),t([c({nonNullable:!0})],I.prototype,\"defaultZ\",void 0),t([c({constructOnly:!0})],I.prototype,\"directionOptions\",void 0),t([c()],I.prototype,\"drawOperation\",void 0),t([c()],I.prototype,\"elevationLockOnVertexAddDisabled\",void 0),t([c({value:!0})],I.prototype,\"enabled\",null),t([c({value:!0})],I.prototype,\"forceUniformSize\",null),t([c({constructOnly:!0})],I.prototype,\"geometryType\",void 0),t([c()],I.prototype,\"graphic\",null),t([c({constructOnly:!0})],I.prototype,\"graphicProperties\",void 0),t([c()],I.prototype,\"graphicSymbol\",null),t([c({constructOnly:!0})],I.prototype,\"hasZ\",void 0),t([c({constructOnly:!0})],I.prototype,\"geometryToPlace\",void 0),t([c()],I.prototype,\"mode\",null),t([c()],I.prototype,\"snappingManager\",void 0),t([c()],I.prototype,\"snapToScene\",void 0),t([c()],I.prototype,\"tooltip\",void 0),t([c()],I.prototype,\"tooltipInfos\",void 0),t([c({constructOnly:!0,type:H})],I.prototype,\"sketchOptions\",void 0),t([c()],I.prototype,\"updating\",null),t([c({constructOnly:!0,nonNullable:!0})],I.prototype,\"view\",void 0),t([c({constructOnly:!0})],I.prototype,\"undoRedo\",null),t([c()],I.prototype,\"activeTooltipInfo\",null),I=t([h(\"esri.views.draw.DrawGraphicTool\")],I);const A=Symbol(\"create-operation-graphic\"),F={outline:Symbol(\"outline-visual\"),regularVertices:Symbol(\"regular-vertices-visual\"),activeVertex:Symbol(\"active-vertex-visual\"),activeEdge:Symbol(\"active-edge-visual\")};function M(t){switch(t){case\"point\":case\"polyline\":case\"polygon\":case\"multipoint\":return t;case\"circle\":case\"rectangle\":return\"segment\";case\"mesh\":return\"point\"}}const Z=48;export{I as DrawGraphicTool,M as geometryTypeToDrawOperationGeometryType};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}