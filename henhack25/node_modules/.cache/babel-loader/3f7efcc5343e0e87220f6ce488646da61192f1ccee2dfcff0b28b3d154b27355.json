{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { TranslateAnchor as e } from \"../../vectorTiles/style/StyleDefinition.js\";\nimport t from \"./WGLBrush.js\";\nimport { CompareFunction as r, PrimitiveType as i, DataType as a } from \"../../../../webgl/enums.js\";\nclass n extends t {\n  constructor() {\n    super(...arguments), this._programOptions = {\n      id: !1\n    };\n  }\n  dispose() {}\n  drawMany(t, n) {\n    const {\n      context: l,\n      displayLevel: s,\n      requiredLevel: o,\n      state: c,\n      painter: u,\n      spriteMosaic: d,\n      styleLayerUID: f,\n      requestRender: m,\n      allowDelayedRender: p\n    } = t;\n    if (!n.some(e => e.layerData.get(f)?.circleIndexCount ?? !1)) return;\n    const y = t.styleLayer,\n      g = y.circleMaterial,\n      M = u.vectorTilesMaterialManager,\n      v = 1.2,\n      E = y.getPaintValue(\"circle-translate\", s),\n      x = y.getPaintValue(\"circle-translate-anchor\", s),\n      I = this._programOptions,\n      U = M.getMaterialProgram(l, g, I);\n    if (p && null != m && !U.compiled) return void m();\n    l.useProgram(U), U.setUniformMatrix3fv(\"u_displayMat3\", x === e.VIEWPORT ? c.displayMat3 : c.displayViewMat3), U.setUniform2fv(\"u_circleTranslation\", E), U.setUniform1f(\"u_depth\", y.z), U.setUniform1f(\"u_antialiasingWidth\", v);\n    let _ = -1;\n    for (const e of n) {\n      if (!e.layerData.has(f)) continue;\n      e.key.level !== _ && (_ = e.key.level, g.setDataUniforms(U, s, y, _, d));\n      const t = e.layerData.get(f);\n      if (!t.circleIndexCount) continue;\n      t.prepareForRendering(l);\n      const n = t.vao;\n      null != n && (l.bindVAO(n), U.setUniformMatrix3fv(\"u_dvsMat3\", e.transforms.displayViewScreenMat3), o !== e.key.level ? l.setStencilFunction(r.EQUAL, e.stencilRef, 255) : l.setStencilFunction(r.GREATER, 255, 255), l.drawElements(i.TRIANGLES, t.circleIndexCount, a.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * t.circleIndexStart), e.triangleCount += t.circleIndexCount / 3);\n    }\n  }\n}\nexport { n as WGLBrushVTLCircle };","map":{"version":3,"names":["TranslateAnchor","e","t","CompareFunction","r","PrimitiveType","i","DataType","a","n","constructor","arguments","_programOptions","id","dispose","drawMany","context","l","displayLevel","s","requiredLevel","o","state","c","painter","u","spriteMosaic","d","styleLayerUID","f","requestRender","m","allowDelayedRender","p","some","layerData","get","circleIndexCount","y","styleLayer","g","circleMaterial","M","vectorTilesMaterialManager","v","E","getPaintValue","x","I","U","getMaterialProgram","compiled","useProgram","setUniformMatrix3fv","VIEWPORT","displayMat3","displayViewMat3","setUniform2fv","setUniform1f","z","_","has","key","level","setDataUniforms","prepareForRendering","vao","bindVAO","transforms","displayViewScreenMat3","setStencilFunction","EQUAL","stencilRef","GREATER","drawElements","TRIANGLES","UNSIGNED_INT","Uint32Array","BYTES_PER_ELEMENT","circleIndexStart","triangleCount","WGLBrushVTLCircle"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLCircle.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{TranslateAnchor as e}from\"../../vectorTiles/style/StyleDefinition.js\";import t from\"./WGLBrush.js\";import{CompareFunction as r,PrimitiveType as i,DataType as a}from\"../../../../webgl/enums.js\";class n extends t{constructor(){super(...arguments),this._programOptions={id:!1}}dispose(){}drawMany(t,n){const{context:l,displayLevel:s,requiredLevel:o,state:c,painter:u,spriteMosaic:d,styleLayerUID:f,requestRender:m,allowDelayedRender:p}=t;if(!n.some((e=>e.layerData.get(f)?.circleIndexCount??!1)))return;const y=t.styleLayer,g=y.circleMaterial,M=u.vectorTilesMaterialManager,v=1.2,E=y.getPaintValue(\"circle-translate\",s),x=y.getPaintValue(\"circle-translate-anchor\",s),I=this._programOptions,U=M.getMaterialProgram(l,g,I);if(p&&null!=m&&!U.compiled)return void m();l.useProgram(U),U.setUniformMatrix3fv(\"u_displayMat3\",x===e.VIEWPORT?c.displayMat3:c.displayViewMat3),U.setUniform2fv(\"u_circleTranslation\",E),U.setUniform1f(\"u_depth\",y.z),U.setUniform1f(\"u_antialiasingWidth\",v);let _=-1;for(const e of n){if(!e.layerData.has(f))continue;e.key.level!==_&&(_=e.key.level,g.setDataUniforms(U,s,y,_,d));const t=e.layerData.get(f);if(!t.circleIndexCount)continue;t.prepareForRendering(l);const n=t.vao;null!=n&&(l.bindVAO(n),U.setUniformMatrix3fv(\"u_dvsMat3\",e.transforms.displayViewScreenMat3),o!==e.key.level?l.setStencilFunction(r.EQUAL,e.stencilRef,255):l.setStencilFunction(r.GREATER,255,255),l.drawElements(i.TRIANGLES,t.circleIndexCount,a.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t.circleIndexStart),e.triangleCount+=t.circleIndexCount/3)}}}export{n as WGLBrushVTLCircle};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}