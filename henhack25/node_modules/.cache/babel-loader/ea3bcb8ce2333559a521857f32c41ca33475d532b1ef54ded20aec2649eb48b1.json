{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport \"../../../../../../../core/has.js\";\nimport { vertexLayoutHash as t } from \"./utils.js\";\nimport { DataType as s } from \"../../../../../../webgl/enums.js\";\nfunction e(t) {\n  switch (t) {\n    case s.BYTE:\n    case s.UNSIGNED_BYTE:\n      return 1;\n    case s.SHORT:\n    case s.UNSIGNED_SHORT:\n    case s.HALF_FLOAT:\n      return 2;\n    case s.FLOAT:\n    case s.INT:\n    case s.UNSIGNED_INT:\n      return 4;\n  }\n}\nfunction o(t) {\n  const s = [],\n    o = [],\n    n = [];\n  for (const i of t) {\n    const t = e(i.type) * i.count;\n    switch (t % 2 || t % 4 || 4) {\n      case 4:\n        s.push(i);\n        continue;\n      case 2:\n        o.push(i);\n        continue;\n      case 1:\n        n.push(i);\n        continue;\n      default:\n        throw new Error(\"Found unexpected dataType byte count\");\n    }\n  }\n  return s.push(...o), s.push(...n), s;\n}\nclass n {\n  static fromVertexSpec(t, s) {\n    const {\n      attributes: i,\n      optionalAttributes: a\n    } = t;\n    let r, c, u;\n    const p = [];\n    for (const e in i) {\n      const t = i[e];\n      \"position\" === t.pack ? r = {\n        ...t,\n        name: e,\n        offset: 0\n      } : \"id\" === t.pack ? c = {\n        ...t,\n        name: e,\n        offset: 4\n      } : \"bitset\" === e ? u = {\n        ...t,\n        name: e,\n        offset: 7\n      } : p.push({\n        ...t,\n        name: e\n      });\n    }\n    for (const e in a) if (!0 === s[e]) {\n      const t = a[e];\n      p.push({\n        ...t,\n        name: e\n      });\n    }\n    const h = o(p),\n      f = [];\n    let m = 8,\n      b = 1;\n    for (const o of h) f.push({\n      ...o,\n      offset: m\n    }), m += e(o.type) * o.count, o.packAlternating && (b = Math.max(o.packAlternating.count, b));\n    const d = Uint32Array.BYTES_PER_ELEMENT,\n      _ = m % d;\n    return new n(r, c, u, f, m + (_ ? d - _ : 0), b);\n  }\n  constructor(t, s, e, o, n, i) {\n    this.position = t, this.id = s, this.bitset = e, this.standardAttributes = o, this.stride = n, this.packVertexCount = i, o.push(e), this._attributes = [t, s, e, ...o];\n  }\n  get attributeLayout() {\n    if (!this._attributeLayout) {\n      const s = t(this._attributes),\n        e = this._attributes.map(t => ({\n          name: t.name,\n          count: t.count,\n          offset: t.offset,\n          type: t.type,\n          packPrecisionFactor: t.packPrecisionFactor,\n          normalized: t.normalized ?? !1\n        }));\n      this._attributeLayout = {\n        attributes: e,\n        hash: s,\n        stride: this.stride\n      };\n    }\n    return this._attributeLayout;\n  }\n}\nexport { n as AlignedVertexSpec, o as sortByAlignment };","map":{"version":3,"names":["vertexLayoutHash","t","DataType","s","e","BYTE","UNSIGNED_BYTE","SHORT","UNSIGNED_SHORT","HALF_FLOAT","FLOAT","INT","UNSIGNED_INT","o","n","i","type","count","push","Error","fromVertexSpec","attributes","optionalAttributes","a","r","c","u","p","pack","name","offset","h","f","m","b","packAlternating","Math","max","d","Uint32Array","BYTES_PER_ELEMENT","_","constructor","position","id","bitset","standardAttributes","stride","packVertexCount","_attributes","attributeLayout","_attributeLayout","map","packPrecisionFactor","normalized","hash","AlignedVertexSpec","sortByAlignment"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/AlignedVertexSpec.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../../../../core/has.js\";import{vertexLayoutHash as t}from\"./utils.js\";import{DataType as s}from\"../../../../../../webgl/enums.js\";function e(t){switch(t){case s.BYTE:case s.UNSIGNED_BYTE:return 1;case s.SHORT:case s.UNSIGNED_SHORT:case s.HALF_FLOAT:return 2;case s.FLOAT:case s.INT:case s.UNSIGNED_INT:return 4}}function o(t){const s=[],o=[],n=[];for(const i of t){const t=e(i.type)*i.count;switch(t%2||t%4||4){case 4:s.push(i);continue;case 2:o.push(i);continue;case 1:n.push(i);continue;default:throw new Error(\"Found unexpected dataType byte count\")}}return s.push(...o),s.push(...n),s}class n{static fromVertexSpec(t,s){const{attributes:i,optionalAttributes:a}=t;let r,c,u;const p=[];for(const e in i){const t=i[e];\"position\"===t.pack?r={...t,name:e,offset:0}:\"id\"===t.pack?c={...t,name:e,offset:4}:\"bitset\"===e?u={...t,name:e,offset:7}:p.push({...t,name:e})}for(const e in a)if(!0===s[e]){const t=a[e];p.push({...t,name:e})}const h=o(p),f=[];let m=8,b=1;for(const o of h)f.push({...o,offset:m}),m+=e(o.type)*o.count,o.packAlternating&&(b=Math.max(o.packAlternating.count,b));const d=Uint32Array.BYTES_PER_ELEMENT,_=m%d;return new n(r,c,u,f,m+(_?d-_:0),b)}constructor(t,s,e,o,n,i){this.position=t,this.id=s,this.bitset=e,this.standardAttributes=o,this.stride=n,this.packVertexCount=i,o.push(e),this._attributes=[t,s,e,...o]}get attributeLayout(){if(!this._attributeLayout){const s=t(this._attributes),e=this._attributes.map((t=>({name:t.name,count:t.count,offset:t.offset,type:t.type,packPrecisionFactor:t.packPrecisionFactor,normalized:t.normalized??!1})));this._attributeLayout={attributes:e,hash:s,stride:this.stride}}return this._attributeLayout}}export{n as AlignedVertexSpec,o as sortByAlignment};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAM,kCAAkC;AAAC,SAAOA,gBAAgB,IAAIC,CAAC,QAAK,YAAY;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAASC,CAACA,CAACH,CAAC,EAAC;EAAC,QAAOA,CAAC;IAAE,KAAKE,CAAC,CAACE,IAAI;IAAC,KAAKF,CAAC,CAACG,aAAa;MAAC,OAAO,CAAC;IAAC,KAAKH,CAAC,CAACI,KAAK;IAAC,KAAKJ,CAAC,CAACK,cAAc;IAAC,KAAKL,CAAC,CAACM,UAAU;MAAC,OAAO,CAAC;IAAC,KAAKN,CAAC,CAACO,KAAK;IAAC,KAAKP,CAAC,CAACQ,GAAG;IAAC,KAAKR,CAAC,CAACS,YAAY;MAAC,OAAO,CAAC;EAAA;AAAC;AAAC,SAASC,CAACA,CAACZ,CAAC,EAAC;EAAC,MAAME,CAAC,GAAC,EAAE;IAACU,CAAC,GAAC,EAAE;IAACC,CAAC,GAAC,EAAE;EAAC,KAAI,MAAMC,CAAC,IAAId,CAAC,EAAC;IAAC,MAAMA,CAAC,GAACG,CAAC,CAACW,CAAC,CAACC,IAAI,CAAC,GAACD,CAAC,CAACE,KAAK;IAAC,QAAOhB,CAAC,GAAC,CAAC,IAAEA,CAAC,GAAC,CAAC,IAAE,CAAC;MAAE,KAAK,CAAC;QAACE,CAAC,CAACe,IAAI,CAACH,CAAC,CAAC;QAAC;MAAS,KAAK,CAAC;QAACF,CAAC,CAACK,IAAI,CAACH,CAAC,CAAC;QAAC;MAAS,KAAK,CAAC;QAACD,CAAC,CAACI,IAAI,CAACH,CAAC,CAAC;QAAC;MAAS;QAAQ,MAAM,IAAII,KAAK,CAAC,sCAAsC,CAAC;IAAA;EAAC;EAAC,OAAOhB,CAAC,CAACe,IAAI,CAAC,GAAGL,CAAC,CAAC,EAACV,CAAC,CAACe,IAAI,CAAC,GAAGJ,CAAC,CAAC,EAACX,CAAC;AAAA;AAAC,MAAMW,CAAC;EAAC,OAAOM,cAAcA,CAACnB,CAAC,EAACE,CAAC,EAAC;IAAC,MAAK;MAACkB,UAAU,EAACN,CAAC;MAACO,kBAAkB,EAACC;IAAC,CAAC,GAACtB,CAAC;IAAC,IAAIuB,CAAC,EAACC,CAAC,EAACC,CAAC;IAAC,MAAMC,CAAC,GAAC,EAAE;IAAC,KAAI,MAAMvB,CAAC,IAAIW,CAAC,EAAC;MAAC,MAAMd,CAAC,GAACc,CAAC,CAACX,CAAC,CAAC;MAAC,UAAU,KAAGH,CAAC,CAAC2B,IAAI,GAACJ,CAAC,GAAC;QAAC,GAAGvB,CAAC;QAAC4B,IAAI,EAACzB,CAAC;QAAC0B,MAAM,EAAC;MAAC,CAAC,GAAC,IAAI,KAAG7B,CAAC,CAAC2B,IAAI,GAACH,CAAC,GAAC;QAAC,GAAGxB,CAAC;QAAC4B,IAAI,EAACzB,CAAC;QAAC0B,MAAM,EAAC;MAAC,CAAC,GAAC,QAAQ,KAAG1B,CAAC,GAACsB,CAAC,GAAC;QAAC,GAAGzB,CAAC;QAAC4B,IAAI,EAACzB,CAAC;QAAC0B,MAAM,EAAC;MAAC,CAAC,GAACH,CAAC,CAACT,IAAI,CAAC;QAAC,GAAGjB,CAAC;QAAC4B,IAAI,EAACzB;MAAC,CAAC,CAAC;IAAA;IAAC,KAAI,MAAMA,CAAC,IAAImB,CAAC,EAAC,IAAG,CAAC,CAAC,KAAGpB,CAAC,CAACC,CAAC,CAAC,EAAC;MAAC,MAAMH,CAAC,GAACsB,CAAC,CAACnB,CAAC,CAAC;MAACuB,CAAC,CAACT,IAAI,CAAC;QAAC,GAAGjB,CAAC;QAAC4B,IAAI,EAACzB;MAAC,CAAC,CAAC;IAAA;IAAC,MAAM2B,CAAC,GAAClB,CAAC,CAACc,CAAC,CAAC;MAACK,CAAC,GAAC,EAAE;IAAC,IAAIC,CAAC,GAAC,CAAC;MAACC,CAAC,GAAC,CAAC;IAAC,KAAI,MAAMrB,CAAC,IAAIkB,CAAC,EAACC,CAAC,CAACd,IAAI,CAAC;MAAC,GAAGL,CAAC;MAACiB,MAAM,EAACG;IAAC,CAAC,CAAC,EAACA,CAAC,IAAE7B,CAAC,CAACS,CAAC,CAACG,IAAI,CAAC,GAACH,CAAC,CAACI,KAAK,EAACJ,CAAC,CAACsB,eAAe,KAAGD,CAAC,GAACE,IAAI,CAACC,GAAG,CAACxB,CAAC,CAACsB,eAAe,CAAClB,KAAK,EAACiB,CAAC,CAAC,CAAC;IAAC,MAAMI,CAAC,GAACC,WAAW,CAACC,iBAAiB;MAACC,CAAC,GAACR,CAAC,GAACK,CAAC;IAAC,OAAO,IAAIxB,CAAC,CAACU,CAAC,EAACC,CAAC,EAACC,CAAC,EAACM,CAAC,EAACC,CAAC,IAAEQ,CAAC,GAACH,CAAC,GAACG,CAAC,GAAC,CAAC,CAAC,EAACP,CAAC,CAAC;EAAA;EAACQ,WAAWA,CAACzC,CAAC,EAACE,CAAC,EAACC,CAAC,EAACS,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,IAAI,CAAC4B,QAAQ,GAAC1C,CAAC,EAAC,IAAI,CAAC2C,EAAE,GAACzC,CAAC,EAAC,IAAI,CAAC0C,MAAM,GAACzC,CAAC,EAAC,IAAI,CAAC0C,kBAAkB,GAACjC,CAAC,EAAC,IAAI,CAACkC,MAAM,GAACjC,CAAC,EAAC,IAAI,CAACkC,eAAe,GAACjC,CAAC,EAACF,CAAC,CAACK,IAAI,CAACd,CAAC,CAAC,EAAC,IAAI,CAAC6C,WAAW,GAAC,CAAChD,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC,GAAGS,CAAC,CAAC;EAAA;EAAC,IAAIqC,eAAeA,CAAA,EAAE;IAAC,IAAG,CAAC,IAAI,CAACC,gBAAgB,EAAC;MAAC,MAAMhD,CAAC,GAACF,CAAC,CAAC,IAAI,CAACgD,WAAW,CAAC;QAAC7C,CAAC,GAAC,IAAI,CAAC6C,WAAW,CAACG,GAAG,CAAEnD,CAAC,KAAG;UAAC4B,IAAI,EAAC5B,CAAC,CAAC4B,IAAI;UAACZ,KAAK,EAAChB,CAAC,CAACgB,KAAK;UAACa,MAAM,EAAC7B,CAAC,CAAC6B,MAAM;UAACd,IAAI,EAACf,CAAC,CAACe,IAAI;UAACqC,mBAAmB,EAACpD,CAAC,CAACoD,mBAAmB;UAACC,UAAU,EAACrD,CAAC,CAACqD,UAAU,IAAE,CAAC;QAAC,CAAC,CAAE,CAAC;MAAC,IAAI,CAACH,gBAAgB,GAAC;QAAC9B,UAAU,EAACjB,CAAC;QAACmD,IAAI,EAACpD,CAAC;QAAC4C,MAAM,EAAC,IAAI,CAACA;MAAM,CAAC;IAAA;IAAC,OAAO,IAAI,CAACI,gBAAgB;EAAA;AAAC;AAAC,SAAOrC,CAAC,IAAI0C,iBAAiB,EAAC3C,CAAC,IAAI4C,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}