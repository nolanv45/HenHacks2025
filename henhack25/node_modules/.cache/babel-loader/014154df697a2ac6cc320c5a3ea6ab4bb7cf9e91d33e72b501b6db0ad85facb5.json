{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../../../core/arrayUtils.js\";\nimport { internalTrackPartField as i, TrackPart as r } from \"../../../../../../layers/support/streamLayerUtils.js\";\nimport { VVBinding as n } from \"../../../../engine/webgl/enums.js\";\nimport { simplifyVisualVariables as t } from \"../../support/rendererUtils.js\";\nimport { getWebGLCapabilities as s } from \"../../../../../webgl/capabilities.js\";\nfunction a(e, i) {\n  return {\n    type: \"simple\",\n    filters: i,\n    capabilities: {\n      maxTextureSize: s().maxTextureSize\n    },\n    bindings: u(e)\n  };\n}\nfunction o(e, n) {\n  const t = s();\n  return {\n    type: \"multi\",\n    target: \"feature\",\n    keyField: i,\n    filters: n,\n    capabilities: {\n      maxTextureSize: t.maxTextureSize\n    },\n    bindings: {\n      [r.TrackLine]: u(e.trackLines.renderer),\n      [r.LatestObservation]: u(e.latestObservations.renderer),\n      [r.PreviousObservation]: u(e.previousObservations.renderer)\n    }\n  };\n}\nfunction l(e) {\n  switch (e) {\n    case \"opacity\":\n      return n.OPACITY;\n    case \"color\":\n      return n.COLOR;\n    case \"rotation\":\n      return n.ROTATION;\n    case \"size\":\n      return n.SIZE;\n    default:\n      return null;\n  }\n}\nfunction u(e) {\n  if (!e) return [];\n  switch (e.type) {\n    case \"simple\":\n    case \"class-breaks\":\n    case \"unique-value\":\n    case \"dictionary\":\n      return d(e);\n    case \"dot-density\":\n      return c(e);\n    case \"pie-chart\":\n      return p(e);\n    case \"heatmap\":\n      return f(e);\n  }\n}\nfunction c(e) {\n  const i = [];\n  for (const r of e.attributes) i.push({\n    binding: i.length,\n    expression: r.valueExpression,\n    field: r.field\n  });\n  return i;\n}\nfunction p(e) {\n  const i = d(e);\n  let r = 4;\n  for (const n of e.attributes) i.push({\n    binding: r++,\n    expression: n.valueExpression,\n    field: n.field\n  });\n  return i;\n}\nfunction f({\n  valueExpression: e,\n  field: i\n}) {\n  return e || i ? [{\n    binding: 0,\n    expression: e,\n    field: i\n  }] : [];\n}\nfunction d(i) {\n  if (!(\"visualVariables\" in i) || !i.visualVariables?.length) return [];\n  return t(i.visualVariables).map(e => y(e)).filter(e);\n}\nfunction m(e) {\n  return \"$view.scale\" === e.valueExpression ? null : {\n    binding: l(e.type),\n    field: e.field,\n    normalizationField: e.normalizationField,\n    expression: e.valueExpression,\n    valueRepresentation: e.valueRepresentation\n  };\n}\nfunction b(e) {\n  return {\n    binding: l(e.type),\n    field: e.field,\n    normalizationField: e.normalizationField,\n    expression: e.valueExpression\n  };\n}\nfunction x(e) {\n  return {\n    binding: l(e.type),\n    field: e.field,\n    normalizationField: e.normalizationField,\n    expression: e.valueExpression\n  };\n}\nfunction v(e) {\n  return {\n    binding: l(e.type),\n    expression: e.valueExpression,\n    field: e.field\n  };\n}\nfunction y(e) {\n  switch (e.type) {\n    case \"size\":\n      return m(e);\n    case \"color\":\n      return b(e);\n    case \"opacity\":\n      return x(e);\n    case \"rotation\":\n      return v(e);\n  }\n}\nexport { c as createDotDensityBindings, f as createHeatmapBindings, p as createPieChartBindings, a as createStorageSchema, o as createTrackStorageSchema, d as createVVBindings };","map":{"version":3,"names":["isSome","e","internalTrackPartField","i","TrackPart","r","VVBinding","n","simplifyVisualVariables","t","getWebGLCapabilities","s","a","type","filters","capabilities","maxTextureSize","bindings","u","o","target","keyField","TrackLine","trackLines","renderer","LatestObservation","latestObservations","PreviousObservation","previousObservations","l","OPACITY","COLOR","ROTATION","SIZE","d","c","p","f","attributes","push","binding","length","expression","valueExpression","field","visualVariables","map","y","filter","m","normalizationField","valueRepresentation","b","x","v","createDotDensityBindings","createHeatmapBindings","createPieChartBindings","createStorageSchema","createTrackStorageSchema","createVVBindings"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/schema/processor/StorageSchema.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../../core/arrayUtils.js\";import{internalTrackPartField as i,TrackPart as r}from\"../../../../../../layers/support/streamLayerUtils.js\";import{VVBinding as n}from\"../../../../engine/webgl/enums.js\";import{simplifyVisualVariables as t}from\"../../support/rendererUtils.js\";import{getWebGLCapabilities as s}from\"../../../../../webgl/capabilities.js\";function a(e,i){return{type:\"simple\",filters:i,capabilities:{maxTextureSize:s().maxTextureSize},bindings:u(e)}}function o(e,n){const t=s();return{type:\"multi\",target:\"feature\",keyField:i,filters:n,capabilities:{maxTextureSize:t.maxTextureSize},bindings:{[r.TrackLine]:u(e.trackLines.renderer),[r.LatestObservation]:u(e.latestObservations.renderer),[r.PreviousObservation]:u(e.previousObservations.renderer)}}}function l(e){switch(e){case\"opacity\":return n.OPACITY;case\"color\":return n.COLOR;case\"rotation\":return n.ROTATION;case\"size\":return n.SIZE;default:return null}}function u(e){if(!e)return[];switch(e.type){case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":return d(e);case\"dot-density\":return c(e);case\"pie-chart\":return p(e);case\"heatmap\":return f(e)}}function c(e){const i=[];for(const r of e.attributes)i.push({binding:i.length,expression:r.valueExpression,field:r.field});return i}function p(e){const i=d(e);let r=4;for(const n of e.attributes)i.push({binding:r++,expression:n.valueExpression,field:n.field});return i}function f({valueExpression:e,field:i}){return e||i?[{binding:0,expression:e,field:i}]:[]}function d(i){if(!(\"visualVariables\"in i)||!i.visualVariables?.length)return[];return t(i.visualVariables).map((e=>y(e))).filter(e)}function m(e){return\"$view.scale\"===e.valueExpression?null:{binding:l(e.type),field:e.field,normalizationField:e.normalizationField,expression:e.valueExpression,valueRepresentation:e.valueRepresentation}}function b(e){return{binding:l(e.type),field:e.field,normalizationField:e.normalizationField,expression:e.valueExpression}}function x(e){return{binding:l(e.type),field:e.field,normalizationField:e.normalizationField,expression:e.valueExpression}}function v(e){return{binding:l(e.type),expression:e.valueExpression,field:e.field}}function y(e){switch(e.type){case\"size\":return m(e);case\"color\":return b(e);case\"opacity\":return x(e);case\"rotation\":return v(e)}}export{c as createDotDensityBindings,f as createHeatmapBindings,p as createPieChartBindings,a as createStorageSchema,o as createTrackStorageSchema,d as createVVBindings};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}