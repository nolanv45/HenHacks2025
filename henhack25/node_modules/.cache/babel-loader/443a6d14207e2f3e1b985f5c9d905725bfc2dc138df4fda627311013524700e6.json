{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { set as e } from \"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as t } from \"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { Float2BindUniform as r } from \"../../shaderModules/Float2BindUniform.js\";\nimport { glsl as o } from \"../../shaderModules/glsl.js\";\nfunction d(e) {\n  e.uniforms.add(new r(\"zProjectionMap\", e => a(e.camera))), e.code.add(o`float linearizeDepth(float depth) {\nfloat depthNdc = depth * 2.0 - 1.0;\nfloat c1 = zProjectionMap[0];\nfloat c2 = zProjectionMap[1];\nreturn -(c1 / (depthNdc + c2 + 1e-7));\n}`), e.code.add(o`float depthFromTexture(sampler2D depthTexture, vec2 uv) {\nivec2 iuv = ivec2(uv * vec2(textureSize(depthTexture, 0)));\nfloat depth = texelFetch(depthTexture, iuv, 0).r;\nreturn depth;\n}`), e.code.add(o`float linearDepthFromTexture(sampler2D depthTexture, vec2 uv) {\nreturn linearizeDepth(depthFromTexture(depthTexture, uv));\n}`);\n}\nfunction a(t) {\n  const r = t.projectionMatrix;\n  return e(c, r[14], r[10]);\n}\nconst c = t();\nexport { d as ReadDepth };","map":{"version":3,"names":["set","e","create","t","Float2BindUniform","r","glsl","o","d","uniforms","add","a","camera","code","projectionMatrix","c","ReadDepth"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{Float2BindUniform as r}from\"../../shaderModules/Float2BindUniform.js\";import{glsl as o}from\"../../shaderModules/glsl.js\";function d(e){e.uniforms.add(new r(\"zProjectionMap\",(e=>a(e.camera)))),e.code.add(o`float linearizeDepth(float depth) {\nfloat depthNdc = depth * 2.0 - 1.0;\nfloat c1 = zProjectionMap[0];\nfloat c2 = zProjectionMap[1];\nreturn -(c1 / (depthNdc + c2 + 1e-7));\n}`),e.code.add(o`float depthFromTexture(sampler2D depthTexture, vec2 uv) {\nivec2 iuv = ivec2(uv * vec2(textureSize(depthTexture, 0)));\nfloat depth = texelFetch(depthTexture, iuv, 0).r;\nreturn depth;\n}`),e.code.add(o`float linearDepthFromTexture(sampler2D depthTexture, vec2 uv) {\nreturn linearizeDepth(depthFromTexture(depthTexture, uv));\n}`)}function a(t){const r=t.projectionMatrix;return e(c,r[14],r[10])}const c=t();export{d as ReadDepth};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,GAAG,IAAIC,CAAC,QAAK,sDAAsD;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,8DAA8D;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,6BAA6B;AAAC,SAASC,CAACA,CAACP,CAAC,EAAC;EAACA,CAAC,CAACQ,QAAQ,CAACC,GAAG,CAAC,IAAIL,CAAC,CAAC,gBAAgB,EAAEJ,CAAC,IAAEU,CAAC,CAACV,CAAC,CAACW,MAAM,CAAE,CAAC,CAAC,EAACX,CAAC,CAACY,IAAI,CAACH,GAAG,CAACH,CAAC;AACpX;AACA;AACA;AACA;AACA,EAAE,CAAC,EAACN,CAAC,CAACY,IAAI,CAACH,GAAG,CAACH,CAAC;AAChB;AACA;AACA;AACA,EAAE,CAAC,EAACN,CAAC,CAACY,IAAI,CAACH,GAAG,CAACH,CAAC;AAChB;AACA,EAAE,CAAC;AAAA;AAAC,SAASI,CAACA,CAACR,CAAC,EAAC;EAAC,MAAME,CAAC,GAACF,CAAC,CAACW,gBAAgB;EAAC,OAAOb,CAAC,CAACc,CAAC,EAACV,CAAC,CAAC,EAAE,CAAC,EAACA,CAAC,CAAC,EAAE,CAAC,CAAC;AAAA;AAAC,MAAMU,CAAC,GAACZ,CAAC,CAAC,CAAC;AAAC,SAAOK,CAAC,IAAIQ,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}