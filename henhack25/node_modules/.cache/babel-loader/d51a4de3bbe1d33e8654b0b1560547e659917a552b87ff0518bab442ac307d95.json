{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { internalTrackPartField as e, TrackPart as t } from \"../../../../../layers/support/streamLayerUtils.js\";\nimport { DictionaryMatcher as r } from \"./DictionaryMatcher.js\";\nimport { IntervalMatcher as a } from \"./IntervalMatcher.js\";\nimport { LabelMatcher as s } from \"./LabelMatcher.js\";\nimport { MapMatcher as c } from \"./MapMatcher.js\";\nimport { FeatureMatcher as n } from \"./Matcher.js\";\nasync function i(e, t) {\n  switch (t.type) {\n    case \"simple\":\n    case \"heatmap\":\n    case \"dot-density\":\n    case \"pie-chart\":\n      return n.from(e, t);\n    case \"interval\":\n      return a.fromIntervalSchema(e, t);\n    case \"dictionary\":\n      return r.fromDictionaryRenderer(e, t);\n    case \"label\":\n      return s.fromLabelSchema(e, t);\n    case \"map\":\n      return c.fromMatcherSchema(e, t);\n    case \"subtype\":\n      return h.fromSubtypes(e, t);\n    case \"cluster\":\n      return o.fromClusterSchema(e, t);\n    case \"track\":\n      return u.fromTrackSchema(e, t);\n    default:\n      throw new Error(\"Impl\");\n  }\n}\nclass h extends n {\n  constructor(e, t) {\n    super(), this._subMatchers = e, this._subtypeField = t;\n  }\n  static async fromSubtypes(e, t) {\n    const r = new Map(),\n      a = [];\n    for (const s in t.renderers) {\n      const c = parseInt(s, 10),\n        n = i(e, t.renderers[s]).then(e => r.set(c, e));\n      a.push(n);\n    }\n    return await Promise.all(a), new h(r, t.subtypeField);\n  }\n  match(e, t, r) {\n    const a = e.readAttribute(this._subtypeField),\n      s = this._subMatchers.get(a);\n    return s ? s.match(e, t, r) : null;\n  }\n  hasArcadeDependency(e) {\n    for (const t of this._subMatchers.values()) if (t.hasArcadeDependency(e)) return !0;\n    return !1;\n  }\n}\nclass o extends n {\n  static async fromClusterSchema(e, t) {\n    const [r, a] = await Promise.all([i(e, t.feature), i(e, t.cluster)]);\n    return new o(r, a);\n  }\n  constructor(e, t) {\n    super(), this._featureMatcher = e, this._clusterMatcher = t;\n  }\n  match(e, t, r) {\n    return 1 === e.readAttribute(\"cluster_count\") ? this._featureMatcher.match(e, t, r) : this._clusterMatcher.match(e, t, r);\n  }\n  hasArcadeDependency(e) {\n    return this._featureMatcher.hasArcadeDependency(e) || this._clusterMatcher.hasArcadeDependency(e);\n  }\n}\nclass u extends n {\n  static async fromTrackSchema(e, t) {\n    const [r, a, s] = await Promise.all([i(e, t.previousObservation), i(e, t.latestObservation), i(e, t.trackLine)]);\n    return new u(r, a, s);\n  }\n  constructor(e, t, r) {\n    super(), this._previousObservationMatcher = e, this._latestObservationMatcher = t, this._trackLineMatcher = r;\n  }\n  match(r, a, s) {\n    switch (r.readAttribute(e)) {\n      case t.TrackLine:\n        return this._trackLineMatcher.match(r, a, s);\n      case t.LatestObservation:\n        return this._latestObservationMatcher.match(r, a, s);\n      case t.PreviousObservation:\n        return this._previousObservationMatcher.match(r, a, s);\n    }\n    return null;\n  }\n  hasArcadeDependency(e) {\n    return this._trackLineMatcher.hasArcadeDependency(e) || this._latestObservationMatcher.hasArcadeDependency(e) || this._previousObservationMatcher.hasArcadeDependency(e);\n  }\n}\nexport { o as ClusterMatcher, h as SubtypeMatcher, i as createMatcher };","map":{"version":3,"names":["internalTrackPartField","e","TrackPart","t","DictionaryMatcher","r","IntervalMatcher","a","LabelMatcher","s","MapMatcher","c","FeatureMatcher","n","i","type","from","fromIntervalSchema","fromDictionaryRenderer","fromLabelSchema","fromMatcherSchema","h","fromSubtypes","o","fromClusterSchema","u","fromTrackSchema","Error","constructor","_subMatchers","_subtypeField","Map","renderers","parseInt","then","set","push","Promise","all","subtypeField","match","readAttribute","get","hasArcadeDependency","values","feature","cluster","_featureMatcher","_clusterMatcher","previousObservation","latestObservation","trackLine","_previousObservationMatcher","_latestObservationMatcher","_trackLineMatcher","TrackLine","LatestObservation","PreviousObservation","ClusterMatcher","SubtypeMatcher","createMatcher"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/util/createMatcher.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{internalTrackPartField as e,TrackPart as t}from\"../../../../../layers/support/streamLayerUtils.js\";import{DictionaryMatcher as r}from\"./DictionaryMatcher.js\";import{IntervalMatcher as a}from\"./IntervalMatcher.js\";import{LabelMatcher as s}from\"./LabelMatcher.js\";import{MapMatcher as c}from\"./MapMatcher.js\";import{FeatureMatcher as n}from\"./Matcher.js\";async function i(e,t){switch(t.type){case\"simple\":case\"heatmap\":case\"dot-density\":case\"pie-chart\":return n.from(e,t);case\"interval\":return a.fromIntervalSchema(e,t);case\"dictionary\":return r.fromDictionaryRenderer(e,t);case\"label\":return s.fromLabelSchema(e,t);case\"map\":return c.fromMatcherSchema(e,t);case\"subtype\":return h.fromSubtypes(e,t);case\"cluster\":return o.fromClusterSchema(e,t);case\"track\":return u.fromTrackSchema(e,t);default:throw new Error(\"Impl\")}}class h extends n{constructor(e,t){super(),this._subMatchers=e,this._subtypeField=t}static async fromSubtypes(e,t){const r=new Map,a=[];for(const s in t.renderers){const c=parseInt(s,10),n=i(e,t.renderers[s]).then((e=>r.set(c,e)));a.push(n)}return await Promise.all(a),new h(r,t.subtypeField)}match(e,t,r){const a=e.readAttribute(this._subtypeField),s=this._subMatchers.get(a);return s?s.match(e,t,r):null}hasArcadeDependency(e){for(const t of this._subMatchers.values())if(t.hasArcadeDependency(e))return!0;return!1}}class o extends n{static async fromClusterSchema(e,t){const[r,a]=await Promise.all([i(e,t.feature),i(e,t.cluster)]);return new o(r,a)}constructor(e,t){super(),this._featureMatcher=e,this._clusterMatcher=t}match(e,t,r){return 1===e.readAttribute(\"cluster_count\")?this._featureMatcher.match(e,t,r):this._clusterMatcher.match(e,t,r)}hasArcadeDependency(e){return this._featureMatcher.hasArcadeDependency(e)||this._clusterMatcher.hasArcadeDependency(e)}}class u extends n{static async fromTrackSchema(e,t){const[r,a,s]=await Promise.all([i(e,t.previousObservation),i(e,t.latestObservation),i(e,t.trackLine)]);return new u(r,a,s)}constructor(e,t,r){super(),this._previousObservationMatcher=e,this._latestObservationMatcher=t,this._trackLineMatcher=r}match(r,a,s){switch(r.readAttribute(e)){case t.TrackLine:return this._trackLineMatcher.match(r,a,s);case t.LatestObservation:return this._latestObservationMatcher.match(r,a,s);case t.PreviousObservation:return this._previousObservationMatcher.match(r,a,s)}return null}hasArcadeDependency(e){return this._trackLineMatcher.hasArcadeDependency(e)||this._latestObservationMatcher.hasArcadeDependency(e)||this._previousObservationMatcher.hasArcadeDependency(e)}}export{o as ClusterMatcher,h as SubtypeMatcher,i as createMatcher};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}