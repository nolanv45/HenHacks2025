{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { save as e, saveAs as r } from \"./utils.js\";\nimport { createForItemWrite as t } from \"../../portal/support/jsonContext.js\";\nimport { getWGS84ExtentForItem as a, removeTypeKeyword as s, typeKeyword as o } from \"../../portal/support/portalItemUtils.js\";\nimport { saveResources as n } from \"../../webdoc/support/resourceUtils.js\";\nconst i = \"Media Layer\",\n  u = \"media-layer-save\",\n  p = \"media-layer-save-as\",\n  l = [\"media-layer:unsupported-source\"];\nfunction m(e) {\n  return {\n    isValid: \"media\" === e.type,\n    errorMessage: \"Layer.type should be 'media'\"\n  };\n}\nfunction c(e) {\n  return t(e, \"portal-item\", !0);\n}\nfunction y(e) {\n  return Promise.resolve(e.layerJSON);\n}\nasync function f(e, r) {\n  r.extent = e.fullExtent ? await a(e.fullExtent) : null;\n}\nasync function d(e, r) {\n  r.title ||= e.title, await f(e, r), s(r, o.METADATA);\n}\nasync function v(r, t) {\n  return e({\n    layer: r,\n    itemType: i,\n    validateLayer: m,\n    createJSONContext: e => c(e),\n    createItemData: y,\n    errorNamePrefix: u,\n    supplementalUnsupportedErrors: l,\n    setItemProperties: f,\n    saveResources: (e, t) => n(r.resourceReferences, t)\n  }, t);\n}\nasync function x(e, t, a) {\n  return r({\n    layer: e,\n    itemType: i,\n    validateLayer: m,\n    createJSONContext: e => c(e),\n    createItemData: y,\n    errorNamePrefix: p,\n    supplementalUnsupportedErrors: l,\n    newItem: t,\n    setItemProperties: d,\n    saveResources: (r, t) => n(e.resourceReferences, t)\n  }, a);\n}\nexport { v as save, x as saveAs };","map":{"version":3,"names":["save","e","saveAs","r","createForItemWrite","t","getWGS84ExtentForItem","a","removeTypeKeyword","s","typeKeyword","o","saveResources","n","i","u","p","l","m","isValid","type","errorMessage","c","y","Promise","resolve","layerJSON","f","extent","fullExtent","d","title","METADATA","v","layer","itemType","validateLayer","createJSONContext","createItemData","errorNamePrefix","supplementalUnsupportedErrors","setItemProperties","resourceReferences","x","newItem"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/save/mediaLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as r}from\"./utils.js\";import{createForItemWrite as t}from\"../../portal/support/jsonContext.js\";import{getWGS84ExtentForItem as a,removeTypeKeyword as s,typeKeyword as o}from\"../../portal/support/portalItemUtils.js\";import{saveResources as n}from\"../../webdoc/support/resourceUtils.js\";const i=\"Media Layer\",u=\"media-layer-save\",p=\"media-layer-save-as\",l=[\"media-layer:unsupported-source\"];function m(e){return{isValid:\"media\"===e.type,errorMessage:\"Layer.type should be 'media'\"}}function c(e){return t(e,\"portal-item\",!0)}function y(e){return Promise.resolve(e.layerJSON)}async function f(e,r){r.extent=e.fullExtent?await a(e.fullExtent):null}async function d(e,r){r.title||=e.title,await f(e,r),s(r,o.METADATA)}async function v(r,t){return e({layer:r,itemType:i,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:u,supplementalUnsupportedErrors:l,setItemProperties:f,saveResources:(e,t)=>n(r.resourceReferences,t)},t)}async function x(e,t,a){return r({layer:e,itemType:i,validateLayer:m,createJSONContext:e=>c(e),createItemData:y,errorNamePrefix:p,supplementalUnsupportedErrors:l,newItem:t,setItemProperties:d,saveResources:(r,t)=>n(e.resourceReferences,t)},a)}export{v as save,x as saveAs};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,IAAI,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,YAAY;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,QAAK,yCAAyC;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,uCAAuC;AAAC,MAAMC,CAAC,GAAC,aAAa;EAACC,CAAC,GAAC,kBAAkB;EAACC,CAAC,GAAC,qBAAqB;EAACC,CAAC,GAAC,CAAC,gCAAgC,CAAC;AAAC,SAASC,CAACA,CAACjB,CAAC,EAAC;EAAC,OAAM;IAACkB,OAAO,EAAC,OAAO,KAAGlB,CAAC,CAACmB,IAAI;IAACC,YAAY,EAAC;EAA8B,CAAC;AAAA;AAAC,SAASC,CAACA,CAACrB,CAAC,EAAC;EAAC,OAAOI,CAAC,CAACJ,CAAC,EAAC,aAAa,EAAC,CAAC,CAAC,CAAC;AAAA;AAAC,SAASsB,CAACA,CAACtB,CAAC,EAAC;EAAC,OAAOuB,OAAO,CAACC,OAAO,CAACxB,CAAC,CAACyB,SAAS,CAAC;AAAA;AAAC,eAAeC,CAACA,CAAC1B,CAAC,EAACE,CAAC,EAAC;EAACA,CAAC,CAACyB,MAAM,GAAC3B,CAAC,CAAC4B,UAAU,GAAC,MAAMtB,CAAC,CAACN,CAAC,CAAC4B,UAAU,CAAC,GAAC,IAAI;AAAA;AAAC,eAAeC,CAACA,CAAC7B,CAAC,EAACE,CAAC,EAAC;EAACA,CAAC,CAAC4B,KAAK,KAAG9B,CAAC,CAAC8B,KAAK,EAAC,MAAMJ,CAAC,CAAC1B,CAAC,EAACE,CAAC,CAAC,EAACM,CAAC,CAACN,CAAC,EAACQ,CAAC,CAACqB,QAAQ,CAAC;AAAA;AAAC,eAAeC,CAACA,CAAC9B,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOJ,CAAC,CAAC;IAACiC,KAAK,EAAC/B,CAAC;IAACgC,QAAQ,EAACrB,CAAC;IAACsB,aAAa,EAAClB,CAAC;IAACmB,iBAAiB,EAACpC,CAAC,IAAEqB,CAAC,CAACrB,CAAC,CAAC;IAACqC,cAAc,EAACf,CAAC;IAACgB,eAAe,EAACxB,CAAC;IAACyB,6BAA6B,EAACvB,CAAC;IAACwB,iBAAiB,EAACd,CAAC;IAACf,aAAa,EAACA,CAACX,CAAC,EAACI,CAAC,KAAGQ,CAAC,CAACV,CAAC,CAACuC,kBAAkB,EAACrC,CAAC;EAAC,CAAC,EAACA,CAAC,CAAC;AAAA;AAAC,eAAesC,CAACA,CAAC1C,CAAC,EAACI,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOJ,CAAC,CAAC;IAAC+B,KAAK,EAACjC,CAAC;IAACkC,QAAQ,EAACrB,CAAC;IAACsB,aAAa,EAAClB,CAAC;IAACmB,iBAAiB,EAACpC,CAAC,IAAEqB,CAAC,CAACrB,CAAC,CAAC;IAACqC,cAAc,EAACf,CAAC;IAACgB,eAAe,EAACvB,CAAC;IAACwB,6BAA6B,EAACvB,CAAC;IAAC2B,OAAO,EAACvC,CAAC;IAACoC,iBAAiB,EAACX,CAAC;IAAClB,aAAa,EAACA,CAACT,CAAC,EAACE,CAAC,KAAGQ,CAAC,CAACZ,CAAC,CAACyC,kBAAkB,EAACrC,CAAC;EAAC,CAAC,EAACE,CAAC,CAAC;AAAA;AAAC,SAAO0B,CAAC,IAAIjC,IAAI,EAAC2C,CAAC,IAAIzC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}