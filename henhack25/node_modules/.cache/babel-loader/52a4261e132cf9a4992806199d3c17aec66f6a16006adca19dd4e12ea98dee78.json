{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { generateUID as e } from \"../../../../core/uid.js\";\nclass t {\n  constructor(t, r, s) {\n    this._createTexture = t, this._parametersKey = r, this._repository = new Map(), this._orphanCache = s.newCache(`procedural-texture-repository:${e()}`, e => e.dispose());\n  }\n  destroy() {\n    for (const {\n      texture: e\n    } of this._repository.values()) e.dispose();\n    this._repository.clear(), this._orphanCache.destroy();\n  }\n  swap(e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    const r = this._acquire(e);\n    return this.release(t), r;\n  }\n  release(e) {\n    if (null == e) return;\n    const t = this._parametersKey(e),\n      r = this._repository.get(t);\n    if (r && (r.refCount--, 0 === r.refCount)) {\n      this._repository.delete(t);\n      const {\n        texture: e\n      } = r;\n      this._orphanCache.put(t, e);\n    }\n  }\n  _acquire(e) {\n    if (null == e) return null;\n    const t = this._parametersKey(e),\n      s = this._repository.get(t);\n    if (s) return s.refCount++, s.texture;\n    const o = this._orphanCache.pop(t) ?? this._createTexture(e),\n      i = new r(o);\n    return this._repository.set(t, i), o;\n  }\n}\nclass r {\n  constructor(e) {\n    this.texture = e, this.refCount = 1;\n  }\n}\nexport { t as ProceduralTextureRepository };","map":{"version":3,"names":["generateUID","e","t","constructor","r","s","_createTexture","_parametersKey","_repository","Map","_orphanCache","newCache","dispose","destroy","texture","values","clear","swap","arguments","length","undefined","_acquire","release","get","refCount","delete","put","o","pop","i","set","ProceduralTextureRepository"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/materials/ProceduralTextureRepository.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{generateUID as e}from\"../../../../core/uid.js\";class t{constructor(t,r,s){this._createTexture=t,this._parametersKey=r,this._repository=new Map,this._orphanCache=s.newCache(`procedural-texture-repository:${e()}`,(e=>e.dispose()))}destroy(){for(const{texture:e}of this._repository.values())e.dispose();this._repository.clear(),this._orphanCache.destroy()}swap(e,t=null){const r=this._acquire(e);return this.release(t),r}release(e){if(null==e)return;const t=this._parametersKey(e),r=this._repository.get(t);if(r&&(r.refCount--,0===r.refCount)){this._repository.delete(t);const{texture:e}=r;this._orphanCache.put(t,e)}}_acquire(e){if(null==e)return null;const t=this._parametersKey(e),s=this._repository.get(t);if(s)return s.refCount++,s.texture;const o=this._orphanCache.pop(t)??this._createTexture(e),i=new r(o);return this._repository.set(t,i),o}}class r{constructor(e){this.texture=e,this.refCount=1}}export{t as ProceduralTextureRepository};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,WAAW,IAAIC,CAAC,QAAK,yBAAyB;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAACD,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;IAAC,IAAI,CAACC,cAAc,GAACJ,CAAC,EAAC,IAAI,CAACK,cAAc,GAACH,CAAC,EAAC,IAAI,CAACI,WAAW,GAAC,IAAIC,GAAG,CAAD,CAAC,EAAC,IAAI,CAACC,YAAY,GAACL,CAAC,CAACM,QAAQ,CAAC,iCAAiCV,CAAC,CAAC,CAAC,EAAE,EAAEA,CAAC,IAAEA,CAAC,CAACW,OAAO,CAAC,CAAE,CAAC;EAAA;EAACC,OAAOA,CAAA,EAAE;IAAC,KAAI,MAAK;MAACC,OAAO,EAACb;IAAC,CAAC,IAAG,IAAI,CAACO,WAAW,CAACO,MAAM,CAAC,CAAC,EAACd,CAAC,CAACW,OAAO,CAAC,CAAC;IAAC,IAAI,CAACJ,WAAW,CAACQ,KAAK,CAAC,CAAC,EAAC,IAAI,CAACN,YAAY,CAACG,OAAO,CAAC,CAAC;EAAA;EAACI,IAAIA,CAAChB,CAAC,EAAQ;IAAA,IAAPC,CAAC,GAAAgB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,IAAI;IAAE,MAAMd,CAAC,GAAC,IAAI,CAACiB,QAAQ,CAACpB,CAAC,CAAC;IAAC,OAAO,IAAI,CAACqB,OAAO,CAACpB,CAAC,CAAC,EAACE,CAAC;EAAA;EAACkB,OAAOA,CAACrB,CAAC,EAAC;IAAC,IAAG,IAAI,IAAEA,CAAC,EAAC;IAAO,MAAMC,CAAC,GAAC,IAAI,CAACK,cAAc,CAACN,CAAC,CAAC;MAACG,CAAC,GAAC,IAAI,CAACI,WAAW,CAACe,GAAG,CAACrB,CAAC,CAAC;IAAC,IAAGE,CAAC,KAAGA,CAAC,CAACoB,QAAQ,EAAE,EAAC,CAAC,KAAGpB,CAAC,CAACoB,QAAQ,CAAC,EAAC;MAAC,IAAI,CAAChB,WAAW,CAACiB,MAAM,CAACvB,CAAC,CAAC;MAAC,MAAK;QAACY,OAAO,EAACb;MAAC,CAAC,GAACG,CAAC;MAAC,IAAI,CAACM,YAAY,CAACgB,GAAG,CAACxB,CAAC,EAACD,CAAC,CAAC;IAAA;EAAC;EAACoB,QAAQA,CAACpB,CAAC,EAAC;IAAC,IAAG,IAAI,IAAEA,CAAC,EAAC,OAAO,IAAI;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACK,cAAc,CAACN,CAAC,CAAC;MAACI,CAAC,GAAC,IAAI,CAACG,WAAW,CAACe,GAAG,CAACrB,CAAC,CAAC;IAAC,IAAGG,CAAC,EAAC,OAAOA,CAAC,CAACmB,QAAQ,EAAE,EAACnB,CAAC,CAACS,OAAO;IAAC,MAAMa,CAAC,GAAC,IAAI,CAACjB,YAAY,CAACkB,GAAG,CAAC1B,CAAC,CAAC,IAAE,IAAI,CAACI,cAAc,CAACL,CAAC,CAAC;MAAC4B,CAAC,GAAC,IAAIzB,CAAC,CAACuB,CAAC,CAAC;IAAC,OAAO,IAAI,CAACnB,WAAW,CAACsB,GAAG,CAAC5B,CAAC,EAAC2B,CAAC,CAAC,EAACF,CAAC;EAAA;AAAC;AAAC,MAAMvB,CAAC;EAACD,WAAWA,CAACF,CAAC,EAAC;IAAC,IAAI,CAACa,OAAO,GAACb,CAAC,EAAC,IAAI,CAACuB,QAAQ,GAAC,CAAC;EAAA;AAAC;AAAC,SAAOtB,CAAC,IAAI6B,2BAA2B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}