{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../core/Error.js\";\nimport \"../../../../../core/has.js\";\nimport { NestedMap as t } from \"../../../../../core/NestedMap.js\";\nimport { ShaderTechniqueConfiguration as i } from \"./ShaderTechniqueConfiguration.js\";\nclass o {\n  constructor(e) {\n    this.context = e, this._debug = !1, this._precompiling = this._debug ? 0 : 1, this._cache = new t();\n  }\n  get precompiling() {\n    return this._precompiling;\n  }\n  set precompiling(e) {\n    this._precompiling = e, 0 === e && this.context.rctx.gl.flush();\n  }\n  get viewingMode() {\n    return this.context.viewingMode;\n  }\n  destroy() {\n    this._cache.forAll(e => e.destroy()), this._cache.clear();\n  }\n  precompile(e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : r;\n    ++this.precompiling, this.get(e, t), --this.precompiling;\n  }\n  get(t) {\n    let i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : r;\n    const o = i.key.code;\n    let c = this._cache.get(t, o);\n    if (null == c) {\n      if (0 === this._precompiling) {\n        let o = `Uncached shader compile in ${new Error().stack}\\n  for configuration\\n${i.decode()}`;\n        const c = this._cache.getInner(t);\n        throw c?.size && (o += \"\\n\\n  cached configurations:\\n\", o += Array.from(c.values()).map(e => i.decode(e.key)).sort().join(\"\\n\\n\")), console.log(o), new e(o);\n      }\n      c = new t(this.context, i), this._cache.set(t, o, c);\n    }\n    return c;\n  }\n  async reloadAll() {\n    const e = new Array();\n    this._cache.forEach(t => e.push(c(t))), await Promise.all(e);\n  }\n}\nasync function c(e) {\n  let t = !0;\n  e.forEach(async e => {\n    await e.reload(t), t = !1;\n  });\n}\nconst r = new i();\nexport { r as NoConfiguration, o as ShaderTechniqueRepository };","map":{"version":3,"names":["e","NestedMap","t","ShaderTechniqueConfiguration","i","o","constructor","context","_debug","_precompiling","_cache","precompiling","rctx","gl","flush","viewingMode","destroy","forAll","clear","precompile","arguments","length","undefined","r","get","key","code","c","Error","stack","decode","getInner","size","Array","from","values","map","sort","join","console","log","set","reloadAll","forEach","push","Promise","all","reload","NoConfiguration","ShaderTechniqueRepository"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import\"../../../../../core/has.js\";import{NestedMap as t}from\"../../../../../core/NestedMap.js\";import{ShaderTechniqueConfiguration as i}from\"./ShaderTechniqueConfiguration.js\";class o{constructor(e){this.context=e,this._debug=!1,this._precompiling=this._debug?0:1,this._cache=new t}get precompiling(){return this._precompiling}set precompiling(e){this._precompiling=e,0===e&&this.context.rctx.gl.flush()}get viewingMode(){return this.context.viewingMode}destroy(){this._cache.forAll((e=>e.destroy())),this._cache.clear()}precompile(e,t=r){++this.precompiling,this.get(e,t),--this.precompiling}get(t,i=r){const o=i.key.code;let c=this._cache.get(t,o);if(null==c){if(0===this._precompiling){let o=`Uncached shader compile in ${(new Error).stack}\\n  for configuration\\n${i.decode()}`;const c=this._cache.getInner(t);throw c?.size&&(o+=\"\\n\\n  cached configurations:\\n\",o+=Array.from(c.values()).map((e=>i.decode(e.key))).sort().join(\"\\n\\n\")),console.log(o),new e(o)}c=new t(this.context,i),this._cache.set(t,o,c)}return c}async reloadAll(){const e=new Array;this._cache.forEach((t=>e.push(c(t)))),await Promise.all(e)}}async function c(e){let t=!0;e.forEach((async e=>{await e.reload(t),t=!1}))}const r=new i;export{r as NoConfiguration,o as ShaderTechniqueRepository};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}