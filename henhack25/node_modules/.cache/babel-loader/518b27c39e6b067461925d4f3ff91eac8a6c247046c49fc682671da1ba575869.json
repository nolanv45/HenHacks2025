{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport t from \"../../core/Error.js\";\nimport n from \"../../core/Logger.js\";\nimport { makeAbsolute as i, addQueryParameters as r, urlToObject as o } from \"../../core/urlUtils.js\";\nimport s from \"../../geometry/SpatialReference.js\";\nimport { wgs84 as a } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { project as l } from \"../../geometry/support/webMercatorUtils.js\";\nimport { convertToFeatureSet as c, convertToGeometry as u, convertFromGeometry as d } from \"../graphics/featureConversionUtils.js\";\nimport f from \"../graphics/OptimizedFeatureSet.js\";\nimport { validateGeoJSON as m, inferLayerProperties as p, createOptimizedFeatures as g } from \"../graphics/sources/geojson/geojson.js\";\nimport { createDrawingInfo as y } from \"../graphics/sources/support/clientSideDefaults.js\";\nimport { mixAttributes as w } from \"../graphics/sources/support/sourceUtils.js\";\nimport j from \"../support/FieldsIndex.js\";\nimport { kebabDict as b } from \"../support/fieldType.js\";\nimport { utc as h } from \"../../time/timeZoneUtils.js\";\nconst F = () => n.getLogger(\"esri.layers.ogc.ogcFeatureUtils\"),\n  I = \"startindex\",\n  T = new Set([I, \"offset\"]),\n  k = \"http://www.opengis.net/def/crs/\",\n  x = `${k}OGC/1.3/CRS84`;\nvar S;\nasync function v(n, o, s = {}, a = 5) {\n  const {\n      links: l\n    } = n,\n    c = L(l, \"items\", S.geojson) || L(l, \"http://www.opengis.net/def/rel/ogc/1.0/items\", S.geojson);\n  if (null == c) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n  const {\n      apiKey: u,\n      customParameters: d,\n      signal: f\n    } = s,\n    g = i(c.href, n.landingPage.url),\n    w = {\n      limit: a,\n      ...d,\n      token: u\n    },\n    T = r(g, w),\n    k = {\n      accept: S.geojson\n    },\n    {\n      data: x\n    } = await e(T, {\n      signal: f,\n      headers: k\n    }),\n    v = A(T, a, x.links) ?? I;\n  m(x);\n  const N = p(x, {\n      geometryType: o.geometryType\n    }),\n    O = o.fields || N.fields || [],\n    P = null != o.hasZ ? o.hasZ : N.hasZ,\n    q = N.geometryType,\n    C = o.objectIdField || N.objectIdFieldName || \"OBJECTID\";\n  let R = o.timeInfo;\n  const $ = O.find(({\n    name: e\n  }) => e === C);\n  if ($) $.editable = !1, $.nullable = !1;else {\n    if (!N.objectIdFieldType) throw new t(\"ogc-feature-layer:missing-feature-id\", \"Collection geojson require a feature id as a unique identifier\");\n    O.unshift({\n      name: C,\n      alias: C,\n      type: \"number\" === N.objectIdFieldType ? \"esriFieldTypeOID\" : \"esriFieldTypeString\",\n      editable: !1,\n      nullable: !1\n    });\n  }\n  if (C !== N.objectIdFieldName) {\n    const e = O.find(({\n      name: e\n    }) => e === N.objectIdFieldName);\n    e && (e.type = \"esriFieldTypeInteger\");\n  }\n  O === N.fields && N.unknownFields.length > 0 && F().warn({\n    name: \"ogc-feature-layer:unknown-field-types\",\n    message: \"Some fields types couldn't be inferred from the features and were dropped\",\n    details: {\n      unknownFields: N.unknownFields\n    }\n  });\n  for (const e of O) {\n    if (null == e.name && (e.name = e.alias), null == e.alias && (e.alias = e.name), \"esriFieldTypeOID\" !== e.type && \"esriFieldTypeGlobalID\" !== e.type && (e.editable = null == e.editable || !!e.editable, e.nullable = null == e.nullable || !!e.nullable), !e.name) throw new t(\"ogc-feature-layer:invalid-field-name\", \"field name is missing\", {\n      field: e\n    });\n    if (!b.jsonValues.includes(e.type)) throw new t(\"ogc-feature-layer:invalid-field-type\", `invalid type for field \"${e.name}\"`, {\n      field: e\n    });\n  }\n  if (R) {\n    const e = new j(O);\n    if (R.startTimeField) {\n      const t = e.get(R.startTimeField);\n      t ? (R.startTimeField = t.name, t.type = \"esriFieldTypeDate\") : R.startTimeField = null;\n    }\n    if (R.endTimeField) {\n      const t = e.get(R.endTimeField);\n      t ? (R.endTimeField = t.name, t.type = \"esriFieldTypeDate\") : R.endTimeField = null;\n    }\n    if (R.trackIdField) {\n      const t = e.get(R.trackIdField);\n      t ? R.trackIdField = t.name : (R.trackIdField = null, F().warn({\n        name: \"ogc-feature-layer:invalid-timeInfo-trackIdField\",\n        message: \"trackIdField is missing\",\n        details: {\n          timeInfo: R\n        }\n      }));\n    }\n    R.timeReference ||= {\n      timeZoneIANA: h\n    }, R.startTimeField || R.endTimeField || (F().warn({\n      name: \"ogc-feature-layer:invalid-timeInfo\",\n      message: \"startTimeField and endTimeField are missing\",\n      details: {\n        timeInfo: R\n      }\n    }), R = void 0);\n  }\n  return {\n    drawingInfo: q ? y(q) : null,\n    extent: K(n),\n    geometryType: q,\n    fields: O,\n    hasZ: !!P,\n    objectIdField: C,\n    paginationParameter: v,\n    timeInfo: R\n  };\n}\nasync function N(n, r = {}) {\n  const {\n      links: o,\n      url: s\n    } = n,\n    a = L(o, \"data\", S.json) || L(o, \"http://www.opengis.net/def/rel/ogc/1.0/data\", S.json);\n  if (null == a) throw new t(\"ogc-feature-layer:missing-collections-page\", \"Missing collections url\");\n  const {\n      apiKey: l,\n      customParameters: c,\n      signal: u\n    } = r,\n    d = i(a.href, s),\n    {\n      data: f\n    } = await e(d, {\n      signal: u,\n      headers: {\n        accept: S.json\n      },\n      query: {\n        ...c,\n        token: l\n      }\n    });\n  for (const e of f.collections) e.landingPage = n;\n  return f;\n}\nasync function O(n, r = {}) {\n  const {\n      links: o,\n      url: s\n    } = n,\n    a = L(o, \"conformance\", S.json) || L(o, \"http://www.opengis.net/def/rel/ogc/1.0/conformance\", S.json);\n  if (null == a) throw new t(\"ogc-feature-layer:missing-conformance-page\", \"Missing conformance url\");\n  const {\n      apiKey: l,\n      customParameters: c,\n      signal: u\n    } = r,\n    d = i(a.href, s),\n    {\n      data: f\n    } = await e(d, {\n      signal: u,\n      headers: {\n        accept: S.json\n      },\n      query: {\n        ...c,\n        token: l\n      }\n    });\n  return f;\n}\nasync function P(t, n = {}) {\n  const {\n      apiKey: i,\n      customParameters: r,\n      signal: o\n    } = n,\n    {\n      data: s\n    } = await e(t, {\n      signal: o,\n      headers: {\n        accept: S.json\n      },\n      query: {\n        ...r,\n        token: i\n      }\n    });\n  return s.url = t, s;\n}\nasync function q(t, n = {}) {\n  const {\n      links: r,\n      url: o\n    } = t,\n    s = L(r, \"service-desc\", S.openapi);\n  if (null == s) return F().warn(\"ogc-feature-layer:missing-openapi-page\", \"The OGC API-Features server does not have an OpenAPI page.\"), null;\n  const {\n      apiKey: a,\n      customParameters: l,\n      signal: c\n    } = n,\n    u = i(s.href, o),\n    {\n      data: d\n    } = await e(u, {\n      signal: c,\n      headers: {\n        accept: S.openapi\n      },\n      query: {\n        ...l,\n        token: a\n      }\n    });\n  return d;\n}\nfunction C(e) {\n  const t = /^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),\n    n = t?.groups;\n  if (!n) return null;\n  const {\n    authority: i,\n    code: r\n  } = n;\n  switch (i.toLowerCase()) {\n    case \"ogc\":\n      switch (r.toLowerCase()) {\n        case \"crs27\":\n          return s.GCS_NAD_1927.wkid;\n        case \"crs83\":\n          return 4269;\n        case \"crs84\":\n        case \"crs84h\":\n          return s.WGS84.wkid;\n        default:\n          return null;\n      }\n    case \"esri\":\n    case \"epsg\":\n      {\n        const e = Number.parseInt(r, 10);\n        return Number.isNaN(e) ? null : e;\n      }\n    default:\n      return null;\n  }\n}\nasync function R(e, t, n) {\n  const i = await $(e, t, n);\n  return c(i);\n}\nasync function $(n, r, o) {\n  const {\n      collection: {\n        links: c,\n        landingPage: {\n          url: m\n        }\n      },\n      layerDefinition: p,\n      maxRecordCount: y,\n      queryParameters: {\n        apiKey: b,\n        customParameters: h\n      },\n      spatialReference: F,\n      supportedCrs: I\n    } = n,\n    T = L(c, \"items\", S.geojson) || L(c, \"http://www.opengis.net/def/rel/ogc/1.0/items\", S.geojson);\n  if (null == T) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n  const {\n    geometry: k,\n    num: x,\n    start: v,\n    timeExtent: N,\n    where: O\n  } = r;\n  if (r.objectIds) throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\", \"Queries with object ids are not supported\");\n  const P = s.fromJSON(F),\n    q = r.outSpatialReference ?? P,\n    C = q.isWGS84 ? null : W(q, I),\n    R = U(k, I),\n    $ = M(N),\n    G = Z(O),\n    D = x ?? (null == v ? y : 10),\n    K = 0 === v ? void 0 : v,\n    {\n      fields: A,\n      geometryType: J,\n      hasZ: z,\n      objectIdField: E,\n      paginationParameter: _\n    } = p,\n    B = i(T.href, m),\n    {\n      data: Q\n    } = await e(B, {\n      ...o,\n      query: {\n        ...h,\n        ...R,\n        crs: C,\n        datetime: $,\n        query: G,\n        limit: D,\n        [_]: K,\n        token: b\n      },\n      headers: {\n        accept: S.geojson\n      }\n    }),\n    V = g(Q, {\n      geometryType: J,\n      hasZ: z,\n      objectIdField: E\n    }),\n    H = V.length === D && !!L(Q.links ?? [], \"next\", S.geojson),\n    X = new j(A);\n  for (const e of V) {\n    const t = {};\n    w(X, t, e.attributes, !0);\n    for (const e of X.fields) e.nullable && !(e.name in t) && (t[e.name] = null);\n    t[E] = e.attributes[E], e.attributes = t;\n  }\n  if (!C && q.isWebMercator) for (const e of V) if (null != e.geometry && null != J) {\n    const t = u(e.geometry, J, z, !1);\n    t.spatialReference = s.WGS84, e.geometry = d(l(t, q));\n  }\n  for (const e of V) e.objectId = e.attributes[E];\n  const Y = C || !C && q.isWebMercator ? q.toJSON() : a,\n    ee = new f();\n  return ee.exceededTransferLimit = H, ee.features = V, ee.fields = A, ee.geometryType = J, ee.hasZ = z, ee.objectIdFieldName = E, ee.spatialReference = Y, ee;\n}\nfunction G(e) {\n  return null != e && \"extent\" === e.type;\n}\nfunction W(e, t) {\n  const {\n    isWebMercator: n,\n    wkid: i\n  } = e;\n  if (!i) return null;\n  const r = n ? t[3857] ?? t[102100] ?? t[102113] ?? t[900913] : t[e.wkid];\n  return r ? `${k}${r}` : null;\n}\nfunction D(e) {\n  if (null == e) return \"\";\n  const {\n    xmin: t,\n    ymin: n,\n    xmax: i,\n    ymax: r\n  } = e;\n  return `${t},${n},${i},${r}`;\n}\nfunction M(e) {\n  if (null == e) return null;\n  const {\n    start: t,\n    end: n\n  } = e;\n  return `${null != t ? t.toISOString() : \"..\"}/${null != n ? n.toISOString() : \"..\"}`;\n}\nfunction Z(e) {\n  return null != e && e && \"1=1\" !== e ? e : null;\n}\nfunction U(e, t) {\n  if (!G(e)) return null;\n  const {\n    spatialReference: n\n  } = e;\n  if (!n || n.isWGS84) return {\n    bbox: D(e)\n  };\n  const i = W(n, t);\n  return null != i ? {\n    bbox: D(e),\n    \"bbox-crs\": i\n  } : n.isWebMercator ? {\n    bbox: D(l(e, s.WGS84))\n  } : null;\n}\nfunction K(e) {\n  const t = e.extent?.spatial;\n  if (!t) return null;\n  const n = t.bbox[0],\n    i = 4 === n.length,\n    [r, o] = n,\n    a = i ? void 0 : n[2];\n  return {\n    xmin: r,\n    ymin: o,\n    xmax: i ? n[2] : n[3],\n    ymax: i ? n[3] : n[4],\n    zmin: a,\n    zmax: i ? void 0 : n[5],\n    spatialReference: s.WGS84.toJSON()\n  };\n}\nfunction L(e, t, n) {\n  return e.find(({\n    rel: e,\n    type: i\n  }) => e === t && i === n) ?? e.find(({\n    rel: e,\n    type: n\n  }) => e === t && !n);\n}\nfunction A(e, t, n) {\n  if (!n) return;\n  const i = L(n, \"next\", S.geojson),\n    r = o(i?.href)?.query;\n  if (!r) return;\n  const s = o(e).query,\n    a = Object.keys(s ?? {}),\n    l = Object.entries(r).filter(([e]) => !a.includes(e)).find(([e, n]) => T.has(e.toLowerCase()) && Number.parseInt(n, 10) === t),\n    c = l?.[0];\n  return c;\n}\n!function (e) {\n  e.json = \"application/json\", e.geojson = \"application/geo+json\", e.openapi = \"application/vnd.oai.openapi+json;version=3.0\";\n}(S || (S = {}));\nexport { x as crsDefault, k as crsPrefix, v as getCollectionDefinition, N as getServerCollections, O as getServerConformance, P as getServerLandingPage, q as getServerOpenApi, C as getSpatialReferenceWkid, R as queryFeatureSetJSON, $ as queryOptimizedFeatureSet };","map":{"version":3,"names":["e","t","n","makeAbsolute","i","addQueryParameters","r","urlToObject","o","s","wgs84","a","project","l","convertToFeatureSet","c","convertToGeometry","u","convertFromGeometry","d","f","validateGeoJSON","m","inferLayerProperties","p","createOptimizedFeatures","g","createDrawingInfo","y","mixAttributes","w","j","kebabDict","b","utc","h","F","getLogger","I","T","Set","k","x","S","v","links","L","geojson","apiKey","customParameters","signal","href","landingPage","url","limit","token","accept","data","headers","A","N","geometryType","O","fields","P","hasZ","q","C","objectIdField","objectIdFieldName","R","timeInfo","$","find","name","editable","nullable","objectIdFieldType","unshift","alias","type","unknownFields","length","warn","message","details","field","jsonValues","includes","startTimeField","get","endTimeField","trackIdField","timeReference","timeZoneIANA","drawingInfo","extent","K","paginationParameter","json","query","collections","openapi","exec","groups","authority","code","toLowerCase","GCS_NAD_1927","wkid","WGS84","Number","parseInt","isNaN","collection","layerDefinition","maxRecordCount","queryParameters","spatialReference","supportedCrs","geometry","num","start","timeExtent","where","objectIds","fromJSON","outSpatialReference","isWGS84","W","U","M","G","Z","D","J","z","E","_","B","Q","crs","datetime","V","H","X","attributes","isWebMercator","objectId","Y","toJSON","ee","exceededTransferLimit","features","xmin","ymin","xmax","ymax","end","toISOString","bbox","spatial","zmin","zmax","rel","Object","keys","entries","filter","has","crsDefault","crsPrefix","getCollectionDefinition","getServerCollections","getServerConformance","getServerLandingPage","getServerOpenApi","getSpatialReferenceWkid","queryFeatureSetJSON","queryOptimizedFeatureSet"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{makeAbsolute as i,addQueryParameters as r,urlToObject as o}from\"../../core/urlUtils.js\";import s from\"../../geometry/SpatialReference.js\";import{wgs84 as a}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as l}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as c,convertToGeometry as u,convertFromGeometry as d}from\"../graphics/featureConversionUtils.js\";import f from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as m,inferLayerProperties as p,createOptimizedFeatures as g}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as y}from\"../graphics/sources/support/clientSideDefaults.js\";import{mixAttributes as w}from\"../graphics/sources/support/sourceUtils.js\";import j from\"../support/FieldsIndex.js\";import{kebabDict as b}from\"../support/fieldType.js\";import{utc as h}from\"../../time/timeZoneUtils.js\";const F=()=>n.getLogger(\"esri.layers.ogc.ogcFeatureUtils\"),I=\"startindex\",T=new Set([I,\"offset\"]),k=\"http://www.opengis.net/def/crs/\",x=`${k}OGC/1.3/CRS84`;var S;async function v(n,o,s={},a=5){const{links:l}=n,c=L(l,\"items\",S.geojson)||L(l,\"http://www.opengis.net/def/rel/ogc/1.0/items\",S.geojson);if(null==c)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{apiKey:u,customParameters:d,signal:f}=s,g=i(c.href,n.landingPage.url),w={limit:a,...d,token:u},T=r(g,w),k={accept:S.geojson},{data:x}=await e(T,{signal:f,headers:k}),v=A(T,a,x.links)??I;m(x);const N=p(x,{geometryType:o.geometryType}),O=o.fields||N.fields||[],P=null!=o.hasZ?o.hasZ:N.hasZ,q=N.geometryType,C=o.objectIdField||N.objectIdFieldName||\"OBJECTID\";let R=o.timeInfo;const $=O.find((({name:e})=>e===C));if($)$.editable=!1,$.nullable=!1;else{if(!N.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");O.unshift({name:C,alias:C,type:\"number\"===N.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(C!==N.objectIdFieldName){const e=O.find((({name:e})=>e===N.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}O===N.fields&&N.unknownFields.length>0&&F().warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:N.unknownFields}});for(const e of O){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!b.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(R){const e=new j(O);if(R.startTimeField){const t=e.get(R.startTimeField);t?(R.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):R.startTimeField=null}if(R.endTimeField){const t=e.get(R.endTimeField);t?(R.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):R.endTimeField=null}if(R.trackIdField){const t=e.get(R.trackIdField);t?R.trackIdField=t.name:(R.trackIdField=null,F().warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:R}}))}R.timeReference||={timeZoneIANA:h},R.startTimeField||R.endTimeField||(F().warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:R}}),R=void 0)}return{drawingInfo:q?y(q):null,extent:K(n),geometryType:q,fields:O,hasZ:!!P,objectIdField:C,paginationParameter:v,timeInfo:R}}async function N(n,r={}){const{links:o,url:s}=n,a=L(o,\"data\",S.json)||L(o,\"http://www.opengis.net/def/rel/ogc/1.0/data\",S.json);if(null==a)throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:l,customParameters:c,signal:u}=r,d=i(a.href,s),{data:f}=await e(d,{signal:u,headers:{accept:S.json},query:{...c,token:l}});for(const e of f.collections)e.landingPage=n;return f}async function O(n,r={}){const{links:o,url:s}=n,a=L(o,\"conformance\",S.json)||L(o,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",S.json);if(null==a)throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:l,customParameters:c,signal:u}=r,d=i(a.href,s),{data:f}=await e(d,{signal:u,headers:{accept:S.json},query:{...c,token:l}});return f}async function P(t,n={}){const{apiKey:i,customParameters:r,signal:o}=n,{data:s}=await e(t,{signal:o,headers:{accept:S.json},query:{...r,token:i}});return s.url=t,s}async function q(t,n={}){const{links:r,url:o}=t,s=L(r,\"service-desc\",S.openapi);if(null==s)return F().warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:a,customParameters:l,signal:c}=n,u=i(s.href,o),{data:d}=await e(u,{signal:c,headers:{accept:S.openapi},query:{...l,token:a}});return d}function C(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),n=t?.groups;if(!n)return null;const{authority:i,code:r}=n;switch(i.toLowerCase()){case\"ogc\":switch(r.toLowerCase()){case\"crs27\":return s.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return s.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function R(e,t,n){const i=await $(e,t,n);return c(i)}async function $(n,r,o){const{collection:{links:c,landingPage:{url:m}},layerDefinition:p,maxRecordCount:y,queryParameters:{apiKey:b,customParameters:h},spatialReference:F,supportedCrs:I}=n,T=L(c,\"items\",S.geojson)||L(c,\"http://www.opengis.net/def/rel/ogc/1.0/items\",S.geojson);if(null==T)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:x,start:v,timeExtent:N,where:O}=r;if(r.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with object ids are not supported\");const P=s.fromJSON(F),q=r.outSpatialReference??P,C=q.isWGS84?null:W(q,I),R=U(k,I),$=M(N),G=Z(O),D=x??(null==v?y:10),K=0===v?void 0:v,{fields:A,geometryType:J,hasZ:z,objectIdField:E,paginationParameter:_}=p,B=i(T.href,m),{data:Q}=await e(B,{...o,query:{...h,...R,crs:C,datetime:$,query:G,limit:D,[_]:K,token:b},headers:{accept:S.geojson}}),V=g(Q,{geometryType:J,hasZ:z,objectIdField:E}),H=V.length===D&&!!L(Q.links??[],\"next\",S.geojson),X=new j(A);for(const e of V){const t={};w(X,t,e.attributes,!0);for(const e of X.fields)e.nullable&&!(e.name in t)&&(t[e.name]=null);t[E]=e.attributes[E],e.attributes=t}if(!C&&q.isWebMercator)for(const e of V)if(null!=e.geometry&&null!=J){const t=u(e.geometry,J,z,!1);t.spatialReference=s.WGS84,e.geometry=d(l(t,q))}for(const e of V)e.objectId=e.attributes[E];const Y=C||!C&&q.isWebMercator?q.toJSON():a,ee=new f;return ee.exceededTransferLimit=H,ee.features=V,ee.fields=A,ee.geometryType=J,ee.hasZ=z,ee.objectIdFieldName=E,ee.spatialReference=Y,ee}function G(e){return null!=e&&\"extent\"===e.type}function W(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${k}${r}`:null}function D(e){if(null==e)return\"\";const{xmin:t,ymin:n,xmax:i,ymax:r}=e;return`${t},${n},${i},${r}`}function M(e){if(null==e)return null;const{start:t,end:n}=e;return`${null!=t?t.toISOString():\"..\"}/${null!=n?n.toISOString():\"..\"}`}function Z(e){return null!=e&&e&&\"1=1\"!==e?e:null}function U(e,t){if(!G(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:D(e)};const i=W(n,t);return null!=i?{bbox:D(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:D(l(e,s.WGS84))}:null}function K(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,[r,o]=n,a=i?void 0:n[2];return{xmin:r,ymin:o,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:a,zmax:i?void 0:n[5],spatialReference:s.WGS84.toJSON()}}function L(e,t,n){return e.find((({rel:e,type:i})=>e===t&&i===n))??e.find((({rel:e,type:n})=>e===t&&!n))}function A(e,t,n){if(!n)return;const i=L(n,\"next\",S.geojson),r=o(i?.href)?.query;if(!r)return;const s=o(e).query,a=Object.keys(s??{}),l=Object.entries(r).filter((([e])=>!a.includes(e))).find((([e,n])=>T.has(e.toLowerCase())&&Number.parseInt(n,10)===t)),c=l?.[0];return c}!function(e){e.json=\"application/json\",e.geojson=\"application/geo+json\",e.openapi=\"application/vnd.oai.openapi+json;version=3.0\"}(S||(S={}));export{x as crsDefault,k as crsPrefix,v as getCollectionDefinition,N as getServerCollections,O as getServerConformance,P as getServerLandingPage,q as getServerOpenApi,C as getSpatialReferenceWkid,R as queryFeatureSetJSON,$ as queryOptimizedFeatureSet};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}