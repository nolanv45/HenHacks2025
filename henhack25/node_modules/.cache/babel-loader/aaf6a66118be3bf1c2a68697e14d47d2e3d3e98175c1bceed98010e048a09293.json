{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { Manipulation as t, ManipulatorType as i } from \"./Manipulation.js\";\nimport { createManipulatorDragEventPipeline as r, screenToMap as a } from \"../../../../interactive/dragEventPipeline.js\";\nimport { GraphicManipulator as o } from \"../../../../interactive/GraphicManipulator.js\";\nimport { AccumulationBehavior as e } from \"../../../../interactive/editGeometry/interfaces.js\";\nimport { getSymbolInfo as n } from \"../../../../interactive/support/utils.js\";\nclass s extends t {\n  constructor(t) {\n    super(), this._view = t.view, this._tool = t.tool, this._graphic = t.graphic, this._manipulator = this._createManipulator(), this.forEachManipulator(t => this._tool.manipulators.add(t));\n  }\n  destroy() {\n    this.forEachManipulator(t => {\n      this._tool.manipulators.remove(t), t.destroy();\n    }), this._tool = null, this._view = null, this._manipulator = null, this._graphic = null;\n  }\n  forEachManipulator(t) {\n    t(this._manipulator, i.TRANSLATE_XY);\n  }\n  createDragPipeline(t, i) {\n    let o = null,\n      s = null,\n      l = 0,\n      p = 0,\n      c = 0;\n    const {\n      offsetX: m,\n      offsetY: h,\n      size: u\n    } = n(this._graphic.symbol);\n    return r(this._manipulator, (r, n) => {\n      n.next(i => {\n        if (\"start\" === i.action) {\n          const i = t();\n          o = i.editGeometryOperations, s = i.constraints;\n        }\n        return i;\n      }).next(a(this._view)).next(t => {\n        const {\n          x: r,\n          y: a,\n          z: n\n        } = t.mapEnd;\n        if (s && (r + m < s.xmin || a + h - u < s.ymin || r + m > s.xmax || a + h - u > s.ymax)) return t;\n        (\"start\" === t.action || 0 === l && 0 === p && 0 === c) && (l = t.mapStart.x, p = t.mapStart.y, c = t.mapStart.z);\n        const _ = r - l,\n          f = a - p,\n          v = n - c;\n        l = r, p = a, c = n;\n        const x = \"start\" === t.action ? e.NEW_STEP : e.ACCUMULATE_STEPS,\n          E = o.move(_, f, v, x);\n        return i(t, E), t;\n      });\n    });\n  }\n  _createManipulator() {\n    const t = this._view,\n      i = this._graphic;\n    return new o({\n      view: t,\n      graphic: i,\n      selectable: !0,\n      cursor: \"move\"\n    });\n  }\n}\nexport { s as DragManipulation };","map":{"version":3,"names":["Manipulation","t","ManipulatorType","i","createManipulatorDragEventPipeline","r","screenToMap","a","GraphicManipulator","o","AccumulationBehavior","e","getSymbolInfo","n","s","constructor","_view","view","_tool","tool","_graphic","graphic","_manipulator","_createManipulator","forEachManipulator","manipulators","add","destroy","remove","TRANSLATE_XY","createDragPipeline","l","p","c","offsetX","m","offsetY","h","size","u","symbol","next","action","editGeometryOperations","constraints","x","y","z","mapEnd","xmin","ymin","xmax","ymax","mapStart","_","f","v","NEW_STEP","ACCUMULATE_STEPS","E","move","selectable","cursor","DragManipulation"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/DragManipulation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Manipulation as t,ManipulatorType as i}from\"./Manipulation.js\";import{createManipulatorDragEventPipeline as r,screenToMap as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as e}from\"../../../../interactive/editGeometry/interfaces.js\";import{getSymbolInfo as n}from\"../../../../interactive/support/utils.js\";class s extends t{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._graphic=t.graphic,this._manipulator=this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphic=null}forEachManipulator(t){t(this._manipulator,i.TRANSLATE_XY)}createDragPipeline(t,i){let o=null,s=null,l=0,p=0,c=0;const{offsetX:m,offsetY:h,size:u}=n(this._graphic.symbol);return r(this._manipulator,((r,n)=>{n.next((i=>{if(\"start\"===i.action){const i=t();o=i.editGeometryOperations,s=i.constraints}return i})).next(a(this._view)).next((t=>{const{x:r,y:a,z:n}=t.mapEnd;if(s&&(r+m<s.xmin||a+h-u<s.ymin||r+m>s.xmax||a+h-u>s.ymax))return t;(\"start\"===t.action||0===l&&0===p&&0===c)&&(l=t.mapStart.x,p=t.mapStart.y,c=t.mapStart.z);const _=r-l,f=a-p,v=n-c;l=r,p=a,c=n;const x=\"start\"===t.action?e.NEW_STEP:e.ACCUMULATE_STEPS,E=o.move(_,f,v,x);return i(t,E),t}))}))}_createManipulator(){const t=this._view,i=this._graphic;return new o({view:t,graphic:i,selectable:!0,cursor:\"move\"})}}export{s as DragManipulation};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}