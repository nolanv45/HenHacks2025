{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport s from \"../../core/Accessor.js\";\nimport { JSONMap as o } from \"../../core/jsonMap.js\";\nimport e from \"../../core/Logger.js\";\nimport t from \"../../core/Warning.js\";\nimport { property as a } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport l from \"./ColorVariable.js\";\nimport n from \"./OpacityVariable.js\";\nimport c from \"./RotationVariable.js\";\nimport p from \"./SizeVariable.js\";\nconst b = {\n    color: l,\n    size: p,\n    opacity: n,\n    rotation: c\n  },\n  u = new o({\n    colorInfo: \"color\",\n    transparencyInfo: \"opacity\",\n    rotationInfo: \"rotation\",\n    sizeInfo: \"size\"\n  }),\n  h = /^\\[([^\\]]+)\\]$/i;\nlet m = class extends s {\n  constructor() {\n    super(...arguments), this.colorVariables = null, this.opacityVariables = null, this.rotationVariables = null, this.sizeVariables = null;\n  }\n  set visualVariables(r) {\n    if (this._resetVariables(), r = r?.filter(r => !!r), r?.length) {\n      for (const s of r) switch (s.type) {\n        case \"color\":\n          this.colorVariables.push(s);\n          break;\n        case \"opacity\":\n          this.opacityVariables.push(s);\n          break;\n        case \"rotation\":\n          this.rotationVariables.push(s);\n          break;\n        case \"size\":\n          this.sizeVariables.push(s);\n      }\n      if (this.sizeVariables.length) {\n        this.sizeVariables.some(r => !!r.target) && r.sort((r, s) => {\n          let o = null;\n          return o = r.target === s.target ? 0 : r.target ? 1 : -1, o;\n        });\n      }\n      for (let s = 0; s < r.length; s++) {\n        r[s].index = s;\n      }\n      this._set(\"visualVariables\", r);\n    } else this._set(\"visualVariables\", r);\n  }\n  readVariables(r, s, o) {\n    const {\n        rotationExpression: a,\n        rotationType: i\n      } = s,\n      l = a?.match(h),\n      n = l?.[1];\n    if (n && (r || (r = []), r.push({\n      type: \"rotationInfo\",\n      rotationType: i,\n      field: n\n    })), r) return r.map(r => {\n      const s = u.read(r.type),\n        a = b[s];\n      a || (e.getLogger(this).warn(`Unknown variable type: ${s}`), o?.messages && o.messages.push(new t(\"visual-variable:unsupported\", `visualVariable of type '${s}' is not supported`, {\n        definition: r,\n        context: o\n      })));\n      const i = new a();\n      return i.read(r, o), i;\n    });\n  }\n  writeVariables(r, s) {\n    const o = [];\n    for (const e of r) {\n      const r = e.toJSON(s);\n      r && o.push(r);\n    }\n    return o;\n  }\n  _resetVariables() {\n    this.colorVariables = [], this.opacityVariables = [], this.rotationVariables = [], this.sizeVariables = [];\n  }\n};\nr([a()], m.prototype, \"visualVariables\", null), m = r([i(\"esri.renderers.visualVariables.VisualVariableFactory\")], m);\nconst V = m;\nexport { V as default };","map":{"version":3,"names":["_","r","s","JSONMap","o","e","t","property","a","subclass","i","l","n","c","p","b","color","size","opacity","rotation","u","colorInfo","transparencyInfo","rotationInfo","sizeInfo","h","m","constructor","arguments","colorVariables","opacityVariables","rotationVariables","sizeVariables","visualVariables","_resetVariables","filter","length","type","push","some","target","sort","index","_set","readVariables","rotationExpression","rotationType","match","field","map","read","getLogger","warn","messages","definition","context","writeVariables","toJSON","prototype","V","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/renderers/visualVariables/VisualVariableFactory.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import s from\"../../core/Accessor.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import e from\"../../core/Logger.js\";import t from\"../../core/Warning.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"./ColorVariable.js\";import n from\"./OpacityVariable.js\";import c from\"./RotationVariable.js\";import p from\"./SizeVariable.js\";const b={color:l,size:p,opacity:n,rotation:c},u=new o({colorInfo:\"color\",transparencyInfo:\"opacity\",rotationInfo:\"rotation\",sizeInfo:\"size\"}),h=/^\\[([^\\]]+)\\]$/i;let m=class extends s{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(r){if(this._resetVariables(),r=r?.filter((r=>!!r)),r?.length){for(const s of r)switch(s.type){case\"color\":this.colorVariables.push(s);break;case\"opacity\":this.opacityVariables.push(s);break;case\"rotation\":this.rotationVariables.push(s);break;case\"size\":this.sizeVariables.push(s)}if(this.sizeVariables.length){this.sizeVariables.some((r=>!!r.target))&&r.sort(((r,s)=>{let o=null;return o=r.target===s.target?0:r.target?1:-1,o}))}for(let s=0;s<r.length;s++){r[s].index=s}this._set(\"visualVariables\",r)}else this._set(\"visualVariables\",r)}readVariables(r,s,o){const{rotationExpression:a,rotationType:i}=s,l=a?.match(h),n=l?.[1];if(n&&(r||(r=[]),r.push({type:\"rotationInfo\",rotationType:i,field:n})),r)return r.map((r=>{const s=u.read(r.type),a=b[s];a||(e.getLogger(this).warn(`Unknown variable type: ${s}`),o?.messages&&o.messages.push(new t(\"visual-variable:unsupported\",`visualVariable of type '${s}' is not supported`,{definition:r,context:o})));const i=new a;return i.read(r,o),i}))}writeVariables(r,s){const o=[];for(const e of r){const r=e.toJSON(s);r&&o.push(r)}return o}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};r([a()],m.prototype,\"visualVariables\",null),m=r([i(\"esri.renderers.visualVariables.VisualVariableFactory\")],m);const V=m;export{V as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}