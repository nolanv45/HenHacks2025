{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { isSome as o } from \"../../../../../core/arrayUtils.js\";\nimport { isAborted as n, throwIfAborted as t } from \"../../../../../core/promiseUtils.js\";\nimport { create as e } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { empty as r, expandWithVec3 as i, center as s, diameter as c } from \"../../../../../geometry/support/aaBoundingBox.js\";\nimport { LodComponentData as u } from \"./LodComponentData.js\";\nclass a {\n  static async create(e, r, i) {\n    const s = await Promise.allSettled(r.components.map(o => e.controller.schedule(() => new u(e, o), i))),\n      c = s.map(o => \"fulfilled\" === o.status ? o.value : null).filter(o);\n    if (n(i) || c.length !== s.length) {\n      c.forEach(o => o.destroy()), t(i);\n      for (const o of s) if (\"rejected\" === o.status) throw o.reason;\n    }\n    return new a(r.minScreenSpaceRadius, c);\n  }\n  constructor(o, n) {\n    this.minScreenSpaceRadius = o, this.components = n;\n  }\n  destroy() {\n    this.components.forEach(o => o.destroy());\n  }\n  intersect(o, n, t, e, r, i, s) {\n    this.components.forEach(c => c.intersect(o, n, t, e, r, i, this.boundingSphere, s));\n  }\n  get boundingBox() {\n    if (null == this._boundingBox) {\n      const o = r();\n      this.components.forEach(n => {\n        null != n.boundingInfo && (i(o, n.boundingInfo.bbMin), i(o, n.boundingInfo.bbMax));\n      }), this._boundingBox = o;\n    }\n    return this._boundingBox;\n  }\n  get boundingSphere() {\n    if (null == this._boundingSphere) {\n      const o = this.boundingBox,\n        n = e();\n      s(o, n), this._boundingSphere = {\n        center: n,\n        radius: .5 * c(o)\n      };\n    }\n    return this._boundingSphere;\n  }\n  get triangleCount() {\n    return this.components.reduce((o, n) => o + n.triangleCount, 0);\n  }\n}\nexport { a as LodLevel };","map":{"version":3,"names":["isSome","o","isAborted","n","throwIfAborted","t","create","e","empty","r","expandWithVec3","i","center","s","diameter","c","LodComponentData","u","a","Promise","allSettled","components","map","controller","schedule","status","value","filter","length","forEach","destroy","reason","minScreenSpaceRadius","constructor","intersect","boundingSphere","boundingBox","_boundingBox","boundingInfo","bbMin","bbMax","_boundingSphere","radius","triangleCount","reduce","LodLevel"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/arrayUtils.js\";import{isAborted as n,throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as r,expandWithVec3 as i,center as s,diameter as c}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as u}from\"./LodComponentData.js\";class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map((o=>e.controller.schedule((()=>new u(e,o)),i)))),c=s.map((o=>\"fulfilled\"===o.status?o.value:null)).filter(o);if(n(i)||c.length!==s.length){c.forEach((o=>o.destroy())),t(i);for(const o of s)if(\"rejected\"===o.status)throw o.reason}return new a(r.minScreenSpaceRadius,c)}constructor(o,n){this.minScreenSpaceRadius=o,this.components=n}destroy(){this.components.forEach((o=>o.destroy()))}intersect(o,n,t,e,r,i,s){this.components.forEach((c=>c.intersect(o,n,t,e,r,i,this.boundingSphere,s)))}get boundingBox(){if(null==this._boundingBox){const o=r();this.components.forEach((n=>{null!=n.boundingInfo&&(i(o,n.boundingInfo.bbMin),i(o,n.boundingInfo.bbMax))})),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const o=this.boundingBox,n=e();s(o,n),this._boundingSphere={center:n,radius:.5*c(o)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((o,n)=>o+n.triangleCount),0)}}export{a as LodLevel};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}