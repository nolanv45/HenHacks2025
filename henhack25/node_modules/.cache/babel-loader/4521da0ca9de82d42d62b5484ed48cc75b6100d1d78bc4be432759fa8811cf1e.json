{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../PopupTemplate.js\";\nimport { clone as r } from \"../../core/lang.js\";\nimport o from \"../../core/Logger.js\";\nimport { MultiOriginJSONMixin as i } from \"../../core/MultiOriginJSONSupport.js\";\nimport \"../../core/workers/workers.js\";\nimport { property as n } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as a } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { OriginId as p } from \"../../core/accessorSupport/PropertyOrigin.js\";\nimport l from \"../../geometry/Extent.js\";\nimport y from \"../../geometry/Point.js\";\nimport u from \"../../geometry/Polygon.js\";\nimport m from \"../../geometry/Polyline.js\";\nimport { initializeProjection as d, project as h } from \"../../geometry/projection.js\";\nimport c from \"../../geometry/SpatialReference.js\";\nimport { wgs84 as f } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { featureGeometryTypeKebabDictionary as g } from \"../../geometry/support/typeUtils.js\";\nimport j from \"../Layer.js\";\nimport b from \"../graphics/data/FeatureStore.js\";\nimport { QueryEngine as w } from \"../graphics/data/QueryEngine.js\";\nimport { createCapabilities as T, createDrawingInfo as I } from \"../graphics/sources/support/clientSideDefaults.js\";\nimport { systemOidFieldName as S, systemAggregationCountFieldName as v, systemIsSpatialFieldName as O, systemLayoutGeometryFieldName as E, systemOriginIdFieldName as x, systemDestinationIdFieldName as N } from \"./constants.js\";\nimport { KnowledgeGraphSublayerBase as L } from \"./KnowledgeGraphSublayerBase.js\";\nimport { getDisplayLabelProperty as F, getLinkChartDefaultLabelingInfo as _, getMapDefaultLabelingInfo as R, getKGSublayerSymbolColor as Q, getDefaultLCRelationshipSublayerSymbol as C } from \"./layerUtils.js\";\nimport { BlendLayer as M, blendModeProperty as k, effectProperty as J } from \"../mixins/BlendLayer.js\";\nimport { DisplayFilteredLayer as D, displayFilterEnabledProperty as P, displayFilterInfoProperty as q } from \"../mixins/DisplayFilteredLayer.js\";\nimport { FeatureEffectLayer as G, featureEffectProperty as U } from \"../mixins/FeatureEffectLayer.js\";\nimport { FeatureReductionLayer as A } from \"../mixins/FeatureReductionLayer.js\";\nimport { OrderedLayer as Z, orderByProperty as B } from \"../mixins/OrderedLayer.js\";\nimport { RefreshableLayer as V } from \"../mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as K } from \"../mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as W, useViewTimeProperty as Y } from \"../mixins/TemporalLayer.js\";\nimport { legendEnabled as z, maxScale as H, minScale as X, opacity as $, popupEnabled as ee } from \"../support/commonProperties.js\";\nimport { featureReductionProperty as te } from \"../support/featureReductionUtils.js\";\nimport re from \"../support/Field.js\";\nimport { fixRendererFields as oe, fixTimeInfoFields as ie } from \"../support/fieldUtils.js\";\nimport ne from \"../support/LabelClass.js\";\nimport { reader as se } from \"../support/labelingInfo.js\";\nimport ae from \"../support/TimeInfo.js\";\nimport pe from \"../../renderers/SimpleRenderer.js\";\nimport { fromJSON as le } from \"../../renderers/support/jsonUtils.js\";\nimport { rendererTypes as ye } from \"../../renderers/support/typeUtils.js\";\nimport ue from \"../../rest/support/FeatureSet.js\";\nimport me from \"../../rest/support/Query.js\";\nimport { createPopupTemplate as de } from \"../../support/popupUtils.js\";\nimport { applyColorToSymbol as he } from \"../../symbols/support/utils.js\";\nimport ce from \"../../core/workers/RemoteClient.js\";\nfunction fe(e) {\n  if (!e.json) return e;\n  e.json.write = ge(e.json.write);\n  const t = e.json.origins;\n  if (!t) return e;\n  let r;\n  for (r in t) {\n    const e = t[r];\n    e && (e.write = ge(e.write));\n  }\n  return e;\n}\nfunction ge(e) {\n  return \"object\" == typeof e && e ? (!1 !== e.enabled && (e.overridePolicy = je(e)), e) : !0 === e ? be() : e;\n}\nfunction je(e) {\n  const {\n    target: t,\n    writer: r,\n    overridePolicy: o,\n    ...i\n  } = e;\n  return function (e, t) {\n    const r = we.call(this, e, t);\n    return r.enabled ? {\n      ...i,\n      ...r\n    } : r;\n  };\n}\nfunction be() {\n  return {\n    overridePolicy: we\n  };\n}\nfunction we(e, t) {\n  const r = !!this.geometryType;\n  let o = {\n    enabled: r\n  };\n  return r && (o = {\n    ...o,\n    ...Te.call(this, e, t)\n  }), o;\n}\nfunction Te(e, t) {\n  return {\n    ignoreOrigin: this.originIdOf(t) > p.DEFAULTS\n  };\n}\nlet Ie = class extends L(D(A(G(M(Z(W(K(V(i(j)))))))))) {\n  constructor(e) {\n    super(e), this.blendMode = \"normal\", this.capabilities = T(!1, !1), this.charts = null, this.definitionExpression = null, this.displayField = \"\", this.displayFilterEnabled = !0, this.displayFilterInfo = null, this.effect = null, this.elevationInfo = null, this.featureEffect = null, this.graphType = null, this.labelsVisible = !0, this.layerType = null, this.legendEnabled = !0, this.maxScale = 0, this.minScale = 0, this.objectIdField = S, this.objectType = null, this.opacity = 1, this.orderBy = null, this.parent = null, this.parentCompositeLayer = null, this.persistenceEnabled = !0, this.popupEnabled = !0, this.popupTemplate = null, this.refreshInterval = 0, this.source = {\n      openPorts: () => this.load().then(() => {\n        const e = new MessageChannel();\n        return new ce(e.port1, {\n          channel: e,\n          client: {\n            queryFeatures: (e, t = {}) => {\n              const r = me.fromJSON(e);\n              return this.queryFeaturesJSON(r, t);\n            }\n          }\n        }), [e.port2];\n      })\n    }, this.type = \"knowledge-graph-sublayer\", this.useViewTime = !0, this.visible = !0;\n  }\n  get defaultPopupTemplate() {\n    return this.createPopupTemplate();\n  }\n  set featureReduction(e) {\n    const t = this._normalizeFeatureReduction(e);\n    this._set(\"featureReduction\", t);\n  }\n  get fields() {\n    const e = [];\n    return this.objectType?.properties?.forEach(t => {\n      const r = \"esriFieldTypeOID\" === t.fieldType ? \"esriFieldTypeInteger\" : t.fieldType;\n      e.push(re.fromJSON({\n        name: t.name,\n        type: r,\n        alias: t.alias,\n        defaultValue: t.defaultValue,\n        editable: t.editable,\n        nullable: t.nullable\n      }));\n    }), e.push(re.fromJSON({\n      name: this.objectIdField,\n      type: \"esriFieldTypeString\",\n      alias: this.objectIdField,\n      editable: !1\n    }), re.fromJSON({\n      name: v,\n      type: \"esriFieldTypeInteger\",\n      alias: v,\n      editable: !1\n    }), re.fromJSON({\n      name: O,\n      type: \"esriFieldTypeInteger\",\n      alias: O,\n      editable: !1\n    })), e;\n  }\n  get geometryType() {\n    if (\"link-chart\" === this.parentCompositeLayer?.type) return \"relationship\" === this.graphType ? \"polyline\" : \"point\";\n    const e = this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),\n      t = e?.geometryType;\n    return t && \"esriGeometryNull\" !== t ? g.fromJSON(t) : null;\n  }\n  get geometryFieldName() {\n    if (\"link-chart\" === this.parentCompositeLayer?.type) return E;\n    const e = this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name);\n    return e?.name ?? null;\n  }\n  get graphTypeName() {\n    return this.objectType?.name;\n  }\n  get hasM() {\n    const e = this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),\n      t = e?.name,\n      r = t ? this.objectType?.properties?.[t] : null;\n    return r?.hasM ?? !1;\n  }\n  get hasZ() {\n    const e = this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),\n      t = e?.name,\n      r = t ? this.objectType?.properties?.[t] : null;\n    return r?.hasZ ?? !1;\n  }\n  set labelingInfo(e) {\n    this._set(\"labelingInfo\", e);\n  }\n  get labelingInfo() {\n    if (this._isOverridden(\"labelingInfo\")) return this._get(\"labelingInfo\");\n    const e = this.objectType.properties ? F(this.objectType.properties) : \"ESRI__ID\";\n    return \"link-chart\" === this.parentCompositeLayer.type ? _(this.graphType, this.graphTypeName, e) : R(this.graphTypeName, this.geometryType, e);\n  }\n  set renderer(e) {\n    oe(e, this.fieldsIndex), this._set(\"renderer\", e);\n  }\n  get renderer() {\n    if (this._isOverridden(\"renderer\")) return this._get(\"renderer\");\n    const e = this.parentCompositeLayer?.dataManager?.knowledgeGraph?.dataModel,\n      t = [...(e?.entityTypes ?? []), ...(e?.relationshipTypes ?? [])].map(e => e.name).indexOf(this.graphTypeName),\n      r = Q(t);\n    if (\"link-chart\" === this.parentCompositeLayer?.type) {\n      if (\"relationship\" === this.graphType) return new pe({\n        type: \"simple\",\n        symbol: C(r)\n      });\n      const e = le(I(g.toJSON(\"point\")).renderer);\n      return he(e.symbol, r), e;\n    }\n    const o = le(I(g.toJSON(this.geometryType)).renderer);\n    return he(o.symbol, r), o;\n  }\n  get spatialReference() {\n    return this.parentCompositeLayer?.dataManager?.knowledgeGraph?.dataModel?.spatialReference ?? c.WGS84;\n  }\n  set timeInfo(e) {\n    this._set(\"timeInfo\", e);\n  }\n  get title() {\n    return this._isOverridden(\"title\") ? this._get(\"title\") : this.graphTypeName;\n  }\n  set title(e) {\n    this._set(\"title\", e);\n  }\n  writeTitle(e, t) {\n    t.title = e ?? \"Layer\";\n  }\n  createPopupTemplate(e) {\n    return de(this, e);\n  }\n  createQuery() {\n    return new me({\n      where: \"1=1\",\n      outFields: [\"*\"]\n    });\n  }\n  getField(e) {\n    return this.fieldsIndex.get(e);\n  }\n  getFieldDomain(e, t) {\n    return null;\n  }\n  async queryFeatures(e, t) {\n    await this.load();\n    const {\n        resolvedQuery: r,\n        queryEngine: o\n      } = await this._setupQueryObjects(e),\n      i = ue.fromJSON(await o.executeQuery(r.toJSON(), t?.signal));\n    return i.features.forEach(e => {\n      e.sourceLayer = this;\n    }), i;\n  }\n  async queryFeaturesJSON(e, t) {\n    await this.load();\n    const {\n      resolvedQuery: r,\n      queryEngine: o\n    } = await this._setupQueryObjects(e);\n    return await o.executeQuery(r.toJSON(), t?.signal);\n  }\n  async queryFeatureCount(e, t) {\n    await this.load();\n    const {\n      resolvedQuery: r,\n      queryEngine: o\n    } = await this._setupQueryObjects(e);\n    return o.executeQueryForCount(r.toJSON(), t?.signal);\n  }\n  async queryExtent(e = {}, t) {\n    await this.load();\n    const r = {\n        ...e,\n        returnGeometry: !0\n      },\n      {\n        resolvedQuery: o,\n        queryEngine: i\n      } = await this._setupQueryObjects(r),\n      n = await i.executeQueryForExtent(o.toJSON(), t?.signal);\n    let s;\n    return s = null != n.extent?.xmin && null != n.extent?.xmax && null != n.extent?.ymin && null != n.extent?.ymax ? new l(n.extent) : new l(), {\n      count: n.count,\n      extent: s\n    };\n  }\n  async queryObjectIds(e, t) {\n    await this.load();\n    const r = me.from(e);\n    let o;\n    if (\"link-chart\" === this.parentCompositeLayer.type && this._cachedQueryEngine) o = this._cachedQueryEngine;else {\n      const e = await this.parentCompositeLayer.dataManager.getData(r, this, t);\n      o = this.loadQueryEngine(e);\n    }\n    return await o.executeQueryForIds(r.toJSON(), t?.signal);\n  }\n  loadQueryEngine(e) {\n    const t = new b({\n        geometryType: g.toJSON(this.geometryType),\n        hasM: this.hasM,\n        hasZ: this.hasZ\n      }),\n      r = new w({\n        fieldsIndex: this.fieldsIndex.toJSON(),\n        geometryType: g.toJSON(this.geometryType),\n        hasM: this.hasM,\n        hasZ: this.hasZ,\n        objectIdField: this.objectIdField,\n        spatialReference: this.spatialReference.toJSON(),\n        timeInfo: this.timeInfo?.toJSON(),\n        featureStore: t\n      });\n    return r.featureStore.addMany(e), r;\n  }\n  async refreshCachedQueryEngine() {\n    const e = await this.parentCompositeLayer.dataManager.getData(new me({\n      where: \"1=1\",\n      outFields: [S]\n    }), this);\n    this._cachedQueryEngine = this.loadQueryEngine(e);\n  }\n  load(e) {\n    return this.addResolvingPromise(this.parent.load(e).then(() => ie(this.timeInfo, this.fieldsIndex))), Promise.resolve(this);\n  }\n  async _setupQueryObjects(e, t) {\n    const r = me.from(e),\n      o = r.geometry;\n    if (o && !o.spatialReference?.isWGS84 && (await d(o.spatialReference, f), r.geometry = h(o instanceof u || o instanceof m || o instanceof y ? o : o.extent, f)), \"link-chart\" === this.parentCompositeLayer.type && this._cachedQueryEngine) return {\n      resolvedQuery: r,\n      queryEngine: this._cachedQueryEngine\n    };\n    const i = await this.parentCompositeLayer.dataManager.getData(r, this, t);\n    return {\n      resolvedQuery: r,\n      queryEngine: this.loadQueryEngine(i)\n    };\n  }\n};\ne([n(fe(r(k)))], Ie.prototype, \"blendMode\", void 0), e([n()], Ie.prototype, \"capabilities\", void 0), e([n({\n  json: {\n    origins: {\n      \"web-scene\": {\n        write: !1\n      }\n    },\n    write: be()\n  }\n})], Ie.prototype, \"charts\", void 0), e([n({\n  readOnly: !0\n})], Ie.prototype, \"defaultPopupTemplate\", null), e([n({\n  type: String,\n  json: {\n    origins: {\n      service: {\n        read: !1\n      }\n    },\n    name: \"layerDefinition.definitionExpression\",\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], Ie.prototype, \"definitionExpression\", void 0), e([n()], Ie.prototype, \"displayField\", void 0), e([n(fe(r(P)))], Ie.prototype, \"displayFilterEnabled\", void 0), e([n(fe(r(q)))], Ie.prototype, \"displayFilterInfo\", void 0), e([n(fe(r(J)))], Ie.prototype, \"effect\", void 0), e([n()], Ie.prototype, \"elevationInfo\", void 0), e([n(fe(r(U)))], Ie.prototype, \"featureEffect\", void 0), e([n(fe(r(te)))], Ie.prototype, \"featureReduction\", null), e([n()], Ie.prototype, \"fields\", null), e([n()], Ie.prototype, \"geometryType\", null), e([n()], Ie.prototype, \"geometryFieldName\", null), e([n({\n  type: [\"entity\", \"relationship\"],\n  nonNullable: !0,\n  json: {\n    write: {\n      isRequired: !0,\n      ignoreOrigin: !0\n    }\n  }\n})], Ie.prototype, \"graphType\", void 0), e([n({\n  type: String,\n  nonNullable: !0,\n  json: {\n    write: {\n      isRequired: !0,\n      ignoreOrigin: !0\n    }\n  }\n})], Ie.prototype, \"graphTypeName\", null), e([n()], Ie.prototype, \"hasM\", null), e([n()], Ie.prototype, \"hasZ\", null), e([n({\n  type: String,\n  json: {\n    origins: {\n      service: {\n        read: !1\n      },\n      \"portal-item\": {\n        read: !1\n      }\n    },\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], Ie.prototype, \"id\", void 0), e([n({\n  type: Boolean,\n  value: !0,\n  nonNullable: !0,\n  json: {\n    name: \"showLabels\",\n    default: !1,\n    write: {\n      overridePolicy() {\n        return {\n          enabled: !!this.geometryType,\n          alwaysWriteDefaults: !0,\n          ignoreOrigin: !0\n        };\n      }\n    }\n  }\n})], Ie.prototype, \"labelsVisible\", void 0), e([n({\n  type: [ne],\n  json: {\n    name: \"layerDefinition.drawingInfo.labelingInfo\",\n    read: ve,\n    write: be()\n  }\n})], Ie.prototype, \"labelingInfo\", null), e([n({\n  readOnly: !0,\n  json: {\n    read: !1,\n    write: {\n      writer(e, t) {\n        switch (this.parentCompositeLayer?.type) {\n          case \"link-chart\":\n            t.layerType = \"LinkChartSubLayer\";\n            break;\n          case \"knowledge-graph\":\n            t.layerType = this.geometryType ? \"KnowledgeGraphSubLayer\" : \"KnowledgeGraphSubTable\";\n        }\n      },\n      isRequired: !0,\n      ignoreOrigin: !0,\n      writerEnsuresNonNull: !0\n    }\n  }\n})], Ie.prototype, \"layerType\", void 0), e([n(fe(r(z)))], Ie.prototype, \"legendEnabled\", void 0), e([n(fe(r(H)))], Ie.prototype, \"maxScale\", void 0), e([n(fe(r(X)))], Ie.prototype, \"minScale\", void 0), e([n()], Ie.prototype, \"objectIdField\", void 0), e([n()], Ie.prototype, \"objectType\", void 0), e([n(fe(r($)))], Ie.prototype, \"opacity\", void 0), e([n(fe(r(B)))], Ie.prototype, \"orderBy\", void 0), e([n({\n  clonable: !1\n})], Ie.prototype, \"parent\", void 0), e([n()], Ie.prototype, \"parentCompositeLayer\", void 0), e([n(fe(r(ee)))], Ie.prototype, \"popupEnabled\", void 0), e([n({\n  type: t,\n  json: {\n    name: \"popupInfo\",\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], Ie.prototype, \"popupTemplate\", void 0), e([n({\n  type: Number,\n  json: {\n    write: {\n      overridePolicy: Te\n    }\n  }\n})], Ie.prototype, \"refreshInterval\", void 0), e([n({\n  types: ye,\n  json: {\n    name: \"layerDefinition.drawingInfo.renderer\",\n    write: be()\n  }\n})], Ie.prototype, \"renderer\", null), e([n()], Ie.prototype, \"source\", void 0), e([n()], Ie.prototype, \"spatialReference\", null), e([n({\n  type: ae,\n  json: {\n    name: \"layerDefinition.timeInfo\",\n    write: !0,\n    origins: {\n      \"web-document\": {\n        name: \"layerDefinition.timeInfo\",\n        read: !0,\n        write: !0\n      },\n      \"portal-item\": {\n        name: \"layerDefinition.timeInfo\",\n        read: !0,\n        write: !0\n      }\n    }\n  }\n})], Ie.prototype, \"timeInfo\", null), e([n({\n  type: String,\n  json: {\n    write: {\n      isRequired: !0,\n      ignoreOrigin: !0,\n      writerEnsuresNonNull: !0\n    }\n  }\n})], Ie.prototype, \"title\", null), e([a(\"title\")], Ie.prototype, \"writeTitle\", null), e([n({\n  json: {\n    read: !1\n  }\n})], Ie.prototype, \"type\", void 0), e([n(fe(r(Y)))], Ie.prototype, \"useViewTime\", void 0), e([n({\n  type: Boolean,\n  json: {\n    name: \"visibility\",\n    write: be()\n  }\n})], Ie.prototype, \"visible\", void 0), Ie = e([s(\"esri.layers.knowledgeGraph.KnowledgeGraphSublayer\")], Ie);\nconst Se = Ie;\nfunction ve(e, t, r) {\n  const i = [[\"ESRI__AGGREGATION_COUNT\", v], [\"ESRI__ORIGIN_ID\", x], [\"ESRI__DESTINATION_ID\", N], [\"ESRI__LAYOUT_GEOMETRY\", E]];\n  try {\n    for (const t of e) for (const [e, r] of i) t.labelExpression = t.labelExpression?.replaceAll(e, r), t.labelExpressionInfo?.expression && (t.labelExpressionInfo.expression = t.labelExpressionInfo.expression.replaceAll(e, r));\n  } catch (n) {\n    o.getLogger(this).warn(\"Error updating labelingInfo\", n);\n  }\n  return se(e, t, r);\n}\nexport { Se as default };","map":{"version":3,"names":["_","e","t","clone","r","o","MultiOriginJSONMixin","i","property","n","subclass","s","writer","a","OriginId","p","l","y","u","m","initializeProjection","d","project","h","c","wgs84","f","featureGeometryTypeKebabDictionary","g","j","b","QueryEngine","w","createCapabilities","T","createDrawingInfo","I","systemOidFieldName","S","systemAggregationCountFieldName","v","systemIsSpatialFieldName","O","systemLayoutGeometryFieldName","E","systemOriginIdFieldName","x","systemDestinationIdFieldName","N","KnowledgeGraphSublayerBase","L","getDisplayLabelProperty","F","getLinkChartDefaultLabelingInfo","getMapDefaultLabelingInfo","R","getKGSublayerSymbolColor","Q","getDefaultLCRelationshipSublayerSymbol","C","BlendLayer","M","blendModeProperty","k","effectProperty","J","DisplayFilteredLayer","D","displayFilterEnabledProperty","P","displayFilterInfoProperty","q","FeatureEffectLayer","G","featureEffectProperty","U","FeatureReductionLayer","A","OrderedLayer","Z","orderByProperty","B","RefreshableLayer","V","ScaleRangeLayer","K","TemporalLayer","W","useViewTimeProperty","Y","legendEnabled","z","maxScale","H","minScale","X","opacity","$","popupEnabled","ee","featureReductionProperty","te","re","fixRendererFields","oe","fixTimeInfoFields","ie","ne","reader","se","ae","pe","fromJSON","le","rendererTypes","ye","ue","me","createPopupTemplate","de","applyColorToSymbol","he","ce","fe","json","write","ge","origins","enabled","overridePolicy","je","be","target","we","call","geometryType","Te","ignoreOrigin","originIdOf","DEFAULTS","Ie","constructor","blendMode","capabilities","charts","definitionExpression","displayField","displayFilterEnabled","displayFilterInfo","effect","elevationInfo","featureEffect","graphType","labelsVisible","layerType","objectIdField","objectType","orderBy","parent","parentCompositeLayer","persistenceEnabled","popupTemplate","refreshInterval","source","openPorts","load","then","MessageChannel","port1","channel","client","queryFeatures","queryFeaturesJSON","port2","type","useViewTime","visible","defaultPopupTemplate","featureReduction","_normalizeFeatureReduction","_set","fields","properties","forEach","fieldType","push","name","alias","defaultValue","editable","nullable","dataManager","geographicLookup","get","geometryFieldName","graphTypeName","hasM","hasZ","labelingInfo","_isOverridden","_get","renderer","fieldsIndex","knowledgeGraph","dataModel","entityTypes","relationshipTypes","map","indexOf","symbol","toJSON","spatialReference","WGS84","timeInfo","title","writeTitle","createQuery","where","outFields","getField","getFieldDomain","resolvedQuery","queryEngine","_setupQueryObjects","executeQuery","signal","features","sourceLayer","queryFeatureCount","executeQueryForCount","queryExtent","returnGeometry","executeQueryForExtent","extent","xmin","xmax","ymin","ymax","count","queryObjectIds","from","_cachedQueryEngine","getData","loadQueryEngine","executeQueryForIds","featureStore","addMany","refreshCachedQueryEngine","addResolvingPromise","Promise","resolve","geometry","isWGS84","prototype","readOnly","String","service","read","nonNullable","isRequired","Boolean","value","default","alwaysWriteDefaults","ve","writerEnsuresNonNull","clonable","Number","types","Se","labelExpression","replaceAll","labelExpressionInfo","expression","getLogger","warn"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/knowledgeGraph/KnowledgeGraphSublayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../PopupTemplate.js\";import{clone as r}from\"../../core/lang.js\";import o from\"../../core/Logger.js\";import{MultiOriginJSONMixin as i}from\"../../core/MultiOriginJSONSupport.js\";import\"../../core/workers/workers.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import{OriginId as p}from\"../../core/accessorSupport/PropertyOrigin.js\";import l from\"../../geometry/Extent.js\";import y from\"../../geometry/Point.js\";import u from\"../../geometry/Polygon.js\";import m from\"../../geometry/Polyline.js\";import{initializeProjection as d,project as h}from\"../../geometry/projection.js\";import c from\"../../geometry/SpatialReference.js\";import{wgs84 as f}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as g}from\"../../geometry/support/typeUtils.js\";import j from\"../Layer.js\";import b from\"../graphics/data/FeatureStore.js\";import{QueryEngine as w}from\"../graphics/data/QueryEngine.js\";import{createCapabilities as T,createDrawingInfo as I}from\"../graphics/sources/support/clientSideDefaults.js\";import{systemOidFieldName as S,systemAggregationCountFieldName as v,systemIsSpatialFieldName as O,systemLayoutGeometryFieldName as E,systemOriginIdFieldName as x,systemDestinationIdFieldName as N}from\"./constants.js\";import{KnowledgeGraphSublayerBase as L}from\"./KnowledgeGraphSublayerBase.js\";import{getDisplayLabelProperty as F,getLinkChartDefaultLabelingInfo as _,getMapDefaultLabelingInfo as R,getKGSublayerSymbolColor as Q,getDefaultLCRelationshipSublayerSymbol as C}from\"./layerUtils.js\";import{BlendLayer as M,blendModeProperty as k,effectProperty as J}from\"../mixins/BlendLayer.js\";import{DisplayFilteredLayer as D,displayFilterEnabledProperty as P,displayFilterInfoProperty as q}from\"../mixins/DisplayFilteredLayer.js\";import{FeatureEffectLayer as G,featureEffectProperty as U}from\"../mixins/FeatureEffectLayer.js\";import{FeatureReductionLayer as A}from\"../mixins/FeatureReductionLayer.js\";import{OrderedLayer as Z,orderByProperty as B}from\"../mixins/OrderedLayer.js\";import{RefreshableLayer as V}from\"../mixins/RefreshableLayer.js\";import{ScaleRangeLayer as K}from\"../mixins/ScaleRangeLayer.js\";import{TemporalLayer as W,useViewTimeProperty as Y}from\"../mixins/TemporalLayer.js\";import{legendEnabled as z,maxScale as H,minScale as X,opacity as $,popupEnabled as ee}from\"../support/commonProperties.js\";import{featureReductionProperty as te}from\"../support/featureReductionUtils.js\";import re from\"../support/Field.js\";import{fixRendererFields as oe,fixTimeInfoFields as ie}from\"../support/fieldUtils.js\";import ne from\"../support/LabelClass.js\";import{reader as se}from\"../support/labelingInfo.js\";import ae from\"../support/TimeInfo.js\";import pe from\"../../renderers/SimpleRenderer.js\";import{fromJSON as le}from\"../../renderers/support/jsonUtils.js\";import{rendererTypes as ye}from\"../../renderers/support/typeUtils.js\";import ue from\"../../rest/support/FeatureSet.js\";import me from\"../../rest/support/Query.js\";import{createPopupTemplate as de}from\"../../support/popupUtils.js\";import{applyColorToSymbol as he}from\"../../symbols/support/utils.js\";import ce from\"../../core/workers/RemoteClient.js\";function fe(e){if(!e.json)return e;e.json.write=ge(e.json.write);const t=e.json.origins;if(!t)return e;let r;for(r in t){const e=t[r];e&&(e.write=ge(e.write))}return e}function ge(e){return\"object\"==typeof e&&e?(!1!==e.enabled&&(e.overridePolicy=je(e)),e):!0===e?be():e}function je(e){const{target:t,writer:r,overridePolicy:o,...i}=e;return function(e,t){const r=we.call(this,e,t);return r.enabled?{...i,...r}:r}}function be(){return{overridePolicy:we}}function we(e,t){const r=!!this.geometryType;let o={enabled:r};return r&&(o={...o,...Te.call(this,e,t)}),o}function Te(e,t){return{ignoreOrigin:this.originIdOf(t)>p.DEFAULTS}}let Ie=class extends(L(D(A(G(M(Z(W(K(V(i(j))))))))))){constructor(e){super(e),this.blendMode=\"normal\",this.capabilities=T(!1,!1),this.charts=null,this.definitionExpression=null,this.displayField=\"\",this.displayFilterEnabled=!0,this.displayFilterInfo=null,this.effect=null,this.elevationInfo=null,this.featureEffect=null,this.graphType=null,this.labelsVisible=!0,this.layerType=null,this.legendEnabled=!0,this.maxScale=0,this.minScale=0,this.objectIdField=S,this.objectType=null,this.opacity=1,this.orderBy=null,this.parent=null,this.parentCompositeLayer=null,this.persistenceEnabled=!0,this.popupEnabled=!0,this.popupTemplate=null,this.refreshInterval=0,this.source={openPorts:()=>this.load().then((()=>{const e=new MessageChannel;return new ce(e.port1,{channel:e,client:{queryFeatures:(e,t={})=>{const r=me.fromJSON(e);return this.queryFeaturesJSON(r,t)}}}),[e.port2]}))},this.type=\"knowledge-graph-sublayer\",this.useViewTime=!0,this.visible=!0}get defaultPopupTemplate(){return this.createPopupTemplate()}set featureReduction(e){const t=this._normalizeFeatureReduction(e);this._set(\"featureReduction\",t)}get fields(){const e=[];return this.objectType?.properties?.forEach((t=>{const r=\"esriFieldTypeOID\"===t.fieldType?\"esriFieldTypeInteger\":t.fieldType;e.push(re.fromJSON({name:t.name,type:r,alias:t.alias,defaultValue:t.defaultValue,editable:t.editable,nullable:t.nullable}))})),e.push(re.fromJSON({name:this.objectIdField,type:\"esriFieldTypeString\",alias:this.objectIdField,editable:!1}),re.fromJSON({name:v,type:\"esriFieldTypeInteger\",alias:v,editable:!1}),re.fromJSON({name:O,type:\"esriFieldTypeInteger\",alias:O,editable:!1})),e}get geometryType(){if(\"link-chart\"===this.parentCompositeLayer?.type)return\"relationship\"===this.graphType?\"polyline\":\"point\";const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.geometryType;return t&&\"esriGeometryNull\"!==t?g.fromJSON(t):null}get geometryFieldName(){if(\"link-chart\"===this.parentCompositeLayer?.type)return E;const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name);return e?.name??null}get graphTypeName(){return this.objectType?.name}get hasM(){const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.name,r=t?this.objectType?.properties?.[t]:null;return r?.hasM??!1}get hasZ(){const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.name,r=t?this.objectType?.properties?.[t]:null;return r?.hasZ??!1}set labelingInfo(e){this._set(\"labelingInfo\",e)}get labelingInfo(){if(this._isOverridden(\"labelingInfo\"))return this._get(\"labelingInfo\");const e=this.objectType.properties?F(this.objectType.properties):\"ESRI__ID\";return\"link-chart\"===this.parentCompositeLayer.type?_(this.graphType,this.graphTypeName,e):R(this.graphTypeName,this.geometryType,e)}set renderer(e){oe(e,this.fieldsIndex),this._set(\"renderer\",e)}get renderer(){if(this._isOverridden(\"renderer\"))return this._get(\"renderer\");const e=this.parentCompositeLayer?.dataManager?.knowledgeGraph?.dataModel,t=[...e?.entityTypes??[],...e?.relationshipTypes??[]].map((e=>e.name)).indexOf(this.graphTypeName),r=Q(t);if(\"link-chart\"===this.parentCompositeLayer?.type){if(\"relationship\"===this.graphType)return new pe({type:\"simple\",symbol:C(r)});const e=le(I(g.toJSON(\"point\")).renderer);return he(e.symbol,r),e}const o=le(I(g.toJSON(this.geometryType)).renderer);return he(o.symbol,r),o}get spatialReference(){return this.parentCompositeLayer?.dataManager?.knowledgeGraph?.dataModel?.spatialReference??c.WGS84}set timeInfo(e){this._set(\"timeInfo\",e)}get title(){return this._isOverridden(\"title\")?this._get(\"title\"):this.graphTypeName}set title(e){this._set(\"title\",e)}writeTitle(e,t){t.title=e??\"Layer\"}createPopupTemplate(e){return de(this,e)}createQuery(){return new me({where:\"1=1\",outFields:[\"*\"]})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){return null}async queryFeatures(e,t){await this.load();const{resolvedQuery:r,queryEngine:o}=await this._setupQueryObjects(e),i=ue.fromJSON(await o.executeQuery(r.toJSON(),t?.signal));return i.features.forEach((e=>{e.sourceLayer=this})),i}async queryFeaturesJSON(e,t){await this.load();const{resolvedQuery:r,queryEngine:o}=await this._setupQueryObjects(e);return await o.executeQuery(r.toJSON(),t?.signal)}async queryFeatureCount(e,t){await this.load();const{resolvedQuery:r,queryEngine:o}=await this._setupQueryObjects(e);return o.executeQueryForCount(r.toJSON(),t?.signal)}async queryExtent(e={},t){await this.load();const r={...e,returnGeometry:!0},{resolvedQuery:o,queryEngine:i}=await this._setupQueryObjects(r),n=await i.executeQueryForExtent(o.toJSON(),t?.signal);let s;return s=null!=n.extent?.xmin&&null!=n.extent?.xmax&&null!=n.extent?.ymin&&null!=n.extent?.ymax?new l(n.extent):new l,{count:n.count,extent:s}}async queryObjectIds(e,t){await this.load();const r=me.from(e);let o;if(\"link-chart\"===this.parentCompositeLayer.type&&this._cachedQueryEngine)o=this._cachedQueryEngine;else{const e=await this.parentCompositeLayer.dataManager.getData(r,this,t);o=this.loadQueryEngine(e)}return await o.executeQueryForIds(r.toJSON(),t?.signal)}loadQueryEngine(e){const t=new b({geometryType:g.toJSON(this.geometryType),hasM:this.hasM,hasZ:this.hasZ}),r=new w({fieldsIndex:this.fieldsIndex.toJSON(),geometryType:g.toJSON(this.geometryType),hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:this.spatialReference.toJSON(),timeInfo:this.timeInfo?.toJSON(),featureStore:t});return r.featureStore.addMany(e),r}async refreshCachedQueryEngine(){const e=await this.parentCompositeLayer.dataManager.getData(new me({where:\"1=1\",outFields:[S]}),this);this._cachedQueryEngine=this.loadQueryEngine(e)}load(e){return this.addResolvingPromise(this.parent.load(e).then((()=>ie(this.timeInfo,this.fieldsIndex)))),Promise.resolve(this)}async _setupQueryObjects(e,t){const r=me.from(e),o=r.geometry;if(o&&!o.spatialReference?.isWGS84&&(await d(o.spatialReference,f),r.geometry=h(o instanceof u||o instanceof m||o instanceof y?o:o.extent,f)),\"link-chart\"===this.parentCompositeLayer.type&&this._cachedQueryEngine)return{resolvedQuery:r,queryEngine:this._cachedQueryEngine};const i=await this.parentCompositeLayer.dataManager.getData(r,this,t);return{resolvedQuery:r,queryEngine:this.loadQueryEngine(i)}}};e([n(fe(r(k)))],Ie.prototype,\"blendMode\",void 0),e([n()],Ie.prototype,\"capabilities\",void 0),e([n({json:{origins:{\"web-scene\":{write:!1}},write:be()}})],Ie.prototype,\"charts\",void 0),e([n({readOnly:!0})],Ie.prototype,\"defaultPopupTemplate\",null),e([n({type:String,json:{origins:{service:{read:!1}},name:\"layerDefinition.definitionExpression\",write:{ignoreOrigin:!0}}})],Ie.prototype,\"definitionExpression\",void 0),e([n()],Ie.prototype,\"displayField\",void 0),e([n(fe(r(P)))],Ie.prototype,\"displayFilterEnabled\",void 0),e([n(fe(r(q)))],Ie.prototype,\"displayFilterInfo\",void 0),e([n(fe(r(J)))],Ie.prototype,\"effect\",void 0),e([n()],Ie.prototype,\"elevationInfo\",void 0),e([n(fe(r(U)))],Ie.prototype,\"featureEffect\",void 0),e([n(fe(r(te)))],Ie.prototype,\"featureReduction\",null),e([n()],Ie.prototype,\"fields\",null),e([n()],Ie.prototype,\"geometryType\",null),e([n()],Ie.prototype,\"geometryFieldName\",null),e([n({type:[\"entity\",\"relationship\"],nonNullable:!0,json:{write:{isRequired:!0,ignoreOrigin:!0}}})],Ie.prototype,\"graphType\",void 0),e([n({type:String,nonNullable:!0,json:{write:{isRequired:!0,ignoreOrigin:!0}}})],Ie.prototype,\"graphTypeName\",null),e([n()],Ie.prototype,\"hasM\",null),e([n()],Ie.prototype,\"hasZ\",null),e([n({type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}},write:{ignoreOrigin:!0}}})],Ie.prototype,\"id\",void 0),e([n({type:Boolean,value:!0,nonNullable:!0,json:{name:\"showLabels\",default:!1,write:{overridePolicy(){return{enabled:!!this.geometryType,alwaysWriteDefaults:!0,ignoreOrigin:!0}}}}})],Ie.prototype,\"labelsVisible\",void 0),e([n({type:[ne],json:{name:\"layerDefinition.drawingInfo.labelingInfo\",read:ve,write:be()}})],Ie.prototype,\"labelingInfo\",null),e([n({readOnly:!0,json:{read:!1,write:{writer(e,t){switch(this.parentCompositeLayer?.type){case\"link-chart\":t.layerType=\"LinkChartSubLayer\";break;case\"knowledge-graph\":t.layerType=this.geometryType?\"KnowledgeGraphSubLayer\":\"KnowledgeGraphSubTable\"}},isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],Ie.prototype,\"layerType\",void 0),e([n(fe(r(z)))],Ie.prototype,\"legendEnabled\",void 0),e([n(fe(r(H)))],Ie.prototype,\"maxScale\",void 0),e([n(fe(r(X)))],Ie.prototype,\"minScale\",void 0),e([n()],Ie.prototype,\"objectIdField\",void 0),e([n()],Ie.prototype,\"objectType\",void 0),e([n(fe(r($)))],Ie.prototype,\"opacity\",void 0),e([n(fe(r(B)))],Ie.prototype,\"orderBy\",void 0),e([n({clonable:!1})],Ie.prototype,\"parent\",void 0),e([n()],Ie.prototype,\"parentCompositeLayer\",void 0),e([n(fe(r(ee)))],Ie.prototype,\"popupEnabled\",void 0),e([n({type:t,json:{name:\"popupInfo\",write:{ignoreOrigin:!0}}})],Ie.prototype,\"popupTemplate\",void 0),e([n({type:Number,json:{write:{overridePolicy:Te}}})],Ie.prototype,\"refreshInterval\",void 0),e([n({types:ye,json:{name:\"layerDefinition.drawingInfo.renderer\",write:be()}})],Ie.prototype,\"renderer\",null),e([n()],Ie.prototype,\"source\",void 0),e([n()],Ie.prototype,\"spatialReference\",null),e([n({type:ae,json:{name:\"layerDefinition.timeInfo\",write:!0,origins:{\"web-document\":{name:\"layerDefinition.timeInfo\",read:!0,write:!0},\"portal-item\":{name:\"layerDefinition.timeInfo\",read:!0,write:!0}}}})],Ie.prototype,\"timeInfo\",null),e([n({type:String,json:{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],Ie.prototype,\"title\",null),e([a(\"title\")],Ie.prototype,\"writeTitle\",null),e([n({json:{read:!1}})],Ie.prototype,\"type\",void 0),e([n(fe(r(Y)))],Ie.prototype,\"useViewTime\",void 0),e([n({type:Boolean,json:{name:\"visibility\",write:be()}})],Ie.prototype,\"visible\",void 0),Ie=e([s(\"esri.layers.knowledgeGraph.KnowledgeGraphSublayer\")],Ie);const Se=Ie;function ve(e,t,r){const i=[[\"ESRI__AGGREGATION_COUNT\",v],[\"ESRI__ORIGIN_ID\",x],[\"ESRI__DESTINATION_ID\",N],[\"ESRI__LAYOUT_GEOMETRY\",E]];try{for(const t of e)for(const[e,r]of i)t.labelExpression=t.labelExpression?.replaceAll(e,r),t.labelExpressionInfo?.expression&&(t.labelExpressionInfo.expression=t.labelExpressionInfo.expression.replaceAll(e,r))}catch(n){o.getLogger(this).warn(\"Error updating labelingInfo\",n)}return se(e,t,r)}export{Se as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}