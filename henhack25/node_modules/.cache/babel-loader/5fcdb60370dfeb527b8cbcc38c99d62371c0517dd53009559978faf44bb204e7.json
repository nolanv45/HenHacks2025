{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"./chunks/tslib.es6.js\";\nimport s from \"./core/Accessor.js\";\nimport i from \"./core/Collection.js\";\nimport { whenOnce as o } from \"./core/reactiveUtils.js\";\nimport { property as a } from \"./core/accessorSupport/decorators/property.js\";\nimport \"./core/has.js\";\nimport \"./core/Logger.js\";\nimport \"./core/RandomLCG.js\";\nimport { subclass as e } from \"./core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as n } from \"./core/support/UpdatingHandles.js\";\nimport { OperationStatus as r } from \"./undoredo/OperationStatus.js\";\nimport { UndoRedoExecutionMethod as c } from \"./undoredo/UndoableOperation.js\";\nimport { UndoInvalidError as d, UndoRedoUpdatingError as h, RedoInvalidError as p } from \"./undoredo/UndoRedoError.js\";\nlet u = class extends s {\n  constructor() {\n    super(...arguments), this._stack = new i(), this._stackPosition = -1, this._updatingHandles = new n();\n  }\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get canUndo() {\n    return this.hasUndo && !this.updating;\n  }\n  get hasUndo() {\n    return this._stackPosition >= 0;\n  }\n  get canRedo() {\n    return this.hasRedo && !this.updating;\n  }\n  get hasRedo() {\n    return this._stackPosition < this._stack.length - 1;\n  }\n  _truncateForwardStack() {\n    this._stack.splice(this._stackPosition + 1, this._stack.length - this._stackPosition).forEach(t => t.destroy());\n  }\n  _drainStack() {\n    this._stack.drain(t => t.destroy()), this._stackPosition = -1;\n  }\n  async undo() {\n    if (!this.hasUndo) throw new d();\n    if (this.updating) throw new h();\n    const t = this._stack.getItemAt(this._stackPosition);\n    t && (await this._updatingHandles.addPromise((async () => {\n      await t.executeUndoRedoOperation(c.Undo), --this._stackPosition, t.canRedo || this._truncateForwardStack();\n    })()));\n  }\n  async redo() {\n    if (!this.hasRedo) throw new p();\n    if (this.updating) throw new h();\n    const t = this._stack.getItemAt(this._stackPosition + 1);\n    if (!t) throw new p();\n    await this._updatingHandles.addPromise((async () => {\n      await t.executeUndoRedoOperation(c.Redo), ++this._stackPosition;\n    })());\n  }\n  peekUndo() {\n    if (this.canUndo) return this._stack.getItemAt(this._stackPosition);\n  }\n  peekRedo() {\n    if (this.canRedo) return this._stack.getItemAt(this._stackPosition + 1);\n  }\n  async inject(t) {\n    if (this.updating) throw new h();\n    await this._updatingHandles.addPromise((async () => {\n      t.status === r.NeverApplied && (await t.executeUndoRedoOperation(c.Apply)), t.canUndo ? (this._stack.splice(this._stackPosition + 1, 0, t), this._stackPosition++) : this._stackPosition > -1 && (this._stack.splice(0, this._stackPosition + 1).forEach(t => t.destroy()), this._stackPosition = -1);\n    })());\n  }\n  async add(t) {\n    if (this.updating) throw new h();\n    await this._updatingHandles.addPromise((async () => {\n      t.status === r.NeverApplied && (await t.executeUndoRedoOperation(c.Apply)), this._stackPosition >= -1 && this._truncateForwardStack(), t.canUndo ? (this._stack.push(t), this._stackPosition = this._stack.length - 1) : this._drainStack();\n    })());\n  }\n  async removeTagged(t) {\n    let s = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    if (this.updating && !s) return;\n    await o(() => !this.updating);\n    const a = new i();\n    for (let i = 0; i < this._stack.length; i++) {\n      const s = this._stack.getItemAt(i);\n      s && (s.tag === t ? (s.destroy(), i === this._stackPosition && (this._stackPosition = a.length - 1)) : a.push(s));\n    }\n    this._stack = a, this._stackPosition > a.length - 1 && (this._stackPosition = a.length - 1);\n  }\n  async clear() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n    if (this.updating && !t) throw new h();\n    await o(() => !this.updating), this._drainStack();\n  }\n};\nt([a()], u.prototype, \"_stack\", void 0), t([a()], u.prototype, \"_stackPosition\", void 0), t([a()], u.prototype, \"updating\", null), t([a({\n  readOnly: !0\n})], u.prototype, \"canUndo\", null), t([a({\n  readOnly: !0\n})], u.prototype, \"hasUndo\", null), t([a({\n  readOnly: !0\n})], u.prototype, \"canRedo\", null), t([a({\n  readOnly: !0\n})], u.prototype, \"hasRedo\", null), u = t([e(\"esri.UndoRedo\")], u);\nexport { u as UndoRedo };","map":{"version":3,"names":["_","t","s","i","whenOnce","o","property","a","subclass","e","UpdatingHandles","n","OperationStatus","r","UndoRedoExecutionMethod","c","UndoInvalidError","d","UndoRedoUpdatingError","h","RedoInvalidError","p","u","constructor","arguments","_stack","_stackPosition","_updatingHandles","updating","canUndo","hasUndo","canRedo","hasRedo","length","_truncateForwardStack","splice","forEach","destroy","_drainStack","drain","undo","getItemAt","addPromise","executeUndoRedoOperation","Undo","redo","Redo","peekUndo","peekRedo","inject","status","NeverApplied","Apply","add","push","removeTagged","undefined","tag","clear","prototype","readOnly","UndoRedo"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/UndoRedo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"./chunks/tslib.es6.js\";import s from\"./core/Accessor.js\";import i from\"./core/Collection.js\";import{whenOnce as o}from\"./core/reactiveUtils.js\";import{property as a}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/RandomLCG.js\";import{subclass as e}from\"./core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as n}from\"./core/support/UpdatingHandles.js\";import{OperationStatus as r}from\"./undoredo/OperationStatus.js\";import{UndoRedoExecutionMethod as c}from\"./undoredo/UndoableOperation.js\";import{UndoInvalidError as d,UndoRedoUpdatingError as h,RedoInvalidError as p}from\"./undoredo/UndoRedoError.js\";let u=class extends s{constructor(){super(...arguments),this._stack=new i,this._stackPosition=-1,this._updatingHandles=new n}get updating(){return this._updatingHandles.updating}get canUndo(){return this.hasUndo&&!this.updating}get hasUndo(){return this._stackPosition>=0}get canRedo(){return this.hasRedo&&!this.updating}get hasRedo(){return this._stackPosition<this._stack.length-1}_truncateForwardStack(){this._stack.splice(this._stackPosition+1,this._stack.length-this._stackPosition).forEach((t=>t.destroy()))}_drainStack(){this._stack.drain((t=>t.destroy())),this._stackPosition=-1}async undo(){if(!this.hasUndo)throw new d;if(this.updating)throw new h;const t=this._stack.getItemAt(this._stackPosition);t&&await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(c.Undo),--this._stackPosition,t.canRedo||this._truncateForwardStack()})())}async redo(){if(!this.hasRedo)throw new p;if(this.updating)throw new h;const t=this._stack.getItemAt(this._stackPosition+1);if(!t)throw new p;await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(c.Redo),++this._stackPosition})())}peekUndo(){if(this.canUndo)return this._stack.getItemAt(this._stackPosition)}peekRedo(){if(this.canRedo)return this._stack.getItemAt(this._stackPosition+1)}async inject(t){if(this.updating)throw new h;await this._updatingHandles.addPromise((async()=>{t.status===r.NeverApplied&&await t.executeUndoRedoOperation(c.Apply),t.canUndo?(this._stack.splice(this._stackPosition+1,0,t),this._stackPosition++):this._stackPosition>-1&&(this._stack.splice(0,this._stackPosition+1).forEach((t=>t.destroy())),this._stackPosition=-1)})())}async add(t){if(this.updating)throw new h;await this._updatingHandles.addPromise((async()=>{t.status===r.NeverApplied&&await t.executeUndoRedoOperation(c.Apply),this._stackPosition>=-1&&this._truncateForwardStack(),t.canUndo?(this._stack.push(t),this._stackPosition=this._stack.length-1):this._drainStack()})())}async removeTagged(t,s=!1){if(this.updating&&!s)return;await o((()=>!this.updating));const a=new i;for(let i=0;i<this._stack.length;i++){const s=this._stack.getItemAt(i);s&&(s.tag===t?(s.destroy(),i===this._stackPosition&&(this._stackPosition=a.length-1)):a.push(s))}this._stack=a,this._stackPosition>a.length-1&&(this._stackPosition=a.length-1)}async clear(t=!1){if(this.updating&&!t)throw new h;await o((()=>!this.updating)),this._drainStack()}};t([a()],u.prototype,\"_stack\",void 0),t([a()],u.prototype,\"_stackPosition\",void 0),t([a()],u.prototype,\"updating\",null),t([a({readOnly:!0})],u.prototype,\"canUndo\",null),t([a({readOnly:!0})],u.prototype,\"hasUndo\",null),t([a({readOnly:!0})],u.prototype,\"canRedo\",null),t([a({readOnly:!0})],u.prototype,\"hasRedo\",null),u=t([e(\"esri.UndoRedo\")],u);export{u as UndoRedo};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}