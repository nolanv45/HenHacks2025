{"ast":null,"code":"/*!\n * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)\n * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.\n * Apache-2.0\n * \n * js-xss\n * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>\n * http://ucdok.com\n * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar lib$1 = {\n  exports: {}\n};\nvar _default$1 = {};\nvar lib = {\n  exports: {}\n};\nvar _default = {};\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList$1() {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr(name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr(name, value, options) {\n  // do nothing\n}\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue$1(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n_default.whiteList = getDefaultWhiteList$1();\n_default.getDefaultWhiteList = getDefaultWhiteList$1;\n_default.onAttr = onAttr;\n_default.onIgnoreAttr = onIgnoreAttr;\n_default.safeAttrValue = safeAttrValue$1;\nvar util$1 = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _$3 = util$1;\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle$1(css, onAttr) {\n  css = _$3.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n  function addNewAttr() {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _$3.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _$3.trim(source.slice(0, j));\n        var value = _$3.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) ;else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n  return _$3.trim(retCSS);\n}\nvar parser$2 = parseStyle$1;\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT$1 = _default;\nvar parseStyle = parser$2;\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull$1(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject$1(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS$2(options) {\n  options = shallowCopyObject$1(options || {});\n  options.whiteList = options.whiteList || DEFAULT$1.whiteList;\n  options.onAttr = options.onAttr || DEFAULT$1.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT$1.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT$1.safeAttrValue;\n  this.options = options;\n}\nFilterCSS$2.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;else if (typeof check === 'function') isWhite = check(value);else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n    if (isWhite) {\n      var ret = onAttr(name, value, opts);\n      if (isNull$1(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n    } else {\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull$1(ret)) {\n        return ret;\n      }\n    }\n  });\n  return retCSS;\n};\nvar css = FilterCSS$2;\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\n(function (module, exports) {\n  var DEFAULT = _default;\n  var FilterCSS = css;\n\n  /**\n   * XSS过滤\n   *\n   * @param {String} css 要过滤的CSS代码\n   * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n   * @return {String}\n   */\n  function filterCSS(html, options) {\n    var xss = new FilterCSS(options);\n    return xss.process(html);\n  }\n\n  // 输出\n  exports = module.exports = filterCSS;\n  exports.FilterCSS = FilterCSS;\n  for (var i in DEFAULT) exports[i] = DEFAULT[i];\n})(lib, lib.exports);\nvar libExports$1 = lib.exports;\nvar util = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function (str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  }\n};\n\n/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS$1 = libExports$1.FilterCSS;\nvar getDefaultCSSWhiteList = libExports$1.getDefaultWhiteList;\nvar _$2 = util;\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\"autoplay\", \"controls\", \"crossorigin\", \"loop\", \"muted\", \"preload\", \"src\"],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\"autoplay\", \"controls\", \"crossorigin\", \"loop\", \"muted\", \"playsinline\", \"poster\", \"preload\", \"src\", \"height\", \"width\"]\n  };\n}\nvar defaultCSSFilter = new FilterCSS$1();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _$2.trim(value);\n    if (value === \"#\") return \"#\";\n    if (!(value.substr(0, 7) === \"http://\" || value.substr(0, 8) === \"https://\" || value.substr(0, 7) === \"mailto:\" || value.substr(0, 4) === \"tel:\" || value.substr(0, 11) === \"data:image/\" || value.substr(0, 6) === \"ftp://\" || value.substr(0, 2) === \"./\" || value.substr(0, 3) === \"../\" || value[0] === \"#\" || value[0] === \"/\")) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 = /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 = /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\" ? String.fromCharCode(parseInt(code.substr(1), 16)) : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_COLON, \":\").replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _$2.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _$2.indexOf(tags, tag) !== -1;\n  }\n  var removeList = [];\n  var posStart = false;\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([posStart !== false ? posStart : options.position, end]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _$2.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    }\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n_default$1.whiteList = getDefaultWhiteList();\n_default$1.getDefaultWhiteList = getDefaultWhiteList;\n_default$1.onTag = onTag;\n_default$1.onIgnoreTag = onIgnoreTag;\n_default$1.onTagAttr = onTagAttr;\n_default$1.onIgnoreTagAttr = onIgnoreTagAttr;\n_default$1.safeAttrValue = safeAttrValue;\n_default$1.escapeHtml = escapeHtml;\n_default$1.escapeQuote = escapeQuote;\n_default$1.unescapeQuote = unescapeQuote;\n_default$1.escapeHtmlEntities = escapeHtmlEntities;\n_default$1.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\n_default$1.clearNonPrintableCharacter = clearNonPrintableCharacter;\n_default$1.friendlyAttrValue = friendlyAttrValue;\n_default$1.escapeAttrValue = escapeAttrValue;\n_default$1.onIgnoreTagStripAll = onIgnoreTagStripAll;\n_default$1.StripTagBody = StripTagBody;\n_default$1.stripCommentTag = stripCommentTag;\n_default$1.stripBlankChar = stripBlankChar;\n_default$1.cssFilter = defaultCSSFilter;\n_default$1.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\nvar parser$1 = {};\n\n/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _$1 = util;\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _$1.spaceIndex(html);\n  var tagName;\n  if (i === -1) {\n    tagName = html.slice(1, -1);\n  } else {\n    tagName = html.slice(1, i + 1);\n  }\n  tagName = _$1.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag$1(html, onTag, escapeHtml) {\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\") {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(tagStart, rethtml.length, currentTagName, currentHtml, isClosing(currentHtml));\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if (c === '\"' || c === \"'\") {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n          while (ic.trim() === \"\" || ic === \"=\") {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n  return rethtml;\n}\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9\\\\_:.-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr$1(html, onAttr) {\n  var lastPos = 0;\n  var lastMarkPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n  function addAttr(name, value) {\n    name = _$1.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      lastMarkPos = html.charAt(lastPos) === '\"' || html.charAt(lastPos) === \"'\" ? lastPos : findNextQuotationMark(html, i + 1);\n      continue;\n    }\n    if (tmpName !== false) {\n      if (i === lastMarkPos) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _$1.trim(html.slice(lastMarkPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_$1.trim(html.slice(lastPos))));\n    }\n  }\n  return _$1.trim(retAttrs.join(\" \"));\n}\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\nfunction findNextQuotationMark(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"'\" || c === '\"') return i;\n    return -1;\n  }\n}\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\nfunction isQuoteWrapString(text) {\n  if (text[0] === '\"' && text[text.length - 1] === '\"' || text[0] === \"'\" && text[text.length - 1] === \"'\") {\n    return true;\n  } else {\n    return false;\n  }\n}\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\nparser$1.parseTag = parseTag$1;\nparser$1.parseAttr = parseAttr$1;\n\n/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = libExports$1.FilterCSS;\nvar DEFAULT = _default$1;\nvar parser = parser$1;\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = util;\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\"\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error('Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time');\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(options.stripIgnoreTagBody, onIgnoreTag);\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n  var retHtml = parseTag(html, function (sourcePosition, position, tag, html, isClosing) {\n    var info = {\n      sourcePosition: sourcePosition,\n      position: position,\n      isClosing: isClosing,\n      isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag)\n    };\n\n    // call `onTag()`\n    var ret = onTag(tag, html, info);\n    if (!isNull(ret)) return ret;\n    if (info.isWhite) {\n      if (info.isClosing) {\n        return \"</\" + tag + \">\";\n      }\n      var attrs = getAttrs(html);\n      var whiteAttrList = whiteList[tag];\n      var attrsHtml = parseAttr(attrs.html, function (name, value) {\n        // call `onTagAttr()`\n        var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n        var ret = onTagAttr(tag, name, value, isWhiteAttr);\n        if (!isNull(ret)) return ret;\n        if (isWhiteAttr) {\n          // call `safeAttrValue()`\n          value = safeAttrValue(tag, name, value, cssFilter);\n          if (value) {\n            return name + '=\"' + value + '\"';\n          } else {\n            return name;\n          }\n        } else {\n          // call `onIgnoreTagAttr()`\n          ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n          return;\n        }\n      });\n\n      // build new tag html\n      html = \"<\" + tag;\n      if (attrsHtml) html += \" \" + attrsHtml;\n      if (attrs.closing) html += \" /\";\n      html += \">\";\n      return html;\n    } else {\n      // call `onIgnoreTag()`\n      ret = onIgnoreTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n      return escapeHtml(html);\n    }\n  }, escapeHtml);\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n  return retHtml;\n};\nvar xss = FilterXSS;\n\n/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\n(function (module, exports) {\n  var DEFAULT = _default$1;\n  var parser = parser$1;\n  var FilterXSS = xss;\n\n  /**\n   * filter xss function\n   *\n   * @param {String} html\n   * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n   * @return {String}\n   */\n  function filterXSS(html, options) {\n    var xss = new FilterXSS(options);\n    return xss.process(html);\n  }\n  exports = module.exports = filterXSS;\n  exports.filterXSS = filterXSS;\n  exports.FilterXSS = FilterXSS;\n  (function () {\n    for (var i in DEFAULT) {\n      exports[i] = DEFAULT[i];\n    }\n    for (var j in parser) {\n      exports[j] = parser[j];\n    }\n  })();\n\n  // using `xss` on the WebWorker, output `filterXSS` to the globals\n  function isWorkerEnv() {\n    return typeof self !== \"undefined\" && typeof DedicatedWorkerGlobalScope !== \"undefined\" && self instanceof DedicatedWorkerGlobalScope;\n  }\n  if (isWorkerEnv()) {\n    self.filterXSS = module.exports;\n  }\n})(lib$1, lib$1.exports);\nvar libExports = lib$1.exports;\n\n/**\n * Determine if the value is a plain object.\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n */\nvar isPlainObject = function (value) {\n  if (typeof value !== \"object\" || value === null) {\n    return false;\n  }\n  if (Object.prototype.toString.call(value) !== \"[object Object]\") {\n    return false;\n  }\n  var proto = Object.getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/**\n * The Sanitizer Class\n *\n * @export\n * @class Sanitizer\n */\nvar Sanitizer = /** @class */function () {\n  function Sanitizer(filterOptions, extendDefaults) {\n    var _this = this;\n    // Supported HTML Spec: https://doc.arcgis.com/en/arcgis-online/reference/supported-html.htm\n    this.arcgisWhiteList = {\n      a: [\"href\", \"style\", \"target\"],\n      abbr: [\"title\"],\n      article: [\"style\"],\n      aside: [\"style\"],\n      audio: [\"autoplay\", \"controls\", \"loop\", \"muted\", \"preload\"],\n      b: [],\n      blockquote: [\"style\"],\n      br: [],\n      code: [\"style\"],\n      dd: [\"style\"],\n      del: [\"style\"],\n      details: [\"open\", \"style\"],\n      div: [\"align\", \"aria-hidden\", \"aria-label\", \"style\"],\n      dl: [\"style\"],\n      dt: [\"style\"],\n      em: [],\n      figcaption: [\"style\"],\n      figure: [\"style\"],\n      font: [\"color\", \"face\", \"size\", \"style\"],\n      footer: [\"style\"],\n      h1: [\"style\"],\n      h2: [\"style\"],\n      h3: [\"style\"],\n      h4: [\"style\"],\n      h5: [\"style\"],\n      h6: [\"style\"],\n      header: [\"style\"],\n      hr: [],\n      i: [],\n      img: [\"alt\", \"border\", \"height\", \"src\", \"style\", \"width\"],\n      li: [],\n      main: [\"style\"],\n      mark: [\"style\"],\n      nav: [\"style\"],\n      ol: [],\n      p: [\"style\"],\n      pre: [\"style\"],\n      section: [\"style\"],\n      source: [\"media\", \"src\", \"type\"],\n      span: [\"aria-hidden\", \"aria-label\", \"style\"],\n      strong: [],\n      sub: [\"style\"],\n      summary: [\"style\"],\n      sup: [\"style\"],\n      table: [\"border\", \"cellpadding\", \"cellspacing\", \"height\", \"style\", \"width\"],\n      tbody: [],\n      tr: [\"align\", \"height\", \"style\", \"valign\"],\n      td: [\"align\", \"colspan\", \"height\", \"nowrap\", \"rowspan\", \"style\", \"valign\", \"width\"],\n      th: [\"align\", \"colspan\", \"height\", \"nowrap\", \"rowspan\", \"style\", \"valign\", \"width\"],\n      time: [\"style\"],\n      u: [],\n      ul: [],\n      video: [\"autoplay\", \"controls\", \"height\", \"loop\", \"muted\", \"poster\", \"preload\", \"width\"]\n    };\n    this.arcgisCSSWhiteList = __assign(__assign({}, libExports.getDefaultCSSWhiteList()), {\n      \"align-items\": true,\n      \"align-self\": true,\n      \"flex\": true,\n      \"flex-basis\": true,\n      \"flex-direction\": true,\n      \"flex-flow\": true,\n      \"flex-grow\": true,\n      \"flex-shrink\": true,\n      \"flex-wrap\": true,\n      \"float\": true,\n      \"gap\": true,\n      \"grid\": true,\n      \"grid-area\": true,\n      \"grid-auto-columns\": true,\n      \"grid-auto-flow\": true,\n      \"grid-auto-rows\": true,\n      \"grid-column\": true,\n      \"grid-column-end\": true,\n      \"grid-column-start\": true,\n      \"grid-row\": true,\n      \"grid-row-end\": true,\n      \"grid-row-start\": true,\n      \"grid-template\": true,\n      \"grid-template-areas\": true,\n      \"grid-template-columns\": true,\n      \"grid-template-rows\": true,\n      \"justify-content\": true,\n      \"justify-items\": true,\n      \"justify-self\": true,\n      \"line-height\": true,\n      \"overflow\": true\n    });\n    this.allowedProtocols = [\"http\", \"https\", \"mailto\", \"iform\", \"tel\", \"flow\", \"lfmobile\", \"arcgis-navigator\", \"arcgis-appstudio-player\", \"arcgis-survey123\", \"arcgis-collector\", \"arcgis-workforce\", \"arcgis-explorer\", \"arcgis-trek2there\", \"arcgis-quickcapture\", \"mspbi\", \"comgooglemaps\", \"pdfefile\", \"pdfehttp\", \"pdfehttps\", \"boxapp\", \"boxemm\", \"awb\", \"awbs\", \"gropen\", \"radarscope\"];\n    this.arcgisFilterOptions = {\n      allowCommentTag: true,\n      safeAttrValue: function (tag, name, value, cssFilter) {\n        // Take over safe attribute filtering for `a` `href`, `img` `src`,\n        // and `source` `src` attributes, otherwise pass onto the\n        // default `XSS.safeAttrValue` method.\n        if (tag === \"a\" && name === \"href\" || (tag === \"img\" || tag === \"source\") && name === \"src\") {\n          return _this.sanitizeUrl(value);\n        }\n        return libExports.safeAttrValue(tag, name, value, cssFilter);\n      }\n    };\n    this._entityMap = {\n      \"&\": \"&#x38;\",\n      \"<\": \"&#x3C;\",\n      \">\": \"&#x3E;\",\n      '\"': \"&#x22;\",\n      \"'\": \"&#x27;\",\n      \"/\": \"&#x2F;\"\n    };\n    var xssFilterOptions;\n    if (filterOptions && !extendDefaults) {\n      // Override the defaults\n      xssFilterOptions = filterOptions;\n    } else if (filterOptions && extendDefaults) {\n      // Extend the defaults\n      xssFilterOptions = Object.create(this.arcgisFilterOptions);\n      xssFilterOptions.css = {\n        whiteList: this.arcgisCSSWhiteList\n      };\n      Object.keys(filterOptions).forEach(function (key) {\n        if (key === \"whiteList\") {\n          // Extend the whitelist by concatenating arrays\n          xssFilterOptions.whiteList = _this._extendObjectOfArrays([_this.arcgisWhiteList, filterOptions.whiteList || {}]);\n        } else if (key === \"css\") {\n          var cssExtensions_1 = filterOptions.css.whiteList;\n          if (cssExtensions_1 != null && filterOptions.css instanceof Object) {\n            Object.keys(cssExtensions_1).forEach(function (attr) {\n              return xssFilterOptions.css.whiteList[attr] = cssExtensions_1[attr];\n            });\n          }\n        } else {\n          xssFilterOptions[key] = filterOptions[key];\n        }\n      });\n    } else {\n      // Only use the defaults\n      xssFilterOptions = Object.create(this.arcgisFilterOptions);\n      xssFilterOptions.whiteList = this.arcgisWhiteList;\n      xssFilterOptions.css = {\n        whiteList: this.arcgisCSSWhiteList\n      };\n    }\n    this.xssFilterOptions = xssFilterOptions;\n    // Make this readable to tests\n    this._xssFilter = new libExports.FilterXSS(xssFilterOptions);\n  }\n  /**\n   * Sanitizes value to remove invalid HTML tags.\n   *\n   * Note: If the value passed does not contain a valid JSON data type (String,\n   * Number, JSON Object, Array, Boolean, or null), the value will be nullified.\n   *\n   * @param {any} value The value to sanitize.\n   * @returns {any} The sanitized value.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.sanitize = function (value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    switch (typeof value) {\n      case \"number\":\n        if (isNaN(value) || !isFinite(value)) {\n          return null;\n        }\n        return value;\n      case \"boolean\":\n        return value;\n      case \"string\":\n        return this._xssFilter.process(value);\n      case \"object\":\n        return this._iterateOverObject(value, options);\n      default:\n        if (options.allowUndefined && typeof value === \"undefined\") {\n          return;\n        }\n        return null;\n    }\n  };\n  /**\n   * Sanitizes a URL string following the allowed protocols and sanitization rules.\n   *\n   * @param {string} value The URL to sanitize.\n   * @param {{ isProtocolRequired: boolean }} options Configuration options for URL checking.\n   * @returns {string} The sanitized URL if it's valid, or an empty string if the URL is invalid.\n   */\n  Sanitizer.prototype.sanitizeUrl = function (value, options) {\n    var _a = (options !== null && options !== void 0 ? options : {}).isProtocolRequired,\n      isProtocolRequired = _a === void 0 ? true : _a;\n    var protocol = this._trim(value.substring(0, value.indexOf(\":\")));\n    var isRootUrl = value === \"/\";\n    var isUrlFragment = /^#/.test(value);\n    var isValidProtocol = protocol && this.allowedProtocols.indexOf(protocol.toLowerCase()) > -1;\n    if (isRootUrl || isUrlFragment || isValidProtocol) {\n      return libExports.escapeAttrValue(value);\n    }\n    if (!protocol && !isProtocolRequired) {\n      return libExports.escapeAttrValue(\"https://\".concat(value));\n    }\n    return \"\";\n  };\n  /**\n   * Sanitizes an HTML attribute value.\n   *\n   * @param {string} tag The tagname of the HTML element.\n   * @param {string} attribute The attribute name of the HTML element.\n   * @param {string} value The raw value to be used for the HTML attribute value.\n   * @param {XSS.ICSSFilter} [cssFilter] The CSS filter to be used.\n   * @returns {string} The sanitized attribute value.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.sanitizeHTMLAttribute = function (tag, attribute, value, cssFilter) {\n    // use the custom safeAttrValue function if provided\n    if (typeof this.xssFilterOptions.safeAttrValue === \"function\") {\n      return this.xssFilterOptions.safeAttrValue(tag, attribute, value,\n      // @ts-expect-error safeAttrValue does handle undefined cssFilter\n      cssFilter);\n    }\n    // otherwise use the default\n    // @ts-ignore safeAttrValue does handle undefined cssFilter\n    return libExports.safeAttrValue(tag, attribute, value, cssFilter);\n  };\n  /**\n   * Checks if a value only contains valid HTML.\n   *\n   * @param {any} value The value to validate.\n   * @returns {boolean}\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.validate = function (value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var sanitized = this.sanitize(value, options);\n    return {\n      isValid: value === sanitized,\n      sanitized: sanitized\n    };\n  };\n  /**\n   * Encodes the following characters, `& < > \\\" ' /` to their hexadecimal HTML entity code.\n   * Example: \"&middot;\" => \"&#x38;middot;\"\n   *\n   * @param {string} value The value to encode.\n   * @returns {string} The encoded string value.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.encodeHTML = function (value) {\n    var _this = this;\n    return String(value).replace(/[&<>\"'\\/]/g, function (s) {\n      return _this._entityMap[s];\n    });\n  };\n  /**\n   * Encodes all non-alphanumeric ASCII characters to their hexadecimal HTML entity codes.\n   * Example: \"alert(document.cookie)\" => \"alert&#x28;document&#x2e;cookie&#x29;\"\n   *\n   * @param {string} value The value to encode.\n   * @returns {string} The encoded string value.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype.encodeAttrValue = function (value) {\n    var alphanumericRE = /^[a-zA-Z0-9]$/;\n    return String(value).replace(/[\\x00-\\xFF]/g, function (c, idx) {\n      return !alphanumericRE.test(c) ? \"&#x\".concat(Number(value.charCodeAt(idx)).toString(16), \";\") : c;\n    });\n  };\n  /**\n   * Extends an object of arrays by by concatenating arrays of the same object\n   * keys. If the if the previous key's value is not an array, the next key's\n   * value will replace the previous key. This method is used for extending the\n   * whiteList in the XSS filter options.\n   *\n   * @private\n   * @param {Array<{}>} objects An array of objects.\n   * @returns {{}} The extended object.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype._extendObjectOfArrays = function (objects) {\n    var finalObj = {};\n    objects.forEach(function (obj) {\n      Object.keys(obj).forEach(function (key) {\n        if (Array.isArray(obj[key]) && Array.isArray(finalObj[key])) {\n          finalObj[key] = finalObj[key].concat(obj[key]);\n        } else {\n          finalObj[key] = obj[key];\n        }\n      });\n    });\n    return finalObj;\n  };\n  /**\n   * Iterate over a plain object or array to deeply sanitize each value.\n   *\n   * @private\n   * @param {object} obj The object to iterate over.\n   * @returns {(object | null)} The sanitized object.\n   * @memberof Sanitizer\n   */\n  Sanitizer.prototype._iterateOverObject = function (obj, options) {\n    var _this = this;\n    if (options === void 0) {\n      options = {};\n    }\n    try {\n      var hasChanged_1 = false;\n      var changedObj = void 0;\n      if (Array.isArray(obj)) {\n        changedObj = obj.reduce(function (prev, value) {\n          var validation = _this.validate(value, options);\n          if (validation.isValid) {\n            return prev.concat([value]);\n          } else {\n            hasChanged_1 = true;\n            return prev.concat([validation.sanitized]);\n          }\n        }, []);\n      } else if (!isPlainObject(obj)) {\n        if (options.allowUndefined && typeof obj === \"undefined\") {\n          return;\n        }\n        return null;\n      } else {\n        var keys = Object.keys(obj);\n        changedObj = keys.reduce(function (prev, key) {\n          var value = obj[key];\n          var validation = _this.validate(value, options);\n          if (validation.isValid) {\n            prev[key] = value;\n          } else {\n            hasChanged_1 = true;\n            prev[key] = validation.sanitized;\n          }\n          return prev;\n        }, {});\n      }\n      if (hasChanged_1) {\n        return changedObj;\n      }\n      return obj;\n    } catch (err) {\n      return null;\n    }\n  };\n  /**\n   * Trim whitespace from the start and ends of a string.\n   * @param {string} val The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  Sanitizer.prototype._trim = function (val) {\n    // @ts-ignore This is used by Jest,\n    // but TypeScript errors since it assumes `trim` is always available.\n    return String.prototype.trim ? val.trim() : val.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  };\n  return Sanitizer;\n}();\nexport { Sanitizer, Sanitizer as default };","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","lib$1","exports","_default$1","lib","_default","getDefaultWhiteList$1","whiteList","onAttr","name","value","options","onIgnoreAttr","REGEXP_URL_JAVASCRIPT","safeAttrValue$1","test","getDefaultWhiteList","safeAttrValue","util$1","indexOf","arr","item","j","Array","forEach","fn","scope","trim","str","String","replace","trimRight","_$3","parseStyle$1","css","cssLength","isParenthesisOpen","lastPos","retCSS","addNewAttr","source","slice","ret","c","parser$2","DEFAULT$1","parseStyle","isNull$1","obj","undefined","shallowCopyObject$1","FilterCSS$2","process","toString","me","sourcePosition","position","check","isWhite","RegExp","opts","module","DEFAULT","FilterCSS","filterCSS","html","xss","libExports$1","util","spaceIndex","reg","match","exec","index","FilterCSS$1","getDefaultCSSWhiteList","_$2","a","abbr","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","caption","center","cite","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hr","img","ins","li","mark","nav","ol","pre","section","small","span","sub","summary","sup","strong","strike","table","tbody","td","tfoot","th","thead","tr","tt","u","ul","video","defaultCSSFilter","onTag","tag","onIgnoreTag","onTagAttr","onIgnoreTagAttr","escapeHtml","REGEXP_LT","REGEXP_GT","cssFilter","friendlyAttrValue","substr","REGEXP_DEFAULT_ON_TAG_ATTR_4","lastIndex","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","escapeAttrValue","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","escapeQuote","unescapeQuote","escapeHtmlEntities","replaceUnicode","fromCharCode","parseInt","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","len","charCodeAt","charAt","onIgnoreTagStripAll","StripTagBody","tags","next","isRemoveAllTag","isArray","isRemoveTag","removeList","posStart","isClosing","end","push","remove","rethtml","pos","stripCommentTag","retHtml","stripBlankChar","chars","split","filter","char","join","parser$1","_$1","getTagName","tagName","toLowerCase","parseTag$1","tagStart","quoteStart","currentPos","currentTagName","currentHtml","chariterator","ic","REGEXP_ILLEGAL_ATTR_NAME","parseAttr$1","lastMarkPos","retAttrs","tmpName","addAttr","v","findNextQuotationMark","findNextEqual","findBeforeEqual","stripQuoteWrap","isQuoteWrapString","text","parseTag","parseAttr","parser","_","isNull","getAttrs","closing","shallowCopyObject","keysToLowerCase","map","FilterXSS","stripIgnoreTag","console","error","allowList","allowCommentTag","stripIgnoreTagBody","info","attrs","whiteAttrList","attrsHtml","isWhiteAttr","filterXSS","isWorkerEnv","self","DedicatedWorkerGlobalScope","libExports","isPlainObject","proto","getPrototypeOf","Sanitizer","filterOptions","extendDefaults","_this","arcgisWhiteList","main","time","arcgisCSSWhiteList","allowedProtocols","arcgisFilterOptions","sanitizeUrl","_entityMap","xssFilterOptions","create","keys","key","_extendObjectOfArrays","cssExtensions_1","attr","_xssFilter","sanitize","isNaN","isFinite","_iterateOverObject","allowUndefined","_a","isProtocolRequired","protocol","_trim","substring","isRootUrl","isUrlFragment","isValidProtocol","concat","sanitizeHTMLAttribute","attribute","validate","sanitized","isValid","encodeHTML","encodeAttrValue","alphanumericRE","idx","Number","objects","finalObj","hasChanged_1","changedObj","reduce","prev","validation","err","val","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@esri/arcgis-html-sanitizer/dist/esm/index.js"],"sourcesContent":["/*!\n * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)\n * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.\n * Apache-2.0\n * \n * js-xss\n * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>\n * http://ucdok.com\n * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar lib$1 = {exports: {}};\n\nvar _default$1 = {};\n\nvar lib = {exports: {}};\n\nvar _default = {};\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList$1 () {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue$1(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\n_default.whiteList = getDefaultWhiteList$1();\n_default.getDefaultWhiteList = getDefaultWhiteList$1;\n_default.onAttr = onAttr;\n_default.onIgnoreAttr = onIgnoreAttr;\n_default.safeAttrValue = safeAttrValue$1;\n\nvar util$1 = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _$3 = util$1;\n\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle$1 (css, onAttr) {\n  css = _$3.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _$3.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _$3.trim(source.slice(0, j));\n        var value = _$3.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) ; else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _$3.trim(retCSS);\n}\n\nvar parser$2 = parseStyle$1;\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT$1 = _default;\nvar parseStyle = parser$2;\n\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull$1 (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject$1 (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS$2 (options) {\n  options = shallowCopyObject$1(options || {});\n  options.whiteList = options.whiteList || DEFAULT$1.whiteList;\n  options.onAttr = options.onAttr || DEFAULT$1.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT$1.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT$1.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS$2.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull$1(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull$1(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nvar css = FilterCSS$2;\n\n/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\n(function (module, exports) {\n\tvar DEFAULT = _default;\n\tvar FilterCSS = css;\n\n\n\t/**\n\t * XSS过滤\n\t *\n\t * @param {String} css 要过滤的CSS代码\n\t * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n\t * @return {String}\n\t */\n\tfunction filterCSS (html, options) {\n\t  var xss = new FilterCSS(options);\n\t  return xss.process(html);\n\t}\n\n\n\t// 输出\n\texports = module.exports = filterCSS;\n\texports.FilterCSS = FilterCSS;\n\tfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n} (lib, lib.exports));\n\nvar libExports$1 = lib.exports;\n\nvar util = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function (str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  },\n};\n\n/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS$1 = libExports$1.FilterCSS;\nvar getDefaultCSSWhiteList = libExports$1.getDefaultWhiteList;\nvar _$2 = util;\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"preload\",\n      \"src\",\n    ],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"playsinline\",\n      \"poster\",\n      \"preload\",\n      \"src\",\n      \"height\",\n      \"width\",\n    ],\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS$1();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _$2.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value.substr(0, 11) === \"data:image/\" ||\n        value.substr(0, 6) === \"ftp://\" ||\n        value.substr(0, 2) === \"./\" ||\n        value.substr(0, 3) === \"../\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 =\n  /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 =\n  /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _$2.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _$2.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end,\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _$2.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    },\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\n_default$1.whiteList = getDefaultWhiteList();\n_default$1.getDefaultWhiteList = getDefaultWhiteList;\n_default$1.onTag = onTag;\n_default$1.onIgnoreTag = onIgnoreTag;\n_default$1.onTagAttr = onTagAttr;\n_default$1.onIgnoreTagAttr = onIgnoreTagAttr;\n_default$1.safeAttrValue = safeAttrValue;\n_default$1.escapeHtml = escapeHtml;\n_default$1.escapeQuote = escapeQuote;\n_default$1.unescapeQuote = unescapeQuote;\n_default$1.escapeHtmlEntities = escapeHtmlEntities;\n_default$1.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\n_default$1.clearNonPrintableCharacter = clearNonPrintableCharacter;\n_default$1.friendlyAttrValue = friendlyAttrValue;\n_default$1.escapeAttrValue = escapeAttrValue;\n_default$1.onIgnoreTagStripAll = onIgnoreTagStripAll;\n_default$1.StripTagBody = StripTagBody;\n_default$1.stripCommentTag = stripCommentTag;\n_default$1.stripBlankChar = stripBlankChar;\n_default$1.cssFilter = defaultCSSFilter;\n_default$1.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n\nvar parser$1 = {};\n\n/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _$1 = util;\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _$1.spaceIndex(html);\n  var tagName;\n  if (i === -1) {\n    tagName = html.slice(1, -1);\n  } else {\n    tagName = html.slice(1, i + 1);\n  }\n  tagName = _$1.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag$1(html, onTag, escapeHtml) {\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\") {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if (c === '\"' || c === \"'\") {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n\n          while (ic.trim() === \"\" || ic === \"=\") {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9\\\\_:.-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr$1(html, onAttr) {\n\n  var lastPos = 0;\n  var lastMarkPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _$1.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      lastMarkPos = html.charAt(lastPos) === '\"' || html.charAt(lastPos) === \"'\" ? lastPos : findNextQuotationMark(html, i + 1);\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastMarkPos\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _$1.trim(html.slice(lastMarkPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _$1.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_$1.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _$1.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findNextQuotationMark(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"'\" || c === '\"') return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nparser$1.parseTag = parseTag$1;\nparser$1.parseAttr = parseAttr$1;\n\n/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = libExports$1.FilterCSS;\nvar DEFAULT = _default$1;\nvar parser = parser$1;\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = util;\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\",\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing,\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function (sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag),\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function (name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nvar xss = FilterXSS;\n\n/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\n(function (module, exports) {\n\tvar DEFAULT = _default$1;\n\tvar parser = parser$1;\n\tvar FilterXSS = xss;\n\n\t/**\n\t * filter xss function\n\t *\n\t * @param {String} html\n\t * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n\t * @return {String}\n\t */\n\tfunction filterXSS(html, options) {\n\t  var xss = new FilterXSS(options);\n\t  return xss.process(html);\n\t}\n\n\texports = module.exports = filterXSS;\n\texports.filterXSS = filterXSS;\n\texports.FilterXSS = FilterXSS;\n\n\t(function () {\n\t  for (var i in DEFAULT) {\n\t    exports[i] = DEFAULT[i];\n\t  }\n\t  for (var j in parser) {\n\t    exports[j] = parser[j];\n\t  }\n\t})();\n\n\t// using `xss` on the WebWorker, output `filterXSS` to the globals\n\tfunction isWorkerEnv() {\n\t  return (\n\t    typeof self !== \"undefined\" &&\n\t    typeof DedicatedWorkerGlobalScope !== \"undefined\" &&\n\t    self instanceof DedicatedWorkerGlobalScope\n\t  );\n\t}\n\tif (isWorkerEnv()) {\n\t  self.filterXSS = module.exports;\n\t} \n} (lib$1, lib$1.exports));\n\nvar libExports = lib$1.exports;\n\n/**\n * Determine if the value is a plain object.\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n */\nvar isPlainObject = function (value) {\n    if (typeof value !== \"object\" || value === null) {\n        return false;\n    }\n    if (Object.prototype.toString.call(value) !== \"[object Object]\") {\n        return false;\n    }\n    var proto = Object.getPrototypeOf(value);\n    if (proto === null) {\n        return true;\n    }\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\n\n/**\n * The Sanitizer Class\n *\n * @export\n * @class Sanitizer\n */\nvar Sanitizer = /** @class */ (function () {\n    function Sanitizer(filterOptions, extendDefaults) {\n        var _this = this;\n        // Supported HTML Spec: https://doc.arcgis.com/en/arcgis-online/reference/supported-html.htm\n        this.arcgisWhiteList = {\n            a: [\"href\", \"style\", \"target\"],\n            abbr: [\"title\"],\n            article: [\"style\"],\n            aside: [\"style\"],\n            audio: [\"autoplay\", \"controls\", \"loop\", \"muted\", \"preload\"],\n            b: [],\n            blockquote: [\"style\"],\n            br: [],\n            code: [\"style\"],\n            dd: [\"style\"],\n            del: [\"style\"],\n            details: [\"open\", \"style\"],\n            div: [\"align\", \"aria-hidden\", \"aria-label\", \"style\"],\n            dl: [\"style\"],\n            dt: [\"style\"],\n            em: [],\n            figcaption: [\"style\"],\n            figure: [\"style\"],\n            font: [\"color\", \"face\", \"size\", \"style\"],\n            footer: [\"style\"],\n            h1: [\"style\"],\n            h2: [\"style\"],\n            h3: [\"style\"],\n            h4: [\"style\"],\n            h5: [\"style\"],\n            h6: [\"style\"],\n            header: [\"style\"],\n            hr: [],\n            i: [],\n            img: [\"alt\", \"border\", \"height\", \"src\", \"style\", \"width\"],\n            li: [],\n            main: [\"style\"],\n            mark: [\"style\"],\n            nav: [\"style\"],\n            ol: [],\n            p: [\"style\"],\n            pre: [\"style\"],\n            section: [\"style\"],\n            source: [\"media\", \"src\", \"type\"],\n            span: [\"aria-hidden\", \"aria-label\", \"style\"],\n            strong: [],\n            sub: [\"style\"],\n            summary: [\"style\"],\n            sup: [\"style\"],\n            table: [\"border\", \"cellpadding\", \"cellspacing\", \"height\", \"style\", \"width\"],\n            tbody: [],\n            tr: [\"align\", \"height\", \"style\", \"valign\"],\n            td: [\n                \"align\",\n                \"colspan\",\n                \"height\",\n                \"nowrap\",\n                \"rowspan\",\n                \"style\",\n                \"valign\",\n                \"width\",\n            ],\n            th: [\n                \"align\",\n                \"colspan\",\n                \"height\",\n                \"nowrap\",\n                \"rowspan\",\n                \"style\",\n                \"valign\",\n                \"width\",\n            ],\n            time: [\"style\"],\n            u: [],\n            ul: [],\n            video: [\n                \"autoplay\",\n                \"controls\",\n                \"height\",\n                \"loop\",\n                \"muted\",\n                \"poster\",\n                \"preload\",\n                \"width\",\n            ],\n        };\n        this.arcgisCSSWhiteList = __assign(__assign({}, libExports.getDefaultCSSWhiteList()), { \"align-items\": true, \"align-self\": true, \"flex\": true, \"flex-basis\": true, \"flex-direction\": true, \"flex-flow\": true, \"flex-grow\": true, \"flex-shrink\": true, \"flex-wrap\": true, \"float\": true, \"gap\": true, \"grid\": true, \"grid-area\": true, \"grid-auto-columns\": true, \"grid-auto-flow\": true, \"grid-auto-rows\": true, \"grid-column\": true, \"grid-column-end\": true, \"grid-column-start\": true, \"grid-row\": true, \"grid-row-end\": true, \"grid-row-start\": true, \"grid-template\": true, \"grid-template-areas\": true, \"grid-template-columns\": true, \"grid-template-rows\": true, \"justify-content\": true, \"justify-items\": true, \"justify-self\": true, \"line-height\": true, \"overflow\": true });\n        this.allowedProtocols = [\n            \"http\",\n            \"https\",\n            \"mailto\",\n            \"iform\",\n            \"tel\",\n            \"flow\",\n            \"lfmobile\",\n            \"arcgis-navigator\",\n            \"arcgis-appstudio-player\",\n            \"arcgis-survey123\",\n            \"arcgis-collector\",\n            \"arcgis-workforce\",\n            \"arcgis-explorer\",\n            \"arcgis-trek2there\",\n            \"arcgis-quickcapture\",\n            \"mspbi\",\n            \"comgooglemaps\",\n            \"pdfefile\",\n            \"pdfehttp\",\n            \"pdfehttps\",\n            \"boxapp\",\n            \"boxemm\",\n            \"awb\",\n            \"awbs\",\n            \"gropen\",\n            \"radarscope\",\n        ];\n        this.arcgisFilterOptions = {\n            allowCommentTag: true,\n            safeAttrValue: function (tag, name, value, cssFilter) {\n                // Take over safe attribute filtering for `a` `href`, `img` `src`,\n                // and `source` `src` attributes, otherwise pass onto the\n                // default `XSS.safeAttrValue` method.\n                if ((tag === \"a\" && name === \"href\") ||\n                    ((tag === \"img\" || tag === \"source\") && name === \"src\")) {\n                    return _this.sanitizeUrl(value);\n                }\n                return libExports.safeAttrValue(tag, name, value, cssFilter);\n            },\n        };\n        this._entityMap = {\n            \"&\": \"&#x38;\",\n            \"<\": \"&#x3C;\",\n            \">\": \"&#x3E;\",\n            '\"': \"&#x22;\",\n            \"'\": \"&#x27;\",\n            \"/\": \"&#x2F;\",\n        };\n        var xssFilterOptions;\n        if (filterOptions && !extendDefaults) {\n            // Override the defaults\n            xssFilterOptions = filterOptions;\n        }\n        else if (filterOptions && extendDefaults) {\n            // Extend the defaults\n            xssFilterOptions = Object.create(this.arcgisFilterOptions);\n            xssFilterOptions.css = { whiteList: this.arcgisCSSWhiteList };\n            Object.keys(filterOptions).forEach(function (key) {\n                if (key === \"whiteList\") {\n                    // Extend the whitelist by concatenating arrays\n                    xssFilterOptions.whiteList = _this._extendObjectOfArrays([\n                        _this.arcgisWhiteList,\n                        filterOptions.whiteList || {},\n                    ]);\n                }\n                else if (key === \"css\") {\n                    var cssExtensions_1 = filterOptions.css.whiteList;\n                    if (cssExtensions_1 != null && filterOptions.css instanceof Object) {\n                        Object.keys(cssExtensions_1).forEach(function (attr) {\n                            return (xssFilterOptions.css.whiteList[attr] =\n                                cssExtensions_1[attr]);\n                        });\n                    }\n                }\n                else {\n                    xssFilterOptions[key] = filterOptions[key];\n                }\n            });\n        }\n        else {\n            // Only use the defaults\n            xssFilterOptions = Object.create(this.arcgisFilterOptions);\n            xssFilterOptions.whiteList = this.arcgisWhiteList;\n            xssFilterOptions.css = { whiteList: this.arcgisCSSWhiteList };\n        }\n        this.xssFilterOptions = xssFilterOptions;\n        // Make this readable to tests\n        this._xssFilter = new libExports.FilterXSS(xssFilterOptions);\n    }\n    /**\n     * Sanitizes value to remove invalid HTML tags.\n     *\n     * Note: If the value passed does not contain a valid JSON data type (String,\n     * Number, JSON Object, Array, Boolean, or null), the value will be nullified.\n     *\n     * @param {any} value The value to sanitize.\n     * @returns {any} The sanitized value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.sanitize = function (value, options) {\n        if (options === void 0) { options = {}; }\n        switch (typeof value) {\n            case \"number\":\n                if (isNaN(value) || !isFinite(value)) {\n                    return null;\n                }\n                return value;\n            case \"boolean\":\n                return value;\n            case \"string\":\n                return this._xssFilter.process(value);\n            case \"object\":\n                return this._iterateOverObject(value, options);\n            default:\n                if (options.allowUndefined && typeof value === \"undefined\") {\n                    return;\n                }\n                return null;\n        }\n    };\n    /**\n     * Sanitizes a URL string following the allowed protocols and sanitization rules.\n     *\n     * @param {string} value The URL to sanitize.\n     * @param {{ isProtocolRequired: boolean }} options Configuration options for URL checking.\n     * @returns {string} The sanitized URL if it's valid, or an empty string if the URL is invalid.\n     */\n    Sanitizer.prototype.sanitizeUrl = function (value, options) {\n        var _a = (options !== null && options !== void 0 ? options : {}).isProtocolRequired, isProtocolRequired = _a === void 0 ? true : _a;\n        var protocol = this._trim(value.substring(0, value.indexOf(\":\")));\n        var isRootUrl = value === \"/\";\n        var isUrlFragment = /^#/.test(value);\n        var isValidProtocol = protocol && this.allowedProtocols.indexOf(protocol.toLowerCase()) > -1;\n        if (isRootUrl || isUrlFragment || isValidProtocol) {\n            return libExports.escapeAttrValue(value);\n        }\n        if (!protocol && !isProtocolRequired) {\n            return libExports.escapeAttrValue(\"https://\".concat(value));\n        }\n        return \"\";\n    };\n    /**\n     * Sanitizes an HTML attribute value.\n     *\n     * @param {string} tag The tagname of the HTML element.\n     * @param {string} attribute The attribute name of the HTML element.\n     * @param {string} value The raw value to be used for the HTML attribute value.\n     * @param {XSS.ICSSFilter} [cssFilter] The CSS filter to be used.\n     * @returns {string} The sanitized attribute value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.sanitizeHTMLAttribute = function (tag, attribute, value, cssFilter) {\n        // use the custom safeAttrValue function if provided\n        if (typeof this.xssFilterOptions.safeAttrValue === \"function\") {\n            return this.xssFilterOptions.safeAttrValue(tag, attribute, value, \n            // @ts-expect-error safeAttrValue does handle undefined cssFilter\n            cssFilter);\n        }\n        // otherwise use the default\n        // @ts-ignore safeAttrValue does handle undefined cssFilter\n        return libExports.safeAttrValue(tag, attribute, value, cssFilter);\n    };\n    /**\n     * Checks if a value only contains valid HTML.\n     *\n     * @param {any} value The value to validate.\n     * @returns {boolean}\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.validate = function (value, options) {\n        if (options === void 0) { options = {}; }\n        var sanitized = this.sanitize(value, options);\n        return {\n            isValid: value === sanitized,\n            sanitized: sanitized,\n        };\n    };\n    /**\n     * Encodes the following characters, `& < > \\\" ' /` to their hexadecimal HTML entity code.\n     * Example: \"&middot;\" => \"&#x38;middot;\"\n     *\n     * @param {string} value The value to encode.\n     * @returns {string} The encoded string value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.encodeHTML = function (value) {\n        var _this = this;\n        return String(value).replace(/[&<>\"'\\/]/g, function (s) {\n            return _this._entityMap[s];\n        });\n    };\n    /**\n     * Encodes all non-alphanumeric ASCII characters to their hexadecimal HTML entity codes.\n     * Example: \"alert(document.cookie)\" => \"alert&#x28;document&#x2e;cookie&#x29;\"\n     *\n     * @param {string} value The value to encode.\n     * @returns {string} The encoded string value.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype.encodeAttrValue = function (value) {\n        var alphanumericRE = /^[a-zA-Z0-9]$/;\n        return String(value).replace(/[\\x00-\\xFF]/g, function (c, idx) {\n            return !alphanumericRE.test(c)\n                ? \"&#x\".concat(Number(value.charCodeAt(idx)).toString(16), \";\")\n                : c;\n        });\n    };\n    /**\n     * Extends an object of arrays by by concatenating arrays of the same object\n     * keys. If the if the previous key's value is not an array, the next key's\n     * value will replace the previous key. This method is used for extending the\n     * whiteList in the XSS filter options.\n     *\n     * @private\n     * @param {Array<{}>} objects An array of objects.\n     * @returns {{}} The extended object.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype._extendObjectOfArrays = function (objects) {\n        var finalObj = {};\n        objects.forEach(function (obj) {\n            Object.keys(obj).forEach(function (key) {\n                if (Array.isArray(obj[key]) && Array.isArray(finalObj[key])) {\n                    finalObj[key] = finalObj[key].concat(obj[key]);\n                }\n                else {\n                    finalObj[key] = obj[key];\n                }\n            });\n        });\n        return finalObj;\n    };\n    /**\n     * Iterate over a plain object or array to deeply sanitize each value.\n     *\n     * @private\n     * @param {object} obj The object to iterate over.\n     * @returns {(object | null)} The sanitized object.\n     * @memberof Sanitizer\n     */\n    Sanitizer.prototype._iterateOverObject = function (obj, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        try {\n            var hasChanged_1 = false;\n            var changedObj = void 0;\n            if (Array.isArray(obj)) {\n                changedObj = obj.reduce(function (prev, value) {\n                    var validation = _this.validate(value, options);\n                    if (validation.isValid) {\n                        return prev.concat([value]);\n                    }\n                    else {\n                        hasChanged_1 = true;\n                        return prev.concat([validation.sanitized]);\n                    }\n                }, []);\n            }\n            else if (!isPlainObject(obj)) {\n                if (options.allowUndefined && typeof obj === \"undefined\") {\n                    return;\n                }\n                return null;\n            }\n            else {\n                var keys = Object.keys(obj);\n                changedObj = keys.reduce(function (prev, key) {\n                    var value = obj[key];\n                    var validation = _this.validate(value, options);\n                    if (validation.isValid) {\n                        prev[key] = value;\n                    }\n                    else {\n                        hasChanged_1 = true;\n                        prev[key] = validation.sanitized;\n                    }\n                    return prev;\n                }, {});\n            }\n            if (hasChanged_1) {\n                return changedObj;\n            }\n            return obj;\n        }\n        catch (err) {\n            return null;\n        }\n    };\n    /**\n     * Trim whitespace from the start and ends of a string.\n     * @param {string} val The string to trim.\n     * @returns {string} The trimmed string.\n     */\n    Sanitizer.prototype._trim = function (val) {\n        // @ts-ignore This is used by Jest,\n        // but TypeScript errors since it assumes `trim` is always available.\n        return String.prototype.trim\n            ? val.trim()\n            : val.replace(/(^\\s*)|(\\s*$)/g, \"\");\n    };\n    return Sanitizer;\n}());\n\nexport { Sanitizer, Sanitizer as default };\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,IAAIA,QAAQ,GAAG,SAAAA,CAAA,EAAW;EACtBA,QAAQ,GAAGC,MAAM,CAACC,MAAM,IAAI,SAASF,QAAQA,CAACG,CAAC,EAAE;IAC7C,KAAK,IAAIC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACjDD,CAAC,GAAGG,SAAS,CAACF,CAAC,CAAC;MAChB,KAAK,IAAII,CAAC,IAAIL,CAAC,EAAE,IAAIH,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,EAAEN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IAChF;IACA,OAAON,CAAC;EACZ,CAAC;EACD,OAAOH,QAAQ,CAACa,KAAK,CAAC,IAAI,EAAEN,SAAS,CAAC;AAC1C,CAAC;AAED,IAAIO,KAAK,GAAG;EAACC,OAAO,EAAE,CAAC;AAAC,CAAC;AAEzB,IAAIC,UAAU,GAAG,CAAC,CAAC;AAEnB,IAAIC,GAAG,GAAG;EAACF,OAAO,EAAE,CAAC;AAAC,CAAC;AAEvB,IAAIG,QAAQ,GAAG,CAAC,CAAC;;AAEjB;AACA;AACA;AACA;AACA;;AAEA,SAASC,qBAAqBA,CAAA,EAAI;EAChC;EACA;EACA;EACA;EACA;EACA,IAAIC,SAAS,GAAG,CAAC,CAAC;EAElBA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC,CAAC;EACvCA,SAAS,CAAC,oBAAoB,CAAC,GAAG,KAAK,CAAC,CAAC;EACzCA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1BA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1CA,SAAS,CAAC,oBAAoB,CAAC,GAAG,KAAK,CAAC,CAAC;EACzCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1CA,SAAS,CAAC,2BAA2B,CAAC,GAAG,KAAK,CAAC,CAAC;EAChDA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,sBAAsB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3CA,SAAS,CAAC,2BAA2B,CAAC,GAAG,KAAK,CAAC,CAAC;EAChDA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1CA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC3CA,SAAS,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,CAAC;EACrCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,CAAC;EACtCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,CAAC;EACtCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,CAAC;EACvCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,CAAC;EACvCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,CAAC;EACrCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5BA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,CAAC;EAC5BA,SAAS,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC;EACnCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,2BAA2B,CAAC,GAAG,IAAI,CAAC,CAAC;EAC/CA,SAAS,CAAC,4BAA4B,CAAC,GAAG,IAAI,CAAC,CAAC;EAChDA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,CAAC;EACrCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,CAAC;EACxCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,CAAC;EACxCA,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;EACjCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,CAAC;EACvCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,CAAC;EACvCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,CAAC;EACvCA,SAAS,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC;EACnCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,CAAC;EACxCA,SAAS,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,CAAC;EACxCA,SAAS,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,CAAC;EACxCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,CAAC;EACpCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,CAAC;EACtCA,SAAS,CAAC,wBAAwB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC5CA,SAAS,CAAC,yBAAyB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC7CA,SAAS,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,CAAC;EACtCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,CAAC;EACtCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC1CA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,CAAC;EAC9BA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;EACjCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;EAC3BA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;EAC3BA,SAAS,CAAC,6BAA6B,CAAC,GAAG,IAAI,CAAC,CAAC;EACjDA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1BA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,CAAC;EAC7BA,SAAS,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,CAAC;EACpCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,CAAC;EACrCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5BA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC;EAC1BA,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;EACjCA,SAAS,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC3CA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,wBAAwB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC5CA,SAAS,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;EAC/BA,SAAS,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,CAAC;EACtCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,CAAC;EACpCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,yBAAyB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC7CA,SAAS,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,CAAC;EACvCA,SAAS,CAAC,yBAAyB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC7CA,SAAS,CAAC,wBAAwB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC5CA,SAAS,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC1CA,SAAS,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC3CA,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;EACjCA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1CA,SAAS,CAAC,uBAAuB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5CA,SAAS,CAAC,oBAAoB,CAAC,GAAG,KAAK,CAAC,CAAC;EACzCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1CA,SAAS,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,CAAC;EAC5BA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC,CAAC;EACvCA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC,CAAC;EACvCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,CAAC;EACpCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,CAAC;EACpCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC,CAAC;EACvCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,oBAAoB,CAAC,GAAG,KAAK,CAAC,CAAC;EACzCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1CA,SAAS,CAAC,wBAAwB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7CA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,CAAC;EACtCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,CAAC;EACrCA,SAAS,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,CAAC;EAC5BA,SAAS,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC;EACnCA,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;EACjCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5BA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC,CAAC;EACvCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;EAC/BA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;EAC/BA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5BA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;EAC9BA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,CAAC;EAC7BA,SAAS,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,CAAC;EACpCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC;EACnCA,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;EACjCA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC,CAAC;EACvCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5BA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,oBAAoB,CAAC,GAAG,KAAK,CAAC,CAAC;EACzCA,SAAS,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5BA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,oBAAoB,CAAC,GAAG,KAAK,CAAC,CAAC;EACzCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5BA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,uBAAuB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5CA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;EAC3BA,SAAS,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC;EAC5BA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,CAAC;EACxCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;EAC/BA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,CAAC;EACrCA,SAAS,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC1CA,SAAS,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,CAAC;EACrCA,SAAS,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC3CA,SAAS,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC1CA,SAAS,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC1CA,SAAS,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC3CA,SAAS,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC;EACnCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,wBAAwB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC5CA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;EACjCA,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;EACjCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,CAAC;EACtCA,SAAS,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC;EACnCA,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;EACjCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC,CAAC;EACzCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,CAAC;EACpCA,SAAS,CAAC,yBAAyB,CAAC,GAAG,IAAI,CAAC,CAAC;EAC7CA,SAAS,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;EAC/BA,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1BA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC,CAAC;EACvCA,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;EACtCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC,CAAC;EACvCA,SAAS,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1CA,SAAS,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC,CAAC;EAC1CA,SAAS,CAAC,4BAA4B,CAAC,GAAG,KAAK,CAAC,CAAC;EACjDA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,CAAC;EACpCA,SAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,CAAC;EACrCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC;EACjCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC;EAC7BA,SAAS,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;EAC3BA,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,CAAC;EAClCA,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;EAChCA,SAAS,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,CAAC;EAClCA,SAAS,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;EAC/BA,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC;EAChCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,CAAC;EACnCA,SAAS,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC;;EAE9B,OAAOA,SAAS;AAClB;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,MAAMA,CAAEC,IAAI,EAAEC,KAAK,EAAEC,OAAO,EAAE;EACrC;AAAA;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,YAAYA,CAAEH,IAAI,EAAEC,KAAK,EAAEC,OAAO,EAAE;EAC3C;AAAA;AAGF,IAAIE,qBAAqB,GAAG,oBAAoB;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,eAAeA,CAACL,IAAI,EAAEC,KAAK,EAAE;EACpC,IAAIG,qBAAqB,CAACE,IAAI,CAACL,KAAK,CAAC,EAAE,OAAO,EAAE;EAChD,OAAOA,KAAK;AACd;AAGAL,QAAQ,CAACE,SAAS,GAAGD,qBAAqB,CAAC,CAAC;AAC5CD,QAAQ,CAACW,mBAAmB,GAAGV,qBAAqB;AACpDD,QAAQ,CAACG,MAAM,GAAGA,MAAM;AACxBH,QAAQ,CAACO,YAAY,GAAGA,YAAY;AACpCP,QAAQ,CAACY,aAAa,GAAGH,eAAe;AAExC,IAAII,MAAM,GAAG;EACXC,OAAO,EAAE,SAAAA,CAAUC,GAAG,EAAEC,IAAI,EAAE;IAC5B,IAAI7B,CAAC,EAAE8B,CAAC;IACR,IAAIC,KAAK,CAAC1B,SAAS,CAACsB,OAAO,EAAE;MAC3B,OAAOC,GAAG,CAACD,OAAO,CAACE,IAAI,CAAC;IAC1B;IACA,KAAK7B,CAAC,GAAG,CAAC,EAAE8B,CAAC,GAAGF,GAAG,CAACzB,MAAM,EAAEH,CAAC,GAAG8B,CAAC,EAAE9B,CAAC,EAAE,EAAE;MACtC,IAAI4B,GAAG,CAAC5B,CAAC,CAAC,KAAK6B,IAAI,EAAE;QACnB,OAAO7B,CAAC;MACV;IACF;IACA,OAAO,CAAC,CAAC;EACX,CAAC;EACDgC,OAAO,EAAE,SAAAA,CAAUJ,GAAG,EAAEK,EAAE,EAAEC,KAAK,EAAE;IACjC,IAAIlC,CAAC,EAAE8B,CAAC;IACR,IAAIC,KAAK,CAAC1B,SAAS,CAAC2B,OAAO,EAAE;MAC3B,OAAOJ,GAAG,CAACI,OAAO,CAACC,EAAE,EAAEC,KAAK,CAAC;IAC/B;IACA,KAAKlC,CAAC,GAAG,CAAC,EAAE8B,CAAC,GAAGF,GAAG,CAACzB,MAAM,EAAEH,CAAC,GAAG8B,CAAC,EAAE9B,CAAC,EAAE,EAAE;MACtCiC,EAAE,CAAC1B,IAAI,CAAC2B,KAAK,EAAEN,GAAG,CAAC5B,CAAC,CAAC,EAAEA,CAAC,EAAE4B,GAAG,CAAC;IAChC;EACF,CAAC;EACDO,IAAI,EAAE,SAAAA,CAAUC,GAAG,EAAE;IACnB,IAAIC,MAAM,CAAChC,SAAS,CAAC8B,IAAI,EAAE;MACzB,OAAOC,GAAG,CAACD,IAAI,CAAC,CAAC;IACnB;IACA,OAAOC,GAAG,CAACE,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC;EAC1C,CAAC;EACDC,SAAS,EAAE,SAAAA,CAAUH,GAAG,EAAE;IACxB,IAAIC,MAAM,CAAChC,SAAS,CAACkC,SAAS,EAAE;MAC9B,OAAOH,GAAG,CAACG,SAAS,CAAC,CAAC;IACxB;IACA,OAAOH,GAAG,CAACE,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;EACnC;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA,IAAIE,GAAG,GAAGd,MAAM;;AAGhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASe,YAAYA,CAAEC,GAAG,EAAE1B,MAAM,EAAE;EAClC0B,GAAG,GAAGF,GAAG,CAACD,SAAS,CAACG,GAAG,CAAC;EACxB,IAAIA,GAAG,CAACA,GAAG,CAACvC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAEuC,GAAG,IAAI,GAAG;EAC3C,IAAIC,SAAS,GAAGD,GAAG,CAACvC,MAAM;EAC1B,IAAIyC,iBAAiB,GAAG,KAAK;EAC7B,IAAIC,OAAO,GAAG,CAAC;EACf,IAAI7C,CAAC,GAAG,CAAC;EACT,IAAI8C,MAAM,GAAG,EAAE;EAEf,SAASC,UAAUA,CAAA,EAAI;IACrB;IACA,IAAI,CAACH,iBAAiB,EAAE;MACtB,IAAII,MAAM,GAAGR,GAAG,CAACL,IAAI,CAACO,GAAG,CAACO,KAAK,CAACJ,OAAO,EAAE7C,CAAC,CAAC,CAAC;MAC5C,IAAI8B,CAAC,GAAGkB,MAAM,CAACrB,OAAO,CAAC,GAAG,CAAC;MAC3B,IAAIG,CAAC,KAAK,CAAC,CAAC,EAAE;QACZ,IAAIb,IAAI,GAAGuB,GAAG,CAACL,IAAI,CAACa,MAAM,CAACC,KAAK,CAAC,CAAC,EAAEnB,CAAC,CAAC,CAAC;QACvC,IAAIZ,KAAK,GAAGsB,GAAG,CAACL,IAAI,CAACa,MAAM,CAACC,KAAK,CAACnB,CAAC,GAAG,CAAC,CAAC,CAAC;QACzC;QACA,IAAIb,IAAI,EAAE;UACR,IAAIiC,GAAG,GAAGlC,MAAM,CAAC6B,OAAO,EAAEC,MAAM,CAAC3C,MAAM,EAAEc,IAAI,EAAEC,KAAK,EAAE8B,MAAM,CAAC;UAC7D,IAAIE,GAAG,EAAEJ,MAAM,IAAII,GAAG,GAAG,IAAI;QAC/B;MACF;IACF;IACAL,OAAO,GAAG7C,CAAC,GAAG,CAAC;EACjB;EAEA,OAAOA,CAAC,GAAG2C,SAAS,EAAE3C,CAAC,EAAE,EAAE;IACzB,IAAImD,CAAC,GAAGT,GAAG,CAAC1C,CAAC,CAAC;IACd,IAAImD,CAAC,KAAK,GAAG,IAAIT,GAAG,CAAC1C,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;MACnC;MACA,IAAI8B,CAAC,GAAGY,GAAG,CAACf,OAAO,CAAC,IAAI,EAAE3B,CAAC,GAAG,CAAC,CAAC;MAChC;MACA,IAAI8B,CAAC,KAAK,CAAC,CAAC,EAAE;MACd;MACA9B,CAAC,GAAG8B,CAAC,GAAG,CAAC;MACTe,OAAO,GAAG7C,CAAC,GAAG,CAAC;MACf4C,iBAAiB,GAAG,KAAK;IAC3B,CAAC,MAAM,IAAIO,CAAC,KAAK,GAAG,EAAE;MACpBP,iBAAiB,GAAG,IAAI;IAC1B,CAAC,MAAM,IAAIO,CAAC,KAAK,GAAG,EAAE;MACpBP,iBAAiB,GAAG,KAAK;IAC3B,CAAC,MAAM,IAAIO,CAAC,KAAK,GAAG,EAAE;MACpB,IAAIP,iBAAiB,EAAE,CAAC,KAAM;QAC5BG,UAAU,CAAC,CAAC;MACd;IACF,CAAC,MAAM,IAAII,CAAC,KAAK,IAAI,EAAE;MACrBJ,UAAU,CAAC,CAAC;IACd;EACF;EAEA,OAAOP,GAAG,CAACL,IAAI,CAACW,MAAM,CAAC;AACzB;AAEA,IAAIM,QAAQ,GAAGX,YAAY;;AAE3B;AACA;AACA;AACA;AACA;;AAEA,IAAIY,SAAS,GAAGxC,QAAQ;AACxB,IAAIyC,UAAU,GAAGF,QAAQ;;AAGzB;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,QAAQA,CAAEC,GAAG,EAAE;EACtB,OAAQA,GAAG,KAAKC,SAAS,IAAID,GAAG,KAAK,IAAI;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASE,mBAAmBA,CAAEF,GAAG,EAAE;EACjC,IAAIN,GAAG,GAAG,CAAC,CAAC;EACZ,KAAK,IAAIlD,CAAC,IAAIwD,GAAG,EAAE;IACjBN,GAAG,CAAClD,CAAC,CAAC,GAAGwD,GAAG,CAACxD,CAAC,CAAC;EACjB;EACA,OAAOkD,GAAG;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASS,WAAWA,CAAExC,OAAO,EAAE;EAC7BA,OAAO,GAAGuC,mBAAmB,CAACvC,OAAO,IAAI,CAAC,CAAC,CAAC;EAC5CA,OAAO,CAACJ,SAAS,GAAGI,OAAO,CAACJ,SAAS,IAAIsC,SAAS,CAACtC,SAAS;EAC5DI,OAAO,CAACH,MAAM,GAAGG,OAAO,CAACH,MAAM,IAAIqC,SAAS,CAACrC,MAAM;EACnDG,OAAO,CAACC,YAAY,GAAGD,OAAO,CAACC,YAAY,IAAIiC,SAAS,CAACjC,YAAY;EACrED,OAAO,CAACM,aAAa,GAAGN,OAAO,CAACM,aAAa,IAAI4B,SAAS,CAAC5B,aAAa;EACxE,IAAI,CAACN,OAAO,GAAGA,OAAO;AACxB;AAEAwC,WAAW,CAACtD,SAAS,CAACuD,OAAO,GAAG,UAAUlB,GAAG,EAAE;EAC7C;EACAA,GAAG,GAAGA,GAAG,IAAI,EAAE;EACfA,GAAG,GAAGA,GAAG,CAACmB,QAAQ,CAAC,CAAC;EACpB,IAAI,CAACnB,GAAG,EAAE,OAAO,EAAE;EAEnB,IAAIoB,EAAE,GAAG,IAAI;EACb,IAAI3C,OAAO,GAAG2C,EAAE,CAAC3C,OAAO;EACxB,IAAIJ,SAAS,GAAGI,OAAO,CAACJ,SAAS;EACjC,IAAIC,MAAM,GAAGG,OAAO,CAACH,MAAM;EAC3B,IAAII,YAAY,GAAGD,OAAO,CAACC,YAAY;EACvC,IAAIK,aAAa,GAAGN,OAAO,CAACM,aAAa;EAEzC,IAAIqB,MAAM,GAAGQ,UAAU,CAACZ,GAAG,EAAE,UAAUqB,cAAc,EAAEC,QAAQ,EAAE/C,IAAI,EAAEC,KAAK,EAAE8B,MAAM,EAAE;IAEpF,IAAIiB,KAAK,GAAGlD,SAAS,CAACE,IAAI,CAAC;IAC3B,IAAIiD,OAAO,GAAG,KAAK;IACnB,IAAID,KAAK,KAAK,IAAI,EAAEC,OAAO,GAAGD,KAAK,CAAC,KAC/B,IAAI,OAAOA,KAAK,KAAK,UAAU,EAAEC,OAAO,GAAGD,KAAK,CAAC/C,KAAK,CAAC,CAAC,KACxD,IAAI+C,KAAK,YAAYE,MAAM,EAAED,OAAO,GAAGD,KAAK,CAAC1C,IAAI,CAACL,KAAK,CAAC;IAC7D,IAAIgD,OAAO,KAAK,IAAI,EAAEA,OAAO,GAAG,KAAK;;IAErC;IACAhD,KAAK,GAAGO,aAAa,CAACR,IAAI,EAAEC,KAAK,CAAC;IAClC,IAAI,CAACA,KAAK,EAAE;IAEZ,IAAIkD,IAAI,GAAG;MACTJ,QAAQ,EAAEA,QAAQ;MAClBD,cAAc,EAAEA,cAAc;MAC9Bf,MAAM,EAAEA,MAAM;MACdkB,OAAO,EAAEA;IACX,CAAC;IAED,IAAIA,OAAO,EAAE;MAEX,IAAIhB,GAAG,GAAGlC,MAAM,CAACC,IAAI,EAAEC,KAAK,EAAEkD,IAAI,CAAC;MACnC,IAAIb,QAAQ,CAACL,GAAG,CAAC,EAAE;QACjB,OAAOjC,IAAI,GAAG,GAAG,GAAGC,KAAK;MAC3B,CAAC,MAAM;QACL,OAAOgC,GAAG;MACZ;IAEF,CAAC,MAAM;MAEL,IAAIA,GAAG,GAAG9B,YAAY,CAACH,IAAI,EAAEC,KAAK,EAAEkD,IAAI,CAAC;MACzC,IAAI,CAACb,QAAQ,CAACL,GAAG,CAAC,EAAE;QAClB,OAAOA,GAAG;MACZ;IAEF;EACF,CAAC,CAAC;EAEF,OAAOJ,MAAM;AACf,CAAC;AAGD,IAAIJ,GAAG,GAAGiB,WAAW;;AAErB;AACA;AACA;AACA;AACA;;AAEC,WAAUU,MAAM,EAAE3D,OAAO,EAAE;EAC3B,IAAI4D,OAAO,GAAGzD,QAAQ;EACtB,IAAI0D,SAAS,GAAG7B,GAAG;;EAGnB;AACD;AACA;AACA;AACA;AACA;AACA;EACC,SAAS8B,SAASA,CAAEC,IAAI,EAAEtD,OAAO,EAAE;IACjC,IAAIuD,GAAG,GAAG,IAAIH,SAAS,CAACpD,OAAO,CAAC;IAChC,OAAOuD,GAAG,CAACd,OAAO,CAACa,IAAI,CAAC;EAC1B;;EAGA;EACA/D,OAAO,GAAG2D,MAAM,CAAC3D,OAAO,GAAG8D,SAAS;EACpC9D,OAAO,CAAC6D,SAAS,GAAGA,SAAS;EAC7B,KAAK,IAAIvE,CAAC,IAAIsE,OAAO,EAAE5D,OAAO,CAACV,CAAC,CAAC,GAAGsE,OAAO,CAACtE,CAAC,CAAC;AAC/C,CAAC,EAAEY,GAAG,EAAEA,GAAG,CAACF,OAAO,CAAC;AAEpB,IAAIiE,YAAY,GAAG/D,GAAG,CAACF,OAAO;AAE9B,IAAIkE,IAAI,GAAG;EACTjD,OAAO,EAAE,SAAAA,CAAUC,GAAG,EAAEC,IAAI,EAAE;IAC5B,IAAI7B,CAAC,EAAE8B,CAAC;IACR,IAAIC,KAAK,CAAC1B,SAAS,CAACsB,OAAO,EAAE;MAC3B,OAAOC,GAAG,CAACD,OAAO,CAACE,IAAI,CAAC;IAC1B;IACA,KAAK7B,CAAC,GAAG,CAAC,EAAE8B,CAAC,GAAGF,GAAG,CAACzB,MAAM,EAAEH,CAAC,GAAG8B,CAAC,EAAE9B,CAAC,EAAE,EAAE;MACtC,IAAI4B,GAAG,CAAC5B,CAAC,CAAC,KAAK6B,IAAI,EAAE;QACnB,OAAO7B,CAAC;MACV;IACF;IACA,OAAO,CAAC,CAAC;EACX,CAAC;EACDgC,OAAO,EAAE,SAAAA,CAAUJ,GAAG,EAAEK,EAAE,EAAEC,KAAK,EAAE;IACjC,IAAIlC,CAAC,EAAE8B,CAAC;IACR,IAAIC,KAAK,CAAC1B,SAAS,CAAC2B,OAAO,EAAE;MAC3B,OAAOJ,GAAG,CAACI,OAAO,CAACC,EAAE,EAAEC,KAAK,CAAC;IAC/B;IACA,KAAKlC,CAAC,GAAG,CAAC,EAAE8B,CAAC,GAAGF,GAAG,CAACzB,MAAM,EAAEH,CAAC,GAAG8B,CAAC,EAAE9B,CAAC,EAAE,EAAE;MACtCiC,EAAE,CAAC1B,IAAI,CAAC2B,KAAK,EAAEN,GAAG,CAAC5B,CAAC,CAAC,EAAEA,CAAC,EAAE4B,GAAG,CAAC;IAChC;EACF,CAAC;EACDO,IAAI,EAAE,SAAAA,CAAUC,GAAG,EAAE;IACnB,IAAIC,MAAM,CAAChC,SAAS,CAAC8B,IAAI,EAAE;MACzB,OAAOC,GAAG,CAACD,IAAI,CAAC,CAAC;IACnB;IACA,OAAOC,GAAG,CAACE,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC;EAC1C,CAAC;EACDuC,UAAU,EAAE,SAAAA,CAAUzC,GAAG,EAAE;IACzB,IAAI0C,GAAG,GAAG,UAAU;IACpB,IAAIC,KAAK,GAAGD,GAAG,CAACE,IAAI,CAAC5C,GAAG,CAAC;IACzB,OAAO2C,KAAK,GAAGA,KAAK,CAACE,KAAK,GAAG,CAAC,CAAC;EACjC;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA,IAAIC,WAAW,GAAGP,YAAY,CAACJ,SAAS;AACxC,IAAIY,sBAAsB,GAAGR,YAAY,CAACnD,mBAAmB;AAC7D,IAAI4D,GAAG,GAAGR,IAAI;AAEd,SAASpD,mBAAmBA,CAAA,EAAG;EAC7B,OAAO;IACL6D,CAAC,EAAE,CAAC,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC;IAC9BC,IAAI,EAAE,CAAC,OAAO,CAAC;IACfC,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,CAAC;IACxCC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,CACL,UAAU,EACV,UAAU,EACV,aAAa,EACb,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,CACN;IACDC,CAAC,EAAE,EAAE;IACLC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,GAAG,EAAE,EAAE;IACPC,UAAU,EAAE,CAAC,MAAM,CAAC;IACpBC,EAAE,EAAE,EAAE;IACNC,OAAO,EAAE,EAAE;IACXC,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACRC,GAAG,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC;IACzCC,QAAQ,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC;IAC9CC,EAAE,EAAE,EAAE;IACNC,GAAG,EAAE,CAAC,UAAU,CAAC;IACjBC,OAAO,EAAE,CAAC,MAAM,CAAC;IACjBC,GAAG,EAAE,EAAE;IACPC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,UAAU,EAAE,EAAE;IACdC,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC;IAC/BC,MAAM,EAAE,EAAE;IACVC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,MAAM,EAAE,EAAE;IACVC,EAAE,EAAE,EAAE;IACN1H,CAAC,EAAE,EAAE;IACL2H,GAAG,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC;IAC/CC,GAAG,EAAE,CAAC,UAAU,CAAC;IACjBC,EAAE,EAAE,EAAE;IACNC,IAAI,EAAE,EAAE;IACRC,GAAG,EAAE,EAAE;IACPC,EAAE,EAAE,EAAE;IACN5H,CAAC,EAAE,EAAE;IACL6H,GAAG,EAAE,EAAE;IACPlI,CAAC,EAAE,EAAE;IACLmI,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE,EAAE;IACRC,GAAG,EAAE,EAAE;IACPC,OAAO,EAAE,EAAE;IACXC,GAAG,EAAE,EAAE;IACPC,MAAM,EAAE,EAAE;IACVC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC;IAC7CC,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,CAAC;IAC1BC,EAAE,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,CAAC;IACtDC,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,CAAC;IAC1BC,EAAE,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,CAAC;IACtDC,KAAK,EAAE,CAAC,OAAO,EAAE,QAAQ,CAAC;IAC1BC,EAAE,EAAE,CAAC,SAAS,EAAE,OAAO,EAAE,QAAQ,CAAC;IAClCC,EAAE,EAAE,EAAE;IACNC,CAAC,EAAE,EAAE;IACLC,EAAE,EAAE,EAAE;IACNC,KAAK,EAAE,CACL,UAAU,EACV,UAAU,EACV,aAAa,EACb,MAAM,EACN,OAAO,EACP,aAAa,EACb,QAAQ,EACR,SAAS,EACT,KAAK,EACL,QAAQ,EACR,OAAO;EAEX,CAAC;AACH;AAEA,IAAIC,gBAAgB,GAAG,IAAInE,WAAW,CAAC,CAAC;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASoE,KAAKA,CAACC,GAAG,EAAE9E,IAAI,EAAEtD,OAAO,EAAE;EACjC;AAAA;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASqI,WAAWA,CAACD,GAAG,EAAE9E,IAAI,EAAEtD,OAAO,EAAE;EACvC;AAAA;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASsI,SAASA,CAACF,GAAG,EAAEtI,IAAI,EAAEC,KAAK,EAAE;EACnC;AAAA;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASwI,eAAeA,CAACH,GAAG,EAAEtI,IAAI,EAAEC,KAAK,EAAE;EACzC;AAAA;;AAGF;AACA;AACA;AACA;AACA;AACA,SAASyI,UAAUA,CAAClF,IAAI,EAAE;EACxB,OAAOA,IAAI,CAACnC,OAAO,CAACsH,SAAS,EAAE,MAAM,CAAC,CAACtH,OAAO,CAACuH,SAAS,EAAE,MAAM,CAAC;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASpI,aAAaA,CAAC8H,GAAG,EAAEtI,IAAI,EAAEC,KAAK,EAAE4I,SAAS,EAAE;EAClD;EACA5I,KAAK,GAAG6I,iBAAiB,CAAC7I,KAAK,CAAC;EAEhC,IAAID,IAAI,KAAK,MAAM,IAAIA,IAAI,KAAK,KAAK,EAAE;IACrC;IACA;IACAC,KAAK,GAAGkE,GAAG,CAACjD,IAAI,CAACjB,KAAK,CAAC;IACvB,IAAIA,KAAK,KAAK,GAAG,EAAE,OAAO,GAAG;IAC7B,IACE,EACEA,KAAK,CAAC8I,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,SAAS,IAChC9I,KAAK,CAAC8I,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,IACjC9I,KAAK,CAAC8I,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,SAAS,IAChC9I,KAAK,CAAC8I,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,IAC7B9I,KAAK,CAAC8I,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,aAAa,IACrC9I,KAAK,CAAC8I,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,QAAQ,IAC/B9I,KAAK,CAAC8I,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI,IAC3B9I,KAAK,CAAC8I,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,IAC5B9I,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,IAChBA,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,CACjB,EACD;MACA,OAAO,EAAE;IACX;EACF,CAAC,MAAM,IAAID,IAAI,KAAK,YAAY,EAAE;IAChC;IACA;IACAgJ,4BAA4B,CAACC,SAAS,GAAG,CAAC;IAC1C,IAAID,4BAA4B,CAAC1I,IAAI,CAACL,KAAK,CAAC,EAAE;MAC5C,OAAO,EAAE;IACX;EACF,CAAC,MAAM,IAAID,IAAI,KAAK,OAAO,EAAE;IAC3B;IACAkJ,4BAA4B,CAACD,SAAS,GAAG,CAAC;IAC1C,IAAIC,4BAA4B,CAAC5I,IAAI,CAACL,KAAK,CAAC,EAAE;MAC5C,OAAO,EAAE;IACX;IACA;IACAkJ,4BAA4B,CAACF,SAAS,GAAG,CAAC;IAC1C,IAAIE,4BAA4B,CAAC7I,IAAI,CAACL,KAAK,CAAC,EAAE;MAC5C+I,4BAA4B,CAACC,SAAS,GAAG,CAAC;MAC1C,IAAID,4BAA4B,CAAC1I,IAAI,CAACL,KAAK,CAAC,EAAE;QAC5C,OAAO,EAAE;MACX;IACF;IACA,IAAI4I,SAAS,KAAK,KAAK,EAAE;MACvBA,SAAS,GAAGA,SAAS,IAAIT,gBAAgB;MACzCnI,KAAK,GAAG4I,SAAS,CAAClG,OAAO,CAAC1C,KAAK,CAAC;IAClC;EACF;;EAEA;EACAA,KAAK,GAAGmJ,eAAe,CAACnJ,KAAK,CAAC;EAC9B,OAAOA,KAAK;AACd;;AAEA;AACA,IAAI0I,SAAS,GAAG,IAAI;AACpB,IAAIC,SAAS,GAAG,IAAI;AACpB,IAAIS,YAAY,GAAG,IAAI;AACvB,IAAIC,cAAc,GAAG,SAAS;AAC9B,IAAIC,mBAAmB,GAAG,uBAAuB;AACjD,IAAIC,uBAAuB,GAAG,aAAa;AAC3C,IAAIC,yBAAyB,GAAG,eAAe;AAC/C;AACA,IAAIT,4BAA4B,GAC9B,uFAAuF;AACzF;AACA;AACA,IAAIE,4BAA4B,GAC9B,gDAAgD;AAClD,IAAIC,4BAA4B,GAAG,oBAAoB;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA,SAASO,WAAWA,CAACvI,GAAG,EAAE;EACxB,OAAOA,GAAG,CAACE,OAAO,CAACgI,YAAY,EAAE,QAAQ,CAAC;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASM,aAAaA,CAACxI,GAAG,EAAE;EAC1B,OAAOA,GAAG,CAACE,OAAO,CAACiI,cAAc,EAAE,GAAG,CAAC;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASM,kBAAkBA,CAACzI,GAAG,EAAE;EAC/B,OAAOA,GAAG,CAACE,OAAO,CAACkI,mBAAmB,EAAE,SAASM,cAAcA,CAAC1I,GAAG,EAAEiE,IAAI,EAAE;IACzE,OAAOA,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIA,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,GACrChE,MAAM,CAAC0I,YAAY,CAACC,QAAQ,CAAC3E,IAAI,CAAC2D,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GACjD3H,MAAM,CAAC0I,YAAY,CAACC,QAAQ,CAAC3E,IAAI,EAAE,EAAE,CAAC,CAAC;EAC7C,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS4E,yBAAyBA,CAAC7I,GAAG,EAAE;EACtC,OAAOA,GAAG,CACPE,OAAO,CAACmI,uBAAuB,EAAE,GAAG,CAAC,CACrCnI,OAAO,CAACoI,yBAAyB,EAAE,GAAG,CAAC;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASQ,0BAA0BA,CAAC9I,GAAG,EAAE;EACvC,IAAI+I,IAAI,GAAG,EAAE;EACb,KAAK,IAAInL,CAAC,GAAG,CAAC,EAAEoL,GAAG,GAAGhJ,GAAG,CAACjC,MAAM,EAAEH,CAAC,GAAGoL,GAAG,EAAEpL,CAAC,EAAE,EAAE;IAC9CmL,IAAI,IAAI/I,GAAG,CAACiJ,UAAU,CAACrL,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,GAAGoC,GAAG,CAACkJ,MAAM,CAACtL,CAAC,CAAC;EACtD;EACA,OAAOoF,GAAG,CAACjD,IAAI,CAACgJ,IAAI,CAAC;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASpB,iBAAiBA,CAAC3H,GAAG,EAAE;EAC9BA,GAAG,GAAGwI,aAAa,CAACxI,GAAG,CAAC;EACxBA,GAAG,GAAGyI,kBAAkB,CAACzI,GAAG,CAAC;EAC7BA,GAAG,GAAG6I,yBAAyB,CAAC7I,GAAG,CAAC;EACpCA,GAAG,GAAG8I,0BAA0B,CAAC9I,GAAG,CAAC;EACrC,OAAOA,GAAG;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASiI,eAAeA,CAACjI,GAAG,EAAE;EAC5BA,GAAG,GAAGuI,WAAW,CAACvI,GAAG,CAAC;EACtBA,GAAG,GAAGuH,UAAU,CAACvH,GAAG,CAAC;EACrB,OAAOA,GAAG;AACZ;;AAEA;AACA;AACA;AACA,SAASmJ,mBAAmBA,CAAA,EAAG;EAC7B,OAAO,EAAE;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,YAAYA,CAACC,IAAI,EAAEC,IAAI,EAAE;EAChC,IAAI,OAAOA,IAAI,KAAK,UAAU,EAAE;IAC9BA,IAAI,GAAG,SAAAA,CAAA,EAAY,CAAC,CAAC;EACvB;EAEA,IAAIC,cAAc,GAAG,CAAC5J,KAAK,CAAC6J,OAAO,CAACH,IAAI,CAAC;EACzC,SAASI,WAAWA,CAACtC,GAAG,EAAE;IACxB,IAAIoC,cAAc,EAAE,OAAO,IAAI;IAC/B,OAAOvG,GAAG,CAACzD,OAAO,CAAC8J,IAAI,EAAElC,GAAG,CAAC,KAAK,CAAC,CAAC;EACtC;EAEA,IAAIuC,UAAU,GAAG,EAAE;EACnB,IAAIC,QAAQ,GAAG,KAAK;EAEpB,OAAO;IACLvC,WAAW,EAAE,SAAAA,CAAUD,GAAG,EAAE9E,IAAI,EAAEtD,OAAO,EAAE;MACzC,IAAI0K,WAAW,CAACtC,GAAG,CAAC,EAAE;QACpB,IAAIpI,OAAO,CAAC6K,SAAS,EAAE;UACrB,IAAI9I,GAAG,GAAG,YAAY;UACtB,IAAI+I,GAAG,GAAG9K,OAAO,CAAC6C,QAAQ,GAAGd,GAAG,CAAC/C,MAAM;UACvC2L,UAAU,CAACI,IAAI,CAAC,CACdH,QAAQ,KAAK,KAAK,GAAGA,QAAQ,GAAG5K,OAAO,CAAC6C,QAAQ,EAChDiI,GAAG,CACJ,CAAC;UACFF,QAAQ,GAAG,KAAK;UAChB,OAAO7I,GAAG;QACZ,CAAC,MAAM;UACL,IAAI,CAAC6I,QAAQ,EAAE;YACbA,QAAQ,GAAG5K,OAAO,CAAC6C,QAAQ;UAC7B;UACA,OAAO,WAAW;QACpB;MACF,CAAC,MAAM;QACL,OAAO0H,IAAI,CAACnC,GAAG,EAAE9E,IAAI,EAAEtD,OAAO,CAAC;MACjC;IACF,CAAC;IACDgL,MAAM,EAAE,SAAAA,CAAU1H,IAAI,EAAE;MACtB,IAAI2H,OAAO,GAAG,EAAE;MAChB,IAAIvJ,OAAO,GAAG,CAAC;MACfuC,GAAG,CAACpD,OAAO,CAAC8J,UAAU,EAAE,UAAUO,GAAG,EAAE;QACrCD,OAAO,IAAI3H,IAAI,CAACxB,KAAK,CAACJ,OAAO,EAAEwJ,GAAG,CAAC,CAAC,CAAC,CAAC;QACtCxJ,OAAO,GAAGwJ,GAAG,CAAC,CAAC,CAAC;MAClB,CAAC,CAAC;MACFD,OAAO,IAAI3H,IAAI,CAACxB,KAAK,CAACJ,OAAO,CAAC;MAC9B,OAAOuJ,OAAO;IAChB;EACF,CAAC;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASE,eAAeA,CAAC7H,IAAI,EAAE;EAC7B,IAAI8H,OAAO,GAAG,EAAE;EAChB,IAAI1J,OAAO,GAAG,CAAC;EACf,OAAOA,OAAO,GAAG4B,IAAI,CAACtE,MAAM,EAAE;IAC5B,IAAIH,CAAC,GAAGyE,IAAI,CAAC9C,OAAO,CAAC,MAAM,EAAEkB,OAAO,CAAC;IACrC,IAAI7C,CAAC,KAAK,CAAC,CAAC,EAAE;MACZuM,OAAO,IAAI9H,IAAI,CAACxB,KAAK,CAACJ,OAAO,CAAC;MAC9B;IACF;IACA0J,OAAO,IAAI9H,IAAI,CAACxB,KAAK,CAACJ,OAAO,EAAE7C,CAAC,CAAC;IACjC,IAAI8B,CAAC,GAAG2C,IAAI,CAAC9C,OAAO,CAAC,KAAK,EAAE3B,CAAC,CAAC;IAC9B,IAAI8B,CAAC,KAAK,CAAC,CAAC,EAAE;MACZ;IACF;IACAe,OAAO,GAAGf,CAAC,GAAG,CAAC;EACjB;EACA,OAAOyK,OAAO;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,cAAcA,CAAC/H,IAAI,EAAE;EAC5B,IAAIgI,KAAK,GAAGhI,IAAI,CAACiI,KAAK,CAAC,EAAE,CAAC;EAC1BD,KAAK,GAAGA,KAAK,CAACE,MAAM,CAAC,UAAUC,IAAI,EAAE;IACnC,IAAIzJ,CAAC,GAAGyJ,IAAI,CAACvB,UAAU,CAAC,CAAC,CAAC;IAC1B,IAAIlI,CAAC,KAAK,GAAG,EAAE,OAAO,KAAK;IAC3B,IAAIA,CAAC,IAAI,EAAE,EAAE;MACX,IAAIA,CAAC,KAAK,EAAE,IAAIA,CAAC,KAAK,EAAE,EAAE,OAAO,IAAI;MACrC,OAAO,KAAK;IACd;IACA,OAAO,IAAI;EACb,CAAC,CAAC;EACF,OAAOsJ,KAAK,CAACI,IAAI,CAAC,EAAE,CAAC;AACvB;AAEAlM,UAAU,CAACI,SAAS,GAAGS,mBAAmB,CAAC,CAAC;AAC5Cb,UAAU,CAACa,mBAAmB,GAAGA,mBAAmB;AACpDb,UAAU,CAAC2I,KAAK,GAAGA,KAAK;AACxB3I,UAAU,CAAC6I,WAAW,GAAGA,WAAW;AACpC7I,UAAU,CAAC8I,SAAS,GAAGA,SAAS;AAChC9I,UAAU,CAAC+I,eAAe,GAAGA,eAAe;AAC5C/I,UAAU,CAACc,aAAa,GAAGA,aAAa;AACxCd,UAAU,CAACgJ,UAAU,GAAGA,UAAU;AAClChJ,UAAU,CAACgK,WAAW,GAAGA,WAAW;AACpChK,UAAU,CAACiK,aAAa,GAAGA,aAAa;AACxCjK,UAAU,CAACkK,kBAAkB,GAAGA,kBAAkB;AAClDlK,UAAU,CAACsK,yBAAyB,GAAGA,yBAAyB;AAChEtK,UAAU,CAACuK,0BAA0B,GAAGA,0BAA0B;AAClEvK,UAAU,CAACoJ,iBAAiB,GAAGA,iBAAiB;AAChDpJ,UAAU,CAAC0J,eAAe,GAAGA,eAAe;AAC5C1J,UAAU,CAAC4K,mBAAmB,GAAGA,mBAAmB;AACpD5K,UAAU,CAAC6K,YAAY,GAAGA,YAAY;AACtC7K,UAAU,CAAC2L,eAAe,GAAGA,eAAe;AAC5C3L,UAAU,CAAC6L,cAAc,GAAGA,cAAc;AAC1C7L,UAAU,CAACmJ,SAAS,GAAGT,gBAAgB;AACvC1I,UAAU,CAACwE,sBAAsB,GAAGA,sBAAsB;AAE1D,IAAI2H,QAAQ,GAAG,CAAC,CAAC;;AAEjB;AACA;AACA;AACA;AACA;;AAEA,IAAIC,GAAG,GAAGnI,IAAI;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA,SAASoI,UAAUA,CAACvI,IAAI,EAAE;EACxB,IAAIzE,CAAC,GAAG+M,GAAG,CAAClI,UAAU,CAACJ,IAAI,CAAC;EAC5B,IAAIwI,OAAO;EACX,IAAIjN,CAAC,KAAK,CAAC,CAAC,EAAE;IACZiN,OAAO,GAAGxI,IAAI,CAACxB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC7B,CAAC,MAAM;IACLgK,OAAO,GAAGxI,IAAI,CAACxB,KAAK,CAAC,CAAC,EAAEjD,CAAC,GAAG,CAAC,CAAC;EAChC;EACAiN,OAAO,GAAGF,GAAG,CAAC5K,IAAI,CAAC8K,OAAO,CAAC,CAACC,WAAW,CAAC,CAAC;EACzC,IAAID,OAAO,CAAChK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,EAAEgK,OAAO,GAAGA,OAAO,CAAChK,KAAK,CAAC,CAAC,CAAC;EAC3D,IAAIgK,OAAO,CAAChK,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAEgK,OAAO,GAAGA,OAAO,CAAChK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC7D,OAAOgK,OAAO;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASjB,SAASA,CAACvH,IAAI,EAAE;EACvB,OAAOA,IAAI,CAACxB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASkK,UAAUA,CAAC1I,IAAI,EAAE6E,KAAK,EAAEK,UAAU,EAAE;EAE3C,IAAIyC,OAAO,GAAG,EAAE;EAChB,IAAIvJ,OAAO,GAAG,CAAC;EACf,IAAIuK,QAAQ,GAAG,KAAK;EACpB,IAAIC,UAAU,GAAG,KAAK;EACtB,IAAIC,UAAU,GAAG,CAAC;EAClB,IAAIlC,GAAG,GAAG3G,IAAI,CAACtE,MAAM;EACrB,IAAIoN,cAAc,GAAG,EAAE;EACvB,IAAIC,WAAW,GAAG,EAAE;EAEpBC,YAAY,EAAE,KAAKH,UAAU,GAAG,CAAC,EAAEA,UAAU,GAAGlC,GAAG,EAAEkC,UAAU,EAAE,EAAE;IACjE,IAAInK,CAAC,GAAGsB,IAAI,CAAC6G,MAAM,CAACgC,UAAU,CAAC;IAC/B,IAAIF,QAAQ,KAAK,KAAK,EAAE;MACtB,IAAIjK,CAAC,KAAK,GAAG,EAAE;QACbiK,QAAQ,GAAGE,UAAU;QACrB;MACF;IACF,CAAC,MAAM;MACL,IAAID,UAAU,KAAK,KAAK,EAAE;QACxB,IAAIlK,CAAC,KAAK,GAAG,EAAE;UACbiJ,OAAO,IAAIzC,UAAU,CAAClF,IAAI,CAACxB,KAAK,CAACJ,OAAO,EAAEyK,UAAU,CAAC,CAAC;UACtDF,QAAQ,GAAGE,UAAU;UACrBzK,OAAO,GAAGyK,UAAU;UACpB;QACF;QACA,IAAInK,CAAC,KAAK,GAAG,EAAE;UACbiJ,OAAO,IAAIzC,UAAU,CAAClF,IAAI,CAACxB,KAAK,CAACJ,OAAO,EAAEuK,QAAQ,CAAC,CAAC;UACpDI,WAAW,GAAG/I,IAAI,CAACxB,KAAK,CAACmK,QAAQ,EAAEE,UAAU,GAAG,CAAC,CAAC;UAClDC,cAAc,GAAGP,UAAU,CAACQ,WAAW,CAAC;UACxCpB,OAAO,IAAI9C,KAAK,CACd8D,QAAQ,EACRhB,OAAO,CAACjM,MAAM,EACdoN,cAAc,EACdC,WAAW,EACXxB,SAAS,CAACwB,WAAW,CACvB,CAAC;UACD3K,OAAO,GAAGyK,UAAU,GAAG,CAAC;UACxBF,QAAQ,GAAG,KAAK;UAChB;QACF;QACA,IAAIjK,CAAC,KAAK,GAAG,IAAIA,CAAC,KAAK,GAAG,EAAE;UAC1B,IAAInD,CAAC,GAAG,CAAC;UACT,IAAI0N,EAAE,GAAGjJ,IAAI,CAAC6G,MAAM,CAACgC,UAAU,GAAGtN,CAAC,CAAC;UAEpC,OAAO0N,EAAE,CAACvL,IAAI,CAAC,CAAC,KAAK,EAAE,IAAIuL,EAAE,KAAK,GAAG,EAAE;YACrC,IAAIA,EAAE,KAAK,GAAG,EAAE;cACdL,UAAU,GAAGlK,CAAC;cACd,SAASsK,YAAY;YACvB;YACAC,EAAE,GAAGjJ,IAAI,CAAC6G,MAAM,CAACgC,UAAU,GAAG,EAAEtN,CAAC,CAAC;UACpC;QACF;MACF,CAAC,MAAM;QACL,IAAImD,CAAC,KAAKkK,UAAU,EAAE;UACpBA,UAAU,GAAG,KAAK;UAClB;QACF;MACF;IACF;EACF;EACA,IAAIxK,OAAO,GAAG4B,IAAI,CAACtE,MAAM,EAAE;IACzBiM,OAAO,IAAIzC,UAAU,CAAClF,IAAI,CAACuF,MAAM,CAACnH,OAAO,CAAC,CAAC;EAC7C;EAEA,OAAOuJ,OAAO;AAChB;AAEA,IAAIuB,wBAAwB,GAAG,uBAAuB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,WAAWA,CAACnJ,IAAI,EAAEzD,MAAM,EAAE;EAEjC,IAAI6B,OAAO,GAAG,CAAC;EACf,IAAIgL,WAAW,GAAG,CAAC;EACnB,IAAIC,QAAQ,GAAG,EAAE;EACjB,IAAIC,OAAO,GAAG,KAAK;EACnB,IAAI3C,GAAG,GAAG3G,IAAI,CAACtE,MAAM;EAErB,SAAS6N,OAAOA,CAAC/M,IAAI,EAAEC,KAAK,EAAE;IAC5BD,IAAI,GAAG8L,GAAG,CAAC5K,IAAI,CAAClB,IAAI,CAAC;IACrBA,IAAI,GAAGA,IAAI,CAACqB,OAAO,CAACqL,wBAAwB,EAAE,EAAE,CAAC,CAACT,WAAW,CAAC,CAAC;IAC/D,IAAIjM,IAAI,CAACd,MAAM,GAAG,CAAC,EAAE;IACrB,IAAI+C,GAAG,GAAGlC,MAAM,CAACC,IAAI,EAAEC,KAAK,IAAI,EAAE,CAAC;IACnC,IAAIgC,GAAG,EAAE4K,QAAQ,CAAC5B,IAAI,CAAChJ,GAAG,CAAC;EAC7B;;EAEA;EACA,KAAK,IAAIlD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoL,GAAG,EAAEpL,CAAC,EAAE,EAAE;IAC5B,IAAImD,CAAC,GAAGsB,IAAI,CAAC6G,MAAM,CAACtL,CAAC,CAAC;IACtB,IAAIiO,CAAC,EAAEnM,CAAC;IACR,IAAIiM,OAAO,KAAK,KAAK,IAAI5K,CAAC,KAAK,GAAG,EAAE;MAClC4K,OAAO,GAAGtJ,IAAI,CAACxB,KAAK,CAACJ,OAAO,EAAE7C,CAAC,CAAC;MAChC6C,OAAO,GAAG7C,CAAC,GAAG,CAAC;MACf6N,WAAW,GAAGpJ,IAAI,CAAC6G,MAAM,CAACzI,OAAO,CAAC,KAAK,GAAG,IAAI4B,IAAI,CAAC6G,MAAM,CAACzI,OAAO,CAAC,KAAK,GAAG,GAAGA,OAAO,GAAGqL,qBAAqB,CAACzJ,IAAI,EAAEzE,CAAC,GAAG,CAAC,CAAC;MACzH;IACF;IACA,IAAI+N,OAAO,KAAK,KAAK,EAAE;MACrB,IACE/N,CAAC,KAAK6N,WAAW,EACjB;QACA/L,CAAC,GAAG2C,IAAI,CAAC9C,OAAO,CAACwB,CAAC,EAAEnD,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI8B,CAAC,KAAK,CAAC,CAAC,EAAE;UACZ;QACF,CAAC,MAAM;UACLmM,CAAC,GAAGlB,GAAG,CAAC5K,IAAI,CAACsC,IAAI,CAACxB,KAAK,CAAC4K,WAAW,GAAG,CAAC,EAAE/L,CAAC,CAAC,CAAC;UAC5CkM,OAAO,CAACD,OAAO,EAAEE,CAAC,CAAC;UACnBF,OAAO,GAAG,KAAK;UACf/N,CAAC,GAAG8B,CAAC;UACLe,OAAO,GAAG7C,CAAC,GAAG,CAAC;UACf;QACF;MACF;IACF;IACA,IAAI,UAAU,CAACuB,IAAI,CAAC4B,CAAC,CAAC,EAAE;MACtBsB,IAAI,GAAGA,IAAI,CAACnC,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC;MACrC,IAAIyL,OAAO,KAAK,KAAK,EAAE;QACrBjM,CAAC,GAAGqM,aAAa,CAAC1J,IAAI,EAAEzE,CAAC,CAAC;QAC1B,IAAI8B,CAAC,KAAK,CAAC,CAAC,EAAE;UACZmM,CAAC,GAAGlB,GAAG,CAAC5K,IAAI,CAACsC,IAAI,CAACxB,KAAK,CAACJ,OAAO,EAAE7C,CAAC,CAAC,CAAC;UACpCgO,OAAO,CAACC,CAAC,CAAC;UACVF,OAAO,GAAG,KAAK;UACflL,OAAO,GAAG7C,CAAC,GAAG,CAAC;UACf;QACF,CAAC,MAAM;UACLA,CAAC,GAAG8B,CAAC,GAAG,CAAC;UACT;QACF;MACF,CAAC,MAAM;QACLA,CAAC,GAAGsM,eAAe,CAAC3J,IAAI,EAAEzE,CAAC,GAAG,CAAC,CAAC;QAChC,IAAI8B,CAAC,KAAK,CAAC,CAAC,EAAE;UACZmM,CAAC,GAAGlB,GAAG,CAAC5K,IAAI,CAACsC,IAAI,CAACxB,KAAK,CAACJ,OAAO,EAAE7C,CAAC,CAAC,CAAC;UACpCiO,CAAC,GAAGI,cAAc,CAACJ,CAAC,CAAC;UACrBD,OAAO,CAACD,OAAO,EAAEE,CAAC,CAAC;UACnBF,OAAO,GAAG,KAAK;UACflL,OAAO,GAAG7C,CAAC,GAAG,CAAC;UACf;QACF,CAAC,MAAM;UACL;QACF;MACF;IACF;EACF;EAEA,IAAI6C,OAAO,GAAG4B,IAAI,CAACtE,MAAM,EAAE;IACzB,IAAI4N,OAAO,KAAK,KAAK,EAAE;MACrBC,OAAO,CAACvJ,IAAI,CAACxB,KAAK,CAACJ,OAAO,CAAC,CAAC;IAC9B,CAAC,MAAM;MACLmL,OAAO,CAACD,OAAO,EAAEM,cAAc,CAACtB,GAAG,CAAC5K,IAAI,CAACsC,IAAI,CAACxB,KAAK,CAACJ,OAAO,CAAC,CAAC,CAAC,CAAC;IACjE;EACF;EAEA,OAAOkK,GAAG,CAAC5K,IAAI,CAAC2L,QAAQ,CAACjB,IAAI,CAAC,GAAG,CAAC,CAAC;AACrC;AAEA,SAASsB,aAAaA,CAAC/L,GAAG,EAAEpC,CAAC,EAAE;EAC7B,OAAOA,CAAC,GAAGoC,GAAG,CAACjC,MAAM,EAAEH,CAAC,EAAE,EAAE;IAC1B,IAAImD,CAAC,GAAGf,GAAG,CAACpC,CAAC,CAAC;IACd,IAAImD,CAAC,KAAK,GAAG,EAAE;IACf,IAAIA,CAAC,KAAK,GAAG,EAAE,OAAOnD,CAAC;IACvB,OAAO,CAAC,CAAC;EACX;AACF;AAEA,SAASkO,qBAAqBA,CAAC9L,GAAG,EAAEpC,CAAC,EAAE;EACrC,OAAOA,CAAC,GAAGoC,GAAG,CAACjC,MAAM,EAAEH,CAAC,EAAE,EAAE;IAC1B,IAAImD,CAAC,GAAGf,GAAG,CAACpC,CAAC,CAAC;IACd,IAAImD,CAAC,KAAK,GAAG,EAAE;IACf,IAAIA,CAAC,KAAK,GAAG,IAAIA,CAAC,KAAK,GAAG,EAAE,OAAOnD,CAAC;IACpC,OAAO,CAAC,CAAC;EACX;AACF;AAEA,SAASoO,eAAeA,CAAChM,GAAG,EAAEpC,CAAC,EAAE;EAC/B,OAAOA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;IACjB,IAAImD,CAAC,GAAGf,GAAG,CAACpC,CAAC,CAAC;IACd,IAAImD,CAAC,KAAK,GAAG,EAAE;IACf,IAAIA,CAAC,KAAK,GAAG,EAAE,OAAOnD,CAAC;IACvB,OAAO,CAAC,CAAC;EACX;AACF;AAEA,SAASsO,iBAAiBA,CAACC,IAAI,EAAE;EAC/B,IACGA,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIA,IAAI,CAACA,IAAI,CAACpO,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,IAChDoO,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIA,IAAI,CAACA,IAAI,CAACpO,MAAM,GAAG,CAAC,CAAC,KAAK,GAAI,EAClD;IACA,OAAO,IAAI;EACb,CAAC,MAAM;IACL,OAAO,KAAK;EACd;AACF;AAEA,SAASkO,cAAcA,CAACE,IAAI,EAAE;EAC5B,IAAID,iBAAiB,CAACC,IAAI,CAAC,EAAE;IAC3B,OAAOA,IAAI,CAACvE,MAAM,CAAC,CAAC,EAAEuE,IAAI,CAACpO,MAAM,GAAG,CAAC,CAAC;EACxC,CAAC,MAAM;IACL,OAAOoO,IAAI;EACb;AACF;AAEAzB,QAAQ,CAAC0B,QAAQ,GAAGrB,UAAU;AAC9BL,QAAQ,CAAC2B,SAAS,GAAGb,WAAW;;AAEhC;AACA;AACA;AACA;AACA;;AAEA,IAAIrJ,SAAS,GAAGI,YAAY,CAACJ,SAAS;AACtC,IAAID,OAAO,GAAG3D,UAAU;AACxB,IAAI+N,MAAM,GAAG5B,QAAQ;AACrB,IAAI0B,QAAQ,GAAGE,MAAM,CAACF,QAAQ;AAC9B,IAAIC,SAAS,GAAGC,MAAM,CAACD,SAAS;AAChC,IAAIE,CAAC,GAAG/J,IAAI;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA,SAASgK,MAAMA,CAACpL,GAAG,EAAE;EACnB,OAAOA,GAAG,KAAKC,SAAS,IAAID,GAAG,KAAK,IAAI;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASqL,QAAQA,CAACpK,IAAI,EAAE;EACtB,IAAIzE,CAAC,GAAG2O,CAAC,CAAC9J,UAAU,CAACJ,IAAI,CAAC;EAC1B,IAAIzE,CAAC,KAAK,CAAC,CAAC,EAAE;IACZ,OAAO;MACLyE,IAAI,EAAE,EAAE;MACRqK,OAAO,EAAErK,IAAI,CAACA,IAAI,CAACtE,MAAM,GAAG,CAAC,CAAC,KAAK;IACrC,CAAC;EACH;EACAsE,IAAI,GAAGkK,CAAC,CAACxM,IAAI,CAACsC,IAAI,CAACxB,KAAK,CAACjD,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACpC,IAAIgM,SAAS,GAAGvH,IAAI,CAACA,IAAI,CAACtE,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG;EAC7C,IAAI6L,SAAS,EAAEvH,IAAI,GAAGkK,CAAC,CAACxM,IAAI,CAACsC,IAAI,CAACxB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAC/C,OAAO;IACLwB,IAAI,EAAEA,IAAI;IACVqK,OAAO,EAAE9C;EACX,CAAC;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS+C,iBAAiBA,CAACvL,GAAG,EAAE;EAC9B,IAAIN,GAAG,GAAG,CAAC,CAAC;EACZ,KAAK,IAAIlD,CAAC,IAAIwD,GAAG,EAAE;IACjBN,GAAG,CAAClD,CAAC,CAAC,GAAGwD,GAAG,CAACxD,CAAC,CAAC;EACjB;EACA,OAAOkD,GAAG;AACZ;AAEA,SAAS8L,eAAeA,CAACxL,GAAG,EAAE;EAC5B,IAAIN,GAAG,GAAG,CAAC,CAAC;EACZ,KAAK,IAAIlD,CAAC,IAAIwD,GAAG,EAAE;IACjB,IAAIzB,KAAK,CAAC6J,OAAO,CAACpI,GAAG,CAACxD,CAAC,CAAC,CAAC,EAAE;MACzBkD,GAAG,CAAClD,CAAC,CAACkN,WAAW,CAAC,CAAC,CAAC,GAAG1J,GAAG,CAACxD,CAAC,CAAC,CAACiP,GAAG,CAAC,UAAUpN,IAAI,EAAE;QAChD,OAAOA,IAAI,CAACqL,WAAW,CAAC,CAAC;MAC3B,CAAC,CAAC;IACJ,CAAC,MAAM;MACLhK,GAAG,CAAClD,CAAC,CAACkN,WAAW,CAAC,CAAC,CAAC,GAAG1J,GAAG,CAACxD,CAAC,CAAC;IAC/B;EACF;EACA,OAAOkD,GAAG;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASgM,SAASA,CAAC/N,OAAO,EAAE;EAC1BA,OAAO,GAAG4N,iBAAiB,CAAC5N,OAAO,IAAI,CAAC,CAAC,CAAC;EAE1C,IAAIA,OAAO,CAACgO,cAAc,EAAE;IAC1B,IAAIhO,OAAO,CAACqI,WAAW,EAAE;MACvB4F,OAAO,CAACC,KAAK,CACX,yFACF,CAAC;IACH;IACAlO,OAAO,CAACqI,WAAW,GAAGlF,OAAO,CAACiH,mBAAmB;EACnD;EACA,IAAIpK,OAAO,CAACJ,SAAS,IAAII,OAAO,CAACmO,SAAS,EAAE;IAC1CnO,OAAO,CAACJ,SAAS,GAAGiO,eAAe,CAAC7N,OAAO,CAACJ,SAAS,IAAII,OAAO,CAACmO,SAAS,CAAC;EAC7E,CAAC,MAAM;IACLnO,OAAO,CAACJ,SAAS,GAAGuD,OAAO,CAACvD,SAAS;EACvC;EAEAI,OAAO,CAACmI,KAAK,GAAGnI,OAAO,CAACmI,KAAK,IAAIhF,OAAO,CAACgF,KAAK;EAC9CnI,OAAO,CAACsI,SAAS,GAAGtI,OAAO,CAACsI,SAAS,IAAInF,OAAO,CAACmF,SAAS;EAC1DtI,OAAO,CAACqI,WAAW,GAAGrI,OAAO,CAACqI,WAAW,IAAIlF,OAAO,CAACkF,WAAW;EAChErI,OAAO,CAACuI,eAAe,GAAGvI,OAAO,CAACuI,eAAe,IAAIpF,OAAO,CAACoF,eAAe;EAC5EvI,OAAO,CAACM,aAAa,GAAGN,OAAO,CAACM,aAAa,IAAI6C,OAAO,CAAC7C,aAAa;EACtEN,OAAO,CAACwI,UAAU,GAAGxI,OAAO,CAACwI,UAAU,IAAIrF,OAAO,CAACqF,UAAU;EAC7D,IAAI,CAACxI,OAAO,GAAGA,OAAO;EAEtB,IAAIA,OAAO,CAACuB,GAAG,KAAK,KAAK,EAAE;IACzB,IAAI,CAACoH,SAAS,GAAG,KAAK;EACxB,CAAC,MAAM;IACL3I,OAAO,CAACuB,GAAG,GAAGvB,OAAO,CAACuB,GAAG,IAAI,CAAC,CAAC;IAC/B,IAAI,CAACoH,SAAS,GAAG,IAAIvF,SAAS,CAACpD,OAAO,CAACuB,GAAG,CAAC;EAC7C;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACAwM,SAAS,CAAC7O,SAAS,CAACuD,OAAO,GAAG,UAAUa,IAAI,EAAE;EAC5C;EACAA,IAAI,GAAGA,IAAI,IAAI,EAAE;EACjBA,IAAI,GAAGA,IAAI,CAACZ,QAAQ,CAAC,CAAC;EACtB,IAAI,CAACY,IAAI,EAAE,OAAO,EAAE;EAEpB,IAAIX,EAAE,GAAG,IAAI;EACb,IAAI3C,OAAO,GAAG2C,EAAE,CAAC3C,OAAO;EACxB,IAAIJ,SAAS,GAAGI,OAAO,CAACJ,SAAS;EACjC,IAAIuI,KAAK,GAAGnI,OAAO,CAACmI,KAAK;EACzB,IAAIE,WAAW,GAAGrI,OAAO,CAACqI,WAAW;EACrC,IAAIC,SAAS,GAAGtI,OAAO,CAACsI,SAAS;EACjC,IAAIC,eAAe,GAAGvI,OAAO,CAACuI,eAAe;EAC7C,IAAIjI,aAAa,GAAGN,OAAO,CAACM,aAAa;EACzC,IAAIkI,UAAU,GAAGxI,OAAO,CAACwI,UAAU;EACnC,IAAIG,SAAS,GAAGhG,EAAE,CAACgG,SAAS;;EAE5B;EACA,IAAI3I,OAAO,CAACqL,cAAc,EAAE;IAC1B/H,IAAI,GAAGH,OAAO,CAACkI,cAAc,CAAC/H,IAAI,CAAC;EACrC;;EAEA;EACA,IAAI,CAACtD,OAAO,CAACoO,eAAe,EAAE;IAC5B9K,IAAI,GAAGH,OAAO,CAACgI,eAAe,CAAC7H,IAAI,CAAC;EACtC;;EAEA;EACA,IAAI+K,kBAAkB,GAAG,KAAK;EAC9B,IAAIrO,OAAO,CAACqO,kBAAkB,EAAE;IAC9BA,kBAAkB,GAAGlL,OAAO,CAACkH,YAAY,CACvCrK,OAAO,CAACqO,kBAAkB,EAC1BhG,WACF,CAAC;IACDA,WAAW,GAAGgG,kBAAkB,CAAChG,WAAW;EAC9C;EAEA,IAAI+C,OAAO,GAAGiC,QAAQ,CACpB/J,IAAI,EACJ,UAAUV,cAAc,EAAEC,QAAQ,EAAEuF,GAAG,EAAE9E,IAAI,EAAEuH,SAAS,EAAE;IACxD,IAAIyD,IAAI,GAAG;MACT1L,cAAc,EAAEA,cAAc;MAC9BC,QAAQ,EAAEA,QAAQ;MAClBgI,SAAS,EAAEA,SAAS;MACpB9H,OAAO,EAAEtE,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACQ,SAAS,EAAEwI,GAAG;IAC9D,CAAC;;IAED;IACA,IAAIrG,GAAG,GAAGoG,KAAK,CAACC,GAAG,EAAE9E,IAAI,EAAEgL,IAAI,CAAC;IAChC,IAAI,CAACb,MAAM,CAAC1L,GAAG,CAAC,EAAE,OAAOA,GAAG;IAE5B,IAAIuM,IAAI,CAACvL,OAAO,EAAE;MAChB,IAAIuL,IAAI,CAACzD,SAAS,EAAE;QAClB,OAAO,IAAI,GAAGzC,GAAG,GAAG,GAAG;MACzB;MAEA,IAAImG,KAAK,GAAGb,QAAQ,CAACpK,IAAI,CAAC;MAC1B,IAAIkL,aAAa,GAAG5O,SAAS,CAACwI,GAAG,CAAC;MAClC,IAAIqG,SAAS,GAAGnB,SAAS,CAACiB,KAAK,CAACjL,IAAI,EAAE,UAAUxD,IAAI,EAAEC,KAAK,EAAE;QAC3D;QACA,IAAI2O,WAAW,GAAGlB,CAAC,CAAChN,OAAO,CAACgO,aAAa,EAAE1O,IAAI,CAAC,KAAK,CAAC,CAAC;QACvD,IAAIiC,GAAG,GAAGuG,SAAS,CAACF,GAAG,EAAEtI,IAAI,EAAEC,KAAK,EAAE2O,WAAW,CAAC;QAClD,IAAI,CAACjB,MAAM,CAAC1L,GAAG,CAAC,EAAE,OAAOA,GAAG;QAE5B,IAAI2M,WAAW,EAAE;UACf;UACA3O,KAAK,GAAGO,aAAa,CAAC8H,GAAG,EAAEtI,IAAI,EAAEC,KAAK,EAAE4I,SAAS,CAAC;UAClD,IAAI5I,KAAK,EAAE;YACT,OAAOD,IAAI,GAAG,IAAI,GAAGC,KAAK,GAAG,GAAG;UAClC,CAAC,MAAM;YACL,OAAOD,IAAI;UACb;QACF,CAAC,MAAM;UACL;UACAiC,GAAG,GAAGwG,eAAe,CAACH,GAAG,EAAEtI,IAAI,EAAEC,KAAK,EAAE2O,WAAW,CAAC;UACpD,IAAI,CAACjB,MAAM,CAAC1L,GAAG,CAAC,EAAE,OAAOA,GAAG;UAC5B;QACF;MACF,CAAC,CAAC;;MAEF;MACAuB,IAAI,GAAG,GAAG,GAAG8E,GAAG;MAChB,IAAIqG,SAAS,EAAEnL,IAAI,IAAI,GAAG,GAAGmL,SAAS;MACtC,IAAIF,KAAK,CAACZ,OAAO,EAAErK,IAAI,IAAI,IAAI;MAC/BA,IAAI,IAAI,GAAG;MACX,OAAOA,IAAI;IACb,CAAC,MAAM;MACL;MACAvB,GAAG,GAAGsG,WAAW,CAACD,GAAG,EAAE9E,IAAI,EAAEgL,IAAI,CAAC;MAClC,IAAI,CAACb,MAAM,CAAC1L,GAAG,CAAC,EAAE,OAAOA,GAAG;MAC5B,OAAOyG,UAAU,CAAClF,IAAI,CAAC;IACzB;EACF,CAAC,EACDkF,UACF,CAAC;;EAED;EACA,IAAI6F,kBAAkB,EAAE;IACtBjD,OAAO,GAAGiD,kBAAkB,CAACrD,MAAM,CAACI,OAAO,CAAC;EAC9C;EAEA,OAAOA,OAAO;AAChB,CAAC;AAED,IAAI7H,GAAG,GAAGwK,SAAS;;AAEnB;AACA;AACA;AACA;AACA;;AAEC,WAAU7K,MAAM,EAAE3D,OAAO,EAAE;EAC3B,IAAI4D,OAAO,GAAG3D,UAAU;EACxB,IAAI+N,MAAM,GAAG5B,QAAQ;EACrB,IAAIoC,SAAS,GAAGxK,GAAG;;EAEnB;AACD;AACA;AACA;AACA;AACA;AACA;EACC,SAASoL,SAASA,CAACrL,IAAI,EAAEtD,OAAO,EAAE;IAChC,IAAIuD,GAAG,GAAG,IAAIwK,SAAS,CAAC/N,OAAO,CAAC;IAChC,OAAOuD,GAAG,CAACd,OAAO,CAACa,IAAI,CAAC;EAC1B;EAEA/D,OAAO,GAAG2D,MAAM,CAAC3D,OAAO,GAAGoP,SAAS;EACpCpP,OAAO,CAACoP,SAAS,GAAGA,SAAS;EAC7BpP,OAAO,CAACwO,SAAS,GAAGA,SAAS;EAE7B,CAAC,YAAY;IACX,KAAK,IAAIlP,CAAC,IAAIsE,OAAO,EAAE;MACrB5D,OAAO,CAACV,CAAC,CAAC,GAAGsE,OAAO,CAACtE,CAAC,CAAC;IACzB;IACA,KAAK,IAAI8B,CAAC,IAAI4M,MAAM,EAAE;MACpBhO,OAAO,CAACoB,CAAC,CAAC,GAAG4M,MAAM,CAAC5M,CAAC,CAAC;IACxB;EACF,CAAC,EAAE,CAAC;;EAEJ;EACA,SAASiO,WAAWA,CAAA,EAAG;IACrB,OACE,OAAOC,IAAI,KAAK,WAAW,IAC3B,OAAOC,0BAA0B,KAAK,WAAW,IACjDD,IAAI,YAAYC,0BAA0B;EAE9C;EACA,IAAIF,WAAW,CAAC,CAAC,EAAE;IACjBC,IAAI,CAACF,SAAS,GAAGzL,MAAM,CAAC3D,OAAO;EACjC;AACD,CAAC,EAAED,KAAK,EAAEA,KAAK,CAACC,OAAO,CAAC;AAExB,IAAIwP,UAAU,GAAGzP,KAAK,CAACC,OAAO;;AAE9B;AACA;AACA;AACA;AACA;AACA,IAAIyP,aAAa,GAAG,SAAAA,CAAUjP,KAAK,EAAE;EACjC,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,EAAE;IAC7C,OAAO,KAAK;EAChB;EACA,IAAItB,MAAM,CAACS,SAAS,CAACwD,QAAQ,CAACtD,IAAI,CAACW,KAAK,CAAC,KAAK,iBAAiB,EAAE;IAC7D,OAAO,KAAK;EAChB;EACA,IAAIkP,KAAK,GAAGxQ,MAAM,CAACyQ,cAAc,CAACnP,KAAK,CAAC;EACxC,IAAIkP,KAAK,KAAK,IAAI,EAAE;IAChB,OAAO,IAAI;EACf;EACA,OAAOxQ,MAAM,CAACyQ,cAAc,CAACD,KAAK,CAAC,KAAK,IAAI,EAAE;IAC1CA,KAAK,GAAGxQ,MAAM,CAACyQ,cAAc,CAACD,KAAK,CAAC;EACxC;EACA,OAAOxQ,MAAM,CAACyQ,cAAc,CAACnP,KAAK,CAAC,KAAKkP,KAAK;AACjD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,IAAIE,SAAS,GAAG,aAAe,YAAY;EACvC,SAASA,SAASA,CAACC,aAAa,EAAEC,cAAc,EAAE;IAC9C,IAAIC,KAAK,GAAG,IAAI;IAChB;IACA,IAAI,CAACC,eAAe,GAAG;MACnBrL,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC;MAC9BC,IAAI,EAAE,CAAC,OAAO,CAAC;MACfG,OAAO,EAAE,CAAC,OAAO,CAAC;MAClBC,KAAK,EAAE,CAAC,OAAO,CAAC;MAChBC,KAAK,EAAE,CAAC,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,CAAC;MAC3DC,CAAC,EAAE,EAAE;MACLI,UAAU,EAAE,CAAC,OAAO,CAAC;MACrBC,EAAE,EAAE,EAAE;MACNI,IAAI,EAAE,CAAC,OAAO,CAAC;MACfG,EAAE,EAAE,CAAC,OAAO,CAAC;MACbC,GAAG,EAAE,CAAC,OAAO,CAAC;MACdC,OAAO,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC;MAC1BC,GAAG,EAAE,CAAC,OAAO,EAAE,aAAa,EAAE,YAAY,EAAE,OAAO,CAAC;MACpDC,EAAE,EAAE,CAAC,OAAO,CAAC;MACbC,EAAE,EAAE,CAAC,OAAO,CAAC;MACbC,EAAE,EAAE,EAAE;MACNC,UAAU,EAAE,CAAC,OAAO,CAAC;MACrBC,MAAM,EAAE,CAAC,OAAO,CAAC;MACjBC,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC;MACxCC,MAAM,EAAE,CAAC,OAAO,CAAC;MACjBC,EAAE,EAAE,CAAC,OAAO,CAAC;MACbC,EAAE,EAAE,CAAC,OAAO,CAAC;MACbC,EAAE,EAAE,CAAC,OAAO,CAAC;MACbC,EAAE,EAAE,CAAC,OAAO,CAAC;MACbC,EAAE,EAAE,CAAC,OAAO,CAAC;MACbC,EAAE,EAAE,CAAC,OAAO,CAAC;MACbC,MAAM,EAAE,CAAC,OAAO,CAAC;MACjBC,EAAE,EAAE,EAAE;MACN1H,CAAC,EAAE,EAAE;MACL2H,GAAG,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC;MACzDE,EAAE,EAAE,EAAE;MACN8I,IAAI,EAAE,CAAC,OAAO,CAAC;MACf7I,IAAI,EAAE,CAAC,OAAO,CAAC;MACfC,GAAG,EAAE,CAAC,OAAO,CAAC;MACdC,EAAE,EAAE,EAAE;MACN5H,CAAC,EAAE,CAAC,OAAO,CAAC;MACZ6H,GAAG,EAAE,CAAC,OAAO,CAAC;MACdC,OAAO,EAAE,CAAC,OAAO,CAAC;MAClBlF,MAAM,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC;MAChCoF,IAAI,EAAE,CAAC,aAAa,EAAE,YAAY,EAAE,OAAO,CAAC;MAC5CI,MAAM,EAAE,EAAE;MACVH,GAAG,EAAE,CAAC,OAAO,CAAC;MACdC,OAAO,EAAE,CAAC,OAAO,CAAC;MAClBC,GAAG,EAAE,CAAC,OAAO,CAAC;MACdG,KAAK,EAAE,CAAC,QAAQ,EAAE,aAAa,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC;MAC3EC,KAAK,EAAE,EAAE;MACTK,EAAE,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC;MAC1CJ,EAAE,EAAE,CACA,OAAO,EACP,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,OAAO,EACP,QAAQ,EACR,OAAO,CACV;MACDE,EAAE,EAAE,CACA,OAAO,EACP,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,OAAO,EACP,QAAQ,EACR,OAAO,CACV;MACD8H,IAAI,EAAE,CAAC,OAAO,CAAC;MACf1H,CAAC,EAAE,EAAE;MACLC,EAAE,EAAE,EAAE;MACNC,KAAK,EAAE,CACH,UAAU,EACV,UAAU,EACV,QAAQ,EACR,MAAM,EACN,OAAO,EACP,QAAQ,EACR,SAAS,EACT,OAAO;IAEf,CAAC;IACD,IAAI,CAACyH,kBAAkB,GAAGlR,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEuQ,UAAU,CAAC/K,sBAAsB,CAAC,CAAC,CAAC,EAAE;MAAE,aAAa,EAAE,IAAI;MAAE,YAAY,EAAE,IAAI;MAAE,MAAM,EAAE,IAAI;MAAE,YAAY,EAAE,IAAI;MAAE,gBAAgB,EAAE,IAAI;MAAE,WAAW,EAAE,IAAI;MAAE,WAAW,EAAE,IAAI;MAAE,aAAa,EAAE,IAAI;MAAE,WAAW,EAAE,IAAI;MAAE,OAAO,EAAE,IAAI;MAAE,KAAK,EAAE,IAAI;MAAE,MAAM,EAAE,IAAI;MAAE,WAAW,EAAE,IAAI;MAAE,mBAAmB,EAAE,IAAI;MAAE,gBAAgB,EAAE,IAAI;MAAE,gBAAgB,EAAE,IAAI;MAAE,aAAa,EAAE,IAAI;MAAE,iBAAiB,EAAE,IAAI;MAAE,mBAAmB,EAAE,IAAI;MAAE,UAAU,EAAE,IAAI;MAAE,cAAc,EAAE,IAAI;MAAE,gBAAgB,EAAE,IAAI;MAAE,eAAe,EAAE,IAAI;MAAE,qBAAqB,EAAE,IAAI;MAAE,uBAAuB,EAAE,IAAI;MAAE,oBAAoB,EAAE,IAAI;MAAE,iBAAiB,EAAE,IAAI;MAAE,eAAe,EAAE,IAAI;MAAE,cAAc,EAAE,IAAI;MAAE,aAAa,EAAE,IAAI;MAAE,UAAU,EAAE;IAAK,CAAC,CAAC;IACvvB,IAAI,CAAC2L,gBAAgB,GAAG,CACpB,MAAM,EACN,OAAO,EACP,QAAQ,EACR,OAAO,EACP,KAAK,EACL,MAAM,EACN,UAAU,EACV,kBAAkB,EAClB,yBAAyB,EACzB,kBAAkB,EAClB,kBAAkB,EAClB,kBAAkB,EAClB,iBAAiB,EACjB,mBAAmB,EACnB,qBAAqB,EACrB,OAAO,EACP,eAAe,EACf,UAAU,EACV,UAAU,EACV,WAAW,EACX,QAAQ,EACR,QAAQ,EACR,KAAK,EACL,MAAM,EACN,QAAQ,EACR,YAAY,CACf;IACD,IAAI,CAACC,mBAAmB,GAAG;MACvBxB,eAAe,EAAE,IAAI;MACrB9N,aAAa,EAAE,SAAAA,CAAU8H,GAAG,EAAEtI,IAAI,EAAEC,KAAK,EAAE4I,SAAS,EAAE;QAClD;QACA;QACA;QACA,IAAKP,GAAG,KAAK,GAAG,IAAItI,IAAI,KAAK,MAAM,IAC9B,CAACsI,GAAG,KAAK,KAAK,IAAIA,GAAG,KAAK,QAAQ,KAAKtI,IAAI,KAAK,KAAM,EAAE;UACzD,OAAOwP,KAAK,CAACO,WAAW,CAAC9P,KAAK,CAAC;QACnC;QACA,OAAOgP,UAAU,CAACzO,aAAa,CAAC8H,GAAG,EAAEtI,IAAI,EAAEC,KAAK,EAAE4I,SAAS,CAAC;MAChE;IACJ,CAAC;IACD,IAAI,CAACmH,UAAU,GAAG;MACd,GAAG,EAAE,QAAQ;MACb,GAAG,EAAE,QAAQ;MACb,GAAG,EAAE,QAAQ;MACb,GAAG,EAAE,QAAQ;MACb,GAAG,EAAE,QAAQ;MACb,GAAG,EAAE;IACT,CAAC;IACD,IAAIC,gBAAgB;IACpB,IAAIX,aAAa,IAAI,CAACC,cAAc,EAAE;MAClC;MACAU,gBAAgB,GAAGX,aAAa;IACpC,CAAC,MACI,IAAIA,aAAa,IAAIC,cAAc,EAAE;MACtC;MACAU,gBAAgB,GAAGtR,MAAM,CAACuR,MAAM,CAAC,IAAI,CAACJ,mBAAmB,CAAC;MAC1DG,gBAAgB,CAACxO,GAAG,GAAG;QAAE3B,SAAS,EAAE,IAAI,CAAC8P;MAAmB,CAAC;MAC7DjR,MAAM,CAACwR,IAAI,CAACb,aAAa,CAAC,CAACvO,OAAO,CAAC,UAAUqP,GAAG,EAAE;QAC9C,IAAIA,GAAG,KAAK,WAAW,EAAE;UACrB;UACAH,gBAAgB,CAACnQ,SAAS,GAAG0P,KAAK,CAACa,qBAAqB,CAAC,CACrDb,KAAK,CAACC,eAAe,EACrBH,aAAa,CAACxP,SAAS,IAAI,CAAC,CAAC,CAChC,CAAC;QACN,CAAC,MACI,IAAIsQ,GAAG,KAAK,KAAK,EAAE;UACpB,IAAIE,eAAe,GAAGhB,aAAa,CAAC7N,GAAG,CAAC3B,SAAS;UACjD,IAAIwQ,eAAe,IAAI,IAAI,IAAIhB,aAAa,CAAC7N,GAAG,YAAY9C,MAAM,EAAE;YAChEA,MAAM,CAACwR,IAAI,CAACG,eAAe,CAAC,CAACvP,OAAO,CAAC,UAAUwP,IAAI,EAAE;cACjD,OAAQN,gBAAgB,CAACxO,GAAG,CAAC3B,SAAS,CAACyQ,IAAI,CAAC,GACxCD,eAAe,CAACC,IAAI,CAAC;YAC7B,CAAC,CAAC;UACN;QACJ,CAAC,MACI;UACDN,gBAAgB,CAACG,GAAG,CAAC,GAAGd,aAAa,CAACc,GAAG,CAAC;QAC9C;MACJ,CAAC,CAAC;IACN,CAAC,MACI;MACD;MACAH,gBAAgB,GAAGtR,MAAM,CAACuR,MAAM,CAAC,IAAI,CAACJ,mBAAmB,CAAC;MAC1DG,gBAAgB,CAACnQ,SAAS,GAAG,IAAI,CAAC2P,eAAe;MACjDQ,gBAAgB,CAACxO,GAAG,GAAG;QAAE3B,SAAS,EAAE,IAAI,CAAC8P;MAAmB,CAAC;IACjE;IACA,IAAI,CAACK,gBAAgB,GAAGA,gBAAgB;IACxC;IACA,IAAI,CAACO,UAAU,GAAG,IAAIvB,UAAU,CAAChB,SAAS,CAACgC,gBAAgB,CAAC;EAChE;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIZ,SAAS,CAACjQ,SAAS,CAACqR,QAAQ,GAAG,UAAUxQ,KAAK,EAAEC,OAAO,EAAE;IACrD,IAAIA,OAAO,KAAK,KAAK,CAAC,EAAE;MAAEA,OAAO,GAAG,CAAC,CAAC;IAAE;IACxC,QAAQ,OAAOD,KAAK;MAChB,KAAK,QAAQ;QACT,IAAIyQ,KAAK,CAACzQ,KAAK,CAAC,IAAI,CAAC0Q,QAAQ,CAAC1Q,KAAK,CAAC,EAAE;UAClC,OAAO,IAAI;QACf;QACA,OAAOA,KAAK;MAChB,KAAK,SAAS;QACV,OAAOA,KAAK;MAChB,KAAK,QAAQ;QACT,OAAO,IAAI,CAACuQ,UAAU,CAAC7N,OAAO,CAAC1C,KAAK,CAAC;MACzC,KAAK,QAAQ;QACT,OAAO,IAAI,CAAC2Q,kBAAkB,CAAC3Q,KAAK,EAAEC,OAAO,CAAC;MAClD;QACI,IAAIA,OAAO,CAAC2Q,cAAc,IAAI,OAAO5Q,KAAK,KAAK,WAAW,EAAE;UACxD;QACJ;QACA,OAAO,IAAI;IACnB;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACIoP,SAAS,CAACjQ,SAAS,CAAC2Q,WAAW,GAAG,UAAU9P,KAAK,EAAEC,OAAO,EAAE;IACxD,IAAI4Q,EAAE,GAAG,CAAC5Q,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAGA,OAAO,GAAG,CAAC,CAAC,EAAE6Q,kBAAkB;MAAEA,kBAAkB,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,GAAGA,EAAE;IACnI,IAAIE,QAAQ,GAAG,IAAI,CAACC,KAAK,CAAChR,KAAK,CAACiR,SAAS,CAAC,CAAC,EAAEjR,KAAK,CAACS,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;IACjE,IAAIyQ,SAAS,GAAGlR,KAAK,KAAK,GAAG;IAC7B,IAAImR,aAAa,GAAG,IAAI,CAAC9Q,IAAI,CAACL,KAAK,CAAC;IACpC,IAAIoR,eAAe,GAAGL,QAAQ,IAAI,IAAI,CAACnB,gBAAgB,CAACnP,OAAO,CAACsQ,QAAQ,CAAC/E,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC5F,IAAIkF,SAAS,IAAIC,aAAa,IAAIC,eAAe,EAAE;MAC/C,OAAOpC,UAAU,CAAC7F,eAAe,CAACnJ,KAAK,CAAC;IAC5C;IACA,IAAI,CAAC+Q,QAAQ,IAAI,CAACD,kBAAkB,EAAE;MAClC,OAAO9B,UAAU,CAAC7F,eAAe,CAAC,UAAU,CAACkI,MAAM,CAACrR,KAAK,CAAC,CAAC;IAC/D;IACA,OAAO,EAAE;EACb,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIoP,SAAS,CAACjQ,SAAS,CAACmS,qBAAqB,GAAG,UAAUjJ,GAAG,EAAEkJ,SAAS,EAAEvR,KAAK,EAAE4I,SAAS,EAAE;IACpF;IACA,IAAI,OAAO,IAAI,CAACoH,gBAAgB,CAACzP,aAAa,KAAK,UAAU,EAAE;MAC3D,OAAO,IAAI,CAACyP,gBAAgB,CAACzP,aAAa,CAAC8H,GAAG,EAAEkJ,SAAS,EAAEvR,KAAK;MAChE;MACA4I,SAAS,CAAC;IACd;IACA;IACA;IACA,OAAOoG,UAAU,CAACzO,aAAa,CAAC8H,GAAG,EAAEkJ,SAAS,EAAEvR,KAAK,EAAE4I,SAAS,CAAC;EACrE,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACIwG,SAAS,CAACjQ,SAAS,CAACqS,QAAQ,GAAG,UAAUxR,KAAK,EAAEC,OAAO,EAAE;IACrD,IAAIA,OAAO,KAAK,KAAK,CAAC,EAAE;MAAEA,OAAO,GAAG,CAAC,CAAC;IAAE;IACxC,IAAIwR,SAAS,GAAG,IAAI,CAACjB,QAAQ,CAACxQ,KAAK,EAAEC,OAAO,CAAC;IAC7C,OAAO;MACHyR,OAAO,EAAE1R,KAAK,KAAKyR,SAAS;MAC5BA,SAAS,EAAEA;IACf,CAAC;EACL,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACIrC,SAAS,CAACjQ,SAAS,CAACwS,UAAU,GAAG,UAAU3R,KAAK,EAAE;IAC9C,IAAIuP,KAAK,GAAG,IAAI;IAChB,OAAOpO,MAAM,CAACnB,KAAK,CAAC,CAACoB,OAAO,CAAC,YAAY,EAAE,UAAUvC,CAAC,EAAE;MACpD,OAAO0Q,KAAK,CAACQ,UAAU,CAAClR,CAAC,CAAC;IAC9B,CAAC,CAAC;EACN,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACIuQ,SAAS,CAACjQ,SAAS,CAACyS,eAAe,GAAG,UAAU5R,KAAK,EAAE;IACnD,IAAI6R,cAAc,GAAG,eAAe;IACpC,OAAO1Q,MAAM,CAACnB,KAAK,CAAC,CAACoB,OAAO,CAAC,cAAc,EAAE,UAAUa,CAAC,EAAE6P,GAAG,EAAE;MAC3D,OAAO,CAACD,cAAc,CAACxR,IAAI,CAAC4B,CAAC,CAAC,GACxB,KAAK,CAACoP,MAAM,CAACU,MAAM,CAAC/R,KAAK,CAACmK,UAAU,CAAC2H,GAAG,CAAC,CAAC,CAACnP,QAAQ,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,GAC7DV,CAAC;IACX,CAAC,CAAC;EACN,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACImN,SAAS,CAACjQ,SAAS,CAACiR,qBAAqB,GAAG,UAAU4B,OAAO,EAAE;IAC3D,IAAIC,QAAQ,GAAG,CAAC,CAAC;IACjBD,OAAO,CAAClR,OAAO,CAAC,UAAUwB,GAAG,EAAE;MAC3B5D,MAAM,CAACwR,IAAI,CAAC5N,GAAG,CAAC,CAACxB,OAAO,CAAC,UAAUqP,GAAG,EAAE;QACpC,IAAItP,KAAK,CAAC6J,OAAO,CAACpI,GAAG,CAAC6N,GAAG,CAAC,CAAC,IAAItP,KAAK,CAAC6J,OAAO,CAACuH,QAAQ,CAAC9B,GAAG,CAAC,CAAC,EAAE;UACzD8B,QAAQ,CAAC9B,GAAG,CAAC,GAAG8B,QAAQ,CAAC9B,GAAG,CAAC,CAACkB,MAAM,CAAC/O,GAAG,CAAC6N,GAAG,CAAC,CAAC;QAClD,CAAC,MACI;UACD8B,QAAQ,CAAC9B,GAAG,CAAC,GAAG7N,GAAG,CAAC6N,GAAG,CAAC;QAC5B;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;IACF,OAAO8B,QAAQ;EACnB,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI7C,SAAS,CAACjQ,SAAS,CAACwR,kBAAkB,GAAG,UAAUrO,GAAG,EAAErC,OAAO,EAAE;IAC7D,IAAIsP,KAAK,GAAG,IAAI;IAChB,IAAItP,OAAO,KAAK,KAAK,CAAC,EAAE;MAAEA,OAAO,GAAG,CAAC,CAAC;IAAE;IACxC,IAAI;MACA,IAAIiS,YAAY,GAAG,KAAK;MACxB,IAAIC,UAAU,GAAG,KAAK,CAAC;MACvB,IAAItR,KAAK,CAAC6J,OAAO,CAACpI,GAAG,CAAC,EAAE;QACpB6P,UAAU,GAAG7P,GAAG,CAAC8P,MAAM,CAAC,UAAUC,IAAI,EAAErS,KAAK,EAAE;UAC3C,IAAIsS,UAAU,GAAG/C,KAAK,CAACiC,QAAQ,CAACxR,KAAK,EAAEC,OAAO,CAAC;UAC/C,IAAIqS,UAAU,CAACZ,OAAO,EAAE;YACpB,OAAOW,IAAI,CAAChB,MAAM,CAAC,CAACrR,KAAK,CAAC,CAAC;UAC/B,CAAC,MACI;YACDkS,YAAY,GAAG,IAAI;YACnB,OAAOG,IAAI,CAAChB,MAAM,CAAC,CAACiB,UAAU,CAACb,SAAS,CAAC,CAAC;UAC9C;QACJ,CAAC,EAAE,EAAE,CAAC;MACV,CAAC,MACI,IAAI,CAACxC,aAAa,CAAC3M,GAAG,CAAC,EAAE;QAC1B,IAAIrC,OAAO,CAAC2Q,cAAc,IAAI,OAAOtO,GAAG,KAAK,WAAW,EAAE;UACtD;QACJ;QACA,OAAO,IAAI;MACf,CAAC,MACI;QACD,IAAI4N,IAAI,GAAGxR,MAAM,CAACwR,IAAI,CAAC5N,GAAG,CAAC;QAC3B6P,UAAU,GAAGjC,IAAI,CAACkC,MAAM,CAAC,UAAUC,IAAI,EAAElC,GAAG,EAAE;UAC1C,IAAInQ,KAAK,GAAGsC,GAAG,CAAC6N,GAAG,CAAC;UACpB,IAAImC,UAAU,GAAG/C,KAAK,CAACiC,QAAQ,CAACxR,KAAK,EAAEC,OAAO,CAAC;UAC/C,IAAIqS,UAAU,CAACZ,OAAO,EAAE;YACpBW,IAAI,CAAClC,GAAG,CAAC,GAAGnQ,KAAK;UACrB,CAAC,MACI;YACDkS,YAAY,GAAG,IAAI;YACnBG,IAAI,CAAClC,GAAG,CAAC,GAAGmC,UAAU,CAACb,SAAS;UACpC;UACA,OAAOY,IAAI;QACf,CAAC,EAAE,CAAC,CAAC,CAAC;MACV;MACA,IAAIH,YAAY,EAAE;QACd,OAAOC,UAAU;MACrB;MACA,OAAO7P,GAAG;IACd,CAAC,CACD,OAAOiQ,GAAG,EAAE;MACR,OAAO,IAAI;IACf;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;EACInD,SAAS,CAACjQ,SAAS,CAAC6R,KAAK,GAAG,UAAUwB,GAAG,EAAE;IACvC;IACA;IACA,OAAOrR,MAAM,CAAChC,SAAS,CAAC8B,IAAI,GACtBuR,GAAG,CAACvR,IAAI,CAAC,CAAC,GACVuR,GAAG,CAACpR,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC;EAC3C,CAAC;EACD,OAAOgO,SAAS;AACpB,CAAC,CAAC,CAAE;AAEJ,SAASA,SAAS,EAAEA,SAAS,IAAIqD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}