{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { nextTick as e } from \"../nextTick.js\";\nimport s from \"./RemoteClient.js\";\nimport { MessageType as r, receiveMessage as t } from \"./utils.js\";\nclass n {\n  constructor() {\n    const e = document.createDocumentFragment();\n    [\"addEventListener\", \"dispatchEvent\", \"removeEventListener\"].forEach(s => {\n      this[s] = function () {\n        return e[s](...arguments);\n      };\n    });\n  }\n}\nclass a {\n  constructor() {\n    this._dispatcher = new n(), this._workerPostMessage({\n      type: r.HANDSHAKE\n    });\n  }\n  terminate() {}\n  get onmessage() {\n    return this._onmessageHandler;\n  }\n  set onmessage(e) {\n    this._onmessageHandler && this.removeEventListener(\"message\", this._onmessageHandler), this._onmessageHandler = e, e && this.addEventListener(\"message\", e);\n  }\n  get onmessageerror() {\n    return this._onmessageerrorHandler;\n  }\n  set onmessageerror(e) {\n    this._onmessageerrorHandler && this.removeEventListener(\"messageerror\", this._onmessageerrorHandler), this._onmessageerrorHandler = e, e && this.addEventListener(\"messageerror\", e);\n  }\n  get onerror() {\n    return this._onerrorHandler;\n  }\n  set onerror(e) {\n    this._onerrorHandler && this.removeEventListener(\"error\", this._onerrorHandler), this._onerrorHandler = e, e && this.addEventListener(\"error\", e);\n  }\n  postMessage(s) {\n    e(() => {\n      this._workerMessageHandler(new MessageEvent(\"message\", {\n        data: s\n      }));\n    });\n  }\n  dispatchEvent(e) {\n    return this._dispatcher.dispatchEvent(e);\n  }\n  addEventListener(e, s, r) {\n    this._dispatcher.addEventListener(e, s, r);\n  }\n  removeEventListener(e, s, r) {\n    this._dispatcher.removeEventListener(e, s, r);\n  }\n  _workerPostMessage(s) {\n    e(() => {\n      this.dispatchEvent(new MessageEvent(\"message\", {\n        data: s\n      }));\n    });\n  }\n  async _workerMessageHandler(e) {\n    const n = t(e);\n    if (n && n.type === r.OPEN) {\n      const {\n        modulePath: e,\n        jobId: t\n      } = n;\n      let a = await s.loadWorker(e);\n      a || (a = await import(/* @vite-ignore */ /* webpackIgnore: true */e));\n      const o = s.connect(a);\n      this._workerPostMessage({\n        type: r.OPENED,\n        jobId: t,\n        data: o\n      });\n    }\n  }\n}\nexport { a as default };","map":{"version":3,"names":["nextTick","e","s","MessageType","r","receiveMessage","t","n","constructor","document","createDocumentFragment","forEach","arguments","a","_dispatcher","_workerPostMessage","type","HANDSHAKE","terminate","onmessage","_onmessageHandler","removeEventListener","addEventListener","onmessageerror","_onmessageerrorHandler","onerror","_onerrorHandler","postMessage","_workerMessageHandler","MessageEvent","data","dispatchEvent","OPEN","modulePath","jobId","loadWorker","o","connect","OPENED","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/core/workers/WorkerFallback.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{nextTick as e}from\"../nextTick.js\";import s from\"./RemoteClient.js\";import{MessageType as r,receiveMessage as t}from\"./utils.js\";class n{constructor(){const e=document.createDocumentFragment();[\"addEventListener\",\"dispatchEvent\",\"removeEventListener\"].forEach((s=>{this[s]=(...r)=>e[s](...r)}))}}class a{constructor(){this._dispatcher=new n,this._workerPostMessage({type:r.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener(\"message\",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener(\"message\",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener(\"messageerror\",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener(\"messageerror\",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener(\"error\",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener(\"error\",e)}postMessage(s){e((()=>{this._workerMessageHandler(new MessageEvent(\"message\",{data:s}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,s,r){this._dispatcher.addEventListener(e,s,r)}removeEventListener(e,s,r){this._dispatcher.removeEventListener(e,s,r)}_workerPostMessage(s){e((()=>{this.dispatchEvent(new MessageEvent(\"message\",{data:s}))}))}async _workerMessageHandler(e){const n=t(e);if(n&&n.type===r.OPEN){const{modulePath:e,jobId:t}=n;let a=await s.loadWorker(e);a||(a=await import(/* @vite-ignore */ /* webpackIgnore: true */e));const o=s.connect(a);this._workerPostMessage({type:r.OPENED,jobId:t,data:o})}}}export{a as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}