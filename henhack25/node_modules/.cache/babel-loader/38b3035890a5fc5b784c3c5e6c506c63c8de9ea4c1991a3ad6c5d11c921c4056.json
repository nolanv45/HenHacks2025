{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { floatGreaterThan as e, floatLessThan as n, floatEqualAbsolute as t, floatGreaterThanOrEqual as r } from \"../../core/mathUtils.js\";\nimport { sqlOr as o } from \"../../core/sql.js\";\nfunction i(e, n) {\n  return {\n    ...n,\n    filterMode: e.mode\n  };\n}\nfunction u(e, n) {\n  return l(e, n).next().value ?? null;\n}\nfunction c(t, r, i) {\n  const u = f(t);\n  if (u && (e(r, u[0]) || n(i, u[1]))) return \"\";\n  const c = Array.from(l(t, r, i)),\n    m = a(c, r, i) ? \"1=1\" : c.map(e => e.where || \"1=1\").reduce((e, n) => o(e, n), \"\");\n  return m && \"1=1\" !== m ? m : \"\";\n}\nfunction f(e) {\n  if (\"manual\" === s(e)) return null;\n  const n = [Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY];\n  for (const {\n    minScale: t,\n    maxScale: r\n  } of e.filters) n[0] = Math.max(n[0], I(t)), n[1] = Math.min(n[1], d(r));\n  return n;\n}\nfunction* l(e, n, t) {\n  if (\"manual\" === s(e)) {\n    const n = e.filters.find(n => n.id === e.activeFilterId);\n    n && (yield n);\n  } else {\n    \"object\" == typeof n && (n = n.scale);\n    for (const r of e.filters) m(r.minScale, r.maxScale, n, t) && (yield r);\n  }\n}\nfunction a(t, r, o) {\n  if (0 === t.length) return !0;\n  const i = I(t.at(0)?.minScale),\n    u = d(t.at(-1)?.maxScale);\n  if (n(i, r) || e(u, o)) return !0;\n  for (let e = 0; e < t.length - 1; e++) {\n    const r = t[e],\n      o = t[e + 1];\n    if (n(I(o.minScale), d(r.maxScale))) return !0;\n  }\n  return !1;\n}\nfunction m(e, n, o, i) {\n  return e = I(e), o = I(o), n = d(n), !(!t(o, e) && (i ?? o) > e) && !r(n, o) && (void 0 === i || !t(i, e));\n}\nfunction s(e) {\n  return \"mode\" in e ? e.mode : e.filterMode;\n}\nfunction I(e) {\n  return e || Number.POSITIVE_INFINITY;\n}\nfunction d(e) {\n  return e || 0;\n}\nexport { i as createDisplayFilterJSONContext, c as getClauseForScaleRange, u as getEffectiveDisplayFilter };","map":{"version":3,"names":["floatGreaterThan","e","floatLessThan","n","floatEqualAbsolute","t","floatGreaterThanOrEqual","r","sqlOr","o","i","filterMode","mode","u","l","next","value","c","f","Array","from","m","a","map","where","reduce","s","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","minScale","maxScale","filters","Math","max","I","min","d","find","id","activeFilterId","scale","length","at","createDisplayFilterJSONContext","getClauseForScaleRange","getEffectiveDisplayFilter"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/displayFilterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{floatGreaterThan as e,floatLessThan as n,floatEqualAbsolute as t,floatGreaterThanOrEqual as r}from\"../../core/mathUtils.js\";import{sqlOr as o}from\"../../core/sql.js\";function i(e,n){return{...n,filterMode:e.mode}}function u(e,n){return l(e,n).next().value??null}function c(t,r,i){const u=f(t);if(u&&(e(r,u[0])||n(i,u[1])))return\"\";const c=Array.from(l(t,r,i)),m=a(c,r,i)?\"1=1\":c.map((e=>e.where||\"1=1\")).reduce(((e,n)=>o(e,n)),\"\");return m&&\"1=1\"!==m?m:\"\"}function f(e){if(\"manual\"===s(e))return null;const n=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:t,maxScale:r}of e.filters)n[0]=Math.max(n[0],I(t)),n[1]=Math.min(n[1],d(r));return n}function*l(e,n,t){if(\"manual\"===s(e)){const n=e.filters.find((n=>n.id===e.activeFilterId));n&&(yield n)}else{\"object\"==typeof n&&(n=n.scale);for(const r of e.filters)m(r.minScale,r.maxScale,n,t)&&(yield r)}}function a(t,r,o){if(0===t.length)return!0;const i=I(t.at(0)?.minScale),u=d(t.at(-1)?.maxScale);if(n(i,r)||e(u,o))return!0;for(let e=0;e<t.length-1;e++){const r=t[e],o=t[e+1];if(n(I(o.minScale),d(r.maxScale)))return!0}return!1}function m(e,n,o,i){return e=I(e),o=I(o),n=d(n),!(!t(o,e)&&(i??o)>e)&&(!r(n,o)&&(void 0===i||!t(i,e)))}function s(e){return\"mode\"in e?e.mode:e.filterMode}function I(e){return e||Number.POSITIVE_INFINITY}function d(e){return e||0}export{i as createDisplayFilterJSONContext,c as getClauseForScaleRange,u as getEffectiveDisplayFilter};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}