{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { getMetersPerUnitForSR as t } from \"../../../../../../core/unitUtils.js\";\nimport { maxRepresentableInt as e, tileSize as i } from \"../../definitions.js\";\nimport { FeatureSelection as o } from \"../../enums.js\";\nimport { CompareFunction as n, StencilOperation as s } from \"../../../../../webgl/enums.js\";\nconst r = {\n    color: {\n      write: [!0, !0, !0, !0],\n      blendMode: \"composite\"\n    },\n    depth: !1,\n    stencil: {\n      write: !1,\n      test: {\n        ref: t => t.stencilRef,\n        compare: n.EQUAL,\n        mask: 255,\n        op: {\n          fail: s.KEEP,\n          zFail: s.KEEP,\n          zPass: s.REPLACE\n        }\n      }\n    }\n  },\n  l = {\n    color: {\n      write: [!0, !0, !0, !0],\n      blendMode: \"additive\"\n    },\n    depth: !1,\n    stencil: !1\n  },\n  a = {\n    ...r,\n    color: {\n      write: [!0, !0, !0, !0],\n      blendMode: \"delete\"\n    }\n  };\nfunction c(_ref, s) {\n  let {\n    pixelRatio: e,\n    state: i,\n    displayLevel: o,\n    requiredLevel: n\n  } = _ref;\n  const r = 1 / 2 ** (o - s.key.level),\n    l = 1 / 2 ** (n - s.key.level);\n  return {\n    displayMat3: i.displayMat3,\n    displayViewMat3: i.displayViewMat3,\n    displayViewScreenMat3: s.transforms.displayViewScreenMat3,\n    viewMat3: i.viewMat3,\n    tileMat3: s.transforms.tileMat3,\n    displayZoomFactor: r,\n    requiredZoomFactor: l,\n    tileOffset: [s.x, s.y],\n    currentScale: i.scale,\n    currentZoom: o,\n    metersPerSRUnit: t(i.spatialReference),\n    rotation: i.rotation,\n    pixelRatio: e\n  };\n}\nfunction p(t) {\n  return \"highlight\" === t.passOptions?.type;\n}\nfunction f(t) {\n  return \"hittest\" === t.passOptions?.type;\n}\nfunction u(t) {\n  if (!f(t)) return null;\n  const {\n    position: e,\n    distance: i,\n    smallSymbolDistance: o,\n    smallSymbolSizeThreshold: n\n  } = t.passOptions;\n  return {\n    position: e,\n    distance: i,\n    smallSymbolDistance: o,\n    smallSymbolSizeThreshold: n\n  };\n}\nfunction d(t) {\n  if (!p(t)) return null;\n  const {\n    activeReasons: e,\n    highlightAll: i\n  } = t.passOptions;\n  return {\n    activeReasons: e,\n    highlightAll: i ? 1 : 0\n  };\n}\nfunction m(t, e, i) {\n  const o = {};\n  for (const n in i) i[n] instanceof Function ? o[n] = i[n](t, e) : o[n] = i[n];\n  return o;\n}\nfunction h(t, e) {\n  const {\n    attributeView: i,\n    context: o\n  } = t;\n  return {\n    storage: i.getUniforms(o),\n    view: c(t, e),\n    hittestRequest: u(t),\n    highlight: d(t)\n  };\n}\nfunction y(t) {\n  return {\n    inside: t.selection === o.InsideEffect,\n    outside: t.selection === o.OutsideEffect\n  };\n}\nfunction M(t) {\n  return f(t) ? l : p(t) && \"clear\" === t.passOptions.stepType ? a : r;\n}\nfunction w(t) {\n  const {\n      row: o,\n      col: n\n    } = t.key,\n    s = n * i,\n    r = o * i;\n  return {\n    tileOffsetFromLocalOrigin: [s % e, r % e],\n    maxIntsToLocalOrigin: [Math.floor(s / e), Math.floor(r / e)]\n  };\n}\nexport { M as getFeaturePipelineState, h as getFeatureUniforms, w as getLocalTileOffset, y as getSelectionDefines, c as getViewUniforms, p as isHighlight, f as isHittest, m as resolveDynamicUniforms };","map":{"version":3,"names":["getMetersPerUnitForSR","t","maxRepresentableInt","e","tileSize","i","FeatureSelection","o","CompareFunction","n","StencilOperation","s","r","color","write","blendMode","depth","stencil","test","ref","stencilRef","compare","EQUAL","mask","op","fail","KEEP","zFail","zPass","REPLACE","l","a","c","_ref","pixelRatio","state","displayLevel","requiredLevel","key","level","displayMat3","displayViewMat3","displayViewScreenMat3","transforms","viewMat3","tileMat3","displayZoomFactor","requiredZoomFactor","tileOffset","x","y","currentScale","scale","currentZoom","metersPerSRUnit","spatialReference","rotation","p","passOptions","type","f","u","position","distance","smallSymbolDistance","smallSymbolSizeThreshold","d","activeReasons","highlightAll","m","Function","h","attributeView","context","storage","getUniforms","view","hittestRequest","highlight","inside","selection","InsideEffect","outside","OutsideEffect","M","stepType","w","row","col","tileOffsetFromLocalOrigin","maxIntsToLocalOrigin","Math","floor","getFeaturePipelineState","getFeatureUniforms","getLocalTileOffset","getSelectionDefines","getViewUniforms","isHighlight","isHittest","resolveDynamicUniforms"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/featureTechniqueUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as t}from\"../../../../../../core/unitUtils.js\";import{maxRepresentableInt as e,tileSize as i}from\"../../definitions.js\";import{FeatureSelection as o}from\"../../enums.js\";import{CompareFunction as n,StencilOperation as s}from\"../../../../../webgl/enums.js\";const r={color:{write:[!0,!0,!0,!0],blendMode:\"composite\"},depth:!1,stencil:{write:!1,test:{ref:t=>t.stencilRef,compare:n.EQUAL,mask:255,op:{fail:s.KEEP,zFail:s.KEEP,zPass:s.REPLACE}}}},l={color:{write:[!0,!0,!0,!0],blendMode:\"additive\"},depth:!1,stencil:!1},a={...r,color:{write:[!0,!0,!0,!0],blendMode:\"delete\"}};function c({pixelRatio:e,state:i,displayLevel:o,requiredLevel:n},s){const r=1/2**(o-s.key.level),l=1/2**(n-s.key.level);return{displayMat3:i.displayMat3,displayViewMat3:i.displayViewMat3,displayViewScreenMat3:s.transforms.displayViewScreenMat3,viewMat3:i.viewMat3,tileMat3:s.transforms.tileMat3,displayZoomFactor:r,requiredZoomFactor:l,tileOffset:[s.x,s.y],currentScale:i.scale,currentZoom:o,metersPerSRUnit:t(i.spatialReference),rotation:i.rotation,pixelRatio:e}}function p(t){return\"highlight\"===t.passOptions?.type}function f(t){return\"hittest\"===t.passOptions?.type}function u(t){if(!f(t))return null;const{position:e,distance:i,smallSymbolDistance:o,smallSymbolSizeThreshold:n}=t.passOptions;return{position:e,distance:i,smallSymbolDistance:o,smallSymbolSizeThreshold:n}}function d(t){if(!p(t))return null;const{activeReasons:e,highlightAll:i}=t.passOptions;return{activeReasons:e,highlightAll:i?1:0}}function m(t,e,i){const o={};for(const n in i)i[n]instanceof Function?o[n]=i[n](t,e):o[n]=i[n];return o}function h(t,e){const{attributeView:i,context:o}=t;return{storage:i.getUniforms(o),view:c(t,e),hittestRequest:u(t),highlight:d(t)}}function y(t){return{inside:t.selection===o.InsideEffect,outside:t.selection===o.OutsideEffect}}function M(t){return f(t)?l:p(t)&&\"clear\"===t.passOptions.stepType?a:r}function w(t){const{row:o,col:n}=t.key,s=n*i,r=o*i;return{tileOffsetFromLocalOrigin:[s%e,r%e],maxIntsToLocalOrigin:[Math.floor(s/e),Math.floor(r/e)]}}export{M as getFeaturePipelineState,h as getFeatureUniforms,w as getLocalTileOffset,y as getSelectionDefines,c as getViewUniforms,p as isHighlight,f as isHittest,m as resolveDynamicUniforms};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}