{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { createLabelMatcherSchema as e } from \"./LabelMatcherSchema.js\";\nimport { createMatcherSchema as r } from \"./MatcherSchema.js\";\nimport { createVVBindings as t } from \"./StorageSchema.js\";\nimport { createVisualVariableUniforms as s } from \"./VisualVariablesSchema.js\";\nimport { getWebGLCapabilities as i } from \"../../../../../webgl/capabilities.js\";\nasync function a(e, {\n  subtypeField: t,\n  sublayers: s\n}) {\n  const i = await Promise.all(s.map(({\n    renderer: t\n  }) => r(e, t)));\n  return {\n    type: \"subtype\",\n    subtypeField: t,\n    renderers: s.reduce((e, {\n      subtypeCode: r\n    }, t) => ({\n      ...e,\n      [r]: i[t]\n    }), {})\n  };\n}\nfunction n(e, r) {\n  const s = i();\n  return {\n    type: \"multi\",\n    filters: e.filters,\n    capabilities: {\n      maxTextureSize: s.maxTextureSize\n    },\n    keyField: r.subtypeField,\n    target: \"feature\",\n    bindings: r.sublayers.reduce((e, {\n      renderer: r,\n      subtypeCode: s\n    }) => {\n      const i = t(r);\n      return {\n        ...e,\n        [s]: i\n      };\n    }, {})\n  };\n}\nasync function o(r, {\n  subtypeField: t,\n  sublayers: i\n}) {\n  const a = await Promise.all(i.map(t => {\n    const i = s(t.renderer),\n      a = {\n        ...t,\n        geometryType: t.geometryType ?? null\n      };\n    return e(r, a, i);\n  }));\n  return {\n    type: \"subtype\",\n    subtypeField: t,\n    renderers: i.reduce((e, {\n      subtypeCode: r\n    }, t) => ({\n      ...e,\n      [r]: a[t]\n    }), {})\n  };\n}\nasync function u(e, r, t, s) {\n  return {\n    storage: n(r, t),\n    mesh: {\n      properties: {\n        timeZone: r.timeZone,\n        displayRefreshVersion: s,\n        returnMeshObjectId: !1,\n        sortKey: null,\n        currentUser: r.currentUser\n      },\n      strategy: {\n        type: \"feature\"\n      },\n      factory: {\n        symbology: await a(e, t),\n        labels: await o(e, t)\n      }\n    },\n    expressionProperties: {\n      timeExtent: r.timeExtent?.toJSON()\n    }\n  };\n}\nexport { u as createSubtypeProcessorSchema };","map":{"version":3,"names":["createLabelMatcherSchema","e","createMatcherSchema","r","createVVBindings","t","createVisualVariableUniforms","s","getWebGLCapabilities","i","a","subtypeField","sublayers","Promise","all","map","renderer","type","renderers","reduce","subtypeCode","n","filters","capabilities","maxTextureSize","keyField","target","bindings","o","geometryType","u","storage","mesh","properties","timeZone","displayRefreshVersion","returnMeshObjectId","sortKey","currentUser","strategy","factory","symbology","labels","expressionProperties","timeExtent","toJSON","createSubtypeProcessorSchema"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/schema/processor/SubtypeProcessorSchema.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createLabelMatcherSchema as e}from\"./LabelMatcherSchema.js\";import{createMatcherSchema as r}from\"./MatcherSchema.js\";import{createVVBindings as t}from\"./StorageSchema.js\";import{createVisualVariableUniforms as s}from\"./VisualVariablesSchema.js\";import{getWebGLCapabilities as i}from\"../../../../../webgl/capabilities.js\";async function a(e,{subtypeField:t,sublayers:s}){const i=await Promise.all(s.map((({renderer:t})=>r(e,t))));return{type:\"subtype\",subtypeField:t,renderers:s.reduce(((e,{subtypeCode:r},t)=>({...e,[r]:i[t]})),{})}}function n(e,r){const s=i();return{type:\"multi\",filters:e.filters,capabilities:{maxTextureSize:s.maxTextureSize},keyField:r.subtypeField,target:\"feature\",bindings:r.sublayers.reduce(((e,{renderer:r,subtypeCode:s})=>{const i=t(r);return{...e,[s]:i}}),{})}}async function o(r,{subtypeField:t,sublayers:i}){const a=await Promise.all(i.map((t=>{const i=s(t.renderer),a={...t,geometryType:t.geometryType??null};return e(r,a,i)})));return{type:\"subtype\",subtypeField:t,renderers:i.reduce(((e,{subtypeCode:r},t)=>({...e,[r]:a[t]})),{})}}async function u(e,r,t,s){return{storage:n(r,t),mesh:{properties:{timeZone:r.timeZone,displayRefreshVersion:s,returnMeshObjectId:!1,sortKey:null,currentUser:r.currentUser},strategy:{type:\"feature\"},factory:{symbology:await a(e,t),labels:await o(e,t)}},expressionProperties:{timeExtent:r.timeExtent?.toJSON()}}}export{u as createSubtypeProcessorSchema};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}