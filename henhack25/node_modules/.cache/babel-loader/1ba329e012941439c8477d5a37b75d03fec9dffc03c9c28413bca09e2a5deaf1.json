{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../Viewpoint.js\";\nimport i from \"../../core/Accessor.js\";\nimport s from \"../../core/Error.js\";\nimport has from \"../../core/has.js\";\nimport r from \"../../core/Logger.js\";\nimport { watch as o, sync as n } from \"../../core/reactiveUtils.js\";\nimport { createScreenPoint as a } from \"../../core/screenUtils.js\";\nimport c from \"../../core/Warning.js\";\nimport { property as p } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport l from \"../../geometry/Extent.js\";\nimport { i as d } from \"../../chunks/pe.js\";\nimport v from \"../../geometry/Point.js\";\nimport { project as u } from \"../../geometry/projection.js\";\nimport { equals as m } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport g from \"./PaddedViewState.js\";\nimport { centerAt as w, setExtent as f, rotateTo as y, scaleTo as _, copy as j, extentToScale as x, angleBetween as S, resize as R } from \"./viewpointUtils.js\";\nlet z = class extends i {\n  constructor(t) {\n    super(t), this.constraints = null, this.ready = !1, this.resizeAlign = \"center\", this.addHandles([o(() => this.constraints?.version, t => {\n      this.constraints && t && this.ready && (this.state.viewpoint = this.constraints.fit(this.state.paddedViewState.viewpoint));\n    }, n)]);\n  }\n  get center() {\n    if (!this.ready) return this._get(\"center\");\n    const {\n      center: t,\n      spatialReference: e\n    } = this.state.paddedViewState;\n    return this.state.commitProperty(\"id\"), new v({\n      x: t[0],\n      y: t[1],\n      spatialReference: e\n    });\n  }\n  set center(t) {\n    if (null == t) return;\n    if (!this.ready) return void this._set(\"center\", t);\n    let e;\n    try {\n      e = this._project(t, this.state.spatialReference);\n    } catch (o) {\n      return void r.getLogger(this).error(new s(\"mapview:invalid-center\", \"could not project the value in the view's spatial reference\", {\n        input: t,\n        error: o\n      }));\n    }\n    const i = this.viewpoint;\n    w(i, i, e), this.viewpoint = i;\n  }\n  get extent() {\n    return this.ready ? (this.state.commitProperty(\"id\"), this.state.paddedViewState.extent.clone()) : this._get(\"extent\");\n  }\n  set extent(t) {\n    if (null == t) return;\n    if (!t.width || !t.height) return void r.getLogger(this).error(new s(\"mapview:invalid-extent\", \"invalid extent size\"));\n    if (!this.ready) return this._set(\"extent\", t), this._set(\"center\", void 0), this._set(\"viewpoint\", void 0), this._set(\"scale\", void 0), void this._set(\"zoom\", void 0);\n    let e;\n    try {\n      e = this._project(t, this.state.spatialReference);\n    } catch (o) {\n      return void r.getLogger(this).error(new s(\"mapview:invalid-extent\", \"could not project the value in the view's spatial reference\", {\n        error: o\n      }));\n    }\n    const i = this.viewpoint;\n    f(i, i, e, this.state.size, {\n      constraints: this.constraints\n    }), this.viewpoint = i;\n  }\n  get padding() {\n    return this.ready ? this.state.padding : this._get(\"padding\");\n  }\n  set padding(t) {\n    this.ready ? (this.state.padding = t, this._set(\"padding\", this.state.padding)) : this._set(\"padding\", t);\n  }\n  get resolution() {\n    return this.ready ? (this.state.commitProperty(\"id\"), this.state.resolution) : 0;\n  }\n  get rotation() {\n    return this.ready ? (this.state.commitProperty(\"id\"), this.state.rotation) : this._get(\"rotation\");\n  }\n  set rotation(t) {\n    if (isNaN(t)) return;\n    if (!this.ready) return void this._set(\"rotation\", t);\n    const e = this.viewpoint;\n    y(e, e, t), this.viewpoint = e;\n  }\n  get scale() {\n    return this.ready ? (this.state.commitProperty(\"id\"), this.state.scale) : this._get(\"scale\");\n  }\n  set scale(t) {\n    if (!t || isNaN(t)) return;\n    if (!this.ready) {\n      this._set(\"scale\", t), this._set(\"zoom\", void 0);\n      const e = this._get(\"extent\");\n      return void (e && (this._set(\"extent\", void 0), this._set(\"center\", e.center)));\n    }\n    const e = this.viewpoint;\n    _(e, e, t), this.viewpoint = e;\n  }\n  get viewpoint() {\n    if (!this.ready) return this._get(\"viewpoint\");\n    return this.state.paddedViewState.viewpoint.clone();\n  }\n  set viewpoint(t) {\n    if (null == t) return;\n    if (!this.ready) return this._set(\"viewpoint\", t), this._set(\"extent\", void 0), this._set(\"center\", void 0), this._set(\"zoom\", void 0), void this._set(\"scale\", void 0);\n    let i, o;\n    try {\n      i = this._project(t, this.state.spatialReference), !t.scale || isNaN(t.scale) ? o = new s(\"mapview:invalid-viewpoint\", `invalid scale value of ${t.scale}`) : null == t.targetGeometry && (o = new s(\"mapview:invalid-viewpoint\", \"geometry not defined\"));\n    } catch (a) {\n      o = new s(\"mapview:invalid-viewpoint\", \"could not project the value in the view's spatial reference\", {\n        error: a\n      });\n    }\n    if (o) return void r.getLogger(this).error(o);\n    this._scaleBeforeChangingSpatialReference = null;\n    const n = new e({\n      targetGeometry: new v(),\n      scale: 0,\n      rotation: 0\n    });\n    j(n, i), this.constraints?.constrain(n, this.state.paddedViewState.viewpoint), this.state.viewpoint = n, this._set(\"viewpoint\", n);\n  }\n  get visibleArea() {\n    return this.ready ? this.state.visibleArea : null;\n  }\n  get zoom() {\n    return this.ready ? this.constraints?.scaleToZoom(this.scale) ?? -1 : this._get(\"zoom\");\n  }\n  set zoom(t) {\n    if (!(t >= 0)) return;\n    if (!this.ready) {\n      this._set(\"zoom\", t), this._set(\"scale\", void 0);\n      const e = this._get(\"extent\");\n      return void (e && (this._set(\"extent\", void 0), this._set(\"center\", e.center)));\n    }\n    const e = this.constraints?.zoomToScale(t) ?? 0;\n    if (!e) return void this._set(\"zoom\", -1);\n    const i = this.viewpoint;\n    _(i, i, e), this.viewpoint = i, this._set(\"zoom\", this.constraints?.scaleToZoom(this.scale) ?? -1);\n  }\n  getUserStartupOptions(t) {\n    if (!t[0] && !t[1]) return {\n      center: void 0,\n      rotation: void 0,\n      scale: void 0\n    };\n    const {\n        padding: e,\n        constraints: i\n      } = this,\n      s = this._get(\"center\"),\n      r = this._get(\"extent\"),\n      o = this._get(\"scale\"),\n      n = this._get(\"rotation\"),\n      a = this._get(\"viewpoint\"),\n      c = this._get(\"zoom\"),\n      p = null != c && null != i && i.zoomToScale(c) || void 0;\n    let h, l, d;\n    const v = a?.rotation,\n      u = a?.targetGeometry;\n    \"extent\" === u?.type ? h = u : \"point\" === u?.type && (l = u, d = a?.scale);\n    const m = r ?? h;\n    return {\n      center: s ?? l ?? m?.center,\n      rotation: n ?? v,\n      scale: (o ?? p ?? d ?? (m && x(m, [t[0] - e.left - e.right, t[1] - e.top - e.bottom]))) || void 0\n    };\n  }\n  startup(t, e, i, s) {\n    const o = t.targetGeometry;\n    try {\n      this._project(t, i);\n    } catch (n) {\n      r.getLogger(this).warn(new c(\"mapview:startup-projection-error\", \"projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.\", {\n        center: o.toJSON(),\n        spatialReference: i,\n        error: n\n      })), t.targetGeometry = s || new v({\n        x: 0,\n        y: 0,\n        spatialReference: i\n      });\n    }\n    this.constraints?.fit(t), this._set(\"state\", new g({\n      padding: this.padding,\n      size: e,\n      viewpoint: t\n    })), this._set(\"ready\", !0);\n  }\n  teardown() {\n    this._set(\"ready\", !1);\n    const {\n        center: [t, e],\n        spatialReference: i,\n        rotation: s,\n        scale: r\n      } = this.state.paddedViewState,\n      o = new v({\n        x: t,\n        y: e,\n        spatialReference: i\n      });\n    this._set(\"viewpoint\", null), this._set(\"extent\", null), this._set(\"center\", o), this._set(\"zoom\", -1), this._set(\"rotation\", s), this._set(\"scale\", r), this._set(\"state\", null);\n  }\n  changeSpatialReference(t) {\n    const i = this.state.paddedViewState.clone();\n    if (null == this._scaleBeforeChangingSpatialReference) this._scaleBeforeChangingSpatialReference = i.scale;else {\n      const t = i.viewpoint.clone();\n      t.scale = this._scaleBeforeChangingSpatialReference, i.viewpoint = t;\n    }\n    const s = i.clone(),\n      [o, n] = i.center;\n    let a = null;\n    try {\n      a = this._project(new v({\n        x: o,\n        y: n,\n        spatialReference: i.spatialReference\n      }), t);\n    } catch (h) {\n      d() || r.getLogger(this).warn(new c(\"mapview:spatial-reference-change\", \"could not project the view's center to the new spatial reference\", {\n        center: a?.toJSON(),\n        spatialReference: t,\n        error: h\n      }));\n    }\n    a || (a = new v({\n      x: 0,\n      y: 0,\n      spatialReference: t\n    }));\n    const p = w(new e({\n      targetGeometry: new v(),\n      scale: 0,\n      rotation: 0\n    }), i.viewpoint, a);\n    s.viewpoint = p;\n    try {\n      const e = 20,\n        r = [i.size[0] / 2, i.size[1] / 2],\n        o = [r[0] + e, r[1]],\n        n = i.toMap([0, 0], o),\n        {\n          x: a,\n          y: c\n        } = this._project(new v({\n          x: n[0],\n          y: n[1],\n          spatialReference: i.spatialReference\n        }), t);\n      n[0] = a, n[1] = c, s.toScreen(n, n);\n      const h = S(r, n, o),\n        l = Math.hypot(n[0] - r[0], n[1] - r[1]) / e;\n      !Number.isFinite(l) || Math.abs(l) > 4 ? (p.rotation = 0, p.targetGeometry = new v({\n        x: 0,\n        y: 0,\n        spatialReference: t\n      })) : (p.scale *= l, p.scale > has(\"mapview-srswitch-adjust-rotation-scale-threshold\") ? p.rotation = 0 : p.rotation += Number.isFinite(h) ? h : 0);\n    } catch {}\n    this._get(\"constraints\")?.constrain(p, void 0), this._get(\"state\").viewpoint = p;\n  }\n  resize(t, e) {\n    if (!this.ready) return;\n    const i = this.state;\n    let s = this.state.paddedViewState.viewpoint;\n    const r = this.state.paddedViewState.size.slice();\n    i.size = [t, e], R(s, s, r, this.state.paddedViewState.size, this.resizeAlign), s = this.constraints?.constrain(s, void 0) ?? s, this.state.viewpoint = s;\n  }\n  toMap(t) {\n    if (!this.ready) return null;\n    const e = [0, 0],\n      [i, s] = this.state.toMap(e, [t.x, t.y]),\n      r = this.state.spatialReference;\n    return new v({\n      x: i,\n      y: s,\n      spatialReference: r\n    });\n  }\n  toScreen(t, e) {\n    if (!this.ready) return null;\n    const i = this._project(t, this.state.spatialReference),\n      s = [i.x, i.y];\n    return !1 === e?.pickClosestTarget || this.state.paddedViewState.wrapMapCoordinate(s, s), this.state.toScreen(s, s), a(s[0], s[1]);\n  }\n  _project(t, e) {\n    const i = t?.targetGeometry || t;\n    if (!e) return t;\n    if (!i) return null;\n    if (e.imageCoordinateSystem || i.spatialReference?.imageCoordinateSystem) return t;\n    if (m(e, i.spatialReference)) return t;\n    const r = u(i, e);\n    if (!r) throw new s(\"mapview:projection-not-possible\", \"projecting input geometry to target spatial reference returned a null value\", {\n      geometry: i,\n      spatialReference: e\n    });\n    return V(t) ? (t.targetGeometry = r, t) : r;\n  }\n};\nfunction V(t) {\n  return \"esri.Viewpoint\" === t?.declaredClass;\n}\nt([p({\n  type: v\n})], z.prototype, \"center\", null), t([p()], z.prototype, \"constraints\", void 0), t([p({\n  type: l\n})], z.prototype, \"extent\", null), t([p({\n  value: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  },\n  cast: t => ({\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...t\n  })\n})], z.prototype, \"padding\", null), t([p()], z.prototype, \"ready\", void 0), t([p()], z.prototype, \"resizeAlign\", void 0), t([p({\n  readOnly: !0\n})], z.prototype, \"resolution\", null), t([p({\n  type: Number\n})], z.prototype, \"rotation\", null), t([p({\n  type: Number\n})], z.prototype, \"scale\", null), t([p({\n  readOnly: !0\n})], z.prototype, \"state\", void 0), t([p({\n  type: e\n})], z.prototype, \"viewpoint\", null), t([p({\n  readOnly: !0\n})], z.prototype, \"visibleArea\", null), t([p()], z.prototype, \"zoom\", null), z = t([h(\"esri.views.2d.ViewStateManager\")], z);\nexport { z as ViewStateManager };","map":{"version":3,"names":["_","t","e","i","s","has","r","watch","o","sync","n","createScreenPoint","a","c","property","p","subclass","h","l","d","v","project","u","equals","m","g","centerAt","w","setExtent","f","rotateTo","y","scaleTo","copy","j","extentToScale","x","angleBetween","S","resize","R","z","constructor","constraints","ready","resizeAlign","addHandles","version","state","viewpoint","fit","paddedViewState","center","_get","spatialReference","commitProperty","_set","_project","getLogger","error","input","extent","clone","width","height","size","padding","resolution","rotation","isNaN","scale","targetGeometry","_scaleBeforeChangingSpatialReference","constrain","visibleArea","zoom","scaleToZoom","zoomToScale","getUserStartupOptions","type","left","right","top","bottom","startup","warn","toJSON","teardown","changeSpatialReference","toMap","toScreen","Math","hypot","Number","isFinite","abs","slice","pickClosestTarget","wrapMapCoordinate","imageCoordinateSystem","geometry","V","declaredClass","prototype","value","cast","readOnly","ViewStateManager"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/ViewStateManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Viewpoint.js\";import i from\"../../core/Accessor.js\";import s from\"../../core/Error.js\";import has from\"../../core/has.js\";import r from\"../../core/Logger.js\";import{watch as o,sync as n}from\"../../core/reactiveUtils.js\";import{createScreenPoint as a}from\"../../core/screenUtils.js\";import c from\"../../core/Warning.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../../geometry/Extent.js\";import{i as d}from\"../../chunks/pe.js\";import v from\"../../geometry/Point.js\";import{project as u}from\"../../geometry/projection.js\";import{equals as m}from\"../../geometry/support/spatialReferenceUtils.js\";import g from\"./PaddedViewState.js\";import{centerAt as w,setExtent as f,rotateTo as y,scaleTo as _,copy as j,extentToScale as x,angleBetween as S,resize as R}from\"./viewpointUtils.js\";let z=class extends i{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign=\"center\",this.addHandles([o((()=>this.constraints?.version),(t=>{this.constraints&&t&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))}),n)])}get center(){if(!this.ready)return this._get(\"center\");const{center:t,spatialReference:e}=this.state.paddedViewState;return this.state.commitProperty(\"id\"),new v({x:t[0],y:t[1],spatialReference:e})}set center(t){if(null==t)return;if(!this.ready)return void this._set(\"center\",t);let e;try{e=this._project(t,this.state.spatialReference)}catch(o){return void r.getLogger(this).error(new s(\"mapview:invalid-center\",\"could not project the value in the view's spatial reference\",{input:t,error:o}))}const i=this.viewpoint;w(i,i,e),this.viewpoint=i}get extent(){return this.ready?(this.state.commitProperty(\"id\"),this.state.paddedViewState.extent.clone()):this._get(\"extent\")}set extent(t){if(null==t)return;if(!t.width||!t.height)return void r.getLogger(this).error(new s(\"mapview:invalid-extent\",\"invalid extent size\"));if(!this.ready)return this._set(\"extent\",t),this._set(\"center\",void 0),this._set(\"viewpoint\",void 0),this._set(\"scale\",void 0),void this._set(\"zoom\",void 0);let e;try{e=this._project(t,this.state.spatialReference)}catch(o){return void r.getLogger(this).error(new s(\"mapview:invalid-extent\",\"could not project the value in the view's spatial reference\",{error:o}))}const i=this.viewpoint;f(i,i,e,this.state.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get(\"padding\")}set padding(t){this.ready?(this.state.padding=t,this._set(\"padding\",this.state.padding)):this._set(\"padding\",t)}get resolution(){return this.ready?(this.state.commitProperty(\"id\"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty(\"id\"),this.state.rotation):this._get(\"rotation\")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set(\"rotation\",t);const e=this.viewpoint;y(e,e,t),this.viewpoint=e}get scale(){return this.ready?(this.state.commitProperty(\"id\"),this.state.scale):this._get(\"scale\")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set(\"scale\",t),this._set(\"zoom\",void 0);const e=this._get(\"extent\");return void(e&&(this._set(\"extent\",void 0),this._set(\"center\",e.center)))}const e=this.viewpoint;_(e,e,t),this.viewpoint=e}get viewpoint(){if(!this.ready)return this._get(\"viewpoint\");return this.state.paddedViewState.viewpoint.clone()}set viewpoint(t){if(null==t)return;if(!this.ready)return this._set(\"viewpoint\",t),this._set(\"extent\",void 0),this._set(\"center\",void 0),this._set(\"zoom\",void 0),void this._set(\"scale\",void 0);let i,o;try{i=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?o=new s(\"mapview:invalid-viewpoint\",`invalid scale value of ${t.scale}`):null==t.targetGeometry&&(o=new s(\"mapview:invalid-viewpoint\",\"geometry not defined\"))}catch(a){o=new s(\"mapview:invalid-viewpoint\",\"could not project the value in the view's spatial reference\",{error:a})}if(o)return void r.getLogger(this).error(o);this._scaleBeforeChangingSpatialReference=null;const n=new e({targetGeometry:new v,scale:0,rotation:0});j(n,i),this.constraints?.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this._set(\"viewpoint\",n)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get(\"zoom\")}set zoom(t){if(!(t>=0))return;if(!this.ready){this._set(\"zoom\",t),this._set(\"scale\",void 0);const e=this._get(\"extent\");return void(e&&(this._set(\"extent\",void 0),this._set(\"center\",e.center)))}const e=this.constraints?.zoomToScale(t)??0;if(!e)return void this._set(\"zoom\",-1);const i=this.viewpoint;_(i,i,e),this.viewpoint=i,this._set(\"zoom\",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:e,constraints:i}=this,s=this._get(\"center\"),r=this._get(\"extent\"),o=this._get(\"scale\"),n=this._get(\"rotation\"),a=this._get(\"viewpoint\"),c=this._get(\"zoom\"),p=null!=c&&null!=i&&i.zoomToScale(c)||void 0;let h,l,d;const v=a?.rotation,u=a?.targetGeometry;\"extent\"===u?.type?h=u:\"point\"===u?.type&&(l=u,d=a?.scale);const m=r??h;return{center:s??l??m?.center,rotation:n??v,scale:(o??p??d??(m&&x(m,[t[0]-e.left-e.right,t[1]-e.top-e.bottom])))||void 0}}startup(t,e,i,s){const o=t.targetGeometry;try{this._project(t,i)}catch(n){r.getLogger(this).warn(new c(\"mapview:startup-projection-error\",\"projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.\",{center:o.toJSON(),spatialReference:i,error:n})),t.targetGeometry=s||new v({x:0,y:0,spatialReference:i})}this.constraints?.fit(t),this._set(\"state\",new g({padding:this.padding,size:e,viewpoint:t})),this._set(\"ready\",!0)}teardown(){this._set(\"ready\",!1);const{center:[t,e],spatialReference:i,rotation:s,scale:r}=this.state.paddedViewState,o=new v({x:t,y:e,spatialReference:i});this._set(\"viewpoint\",null),this._set(\"extent\",null),this._set(\"center\",o),this._set(\"zoom\",-1),this._set(\"rotation\",s),this._set(\"scale\",r),this._set(\"state\",null)}changeSpatialReference(t){const i=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=i.scale;else{const t=i.viewpoint.clone();t.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=t}const s=i.clone(),[o,n]=i.center;let a=null;try{a=this._project(new v({x:o,y:n,spatialReference:i.spatialReference}),t)}catch(h){d()||r.getLogger(this).warn(new c(\"mapview:spatial-reference-change\",\"could not project the view's center to the new spatial reference\",{center:a?.toJSON(),spatialReference:t,error:h}))}a||(a=new v({x:0,y:0,spatialReference:t}));const p=w(new e({targetGeometry:new v,scale:0,rotation:0}),i.viewpoint,a);s.viewpoint=p;try{const e=20,r=[i.size[0]/2,i.size[1]/2],o=[r[0]+e,r[1]],n=i.toMap([0,0],o),{x:a,y:c}=this._project(new v({x:n[0],y:n[1],spatialReference:i.spatialReference}),t);n[0]=a,n[1]=c,s.toScreen(n,n);const h=S(r,n,o),l=Math.hypot(n[0]-r[0],n[1]-r[1])/e;!Number.isFinite(l)||Math.abs(l)>4?(p.rotation=0,p.targetGeometry=new v({x:0,y:0,spatialReference:t})):(p.scale*=l,p.scale>has(\"mapview-srswitch-adjust-rotation-scale-threshold\")?p.rotation=0:p.rotation+=Number.isFinite(h)?h:0)}catch{}this._get(\"constraints\")?.constrain(p,void 0),this._get(\"state\").viewpoint=p}resize(t,e){if(!this.ready)return;const i=this.state;let s=this.state.paddedViewState.viewpoint;const r=this.state.paddedViewState.size.slice();i.size=[t,e],R(s,s,r,this.state.paddedViewState.size,this.resizeAlign),s=this.constraints?.constrain(s,void 0)??s,this.state.viewpoint=s}toMap(t){if(!this.ready)return null;const e=[0,0],[i,s]=this.state.toMap(e,[t.x,t.y]),r=this.state.spatialReference;return new v({x:i,y:s,spatialReference:r})}toScreen(t,e){if(!this.ready)return null;const i=this._project(t,this.state.spatialReference),s=[i.x,i.y];return!1===e?.pickClosestTarget||this.state.paddedViewState.wrapMapCoordinate(s,s),this.state.toScreen(s,s),a(s[0],s[1])}_project(t,e){const i=t?.targetGeometry||t;if(!e)return t;if(!i)return null;if(e.imageCoordinateSystem||i.spatialReference?.imageCoordinateSystem)return t;if(m(e,i.spatialReference))return t;const r=u(i,e);if(!r)throw new s(\"mapview:projection-not-possible\",\"projecting input geometry to target spatial reference returned a null value\",{geometry:i,spatialReference:e});return V(t)?(t.targetGeometry=r,t):r}};function V(t){return\"esri.Viewpoint\"===t?.declaredClass}t([p({type:v})],z.prototype,\"center\",null),t([p()],z.prototype,\"constraints\",void 0),t([p({type:l})],z.prototype,\"extent\",null),t([p({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],z.prototype,\"padding\",null),t([p()],z.prototype,\"ready\",void 0),t([p()],z.prototype,\"resizeAlign\",void 0),t([p({readOnly:!0})],z.prototype,\"resolution\",null),t([p({type:Number})],z.prototype,\"rotation\",null),t([p({type:Number})],z.prototype,\"scale\",null),t([p({readOnly:!0})],z.prototype,\"state\",void 0),t([p({type:e})],z.prototype,\"viewpoint\",null),t([p({readOnly:!0})],z.prototype,\"visibleArea\",null),t([p()],z.prototype,\"zoom\",null),z=t([h(\"esri.views.2d.ViewStateManager\")],z);export{z as ViewStateManager};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}