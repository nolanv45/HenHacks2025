{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport \"../../../core/has.js\";\nimport { bytesToUTF8 as e } from \"../rasterDatasets/byteStreamUtils.js\";\nimport { J as t } from \"../../../chunks/Jpg.js\";\nimport { load as n, decode as a } from \"./Lerc.js\";\nimport { decode as i } from \"./Lzw.js\";\nimport { convertNoDataToMask as s } from \"./pixelRangeUtils.js\";\nimport r from \"./TiffTags.js\";\nimport { isPlatformLittleEndian as l } from \"./utils.js\";\nimport { Z as o } from \"../../../chunks/Zlib.js\";\nconst f = [0, 1, 1, 2, 4, 8, 1, 1, 2, 4, 8, 4, 8, -1, -1, -1, 8, 8, 8],\n  u = 4294967296,\n  c = new Set([1, 5, 6, 7, 8, 34712, 34887]);\nfunction h(e, t) {\n  let n = \"unknown\";\n  return 3 === e ? n = 64 === t ? \"f64\" : \"f32\" : 1 === e ? 1 === t ? n = \"u1\" : 2 === t ? n = \"u2\" : 4 === t ? n = \"u4\" : t <= 8 ? n = \"u8\" : t <= 16 ? n = \"u16\" : t <= 32 && (n = \"u32\") : 2 === e && (t <= 8 ? n = \"s8\" : t <= 16 ? n = \"s16\" : t <= 32 && (n = \"s32\")), n;\n}\nfunction g(e) {\n  let t = null;\n  switch (e ? e.toLowerCase() : \"f32\") {\n    case \"u1\":\n    case \"u2\":\n    case \"u4\":\n    case \"u8\":\n      t = Uint8Array;\n      break;\n    case \"u16\":\n      t = Uint16Array;\n      break;\n    case \"u32\":\n      t = Uint32Array;\n      break;\n    case \"s8\":\n      t = Int8Array;\n      break;\n    case \"s16\":\n      t = Int16Array;\n      break;\n    case \"s32\":\n      t = Int32Array;\n      break;\n    case \"f64\":\n      t = Float64Array;\n      break;\n    default:\n      t = Float32Array;\n  }\n  return t;\n}\nfunction E(e, t) {\n  return {\n    x: t[0] * e.x + t[1] * e.y + t[2],\n    y: t[3] * e.x + t[4] * e.y + t[5]\n  };\n}\nfunction T(e, t) {\n  return e.get(t)?.values;\n}\nfunction I(e, t) {\n  return e.get(t)?.values;\n}\nfunction w(e, t) {\n  return e.get(t)?.values?.[0];\n}\nfunction p(e, t) {\n  return e.get(t)?.values?.[0];\n}\nfunction d(e, t, n, a = 0, i = r.tiffTags, s = 4) {\n  const l = 8 === s,\n    o = l ? C(new DataView(e, n, 8), 0, t) : new DataView(e, n, 2).getUint16(0, t),\n    f = 4 + 2 * s,\n    u = l ? 8 : 2,\n    c = u + o * f;\n  if (n + c > e.byteLength) return {\n    success: !1,\n    ifd: null,\n    nextIFD: null,\n    requiredBufferSize: c\n  };\n  const h = n + c + 4 <= e.byteLength ? v(new DataView(e, n + c, 8 === s ? 8 : 4), 0, t, 8 === s) : null,\n    g = n + u,\n    E = new Map();\n  let T,\n    I,\n    w,\n    p,\n    d,\n    m = 0,\n    y = 0;\n  for (let A = 0; A < o; A++) {\n    I = new DataView(e, g + f * A, f), w = I.getUint16(0, t), d = I.getUint16(2, t), p = r.getTagName(w, i);\n    const n = [];\n    2 === s ? (m = I.getUint16(4, t), y = I.getUint16(6, t)) : 4 === s ? (m = I.getUint32(4, t), y = I.getUint32(8, t)) : 8 === s && (m = v(I, 4, t, !0), y = v(I, 12, t, !0), n.push(I.getUint32(12, t)), n.push(I.getUint32(16, t))), T = {\n      id: w,\n      type: d,\n      valueCount: m,\n      valueOffset: y,\n      valueOffsets: n,\n      values: null\n    }, L(e, t, T, a, !1, s), E.set(p, T);\n  }\n  return {\n    success: !0,\n    ifd: E,\n    nextIFD: h,\n    requiredBufferSize: c\n  };\n}\nconst m = (e, t) => a(e, {\n  inputOffset: t\n}).pixels[0];\nfunction y(e, t) {\n  if (1 !== t && 2 !== t && 4 !== t) return e;\n  const n = new Uint8Array(e),\n    a = 8 / t,\n    i = new Uint8Array(e.byteLength * a);\n  let s = 0;\n  const r = 2 ** t - 1;\n  for (let l = 0; l < n.length; l++) {\n    const e = n[l];\n    for (let n = 0; n < a; n++) i[s++] = e << t * n >>> 8 - t & r;\n  }\n  return i.buffer;\n}\nfunction A(e, n, a) {\n  const i = new t();\n  i.parse(e), i.colorTransform = 6 === a ? -1 : 0;\n  const s = i.getData(i.width, i.height, 1 !== n && 4 !== n);\n  return new Uint8Array(s.buffer);\n}\nfunction S(e) {\n  const t = new o(e).getBytes(),\n    n = new ArrayBuffer(t.length),\n    a = new Uint8Array(n);\n  return a.set(t), a;\n}\nasync function M(e, t, a, s, r) {\n  const o = l === t,\n    f = p(a, \"BITSPERSAMPLE\"),\n    u = p(a, \"SAMPLESPERPIXEL\") ?? 1,\n    c = p(a, \"PHOTOMETRICINTERPRETATION\"),\n    E = p(a, \"SAMPLEFORMAT\") ?? 1,\n    T = h(E, f),\n    I = p(a, \"COMPRESSION\") ?? 1,\n    w = g(T);\n  let d, M, P;\n  if (34887 === I) return await n(), m(e, s);\n  if (1 === I) d = e.slice(s, s + r), M = new Uint8Array(d);else if (8 === I || 32946 === I) M = new Uint8Array(e, s, r), M = S(M), d = M.buffer;else if (6 === I) M = new Uint8Array(e, s, r), M = A(M, u, c), d = M.buffer;else if (7 === I) {\n    const t = a.get(\"JPEGTABLES\").values,\n      n = t.length - 2;\n    M = new Uint8Array(n + r - 2);\n    for (let e = 0; e < n; e++) M[e] = t[e];\n    const i = new Uint8Array(e, s + 2, r - 2);\n    for (let e = 0; e < i.length; e++) M[n + e] = i[e];\n    M = A(M, u, c), d = M.buffer;\n  } else {\n    if (5 !== I) throw new Error(\"tiff-decode: unsupport compression \" + I);\n    M = i(e, s, r, t), d = M.buffer;\n  }\n  if (d = y(d, f), \"u8\" === T || \"s8\" === T || o) P = new w(d);else {\n    d = new ArrayBuffer(M.length);\n    const e = new Uint8Array(d);\n    switch (T) {\n      case \"u16\":\n      case \"s16\":\n        for (let t = 0; t < M.length; t += 2) e[t] = M[t + 1], e[t + 1] = M[t];\n        break;\n      case \"u32\":\n      case \"s32\":\n      case \"f32\":\n        for (let t = 0; t < M.length; t += 4) e[t] = M[t + 3], e[t + 1] = M[t + 2], e[t + 2] = M[t + 1], e[t + 3] = M[t];\n    }\n    P = new w(d);\n  }\n  const O = p(a, \"PREDICTOR\") ?? 1,\n    b = p(a, \"TILEWIDTH\"),\n    x = p(a, \"TILELENGTH\");\n  if (O > 1 && (5 === I || 8 === I || 32946 === I) && b && x) {\n    const e = R(a),\n      t = new w(P.length);\n    t.set(P), P = W(t, x, b, 3 === E && 3 === O, e ? 1 : u);\n  }\n  return P;\n}\nasync function P(e, t, n) {\n  const a = I(n, \"TILEOFFSETS\");\n  if (void 0 === a) return null;\n  const i = I(n, \"TILEBYTECOUNTS\"),\n    {\n      width: s,\n      height: r,\n      pixelType: l,\n      tileWidth: o,\n      tileHeight: f\n    } = D([n]),\n    u = R(n, t),\n    c = p(n, \"SAMPLESPERPIXEL\") || t.planes,\n    h = s * r,\n    E = p(n, \"BITSPERSAMPLE\"),\n    T = 34887 === (p(n, \"COMPRESSION\") ?? 1),\n    w = g(l),\n    d = [];\n  for (let g = 0; g < c; g++) d.push(new w(h));\n  let m, y, A, S, P, O, b, x, L, N, U, k, C;\n  const G = Math.ceil(s / o),\n    v = new Uint8Array(h).fill(255);\n  let F = !1;\n  if (E % 8 == 0) if (T && u && c > 1) {\n    const l = Math.round(a.length / c);\n    for (m = 0; m < l; m++) {\n      O = Math.floor(m / G) * f, b = m % G * o, x = O * s + b;\n      for (let l = 0; l < c; l++) {\n        const u = m * c + l;\n        for (0 === i[u] ? (A = null, F = !0) : A = await M(e, t.littleEndian, n, a[u], i[u]), N = 0, L = x, k = Math.min(o, s - b), U = Math.min(f, r - O), C = d[l], S = 0; S < U; S++) for (L = x + S * s, N = S * o, P = 0; P < k; P++, L++, N++) A ? C[L] = A[N] : v[L] = 0;\n      }\n    }\n  } else for (m = 0; m < a.length; m++) for (O = Math.floor(m / G) * f, b = m % G * o, x = O * s + b, 0 === i[m] ? (A = null, F = !0) : A = await M(e, t.littleEndian, n, a[m], i[m]), N = 0, L = x, k = Math.min(o, s - b), U = Math.min(f, r - O), y = 0; y < c; y++) if (C = d[y], u || T) for (S = 0; S < U; S++) for (L = x + S * s, N = o * f * y + S * o, P = 0; P < k; P++, L++, N++) A ? C[L] = A[N] : v[L] = 0;else for (S = 0; S < U; S++) for (L = x + S * s, N = S * o * c + y, P = 0; P < k; P++, L++, N += c) A ? C[L] = A[N] : v[L] = 0;\n  return {\n    width: s,\n    height: r,\n    pixelType: l,\n    pixels: d,\n    mask: F ? v : void 0\n  };\n}\nconst O = (e, t, n) => {\n    const a = l === t.littleEndian,\n      s = I(n, \"STRIPOFFSETS\");\n    if (void 0 === s) return null;\n    const {\n        width: r,\n        height: o,\n        pixelType: f\n      } = D([n]),\n      u = p(n, \"SAMPLESPERPIXEL\") || t.planes,\n      c = p(n, \"PHOTOMETRICINTERPRETATION\"),\n      h = r * o,\n      E = p(n, \"BITSPERSAMPLE\"),\n      T = g(f),\n      w = new T(h * u),\n      d = I(n, \"STRIPBYTECOUNTS\"),\n      m = p(n, \"ROWSPERSTRIP\"),\n      M = p(n, \"COMPRESSION\") ?? 1;\n    let P, O, b, x, L, R, N, U, k;\n    if (E % 8 == 0) for (P = 0; P < s.length; P++) {\n      if (L = P * (m * r) * u, \"u8\" === f || \"s8\" === f || a) 8 === M || 32946 === M ? (N = new Uint8Array(e, s[P], d[P]), N = S(N), R = N.buffer) : 6 === M ? (N = new Uint8Array(e, s[P], d[P]), N = A(N, u, c), R = N.buffer) : 5 === M ? (N = i(e, s[P], d[P], t.littleEndian), R = N.buffer) : R = e.slice(s[P], s[P] + d[P]), R = y(R, E), x = new T(R);else {\n        switch (6 === M || 8 === M || 32946 === M ? (N = new Uint8Array(e, s[P], d[P]), U = S(N), R = U.buffer) : (R = new ArrayBuffer(d[P]), N = new Uint8Array(e, s[P], d[P]), U = new Uint8Array(R)), f) {\n          case \"u16\":\n          case \"s16\":\n            for (b = 0; b < N.length; b += 2) U[b] = N[b + 1], U[b + 1] = N[b];\n            break;\n          case \"u32\":\n          case \"s32\":\n          case \"f32\":\n            for (b = 0; b < N.length; b += 4) U[b] = N[b + 3], U[b + 1] = N[b + 2], U[b + 2] = N[b + 1], U[b + 3] = N[b];\n        }\n        R = y(R, E), x = new T(R);\n      }\n      w.set(x, L);\n    }\n    const C = [];\n    if (1 === u) C.push(w);else for (P = 0; P < u; P++) {\n      for (k = new T(h), O = 0; O < h; O++) k[O] = w[O * u + P];\n      C.push(k);\n    }\n    return {\n      width: r,\n      height: o,\n      pixelType: f,\n      pixels: C\n    };\n  },\n  b = (e, t, n) => {\n    if (!(e.length > 0 && t && n)) return null;\n    let a, i, s;\n    const r = e[0].length,\n      l = e.length,\n      o = new Uint8Array(r);\n    for (let f = 0; f < l; f++) if (a = e[f], i = t[f], s = n[f], 0 === f) for (let e = 0; e < r; e++) o[e] = a[e] < i || a[e] > s ? 0 : 1;else for (let e = 0; e < r; e++) o[e] && (o[e] = a[e] < i || a[e] > s ? 0 : 1);\n    return o;\n  },\n  x = e => {\n    if (!e) return null;\n    const t = e.match(/<Item(.*?)Item>/gi);\n    if (!t || 0 === t.length) return null;\n    const n = new Map();\n    let a, i, s, r, l;\n    for (let w = 0; w < t.length; w++) a = t[w], i = a.slice(6, a.indexOf(\">\")), r = a.indexOf(\"sample=\"), r > -1 && (l = a.slice(r + 8, a.indexOf('\"', r + 8))), r = a.indexOf(\"name=\"), r > -1 && (i = a.slice(r + 6, a.indexOf('\"', r + 6))), i && (s = a.slice(a.indexOf(\">\") + 1, a.indexOf(\"</Item>\")).trim(), null != l ? n.has(i) ? n.get(i)[l] = s : n.set(i, [s]) : n.set(i, s)), l = null;\n    const o = n.get(\"STATISTICS_MINIMUM\"),\n      f = n.get(\"STATISTICS_MAXIMUM\"),\n      u = n.get(\"STATISTICS_MEAN\"),\n      c = n.get(\"STATISTICS_STDDEV\");\n    let h = null;\n    if (o && f) {\n      h = [];\n      for (let e = 0; e < o.length; e++) h.push({\n        min: parseFloat(o[e]),\n        max: parseFloat(f[e]),\n        avg: u && parseFloat(u[e]),\n        stddev: c && parseFloat(c[e])\n      });\n    }\n    const g = n.get(\"BandName\"),\n      E = n.get(\"WavelengthMin\"),\n      T = n.get(\"WavelengthMax\");\n    let I = null;\n    if (g) {\n      I = [];\n      for (let e = 0; e < g.length; e++) I.push({\n        BandName: g[e],\n        WavelengthMin: E && parseFloat(E[e]),\n        WavelengthMax: T && parseFloat(T[e])\n      });\n    }\n    return {\n      statistics: h,\n      bandProperties: I,\n      dataType: n.get(\"DataType\"),\n      rawMetadata: n\n    };\n  };\nfunction L(e, t, n, a = 0, i = !1, s = 4) {\n  if (n.values) return !0;\n  const r = n.type,\n    l = n.valueCount;\n  let o = n.valueOffset,\n    c = [];\n  const h = f[r],\n    g = 8 * h,\n    E = l * h,\n    T = l * f[r] * 8;\n  let I, w;\n  const p = 8 === s ? 64 : 32,\n    d = n.valueOffsets;\n  if (T > p) {\n    if (E > (i ? e.byteLength : e ? e.byteLength - o + a : 0)) return n.offlineOffsetSize = [o, E], n.values = null, !1;\n  }\n  if (T <= p) {\n    if (!t) if (p <= 32) o >>>= 32 - T;else {\n      const e = d?.length ? d[0] : o >>> 0,\n        t = d?.length ? d[1] : Math.round((o - e) / u);\n      T <= 32 ? (o = e >>> 32 - T, d[0] = o) : (o = e * 2 ** (32 - T) + (t >>> 32 - T), d[0] = e, d[1] = t >>> 32 - T);\n    }\n    if (1 === l && g === p) c = [o];else if (64 === p) {\n      const e = d?.length ? d[0] : o >>> 0,\n        t = d?.length ? d[1] : Math.round((o - e) / u);\n      let n = e,\n        a = 32;\n      for (w = 1; w <= l; w++) {\n        const e = 32 - g * w % 32;\n        if (a < g) {\n          const i = n << e >>> 32 - a,\n            s = t << 32 - a >>> 32 - a;\n          n = t, c.push(i + s * 2 ** (g - a)), a -= 32 - (g - a);\n        } else c.push(n << e >>> 32 - g), a -= g;\n        0 === a && (a = 32, n = t);\n      }\n    } else for (w = 1; w <= l; w++) {\n      const e = 32 - g * w;\n      c.push(o << e >>> 32 - g);\n    }\n  } else {\n    o -= a, i && (o = 0);\n    for (let n = o; n < o + E; n += h) {\n      switch (r) {\n        case 1:\n        case 2:\n        case 7:\n          I = new DataView(e, n, 1).getUint8(0);\n          break;\n        case 3:\n          I = new DataView(e, n, 2).getUint16(0, t);\n          break;\n        case 4:\n        case 13:\n          I = new DataView(e, n, 4).getUint32(0, t);\n          break;\n        case 5:\n          I = new DataView(e, n, 4).getUint32(0, t) / new DataView(e, n + 4, 4).getUint32(0, t);\n          break;\n        case 6:\n          I = new DataView(e, n, 1).getInt8(0);\n          break;\n        case 8:\n          I = new DataView(e, n, 2).getInt16(0, t);\n          break;\n        case 9:\n          I = new DataView(e, n, 4).getInt32(0, t);\n          break;\n        case 10:\n          I = new DataView(e, n, 4).getInt32(0, t) / new DataView(e, n + 4, 4).getInt32(0, t);\n          break;\n        case 11:\n          I = new DataView(e, n, 4).getFloat32(0, t);\n          break;\n        case 12:\n          I = new DataView(e, n, 8).getFloat64(0, t);\n          break;\n        case 16:\n        case 18:\n          I = C(new DataView(e, n, 8), 0, t);\n          break;\n        case 17:\n          I = G(new DataView(e, n, 8), 0, t);\n          break;\n        default:\n          I = null;\n      }\n      c.push(I);\n    }\n  }\n  if (2 === r) {\n    let e = \"\";\n    const t = c;\n    for (c = [], w = 0; w < t.length; w++) 0 === t[w] && \"\" !== e ? (c.push(e), e = \"\") : e += String.fromCharCode(t[w]);\n    \"\" === e && 0 !== c.length || c.push(e);\n  }\n  return n.values = c, !0;\n}\nfunction D(e) {\n  const t = e[0],\n    n = p(t, \"TILEWIDTH\"),\n    a = p(t, \"TILELENGTH\"),\n    i = p(t, \"IMAGEWIDTH\"),\n    s = p(t, \"IMAGELENGTH\"),\n    r = p(t, \"BITSPERSAMPLE\"),\n    l = p(t, \"SAMPLESPERPIXEL\"),\n    o = p(t, \"SAMPLEFORMAT\") ?? 1,\n    f = h(o, r),\n    u = R(t),\n    g = T(t, \"GDAL_NODATA\");\n  let d = null;\n  g?.length && (d = g.map(e => parseFloat(e)), d.some(e => isNaN(e)) && (d = null));\n  const m = p(t, \"COMPRESSION\") ?? 1;\n  let y;\n  switch (m) {\n    case 1:\n      y = \"NONE\";\n      break;\n    case 2:\n    case 3:\n    case 4:\n    case 32771:\n      y = \"CCITT\";\n      break;\n    case 5:\n      y = \"LZW\";\n      break;\n    case 6:\n    case 7:\n      y = \"JPEG\";\n      break;\n    case 32773:\n      y = \"PACKBITS\";\n      break;\n    case 8:\n    case 32946:\n      y = \"DEFLATE\";\n      break;\n    case 34712:\n      y = \"JPEG2000\";\n      break;\n    case 34887:\n      y = \"LERC\";\n      break;\n    default:\n      y = String(m);\n  }\n  let A = !0,\n    S = \"\";\n  c.has(m) || (A = !1, S += \"unsupported tag compression \" + m), o > 3 && (A = !1, S += \"unsupported tag sampleFormat \" + o), 1 !== r && 2 !== r && 4 !== r && r % 8 != 0 && (A = !1, S += \"unsupported tag bitsPerSample \" + r);\n  const M = w(t, \"GEOASCIIPARAMS\");\n  let P;\n  if (M) {\n    const e = M.split(\"|\").find(e => e.includes(\"ESRI PE String = \")),\n      t = e ? e.replace(\"ESRI PE String = \", \"\") : \"\";\n    P = t.startsWith(\"COMPD_CS\") || t.startsWith(\"PROJCS\") || t.startsWith(\"GEOGCS\") ? {\n      wkid: null,\n      wkt: t\n    } : null;\n  }\n  const O = I(t, \"GEOTIEPOINTS\"),\n    b = I(t, \"GEOPIXELSCALE\"),\n    L = I(t, \"GEOTRANSMATRIX\"),\n    D = t.has(\"GEOKEYDIRECTORY\") ? t.get(\"GEOKEYDIRECTORY\").data : null;\n  let k,\n    C,\n    G = !1,\n    v = !1;\n  if (D) {\n    G = 2 === p(D, \"GTRasterTypeGeoKey\");\n    const e = p(D, \"GTModelTypeGeoKey\");\n    if (2 === e) {\n      const e = p(D, \"GeographicTypeGeoKey\");\n      e >= 1024 && e <= 32766 && (P = {\n        wkid: e\n      }), P || 32767 !== e || (v = !0, P = {\n        wkid: 4326\n      });\n    } else if (1 === e) {\n      const e = p(D, \"ProjectedCSTypeGeoKey\");\n      e >= 1024 && e <= 32766 && (P = {\n        wkid: e\n      });\n    }\n  }\n  if (b && O && O.length >= 6 ? (k = [b[0], 0, O[3] - O[0] * b[0], 0, -Math.abs(b[1]), O[4] - O[1] * b[1]], G && (k[2] -= .5 * k[0] + .5 * k[1], k[5] -= .5 * k[3] + .5 * k[4])) : L && 16 === L.length && (k = G ? [L[0], L[1], L[3] - .5 * L[0], L[4], L[5], L[7] - .5 * L[5]] : [L[0], L[1], L[3], L[4], L[5], L[7]]), k) {\n    const e = [{\n      x: 0,\n      y: s\n    }, {\n      x: 0,\n      y: 0\n    }, {\n      x: i,\n      y: s\n    }, {\n      x: i,\n      y: 0\n    }];\n    let t,\n      n = Number.POSITIVE_INFINITY,\n      a = Number.POSITIVE_INFINITY,\n      r = Number.NEGATIVE_INFINITY,\n      l = Number.NEGATIVE_INFINITY;\n    for (let i = 0; i < e.length; i++) t = E(e[i], k), n = t.x > n ? n : t.x, r = t.x < r ? r : t.x, a = t.y > a ? a : t.y, l = t.y < l ? l : t.y;\n    C = {\n      xmin: n,\n      xmax: r,\n      ymin: a,\n      ymax: l,\n      spatialReference: P\n    };\n  } else C = {\n    xmin: -.5,\n    ymin: .5 - s,\n    xmax: i - .5,\n    ymax: .5,\n    spatialReference: P\n  };\n  v && (C.xmax - C.xmin > 400 || Math.max(Math.abs(C.xmin), Math.abs(C.xmax)) > 361) && (P = null, C.spatialReference = null);\n  const F = N(e);\n  let B, W, H, Y, _;\n  if (F.length > 0) {\n    H = Math.round(Math.log(i / p(F[0], \"IMAGEWIDTH\")) / Math.LN2);\n    const e = F[F.length - 1];\n    Y = F.length, B = p(e, \"TILEWIDTH\"), W = p(e, \"TILELENGTH\");\n  }\n  B = null != Y && Y > 0 ? B || n : null, W = null != Y && Y > 0 ? W || a : null, n && (_ = [{\n    maxCol: Math.ceil(i / n) - 1,\n    maxRow: Math.ceil(s / a) - 1,\n    minRow: 0,\n    minCol: 0\n  }], F.forEach(e => {\n    _.push({\n      maxCol: Math.ceil(p(e, \"IMAGEWIDTH\") / p(e, \"TILEWIDTH\")) - 1,\n      maxRow: Math.ceil(p(e, \"IMAGELENGTH\") / p(e, \"TILELENGTH\")) - 1,\n      minRow: 0,\n      minCol: 0\n    });\n  }));\n  const j = w(e[0], \"GDAL_METADATA\"),\n    K = x(j);\n  S += \" \" + V({\n    width: i,\n    height: s,\n    tileWidth: n,\n    tileHeight: a,\n    planes: l,\n    ifds: e\n  });\n  const X = U(e).length === F.length + 1,\n    J = F?.length ? F.map(e => ({\n      x: i / p(e, \"IMAGEWIDTH\"),\n      y: s / p(e, \"IMAGELENGTH\")\n    })) : void 0;\n  return {\n    width: i,\n    height: s,\n    tileWidth: n,\n    tileHeight: a,\n    planes: l,\n    isBSQ: u,\n    pixelType: f,\n    compression: y,\n    noData: d,\n    hasMaskBand: X,\n    isSupported: A,\n    pyramidResolutions: J,\n    message: S,\n    extent: C,\n    isPseudoGeographic: v,\n    affine: b ? null : k,\n    firstPyramidLevel: H,\n    maximumPyramidLevel: Y,\n    pyramidBlockWidth: B,\n    pyramidBlockHeight: W,\n    tileBoundary: _,\n    metadata: K\n  };\n}\nfunction R(e, t) {\n  const n = T(e, \"PLANARCONFIGURATION\");\n  return n ? 2 === n[0] : !!t && t.isBSQ;\n}\nfunction N(e) {\n  return e.filter(e => 1 === p(e, \"NEWSUBFILETYPE\"));\n}\nfunction U(e) {\n  return e.filter(e => {\n    const t = !(4 & ~(p(e, \"NEWSUBFILETYPE\") ?? 0)),\n      n = 4 === p(e, \"PHOTOMETRICINTERPRETATION\");\n    return t && n;\n  });\n}\nfunction k(e) {\n  const {\n    littleEndian: t,\n    isBigTiff: n,\n    firstIFDPos: a\n  } = F(e);\n  let i = a;\n  const s = [];\n  do {\n    const a = B(e, t, i, 0, r.tiffTags, n ? 8 : 4);\n    if (!a.success) break;\n    s.push(a.ifd), i = a.nextIFD;\n  } while (i > 0);\n  return {\n    ...D(s),\n    littleEndian: t,\n    isBigTiff: n,\n    ifds: s,\n    pyramidIFDs: N(s),\n    maskIFDs: U(s)\n  };\n}\nfunction C(e, t, n) {\n  const a = e.getUint32(t, n),\n    i = e.getUint32(t + 4, n);\n  return n ? i * u + a : a * u + i;\n}\nfunction G(e, t, n) {\n  let a = n ? e.getInt32(t, n) : e.getUint32(t, n),\n    i = n ? e.getUint32(t + 4, n) : e.getInt32(t + 4, n);\n  const s = (n ? a : i) >= 0 ? 1 : -1;\n  n ? a *= s : i *= s;\n  return s * (n ? i * u + a : a * u + i);\n}\nfunction v(e, t, n, a) {\n  return a ? C(e, t, n) : e.getUint32(t, n);\n}\nfunction F(e) {\n  const t = new DataView(e, 0, 16),\n    n = t.getUint16(0, !1);\n  let a = null;\n  if (18761 === n) a = !0;else {\n    if (19789 !== n) throw new Error(\"unexpected endianess byte\");\n    a = !1;\n  }\n  const i = t.getUint16(2, a);\n  if (42 !== i && 43 !== i) throw new Error(\"unexpected tiff identifier\");\n  let s = 4;\n  const r = 43 === i;\n  if (r) {\n    const e = t.getUint16(s, a);\n    if (s += 2, 8 !== e) throw new Error(\"unsupported bigtiff version\");\n    if (0 !== t.getUint16(s, a)) throw new Error(\"unsupported bigtiff version\");\n    s += 2;\n  }\n  return {\n    littleEndian: a,\n    isBigTiff: r,\n    firstIFDPos: v(t, s, a, r)\n  };\n}\nfunction B(t, n, a, i = 0, s = r.tiffTags, l = 4) {\n  const o = d(t, n, a, i, s, l);\n  let f;\n  const u = o.ifd;\n  if (u) {\n    if (r.ifdTags.forEach((e, a) => {\n      u.has(a) && (f = u.get(a), f.data = d(t, n, f.valueOffset - i, i, e).ifd);\n    }), u.has(\"GEOKEYDIRECTORY\")) {\n      f = u.get(\"GEOKEYDIRECTORY\");\n      const e = f.values;\n      if (e && e.length > 4) {\n        const a = e[0] + \".\" + e[1] + \".\" + e[2];\n        f.data = d(t, n, f.valueOffset + 6 - i, i, r.geoKeys, 2).ifd, f.data && f.data.set(\"GEOTIFFVersion\", {\n          id: 0,\n          type: 2,\n          valueCount: 1,\n          valueOffset: null,\n          values: [a]\n        });\n      }\n    }\n    if (u.has(\"XMP\")) {\n      f = u.get(\"XMP\");\n      const t = f.values;\n      \"number\" == typeof t[0] && 7 === f.type && (f.values = [e(new Uint8Array(t))]);\n    }\n  }\n  return o;\n}\nfunction V(e) {\n  const {\n      width: t,\n      height: n,\n      tileHeight: a,\n      tileWidth: i\n    } = e,\n    s = e.planes,\n    r = i ? i * a : t * n,\n    l = p(e.ifds[0], \"BITSPERSAMPLE\");\n  let o = \"\";\n  return r * s > 2 ** 30 / (l > 8 ? l / 8 : 1) && (o = i ? \"tiled tiff exceeding 1 gigabits per tile is not supported\" : \"scanline tiff exceeding 1 gigabits is not supported\"), o;\n}\nfunction W(e, t, n, a, i) {\n  const s = a ? 4 : 1,\n    r = n * s * i;\n  a && (e = new Uint8Array(e.buffer));\n  for (let f = 0; f < t; f++) {\n    const t = f * r;\n    for (let n = i; n < r; n++) e[t + n] += e[t + n - i];\n  }\n  if (!a) return e;\n  const l = new Uint8Array(e.length),\n    o = n * i;\n  for (let f = 0; f < t; f++) {\n    const t = f * r;\n    for (let n = 0; n < o; n++) for (let a = 0; a < s; a++) l[t + n * s + a] = e[t + n + (s - a - 1) * o];\n  }\n  return new Float32Array(l.buffer);\n}\nasync function H(e, t) {\n  const {\n      headerInfo: n,\n      ifd: a,\n      offsets: i,\n      sizes: r\n    } = t,\n    l = [];\n  for (let s = 0; s < i.length; s++) {\n    r[s];\n    const t = await M(e, n.littleEndian, a, i[s], r[s] || e.byteLength);\n    l.push(t);\n  }\n  const o = R(a, n),\n    f = p(a, \"BITSPERSAMPLE\"),\n    u = h(p(a, \"SAMPLEFORMAT\") ?? 1, f),\n    c = p(a, \"SAMPLESPERPIXEL\") || n.planes,\n    E = g(u),\n    T = p(a, \"TILEWIDTH\"),\n    I = p(a, \"TILELENGTH\"),\n    w = p(a, \"COMPRESSION\") ?? 1,\n    d = T * I;\n  let m;\n  const y = [];\n  let A = l[0];\n  const S = 34887 === w;\n  for (let s = 0; s < c; s++) {\n    if (m = new E(d), l.length === c) A = l[s], A.length === d && (m = A);else if (A.length) if (o || S) m = A.length === d ? A : A.slice(d * s, d * (s + 1));else for (let e = 0; e < d; e++) m[e] = A[e * c + s];\n    y.push(m);\n  }\n  const P = n.noData ? n.noData[0] : t.noDataValue,\n    O = n.metadata ? n.metadata.statistics : null,\n    x = O ? O.map(e => e.min) : null,\n    L = O ? O.map(e => e.max) : null,\n    D = {\n      pixelType: u,\n      width: T,\n      height: I,\n      pixels: y,\n      noDataValue: P\n    };\n  return null != P ? s(D, P, {\n    matchAllNoData: t?.matchAllNoData\n  }) : x && L && t.applyMinMaxConstraint && (D.mask = b(y, x, L)), D;\n}\nasync function Y(e, t = {}) {\n  const n = t.pyramidLevel || 0,\n    a = t.headerInfo || k(e),\n    {\n      ifds: i,\n      noData: r\n    } = a;\n  if (0 === i.length) throw new Error(\"no valid image file directory\");\n  const l = V(a);\n  if (l) throw l;\n  let o = null;\n  const f = -1 === n ? i[i.length - 1] : i[n],\n    u = r ?? t.noDataValue;\n  if (o = a.tileWidth ? await P(e, a, f) : O(e, a, f), !o) return o;\n  if (null != u) {\n    s(o, u, {\n      matchAllNoData: null == r && t?.matchAllNoData\n    });\n  }\n  return o;\n}\nexport { Y as decode, H as decodeTileOrStrip, D as getImageInfo, U as getMaskIFDs, N as getPyramidIFDs, R as isBSQConfig, L as parseFieldValues, k as parseHeader, B as parseIFD, F as parseSignature };","map":{"version":3,"names":["bytesToUTF8","e","J","t","load","n","decode","a","i","convertNoDataToMask","s","r","isPlatformLittleEndian","l","Z","o","f","u","c","Set","h","g","toLowerCase","Uint8Array","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float64Array","Float32Array","E","x","y","T","get","values","I","w","p","d","tiffTags","C","DataView","getUint16","byteLength","success","ifd","nextIFD","requiredBufferSize","v","Map","m","A","getTagName","getUint32","push","id","type","valueCount","valueOffset","valueOffsets","L","set","inputOffset","pixels","length","buffer","parse","colorTransform","getData","width","height","S","getBytes","ArrayBuffer","M","P","slice","Error","O","b","R","W","pixelType","tileWidth","tileHeight","D","planes","N","U","k","G","Math","ceil","fill","F","round","floor","littleEndian","min","mask","match","indexOf","trim","has","parseFloat","max","avg","stddev","BandName","WavelengthMin","WavelengthMax","statistics","bandProperties","dataType","rawMetadata","offlineOffsetSize","getUint8","getInt8","getInt16","getInt32","getFloat32","getFloat64","String","fromCharCode","map","some","isNaN","split","find","includes","replace","startsWith","wkid","wkt","data","abs","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","xmin","xmax","ymin","ymax","spatialReference","B","H","Y","_","log","LN2","maxCol","maxRow","minRow","minCol","forEach","j","K","V","ifds","X","isBSQ","compression","noData","hasMaskBand","isSupported","pyramidResolutions","message","extent","isPseudoGeographic","affine","firstPyramidLevel","maximumPyramidLevel","pyramidBlockWidth","pyramidBlockHeight","tileBoundary","metadata","filter","isBigTiff","firstIFDPos","pyramidIFDs","maskIFDs","ifdTags","geoKeys","headerInfo","offsets","sizes","noDataValue","matchAllNoData","applyMinMaxConstraint","pyramidLevel","decodeTileOrStrip","getImageInfo","getMaskIFDs","getPyramidIFDs","isBSQConfig","parseFieldValues","parseHeader","parseIFD","parseSignature"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{bytesToUTF8 as e}from\"../rasterDatasets/byteStreamUtils.js\";import{J as t}from\"../../../chunks/Jpg.js\";import{load as n,decode as a}from\"./Lerc.js\";import{decode as i}from\"./Lzw.js\";import{convertNoDataToMask as s}from\"./pixelRangeUtils.js\";import r from\"./TiffTags.js\";import{isPlatformLittleEndian as l}from\"./utils.js\";import{Z as o}from\"../../../chunks/Zlib.js\";const f=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],u=4294967296,c=new Set([1,5,6,7,8,34712,34887]);function h(e,t){let n=\"unknown\";return 3===e?n=64===t?\"f64\":\"f32\":1===e?1===t?n=\"u1\":2===t?n=\"u2\":4===t?n=\"u4\":t<=8?n=\"u8\":t<=16?n=\"u16\":t<=32&&(n=\"u32\"):2===e&&(t<=8?n=\"s8\":t<=16?n=\"s16\":t<=32&&(n=\"s32\")),n}function g(e){let t=null;switch(e?e.toLowerCase():\"f32\"){case\"u1\":case\"u2\":case\"u4\":case\"u8\":t=Uint8Array;break;case\"u16\":t=Uint16Array;break;case\"u32\":t=Uint32Array;break;case\"s8\":t=Int8Array;break;case\"s16\":t=Int16Array;break;case\"s32\":t=Int32Array;break;case\"f64\":t=Float64Array;break;default:t=Float32Array}return t}function E(e,t){return{x:t[0]*e.x+t[1]*e.y+t[2],y:t[3]*e.x+t[4]*e.y+t[5]}}function T(e,t){return e.get(t)?.values}function I(e,t){return e.get(t)?.values}function w(e,t){return e.get(t)?.values?.[0]}function p(e,t){return e.get(t)?.values?.[0]}function d(e,t,n,a=0,i=r.tiffTags,s=4){const l=8===s,o=l?C(new DataView(e,n,8),0,t):new DataView(e,n,2).getUint16(0,t),f=4+2*s,u=l?8:2,c=u+o*f;if(n+c>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:c};const h=n+c+4<=e.byteLength?v(new DataView(e,n+c,8===s?8:4),0,t,8===s):null,g=n+u,E=new Map;let T,I,w,p,d,m=0,y=0;for(let A=0;A<o;A++){I=new DataView(e,g+f*A,f),w=I.getUint16(0,t),d=I.getUint16(2,t),p=r.getTagName(w,i);const n=[];2===s?(m=I.getUint16(4,t),y=I.getUint16(6,t)):4===s?(m=I.getUint32(4,t),y=I.getUint32(8,t)):8===s&&(m=v(I,4,t,!0),y=v(I,12,t,!0),n.push(I.getUint32(12,t)),n.push(I.getUint32(16,t))),T={id:w,type:d,valueCount:m,valueOffset:y,valueOffsets:n,values:null},L(e,t,T,a,!1,s),E.set(p,T)}return{success:!0,ifd:E,nextIFD:h,requiredBufferSize:c}}const m=(e,t)=>a(e,{inputOffset:t}).pixels[0];function y(e,t){if(1!==t&&2!==t&&4!==t)return e;const n=new Uint8Array(e),a=8/t,i=new Uint8Array(e.byteLength*a);let s=0;const r=2**t-1;for(let l=0;l<n.length;l++){const e=n[l];for(let n=0;n<a;n++)i[s++]=e<<t*n>>>8-t&r}return i.buffer}function A(e,n,a){const i=new t;i.parse(e),i.colorTransform=6===a?-1:0;const s=i.getData(i.width,i.height,1!==n&&4!==n);return new Uint8Array(s.buffer)}function S(e){const t=new o(e).getBytes(),n=new ArrayBuffer(t.length),a=new Uint8Array(n);return a.set(t),a}async function M(e,t,a,s,r){const o=l===t,f=p(a,\"BITSPERSAMPLE\"),u=p(a,\"SAMPLESPERPIXEL\")??1,c=p(a,\"PHOTOMETRICINTERPRETATION\"),E=p(a,\"SAMPLEFORMAT\")??1,T=h(E,f),I=p(a,\"COMPRESSION\")??1,w=g(T);let d,M,P;if(34887===I)return await n(),m(e,s);if(1===I)d=e.slice(s,s+r),M=new Uint8Array(d);else if(8===I||32946===I)M=new Uint8Array(e,s,r),M=S(M),d=M.buffer;else if(6===I)M=new Uint8Array(e,s,r),M=A(M,u,c),d=M.buffer;else if(7===I){const t=a.get(\"JPEGTABLES\").values,n=t.length-2;M=new Uint8Array(n+r-2);for(let e=0;e<n;e++)M[e]=t[e];const i=new Uint8Array(e,s+2,r-2);for(let e=0;e<i.length;e++)M[n+e]=i[e];M=A(M,u,c),d=M.buffer}else{if(5!==I)throw new Error(\"tiff-decode: unsupport compression \"+I);M=i(e,s,r,t),d=M.buffer}if(d=y(d,f),\"u8\"===T||\"s8\"===T||o)P=new w(d);else{d=new ArrayBuffer(M.length);const e=new Uint8Array(d);switch(T){case\"u16\":case\"s16\":for(let t=0;t<M.length;t+=2)e[t]=M[t+1],e[t+1]=M[t];break;case\"u32\":case\"s32\":case\"f32\":for(let t=0;t<M.length;t+=4)e[t]=M[t+3],e[t+1]=M[t+2],e[t+2]=M[t+1],e[t+3]=M[t]}P=new w(d)}const O=p(a,\"PREDICTOR\")??1,b=p(a,\"TILEWIDTH\"),x=p(a,\"TILELENGTH\");if(O>1&&(5===I||8===I||32946===I)&&b&&x){const e=R(a),t=new w(P.length);t.set(P),P=W(t,x,b,3===E&&3===O,e?1:u)}return P}async function P(e,t,n){const a=I(n,\"TILEOFFSETS\");if(void 0===a)return null;const i=I(n,\"TILEBYTECOUNTS\"),{width:s,height:r,pixelType:l,tileWidth:o,tileHeight:f}=D([n]),u=R(n,t),c=p(n,\"SAMPLESPERPIXEL\")||t.planes,h=s*r,E=p(n,\"BITSPERSAMPLE\"),T=34887===(p(n,\"COMPRESSION\")??1),w=g(l),d=[];for(let g=0;g<c;g++)d.push(new w(h));let m,y,A,S,P,O,b,x,L,N,U,k,C;const G=Math.ceil(s/o),v=new Uint8Array(h).fill(255);let F=!1;if(E%8==0)if(T&&u&&c>1){const l=Math.round(a.length/c);for(m=0;m<l;m++){O=Math.floor(m/G)*f,b=m%G*o,x=O*s+b;for(let l=0;l<c;l++){const u=m*c+l;for(0===i[u]?(A=null,F=!0):A=await M(e,t.littleEndian,n,a[u],i[u]),N=0,L=x,k=Math.min(o,s-b),U=Math.min(f,r-O),C=d[l],S=0;S<U;S++)for(L=x+S*s,N=S*o,P=0;P<k;P++,L++,N++)A?C[L]=A[N]:v[L]=0}}}else for(m=0;m<a.length;m++)for(O=Math.floor(m/G)*f,b=m%G*o,x=O*s+b,0===i[m]?(A=null,F=!0):A=await M(e,t.littleEndian,n,a[m],i[m]),N=0,L=x,k=Math.min(o,s-b),U=Math.min(f,r-O),y=0;y<c;y++)if(C=d[y],u||T)for(S=0;S<U;S++)for(L=x+S*s,N=o*f*y+S*o,P=0;P<k;P++,L++,N++)A?C[L]=A[N]:v[L]=0;else for(S=0;S<U;S++)for(L=x+S*s,N=S*o*c+y,P=0;P<k;P++,L++,N+=c)A?C[L]=A[N]:v[L]=0;return{width:s,height:r,pixelType:l,pixels:d,mask:F?v:void 0}}const O=(e,t,n)=>{const a=l===t.littleEndian,s=I(n,\"STRIPOFFSETS\");if(void 0===s)return null;const{width:r,height:o,pixelType:f}=D([n]),u=p(n,\"SAMPLESPERPIXEL\")||t.planes,c=p(n,\"PHOTOMETRICINTERPRETATION\"),h=r*o,E=p(n,\"BITSPERSAMPLE\"),T=g(f),w=new T(h*u),d=I(n,\"STRIPBYTECOUNTS\"),m=p(n,\"ROWSPERSTRIP\"),M=p(n,\"COMPRESSION\")??1;let P,O,b,x,L,R,N,U,k;if(E%8==0)for(P=0;P<s.length;P++){if(L=P*(m*r)*u,\"u8\"===f||\"s8\"===f||a)8===M||32946===M?(N=new Uint8Array(e,s[P],d[P]),N=S(N),R=N.buffer):6===M?(N=new Uint8Array(e,s[P],d[P]),N=A(N,u,c),R=N.buffer):5===M?(N=i(e,s[P],d[P],t.littleEndian),R=N.buffer):R=e.slice(s[P],s[P]+d[P]),R=y(R,E),x=new T(R);else{switch(6===M||8===M||32946===M?(N=new Uint8Array(e,s[P],d[P]),U=S(N),R=U.buffer):(R=new ArrayBuffer(d[P]),N=new Uint8Array(e,s[P],d[P]),U=new Uint8Array(R)),f){case\"u16\":case\"s16\":for(b=0;b<N.length;b+=2)U[b]=N[b+1],U[b+1]=N[b];break;case\"u32\":case\"s32\":case\"f32\":for(b=0;b<N.length;b+=4)U[b]=N[b+3],U[b+1]=N[b+2],U[b+2]=N[b+1],U[b+3]=N[b]}R=y(R,E),x=new T(R)}w.set(x,L)}const C=[];if(1===u)C.push(w);else for(P=0;P<u;P++){for(k=new T(h),O=0;O<h;O++)k[O]=w[O*u+P];C.push(k)}return{width:r,height:o,pixelType:f,pixels:C}},b=(e,t,n)=>{if(!(e.length>0&&t&&n))return null;let a,i,s;const r=e[0].length,l=e.length,o=new Uint8Array(r);for(let f=0;f<l;f++)if(a=e[f],i=t[f],s=n[f],0===f)for(let e=0;e<r;e++)o[e]=a[e]<i||a[e]>s?0:1;else for(let e=0;e<r;e++)o[e]&&(o[e]=a[e]<i||a[e]>s?0:1);return o},x=e=>{if(!e)return null;const t=e.match(/<Item(.*?)Item>/gi);if(!t||0===t.length)return null;const n=new Map;let a,i,s,r,l;for(let w=0;w<t.length;w++)a=t[w],i=a.slice(6,a.indexOf(\">\")),r=a.indexOf(\"sample=\"),r>-1&&(l=a.slice(r+8,a.indexOf('\"',r+8))),r=a.indexOf(\"name=\"),r>-1&&(i=a.slice(r+6,a.indexOf('\"',r+6))),i&&(s=a.slice(a.indexOf(\">\")+1,a.indexOf(\"</Item>\")).trim(),null!=l?n.has(i)?n.get(i)[l]=s:n.set(i,[s]):n.set(i,s)),l=null;const o=n.get(\"STATISTICS_MINIMUM\"),f=n.get(\"STATISTICS_MAXIMUM\"),u=n.get(\"STATISTICS_MEAN\"),c=n.get(\"STATISTICS_STDDEV\");let h=null;if(o&&f){h=[];for(let e=0;e<o.length;e++)h.push({min:parseFloat(o[e]),max:parseFloat(f[e]),avg:u&&parseFloat(u[e]),stddev:c&&parseFloat(c[e])})}const g=n.get(\"BandName\"),E=n.get(\"WavelengthMin\"),T=n.get(\"WavelengthMax\");let I=null;if(g){I=[];for(let e=0;e<g.length;e++)I.push({BandName:g[e],WavelengthMin:E&&parseFloat(E[e]),WavelengthMax:T&&parseFloat(T[e])})}return{statistics:h,bandProperties:I,dataType:n.get(\"DataType\"),rawMetadata:n}};function L(e,t,n,a=0,i=!1,s=4){if(n.values)return!0;const r=n.type,l=n.valueCount;let o=n.valueOffset,c=[];const h=f[r],g=8*h,E=l*h,T=l*f[r]*8;let I,w;const p=8===s?64:32,d=n.valueOffsets;if(T>p){if(E>(i?e.byteLength:e?e.byteLength-o+a:0))return n.offlineOffsetSize=[o,E],n.values=null,!1}if(T<=p){if(!t)if(p<=32)o>>>=32-T;else{const e=d?.length?d[0]:o>>>0,t=d?.length?d[1]:Math.round((o-e)/u);T<=32?(o=e>>>32-T,d[0]=o):(o=e*2**(32-T)+(t>>>32-T),d[0]=e,d[1]=t>>>32-T)}if(1===l&&g===p)c=[o];else if(64===p){const e=d?.length?d[0]:o>>>0,t=d?.length?d[1]:Math.round((o-e)/u);let n=e,a=32;for(w=1;w<=l;w++){const e=32-g*w%32;if(a<g){const i=n<<e>>>32-a,s=t<<32-a>>>32-a;n=t,c.push(i+s*2**(g-a)),a-=32-(g-a)}else c.push(n<<e>>>32-g),a-=g;0===a&&(a=32,n=t)}}else for(w=1;w<=l;w++){const e=32-g*w;c.push(o<<e>>>32-g)}}else{o-=a,i&&(o=0);for(let n=o;n<o+E;n+=h){switch(r){case 1:case 2:case 7:I=new DataView(e,n,1).getUint8(0);break;case 3:I=new DataView(e,n,2).getUint16(0,t);break;case 4:case 13:I=new DataView(e,n,4).getUint32(0,t);break;case 5:I=new DataView(e,n,4).getUint32(0,t)/new DataView(e,n+4,4).getUint32(0,t);break;case 6:I=new DataView(e,n,1).getInt8(0);break;case 8:I=new DataView(e,n,2).getInt16(0,t);break;case 9:I=new DataView(e,n,4).getInt32(0,t);break;case 10:I=new DataView(e,n,4).getInt32(0,t)/new DataView(e,n+4,4).getInt32(0,t);break;case 11:I=new DataView(e,n,4).getFloat32(0,t);break;case 12:I=new DataView(e,n,8).getFloat64(0,t);break;case 16:case 18:I=C(new DataView(e,n,8),0,t);break;case 17:I=G(new DataView(e,n,8),0,t);break;default:I=null}c.push(I)}}if(2===r){let e=\"\";const t=c;for(c=[],w=0;w<t.length;w++)0===t[w]&&\"\"!==e?(c.push(e),e=\"\"):e+=String.fromCharCode(t[w]);\"\"===e&&0!==c.length||c.push(e)}return n.values=c,!0}function D(e){const t=e[0],n=p(t,\"TILEWIDTH\"),a=p(t,\"TILELENGTH\"),i=p(t,\"IMAGEWIDTH\"),s=p(t,\"IMAGELENGTH\"),r=p(t,\"BITSPERSAMPLE\"),l=p(t,\"SAMPLESPERPIXEL\"),o=p(t,\"SAMPLEFORMAT\")??1,f=h(o,r),u=R(t),g=T(t,\"GDAL_NODATA\");let d=null;g?.length&&(d=g.map((e=>parseFloat(e))),d.some((e=>isNaN(e)))&&(d=null));const m=p(t,\"COMPRESSION\")??1;let y;switch(m){case 1:y=\"NONE\";break;case 2:case 3:case 4:case 32771:y=\"CCITT\";break;case 5:y=\"LZW\";break;case 6:case 7:y=\"JPEG\";break;case 32773:y=\"PACKBITS\";break;case 8:case 32946:y=\"DEFLATE\";break;case 34712:y=\"JPEG2000\";break;case 34887:y=\"LERC\";break;default:y=String(m)}let A=!0,S=\"\";c.has(m)||(A=!1,S+=\"unsupported tag compression \"+m),o>3&&(A=!1,S+=\"unsupported tag sampleFormat \"+o),1!==r&&2!==r&&4!==r&&r%8!=0&&(A=!1,S+=\"unsupported tag bitsPerSample \"+r);const M=w(t,\"GEOASCIIPARAMS\");let P;if(M){const e=M.split(\"|\").find((e=>e.includes(\"ESRI PE String = \"))),t=e?e.replace(\"ESRI PE String = \",\"\"):\"\";P=t.startsWith(\"COMPD_CS\")||t.startsWith(\"PROJCS\")||t.startsWith(\"GEOGCS\")?{wkid:null,wkt:t}:null}const O=I(t,\"GEOTIEPOINTS\"),b=I(t,\"GEOPIXELSCALE\"),L=I(t,\"GEOTRANSMATRIX\"),D=t.has(\"GEOKEYDIRECTORY\")?t.get(\"GEOKEYDIRECTORY\").data:null;let k,C,G=!1,v=!1;if(D){G=2===p(D,\"GTRasterTypeGeoKey\");const e=p(D,\"GTModelTypeGeoKey\");if(2===e){const e=p(D,\"GeographicTypeGeoKey\");e>=1024&&e<=32766&&(P={wkid:e}),P||32767!==e||(v=!0,P={wkid:4326})}else if(1===e){const e=p(D,\"ProjectedCSTypeGeoKey\");e>=1024&&e<=32766&&(P={wkid:e})}}if(b&&O&&O.length>=6?(k=[b[0],0,O[3]-O[0]*b[0],0,-Math.abs(b[1]),O[4]-O[1]*b[1]],G&&(k[2]-=.5*k[0]+.5*k[1],k[5]-=.5*k[3]+.5*k[4])):L&&16===L.length&&(k=G?[L[0],L[1],L[3]-.5*L[0],L[4],L[5],L[7]-.5*L[5]]:[L[0],L[1],L[3],L[4],L[5],L[7]]),k){const e=[{x:0,y:s},{x:0,y:0},{x:i,y:s},{x:i,y:0}];let t,n=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let i=0;i<e.length;i++)t=E(e[i],k),n=t.x>n?n:t.x,r=t.x<r?r:t.x,a=t.y>a?a:t.y,l=t.y<l?l:t.y;C={xmin:n,xmax:r,ymin:a,ymax:l,spatialReference:P}}else C={xmin:-.5,ymin:.5-s,xmax:i-.5,ymax:.5,spatialReference:P};v&&(C.xmax-C.xmin>400||Math.max(Math.abs(C.xmin),Math.abs(C.xmax))>361)&&(P=null,C.spatialReference=null);const F=N(e);let B,W,H,Y,_;if(F.length>0){H=Math.round(Math.log(i/p(F[0],\"IMAGEWIDTH\"))/Math.LN2);const e=F[F.length-1];Y=F.length,B=p(e,\"TILEWIDTH\"),W=p(e,\"TILELENGTH\")}B=null!=Y&&Y>0?B||n:null,W=null!=Y&&Y>0?W||a:null,n&&(_=[{maxCol:Math.ceil(i/n)-1,maxRow:Math.ceil(s/a)-1,minRow:0,minCol:0}],F.forEach((e=>{_.push({maxCol:Math.ceil(p(e,\"IMAGEWIDTH\")/p(e,\"TILEWIDTH\"))-1,maxRow:Math.ceil(p(e,\"IMAGELENGTH\")/p(e,\"TILELENGTH\"))-1,minRow:0,minCol:0})})));const j=w(e[0],\"GDAL_METADATA\"),K=x(j);S+=\" \"+V({width:i,height:s,tileWidth:n,tileHeight:a,planes:l,ifds:e});const X=U(e).length===F.length+1,J=F?.length?F.map((e=>({x:i/p(e,\"IMAGEWIDTH\"),y:s/p(e,\"IMAGELENGTH\")}))):void 0;return{width:i,height:s,tileWidth:n,tileHeight:a,planes:l,isBSQ:u,pixelType:f,compression:y,noData:d,hasMaskBand:X,isSupported:A,pyramidResolutions:J,message:S,extent:C,isPseudoGeographic:v,affine:b?null:k,firstPyramidLevel:H,maximumPyramidLevel:Y,pyramidBlockWidth:B,pyramidBlockHeight:W,tileBoundary:_,metadata:K}}function R(e,t){const n=T(e,\"PLANARCONFIGURATION\");return n?2===n[0]:!!t&&t.isBSQ}function N(e){return e.filter((e=>1===p(e,\"NEWSUBFILETYPE\")))}function U(e){return e.filter((e=>{const t=!(4&~(p(e,\"NEWSUBFILETYPE\")??0)),n=4===p(e,\"PHOTOMETRICINTERPRETATION\");return t&&n}))}function k(e){const{littleEndian:t,isBigTiff:n,firstIFDPos:a}=F(e);let i=a;const s=[];do{const a=B(e,t,i,0,r.tiffTags,n?8:4);if(!a.success)break;s.push(a.ifd),i=a.nextIFD}while(i>0);return{...D(s),littleEndian:t,isBigTiff:n,ifds:s,pyramidIFDs:N(s),maskIFDs:U(s)}}function C(e,t,n){const a=e.getUint32(t,n),i=e.getUint32(t+4,n);return n?i*u+a:a*u+i}function G(e,t,n){let a=n?e.getInt32(t,n):e.getUint32(t,n),i=n?e.getUint32(t+4,n):e.getInt32(t+4,n);const s=(n?a:i)>=0?1:-1;n?a*=s:i*=s;return s*(n?i*u+a:a*u+i)}function v(e,t,n,a){return a?C(e,t,n):e.getUint32(t,n)}function F(e){const t=new DataView(e,0,16),n=t.getUint16(0,!1);let a=null;if(18761===n)a=!0;else{if(19789!==n)throw new Error(\"unexpected endianess byte\");a=!1}const i=t.getUint16(2,a);if(42!==i&&43!==i)throw new Error(\"unexpected tiff identifier\");let s=4;const r=43===i;if(r){const e=t.getUint16(s,a);if(s+=2,8!==e)throw new Error(\"unsupported bigtiff version\");if(0!==t.getUint16(s,a))throw new Error(\"unsupported bigtiff version\");s+=2}return{littleEndian:a,isBigTiff:r,firstIFDPos:v(t,s,a,r)}}function B(t,n,a,i=0,s=r.tiffTags,l=4){const o=d(t,n,a,i,s,l);let f;const u=o.ifd;if(u){if(r.ifdTags.forEach(((e,a)=>{u.has(a)&&(f=u.get(a),f.data=d(t,n,f.valueOffset-i,i,e).ifd)})),u.has(\"GEOKEYDIRECTORY\")){f=u.get(\"GEOKEYDIRECTORY\");const e=f.values;if(e&&e.length>4){const a=e[0]+\".\"+e[1]+\".\"+e[2];f.data=d(t,n,f.valueOffset+6-i,i,r.geoKeys,2).ifd,f.data&&f.data.set(\"GEOTIFFVersion\",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}if(u.has(\"XMP\")){f=u.get(\"XMP\");const t=f.values;\"number\"==typeof t[0]&&7===f.type&&(f.values=[e(new Uint8Array(t))])}}return o}function V(e){const{width:t,height:n,tileHeight:a,tileWidth:i}=e,s=e.planes,r=i?i*a:t*n,l=p(e.ifds[0],\"BITSPERSAMPLE\");let o=\"\";return r*s>2**30/(l>8?l/8:1)&&(o=i?\"tiled tiff exceeding 1 gigabits per tile is not supported\":\"scanline tiff exceeding 1 gigabits is not supported\"),o}function W(e,t,n,a,i){const s=a?4:1,r=n*s*i;a&&(e=new Uint8Array(e.buffer));for(let f=0;f<t;f++){const t=f*r;for(let n=i;n<r;n++)e[t+n]+=e[t+n-i]}if(!a)return e;const l=new Uint8Array(e.length),o=n*i;for(let f=0;f<t;f++){const t=f*r;for(let n=0;n<o;n++)for(let a=0;a<s;a++)l[t+n*s+a]=e[t+n+(s-a-1)*o]}return new Float32Array(l.buffer)}async function H(e,t){const{headerInfo:n,ifd:a,offsets:i,sizes:r}=t,l=[];for(let s=0;s<i.length;s++){r[s];const t=await M(e,n.littleEndian,a,i[s],r[s]||e.byteLength);l.push(t)}const o=R(a,n),f=p(a,\"BITSPERSAMPLE\"),u=h(p(a,\"SAMPLEFORMAT\")??1,f),c=p(a,\"SAMPLESPERPIXEL\")||n.planes,E=g(u),T=p(a,\"TILEWIDTH\"),I=p(a,\"TILELENGTH\"),w=p(a,\"COMPRESSION\")??1,d=T*I;let m;const y=[];let A=l[0];const S=34887===w;for(let s=0;s<c;s++){if(m=new E(d),l.length===c)A=l[s],A.length===d&&(m=A);else if(A.length)if(o||S)m=A.length===d?A:A.slice(d*s,d*(s+1));else for(let e=0;e<d;e++)m[e]=A[e*c+s];y.push(m)}const P=n.noData?n.noData[0]:t.noDataValue,O=n.metadata?n.metadata.statistics:null,x=O?O.map((e=>e.min)):null,L=O?O.map((e=>e.max)):null,D={pixelType:u,width:T,height:I,pixels:y,noDataValue:P};return null!=P?s(D,P,{matchAllNoData:t?.matchAllNoData}):x&&L&&t.applyMinMaxConstraint&&(D.mask=b(y,x,L)),D}async function Y(e,t={}){const n=t.pyramidLevel||0,a=t.headerInfo||k(e),{ifds:i,noData:r}=a;if(0===i.length)throw new Error(\"no valid image file directory\");const l=V(a);if(l)throw l;let o=null;const f=-1===n?i[i.length-1]:i[n],u=r??t.noDataValue;if(o=a.tileWidth?await P(e,a,f):O(e,a,f),!o)return o;if(null!=u){s(o,u,{matchAllNoData:null==r&&t?.matchAllNoData})}return o}export{Y as decode,H as decodeTileOrStrip,D as getImageInfo,U as getMaskIFDs,N as getPyramidIFDs,R as isBSQConfig,L as parseFieldValues,k as parseHeader,B as parseIFD,F as parseSignature};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}