{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../Viewpoint.js\";\nimport t from \"../../core/Error.js\";\nimport r from \"../../core/Logger.js\";\nimport { geographicToWebMercator as o } from \"../../geometry/support/webMercatorUtils.js\";\nimport n from \"../../portal/Portal.js\";\nimport { createForItemRead as i } from \"../../portal/support/jsonContext.js\";\nimport { project as a } from \"../../rest/geometryService/project.js\";\nimport s from \"../../rest/support/ProjectParameters.js\";\nfunction p(e, t) {\n  return t.resourceInfo ? l(t, t.resourceInfo, {\n    origin: e.origin\n  }) : t.portalItem?.id ? c(e, t, t.portalItem) : Promise.resolve();\n}\nfunction l(e, t, r) {\n  const o = {\n    context: {\n      ...r,\n      layerContainerType: \"operational-layers\"\n    }\n  };\n  return e.portalItem && (o.context.portal = e.portalItem.portal || n.getDefault()), import(\"../../layers/support/layersCreator.js\").then(({\n    populateOperationalLayers: r\n  }) => {\n    const n = [],\n      i = t.operationalLayers;\n    i?.length && n.push(r(e.layers, i, o));\n    const a = {\n        ...o,\n        context: {\n          ...o.context,\n          layerContainerType: \"tables\"\n        },\n        defaultLayerType: \"ArcGISFeatureLayer\"\n      },\n      s = t.tables;\n    return s?.length && n.push(r(e.tables, s, a)), Promise.allSettled(n).then(() => {});\n  });\n}\nasync function c(e, o, n) {\n  if (await n.load().catch(r => {\n    throw new t(`${e.name}:load-portal-item`, \"Failed to load portal item\", {\n      error: r\n    });\n  }), n.type !== e.itemType) throw new t(`${e.name}:invalid-portal-item`, `Invalid portal item type '${n.type}', expected '${e.itemType}'`, {\n    type: n.type\n  });\n  const a = await n.fetchData();\n  o.resourceInfo = a;\n  const s = i(n, e.origin);\n  await m(e, o, a, s), o.resourceReferences = {\n    portalItem: n,\n    paths: s.readResourcePaths\n  };\n  const p = await f(o.initialViewProperties, n, r.getLogger(o));\n  if (p) {\n    const t = o.initialViewProperties?.clone() ?? e.createInitialViewProperties();\n    t.viewpoint = p, o.initialViewProperties = t;\n  }\n}\nfunction m(e, t, r, o) {\n  const n = u(e, r);\n  return t.read(n, o), l(t, n, o);\n}\nfunction u(e, t) {\n  const r = e.parseVersion(t.version || \"\", e.name);\n  return e.currentVersion.validate(r), t.version = `${r.major}.${r.minor}`, t;\n}\nasync function f(t, r, o) {\n  const n = t?.viewpoint?.targetGeometry;\n  if (n) return null;\n  const i = await y(t, r, o);\n  if (!i) return null;\n  return new e({\n    targetGeometry: i\n  });\n}\nasync function y(e, t, r) {\n  const n = e?.spatialReference,\n    i = t?.extent;\n  if (!n || !i) return null;\n  if (n.isWGS84) return i.clone();\n  if (n.isWebMercator) return o(i);\n  const {\n    getGeometryServiceURL: p\n  } = await import(\"../../portal/support/geometryServiceUtils.js\");\n  try {\n    const e = await p(t),\n      r = new s({\n        geometries: [i],\n        outSpatialReference: n\n      });\n    return (await a(e, r))[0];\n  } catch (l) {\n    r.error(\"Error projecting item's extent:\", l);\n  }\n  return null;\n}\nexport { p as loadFromSource };","map":{"version":3,"names":["e","t","r","geographicToWebMercator","o","n","createForItemRead","i","project","a","s","p","resourceInfo","l","origin","portalItem","id","c","Promise","resolve","context","layerContainerType","portal","getDefault","then","populateOperationalLayers","operationalLayers","length","push","layers","defaultLayerType","tables","allSettled","load","catch","name","error","type","itemType","fetchData","m","resourceReferences","paths","readResourcePaths","f","initialViewProperties","getLogger","clone","createInitialViewProperties","viewpoint","u","read","parseVersion","version","currentVersion","validate","major","minor","targetGeometry","y","spatialReference","extent","isWGS84","isWebMercator","getGeometryServiceURL","geometries","outSpatialReference","loadFromSource"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/webdoc/support/webdocLoadUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../Viewpoint.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{geographicToWebMercator as o}from\"../../geometry/support/webMercatorUtils.js\";import n from\"../../portal/Portal.js\";import{createForItemRead as i}from\"../../portal/support/jsonContext.js\";import{project as a}from\"../../rest/geometryService/project.js\";import s from\"../../rest/support/ProjectParameters.js\";function p(e,t){return t.resourceInfo?l(t,t.resourceInfo,{origin:e.origin}):t.portalItem?.id?c(e,t,t.portalItem):Promise.resolve()}function l(e,t,r){const o={context:{...r,layerContainerType:\"operational-layers\"}};return e.portalItem&&(o.context.portal=e.portalItem.portal||n.getDefault()),import(\"../../layers/support/layersCreator.js\").then((({populateOperationalLayers:r})=>{const n=[],i=t.operationalLayers;i?.length&&n.push(r(e.layers,i,o));const a={...o,context:{...o.context,layerContainerType:\"tables\"},defaultLayerType:\"ArcGISFeatureLayer\"},s=t.tables;return s?.length&&n.push(r(e.tables,s,a)),Promise.allSettled(n).then((()=>{}))}))}async function c(e,o,n){if(await n.load().catch((r=>{throw new t(`${e.name}:load-portal-item`,\"Failed to load portal item\",{error:r})})),n.type!==e.itemType)throw new t(`${e.name}:invalid-portal-item`,`Invalid portal item type '${n.type}', expected '${e.itemType}'`,{type:n.type});const a=await n.fetchData();o.resourceInfo=a;const s=i(n,e.origin);await m(e,o,a,s),o.resourceReferences={portalItem:n,paths:s.readResourcePaths};const p=await f(o.initialViewProperties,n,r.getLogger(o));if(p){const t=o.initialViewProperties?.clone()??e.createInitialViewProperties();t.viewpoint=p,o.initialViewProperties=t}}function m(e,t,r,o){const n=u(e,r);return t.read(n,o),l(t,n,o)}function u(e,t){const r=e.parseVersion(t.version||\"\",e.name);return e.currentVersion.validate(r),t.version=`${r.major}.${r.minor}`,t}async function f(t,r,o){const n=t?.viewpoint?.targetGeometry;if(n)return null;const i=await y(t,r,o);if(!i)return null;return new e({targetGeometry:i})}async function y(e,t,r){const n=e?.spatialReference,i=t?.extent;if(!n||!i)return null;if(n.isWGS84)return i.clone();if(n.isWebMercator)return o(i);const{getGeometryServiceURL:p}=await import(\"../../portal/support/geometryServiceUtils.js\");try{const e=await p(t),r=new s({geometries:[i],outSpatialReference:n});return(await a(e,r))[0]}catch(l){r.error(\"Error projecting item's extent:\",l)}return null}export{p as loadFromSource};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}