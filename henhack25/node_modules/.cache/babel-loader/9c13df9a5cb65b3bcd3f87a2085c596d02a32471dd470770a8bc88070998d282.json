{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { getEffectiveFeatureReduction as e } from \"./featureReductionUtils.js\";\nimport { getServiceGeometryType as t } from \"./geometryUtils.js\";\nimport { getFeatureReductionDeconflictionEnabled as r, getLayerDeconflictionEnabled as i, createLabelVVEvaluator as l } from \"./labelingUtils.js\";\nimport { createSimpleProcessorSchema as n } from \"../schema/processor/SimpleProcessorSchema.js\";\nimport { isRendererSupported as s } from \"../support/rendererUtils.js\";\nclass o {\n  constructor(e) {\n    this.layer = e;\n  }\n  getLabelingDeconflictionInfo(e) {\n    const t = this.layer,\n      n = r(t, e) ?? i(t);\n    return [{\n      vvEvaluators: {\n        0: l(t.renderer)\n      },\n      deconflictionEnabled: n\n    }];\n  }\n  async createServiceOptions(e) {\n    const r = this.layer,\n      {\n        objectIdField: i\n      } = r,\n      l = t(r),\n      n = r.timeInfo?.toJSON() || null,\n      s = r.spatialReference ? r.spatialReference.toJSON() : null,\n      o = e.spatialReference.toJSON();\n    return {\n      type: \"stream\",\n      source: this.layer.parsedUrl,\n      outSpatialReference: o,\n      metadata: {\n        fieldsIndex: this.layer.fieldsIndex.toJSON(),\n        geometryType: l,\n        objectIdField: i,\n        timeInfo: n,\n        timeReferenceUnknownClient: null,\n        dateFieldsTimeZone: null,\n        spatialReference: s,\n        outSpatialReference: o,\n        subtypeField: null,\n        subtypes: null,\n        globalIdField: null,\n        typeIdField: null,\n        types: null\n      }\n    };\n  }\n  createSourceSchema(e, t) {\n    const {\n      definitionExpression: r,\n      geometryDefinition: i,\n      customParameters: l\n    } = this.layer;\n    return {\n      type: \"stream\",\n      mutable: {\n        sourceRefreshVersion: t,\n        availableFields: e.availableFields,\n        dataFilter: {\n          geometryDefinition: i?.toJSON(),\n          definitionExpression: r,\n          customParameters: l ?? null,\n          maxReconnectionAttempts: this.layer.maxReconnectionAttempts,\n          maxReconnectionInterval: this.layer.maxReconnectionInterval,\n          purgeOptions: this.layer.purgeOptions.toJSON()\n        }\n      }\n    };\n  }\n  createProcessorSchema(t, r, i) {\n    const {\n        fields: l,\n        renderer: s,\n        geometryType: o,\n        labelingInfo: a,\n        labelsVisible: c,\n        objectIdField: d,\n        trackInfo: m\n      } = this.layer,\n      p = {\n        fields: l.map(e => e.toJSON()),\n        renderer: s?.clone(),\n        featureReduction: e(this.layer, r),\n        geometryType: o,\n        labelingInfo: a,\n        labelsVisible: c,\n        objectIdField: d,\n        orderBy: \"default\",\n        trackInfo: m\n      };\n    return n(t, r, p, i);\n  }\n  get hasRequiredSupport() {\n    return s(this.layer.renderer);\n  }\n  get timeOptions() {\n    return this.layer;\n  }\n  getUpdateHashProperties(t) {\n    return [() => this.layer.definitionExpression, () => this.layer.renderer, () => this.layer.labelsVisible ? this.layer.labelingInfo : null, () => e(this.layer, t), () => this.layer.customParameters, () => this.layer.geometryDefinition, () => this.layer.definitionExpression, () => this.layer.trackInfo];\n  }\n}\nexport { o as StreamLayerAdapter };","map":{"version":3,"names":["getEffectiveFeatureReduction","e","getServiceGeometryType","t","getFeatureReductionDeconflictionEnabled","r","getLayerDeconflictionEnabled","i","createLabelVVEvaluator","l","createSimpleProcessorSchema","n","isRendererSupported","s","o","constructor","layer","getLabelingDeconflictionInfo","vvEvaluators","renderer","deconflictionEnabled","createServiceOptions","objectIdField","timeInfo","toJSON","spatialReference","type","source","parsedUrl","outSpatialReference","metadata","fieldsIndex","geometryType","timeReferenceUnknownClient","dateFieldsTimeZone","subtypeField","subtypes","globalIdField","typeIdField","types","createSourceSchema","definitionExpression","geometryDefinition","customParameters","mutable","sourceRefreshVersion","availableFields","dataFilter","maxReconnectionAttempts","maxReconnectionInterval","purgeOptions","createProcessorSchema","fields","labelingInfo","a","labelsVisible","c","d","trackInfo","m","p","map","clone","featureReduction","orderBy","hasRequiredSupport","timeOptions","getUpdateHashProperties","StreamLayerAdapter"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/StreamLayerAdapter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getEffectiveFeatureReduction as e}from\"./featureReductionUtils.js\";import{getServiceGeometryType as t}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as r,getLayerDeconflictionEnabled as i,createLabelVVEvaluator as l}from\"./labelingUtils.js\";import{createSimpleProcessorSchema as n}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as s}from\"../support/rendererUtils.js\";class o{constructor(e){this.layer=e}getLabelingDeconflictionInfo(e){const t=this.layer,n=r(t,e)??i(t);return[{vvEvaluators:{0:l(t.renderer)},deconflictionEnabled:n}]}async createServiceOptions(e){const r=this.layer,{objectIdField:i}=r,l=t(r),n=r.timeInfo?.toJSON()||null,s=r.spatialReference?r.spatialReference.toJSON():null,o=e.spatialReference.toJSON();return{type:\"stream\",source:this.layer.parsedUrl,outSpatialReference:o,metadata:{fieldsIndex:this.layer.fieldsIndex.toJSON(),geometryType:l,objectIdField:i,timeInfo:n,timeReferenceUnknownClient:null,dateFieldsTimeZone:null,spatialReference:s,outSpatialReference:o,subtypeField:null,subtypes:null,globalIdField:null,typeIdField:null,types:null}}}createSourceSchema(e,t){const{definitionExpression:r,geometryDefinition:i,customParameters:l}=this.layer;return{type:\"stream\",mutable:{sourceRefreshVersion:t,availableFields:e.availableFields,dataFilter:{geometryDefinition:i?.toJSON(),definitionExpression:r,customParameters:l??null,maxReconnectionAttempts:this.layer.maxReconnectionAttempts,maxReconnectionInterval:this.layer.maxReconnectionInterval,purgeOptions:this.layer.purgeOptions.toJSON()}}}}createProcessorSchema(t,r,i){const{fields:l,renderer:s,geometryType:o,labelingInfo:a,labelsVisible:c,objectIdField:d,trackInfo:m}=this.layer,p={fields:l.map((e=>e.toJSON())),renderer:s?.clone(),featureReduction:e(this.layer,r),geometryType:o,labelingInfo:a,labelsVisible:c,objectIdField:d,orderBy:\"default\",trackInfo:m};return n(t,r,p,i)}get hasRequiredSupport(){return s(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(t){return[()=>this.layer.definitionExpression,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>e(this.layer,t),()=>this.layer.customParameters,()=>this.layer.geometryDefinition,()=>this.layer.definitionExpression,()=>this.layer.trackInfo]}}export{o as StreamLayerAdapter};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}