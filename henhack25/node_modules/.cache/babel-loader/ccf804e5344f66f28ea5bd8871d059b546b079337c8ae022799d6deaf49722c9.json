{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { makeHandle as s } from \"../core/handleUtils.js\";\nimport has from \"../core/has.js\";\nimport { getOrCreateMapValue as t } from \"../core/MapUtils.js\";\nimport { millisecondsFromSeconds as e, Seconds as r, Milliseconds as o } from \"../core/time.js\";\nfunction i(s) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : s => {};\n  let e = arguments.length > 2 ? arguments[2] : undefined;\n  return new n(s, t, e);\n}\nclass n {\n  constructor(s) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : s => {};\n    let e = arguments.length > 2 ? arguments[2] : undefined;\n    if (this.onProgress = t, this.taskName = e, this._progressMap = new Map(), this._startTime = void 0, this._timingsMap = new Map(), \"number\" == typeof s) {\n      this._weights = {};\n      for (let t = 0; t < s; t++) {\n        const e = t,\n          r = 1 / s;\n        this._weights[e] = r, this._progressMap.set(e, 0);\n      }\n    } else this._weights = s;\n    this.emitProgress();\n  }\n  emitProgress() {\n    let s = 0;\n    for (const [t, e] of this._progressMap.entries()) {\n      s += e * this._weights[t];\n    }\n    if (1 === s && has(\"enable-feature:esri-3dofl-upload-timings\")) {\n      const s = Math.round(performance.now() - (this._startTime ?? 0)) / 1e3;\n      console.log(`${this.taskName} done in ${s} sec`);\n      for (const [t, e] of this._timingsMap) {\n        const r = Math.round(e.end - e.start) / 1e3,\n          o = Math.round(r / s * 100);\n        console.log(this.taskName ?? \"Task\", {\n          stepKey: t,\n          stepTime: r,\n          relativeTime: o\n        });\n      }\n    }\n    this.onProgress(s);\n  }\n  setProgress(s, e) {\n    if (this._progressMap.set(s, e), has(\"enable-feature:esri-3dofl-upload-timings\")) {\n      const r = performance.now();\n      this._startTime ??= r;\n      const o = t(this._timingsMap, s, () => ({\n        start: r,\n        end: 0\n      }));\n      1 === e && (o.end = r);\n    }\n    this.emitProgress();\n  }\n  simulate(s, t) {\n    return a(t => this.setProgress(s, t), t);\n  }\n  makeOnProgress(s) {\n    return t => this.setProgress(s, t);\n  }\n}\nfunction a() {\n  let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : s => {};\n  let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : l;\n  const r = performance.now();\n  t(0);\n  const o = setInterval(() => {\n    const s = performance.now() - r,\n      o = 1 - Math.exp(-s / e);\n    t(o);\n  }, g);\n  return s(() => {\n    clearInterval(o), t(1);\n  });\n}\nfunction h(s) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : c;\n  return e(r(s * f / t));\n}\nfunction m(s) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : p;\n  return e(r(s * f / t));\n}\nconst c = 10,\n  p = 10,\n  f = 8e-6,\n  g = o(50),\n  l = o(1e3);\nexport { n as ProgressManager, m as estimatedConversionTime, h as estimatedTransferTime, i as makeProgressManager, a as simulateProgress };","map":{"version":3,"names":["makeHandle","s","has","getOrCreateMapValue","t","millisecondsFromSeconds","e","Seconds","r","Milliseconds","o","i","arguments","length","undefined","n","constructor","onProgress","taskName","_progressMap","Map","_startTime","_timingsMap","_weights","set","emitProgress","entries","Math","round","performance","now","console","log","end","start","stepKey","stepTime","relativeTime","setProgress","simulate","a","makeOnProgress","l","setInterval","exp","g","clearInterval","h","c","f","m","p","ProgressManager","estimatedConversionTime","estimatedTransferTime","makeProgressManager","simulateProgress"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/support/progressUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{makeHandle as s}from\"../core/handleUtils.js\";import has from\"../core/has.js\";import{getOrCreateMapValue as t}from\"../core/MapUtils.js\";import{millisecondsFromSeconds as e,Seconds as r,Milliseconds as o}from\"../core/time.js\";function i(s,t=s=>{},e){return new n(s,t,e)}class n{constructor(s,t=s=>{},e){if(this.onProgress=t,this.taskName=e,this._progressMap=new Map,this._startTime=void 0,this._timingsMap=new Map,\"number\"==typeof s){this._weights={};for(let t=0;t<s;t++){const e=t,r=1/s;this._weights[e]=r,this._progressMap.set(e,0)}}else this._weights=s;this.emitProgress()}emitProgress(){let s=0;for(const[t,e]of this._progressMap.entries()){s+=e*this._weights[t]}if(1===s&&has(\"enable-feature:esri-3dofl-upload-timings\")){const s=Math.round(performance.now()-(this._startTime??0))/1e3;console.log(`${this.taskName} done in ${s} sec`);for(const[t,e]of this._timingsMap){const r=Math.round(e.end-e.start)/1e3,o=Math.round(r/s*100);console.log(this.taskName??\"Task\",{stepKey:t,stepTime:r,relativeTime:o})}}this.onProgress(s)}setProgress(s,e){if(this._progressMap.set(s,e),has(\"enable-feature:esri-3dofl-upload-timings\")){const r=performance.now();this._startTime??=r;const o=t(this._timingsMap,s,(()=>({start:r,end:0})));1===e&&(o.end=r)}this.emitProgress()}simulate(s,t){return a((t=>this.setProgress(s,t)),t)}makeOnProgress(s){return t=>this.setProgress(s,t)}}function a(t=s=>{},e=l){const r=performance.now();t(0);const o=setInterval((()=>{const s=performance.now()-r,o=1-Math.exp(-s/e);t(o)}),g);return s((()=>{clearInterval(o),t(1)}))}function h(s,t=c){return e(r(s*f/t))}function m(s,t=p){return e(r(s*f/t))}const c=10,p=10,f=8e-6,g=o(50),l=o(1e3);export{n as ProgressManager,m as estimatedConversionTime,h as estimatedTransferTime,i as makeProgressManager,a as simulateProgress};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}