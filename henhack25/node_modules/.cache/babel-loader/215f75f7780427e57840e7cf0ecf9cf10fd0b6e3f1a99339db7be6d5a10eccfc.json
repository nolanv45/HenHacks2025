{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../request.js\";\nimport i from \"../core/Accessor.js\";\nimport r from \"../core/Logger.js\";\nimport { isAbortError as s } from \"../core/promiseUtils.js\";\nimport { watch as n } from \"../core/reactiveUtils.js\";\nimport { addFrameTask as a } from \"../core/scheduling.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as l } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { wasmFailedToInit as d, Lyr3DWasmWorkerOutputStatus as h, invalidLayerView as _ } from \"./ILyr3DWasmPerSceneView.js\";\nimport { Lyr3DWorkerHandle as u } from \"./Lyr3DWorkerHandle.js\";\nimport { loadLyr3DMainWASM as y } from \"../libs/lyr3d/Lyr3DModule.js\";\nimport { getElevationOffsetInMeters as g } from \"../support/elevationInfoUtils.js\";\nimport { makeScheduleFunction as m } from \"../views/3d/layers/support/makeScheduleFunction.js\";\nvar c, b;\n!function (e) {\n  e[e.Lifetime = 0] = \"Lifetime\", e[e.Jobs = 1] = \"Jobs\", e[e.Renderables = 2] = \"Renderables\";\n}(c || (c = {})), function (e) {\n  e[e.Critical = 0] = \"Critical\", e[e.Error = 1] = \"Error\", e[e.Warning = 2] = \"Warning\", e[e.Info = 3] = \"Info\";\n}(b || (b = {}));\nlet f = class extends i {\n  constructor(e) {\n    super(e), this._lyr3DMainPromise = null, this._lyr3DMain = null, this._layers = new Map(), this._debugFlags = new Set(), this._debugLevel = b.Critical, this._wasmNotLoaded = \"method requiring WASM was called when WASM isn't loaded\", this._pulseTaskHandle = null, this._session = null, this._debugFlags.add(c.Lifetime), this._debugFlags.add(c.Jobs), this._debugFlags.add(c.Renderables);\n  }\n  _debugLog(e, t, i, s = !0) {\n    if (this._debugFlags.has(e) && this._debugLevel >= t) {\n      const e = s ? `[js] ${i}` : `${i}`;\n      t === b.Critical || t === b.Error ? r.getLogger(this).error(e) : t === b.Warning && r.getLogger(this).warn(e), r.getLogger(this).info(e);\n    }\n  }\n  initialize() {\n    this._debugLevel > b.Warning && (r.getLogger(this).level = \"info\"), this._debugLog(c.Lifetime, b.Info, \"Lyr3DWasmPerSceneView.initialize()\"), this.addHandles([n(() => this.view.state?.contentCamera, () => this._updateWasmCamera())]), this._pulseTaskHandle = a({\n      preRender: () => this._pulseTask()\n    });\n  }\n  destroy() {\n    this._debugLog(c.Lifetime, b.Info, \"Lyr3DWasmPerSceneView.destroy()\"), this._lyr3DMain && (this._layers.forEach(e => {\n      e.abortController.abort();\n    }), this._lyr3DMain.uninitialize_lyr3d_wasm(), this._lyr3DMain = null);\n    const e = this._worker;\n    e && e.destroyWasm().then(() => {\n      this._worker?.destroy(), this._worker = null;\n    }), this._pulseTaskHandle?.remove(), this._pulseTaskHandle = null;\n  }\n  add3DTilesLayerView(e) {\n    return this._lyr3DMain ? this._add3DTilesLayerView(e) : (this._debugLog(c.Lifetime, b.Error, \"Lyr3DWasmPerSceneView.add3DTilesLayerView() called when WASM wasn't initialized\"), d);\n  }\n  remove3DTilesLayerView(e) {\n    if (!this._lyr3DMain) return this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded), 0;\n    this._doRemoveLayerView(e);\n    const t = this._layers.size;\n    return 0 === t && (this._debugLog(c.Lifetime, b.Info, \"Lyr3DWasmPerSceneView.remove3DTilesLayerView() no Lyr3D layers left after removing a layer, destroying\"), this.destroy()), t;\n  }\n  setEnabled(e, t) {\n    if (!this._lyr3DMain) return void this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded);\n    const i = this._layers.get(e.wasmLayerId);\n    i && (this._lyr3DMain.set_enabled(e.wasmLayerId, t), i.needMemoryUsageUpdate = !0, i.needFrame = !0, i.layerView.updatingFlagChanged());\n  }\n  setLayerOffset(e, t) {\n    if (!this._lyr3DMain) return void this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded);\n    this._layers.get(e.wasmLayerId) && this._lyr3DMain.set_carto_offset_z(e.wasmLayerId, t);\n  }\n  getAttributionText() {\n    if (!this._lyr3DMain) return this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded), [];\n    return this._lyr3DMain.get_current_attribution_text().split(\"|\");\n  }\n  onRenderableEvicted(e, t, i) {\n    if (!this._lyr3DMain) return void this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded);\n    this._layers.get(e.wasmLayerId) && this._lyr3DMain.on_renderable_evicted(e.wasmLayerId, t, i);\n  }\n  isUpdating(e) {\n    if (!this._lyr3DMain && this._lyr3DMainPromise) return !0;\n    const t = this._layers.get(e);\n    return !!t && (t.outstandingJobCount > 0 || t.outstandingRenderableCount > 0 || t.needFrame);\n  }\n  initializeWasm(e, t) {\n    return this._lyr3DMain ? Promise.resolve() : (this._debugLog(c.Lifetime, b.Info, \"Lyr3DWasmPerSceneView.initializeWasm()\"), this._lyr3DMainPromise || (this._lyr3DMainPromise = y().then(i => {\n      this._lyr3DMain = i, this._lyr3DMainPromise = null;\n      const r = this._lyr3DMain.addFunction(this._onNewJob.bind(this), \"v\"),\n        s = this._lyr3DMain.addFunction(this._onNewRenderable.bind(this), \"v\"),\n        n = this._lyr3DMain.addFunction(this._freeRenderables.bind(this), \"viii\"),\n        a = this._lyr3DMain.addFunction(this._setRenderableVisibility.bind(this), \"viiii\"),\n        o = this._lyr3DMain.addFunction(this._onWasmError.bind(this), \"viiii\"),\n        l = \"global\" === this.view.viewingMode,\n        d = this.view.renderSpatialReference?.isWebMercator ? 3857 : this.view.renderSpatialReference?.wkid ?? -1,\n        h = this.view.heightModelInfo?.heightModel,\n        _ = !h || \"gravity-related-height\" === h;\n      return this._lyr3DMain.initialize_lyr3d_wasm(o, r, s, n, a, e, t, l, _, d, this._debugLevel) ? (this._worker = new u(m(this.view.resourceController)), this._worker.promise ? this._worker.promise : void 0) : (this._lyr3DMain = null, void this._debugLog(c.Lifetime, b.Critical, \"Lyr3d Main WASM failed to initialize\", !1));\n    }).catch(e => {\n      this._debugLog(c.Lifetime, b.Critical, `Lyr3d WASM failed to download error = ${e}`, !1);\n    })), this._lyr3DMainPromise);\n  }\n  _pulseTask() {\n    if (this._lyr3DMain) {\n      let e = 0,\n        t = 0;\n      this._layers.forEach(i => {\n        e += i.layerView.usedMemory, t += i.layerView.cachedMemory;\n      }), e /= 1048576, t /= 1048576;\n      const i = this.view.resourceController.memoryController,\n        r = i.usedMemory * i.maxMemory - e;\n      this._lyr3DMain.frame_pulse(i.memoryFactor, e, t, r, i.maxMemory), this._layers.forEach(e => {\n        !0 === e.needFrame && (e.needFrame = !1, e.layerView.updatingFlagChanged());\n      });\n    }\n  }\n  _incrementJobCount(e) {\n    e.outstandingJobCount += 1, 1 === e.outstandingJobCount && e.outstandingRenderableCount < 1 && e.layerView.updatingFlagChanged();\n  }\n  _decrementJobCount(e) {\n    e.outstandingJobCount -= 1, 0 === e.outstandingJobCount && e.outstandingRenderableCount < 1 && e.layerView.updatingFlagChanged();\n  }\n  _incrementRenderableCount(e) {\n    e.outstandingRenderableCount += 1, e.outstandingJobCount < 1 && 1 === e.outstandingRenderableCount && e.layerView.updatingFlagChanged();\n  }\n  _decrementRenderableCount(e) {\n    e.outstandingRenderableCount -= 1, e.outstandingJobCount < 1 && 0 === e.outstandingRenderableCount && e.layerView.updatingFlagChanged();\n  }\n  _onJobFailed(e, t, i) {\n    t.error.length && this._debugLog(c.Jobs, b.Error, t.error, !1), this._lyr3DMain && this._lyr3DMain.on_job_failed(i.jobId, i.desc), this._decrementJobCount(e);\n  }\n  _onJobSucceeded(e, t, i) {\n    if (this._lyr3DMain) {\n      const e = t.data.byteLength,\n        r = this._lyr3DMain._malloc(e);\n      new Uint8Array(this._lyr3DMain.HEAPU8.buffer, r, e).set(t.data), this._lyr3DMain.on_job_completed(i.jobId, t.jobDescJson, r, e), this._lyr3DMain._free(r);\n    }\n    this._decrementJobCount(e);\n  }\n  _getRequestPromises(e, i, r) {\n    const s = [];\n    for (const n of e) {\n      const e = new URL(n),\n        a = e.searchParams.get(\"session\");\n      a ? this._session = a : !this._session || e.origin === r.origin && e.pathname === r.pathname || e.searchParams.append(\"session\", this._session), s.push(t(e.toString(), i).then(e => e.data));\n    }\n    return s;\n  }\n  _onNewJob() {\n    const e = this._lyr3DMain.get_next_job(),\n      t = this._layers.get(e.layerId);\n    if (!t) return;\n    this._incrementJobCount(t);\n    const i = t.abortController.signal,\n      r = {\n        responseType: \"array-buffer\",\n        signal: i,\n        query: {\n          ...t.customParameters,\n          token: t.apiKey\n        }\n      },\n      n = {\n        inputs: [],\n        jobDescJson: e.desc,\n        isMissingResourceCase: !1\n      },\n      a = new URL(t.layerView.layer.url),\n      o = this._getRequestPromises(e.urls, r, a);\n    Promise.all(o).then(e => (n.inputs = e, this._worker.invoke(n, i))).then(e => e).catch(t => (s(t) ? this._debugLog(c.Jobs, b.Warning, `job ${e.jobId} was cancelled.`) : this._debugLog(c.Jobs, b.Error, `job ${e.jobId} failed with error ${t}.`), {\n      status: h.Failed,\n      error: \"\",\n      jobDescJson: \"\",\n      data: new Uint8Array(0),\n      missingInputUrls: [],\n      inputs: []\n    })).then(o => {\n      if (o.status === h.Failed) this._onJobFailed(t, o, e);else if (o.status === h.Succeeded) this._onJobSucceeded(t, o, e);else if (o.status === h.MissingInputs) {\n        const l = this._getRequestPromises(o.missingInputUrls, r, a);\n        Promise.all(l).then(e => {\n          n.jobDescJson = o.jobDescJson, o.originalInputs ? n.inputs = o.originalInputs : n.inputs = [], n.isMissingResourceCase = !0;\n          for (const t of e) n.inputs.push(t);\n          return this._worker.invoke(n, i);\n        }).then(i => {\n          i.status === h.Failed ? this._onJobFailed(t, i, e) : i.status === h.Succeeded && this._onJobSucceeded(t, i, e);\n        }).catch(i => {\n          this._decrementJobCount(t), s(i) ? this._debugLog(c.Jobs, b.Warning, `job ${e.jobId} was cancelled.`) : this._debugLog(c.Jobs, b.Error, `job ${e.jobId} failed with error2 ${i}.`), this._lyr3DMain && this._lyr3DMain.on_job_failed(e.jobId, e.desc);\n        });\n      }\n    });\n  }\n  _onNewRenderable() {\n    const e = this._lyr3DMain.get_next_renderable(),\n      t = e.meshData;\n    if (t.data && t.data.byteLength > 0) {\n      const e = t.data.slice();\n      t.data = e;\n    }\n    const i = this._layers.get(e.layerId);\n    i && (this._incrementRenderableCount(i), i.layerView.createRenderable(e).then(t => {\n      this._lyr3DMain && this._lyr3DMain.on_renderable_created(!0, e.layerId, e.handle, t.memUsageBytes), this._decrementRenderableCount(i);\n    }).catch(t => {\n      s(t) || this._debugLog(c.Renderables, b.Error, `createRenderable failed with error ${t}.`), this._lyr3DMain && this._lyr3DMain.on_renderable_created(!1, e.layerId, e.handle, 0), this._decrementRenderableCount(i);\n    }));\n  }\n  _freeRenderables(e, t, i) {\n    if (i < 1) return;\n    const r = this._layers.get(e);\n    if (!r) return;\n    const s = r.layerView,\n      n = [],\n      a = new Uint32Array(this._lyr3DMain.HEAPU32.buffer, t, i);\n    for (let o = 0; o < i; ++o) n.push(a[o]);\n    for (let o = 0; o < i; ++o) s.freeRenderable(n[o]);\n  }\n  _setRenderableVisibility(e, t, i, r) {\n    if (r < 1) return;\n    const s = this._layers.get(e);\n    if (!s) return;\n    const n = s.layerView,\n      a = [],\n      o = [],\n      l = new Uint32Array(this._lyr3DMain.HEAPU32.buffer, t, r),\n      d = new Uint8Array(this._lyr3DMain.HEAPU8.buffer, i, r);\n    for (let h = 0; h < r; ++h) a.push(l[h]), o.push(1 === d[h]);\n    n.setRenderableVisibility(a, o, r);\n  }\n  _onWasmError(e, t, i, r) {\n    this._lyr3DMain && this._debugLog(i, r, this._lyr3DMain.UTF8ToString(e, t), !1);\n  }\n  _doRemoveLayerView(e) {\n    const t = this._layers.get(e.wasmLayerId);\n    return !!t && (t.abortController.abort(), this._lyr3DMain.remove_layer(e.wasmLayerId), this._layers.delete(e.wasmLayerId), !0);\n  }\n  _add3DTilesLayerView(e) {\n    const t = e.layer;\n    if (!t.url) return _;\n    const i = this._lyr3DMain.get_next_layer_id(),\n      r = new AbortController();\n    this._layers.set(i, {\n      layerView: e,\n      abortController: r,\n      needMemoryUsageUpdate: !1,\n      outstandingJobCount: 0,\n      outstandingRenderableCount: 0,\n      customParameters: t.customParameters,\n      apiKey: t.apiKey,\n      needFrame: !1\n    });\n    const s = g(t.elevationInfo);\n    return this._lyr3DMain.add_layer(t.url, i, s) ? (this._updateWasmCamera(), i) : (this._layers.delete(i), _);\n  }\n  _updateWasmCamera() {\n    const e = this.view.state?.contentCamera;\n    if (!e || !this._lyr3DMain) return;\n    const {\n        eye: t,\n        center: i,\n        up: r,\n        near: s,\n        far: n,\n        fovY: a\n      } = e,\n      o = [e.viewport[2], e.viewport[3]],\n      l = e.width / e.height;\n    this._lyr3DMain.set_camera_parameters({\n      eye: t,\n      center: i,\n      up: r,\n      near: s,\n      far: n,\n      fov: a,\n      aspectRatio: l,\n      viewport: o\n    });\n  }\n};\ne([o({\n  constructOnly: !0\n})], f.prototype, \"view\", void 0), f = e([l(\"esri.layers.Lyr3DWasmPerSceneView\")], f);\nconst w = f;\nexport { w as default };","map":{"version":3,"names":["_","e","t","i","r","isAbortError","s","watch","n","addFrameTask","a","property","o","subclass","l","wasmFailedToInit","d","Lyr3DWasmWorkerOutputStatus","h","invalidLayerView","Lyr3DWorkerHandle","u","loadLyr3DMainWASM","y","getElevationOffsetInMeters","g","makeScheduleFunction","m","c","b","Lifetime","Jobs","Renderables","Critical","Error","Warning","Info","f","constructor","_lyr3DMainPromise","_lyr3DMain","_layers","Map","_debugFlags","Set","_debugLevel","_wasmNotLoaded","_pulseTaskHandle","_session","add","_debugLog","has","getLogger","error","warn","info","initialize","level","addHandles","view","state","contentCamera","_updateWasmCamera","preRender","_pulseTask","destroy","forEach","abortController","abort","uninitialize_lyr3d_wasm","_worker","destroyWasm","then","remove","add3DTilesLayerView","_add3DTilesLayerView","remove3DTilesLayerView","_doRemoveLayerView","size","setEnabled","get","wasmLayerId","set_enabled","needMemoryUsageUpdate","needFrame","layerView","updatingFlagChanged","setLayerOffset","set_carto_offset_z","getAttributionText","get_current_attribution_text","split","onRenderableEvicted","on_renderable_evicted","isUpdating","outstandingJobCount","outstandingRenderableCount","initializeWasm","Promise","resolve","addFunction","_onNewJob","bind","_onNewRenderable","_freeRenderables","_setRenderableVisibility","_onWasmError","viewingMode","renderSpatialReference","isWebMercator","wkid","heightModelInfo","heightModel","initialize_lyr3d_wasm","resourceController","promise","catch","usedMemory","cachedMemory","memoryController","maxMemory","frame_pulse","memoryFactor","_incrementJobCount","_decrementJobCount","_incrementRenderableCount","_decrementRenderableCount","_onJobFailed","length","on_job_failed","jobId","desc","_onJobSucceeded","data","byteLength","_malloc","Uint8Array","HEAPU8","buffer","set","on_job_completed","jobDescJson","_free","_getRequestPromises","URL","searchParams","origin","pathname","append","push","toString","get_next_job","layerId","signal","responseType","query","customParameters","token","apiKey","inputs","isMissingResourceCase","layer","url","urls","all","invoke","status","Failed","missingInputUrls","Succeeded","MissingInputs","originalInputs","get_next_renderable","meshData","slice","createRenderable","on_renderable_created","handle","memUsageBytes","Uint32Array","HEAPU32","freeRenderable","setRenderableVisibility","UTF8ToString","remove_layer","delete","get_next_layer_id","AbortController","elevationInfo","add_layer","eye","center","up","near","far","fovY","viewport","width","height","set_camera_parameters","fov","aspectRatio","constructOnly","prototype","w","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/Lyr3DWasmPerSceneView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../request.js\";import i from\"../core/Accessor.js\";import r from\"../core/Logger.js\";import{isAbortError as s}from\"../core/promiseUtils.js\";import{watch as n}from\"../core/reactiveUtils.js\";import{addFrameTask as a}from\"../core/scheduling.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{wasmFailedToInit as d,Lyr3DWasmWorkerOutputStatus as h,invalidLayerView as _}from\"./ILyr3DWasmPerSceneView.js\";import{Lyr3DWorkerHandle as u}from\"./Lyr3DWorkerHandle.js\";import{loadLyr3DMainWASM as y}from\"../libs/lyr3d/Lyr3DModule.js\";import{getElevationOffsetInMeters as g}from\"../support/elevationInfoUtils.js\";import{makeScheduleFunction as m}from\"../views/3d/layers/support/makeScheduleFunction.js\";var c,b;!function(e){e[e.Lifetime=0]=\"Lifetime\",e[e.Jobs=1]=\"Jobs\",e[e.Renderables=2]=\"Renderables\"}(c||(c={})),function(e){e[e.Critical=0]=\"Critical\",e[e.Error=1]=\"Error\",e[e.Warning=2]=\"Warning\",e[e.Info=3]=\"Info\"}(b||(b={}));let f=class extends i{constructor(e){super(e),this._lyr3DMainPromise=null,this._lyr3DMain=null,this._layers=new Map,this._debugFlags=new Set,this._debugLevel=b.Critical,this._wasmNotLoaded=\"method requiring WASM was called when WASM isn't loaded\",this._pulseTaskHandle=null,this._session=null,this._debugFlags.add(c.Lifetime),this._debugFlags.add(c.Jobs),this._debugFlags.add(c.Renderables)}_debugLog(e,t,i,s=!0){if(this._debugFlags.has(e)&&this._debugLevel>=t){const e=s?`[js] ${i}`:`${i}`;t===b.Critical||t===b.Error?r.getLogger(this).error(e):t===b.Warning&&r.getLogger(this).warn(e),r.getLogger(this).info(e)}}initialize(){this._debugLevel>b.Warning&&(r.getLogger(this).level=\"info\"),this._debugLog(c.Lifetime,b.Info,\"Lyr3DWasmPerSceneView.initialize()\"),this.addHandles([n((()=>this.view.state?.contentCamera),(()=>this._updateWasmCamera()))]),this._pulseTaskHandle=a({preRender:()=>this._pulseTask()})}destroy(){this._debugLog(c.Lifetime,b.Info,\"Lyr3DWasmPerSceneView.destroy()\"),this._lyr3DMain&&(this._layers.forEach((e=>{e.abortController.abort()})),this._lyr3DMain.uninitialize_lyr3d_wasm(),this._lyr3DMain=null);const e=this._worker;e&&e.destroyWasm().then((()=>{this._worker?.destroy(),this._worker=null})),this._pulseTaskHandle?.remove(),this._pulseTaskHandle=null}add3DTilesLayerView(e){return this._lyr3DMain?this._add3DTilesLayerView(e):(this._debugLog(c.Lifetime,b.Error,\"Lyr3DWasmPerSceneView.add3DTilesLayerView() called when WASM wasn't initialized\"),d)}remove3DTilesLayerView(e){if(!this._lyr3DMain)return this._debugLog(c.Lifetime,b.Error,this._wasmNotLoaded),0;this._doRemoveLayerView(e);const t=this._layers.size;return 0===t&&(this._debugLog(c.Lifetime,b.Info,\"Lyr3DWasmPerSceneView.remove3DTilesLayerView() no Lyr3D layers left after removing a layer, destroying\"),this.destroy()),t}setEnabled(e,t){if(!this._lyr3DMain)return void this._debugLog(c.Lifetime,b.Error,this._wasmNotLoaded);const i=this._layers.get(e.wasmLayerId);i&&(this._lyr3DMain.set_enabled(e.wasmLayerId,t),i.needMemoryUsageUpdate=!0,i.needFrame=!0,i.layerView.updatingFlagChanged())}setLayerOffset(e,t){if(!this._lyr3DMain)return void this._debugLog(c.Lifetime,b.Error,this._wasmNotLoaded);this._layers.get(e.wasmLayerId)&&this._lyr3DMain.set_carto_offset_z(e.wasmLayerId,t)}getAttributionText(){if(!this._lyr3DMain)return this._debugLog(c.Lifetime,b.Error,this._wasmNotLoaded),[];return this._lyr3DMain.get_current_attribution_text().split(\"|\")}onRenderableEvicted(e,t,i){if(!this._lyr3DMain)return void this._debugLog(c.Lifetime,b.Error,this._wasmNotLoaded);this._layers.get(e.wasmLayerId)&&this._lyr3DMain.on_renderable_evicted(e.wasmLayerId,t,i)}isUpdating(e){if(!this._lyr3DMain&&this._lyr3DMainPromise)return!0;const t=this._layers.get(e);return!!t&&(t.outstandingJobCount>0||t.outstandingRenderableCount>0||t.needFrame)}initializeWasm(e,t){return this._lyr3DMain?Promise.resolve():(this._debugLog(c.Lifetime,b.Info,\"Lyr3DWasmPerSceneView.initializeWasm()\"),this._lyr3DMainPromise||(this._lyr3DMainPromise=y().then((i=>{this._lyr3DMain=i,this._lyr3DMainPromise=null;const r=this._lyr3DMain.addFunction(this._onNewJob.bind(this),\"v\"),s=this._lyr3DMain.addFunction(this._onNewRenderable.bind(this),\"v\"),n=this._lyr3DMain.addFunction(this._freeRenderables.bind(this),\"viii\"),a=this._lyr3DMain.addFunction(this._setRenderableVisibility.bind(this),\"viiii\"),o=this._lyr3DMain.addFunction(this._onWasmError.bind(this),\"viiii\"),l=\"global\"===this.view.viewingMode,d=this.view.renderSpatialReference?.isWebMercator?3857:this.view.renderSpatialReference?.wkid??-1,h=this.view.heightModelInfo?.heightModel,_=!h||\"gravity-related-height\"===h;return this._lyr3DMain.initialize_lyr3d_wasm(o,r,s,n,a,e,t,l,_,d,this._debugLevel)?(this._worker=new u(m(this.view.resourceController)),this._worker.promise?this._worker.promise:void 0):(this._lyr3DMain=null,void this._debugLog(c.Lifetime,b.Critical,\"Lyr3d Main WASM failed to initialize\",!1))})).catch((e=>{this._debugLog(c.Lifetime,b.Critical,`Lyr3d WASM failed to download error = ${e}`,!1)}))),this._lyr3DMainPromise)}_pulseTask(){if(this._lyr3DMain){let e=0,t=0;this._layers.forEach((i=>{e+=i.layerView.usedMemory,t+=i.layerView.cachedMemory})),e/=1048576,t/=1048576;const i=this.view.resourceController.memoryController,r=i.usedMemory*i.maxMemory-e;this._lyr3DMain.frame_pulse(i.memoryFactor,e,t,r,i.maxMemory),this._layers.forEach((e=>{!0===e.needFrame&&(e.needFrame=!1,e.layerView.updatingFlagChanged())}))}}_incrementJobCount(e){e.outstandingJobCount+=1,1===e.outstandingJobCount&&e.outstandingRenderableCount<1&&e.layerView.updatingFlagChanged()}_decrementJobCount(e){e.outstandingJobCount-=1,0===e.outstandingJobCount&&e.outstandingRenderableCount<1&&e.layerView.updatingFlagChanged()}_incrementRenderableCount(e){e.outstandingRenderableCount+=1,e.outstandingJobCount<1&&1===e.outstandingRenderableCount&&e.layerView.updatingFlagChanged()}_decrementRenderableCount(e){e.outstandingRenderableCount-=1,e.outstandingJobCount<1&&0===e.outstandingRenderableCount&&e.layerView.updatingFlagChanged()}_onJobFailed(e,t,i){t.error.length&&this._debugLog(c.Jobs,b.Error,t.error,!1),this._lyr3DMain&&this._lyr3DMain.on_job_failed(i.jobId,i.desc),this._decrementJobCount(e)}_onJobSucceeded(e,t,i){if(this._lyr3DMain){const e=t.data.byteLength,r=this._lyr3DMain._malloc(e);new Uint8Array(this._lyr3DMain.HEAPU8.buffer,r,e).set(t.data),this._lyr3DMain.on_job_completed(i.jobId,t.jobDescJson,r,e),this._lyr3DMain._free(r)}this._decrementJobCount(e)}_getRequestPromises(e,i,r){const s=[];for(const n of e){const e=new URL(n),a=e.searchParams.get(\"session\");a?this._session=a:!this._session||e.origin===r.origin&&e.pathname===r.pathname||e.searchParams.append(\"session\",this._session),s.push(t(e.toString(),i).then((e=>e.data)))}return s}_onNewJob(){const e=this._lyr3DMain.get_next_job(),t=this._layers.get(e.layerId);if(!t)return;this._incrementJobCount(t);const i=t.abortController.signal,r={responseType:\"array-buffer\",signal:i,query:{...t.customParameters,token:t.apiKey}},n={inputs:[],jobDescJson:e.desc,isMissingResourceCase:!1},a=new URL(t.layerView.layer.url),o=this._getRequestPromises(e.urls,r,a);Promise.all(o).then((e=>(n.inputs=e,this._worker.invoke(n,i)))).then((e=>e)).catch((t=>(s(t)?this._debugLog(c.Jobs,b.Warning,`job ${e.jobId} was cancelled.`):this._debugLog(c.Jobs,b.Error,`job ${e.jobId} failed with error ${t}.`),{status:h.Failed,error:\"\",jobDescJson:\"\",data:new Uint8Array(0),missingInputUrls:[],inputs:[]}))).then((o=>{if(o.status===h.Failed)this._onJobFailed(t,o,e);else if(o.status===h.Succeeded)this._onJobSucceeded(t,o,e);else if(o.status===h.MissingInputs){const l=this._getRequestPromises(o.missingInputUrls,r,a);Promise.all(l).then((e=>{n.jobDescJson=o.jobDescJson,o.originalInputs?n.inputs=o.originalInputs:n.inputs=[],n.isMissingResourceCase=!0;for(const t of e)n.inputs.push(t);return this._worker.invoke(n,i)})).then((i=>{i.status===h.Failed?this._onJobFailed(t,i,e):i.status===h.Succeeded&&this._onJobSucceeded(t,i,e)})).catch((i=>{this._decrementJobCount(t),s(i)?this._debugLog(c.Jobs,b.Warning,`job ${e.jobId} was cancelled.`):this._debugLog(c.Jobs,b.Error,`job ${e.jobId} failed with error2 ${i}.`),this._lyr3DMain&&this._lyr3DMain.on_job_failed(e.jobId,e.desc)}))}}))}_onNewRenderable(){const e=this._lyr3DMain.get_next_renderable(),t=e.meshData;if(t.data&&t.data.byteLength>0){const e=t.data.slice();t.data=e}const i=this._layers.get(e.layerId);i&&(this._incrementRenderableCount(i),i.layerView.createRenderable(e).then((t=>{this._lyr3DMain&&this._lyr3DMain.on_renderable_created(!0,e.layerId,e.handle,t.memUsageBytes),this._decrementRenderableCount(i)})).catch((t=>{s(t)||this._debugLog(c.Renderables,b.Error,`createRenderable failed with error ${t}.`),this._lyr3DMain&&this._lyr3DMain.on_renderable_created(!1,e.layerId,e.handle,0),this._decrementRenderableCount(i)})))}_freeRenderables(e,t,i){if(i<1)return;const r=this._layers.get(e);if(!r)return;const s=r.layerView,n=[],a=new Uint32Array(this._lyr3DMain.HEAPU32.buffer,t,i);for(let o=0;o<i;++o)n.push(a[o]);for(let o=0;o<i;++o)s.freeRenderable(n[o])}_setRenderableVisibility(e,t,i,r){if(r<1)return;const s=this._layers.get(e);if(!s)return;const n=s.layerView,a=[],o=[],l=new Uint32Array(this._lyr3DMain.HEAPU32.buffer,t,r),d=new Uint8Array(this._lyr3DMain.HEAPU8.buffer,i,r);for(let h=0;h<r;++h)a.push(l[h]),o.push(1===d[h]);n.setRenderableVisibility(a,o,r)}_onWasmError(e,t,i,r){this._lyr3DMain&&this._debugLog(i,r,this._lyr3DMain.UTF8ToString(e,t),!1)}_doRemoveLayerView(e){const t=this._layers.get(e.wasmLayerId);return!!t&&(t.abortController.abort(),this._lyr3DMain.remove_layer(e.wasmLayerId),this._layers.delete(e.wasmLayerId),!0)}_add3DTilesLayerView(e){const t=e.layer;if(!t.url)return _;const i=this._lyr3DMain.get_next_layer_id(),r=new AbortController;this._layers.set(i,{layerView:e,abortController:r,needMemoryUsageUpdate:!1,outstandingJobCount:0,outstandingRenderableCount:0,customParameters:t.customParameters,apiKey:t.apiKey,needFrame:!1});const s=g(t.elevationInfo);return this._lyr3DMain.add_layer(t.url,i,s)?(this._updateWasmCamera(),i):(this._layers.delete(i),_)}_updateWasmCamera(){const e=this.view.state?.contentCamera;if(!e||!this._lyr3DMain)return;const{eye:t,center:i,up:r,near:s,far:n,fovY:a}=e,o=[e.viewport[2],e.viewport[3]],l=e.width/e.height;this._lyr3DMain.set_camera_parameters({eye:t,center:i,up:r,near:s,far:n,fov:a,aspectRatio:l,viewport:o})}};e([o({constructOnly:!0})],f.prototype,\"view\",void 0),f=e([l(\"esri.layers.Lyr3DWasmPerSceneView\")],f);const w=f;export{w as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,wBAAwB;AAAC,OAAOC,CAAC,MAAK,eAAe;AAAC,OAAOC,CAAC,MAAK,qBAAqB;AAAC,OAAOC,CAAC,MAAK,mBAAmB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,uBAAuB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,gDAAgD;AAAC,OAAM,gBAAgB;AAAC,OAAM,sBAAsB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,gDAAgD;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,EAACC,2BAA2B,IAAIC,CAAC,EAACC,gBAAgB,IAAInB,CAAC,QAAK,6BAA6B;AAAC,SAAOoB,iBAAiB,IAAIC,CAAC,QAAK,wBAAwB;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,0BAA0B,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,oDAAoD;AAAC,IAAIC,CAAC,EAACC,CAAC;AAAC,CAAC,UAAS5B,CAAC,EAAC;EAACA,CAAC,CAACA,CAAC,CAAC6B,QAAQ,GAAC,CAAC,CAAC,GAAC,UAAU,EAAC7B,CAAC,CAACA,CAAC,CAAC8B,IAAI,GAAC,CAAC,CAAC,GAAC,MAAM,EAAC9B,CAAC,CAACA,CAAC,CAAC+B,WAAW,GAAC,CAAC,CAAC,GAAC,aAAa;AAAA,CAAC,CAACJ,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,EAAC,UAAS3B,CAAC,EAAC;EAACA,CAAC,CAACA,CAAC,CAACgC,QAAQ,GAAC,CAAC,CAAC,GAAC,UAAU,EAAChC,CAAC,CAACA,CAAC,CAACiC,KAAK,GAAC,CAAC,CAAC,GAAC,OAAO,EAACjC,CAAC,CAACA,CAAC,CAACkC,OAAO,GAAC,CAAC,CAAC,GAAC,SAAS,EAAClC,CAAC,CAACA,CAAC,CAACmC,IAAI,GAAC,CAAC,CAAC,GAAC,MAAM;AAAA,CAAC,CAACP,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC;AAAC,IAAIQ,CAAC,GAAC,cAAclC,CAAC;EAACmC,WAAWA,CAACrC,CAAC,EAAC;IAAC,KAAK,CAACA,CAAC,CAAC,EAAC,IAAI,CAACsC,iBAAiB,GAAC,IAAI,EAAC,IAAI,CAACC,UAAU,GAAC,IAAI,EAAC,IAAI,CAACC,OAAO,GAAC,IAAIC,GAAG,CAAD,CAAC,EAAC,IAAI,CAACC,WAAW,GAAC,IAAIC,GAAG,CAAD,CAAC,EAAC,IAAI,CAACC,WAAW,GAAChB,CAAC,CAACI,QAAQ,EAAC,IAAI,CAACa,cAAc,GAAC,yDAAyD,EAAC,IAAI,CAACC,gBAAgB,GAAC,IAAI,EAAC,IAAI,CAACC,QAAQ,GAAC,IAAI,EAAC,IAAI,CAACL,WAAW,CAACM,GAAG,CAACrB,CAAC,CAACE,QAAQ,CAAC,EAAC,IAAI,CAACa,WAAW,CAACM,GAAG,CAACrB,CAAC,CAACG,IAAI,CAAC,EAAC,IAAI,CAACY,WAAW,CAACM,GAAG,CAACrB,CAAC,CAACI,WAAW,CAAC;EAAA;EAACkB,SAASA,CAACjD,CAAC,EAACC,CAAC,EAACC,CAAC,EAACG,CAAC,GAAC,CAAC,CAAC,EAAC;IAAC,IAAG,IAAI,CAACqC,WAAW,CAACQ,GAAG,CAAClD,CAAC,CAAC,IAAE,IAAI,CAAC4C,WAAW,IAAE3C,CAAC,EAAC;MAAC,MAAMD,CAAC,GAACK,CAAC,GAAC,QAAQH,CAAC,EAAE,GAAC,GAAGA,CAAC,EAAE;MAACD,CAAC,KAAG2B,CAAC,CAACI,QAAQ,IAAE/B,CAAC,KAAG2B,CAAC,CAACK,KAAK,GAAC9B,CAAC,CAACgD,SAAS,CAAC,IAAI,CAAC,CAACC,KAAK,CAACpD,CAAC,CAAC,GAACC,CAAC,KAAG2B,CAAC,CAACM,OAAO,IAAE/B,CAAC,CAACgD,SAAS,CAAC,IAAI,CAAC,CAACE,IAAI,CAACrD,CAAC,CAAC,EAACG,CAAC,CAACgD,SAAS,CAAC,IAAI,CAAC,CAACG,IAAI,CAACtD,CAAC,CAAC;IAAA;EAAC;EAACuD,UAAUA,CAAA,EAAE;IAAC,IAAI,CAACX,WAAW,GAAChB,CAAC,CAACM,OAAO,KAAG/B,CAAC,CAACgD,SAAS,CAAC,IAAI,CAAC,CAACK,KAAK,GAAC,MAAM,CAAC,EAAC,IAAI,CAACP,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACO,IAAI,EAAC,oCAAoC,CAAC,EAAC,IAAI,CAACsB,UAAU,CAAC,CAAClD,CAAC,CAAE,MAAI,IAAI,CAACmD,IAAI,CAACC,KAAK,EAAEC,aAAa,EAAG,MAAI,IAAI,CAACC,iBAAiB,CAAC,CAAE,CAAC,CAAC,CAAC,EAAC,IAAI,CAACf,gBAAgB,GAACrC,CAAC,CAAC;MAACqD,SAAS,EAACA,CAAA,KAAI,IAAI,CAACC,UAAU,CAAC;IAAC,CAAC,CAAC;EAAA;EAACC,OAAOA,CAAA,EAAE;IAAC,IAAI,CAACf,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACO,IAAI,EAAC,iCAAiC,CAAC,EAAC,IAAI,CAACI,UAAU,KAAG,IAAI,CAACC,OAAO,CAACyB,OAAO,CAAEjE,CAAC,IAAE;MAACA,CAAC,CAACkE,eAAe,CAACC,KAAK,CAAC,CAAC;IAAA,CAAE,CAAC,EAAC,IAAI,CAAC5B,UAAU,CAAC6B,uBAAuB,CAAC,CAAC,EAAC,IAAI,CAAC7B,UAAU,GAAC,IAAI,CAAC;IAAC,MAAMvC,CAAC,GAAC,IAAI,CAACqE,OAAO;IAACrE,CAAC,IAAEA,CAAC,CAACsE,WAAW,CAAC,CAAC,CAACC,IAAI,CAAE,MAAI;MAAC,IAAI,CAACF,OAAO,EAAEL,OAAO,CAAC,CAAC,EAAC,IAAI,CAACK,OAAO,GAAC,IAAI;IAAA,CAAE,CAAC,EAAC,IAAI,CAACvB,gBAAgB,EAAE0B,MAAM,CAAC,CAAC,EAAC,IAAI,CAAC1B,gBAAgB,GAAC,IAAI;EAAA;EAAC2B,mBAAmBA,CAACzE,CAAC,EAAC;IAAC,OAAO,IAAI,CAACuC,UAAU,GAAC,IAAI,CAACmC,oBAAoB,CAAC1E,CAAC,CAAC,IAAE,IAAI,CAACiD,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACK,KAAK,EAAC,iFAAiF,CAAC,EAAClB,CAAC,CAAC;EAAA;EAAC4D,sBAAsBA,CAAC3E,CAAC,EAAC;IAAC,IAAG,CAAC,IAAI,CAACuC,UAAU,EAAC,OAAO,IAAI,CAACU,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACK,KAAK,EAAC,IAAI,CAACY,cAAc,CAAC,EAAC,CAAC;IAAC,IAAI,CAAC+B,kBAAkB,CAAC5E,CAAC,CAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACuC,OAAO,CAACqC,IAAI;IAAC,OAAO,CAAC,KAAG5E,CAAC,KAAG,IAAI,CAACgD,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACO,IAAI,EAAC,wGAAwG,CAAC,EAAC,IAAI,CAAC6B,OAAO,CAAC,CAAC,CAAC,EAAC/D,CAAC;EAAA;EAAC6E,UAAUA,CAAC9E,CAAC,EAACC,CAAC,EAAC;IAAC,IAAG,CAAC,IAAI,CAACsC,UAAU,EAAC,OAAO,KAAK,IAAI,CAACU,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACK,KAAK,EAAC,IAAI,CAACY,cAAc,CAAC;IAAC,MAAM3C,CAAC,GAAC,IAAI,CAACsC,OAAO,CAACuC,GAAG,CAAC/E,CAAC,CAACgF,WAAW,CAAC;IAAC9E,CAAC,KAAG,IAAI,CAACqC,UAAU,CAAC0C,WAAW,CAACjF,CAAC,CAACgF,WAAW,EAAC/E,CAAC,CAAC,EAACC,CAAC,CAACgF,qBAAqB,GAAC,CAAC,CAAC,EAAChF,CAAC,CAACiF,SAAS,GAAC,CAAC,CAAC,EAACjF,CAAC,CAACkF,SAAS,CAACC,mBAAmB,CAAC,CAAC,CAAC;EAAA;EAACC,cAAcA,CAACtF,CAAC,EAACC,CAAC,EAAC;IAAC,IAAG,CAAC,IAAI,CAACsC,UAAU,EAAC,OAAO,KAAK,IAAI,CAACU,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACK,KAAK,EAAC,IAAI,CAACY,cAAc,CAAC;IAAC,IAAI,CAACL,OAAO,CAACuC,GAAG,CAAC/E,CAAC,CAACgF,WAAW,CAAC,IAAE,IAAI,CAACzC,UAAU,CAACgD,kBAAkB,CAACvF,CAAC,CAACgF,WAAW,EAAC/E,CAAC,CAAC;EAAA;EAACuF,kBAAkBA,CAAA,EAAE;IAAC,IAAG,CAAC,IAAI,CAACjD,UAAU,EAAC,OAAO,IAAI,CAACU,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACK,KAAK,EAAC,IAAI,CAACY,cAAc,CAAC,EAAC,EAAE;IAAC,OAAO,IAAI,CAACN,UAAU,CAACkD,4BAA4B,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;EAAA;EAACC,mBAAmBA,CAAC3F,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,IAAG,CAAC,IAAI,CAACqC,UAAU,EAAC,OAAO,KAAK,IAAI,CAACU,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACK,KAAK,EAAC,IAAI,CAACY,cAAc,CAAC;IAAC,IAAI,CAACL,OAAO,CAACuC,GAAG,CAAC/E,CAAC,CAACgF,WAAW,CAAC,IAAE,IAAI,CAACzC,UAAU,CAACqD,qBAAqB,CAAC5F,CAAC,CAACgF,WAAW,EAAC/E,CAAC,EAACC,CAAC,CAAC;EAAA;EAAC2F,UAAUA,CAAC7F,CAAC,EAAC;IAAC,IAAG,CAAC,IAAI,CAACuC,UAAU,IAAE,IAAI,CAACD,iBAAiB,EAAC,OAAM,CAAC,CAAC;IAAC,MAAMrC,CAAC,GAAC,IAAI,CAACuC,OAAO,CAACuC,GAAG,CAAC/E,CAAC,CAAC;IAAC,OAAM,CAAC,CAACC,CAAC,KAAGA,CAAC,CAAC6F,mBAAmB,GAAC,CAAC,IAAE7F,CAAC,CAAC8F,0BAA0B,GAAC,CAAC,IAAE9F,CAAC,CAACkF,SAAS,CAAC;EAAA;EAACa,cAAcA,CAAChG,CAAC,EAACC,CAAC,EAAC;IAAC,OAAO,IAAI,CAACsC,UAAU,GAAC0D,OAAO,CAACC,OAAO,CAAC,CAAC,IAAE,IAAI,CAACjD,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACO,IAAI,EAAC,wCAAwC,CAAC,EAAC,IAAI,CAACG,iBAAiB,KAAG,IAAI,CAACA,iBAAiB,GAAChB,CAAC,CAAC,CAAC,CAACiD,IAAI,CAAErE,CAAC,IAAE;MAAC,IAAI,CAACqC,UAAU,GAACrC,CAAC,EAAC,IAAI,CAACoC,iBAAiB,GAAC,IAAI;MAAC,MAAMnC,CAAC,GAAC,IAAI,CAACoC,UAAU,CAAC4D,WAAW,CAAC,IAAI,CAACC,SAAS,CAACC,IAAI,CAAC,IAAI,CAAC,EAAC,GAAG,CAAC;QAAChG,CAAC,GAAC,IAAI,CAACkC,UAAU,CAAC4D,WAAW,CAAC,IAAI,CAACG,gBAAgB,CAACD,IAAI,CAAC,IAAI,CAAC,EAAC,GAAG,CAAC;QAAC9F,CAAC,GAAC,IAAI,CAACgC,UAAU,CAAC4D,WAAW,CAAC,IAAI,CAACI,gBAAgB,CAACF,IAAI,CAAC,IAAI,CAAC,EAAC,MAAM,CAAC;QAAC5F,CAAC,GAAC,IAAI,CAAC8B,UAAU,CAAC4D,WAAW,CAAC,IAAI,CAACK,wBAAwB,CAACH,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,CAAC;QAAC1F,CAAC,GAAC,IAAI,CAAC4B,UAAU,CAAC4D,WAAW,CAAC,IAAI,CAACM,YAAY,CAACJ,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,CAAC;QAACxF,CAAC,GAAC,QAAQ,KAAG,IAAI,CAAC6C,IAAI,CAACgD,WAAW;QAAC3F,CAAC,GAAC,IAAI,CAAC2C,IAAI,CAACiD,sBAAsB,EAAEC,aAAa,GAAC,IAAI,GAAC,IAAI,CAAClD,IAAI,CAACiD,sBAAsB,EAAEE,IAAI,IAAE,CAAC,CAAC;QAAC5F,CAAC,GAAC,IAAI,CAACyC,IAAI,CAACoD,eAAe,EAAEC,WAAW;QAAChH,CAAC,GAAC,CAACkB,CAAC,IAAE,wBAAwB,KAAGA,CAAC;MAAC,OAAO,IAAI,CAACsB,UAAU,CAACyE,qBAAqB,CAACrG,CAAC,EAACR,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACT,CAAC,EAACC,CAAC,EAACY,CAAC,EAACd,CAAC,EAACgB,CAAC,EAAC,IAAI,CAAC6B,WAAW,CAAC,IAAE,IAAI,CAACyB,OAAO,GAAC,IAAIjD,CAAC,CAACM,CAAC,CAAC,IAAI,CAACgC,IAAI,CAACuD,kBAAkB,CAAC,CAAC,EAAC,IAAI,CAAC5C,OAAO,CAAC6C,OAAO,GAAC,IAAI,CAAC7C,OAAO,CAAC6C,OAAO,GAAC,KAAK,CAAC,KAAG,IAAI,CAAC3E,UAAU,GAAC,IAAI,EAAC,KAAK,IAAI,CAACU,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACI,QAAQ,EAAC,sCAAsC,EAAC,CAAC,CAAC,CAAC,CAAC;IAAA,CAAE,CAAC,CAACmF,KAAK,CAAEnH,CAAC,IAAE;MAAC,IAAI,CAACiD,SAAS,CAACtB,CAAC,CAACE,QAAQ,EAACD,CAAC,CAACI,QAAQ,EAAC,yCAAyChC,CAAC,EAAE,EAAC,CAAC,CAAC,CAAC;IAAA,CAAE,CAAC,CAAC,EAAC,IAAI,CAACsC,iBAAiB,CAAC;EAAA;EAACyB,UAAUA,CAAA,EAAE;IAAC,IAAG,IAAI,CAACxB,UAAU,EAAC;MAAC,IAAIvC,CAAC,GAAC,CAAC;QAACC,CAAC,GAAC,CAAC;MAAC,IAAI,CAACuC,OAAO,CAACyB,OAAO,CAAE/D,CAAC,IAAE;QAACF,CAAC,IAAEE,CAAC,CAACkF,SAAS,CAACgC,UAAU,EAACnH,CAAC,IAAEC,CAAC,CAACkF,SAAS,CAACiC,YAAY;MAAA,CAAE,CAAC,EAACrH,CAAC,IAAE,OAAO,EAACC,CAAC,IAAE,OAAO;MAAC,MAAMC,CAAC,GAAC,IAAI,CAACwD,IAAI,CAACuD,kBAAkB,CAACK,gBAAgB;QAACnH,CAAC,GAACD,CAAC,CAACkH,UAAU,GAAClH,CAAC,CAACqH,SAAS,GAACvH,CAAC;MAAC,IAAI,CAACuC,UAAU,CAACiF,WAAW,CAACtH,CAAC,CAACuH,YAAY,EAACzH,CAAC,EAACC,CAAC,EAACE,CAAC,EAACD,CAAC,CAACqH,SAAS,CAAC,EAAC,IAAI,CAAC/E,OAAO,CAACyB,OAAO,CAAEjE,CAAC,IAAE;QAAC,CAAC,CAAC,KAAGA,CAAC,CAACmF,SAAS,KAAGnF,CAAC,CAACmF,SAAS,GAAC,CAAC,CAAC,EAACnF,CAAC,CAACoF,SAAS,CAACC,mBAAmB,CAAC,CAAC,CAAC;MAAA,CAAE,CAAC;IAAA;EAAC;EAACqC,kBAAkBA,CAAC1H,CAAC,EAAC;IAACA,CAAC,CAAC8F,mBAAmB,IAAE,CAAC,EAAC,CAAC,KAAG9F,CAAC,CAAC8F,mBAAmB,IAAE9F,CAAC,CAAC+F,0BAA0B,GAAC,CAAC,IAAE/F,CAAC,CAACoF,SAAS,CAACC,mBAAmB,CAAC,CAAC;EAAA;EAACsC,kBAAkBA,CAAC3H,CAAC,EAAC;IAACA,CAAC,CAAC8F,mBAAmB,IAAE,CAAC,EAAC,CAAC,KAAG9F,CAAC,CAAC8F,mBAAmB,IAAE9F,CAAC,CAAC+F,0BAA0B,GAAC,CAAC,IAAE/F,CAAC,CAACoF,SAAS,CAACC,mBAAmB,CAAC,CAAC;EAAA;EAACuC,yBAAyBA,CAAC5H,CAAC,EAAC;IAACA,CAAC,CAAC+F,0BAA0B,IAAE,CAAC,EAAC/F,CAAC,CAAC8F,mBAAmB,GAAC,CAAC,IAAE,CAAC,KAAG9F,CAAC,CAAC+F,0BAA0B,IAAE/F,CAAC,CAACoF,SAAS,CAACC,mBAAmB,CAAC,CAAC;EAAA;EAACwC,yBAAyBA,CAAC7H,CAAC,EAAC;IAACA,CAAC,CAAC+F,0BAA0B,IAAE,CAAC,EAAC/F,CAAC,CAAC8F,mBAAmB,GAAC,CAAC,IAAE,CAAC,KAAG9F,CAAC,CAAC+F,0BAA0B,IAAE/F,CAAC,CAACoF,SAAS,CAACC,mBAAmB,CAAC,CAAC;EAAA;EAACyC,YAAYA,CAAC9H,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAACD,CAAC,CAACmD,KAAK,CAAC2E,MAAM,IAAE,IAAI,CAAC9E,SAAS,CAACtB,CAAC,CAACG,IAAI,EAACF,CAAC,CAACK,KAAK,EAAChC,CAAC,CAACmD,KAAK,EAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACb,UAAU,IAAE,IAAI,CAACA,UAAU,CAACyF,aAAa,CAAC9H,CAAC,CAAC+H,KAAK,EAAC/H,CAAC,CAACgI,IAAI,CAAC,EAAC,IAAI,CAACP,kBAAkB,CAAC3H,CAAC,CAAC;EAAA;EAACmI,eAAeA,CAACnI,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,IAAG,IAAI,CAACqC,UAAU,EAAC;MAAC,MAAMvC,CAAC,GAACC,CAAC,CAACmI,IAAI,CAACC,UAAU;QAAClI,CAAC,GAAC,IAAI,CAACoC,UAAU,CAAC+F,OAAO,CAACtI,CAAC,CAAC;MAAC,IAAIuI,UAAU,CAAC,IAAI,CAAChG,UAAU,CAACiG,MAAM,CAACC,MAAM,EAACtI,CAAC,EAACH,CAAC,CAAC,CAAC0I,GAAG,CAACzI,CAAC,CAACmI,IAAI,CAAC,EAAC,IAAI,CAAC7F,UAAU,CAACoG,gBAAgB,CAACzI,CAAC,CAAC+H,KAAK,EAAChI,CAAC,CAAC2I,WAAW,EAACzI,CAAC,EAACH,CAAC,CAAC,EAAC,IAAI,CAACuC,UAAU,CAACsG,KAAK,CAAC1I,CAAC,CAAC;IAAA;IAAC,IAAI,CAACwH,kBAAkB,CAAC3H,CAAC,CAAC;EAAA;EAAC8I,mBAAmBA,CAAC9I,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,EAAE;IAAC,KAAI,MAAME,CAAC,IAAIP,CAAC,EAAC;MAAC,MAAMA,CAAC,GAAC,IAAI+I,GAAG,CAACxI,CAAC,CAAC;QAACE,CAAC,GAACT,CAAC,CAACgJ,YAAY,CAACjE,GAAG,CAAC,SAAS,CAAC;MAACtE,CAAC,GAAC,IAAI,CAACsC,QAAQ,GAACtC,CAAC,GAAC,CAAC,IAAI,CAACsC,QAAQ,IAAE/C,CAAC,CAACiJ,MAAM,KAAG9I,CAAC,CAAC8I,MAAM,IAAEjJ,CAAC,CAACkJ,QAAQ,KAAG/I,CAAC,CAAC+I,QAAQ,IAAElJ,CAAC,CAACgJ,YAAY,CAACG,MAAM,CAAC,SAAS,EAAC,IAAI,CAACpG,QAAQ,CAAC,EAAC1C,CAAC,CAAC+I,IAAI,CAACnJ,CAAC,CAACD,CAAC,CAACqJ,QAAQ,CAAC,CAAC,EAACnJ,CAAC,CAAC,CAACqE,IAAI,CAAEvE,CAAC,IAAEA,CAAC,CAACoI,IAAK,CAAC,CAAC;IAAA;IAAC,OAAO/H,CAAC;EAAA;EAAC+F,SAASA,CAAA,EAAE;IAAC,MAAMpG,CAAC,GAAC,IAAI,CAACuC,UAAU,CAAC+G,YAAY,CAAC,CAAC;MAACrJ,CAAC,GAAC,IAAI,CAACuC,OAAO,CAACuC,GAAG,CAAC/E,CAAC,CAACuJ,OAAO,CAAC;IAAC,IAAG,CAACtJ,CAAC,EAAC;IAAO,IAAI,CAACyH,kBAAkB,CAACzH,CAAC,CAAC;IAAC,MAAMC,CAAC,GAACD,CAAC,CAACiE,eAAe,CAACsF,MAAM;MAACrJ,CAAC,GAAC;QAACsJ,YAAY,EAAC,cAAc;QAACD,MAAM,EAACtJ,CAAC;QAACwJ,KAAK,EAAC;UAAC,GAAGzJ,CAAC,CAAC0J,gBAAgB;UAACC,KAAK,EAAC3J,CAAC,CAAC4J;QAAM;MAAC,CAAC;MAACtJ,CAAC,GAAC;QAACuJ,MAAM,EAAC,EAAE;QAAClB,WAAW,EAAC5I,CAAC,CAACkI,IAAI;QAAC6B,qBAAqB,EAAC,CAAC;MAAC,CAAC;MAACtJ,CAAC,GAAC,IAAIsI,GAAG,CAAC9I,CAAC,CAACmF,SAAS,CAAC4E,KAAK,CAACC,GAAG,CAAC;MAACtJ,CAAC,GAAC,IAAI,CAACmI,mBAAmB,CAAC9I,CAAC,CAACkK,IAAI,EAAC/J,CAAC,EAACM,CAAC,CAAC;IAACwF,OAAO,CAACkE,GAAG,CAACxJ,CAAC,CAAC,CAAC4D,IAAI,CAAEvE,CAAC,KAAGO,CAAC,CAACuJ,MAAM,GAAC9J,CAAC,EAAC,IAAI,CAACqE,OAAO,CAAC+F,MAAM,CAAC7J,CAAC,EAACL,CAAC,CAAC,CAAE,CAAC,CAACqE,IAAI,CAAEvE,CAAC,IAAEA,CAAE,CAAC,CAACmH,KAAK,CAAElH,CAAC,KAAGI,CAAC,CAACJ,CAAC,CAAC,GAAC,IAAI,CAACgD,SAAS,CAACtB,CAAC,CAACG,IAAI,EAACF,CAAC,CAACM,OAAO,EAAC,OAAOlC,CAAC,CAACiI,KAAK,iBAAiB,CAAC,GAAC,IAAI,CAAChF,SAAS,CAACtB,CAAC,CAACG,IAAI,EAACF,CAAC,CAACK,KAAK,EAAC,OAAOjC,CAAC,CAACiI,KAAK,sBAAsBhI,CAAC,GAAG,CAAC,EAAC;MAACoK,MAAM,EAACpJ,CAAC,CAACqJ,MAAM;MAAClH,KAAK,EAAC,EAAE;MAACwF,WAAW,EAAC,EAAE;MAACR,IAAI,EAAC,IAAIG,UAAU,CAAC,CAAC,CAAC;MAACgC,gBAAgB,EAAC,EAAE;MAACT,MAAM,EAAC;IAAE,CAAC,CAAE,CAAC,CAACvF,IAAI,CAAE5D,CAAC,IAAE;MAAC,IAAGA,CAAC,CAAC0J,MAAM,KAAGpJ,CAAC,CAACqJ,MAAM,EAAC,IAAI,CAACxC,YAAY,CAAC7H,CAAC,EAACU,CAAC,EAACX,CAAC,CAAC,CAAC,KAAK,IAAGW,CAAC,CAAC0J,MAAM,KAAGpJ,CAAC,CAACuJ,SAAS,EAAC,IAAI,CAACrC,eAAe,CAAClI,CAAC,EAACU,CAAC,EAACX,CAAC,CAAC,CAAC,KAAK,IAAGW,CAAC,CAAC0J,MAAM,KAAGpJ,CAAC,CAACwJ,aAAa,EAAC;QAAC,MAAM5J,CAAC,GAAC,IAAI,CAACiI,mBAAmB,CAACnI,CAAC,CAAC4J,gBAAgB,EAACpK,CAAC,EAACM,CAAC,CAAC;QAACwF,OAAO,CAACkE,GAAG,CAACtJ,CAAC,CAAC,CAAC0D,IAAI,CAAEvE,CAAC,IAAE;UAACO,CAAC,CAACqI,WAAW,GAACjI,CAAC,CAACiI,WAAW,EAACjI,CAAC,CAAC+J,cAAc,GAACnK,CAAC,CAACuJ,MAAM,GAACnJ,CAAC,CAAC+J,cAAc,GAACnK,CAAC,CAACuJ,MAAM,GAAC,EAAE,EAACvJ,CAAC,CAACwJ,qBAAqB,GAAC,CAAC,CAAC;UAAC,KAAI,MAAM9J,CAAC,IAAID,CAAC,EAACO,CAAC,CAACuJ,MAAM,CAACV,IAAI,CAACnJ,CAAC,CAAC;UAAC,OAAO,IAAI,CAACoE,OAAO,CAAC+F,MAAM,CAAC7J,CAAC,EAACL,CAAC,CAAC;QAAA,CAAE,CAAC,CAACqE,IAAI,CAAErE,CAAC,IAAE;UAACA,CAAC,CAACmK,MAAM,KAAGpJ,CAAC,CAACqJ,MAAM,GAAC,IAAI,CAACxC,YAAY,CAAC7H,CAAC,EAACC,CAAC,EAACF,CAAC,CAAC,GAACE,CAAC,CAACmK,MAAM,KAAGpJ,CAAC,CAACuJ,SAAS,IAAE,IAAI,CAACrC,eAAe,CAAClI,CAAC,EAACC,CAAC,EAACF,CAAC,CAAC;QAAA,CAAE,CAAC,CAACmH,KAAK,CAAEjH,CAAC,IAAE;UAAC,IAAI,CAACyH,kBAAkB,CAAC1H,CAAC,CAAC,EAACI,CAAC,CAACH,CAAC,CAAC,GAAC,IAAI,CAAC+C,SAAS,CAACtB,CAAC,CAACG,IAAI,EAACF,CAAC,CAACM,OAAO,EAAC,OAAOlC,CAAC,CAACiI,KAAK,iBAAiB,CAAC,GAAC,IAAI,CAAChF,SAAS,CAACtB,CAAC,CAACG,IAAI,EAACF,CAAC,CAACK,KAAK,EAAC,OAAOjC,CAAC,CAACiI,KAAK,uBAAuB/H,CAAC,GAAG,CAAC,EAAC,IAAI,CAACqC,UAAU,IAAE,IAAI,CAACA,UAAU,CAACyF,aAAa,CAAChI,CAAC,CAACiI,KAAK,EAACjI,CAAC,CAACkI,IAAI,CAAC;QAAA,CAAE,CAAC;MAAA;IAAC,CAAE,CAAC;EAAA;EAAC5B,gBAAgBA,CAAA,EAAE;IAAC,MAAMtG,CAAC,GAAC,IAAI,CAACuC,UAAU,CAACoI,mBAAmB,CAAC,CAAC;MAAC1K,CAAC,GAACD,CAAC,CAAC4K,QAAQ;IAAC,IAAG3K,CAAC,CAACmI,IAAI,IAAEnI,CAAC,CAACmI,IAAI,CAACC,UAAU,GAAC,CAAC,EAAC;MAAC,MAAMrI,CAAC,GAACC,CAAC,CAACmI,IAAI,CAACyC,KAAK,CAAC,CAAC;MAAC5K,CAAC,CAACmI,IAAI,GAACpI,CAAC;IAAA;IAAC,MAAME,CAAC,GAAC,IAAI,CAACsC,OAAO,CAACuC,GAAG,CAAC/E,CAAC,CAACuJ,OAAO,CAAC;IAACrJ,CAAC,KAAG,IAAI,CAAC0H,yBAAyB,CAAC1H,CAAC,CAAC,EAACA,CAAC,CAACkF,SAAS,CAAC0F,gBAAgB,CAAC9K,CAAC,CAAC,CAACuE,IAAI,CAAEtE,CAAC,IAAE;MAAC,IAAI,CAACsC,UAAU,IAAE,IAAI,CAACA,UAAU,CAACwI,qBAAqB,CAAC,CAAC,CAAC,EAAC/K,CAAC,CAACuJ,OAAO,EAACvJ,CAAC,CAACgL,MAAM,EAAC/K,CAAC,CAACgL,aAAa,CAAC,EAAC,IAAI,CAACpD,yBAAyB,CAAC3H,CAAC,CAAC;IAAA,CAAE,CAAC,CAACiH,KAAK,CAAElH,CAAC,IAAE;MAACI,CAAC,CAACJ,CAAC,CAAC,IAAE,IAAI,CAACgD,SAAS,CAACtB,CAAC,CAACI,WAAW,EAACH,CAAC,CAACK,KAAK,EAAC,sCAAsChC,CAAC,GAAG,CAAC,EAAC,IAAI,CAACsC,UAAU,IAAE,IAAI,CAACA,UAAU,CAACwI,qBAAqB,CAAC,CAAC,CAAC,EAAC/K,CAAC,CAACuJ,OAAO,EAACvJ,CAAC,CAACgL,MAAM,EAAC,CAAC,CAAC,EAAC,IAAI,CAACnD,yBAAyB,CAAC3H,CAAC,CAAC;IAAA,CAAE,CAAC,CAAC;EAAA;EAACqG,gBAAgBA,CAACvG,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,IAAGA,CAAC,GAAC,CAAC,EAAC;IAAO,MAAMC,CAAC,GAAC,IAAI,CAACqC,OAAO,CAACuC,GAAG,CAAC/E,CAAC,CAAC;IAAC,IAAG,CAACG,CAAC,EAAC;IAAO,MAAME,CAAC,GAACF,CAAC,CAACiF,SAAS;MAAC7E,CAAC,GAAC,EAAE;MAACE,CAAC,GAAC,IAAIyK,WAAW,CAAC,IAAI,CAAC3I,UAAU,CAAC4I,OAAO,CAAC1C,MAAM,EAACxI,CAAC,EAACC,CAAC,CAAC;IAAC,KAAI,IAAIS,CAAC,GAAC,CAAC,EAACA,CAAC,GAACT,CAAC,EAAC,EAAES,CAAC,EAACJ,CAAC,CAAC6I,IAAI,CAAC3I,CAAC,CAACE,CAAC,CAAC,CAAC;IAAC,KAAI,IAAIA,CAAC,GAAC,CAAC,EAACA,CAAC,GAACT,CAAC,EAAC,EAAES,CAAC,EAACN,CAAC,CAAC+K,cAAc,CAAC7K,CAAC,CAACI,CAAC,CAAC,CAAC;EAAA;EAAC6F,wBAAwBA,CAACxG,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,IAAGA,CAAC,GAAC,CAAC,EAAC;IAAO,MAAME,CAAC,GAAC,IAAI,CAACmC,OAAO,CAACuC,GAAG,CAAC/E,CAAC,CAAC;IAAC,IAAG,CAACK,CAAC,EAAC;IAAO,MAAME,CAAC,GAACF,CAAC,CAAC+E,SAAS;MAAC3E,CAAC,GAAC,EAAE;MAACE,CAAC,GAAC,EAAE;MAACE,CAAC,GAAC,IAAIqK,WAAW,CAAC,IAAI,CAAC3I,UAAU,CAAC4I,OAAO,CAAC1C,MAAM,EAACxI,CAAC,EAACE,CAAC,CAAC;MAACY,CAAC,GAAC,IAAIwH,UAAU,CAAC,IAAI,CAAChG,UAAU,CAACiG,MAAM,CAACC,MAAM,EAACvI,CAAC,EAACC,CAAC,CAAC;IAAC,KAAI,IAAIc,CAAC,GAAC,CAAC,EAACA,CAAC,GAACd,CAAC,EAAC,EAAEc,CAAC,EAACR,CAAC,CAAC2I,IAAI,CAACvI,CAAC,CAACI,CAAC,CAAC,CAAC,EAACN,CAAC,CAACyI,IAAI,CAAC,CAAC,KAAGrI,CAAC,CAACE,CAAC,CAAC,CAAC;IAACV,CAAC,CAAC8K,uBAAuB,CAAC5K,CAAC,EAACE,CAAC,EAACR,CAAC,CAAC;EAAA;EAACsG,YAAYA,CAACzG,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,IAAI,CAACoC,UAAU,IAAE,IAAI,CAACU,SAAS,CAAC/C,CAAC,EAACC,CAAC,EAAC,IAAI,CAACoC,UAAU,CAAC+I,YAAY,CAACtL,CAAC,EAACC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;EAAA;EAAC2E,kBAAkBA,CAAC5E,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACuC,OAAO,CAACuC,GAAG,CAAC/E,CAAC,CAACgF,WAAW,CAAC;IAAC,OAAM,CAAC,CAAC/E,CAAC,KAAGA,CAAC,CAACiE,eAAe,CAACC,KAAK,CAAC,CAAC,EAAC,IAAI,CAAC5B,UAAU,CAACgJ,YAAY,CAACvL,CAAC,CAACgF,WAAW,CAAC,EAAC,IAAI,CAACxC,OAAO,CAACgJ,MAAM,CAACxL,CAAC,CAACgF,WAAW,CAAC,EAAC,CAAC,CAAC,CAAC;EAAA;EAACN,oBAAoBA,CAAC1E,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACD,CAAC,CAACgK,KAAK;IAAC,IAAG,CAAC/J,CAAC,CAACgK,GAAG,EAAC,OAAOlK,CAAC;IAAC,MAAMG,CAAC,GAAC,IAAI,CAACqC,UAAU,CAACkJ,iBAAiB,CAAC,CAAC;MAACtL,CAAC,GAAC,IAAIuL,eAAe,CAAD,CAAC;IAAC,IAAI,CAAClJ,OAAO,CAACkG,GAAG,CAACxI,CAAC,EAAC;MAACkF,SAAS,EAACpF,CAAC;MAACkE,eAAe,EAAC/D,CAAC;MAAC+E,qBAAqB,EAAC,CAAC,CAAC;MAACY,mBAAmB,EAAC,CAAC;MAACC,0BAA0B,EAAC,CAAC;MAAC4D,gBAAgB,EAAC1J,CAAC,CAAC0J,gBAAgB;MAACE,MAAM,EAAC5J,CAAC,CAAC4J,MAAM;MAAC1E,SAAS,EAAC,CAAC;IAAC,CAAC,CAAC;IAAC,MAAM9E,CAAC,GAACmB,CAAC,CAACvB,CAAC,CAAC0L,aAAa,CAAC;IAAC,OAAO,IAAI,CAACpJ,UAAU,CAACqJ,SAAS,CAAC3L,CAAC,CAACgK,GAAG,EAAC/J,CAAC,EAACG,CAAC,CAAC,IAAE,IAAI,CAACwD,iBAAiB,CAAC,CAAC,EAAC3D,CAAC,KAAG,IAAI,CAACsC,OAAO,CAACgJ,MAAM,CAACtL,CAAC,CAAC,EAACH,CAAC,CAAC;EAAA;EAAC8D,iBAAiBA,CAAA,EAAE;IAAC,MAAM7D,CAAC,GAAC,IAAI,CAAC0D,IAAI,CAACC,KAAK,EAAEC,aAAa;IAAC,IAAG,CAAC5D,CAAC,IAAE,CAAC,IAAI,CAACuC,UAAU,EAAC;IAAO,MAAK;QAACsJ,GAAG,EAAC5L,CAAC;QAAC6L,MAAM,EAAC5L,CAAC;QAAC6L,EAAE,EAAC5L,CAAC;QAAC6L,IAAI,EAAC3L,CAAC;QAAC4L,GAAG,EAAC1L,CAAC;QAAC2L,IAAI,EAACzL;MAAC,CAAC,GAACT,CAAC;MAACW,CAAC,GAAC,CAACX,CAAC,CAACmM,QAAQ,CAAC,CAAC,CAAC,EAACnM,CAAC,CAACmM,QAAQ,CAAC,CAAC,CAAC,CAAC;MAACtL,CAAC,GAACb,CAAC,CAACoM,KAAK,GAACpM,CAAC,CAACqM,MAAM;IAAC,IAAI,CAAC9J,UAAU,CAAC+J,qBAAqB,CAAC;MAACT,GAAG,EAAC5L,CAAC;MAAC6L,MAAM,EAAC5L,CAAC;MAAC6L,EAAE,EAAC5L,CAAC;MAAC6L,IAAI,EAAC3L,CAAC;MAAC4L,GAAG,EAAC1L,CAAC;MAACgM,GAAG,EAAC9L,CAAC;MAAC+L,WAAW,EAAC3L,CAAC;MAACsL,QAAQ,EAACxL;IAAC,CAAC,CAAC;EAAA;AAAC,CAAC;AAACX,CAAC,CAAC,CAACW,CAAC,CAAC;EAAC8L,aAAa,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACrK,CAAC,CAACsK,SAAS,EAAC,MAAM,EAAC,KAAK,CAAC,CAAC,EAACtK,CAAC,GAACpC,CAAC,CAAC,CAACa,CAAC,CAAC,mCAAmC,CAAC,CAAC,EAACuB,CAAC,CAAC;AAAC,MAAMuK,CAAC,GAACvK,CAAC;AAAC,SAAOuK,CAAC,IAAIC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}