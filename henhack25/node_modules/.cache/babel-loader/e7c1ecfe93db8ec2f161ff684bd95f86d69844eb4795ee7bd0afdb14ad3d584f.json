{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport \"../../core/has.js\";\nimport { disposeMaybe as t } from \"../../core/maybe.js\";\nimport { after as e } from \"../../core/promiseUtils.js\";\nimport { Milliseconds as s } from \"../../core/time.js\";\nimport { webglDebugEnabled as i, checkWebGLError as a } from \"./checkWebGLError.js\";\nimport { ContextState as r } from \"./ContextState.js\";\nimport { SpecialDrawBuffers as n, ColorAttachment as l, BufferType as h, Face as f, baseTextureUnit as o, FramebufferBit as u, FramebufferTarget as c, TextureSamplingMode as _, SyncCondition as d, ResourceType as b, ClientWaitSyncStatus as F, BlendFactor as g, BlendOperation as B, CullMode as p, CompareFunction as E, StencilOperation as m, TextureType as R, PrimitiveType as T } from \"./enums.js\";\nimport { InstanceCounter as A } from \"./InstanceCounter.js\";\nimport { Parameters as C } from \"./Parameters.js\";\nimport { ProgramCache as O } from \"./ProgramCache.js\";\nimport { StateTracker as x } from \"./renderState.js\";\nimport { Texture as U } from \"./Texture.js\";\nimport { getErrorString as k } from \"./Util.js\";\nimport { WebGLDriverTest as w } from \"./WebGLDriverTest.js\";\nimport { Capabilities as S } from \"./capabilities/Capabilities.js\";\nlet y = class {\n  constructor(t, e) {\n    this.gl = t, this.instanceCounter = new A(), this.programCache = new O(this), this._transformFeedbackRequestInfo = null, this._state = new r(), this._numOfDrawCalls = 0, this._numOfTriangles = 0, this._loadExtensions(), this.configure(e);\n  }\n  configure(e) {\n    this._capabilities = new S(this.gl, e), this._parameters = new C(this.gl, this._capabilities, e), U.TEXTURE_UNIT_FOR_UPDATES = this._parameters.maxTextureImageUnits - 1;\n    const s = this.gl.getParameter(this.gl.VIEWPORT);\n    this._state = new r(), this._state.viewport = {\n      x: s[0],\n      y: s[1],\n      width: s[2],\n      height: s[3]\n    }, this._stateTracker = new x({\n      setBlending: t => {\n        if (t) {\n          this.setBlendingEnabled(!0), this.setBlendEquationSeparate(t.opRgb, t.opAlpha), this.setBlendFunctionSeparate(t.srcRgb, t.dstRgb, t.srcAlpha, t.dstAlpha);\n          const e = t.color;\n          this.setBlendColor(e.r, e.g, e.b, e.a);\n        } else this.setBlendingEnabled(!1);\n      },\n      setCulling: t => {\n        t ? (this.setFaceCullingEnabled(!0), this.setCullFace(t.face), this.setFrontFace(t.mode)) : this.setFaceCullingEnabled(!1);\n      },\n      setPolygonOffset: t => {\n        t ? (this.setPolygonOffsetFillEnabled(!0), this.setPolygonOffset(t.factor, t.units)) : this.setPolygonOffsetFillEnabled(!1);\n      },\n      setDepthTest: t => {\n        t ? (this.setDepthTestEnabled(!0), this.setDepthFunction(t.func)) : this.setDepthTestEnabled(!1);\n      },\n      setStencilTest: t => {\n        if (t) {\n          this.setStencilTestEnabled(!0);\n          const e = t.function;\n          this.setStencilFunction(e.func, e.ref, e.mask);\n          const s = t.operation;\n          this.setStencilOp(s.fail, s.zFail, s.zPass);\n        } else this.setStencilTestEnabled(!1);\n      },\n      setDepthWrite: t => {\n        t ? (this.setDepthWriteEnabled(!0), this.setDepthRange(t.zNear, t.zFar)) : this.setDepthWriteEnabled(!1);\n      },\n      setColorWrite: t => {\n        t ? this.setColorMask(t.r, t.g, t.b, t.a) : this.setColorMask(!1, !1, !1, !1);\n      },\n      setStencilWrite: t => {\n        t ? this.setStencilWriteMask(t.mask) : this.setStencilWriteMask(0);\n      },\n      setDrawBuffers: t => {\n        if (t) this.setDrawBuffers(t.buffers);else {\n          const {\n            drawFramebuffer: t\n          } = this._state;\n          null === t ? this.setDrawBuffers([n.BACK]) : 0 === t.colorAttachments.length ? this.setDrawBuffers([n.NONE]) : this.setDrawBuffers([l.COLOR_ATTACHMENT0]);\n        }\n      }\n    }), this.enforceState(), t(this._driverTest), this._driverTest = new w(this);\n  }\n  dispose() {\n    t(this._driverTest), this.programCache.dispose(), this.bindVAO(null), this.unbindBuffer(h.ARRAY_BUFFER), this.unbindBuffer(h.ELEMENT_ARRAY_BUFFER), this.unbindBuffer(h.UNIFORM_BUFFER), this._state.uniformBufferBindingPoints.length = 0, this.unbindBuffer(h.PIXEL_PACK_BUFFER), this.unbindBuffer(h.PIXEL_UNPACK_BUFFER), this.unbindBuffer(h.COPY_READ_BUFFER), this.unbindBuffer(h.COPY_WRITE_BUFFER), this._state.textureUnitMap.length = 0, i() && console.log(this.instanceCounter.resourceInformation);\n  }\n  get driverTest() {\n    return this._driverTest;\n  }\n  get contextAttributes() {\n    return this.gl.getContextAttributes();\n  }\n  get parameters() {\n    return this._parameters;\n  }\n  setPipelineState(t) {\n    this._stateTracker.setPipeline(t);\n  }\n  setBlendingEnabled(t) {\n    this._state.blend !== t && (!0 === t ? this.gl.enable(this.gl.BLEND) : this.gl.disable(this.gl.BLEND), this._state.blend = t, this._stateTracker.invalidateBlending());\n  }\n  externalProgramUpdate() {\n    this._state.program?.stop(), this._state.program = null;\n  }\n  externalTextureUnitUpdate(t, e) {\n    for (let s = 0; s < t.length; ++s) this._state.textureUnitMap[t[s]] = null;\n    e >= 0 && (this._state.activeTexture = e);\n  }\n  externalVertexArrayObjectUpdate() {\n    this.gl.bindVertexArray(null), this._state.vertexArrayObject = null, this._state.vertexBuffer = null, this._state.indexBuffer = null;\n  }\n  externalVertexBufferUpdate() {\n    this._state.vertexBuffer = null;\n  }\n  externalIndexBufferUpdate() {\n    this._state.indexBuffer = null;\n  }\n  setBlendColor(t, e, s, i) {\n    t === this._state.blendColor.r && e === this._state.blendColor.g && s === this._state.blendColor.b && i === this._state.blendColor.a || (this.gl.blendColor(t, e, s, i), this._state.blendColor.r = t, this._state.blendColor.g = e, this._state.blendColor.b = s, this._state.blendColor.a = i, this._stateTracker.invalidateBlending());\n  }\n  setBlendFunction(t, e) {\n    t === this._state.blendFunction.srcRGB && e === this._state.blendFunction.dstRGB || (this.gl.blendFunc(t, e), this._state.blendFunction.srcRGB = t, this._state.blendFunction.srcAlpha = t, this._state.blendFunction.dstRGB = e, this._state.blendFunction.dstAlpha = e, this._stateTracker.invalidateBlending());\n  }\n  setBlendFunctionSeparate(t, e, s, i) {\n    this._state.blendFunction.srcRGB === t && this._state.blendFunction.srcAlpha === s && this._state.blendFunction.dstRGB === e && this._state.blendFunction.dstAlpha === i || (this.gl.blendFuncSeparate(t, e, s, i), this._state.blendFunction.srcRGB = t, this._state.blendFunction.srcAlpha = s, this._state.blendFunction.dstRGB = e, this._state.blendFunction.dstAlpha = i, this._stateTracker.invalidateBlending());\n  }\n  setBlendEquation(t) {\n    this._state.blendEquation.mode !== t && (this.gl.blendEquation(t), this._state.blendEquation.mode = t, this._state.blendEquation.modeAlpha = t, this._stateTracker.invalidateBlending());\n  }\n  setBlendEquationSeparate(t, e) {\n    this._state.blendEquation.mode === t && this._state.blendEquation.modeAlpha === e || (this.gl.blendEquationSeparate(t, e), this._state.blendEquation.mode = t, this._state.blendEquation.modeAlpha = e, this._stateTracker.invalidateBlending());\n  }\n  setColorMask(t, e, s, i) {\n    this._state.colorMask.r === t && this._state.colorMask.g === e && this._state.colorMask.b === s && this._state.colorMask.a === i || (this.gl.colorMask(t, e, s, i), this._state.colorMask.r = t, this._state.colorMask.g = e, this._state.colorMask.b = s, this._state.colorMask.a = i, this._stateTracker.invalidateColorWrite());\n  }\n  setClearColor(t, e, s, i) {\n    this._state.clearColor.r === t && this._state.clearColor.g === e && this._state.clearColor.b === s && this._state.clearColor.a === i || (this.gl.clearColor(t, e, s, i), this._state.clearColor.r = t, this._state.clearColor.g = e, this._state.clearColor.b = s, this._state.clearColor.a = i);\n  }\n  setFaceCullingEnabled(t) {\n    this._state.faceCulling !== t && (!0 === t ? this.gl.enable(this.gl.CULL_FACE) : this.gl.disable(this.gl.CULL_FACE), this._state.faceCulling = t, this._stateTracker.invalidateCulling());\n  }\n  setPolygonOffsetFillEnabled(t) {\n    this._state.polygonOffsetFill !== t && (!0 === t ? this.gl.enable(this.gl.POLYGON_OFFSET_FILL) : this.gl.disable(this.gl.POLYGON_OFFSET_FILL), this._state.polygonOffsetFill = t, this._stateTracker.invalidatePolygonOffset());\n  }\n  setPolygonOffset(t, e) {\n    this._state.polygonOffset[0] === t && this._state.polygonOffset[1] === e || (this._state.polygonOffset[0] = t, this._state.polygonOffset[1] = e, this.gl.polygonOffset(t, e), this._stateTracker.invalidatePolygonOffset());\n  }\n  setCullFace(t) {\n    this._state.cullFace !== t && (this.gl.cullFace(t), this._state.cullFace = t, this._stateTracker.invalidateCulling());\n  }\n  setFrontFace(t) {\n    this._state.frontFace !== t && (this.gl.frontFace(t), this._state.frontFace = t, this._stateTracker.invalidateCulling());\n  }\n  setScissorTestEnabled(t) {\n    this._state.scissorTest !== t && (!0 === t ? this.gl.enable(this.gl.SCISSOR_TEST) : this.gl.disable(this.gl.SCISSOR_TEST), this._state.scissorTest = t);\n  }\n  setScissorRect(t, e, s, i) {\n    this._state.scissorRect.x === t && this._state.scissorRect.y === e && this._state.scissorRect.width === s && this._state.scissorRect.height === i || (this.gl.scissor(t, e, s, i), this._state.scissorRect.x = t, this._state.scissorRect.y = e, this._state.scissorRect.width = s, this._state.scissorRect.height = i);\n  }\n  setDepthTestEnabled(t) {\n    this._state.depthTest !== t && (!0 === t ? this.gl.enable(this.gl.DEPTH_TEST) : this.gl.disable(this.gl.DEPTH_TEST), this._state.depthTest = t, this._stateTracker.invalidateDepthTest());\n  }\n  setClearDepth(t) {\n    this._state.clearDepth !== t && (this.gl.clearDepth(t), this._state.clearDepth = t);\n  }\n  setDepthFunction(t) {\n    this._state.depthFunction !== t && (this.gl.depthFunc(t), this._state.depthFunction = t, this._stateTracker.invalidateDepthTest());\n  }\n  setDepthWriteEnabled(t) {\n    this._state.depthWrite !== t && (this.gl.depthMask(t), this._state.depthWrite = t, this._stateTracker.invalidateDepthWrite());\n  }\n  setDepthRange(t, e) {\n    this._state.depthRange.zNear === t && this._state.depthRange.zFar === e || (this.gl.depthRange(t, e), this._state.depthRange.zNear = t, this._state.depthRange.zFar = e, this._stateTracker.invalidateDepthWrite());\n  }\n  setStencilTestEnabled(t) {\n    this._state.stencilTest !== t && (!0 === t ? this.gl.enable(this.gl.STENCIL_TEST) : this.gl.disable(this.gl.STENCIL_TEST), this._state.stencilTest = t, this._stateTracker.invalidateStencilTest());\n  }\n  setClearStencil(t) {\n    t !== this._state.clearStencil && (this.gl.clearStencil(t), this._state.clearStencil = t);\n  }\n  setStencilFunction(t, e, s) {\n    this._state.stencilFunction.func === t && this._state.stencilFunction.ref === e && this._state.stencilFunction.mask === s || (this.gl.stencilFunc(t, e, s), this._state.stencilFunction.face = f.FRONT_AND_BACK, this._state.stencilFunction.func = t, this._state.stencilFunction.ref = e, this._state.stencilFunction.mask = s, this._stateTracker.invalidateStencilTest());\n  }\n  setStencilFunctionSeparate(t, e, s, i) {\n    this._state.stencilFunction.face === t && this._state.stencilFunction.func === e && this._state.stencilFunction.ref === s && this._state.stencilFunction.mask === i || (this.gl.stencilFuncSeparate(t, e, s, i), this._state.stencilFunction.face = t, this._state.stencilFunction.func = e, this._state.stencilFunction.ref = s, this._state.stencilFunction.mask = i, this._stateTracker.invalidateStencilTest());\n  }\n  setStencilWriteMask(t) {\n    this._state.stencilWriteMask !== t && (this.gl.stencilMask(t), this._state.stencilWriteMask = t, this._stateTracker.invalidateStencilWrite());\n  }\n  setStencilOp(t, e, s) {\n    this._state.stencilOperation.face === f.FRONT_AND_BACK && this._state.stencilOperation.fail === t && this._state.stencilOperation.zFail === e && this._state.stencilOperation.zPass === s || (this.gl.stencilOp(t, e, s), this._state.stencilOperation.face = f.FRONT_AND_BACK, this._state.stencilOperation.fail = t, this._state.stencilOperation.zFail = e, this._state.stencilOperation.zPass = s, this._stateTracker.invalidateStencilTest());\n  }\n  setStencilOpSeparate(t, e, s, i) {\n    this._state.stencilOperation.face === t && this._state.stencilOperation.fail === e && this._state.stencilOperation.zFail === s && this._state.stencilOperation.zPass === i || (this.gl.stencilOpSeparate(t, e, s, i), this._state.stencilOperation.face = t, this._state.stencilOperation.fail = e, this._state.stencilOperation.zFail = s, this._state.stencilOperation.zPass = i, this._stateTracker.invalidateStencilTest());\n  }\n  setActiveTexture(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    const s = this._state.activeTexture;\n    return t >= 0 && (e || t !== this._state.activeTexture) && (this.gl.activeTexture(o + t), this._state.activeTexture = t), s;\n  }\n  setDrawBuffers(t) {\n    const {\n        drawFramebuffer: e\n      } = this._state,\n      s = null === e,\n      i = s ? this._state.drawBuffers.defaultFramebuffer : this._state.drawBuffers.fbos.get(e);\n    if (i?.length !== t.length || !i.every((e, s) => e === t[s])) if (t.length > this.parameters.maxDrawBuffers) console.error(\"Setting more active draw buffers than GL.MAX_DRAW_BUFFERS allows.\");else {\n      if (s) {\n        if (t.length > 1) return void console.error(\"The default framebuffer can only have one active draw buffer.\");\n        if (t[0] !== n.BACK && t[0] !== n.NONE) return void console.error(\"The default framebuffer can only use the constants GL.BACK or GL.NONE as draw buffers.\");\n      }\n      s || !t.includes(n.BACK) ? (this.gl.drawBuffers(t), s ? this._state.drawBuffers.defaultFramebuffer = t : this._state.drawBuffers.fbos.set(e, t), this._stateTracker.invalidateDrawBuffers()) : console.error(\"A framebuffer object can only use the constants GL.COLOR_ATTACHMENTi or GL.NONE as draw buffers.\");\n    }\n  }\n  clear(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 255;\n    if (t) {\n      if (t & u.COLOR) {\n        const t = this._state.drawFramebuffer?.colorAttachments;\n        t && this.setDrawBuffers(t), this.setColorMask(!0, !0, !0, !0);\n      }\n      t & u.DEPTH && this.setDepthWriteEnabled(!0), t & u.STENCIL && this.setStencilWriteMask(e), this.gl.clear(t);\n    }\n  }\n  clearFramebuffer(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    let i = 0;\n    if (t) {\n      const e = 1e-13,\n        s = Math.max(e, t[3]);\n      this.setClearColor(t[0], t[1], t[2], s), i |= u.COLOR;\n    }\n    e && (i |= u.DEPTH), !1 === s ? s = 0 : (!0 === s && (s = 255), i |= u.STENCIL), i && this.clear(i, s);\n  }\n  drawArrays(t, e, s) {\n    if (this._transformFeedbackRequestInfo) {\n      if (t !== this._transformFeedbackRequestInfo.primitiveType) throw new Error(\"DrawArrays called during transform feedback, but primitiveType does not match that of the current transform feedback request\");\n      if (null == this._state.program?.hasTransformFeedbackVaryings) throw new Error(\"DrawArrays called during transform feedback, but the shader program was not linked with a transform feedback varying\");\n    }\n    if (i()) {\n      this._numOfDrawCalls++, this._numOfTriangles += D(t, s);\n      const e = this._state.textureUnitMap;\n      for (let t = 0; t < e.length; t++) {\n        const s = e[t];\n        if (null != s && s === this._state.drawFramebuffer?.colorTexture) throw new Error(`Detected readWrite. Texture already bound at index ${t}`);\n      }\n    }\n    this.gl.drawArrays(t, e, s), a(this.gl);\n  }\n  drawArraysInstanced(t, e, s, i) {\n    this.gl.drawArraysInstanced(t, e, s, i), a(this.gl);\n  }\n  drawElements(t, e, s, a) {\n    if (this._transformFeedbackRequestInfo) throw new Error(\"Cannot called drawElements during a transform feedback request\");\n    if (i() && (this._numOfDrawCalls++, this._numOfTriangles += D(t, e)), this.gl.drawElements(t, e, s, a), i()) {\n      const i = k(this);\n      if (i) {\n        const r = this.getBoundVAO(),\n          n = r?.indexBuffer,\n          l = r?.vertexBuffers,\n          h = {\n            indexBuffer: n,\n            vertexBuffers: l\n          },\n          f = {\n            mode: t,\n            count: e,\n            type: s,\n            offset: a\n          },\n          o = n?.size ?? 0,\n          u = a + e,\n          c = o < u ? `. Buffer is too small. Attempted to draw index ${u} of ${o}` : \"\";\n        console.error(`drawElements: ${i}${c}`, {\n          args: f,\n          vao: h\n        });\n      }\n    }\n  }\n  drawElementsInstanced(t, e, s, i, r) {\n    this.gl.drawElementsInstanced(t, e, s, i, r), a(this.gl);\n  }\n  logInfo() {\n    i() && console.log(`DrawCalls: ${this._numOfDrawCalls}, Triangles: ${this._numOfTriangles}`);\n  }\n  resetInfo() {\n    i() && (this._numOfDrawCalls = 0, this._numOfTriangles = 0);\n  }\n  get capabilities() {\n    return this._capabilities;\n  }\n  setViewport(t, e, s, i) {\n    s = Math.max(Math.round(s), 1), i = Math.max(Math.round(i), 1);\n    const a = this._state.viewport;\n    a.x === t && a.y === e && a.width === s && a.height === i || (a.x = t, a.y = e, a.width = s, a.height = i, this.gl.viewport(t, e, s, i));\n  }\n  setViewport4fv(t) {\n    this.setViewport(t[0], t[1], t[2], t[3]);\n  }\n  restoreViewport(_ref) {\n    let {\n      x: t,\n      y: e,\n      width: s,\n      height: i\n    } = _ref;\n    this.setViewport(t, e, s, i);\n  }\n  getViewport() {\n    const t = this._state.viewport;\n    return {\n      x: t.x,\n      y: t.y,\n      width: t.width,\n      height: t.height\n    };\n  }\n  useProgram(t) {\n    this._state.program !== t && (this._state.program?.stop(), this._state.program = t, this.gl.useProgram(t?.glName ?? null));\n  }\n  bindTexture(t, e) {\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    (e >= this.parameters.maxTextureImageUnits || e < 0) && console.error(\"Input texture unit is out of range of available units!\");\n    const i = this._state.textureUnitMap[e];\n    return null == t?.glName ? (null != i && (this.setActiveTexture(e, s), this.gl.bindTexture(i.descriptor.target, null)), this._state.textureUnitMap[e] = null, i) : s || i !== t ? (this.setActiveTexture(e, s), this.gl.bindTexture(t.descriptor.target, t.glName), t.applyChanges(), this._state.textureUnitMap[e] = t, i) : (t.isDirty && (this.setActiveTexture(e, s), t.applyChanges()), i);\n  }\n  unbindTexture(t) {\n    if (null != t) for (let e = 0; e < this.parameters.maxTextureImageUnits; e++) this._state.textureUnitMap[e] === t && (this.bindTexture(null, e), this._state.textureUnitMap[e] = null);\n  }\n  bindFramebuffer(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    if (e || this._state.readFramebuffer !== t || this._state.drawFramebuffer !== t) {\n      if (this._stateTracker.invalidateDrawBuffers(), null == t) return this.gl.bindFramebuffer(c.FRAMEBUFFER, null), void (this._state.readFramebuffer = this._state.drawFramebuffer = null);\n      t.initializeAndBind(c.FRAMEBUFFER), this._state.readFramebuffer = t, this._state.drawFramebuffer = t;\n    }\n  }\n  bindFramebufferSeparate(t, e) {\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    const i = e === c.READ_FRAMEBUFFER,\n      a = i ? this._state.readFramebuffer : this._state.drawFramebuffer;\n    (s || a !== t) && (null == t ? this.gl.bindFramebuffer(e, null) : t.initializeAndBind(e), i ? this._state.readFramebuffer = t ?? null : (this._stateTracker.invalidateDrawBuffers(), this._state.drawFramebuffer = t ?? null));\n  }\n  blitFramebuffer(t, e) {\n    let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let a = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : t.width;\n    let r = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : t.height;\n    let n = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n    let l = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 0;\n    let h = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : e.width;\n    let f = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : e.height;\n    let o = arguments.length > 10 && arguments[10] !== undefined ? arguments[10] : u.COLOR;\n    let d = arguments.length > 11 && arguments[11] !== undefined ? arguments[11] : _.NEAREST;\n    this.bindFramebufferSeparate(t, c.READ_FRAMEBUFFER), this.bindFramebufferSeparate(e, c.DRAW_FRAMEBUFFER), this.gl.blitFramebuffer(s, i, a, r, n, l, h, f, o, d);\n  }\n  bindBuffer(t, e) {\n    if (t) switch (e ??= t.bufferType, e) {\n      case h.ARRAY_BUFFER:\n        this._state.vertexBuffer = N(this.gl, t, e, this._state.vertexBuffer);\n        break;\n      case h.ELEMENT_ARRAY_BUFFER:\n        this._state.indexBuffer = N(this.gl, t, e, this._state.indexBuffer);\n        break;\n      case h.UNIFORM_BUFFER:\n        this._state.uniformBuffer = N(this.gl, t, e, this._state.uniformBuffer);\n        break;\n      case h.PIXEL_PACK_BUFFER:\n        this._state.pixelPackBuffer = N(this.gl, t, e, this._state.pixelPackBuffer);\n        break;\n      case h.PIXEL_UNPACK_BUFFER:\n        this._state.pixelUnpackBuffer = N(this.gl, t, e, this._state.pixelUnpackBuffer);\n        break;\n      case h.COPY_READ_BUFFER:\n        this._state.copyReadBuffer = N(this.gl, t, e, this._state.copyReadBuffer);\n        break;\n      case h.COPY_WRITE_BUFFER:\n        this._state.copyWriteBuffer = N(this.gl, t, e, this._state.copyWriteBuffer);\n        break;\n      case h.TRANSFORM_FEEDBACK_BUFFER:\n        this._state.transformFeedbackBuffer = N(this.gl, t, e, this._state.transformFeedbackBuffer);\n    }\n  }\n  bindRenderbuffer(t) {\n    const e = this.gl;\n    t || (e.bindRenderbuffer(e.RENDERBUFFER, null), this._state.renderbuffer = null), this._state.renderbuffer !== t && (e.bindRenderbuffer(e.RENDERBUFFER, t.glName), this._state.renderbuffer = t);\n  }\n  _getBufferBinding(t, e) {\n    if (e >= this.parameters.maxUniformBufferBindings || e < 0) return console.error(\"Uniform buffer binding point is out of range!\"), null;\n    const s = t === h.UNIFORM_BUFFER ? this._state.uniformBufferBindingPoints : this._state.transformBufferBindingPoints;\n    let i = s[e];\n    return null == i && (i = {\n      buffer: null,\n      offset: 0,\n      size: 0\n    }, s[e] = i), i;\n  }\n  bindBufferBase(t, e, s) {\n    const i = this._getBufferBinding(t, e);\n    null != i && (i.buffer === s && 0 === i.offset && 0 === i.size || (this.gl.bindBufferBase(t, e, s ? s.glName : null), i.buffer = s, i.offset = 0, i.size = 0));\n  }\n  bindBufferRange(t, e, s, i, a) {\n    const r = this._getBufferBinding(t, e);\n    null != r && (r.buffer === s && r.offset === i && r.size === a || (i % this._parameters.uniformBufferOffsetAlignment == 0 ? (this.gl.bindBufferRange(t, e, s.glName, i, a), r.buffer = s, r.offset = i, r.size = a) : console.error(\"Uniform buffer binding offset is not a multiple of the context offset alignment\")));\n  }\n  bindUBO(t, e, s, a) {\n    null != e ? (i() && (a ?? e.byteLength) > this._parameters.maxUniformBlockSize && console.error(\"Attempting to bind more data than the maximum uniform block size\"), e.initialize(), void 0 !== s && void 0 !== a ? this.bindBufferRange(h.UNIFORM_BUFFER, t, e.buffer, s, a) : this.bindBufferBase(h.UNIFORM_BUFFER, t, e.buffer)) : this.bindBufferBase(h.UNIFORM_BUFFER, t, null);\n  }\n  unbindUBO(t) {\n    for (let e = 0, s = this._state.uniformBufferBindingPoints.length; e < s; e++) {\n      const s = this._state.uniformBufferBindingPoints[e];\n      null != s && s.buffer === t.buffer && this.bindBufferBase(h.UNIFORM_BUFFER, e, null);\n    }\n  }\n  unbindBuffer(t) {\n    switch (t) {\n      case h.ARRAY_BUFFER:\n        this._state.vertexBuffer = N(this.gl, null, t, this._state.vertexBuffer);\n        break;\n      case h.ELEMENT_ARRAY_BUFFER:\n        this._state.indexBuffer = N(this.gl, null, t, this._state.indexBuffer);\n        break;\n      case h.UNIFORM_BUFFER:\n        this._state.uniformBuffer = N(this.gl, null, t, this._state.uniformBuffer);\n        break;\n      case h.PIXEL_PACK_BUFFER:\n        this._state.pixelPackBuffer = N(this.gl, null, t, this._state.pixelPackBuffer);\n        break;\n      case h.PIXEL_UNPACK_BUFFER:\n        this._state.pixelUnpackBuffer = N(this.gl, null, t, this._state.pixelUnpackBuffer);\n        break;\n      case h.COPY_READ_BUFFER:\n        this._state.copyReadBuffer = N(this.gl, null, t, this._state.copyReadBuffer);\n        break;\n      case h.COPY_WRITE_BUFFER:\n        this._state.copyWriteBuffer = N(this.gl, null, t, this._state.copyWriteBuffer);\n    }\n  }\n  bindVAO() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    null != t ? this._state.vertexArrayObject !== t && (t.bind(), this._state.vertexArrayObject = t) : this._state.vertexArrayObject && (this._state.vertexArrayObject.unbind(), this._state.vertexArrayObject = null);\n  }\n  bindTransformFeedback(t) {\n    const {\n      gl: e\n    } = this;\n    e.bindTransformFeedback(e.TRANSFORM_FEEDBACK, t.glName);\n  }\n  beginTransformFeedback(t, e) {\n    if (this._transformFeedbackRequestInfo) throw new Error(\"Already in a transform feedback request\");\n    const {\n      gl: s\n    } = this;\n    s.bindTransformFeedback(s.TRANSFORM_FEEDBACK, t.glName), s.beginTransformFeedback(e), this._transformFeedbackRequestInfo = {\n      primitiveType: e\n    };\n  }\n  endTransformFeedback() {\n    if (!this._transformFeedbackRequestInfo) throw new Error(\"Not in a transform feedback request\");\n    const {\n      gl: t\n    } = this;\n    t.endTransformFeedback(), t.bindTransformFeedback(t.TRANSFORM_FEEDBACK, null), this._transformFeedbackRequestInfo = null;\n  }\n  async clientWaitAsync() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : s(10);\n    const {\n        gl: i\n      } = this,\n      a = i.fenceSync(d.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    if (!a) throw new Error(\"Client wait failed, could not create sync object\");\n    let r;\n    this.instanceCounter.increment(b.Sync, a), i.flush();\n    do {\n      await e(t), r = i.clientWaitSync(a, 0, 0);\n    } while (r === F.TIMEOUT_EXPIRED);\n    if (this.instanceCounter.decrement(b.Sync, a), i.deleteSync(a), r === F.WAIT_FAILED) throw new Error(\"Client wait failed\");\n  }\n  getBoundFramebufferObject() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : c.FRAMEBUFFER;\n    return t === c.READ_FRAMEBUFFER ? this._state.readFramebuffer : this._state.drawFramebuffer;\n  }\n  getBoundVAO() {\n    return this._state.vertexArrayObject;\n  }\n  resetState() {\n    this.useProgram(null), this.bindVAO(null), this.bindFramebuffer(null, !0), this.unbindBuffer(h.ARRAY_BUFFER), this.unbindBuffer(h.ELEMENT_ARRAY_BUFFER), this.unbindBuffer(h.UNIFORM_BUFFER), this._state.uniformBufferBindingPoints.length = 0, this.unbindBuffer(h.PIXEL_PACK_BUFFER), this.unbindBuffer(h.PIXEL_UNPACK_BUFFER), this.unbindBuffer(h.COPY_READ_BUFFER), this.unbindBuffer(h.COPY_WRITE_BUFFER);\n    for (let t = 0; t < this.parameters.maxTextureImageUnits; ++t) this.bindTexture(null, t);\n    this.setBlendingEnabled(!1), this.setBlendFunction(g.ONE, g.ZERO), this.setBlendEquation(B.ADD), this.setBlendColor(0, 0, 0, 0), this.setFaceCullingEnabled(!1), this.setCullFace(f.BACK), this.setFrontFace(p.CCW), this.setPolygonOffsetFillEnabled(!1), this.setPolygonOffset(0, 0), this.setScissorTestEnabled(!1), this.setScissorRect(0, 0, this.gl.canvas.width, this.gl.canvas.height), this.setDepthTestEnabled(!1), this.setDepthFunction(E.LESS), this.setDepthRange(0, 1), this.setStencilTestEnabled(!1), this.setStencilFunction(E.ALWAYS, 0, 0), this.setStencilOp(m.KEEP, m.KEEP, m.KEEP), this.setClearColor(0, 0, 0, 0), this.setClearDepth(1), this.setClearStencil(0), this.setColorMask(!0, !0, !0, !0), this.setStencilWriteMask(4294967295), this.setDepthWriteEnabled(!0), this.setDrawBuffers([n.BACK]), this.setViewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n  }\n  enforceState() {\n    const {\n      gl: t\n    } = this;\n    t.bindVertexArray(null);\n    for (let s = 0; s < this.parameters.maxVertexAttributes; s++) t.disableVertexAttribArray(s);\n    this._state.vertexBuffer ? t.bindBuffer(this._state.vertexBuffer.bufferType, this._state.vertexBuffer.glName) : t.bindBuffer(h.ARRAY_BUFFER, null), this._state.indexBuffer ? t.bindBuffer(this._state.indexBuffer.bufferType, this._state.indexBuffer.glName) : t.bindBuffer(h.ELEMENT_ARRAY_BUFFER, null), this._state.uniformBuffer ? t.bindBuffer(this._state.uniformBuffer.bufferType, this._state.uniformBuffer.glName) : t.bindBuffer(h.UNIFORM_BUFFER, null);\n    for (let s = 0; s < this._parameters.maxUniformBufferBindings; s++) {\n      const e = this._state.uniformBufferBindingPoints[s];\n      if (null != e) {\n        const {\n          buffer: i,\n          offset: a,\n          size: r\n        } = e;\n        null !== i ? 0 === a && 0 === r ? t.bindBufferBase(h.UNIFORM_BUFFER, s, i.glName) : t.bindBufferRange(h.UNIFORM_BUFFER, s, i.glName, a, r) : t.bindBufferBase(h.UNIFORM_BUFFER, s, null);\n      }\n    }\n    if (this._state.pixelPackBuffer ? t.bindBuffer(this._state.pixelPackBuffer.bufferType, this._state.pixelPackBuffer.glName) : t.bindBuffer(h.PIXEL_PACK_BUFFER, null), this._state.pixelUnpackBuffer ? t.bindBuffer(this._state.pixelUnpackBuffer.bufferType, this._state.pixelUnpackBuffer.glName) : t.bindBuffer(h.PIXEL_UNPACK_BUFFER, null), this._state.copyReadBuffer ? t.bindBuffer(this._state.copyReadBuffer.bufferType, this._state.copyReadBuffer.glName) : t.bindBuffer(h.COPY_READ_BUFFER, null), this._state.copyWriteBuffer ? t.bindBuffer(this._state.copyWriteBuffer.bufferType, this._state.copyWriteBuffer.glName) : t.bindBuffer(h.COPY_WRITE_BUFFER, null), t.bindFramebuffer(c.READ_FRAMEBUFFER, null), t.readBuffer(t.BACK), this._state.readFramebuffer && (t.bindFramebuffer(c.READ_FRAMEBUFFER, this._state.readFramebuffer.glName), t.readBuffer(l.COLOR_ATTACHMENT0)), t.bindFramebuffer(c.DRAW_FRAMEBUFFER, this._state.drawFramebuffer?.glName ?? null), null === this._state.drawFramebuffer) {\n      const e = this._state.drawBuffers.defaultFramebuffer;\n      t.drawBuffers(e ?? [n.BACK]);\n    } else {\n      const e = this._state.drawBuffers.fbos.get(this._state.drawFramebuffer);\n      t.drawBuffers(e ?? [l.COLOR_ATTACHMENT0]);\n    }\n    if (this._state.vertexArrayObject) {\n      const t = this._state.vertexArrayObject;\n      this._state.vertexArrayObject && (this._state.vertexArrayObject.unbind(), this._state.vertexArrayObject = null), this.bindVAO(t);\n    }\n    t.useProgram(this._state.program?.glName ?? null), t.blendColor(this._state.blendColor.r, this._state.blendColor.g, this._state.blendColor.b, this._state.blendColor.a), t.bindRenderbuffer(t.RENDERBUFFER, this._state.renderbuffer?.glName ?? null), !0 === this._state.blend ? t.enable(this.gl.BLEND) : t.disable(this.gl.BLEND), t.blendEquationSeparate(this._state.blendEquation.mode, this._state.blendEquation.modeAlpha), t.blendFuncSeparate(this._state.blendFunction.srcRGB, this._state.blendFunction.dstRGB, this._state.blendFunction.srcAlpha, this._state.blendFunction.dstAlpha), t.clearColor(this._state.clearColor.r, this._state.clearColor.g, this._state.clearColor.b, this._state.clearColor.a), t.clearDepth(this._state.clearDepth), t.clearStencil(this._state.clearStencil), t.colorMask(this._state.colorMask.r, this._state.colorMask.g, this._state.colorMask.b, this._state.colorMask.a), t.cullFace(this._state.cullFace), t.depthFunc(this._state.depthFunction), t.depthRange(this._state.depthRange.zNear, this._state.depthRange.zFar), !0 === this._state.depthTest ? t.enable(t.DEPTH_TEST) : t.disable(t.DEPTH_TEST), t.depthMask(this._state.depthWrite), t.frontFace(this._state.frontFace), t.lineWidth(1), !0 === this._state.faceCulling ? t.enable(t.CULL_FACE) : t.disable(t.CULL_FACE), t.polygonOffset(this._state.polygonOffset[0], this._state.polygonOffset[1]), !0 === this._state.polygonOffsetFill ? t.enable(t.POLYGON_OFFSET_FILL) : t.disable(t.POLYGON_OFFSET_FILL), t.scissor(this._state.scissorRect.x, this._state.scissorRect.y, this._state.scissorRect.width, this._state.scissorRect.height), !0 === this._state.scissorTest ? t.enable(t.SCISSOR_TEST) : t.disable(t.SCISSOR_TEST), t.stencilFunc(this._state.stencilFunction.func, this._state.stencilFunction.ref, this._state.stencilFunction.mask), t.stencilOpSeparate(this._state.stencilOperation.face, this._state.stencilOperation.fail, this._state.stencilOperation.zFail, this._state.stencilOperation.zPass), !0 === this._state.stencilTest ? t.enable(t.STENCIL_TEST) : t.disable(t.STENCIL_TEST), t.stencilMask(this._state.stencilWriteMask);\n    for (let s = 0; s < this.parameters.maxTextureImageUnits; s++) {\n      t.activeTexture(o + s), t.bindTexture(R.TEXTURE_2D, null), t.bindTexture(R.TEXTURE_CUBE_MAP, null), t.bindTexture(R.TEXTURE_3D, null), t.bindTexture(R.TEXTURE_2D_ARRAY, null);\n      const e = this._state.textureUnitMap[s];\n      null != e && t.bindTexture(e.descriptor.target, e.glName);\n    }\n    t.activeTexture(o + this._state.activeTexture);\n    const e = this._state.viewport;\n    t.viewport(e.x, e.y, e.width, e.height), this.resetInfo();\n  }\n  _loadExtensions() {\n    this.gl.getExtension(\"KHR_parallel_shader_compile\");\n  }\n};\nfunction N(t, e, s, i) {\n  return e ? i !== e && t.bindBuffer(s, e.glName) : t.bindBuffer(s, null), e;\n}\nfunction D(t, e) {\n  switch (t) {\n    case T.POINTS:\n      return 2 * e;\n    case T.TRIANGLES:\n      return e / 3;\n    case T.TRIANGLE_STRIP:\n    case T.TRIANGLE_FAN:\n      return e - 2;\n    default:\n      return 0;\n  }\n}\nexport { y as RenderingContext };","map":{"version":3,"names":["disposeMaybe","t","after","e","Milliseconds","s","webglDebugEnabled","i","checkWebGLError","a","ContextState","r","SpecialDrawBuffers","n","ColorAttachment","l","BufferType","h","Face","f","baseTextureUnit","o","FramebufferBit","u","FramebufferTarget","c","TextureSamplingMode","_","SyncCondition","d","ResourceType","b","ClientWaitSyncStatus","F","BlendFactor","g","BlendOperation","B","CullMode","p","CompareFunction","E","StencilOperation","m","TextureType","R","PrimitiveType","T","InstanceCounter","A","Parameters","C","ProgramCache","O","StateTracker","x","Texture","U","getErrorString","k","WebGLDriverTest","w","Capabilities","S","y","constructor","gl","instanceCounter","programCache","_transformFeedbackRequestInfo","_state","_numOfDrawCalls","_numOfTriangles","_loadExtensions","configure","_capabilities","_parameters","TEXTURE_UNIT_FOR_UPDATES","maxTextureImageUnits","getParameter","VIEWPORT","viewport","width","height","_stateTracker","setBlending","setBlendingEnabled","setBlendEquationSeparate","opRgb","opAlpha","setBlendFunctionSeparate","srcRgb","dstRgb","srcAlpha","dstAlpha","color","setBlendColor","setCulling","setFaceCullingEnabled","setCullFace","face","setFrontFace","mode","setPolygonOffset","setPolygonOffsetFillEnabled","factor","units","setDepthTest","setDepthTestEnabled","setDepthFunction","func","setStencilTest","setStencilTestEnabled","function","setStencilFunction","ref","mask","operation","setStencilOp","fail","zFail","zPass","setDepthWrite","setDepthWriteEnabled","setDepthRange","zNear","zFar","setColorWrite","setColorMask","setStencilWrite","setStencilWriteMask","setDrawBuffers","buffers","drawFramebuffer","BACK","colorAttachments","length","NONE","COLOR_ATTACHMENT0","enforceState","_driverTest","dispose","bindVAO","unbindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","UNIFORM_BUFFER","uniformBufferBindingPoints","PIXEL_PACK_BUFFER","PIXEL_UNPACK_BUFFER","COPY_READ_BUFFER","COPY_WRITE_BUFFER","textureUnitMap","console","log","resourceInformation","driverTest","contextAttributes","getContextAttributes","parameters","setPipelineState","setPipeline","blend","enable","BLEND","disable","invalidateBlending","externalProgramUpdate","program","stop","externalTextureUnitUpdate","activeTexture","externalVertexArrayObjectUpdate","bindVertexArray","vertexArrayObject","vertexBuffer","indexBuffer","externalVertexBufferUpdate","externalIndexBufferUpdate","blendColor","setBlendFunction","blendFunction","srcRGB","dstRGB","blendFunc","blendFuncSeparate","setBlendEquation","blendEquation","modeAlpha","blendEquationSeparate","colorMask","invalidateColorWrite","setClearColor","clearColor","faceCulling","CULL_FACE","invalidateCulling","polygonOffsetFill","POLYGON_OFFSET_FILL","invalidatePolygonOffset","polygonOffset","cullFace","frontFace","setScissorTestEnabled","scissorTest","SCISSOR_TEST","setScissorRect","scissorRect","scissor","depthTest","DEPTH_TEST","invalidateDepthTest","setClearDepth","clearDepth","depthFunction","depthFunc","depthWrite","depthMask","invalidateDepthWrite","depthRange","stencilTest","STENCIL_TEST","invalidateStencilTest","setClearStencil","clearStencil","stencilFunction","stencilFunc","FRONT_AND_BACK","setStencilFunctionSeparate","stencilFuncSeparate","stencilWriteMask","stencilMask","invalidateStencilWrite","stencilOperation","stencilOp","setStencilOpSeparate","stencilOpSeparate","setActiveTexture","arguments","undefined","drawBuffers","defaultFramebuffer","fbos","get","every","maxDrawBuffers","error","includes","set","invalidateDrawBuffers","clear","COLOR","DEPTH","STENCIL","clearFramebuffer","Math","max","drawArrays","primitiveType","Error","hasTransformFeedbackVaryings","D","colorTexture","drawArraysInstanced","drawElements","getBoundVAO","vertexBuffers","count","type","offset","size","args","vao","drawElementsInstanced","logInfo","resetInfo","capabilities","setViewport","round","setViewport4fv","restoreViewport","_ref","getViewport","useProgram","glName","bindTexture","descriptor","target","applyChanges","isDirty","unbindTexture","bindFramebuffer","readFramebuffer","FRAMEBUFFER","initializeAndBind","bindFramebufferSeparate","READ_FRAMEBUFFER","blitFramebuffer","NEAREST","DRAW_FRAMEBUFFER","bindBuffer","bufferType","N","uniformBuffer","pixelPackBuffer","pixelUnpackBuffer","copyReadBuffer","copyWriteBuffer","TRANSFORM_FEEDBACK_BUFFER","transformFeedbackBuffer","bindRenderbuffer","RENDERBUFFER","renderbuffer","_getBufferBinding","maxUniformBufferBindings","transformBufferBindingPoints","buffer","bindBufferBase","bindBufferRange","uniformBufferOffsetAlignment","bindUBO","byteLength","maxUniformBlockSize","initialize","unbindUBO","bind","unbind","bindTransformFeedback","TRANSFORM_FEEDBACK","beginTransformFeedback","endTransformFeedback","clientWaitAsync","fenceSync","SYNC_GPU_COMMANDS_COMPLETE","increment","Sync","flush","clientWaitSync","TIMEOUT_EXPIRED","decrement","deleteSync","WAIT_FAILED","getBoundFramebufferObject","resetState","ONE","ZERO","ADD","CCW","canvas","LESS","ALWAYS","KEEP","maxVertexAttributes","disableVertexAttribArray","readBuffer","lineWidth","TEXTURE_2D","TEXTURE_CUBE_MAP","TEXTURE_3D","TEXTURE_2D_ARRAY","getExtension","POINTS","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","RenderingContext"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/webgl/RenderingContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{disposeMaybe as t}from\"../../core/maybe.js\";import{after as e}from\"../../core/promiseUtils.js\";import{Milliseconds as s}from\"../../core/time.js\";import{webglDebugEnabled as i,checkWebGLError as a}from\"./checkWebGLError.js\";import{ContextState as r}from\"./ContextState.js\";import{SpecialDrawBuffers as n,ColorAttachment as l,BufferType as h,Face as f,baseTextureUnit as o,FramebufferBit as u,FramebufferTarget as c,TextureSamplingMode as _,SyncCondition as d,ResourceType as b,ClientWaitSyncStatus as F,BlendFactor as g,BlendOperation as B,CullMode as p,CompareFunction as E,StencilOperation as m,TextureType as R,PrimitiveType as T}from\"./enums.js\";import{InstanceCounter as A}from\"./InstanceCounter.js\";import{Parameters as C}from\"./Parameters.js\";import{ProgramCache as O}from\"./ProgramCache.js\";import{StateTracker as x}from\"./renderState.js\";import{Texture as U}from\"./Texture.js\";import{getErrorString as k}from\"./Util.js\";import{WebGLDriverTest as w}from\"./WebGLDriverTest.js\";import{Capabilities as S}from\"./capabilities/Capabilities.js\";let y=class{constructor(t,e){this.gl=t,this.instanceCounter=new A,this.programCache=new O(this),this._transformFeedbackRequestInfo=null,this._state=new r,this._numOfDrawCalls=0,this._numOfTriangles=0,this._loadExtensions(),this.configure(e)}configure(e){this._capabilities=new S(this.gl,e),this._parameters=new C(this.gl,this._capabilities,e),U.TEXTURE_UNIT_FOR_UPDATES=this._parameters.maxTextureImageUnits-1;const s=this.gl.getParameter(this.gl.VIEWPORT);this._state=new r,this._state.viewport={x:s[0],y:s[1],width:s[2],height:s[3]},this._stateTracker=new x({setBlending:t=>{if(t){this.setBlendingEnabled(!0),this.setBlendEquationSeparate(t.opRgb,t.opAlpha),this.setBlendFunctionSeparate(t.srcRgb,t.dstRgb,t.srcAlpha,t.dstAlpha);const e=t.color;this.setBlendColor(e.r,e.g,e.b,e.a)}else this.setBlendingEnabled(!1)},setCulling:t=>{t?(this.setFaceCullingEnabled(!0),this.setCullFace(t.face),this.setFrontFace(t.mode)):this.setFaceCullingEnabled(!1)},setPolygonOffset:t=>{t?(this.setPolygonOffsetFillEnabled(!0),this.setPolygonOffset(t.factor,t.units)):this.setPolygonOffsetFillEnabled(!1)},setDepthTest:t=>{t?(this.setDepthTestEnabled(!0),this.setDepthFunction(t.func)):this.setDepthTestEnabled(!1)},setStencilTest:t=>{if(t){this.setStencilTestEnabled(!0);const e=t.function;this.setStencilFunction(e.func,e.ref,e.mask);const s=t.operation;this.setStencilOp(s.fail,s.zFail,s.zPass)}else this.setStencilTestEnabled(!1)},setDepthWrite:t=>{t?(this.setDepthWriteEnabled(!0),this.setDepthRange(t.zNear,t.zFar)):this.setDepthWriteEnabled(!1)},setColorWrite:t=>{t?this.setColorMask(t.r,t.g,t.b,t.a):this.setColorMask(!1,!1,!1,!1)},setStencilWrite:t=>{t?this.setStencilWriteMask(t.mask):this.setStencilWriteMask(0)},setDrawBuffers:t=>{if(t)this.setDrawBuffers(t.buffers);else{const{drawFramebuffer:t}=this._state;null===t?this.setDrawBuffers([n.BACK]):0===t.colorAttachments.length?this.setDrawBuffers([n.NONE]):this.setDrawBuffers([l.COLOR_ATTACHMENT0])}}}),this.enforceState(),t(this._driverTest),this._driverTest=new w(this)}dispose(){t(this._driverTest),this.programCache.dispose(),this.bindVAO(null),this.unbindBuffer(h.ARRAY_BUFFER),this.unbindBuffer(h.ELEMENT_ARRAY_BUFFER),this.unbindBuffer(h.UNIFORM_BUFFER),this._state.uniformBufferBindingPoints.length=0,this.unbindBuffer(h.PIXEL_PACK_BUFFER),this.unbindBuffer(h.PIXEL_UNPACK_BUFFER),this.unbindBuffer(h.COPY_READ_BUFFER),this.unbindBuffer(h.COPY_WRITE_BUFFER),this._state.textureUnitMap.length=0,i()&&console.log(this.instanceCounter.resourceInformation)}get driverTest(){return this._driverTest}get contextAttributes(){return this.gl.getContextAttributes()}get parameters(){return this._parameters}setPipelineState(t){this._stateTracker.setPipeline(t)}setBlendingEnabled(t){this._state.blend!==t&&(!0===t?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._state.blend=t,this._stateTracker.invalidateBlending())}externalProgramUpdate(){this._state.program?.stop(),this._state.program=null}externalTextureUnitUpdate(t,e){for(let s=0;s<t.length;++s)this._state.textureUnitMap[t[s]]=null;e>=0&&(this._state.activeTexture=e)}externalVertexArrayObjectUpdate(){this.gl.bindVertexArray(null),this._state.vertexArrayObject=null,this._state.vertexBuffer=null,this._state.indexBuffer=null}externalVertexBufferUpdate(){this._state.vertexBuffer=null}externalIndexBufferUpdate(){this._state.indexBuffer=null}setBlendColor(t,e,s,i){t===this._state.blendColor.r&&e===this._state.blendColor.g&&s===this._state.blendColor.b&&i===this._state.blendColor.a||(this.gl.blendColor(t,e,s,i),this._state.blendColor.r=t,this._state.blendColor.g=e,this._state.blendColor.b=s,this._state.blendColor.a=i,this._stateTracker.invalidateBlending())}setBlendFunction(t,e){t===this._state.blendFunction.srcRGB&&e===this._state.blendFunction.dstRGB||(this.gl.blendFunc(t,e),this._state.blendFunction.srcRGB=t,this._state.blendFunction.srcAlpha=t,this._state.blendFunction.dstRGB=e,this._state.blendFunction.dstAlpha=e,this._stateTracker.invalidateBlending())}setBlendFunctionSeparate(t,e,s,i){this._state.blendFunction.srcRGB===t&&this._state.blendFunction.srcAlpha===s&&this._state.blendFunction.dstRGB===e&&this._state.blendFunction.dstAlpha===i||(this.gl.blendFuncSeparate(t,e,s,i),this._state.blendFunction.srcRGB=t,this._state.blendFunction.srcAlpha=s,this._state.blendFunction.dstRGB=e,this._state.blendFunction.dstAlpha=i,this._stateTracker.invalidateBlending())}setBlendEquation(t){this._state.blendEquation.mode!==t&&(this.gl.blendEquation(t),this._state.blendEquation.mode=t,this._state.blendEquation.modeAlpha=t,this._stateTracker.invalidateBlending())}setBlendEquationSeparate(t,e){this._state.blendEquation.mode===t&&this._state.blendEquation.modeAlpha===e||(this.gl.blendEquationSeparate(t,e),this._state.blendEquation.mode=t,this._state.blendEquation.modeAlpha=e,this._stateTracker.invalidateBlending())}setColorMask(t,e,s,i){this._state.colorMask.r===t&&this._state.colorMask.g===e&&this._state.colorMask.b===s&&this._state.colorMask.a===i||(this.gl.colorMask(t,e,s,i),this._state.colorMask.r=t,this._state.colorMask.g=e,this._state.colorMask.b=s,this._state.colorMask.a=i,this._stateTracker.invalidateColorWrite())}setClearColor(t,e,s,i){this._state.clearColor.r===t&&this._state.clearColor.g===e&&this._state.clearColor.b===s&&this._state.clearColor.a===i||(this.gl.clearColor(t,e,s,i),this._state.clearColor.r=t,this._state.clearColor.g=e,this._state.clearColor.b=s,this._state.clearColor.a=i)}setFaceCullingEnabled(t){this._state.faceCulling!==t&&(!0===t?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._state.faceCulling=t,this._stateTracker.invalidateCulling())}setPolygonOffsetFillEnabled(t){this._state.polygonOffsetFill!==t&&(!0===t?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._state.polygonOffsetFill=t,this._stateTracker.invalidatePolygonOffset())}setPolygonOffset(t,e){this._state.polygonOffset[0]===t&&this._state.polygonOffset[1]===e||(this._state.polygonOffset[0]=t,this._state.polygonOffset[1]=e,this.gl.polygonOffset(t,e),this._stateTracker.invalidatePolygonOffset())}setCullFace(t){this._state.cullFace!==t&&(this.gl.cullFace(t),this._state.cullFace=t,this._stateTracker.invalidateCulling())}setFrontFace(t){this._state.frontFace!==t&&(this.gl.frontFace(t),this._state.frontFace=t,this._stateTracker.invalidateCulling())}setScissorTestEnabled(t){this._state.scissorTest!==t&&(!0===t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._state.scissorTest=t)}setScissorRect(t,e,s,i){this._state.scissorRect.x===t&&this._state.scissorRect.y===e&&this._state.scissorRect.width===s&&this._state.scissorRect.height===i||(this.gl.scissor(t,e,s,i),this._state.scissorRect.x=t,this._state.scissorRect.y=e,this._state.scissorRect.width=s,this._state.scissorRect.height=i)}setDepthTestEnabled(t){this._state.depthTest!==t&&(!0===t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._state.depthTest=t,this._stateTracker.invalidateDepthTest())}setClearDepth(t){this._state.clearDepth!==t&&(this.gl.clearDepth(t),this._state.clearDepth=t)}setDepthFunction(t){this._state.depthFunction!==t&&(this.gl.depthFunc(t),this._state.depthFunction=t,this._stateTracker.invalidateDepthTest())}setDepthWriteEnabled(t){this._state.depthWrite!==t&&(this.gl.depthMask(t),this._state.depthWrite=t,this._stateTracker.invalidateDepthWrite())}setDepthRange(t,e){this._state.depthRange.zNear===t&&this._state.depthRange.zFar===e||(this.gl.depthRange(t,e),this._state.depthRange.zNear=t,this._state.depthRange.zFar=e,this._stateTracker.invalidateDepthWrite())}setStencilTestEnabled(t){this._state.stencilTest!==t&&(!0===t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._state.stencilTest=t,this._stateTracker.invalidateStencilTest())}setClearStencil(t){t!==this._state.clearStencil&&(this.gl.clearStencil(t),this._state.clearStencil=t)}setStencilFunction(t,e,s){this._state.stencilFunction.func===t&&this._state.stencilFunction.ref===e&&this._state.stencilFunction.mask===s||(this.gl.stencilFunc(t,e,s),this._state.stencilFunction.face=f.FRONT_AND_BACK,this._state.stencilFunction.func=t,this._state.stencilFunction.ref=e,this._state.stencilFunction.mask=s,this._stateTracker.invalidateStencilTest())}setStencilFunctionSeparate(t,e,s,i){this._state.stencilFunction.face===t&&this._state.stencilFunction.func===e&&this._state.stencilFunction.ref===s&&this._state.stencilFunction.mask===i||(this.gl.stencilFuncSeparate(t,e,s,i),this._state.stencilFunction.face=t,this._state.stencilFunction.func=e,this._state.stencilFunction.ref=s,this._state.stencilFunction.mask=i,this._stateTracker.invalidateStencilTest())}setStencilWriteMask(t){this._state.stencilWriteMask!==t&&(this.gl.stencilMask(t),this._state.stencilWriteMask=t,this._stateTracker.invalidateStencilWrite())}setStencilOp(t,e,s){this._state.stencilOperation.face===f.FRONT_AND_BACK&&this._state.stencilOperation.fail===t&&this._state.stencilOperation.zFail===e&&this._state.stencilOperation.zPass===s||(this.gl.stencilOp(t,e,s),this._state.stencilOperation.face=f.FRONT_AND_BACK,this._state.stencilOperation.fail=t,this._state.stencilOperation.zFail=e,this._state.stencilOperation.zPass=s,this._stateTracker.invalidateStencilTest())}setStencilOpSeparate(t,e,s,i){this._state.stencilOperation.face===t&&this._state.stencilOperation.fail===e&&this._state.stencilOperation.zFail===s&&this._state.stencilOperation.zPass===i||(this.gl.stencilOpSeparate(t,e,s,i),this._state.stencilOperation.face=t,this._state.stencilOperation.fail=e,this._state.stencilOperation.zFail=s,this._state.stencilOperation.zPass=i,this._stateTracker.invalidateStencilTest())}setActiveTexture(t,e=!1){const s=this._state.activeTexture;return t>=0&&(e||t!==this._state.activeTexture)&&(this.gl.activeTexture(o+t),this._state.activeTexture=t),s}setDrawBuffers(t){const{drawFramebuffer:e}=this._state,s=null===e,i=s?this._state.drawBuffers.defaultFramebuffer:this._state.drawBuffers.fbos.get(e);if(i?.length!==t.length||!i.every(((e,s)=>e===t[s])))if(t.length>this.parameters.maxDrawBuffers)console.error(\"Setting more active draw buffers than GL.MAX_DRAW_BUFFERS allows.\");else{if(s){if(t.length>1)return void console.error(\"The default framebuffer can only have one active draw buffer.\");if(t[0]!==n.BACK&&t[0]!==n.NONE)return void console.error(\"The default framebuffer can only use the constants GL.BACK or GL.NONE as draw buffers.\")}s||!t.includes(n.BACK)?(this.gl.drawBuffers(t),s?this._state.drawBuffers.defaultFramebuffer=t:this._state.drawBuffers.fbos.set(e,t),this._stateTracker.invalidateDrawBuffers()):console.error(\"A framebuffer object can only use the constants GL.COLOR_ATTACHMENTi or GL.NONE as draw buffers.\")}}clear(t,e=255){if(t){if(t&u.COLOR){const t=this._state.drawFramebuffer?.colorAttachments;t&&this.setDrawBuffers(t),this.setColorMask(!0,!0,!0,!0)}t&u.DEPTH&&this.setDepthWriteEnabled(!0),t&u.STENCIL&&this.setStencilWriteMask(e),this.gl.clear(t)}}clearFramebuffer(t,e=!1,s=!1){let i=0;if(t){const e=1e-13,s=Math.max(e,t[3]);this.setClearColor(t[0],t[1],t[2],s),i|=u.COLOR}e&&(i|=u.DEPTH),!1===s?s=0:(!0===s&&(s=255),i|=u.STENCIL),i&&this.clear(i,s)}drawArrays(t,e,s){if(this._transformFeedbackRequestInfo){if(t!==this._transformFeedbackRequestInfo.primitiveType)throw new Error(\"DrawArrays called during transform feedback, but primitiveType does not match that of the current transform feedback request\");if(null==this._state.program?.hasTransformFeedbackVaryings)throw new Error(\"DrawArrays called during transform feedback, but the shader program was not linked with a transform feedback varying\")}if(i()){this._numOfDrawCalls++,this._numOfTriangles+=D(t,s);const e=this._state.textureUnitMap;for(let t=0;t<e.length;t++){const s=e[t];if(null!=s&&s===this._state.drawFramebuffer?.colorTexture)throw new Error(`Detected readWrite. Texture already bound at index ${t}`)}}this.gl.drawArrays(t,e,s),a(this.gl)}drawArraysInstanced(t,e,s,i){this.gl.drawArraysInstanced(t,e,s,i),a(this.gl)}drawElements(t,e,s,a){if(this._transformFeedbackRequestInfo)throw new Error(\"Cannot called drawElements during a transform feedback request\");if(i()&&(this._numOfDrawCalls++,this._numOfTriangles+=D(t,e)),this.gl.drawElements(t,e,s,a),i()){const i=k(this);if(i){const r=this.getBoundVAO(),n=r?.indexBuffer,l=r?.vertexBuffers,h={indexBuffer:n,vertexBuffers:l},f={mode:t,count:e,type:s,offset:a},o=n?.size??0,u=a+e,c=o<u?`. Buffer is too small. Attempted to draw index ${u} of ${o}`:\"\";console.error(`drawElements: ${i}${c}`,{args:f,vao:h})}}}drawElementsInstanced(t,e,s,i,r){this.gl.drawElementsInstanced(t,e,s,i,r),a(this.gl)}logInfo(){i()&&console.log(`DrawCalls: ${this._numOfDrawCalls}, Triangles: ${this._numOfTriangles}`)}resetInfo(){i()&&(this._numOfDrawCalls=0,this._numOfTriangles=0)}get capabilities(){return this._capabilities}setViewport(t,e,s,i){s=Math.max(Math.round(s),1),i=Math.max(Math.round(i),1);const a=this._state.viewport;a.x===t&&a.y===e&&a.width===s&&a.height===i||(a.x=t,a.y=e,a.width=s,a.height=i,this.gl.viewport(t,e,s,i))}setViewport4fv(t){this.setViewport(t[0],t[1],t[2],t[3])}restoreViewport({x:t,y:e,width:s,height:i}){this.setViewport(t,e,s,i)}getViewport(){const t=this._state.viewport;return{x:t.x,y:t.y,width:t.width,height:t.height}}useProgram(t){this._state.program!==t&&(this._state.program?.stop(),this._state.program=t,this.gl.useProgram(t?.glName??null))}bindTexture(t,e,s=!1){(e>=this.parameters.maxTextureImageUnits||e<0)&&console.error(\"Input texture unit is out of range of available units!\");const i=this._state.textureUnitMap[e];return null==t?.glName?(null!=i&&(this.setActiveTexture(e,s),this.gl.bindTexture(i.descriptor.target,null)),this._state.textureUnitMap[e]=null,i):s||i!==t?(this.setActiveTexture(e,s),this.gl.bindTexture(t.descriptor.target,t.glName),t.applyChanges(),this._state.textureUnitMap[e]=t,i):(t.isDirty&&(this.setActiveTexture(e,s),t.applyChanges()),i)}unbindTexture(t){if(null!=t)for(let e=0;e<this.parameters.maxTextureImageUnits;e++)this._state.textureUnitMap[e]===t&&(this.bindTexture(null,e),this._state.textureUnitMap[e]=null)}bindFramebuffer(t,e=!1){if(e||this._state.readFramebuffer!==t||this._state.drawFramebuffer!==t){if(this._stateTracker.invalidateDrawBuffers(),null==t)return this.gl.bindFramebuffer(c.FRAMEBUFFER,null),void(this._state.readFramebuffer=this._state.drawFramebuffer=null);t.initializeAndBind(c.FRAMEBUFFER),this._state.readFramebuffer=t,this._state.drawFramebuffer=t}}bindFramebufferSeparate(t,e,s=!1){const i=e===c.READ_FRAMEBUFFER,a=i?this._state.readFramebuffer:this._state.drawFramebuffer;(s||a!==t)&&(null==t?this.gl.bindFramebuffer(e,null):t.initializeAndBind(e),i?this._state.readFramebuffer=t??null:(this._stateTracker.invalidateDrawBuffers(),this._state.drawFramebuffer=t??null))}blitFramebuffer(t,e,s=0,i=0,a=t.width,r=t.height,n=0,l=0,h=e.width,f=e.height,o=u.COLOR,d=_.NEAREST){this.bindFramebufferSeparate(t,c.READ_FRAMEBUFFER),this.bindFramebufferSeparate(e,c.DRAW_FRAMEBUFFER),this.gl.blitFramebuffer(s,i,a,r,n,l,h,f,o,d)}bindBuffer(t,e){if(t)switch(e??=t.bufferType,e){case h.ARRAY_BUFFER:this._state.vertexBuffer=N(this.gl,t,e,this._state.vertexBuffer);break;case h.ELEMENT_ARRAY_BUFFER:this._state.indexBuffer=N(this.gl,t,e,this._state.indexBuffer);break;case h.UNIFORM_BUFFER:this._state.uniformBuffer=N(this.gl,t,e,this._state.uniformBuffer);break;case h.PIXEL_PACK_BUFFER:this._state.pixelPackBuffer=N(this.gl,t,e,this._state.pixelPackBuffer);break;case h.PIXEL_UNPACK_BUFFER:this._state.pixelUnpackBuffer=N(this.gl,t,e,this._state.pixelUnpackBuffer);break;case h.COPY_READ_BUFFER:this._state.copyReadBuffer=N(this.gl,t,e,this._state.copyReadBuffer);break;case h.COPY_WRITE_BUFFER:this._state.copyWriteBuffer=N(this.gl,t,e,this._state.copyWriteBuffer);break;case h.TRANSFORM_FEEDBACK_BUFFER:this._state.transformFeedbackBuffer=N(this.gl,t,e,this._state.transformFeedbackBuffer)}}bindRenderbuffer(t){const e=this.gl;t||(e.bindRenderbuffer(e.RENDERBUFFER,null),this._state.renderbuffer=null),this._state.renderbuffer!==t&&(e.bindRenderbuffer(e.RENDERBUFFER,t.glName),this._state.renderbuffer=t)}_getBufferBinding(t,e){if(e>=this.parameters.maxUniformBufferBindings||e<0)return console.error(\"Uniform buffer binding point is out of range!\"),null;const s=t===h.UNIFORM_BUFFER?this._state.uniformBufferBindingPoints:this._state.transformBufferBindingPoints;let i=s[e];return null==i&&(i={buffer:null,offset:0,size:0},s[e]=i),i}bindBufferBase(t,e,s){const i=this._getBufferBinding(t,e);null!=i&&(i.buffer===s&&0===i.offset&&0===i.size||(this.gl.bindBufferBase(t,e,s?s.glName:null),i.buffer=s,i.offset=0,i.size=0))}bindBufferRange(t,e,s,i,a){const r=this._getBufferBinding(t,e);null!=r&&(r.buffer===s&&r.offset===i&&r.size===a||(i%this._parameters.uniformBufferOffsetAlignment==0?(this.gl.bindBufferRange(t,e,s.glName,i,a),r.buffer=s,r.offset=i,r.size=a):console.error(\"Uniform buffer binding offset is not a multiple of the context offset alignment\")))}bindUBO(t,e,s,a){null!=e?(i()&&(a??e.byteLength)>this._parameters.maxUniformBlockSize&&console.error(\"Attempting to bind more data than the maximum uniform block size\"),e.initialize(),void 0!==s&&void 0!==a?this.bindBufferRange(h.UNIFORM_BUFFER,t,e.buffer,s,a):this.bindBufferBase(h.UNIFORM_BUFFER,t,e.buffer)):this.bindBufferBase(h.UNIFORM_BUFFER,t,null)}unbindUBO(t){for(let e=0,s=this._state.uniformBufferBindingPoints.length;e<s;e++){const s=this._state.uniformBufferBindingPoints[e];null!=s&&s.buffer===t.buffer&&this.bindBufferBase(h.UNIFORM_BUFFER,e,null)}}unbindBuffer(t){switch(t){case h.ARRAY_BUFFER:this._state.vertexBuffer=N(this.gl,null,t,this._state.vertexBuffer);break;case h.ELEMENT_ARRAY_BUFFER:this._state.indexBuffer=N(this.gl,null,t,this._state.indexBuffer);break;case h.UNIFORM_BUFFER:this._state.uniformBuffer=N(this.gl,null,t,this._state.uniformBuffer);break;case h.PIXEL_PACK_BUFFER:this._state.pixelPackBuffer=N(this.gl,null,t,this._state.pixelPackBuffer);break;case h.PIXEL_UNPACK_BUFFER:this._state.pixelUnpackBuffer=N(this.gl,null,t,this._state.pixelUnpackBuffer);break;case h.COPY_READ_BUFFER:this._state.copyReadBuffer=N(this.gl,null,t,this._state.copyReadBuffer);break;case h.COPY_WRITE_BUFFER:this._state.copyWriteBuffer=N(this.gl,null,t,this._state.copyWriteBuffer)}}bindVAO(t=null){null!=t?this._state.vertexArrayObject!==t&&(t.bind(),this._state.vertexArrayObject=t):this._state.vertexArrayObject&&(this._state.vertexArrayObject.unbind(),this._state.vertexArrayObject=null)}bindTransformFeedback(t){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,t.glName)}beginTransformFeedback(t,e){if(this._transformFeedbackRequestInfo)throw new Error(\"Already in a transform feedback request\");const{gl:s}=this;s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,t.glName),s.beginTransformFeedback(e),this._transformFeedbackRequestInfo={primitiveType:e}}endTransformFeedback(){if(!this._transformFeedbackRequestInfo)throw new Error(\"Not in a transform feedback request\");const{gl:t}=this;t.endTransformFeedback(),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),this._transformFeedbackRequestInfo=null}async clientWaitAsync(t=s(10)){const{gl:i}=this,a=i.fenceSync(d.SYNC_GPU_COMMANDS_COMPLETE,0);if(!a)throw new Error(\"Client wait failed, could not create sync object\");let r;this.instanceCounter.increment(b.Sync,a),i.flush();do{await e(t),r=i.clientWaitSync(a,0,0)}while(r===F.TIMEOUT_EXPIRED);if(this.instanceCounter.decrement(b.Sync,a),i.deleteSync(a),r===F.WAIT_FAILED)throw new Error(\"Client wait failed\")}getBoundFramebufferObject(t=c.FRAMEBUFFER){return t===c.READ_FRAMEBUFFER?this._state.readFramebuffer:this._state.drawFramebuffer}getBoundVAO(){return this._state.vertexArrayObject}resetState(){this.useProgram(null),this.bindVAO(null),this.bindFramebuffer(null,!0),this.unbindBuffer(h.ARRAY_BUFFER),this.unbindBuffer(h.ELEMENT_ARRAY_BUFFER),this.unbindBuffer(h.UNIFORM_BUFFER),this._state.uniformBufferBindingPoints.length=0,this.unbindBuffer(h.PIXEL_PACK_BUFFER),this.unbindBuffer(h.PIXEL_UNPACK_BUFFER),this.unbindBuffer(h.COPY_READ_BUFFER),this.unbindBuffer(h.COPY_WRITE_BUFFER);for(let t=0;t<this.parameters.maxTextureImageUnits;++t)this.bindTexture(null,t);this.setBlendingEnabled(!1),this.setBlendFunction(g.ONE,g.ZERO),this.setBlendEquation(B.ADD),this.setBlendColor(0,0,0,0),this.setFaceCullingEnabled(!1),this.setCullFace(f.BACK),this.setFrontFace(p.CCW),this.setPolygonOffsetFillEnabled(!1),this.setPolygonOffset(0,0),this.setScissorTestEnabled(!1),this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height),this.setDepthTestEnabled(!1),this.setDepthFunction(E.LESS),this.setDepthRange(0,1),this.setStencilTestEnabled(!1),this.setStencilFunction(E.ALWAYS,0,0),this.setStencilOp(m.KEEP,m.KEEP,m.KEEP),this.setClearColor(0,0,0,0),this.setClearDepth(1),this.setClearStencil(0),this.setColorMask(!0,!0,!0,!0),this.setStencilWriteMask(4294967295),this.setDepthWriteEnabled(!0),this.setDrawBuffers([n.BACK]),this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}enforceState(){const{gl:t}=this;t.bindVertexArray(null);for(let s=0;s<this.parameters.maxVertexAttributes;s++)t.disableVertexAttribArray(s);this._state.vertexBuffer?t.bindBuffer(this._state.vertexBuffer.bufferType,this._state.vertexBuffer.glName):t.bindBuffer(h.ARRAY_BUFFER,null),this._state.indexBuffer?t.bindBuffer(this._state.indexBuffer.bufferType,this._state.indexBuffer.glName):t.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null),this._state.uniformBuffer?t.bindBuffer(this._state.uniformBuffer.bufferType,this._state.uniformBuffer.glName):t.bindBuffer(h.UNIFORM_BUFFER,null);for(let s=0;s<this._parameters.maxUniformBufferBindings;s++){const e=this._state.uniformBufferBindingPoints[s];if(null!=e){const{buffer:i,offset:a,size:r}=e;null!==i?0===a&&0===r?t.bindBufferBase(h.UNIFORM_BUFFER,s,i.glName):t.bindBufferRange(h.UNIFORM_BUFFER,s,i.glName,a,r):t.bindBufferBase(h.UNIFORM_BUFFER,s,null)}}if(this._state.pixelPackBuffer?t.bindBuffer(this._state.pixelPackBuffer.bufferType,this._state.pixelPackBuffer.glName):t.bindBuffer(h.PIXEL_PACK_BUFFER,null),this._state.pixelUnpackBuffer?t.bindBuffer(this._state.pixelUnpackBuffer.bufferType,this._state.pixelUnpackBuffer.glName):t.bindBuffer(h.PIXEL_UNPACK_BUFFER,null),this._state.copyReadBuffer?t.bindBuffer(this._state.copyReadBuffer.bufferType,this._state.copyReadBuffer.glName):t.bindBuffer(h.COPY_READ_BUFFER,null),this._state.copyWriteBuffer?t.bindBuffer(this._state.copyWriteBuffer.bufferType,this._state.copyWriteBuffer.glName):t.bindBuffer(h.COPY_WRITE_BUFFER,null),t.bindFramebuffer(c.READ_FRAMEBUFFER,null),t.readBuffer(t.BACK),this._state.readFramebuffer&&(t.bindFramebuffer(c.READ_FRAMEBUFFER,this._state.readFramebuffer.glName),t.readBuffer(l.COLOR_ATTACHMENT0)),t.bindFramebuffer(c.DRAW_FRAMEBUFFER,this._state.drawFramebuffer?.glName??null),null===this._state.drawFramebuffer){const e=this._state.drawBuffers.defaultFramebuffer;t.drawBuffers(e??[n.BACK])}else{const e=this._state.drawBuffers.fbos.get(this._state.drawFramebuffer);t.drawBuffers(e??[l.COLOR_ATTACHMENT0])}if(this._state.vertexArrayObject){const t=this._state.vertexArrayObject;this._state.vertexArrayObject&&(this._state.vertexArrayObject.unbind(),this._state.vertexArrayObject=null),this.bindVAO(t)}t.useProgram(this._state.program?.glName??null),t.blendColor(this._state.blendColor.r,this._state.blendColor.g,this._state.blendColor.b,this._state.blendColor.a),t.bindRenderbuffer(t.RENDERBUFFER,this._state.renderbuffer?.glName??null),!0===this._state.blend?t.enable(this.gl.BLEND):t.disable(this.gl.BLEND),t.blendEquationSeparate(this._state.blendEquation.mode,this._state.blendEquation.modeAlpha),t.blendFuncSeparate(this._state.blendFunction.srcRGB,this._state.blendFunction.dstRGB,this._state.blendFunction.srcAlpha,this._state.blendFunction.dstAlpha),t.clearColor(this._state.clearColor.r,this._state.clearColor.g,this._state.clearColor.b,this._state.clearColor.a),t.clearDepth(this._state.clearDepth),t.clearStencil(this._state.clearStencil),t.colorMask(this._state.colorMask.r,this._state.colorMask.g,this._state.colorMask.b,this._state.colorMask.a),t.cullFace(this._state.cullFace),t.depthFunc(this._state.depthFunction),t.depthRange(this._state.depthRange.zNear,this._state.depthRange.zFar),!0===this._state.depthTest?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),t.depthMask(this._state.depthWrite),t.frontFace(this._state.frontFace),t.lineWidth(1),!0===this._state.faceCulling?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),t.polygonOffset(this._state.polygonOffset[0],this._state.polygonOffset[1]),!0===this._state.polygonOffsetFill?t.enable(t.POLYGON_OFFSET_FILL):t.disable(t.POLYGON_OFFSET_FILL),t.scissor(this._state.scissorRect.x,this._state.scissorRect.y,this._state.scissorRect.width,this._state.scissorRect.height),!0===this._state.scissorTest?t.enable(t.SCISSOR_TEST):t.disable(t.SCISSOR_TEST),t.stencilFunc(this._state.stencilFunction.func,this._state.stencilFunction.ref,this._state.stencilFunction.mask),t.stencilOpSeparate(this._state.stencilOperation.face,this._state.stencilOperation.fail,this._state.stencilOperation.zFail,this._state.stencilOperation.zPass),!0===this._state.stencilTest?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),t.stencilMask(this._state.stencilWriteMask);for(let s=0;s<this.parameters.maxTextureImageUnits;s++){t.activeTexture(o+s),t.bindTexture(R.TEXTURE_2D,null),t.bindTexture(R.TEXTURE_CUBE_MAP,null),t.bindTexture(R.TEXTURE_3D,null),t.bindTexture(R.TEXTURE_2D_ARRAY,null);const e=this._state.textureUnitMap[s];null!=e&&t.bindTexture(e.descriptor.target,e.glName)}t.activeTexture(o+this._state.activeTexture);const e=this._state.viewport;t.viewport(e.x,e.y,e.width,e.height),this.resetInfo()}_loadExtensions(){this.gl.getExtension(\"KHR_parallel_shader_compile\")}};function N(t,e,s,i){return e?i!==e&&t.bindBuffer(s,e.glName):t.bindBuffer(s,null),e}function D(t,e){switch(t){case T.POINTS:return 2*e;case T.TRIANGLES:return e/3;case T.TRIANGLE_STRIP:case T.TRIANGLE_FAN:return e-2;default:return 0}}export{y as RenderingContext};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}