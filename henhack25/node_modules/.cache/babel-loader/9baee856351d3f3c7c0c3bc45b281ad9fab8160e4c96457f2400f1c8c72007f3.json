{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { InputHandler as e } from \"../../../input/InputHandler.js\";\nimport { onVisibilityChange as i } from \"../../../input/VisibilityChange.js\";\nclass t extends e {\n  constructor(e, t, s) {\n    super(!0), this.view = e, this.keys = t, this._keyToDirection = new Map(), this._pressed = !1, this._addKeysMapping(t), this.registerIncoming(\"key-down\", s, e => this._handleKeyDown(e)), this.registerIncoming(\"key-up\", s, e => this._handleKeyUp(e)), this.registerIncoming(\"blur\", s, () => this._handleStop()), this._visibilityHandle = i(e => e ? null : this._handleStop());\n  }\n  onUninstall() {\n    this._visibilityHandle?.remove(), this._handleStop();\n  }\n  _addKeysMapping(e) {\n    this._addKeyMapping(e.clockwise, \"clockwise\"), this._addKeyMapping(e.counterClockwise, \"counterClockwise\"), this._addKeyMapping(e.reset, \"reset\");\n  }\n  _addKeyMapping(e, i) {\n    for (const t of e) this._keyToDirection.set(t, i);\n  }\n  _handleKeyDown(e) {\n    e.data.repeat || this._handleKey(e, !0);\n  }\n  _handleKeyUp(e) {\n    this._handleKey(e, !1);\n  }\n  _handleStop() {\n    this._pressed && (this._pressed = !1, this.view.mapViewNavigation.stop());\n  }\n  _handleKey(e, i) {\n    const t = e.modifiers;\n    if (t.size > 0 && !t.has(\"Shift\") || !this.view.constraints.rotationEnabled) return;\n    const s = this._keyToDirection.get(e.data.key);\n    if (this._pressed = null != s, this._pressed) {\n      if (e.preventDefault(), i) switch (this.view.mapViewNavigation.begin(), s) {\n        case \"clockwise\":\n          this.view.mapViewNavigation.continuousRotateClockwise();\n          break;\n        case \"counterClockwise\":\n          this.view.mapViewNavigation.continuousRotateCounterclockwise();\n          break;\n        case \"reset\":\n          this.view.mapViewNavigation.resetRotation();\n      } else this._pressed = !1, this.view.mapViewNavigation.stop();\n      e.stopPropagation();\n    }\n  }\n}\nexport { t as KeyRotate };","map":{"version":3,"names":["InputHandler","e","onVisibilityChange","i","t","constructor","s","view","keys","_keyToDirection","Map","_pressed","_addKeysMapping","registerIncoming","_handleKeyDown","_handleKeyUp","_handleStop","_visibilityHandle","onUninstall","remove","_addKeyMapping","clockwise","counterClockwise","reset","set","data","repeat","_handleKey","mapViewNavigation","stop","modifiers","size","has","constraints","rotationEnabled","get","key","preventDefault","begin","continuousRotateClockwise","continuousRotateCounterclockwise","resetRotation","stopPropagation","KeyRotate"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/input/handlers/KeyRotate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{InputHandler as e}from\"../../../input/InputHandler.js\";import{onVisibilityChange as i}from\"../../../input/VisibilityChange.js\";class t extends e{constructor(e,t,s){super(!0),this.view=e,this.keys=t,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(t),this.registerIncoming(\"key-down\",s,(e=>this._handleKeyDown(e))),this.registerIncoming(\"key-up\",s,(e=>this._handleKeyUp(e))),this.registerIncoming(\"blur\",s,(()=>this._handleStop())),this._visibilityHandle=i((e=>e?null:this._handleStop()))}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,\"clockwise\"),this._addKeyMapping(e.counterClockwise,\"counterClockwise\"),this._addKeyMapping(e.reset,\"reset\")}_addKeyMapping(e,i){for(const t of e)this._keyToDirection.set(t,i)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,i){const t=e.modifiers;if(t.size>0&&!t.has(\"Shift\")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection.get(e.data.key);if(this._pressed=null!=s,this._pressed){if(e.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),s){case\"clockwise\":this.view.mapViewNavigation.continuousRotateClockwise();break;case\"counterClockwise\":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case\"reset\":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}export{t as KeyRotate};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}