{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { Edge as e } from \"../EditGeometry.js\";\nclass t {\n  constructor(e, t) {\n    let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    this._editGeometry = e, this._vertices = t, this._minNumberOfVertices = r, this.removedVertices = null;\n  }\n  apply() {\n    let e = \"redo\";\n    if (null == this.removedVertices) {\n      const t = this.removedVertices = [];\n      this._vertices.forEach(e => {\n        const r = this._removeVertex(e);\n        null != r && t.push(r);\n      }), e = \"apply\";\n    } else this.removedVertices.forEach(e => {\n      this._removeVertex(e.removedVertex);\n    });\n    this._editGeometry.notifyChanges({\n      operation: e,\n      removedVertices: this._vertices\n    });\n  }\n  undo() {\n    this.removedVertices?.forEach(e => {\n      this._undoRemoveVertex(e);\n    }), this._editGeometry.notifyChanges({\n      operation: \"undo\",\n      addedVertices: this._vertices\n    });\n  }\n  accumulate() {\n    return !1;\n  }\n  _removeVertex(t) {\n    const r = t.component;\n    if (r.vertices.length <= this._minNumberOfVertices) return null;\n    const i = {\n        removedVertex: t,\n        createdEdge: null\n      },\n      s = t.leftEdge,\n      d = t.rightEdge;\n    return r.vertices.splice(r.vertices.indexOf(t), 1), s && (r.edges.splice(r.edges.indexOf(s), 1), s.leftVertex.rightEdge = null), d && (r.edges.splice(r.edges.indexOf(d), 1), d.rightVertex.leftEdge = null), 0 === t.index && d && this._vertices.length > 0 && r.swapVertices(r.vertices.indexOf(d.rightVertex), 0), s && d && (i.createdEdge = new e(r, s.leftVertex, d.rightVertex), r.edges.push(i.createdEdge)), d && r.updateVertexIndex(d.rightVertex, d.rightVertex.index - 1), i;\n  }\n  _undoRemoveVertex(e) {\n    const t = e.removedVertex,\n      r = e.removedVertex.component,\n      i = t.leftEdge,\n      s = t.rightEdge;\n    e.createdEdge && r.edges.splice(r.edges.indexOf(e.createdEdge), 1), r.vertices.push(t), i && (r.edges.push(i), i.leftVertex.rightEdge = i), s && (r.edges.push(s), s.rightVertex.leftEdge = s), r.updateVertexIndex(t, t.index);\n  }\n}\nexport { t as RemoveVertices };","map":{"version":3,"names":["Edge","e","t","constructor","r","arguments","length","undefined","_editGeometry","_vertices","_minNumberOfVertices","removedVertices","apply","forEach","_removeVertex","push","removedVertex","notifyChanges","operation","undo","_undoRemoveVertex","addedVertices","accumulate","component","vertices","i","createdEdge","s","leftEdge","d","rightEdge","splice","indexOf","edges","leftVertex","rightVertex","index","swapVertices","updateVertexIndex","RemoveVertices"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Edge as e}from\"../EditGeometry.js\";class t{constructor(e,t,r=0){this._editGeometry=e,this._vertices=t,this._minNumberOfVertices=r,this.removedVertices=null}apply(){let e=\"redo\";if(null==this.removedVertices){const t=this.removedVertices=[];this._vertices.forEach((e=>{const r=this._removeVertex(e);null!=r&&t.push(r)})),e=\"apply\"}else this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)}));this._editGeometry.notifyChanges({operation:e,removedVertices:this._vertices})}undo(){this.removedVertices?.forEach((e=>{this._undoRemoveVertex(e)})),this._editGeometry.notifyChanges({operation:\"undo\",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(t){const r=t.component;if(r.vertices.length<=this._minNumberOfVertices)return null;const i={removedVertex:t,createdEdge:null},s=t.leftEdge,d=t.rightEdge;return r.vertices.splice(r.vertices.indexOf(t),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.leftVertex.rightEdge=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.rightVertex.leftEdge=null),0===t.index&&d&&this._vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.rightVertex),0),s&&d&&(i.createdEdge=new e(r,s.leftVertex,d.rightVertex),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.rightVertex,d.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.leftEdge,s=t.rightEdge;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.leftVertex.rightEdge=i),s&&(r.edges.push(s),s.rightVertex.leftEdge=s),r.updateVertexIndex(t,t.index)}}export{t as RemoveVertices};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}