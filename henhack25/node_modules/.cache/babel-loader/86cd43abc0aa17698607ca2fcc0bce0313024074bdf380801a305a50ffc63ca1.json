{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { millisecondsPerTimeUnit as e } from \"../../../core/timeUtils.js\";\nimport { isTimeOnlyField as A } from \"../../../layers/support/fieldUtils.js\";\nimport { format as t } from \"../../../renderers/support/numberUtils.js\";\nimport { formatAnyDate as n, isAnyDateField as i } from \"../../../smartMapping/support/utils.js\";\nimport a from \"../../../symbols/SimpleLineSymbol.js\";\nconst o = \"<\",\n  l = \">\";\nfunction r(e, A, i, a) {\n  let r = \"\";\n  0 === A ? r = `${o} ` : A === i && (r = `${l} `);\n  return r + (a ? n(e, a) : t(e));\n}\nconst s = [\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];\nasync function u(e) {\n  if (!(\"visualVariables\" in e) || !e.visualVariables) return null;\n  const A = e.visualVariables.find(e => \"color\" === e.type);\n  if (!A) return null;\n  let t = null,\n    n = null;\n  if (A.stops) {\n    if (1 === A.stops.length) return A.stops[0].color;\n    t = A.stops[0].value, n = A.stops[A.stops.length - 1].value;\n  }\n  const i = null != t && null != n ? t + (n - t) / 2 : 0,\n    {\n      getColor: a\n    } = await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");\n  return a(A, i) ?? null;\n}\nasync function p(e, A) {\n  const t = e.trailCap,\n    n = e.trailWidth || 1,\n    i = A || (await u(e)) || e.color;\n  return new a({\n    cap: t,\n    color: i,\n    width: n\n  });\n}\nfunction f(e, A) {\n  if (!A.field) return null;\n  if (\"featureReduction\" in e) switch (e.featureReduction?.type) {\n    case \"cluster\":\n    case \"binning\":\n      {\n        const t = e.featureReduction.fields.find(({\n          name: e\n        }) => e.toLowerCase() === A.field.toLowerCase());\n        return t && \"getField\" in e ? e.getField(t.onStatisticField) : null;\n      }\n  }\n  return \"getField\" in e ? e.getField?.(A.field) : null;\n}\nfunction m(e, A) {\n  const t = \"popupTemplate\" in e ? e.popupTemplate?.fieldInfos : null;\n  if (t?.length && A) return t.find(e => e.fieldName?.toLowerCase() === A.toLowerCase())?.format?.dateFormat;\n}\nfunction d(t, n, a) {\n  const o = f(t, n);\n  if (!o || !i(o) && !A(o)) return null;\n  let l = m(t, o.name);\n  if (!l && \"date\" === o.type) {\n    let A = 0,\n      t = 0;\n    n.stops ? (A = n.stops?.at(0)?.value ?? A, t = n.stops?.at(-1)?.value ?? t) : \"minDataValue\" in n && \"maxDataValue\" in n && (A = n.minDataValue ?? A, t = n.maxDataValue ?? t), l = t - A > 2 * e.days ? \"short-date\" : \"short-date-short-time\";\n  }\n  return {\n    fieldType: o.type,\n    format: l,\n    timeZoneOptions: {\n      layerTimeZone: \"preferredTimeZone\" in t ? t.preferredTimeZone : null,\n      viewTimeZone: a,\n      datesInUnknownTimezone: \"datesInUnknownTimezone\" in t && t.datesInUnknownTimezone\n    }\n  };\n}\nfunction c(e) {\n  if (\"authoringInfo\" in e) return e.authoringInfo?.visualVariables?.find(({\n    theme: e\n  }) => \"reference-size\" === e);\n}\nexport { r as createStopLabel, d as getDateFormatOptions, u as getMedianColor, c as getReferenceSizeAuthoringInfoVisualVariable, p as getSymbolForFlowRenderer, s as rgbImgSource, l as specialCharsGreaterThan, o as specialCharsLessThan };","map":{"version":3,"names":["millisecondsPerTimeUnit","e","isTimeOnlyField","A","format","t","formatAnyDate","n","isAnyDateField","i","a","o","l","r","s","u","visualVariables","find","type","stops","length","color","value","getColor","p","trailCap","trailWidth","cap","width","f","field","featureReduction","fields","name","toLowerCase","getField","onStatisticField","m","popupTemplate","fieldInfos","fieldName","dateFormat","d","at","minDataValue","maxDataValue","days","fieldType","timeZoneOptions","layerTimeZone","preferredTimeZone","viewTimeZone","datesInUnknownTimezone","c","authoringInfo","theme","createStopLabel","getDateFormatOptions","getMedianColor","getReferenceSizeAuthoringInfoVisualVariable","getSymbolForFlowRenderer","rgbImgSource","specialCharsGreaterThan","specialCharsLessThan"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/widgets/Legend/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{millisecondsPerTimeUnit as e}from\"../../../core/timeUtils.js\";import{isTimeOnlyField as A}from\"../../../layers/support/fieldUtils.js\";import{format as t}from\"../../../renderers/support/numberUtils.js\";import{formatAnyDate as n,isAnyDateField as i}from\"../../../smartMapping/support/utils.js\";import a from\"../../../symbols/SimpleLineSymbol.js\";const o=\"<\",l=\">\";function r(e,A,i,a){let r=\"\";0===A?r=`${o} `:A===i&&(r=`${l} `);return r+(a?n(e,a):t(e))}const s=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];async function u(e){if(!(\"visualVariables\"in e)||!e.visualVariables)return null;const A=e.visualVariables.find((e=>\"color\"===e.type));if(!A)return null;let t=null,n=null;if(A.stops){if(1===A.stops.length)return A.stops[0].color;t=A.stops[0].value,n=A.stops[A.stops.length-1].value}const i=null!=t&&null!=n?t+(n-t)/2:0,{getColor:a}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return a(A,i)??null}async function p(e,A){const t=e.trailCap,n=e.trailWidth||1,i=A||await u(e)||e.color;return new a({cap:t,color:i,width:n})}function f(e,A){if(!A.field)return null;if(\"featureReduction\"in e)switch(e.featureReduction?.type){case\"cluster\":case\"binning\":{const t=e.featureReduction.fields.find((({name:e})=>e.toLowerCase()===A.field.toLowerCase()));return t&&\"getField\"in e?e.getField(t.onStatisticField):null}}return\"getField\"in e?e.getField?.(A.field):null}function m(e,A){const t=\"popupTemplate\"in e?e.popupTemplate?.fieldInfos:null;if(t?.length&&A)return t.find((e=>e.fieldName?.toLowerCase()===A.toLowerCase()))?.format?.dateFormat}function d(t,n,a){const o=f(t,n);if(!o||!i(o)&&!A(o))return null;let l=m(t,o.name);if(!l&&\"date\"===o.type){let A=0,t=0;n.stops?(A=n.stops?.at(0)?.value??A,t=n.stops?.at(-1)?.value??t):\"minDataValue\"in n&&\"maxDataValue\"in n&&(A=n.minDataValue??A,t=n.maxDataValue??t),l=t-A>2*e.days?\"short-date\":\"short-date-short-time\"}return{fieldType:o.type,format:l,timeZoneOptions:{layerTimeZone:\"preferredTimeZone\"in t?t.preferredTimeZone:null,viewTimeZone:a,datesInUnknownTimezone:\"datesInUnknownTimezone\"in t&&t.datesInUnknownTimezone}}}function c(e){if(\"authoringInfo\"in e)return e.authoringInfo?.visualVariables?.find((({theme:e})=>\"reference-size\"===e))}export{r as createStopLabel,d as getDateFormatOptions,u as getMedianColor,c as getReferenceSizeAuthoringInfoVisualVariable,p as getSymbolForFlowRenderer,s as rgbImgSource,l as specialCharsGreaterThan,o as specialCharsLessThan};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}