{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { SymbolUnits as t } from \"../../../../../../../symbols/cim/enums.js\";\nimport { spritePadding as e, gradientTextureExternalPadding as r } from \"../../../definitions.js\";\nimport { AFillMeshWriter as i } from \"./AFillMeshWriter.js\";\nimport { fillVertexSpec as s } from \"./FillMeshWriter.js\";\nimport { gradientFillMethods as a, bitset as o } from \"./gradientFillConstants.js\";\nimport { getGradientSizeHelper as n } from \"./GradientSizeHelper.js\";\nimport { getBitMask as c } from \"./meshWriterUtils.js\";\nimport { DataType as l } from \"../../../../../../webgl/enums.js\";\nconst p = {\n  createComputedParams: t => t,\n  optionalAttributes: s.optionalAttributes,\n  attributes: {\n    ...s.attributes,\n    bitset: {\n      type: l.UNSIGNED_BYTE,\n      count: 1,\n      pack: ({\n        gradientSizeUnits: e,\n        gradientType: r\n      }) => {\n        let i = 0;\n        return e === t.Absolute && (i |= c(o.isAbsolute)), \"discrete\" === r.toLowerCase() && (i |= c(o.isDiscrete)), i;\n      }\n    },\n    tlbr: {\n      count: 4,\n      type: l.UNSIGNED_SHORT,\n      pack: ({\n        sprite: t\n      }) => {\n        const {\n            rect: i,\n            width: s,\n            height: a\n          } = t,\n          o = i.x + e + r,\n          n = i.y + e;\n        return [o, n, o + s - 2 * r, n + a];\n      }\n    },\n    relativePosition: {\n      count: 2,\n      type: l.HALF_FLOAT,\n      packTessellation: ({\n        gradientStats: t\n      }, e, r, i) => t?.getRelativePosition(r, i) ?? [0, 0]\n    },\n    relativeGradientSize: {\n      count: 2,\n      type: l.HALF_FLOAT,\n      packTessellation: ({\n        gradientStats: t\n      }) => t?.relativeSize ?? [1, 1]\n    },\n    gradientMethod: {\n      count: 1,\n      type: l.UNSIGNED_BYTE,\n      pack: ({\n        gradientMethod: t\n      }) => {\n        switch (t.toLowerCase()) {\n          case \"rectangular\":\n            return a.rectangular;\n          case \"circular\":\n            return a.circular;\n          default:\n            return a.linear;\n        }\n      }\n    }\n  }\n};\nclass u extends i {\n  constructor() {\n    super(...arguments), this.vertexSpec = p;\n  }\n  get _preventEffectClipping() {\n    return !0;\n  }\n  createTesselationParams(t) {\n    return {\n      gradientStats: n(t.readGeometryForDisplay(), this.evaluatedMeshParams)\n    };\n  }\n  _write(t, e, r) {\n    const i = r?.asOptimized() ?? e.readGeometryForDisplay(),\n      s = this._clip(i);\n    if (!s) return;\n    const a = this.evaluatedMeshParams.sprite?.textureBinding;\n    t.recordStart(this.instanceId, this.attributeLayout, a), this._writeGeometry(t, e, s), t.recordEnd();\n  }\n}\nexport { u as GradientFillMeshWriter, p as gradientFillVertexSpec };","map":{"version":3,"names":["SymbolUnits","t","spritePadding","e","gradientTextureExternalPadding","r","AFillMeshWriter","i","fillVertexSpec","s","gradientFillMethods","a","bitset","o","getGradientSizeHelper","n","getBitMask","c","DataType","l","p","createComputedParams","optionalAttributes","attributes","type","UNSIGNED_BYTE","count","pack","gradientSizeUnits","gradientType","Absolute","isAbsolute","toLowerCase","isDiscrete","tlbr","UNSIGNED_SHORT","sprite","rect","width","height","x","y","relativePosition","HALF_FLOAT","packTessellation","gradientStats","getRelativePosition","relativeGradientSize","relativeSize","gradientMethod","rectangular","circular","linear","u","constructor","arguments","vertexSpec","_preventEffectClipping","createTesselationParams","readGeometryForDisplay","evaluatedMeshParams","_write","asOptimized","_clip","textureBinding","recordStart","instanceId","attributeLayout","_writeGeometry","recordEnd","GradientFillMeshWriter","gradientFillVertexSpec"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/GradientFillMeshWriter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{SymbolUnits as t}from\"../../../../../../../symbols/cim/enums.js\";import{spritePadding as e,gradientTextureExternalPadding as r}from\"../../../definitions.js\";import{AFillMeshWriter as i}from\"./AFillMeshWriter.js\";import{fillVertexSpec as s}from\"./FillMeshWriter.js\";import{gradientFillMethods as a,bitset as o}from\"./gradientFillConstants.js\";import{getGradientSizeHelper as n}from\"./GradientSizeHelper.js\";import{getBitMask as c}from\"./meshWriterUtils.js\";import{DataType as l}from\"../../../../../../webgl/enums.js\";const p={createComputedParams:t=>t,optionalAttributes:s.optionalAttributes,attributes:{...s.attributes,bitset:{type:l.UNSIGNED_BYTE,count:1,pack:({gradientSizeUnits:e,gradientType:r})=>{let i=0;return e===t.Absolute&&(i|=c(o.isAbsolute)),\"discrete\"===r.toLowerCase()&&(i|=c(o.isDiscrete)),i}},tlbr:{count:4,type:l.UNSIGNED_SHORT,pack:({sprite:t})=>{const{rect:i,width:s,height:a}=t,o=i.x+e+r,n=i.y+e;return[o,n,o+s-2*r,n+a]}},relativePosition:{count:2,type:l.HALF_FLOAT,packTessellation:({gradientStats:t},e,r,i)=>t?.getRelativePosition(r,i)??[0,0]},relativeGradientSize:{count:2,type:l.HALF_FLOAT,packTessellation:({gradientStats:t})=>t?.relativeSize??[1,1]},gradientMethod:{count:1,type:l.UNSIGNED_BYTE,pack:({gradientMethod:t})=>{switch(t.toLowerCase()){case\"rectangular\":return a.rectangular;case\"circular\":return a.circular;default:return a.linear}}}}};class u extends i{constructor(){super(...arguments),this.vertexSpec=p}get _preventEffectClipping(){return!0}createTesselationParams(t){return{gradientStats:n(t.readGeometryForDisplay(),this.evaluatedMeshParams)}}_write(t,e,r){const i=r?.asOptimized()??e.readGeometryForDisplay(),s=this._clip(i);if(!s)return;const a=this.evaluatedMeshParams.sprite?.textureBinding;t.recordStart(this.instanceId,this.attributeLayout,a),this._writeGeometry(t,e,s),t.recordEnd()}}export{u as GradientFillMeshWriter,p as gradientFillVertexSpec};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}