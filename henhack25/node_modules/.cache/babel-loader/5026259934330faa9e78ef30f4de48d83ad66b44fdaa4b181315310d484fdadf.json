{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { getFormatAndQuality as t, encode as i, encodeData as h, getMaximumResolutionScale as n } from \"../../support/screenshotUtils.js\";\nconst e = {\n  flipY: !0,\n  premultipliedAlpha: !0\n};\nasync function o(h, n) {\n  const o = await a(h, n),\n    {\n      format: r,\n      quality: l\n    } = t(n?.format, n?.quality);\n  return i(o, {\n    format: r,\n    quality: l\n  }, e);\n}\nasync function r(t, i) {\n  const n = await a(t, i);\n  return h(n, e);\n}\nfunction a(t, i) {\n  const h = d(i || {}, u(t.stage, t.size), t.size, t.padding),\n    n = l(i, t.allLayerViews);\n  return t.stage.takeScreenshot(h, n, t.backgroundColor, i?.rotation);\n}\nfunction l() {\n  let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let i = arguments.length > 1 ? arguments[1] : undefined;\n  if (!t.layers) return;\n  const h = [];\n  return t.layers.forEach(t => {\n    const n = i.find(i => i.layer.id === t.id);\n    n?.container && h.push(n.container);\n  }), h;\n}\nfunction u(t, i) {\n  return Math.min(4, n(i, Math.min(4096, t.context.parameters.maxTextureSize)));\n}\nfunction d(t, i, h, n) {\n  t.ignorePadding && (n = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  });\n  let e = null;\n  null != t.width && null != t.height ? e = [t.width, t.height] : null == t.width && null != t.height ? e = [t.height, t.height] : null != t.width && null == t.height ? e = [t.width, t.width] : null == t.width && null == t.height && (e = null);\n  const o = h[0] - (n.left + n.right),\n    r = h[1] - (n.top + n.bottom);\n  let a,\n    l,\n    u = t.area || {\n      x: 0,\n      y: 0,\n      width: o,\n      height: r\n    };\n  if (e) {\n    const t = o / r,\n      i = e[0] / e[1];\n    if (i > t) {\n      const t = u.width / i;\n      u = {\n        x: u.x,\n        y: Math.round(u.y + (u.height - t) / 2),\n        width: u.width,\n        height: Math.round(t)\n      };\n    } else {\n      const t = u.height * i;\n      u = {\n        x: Math.round(u.x + (u.width - t) / 2),\n        y: u.y,\n        width: Math.round(t),\n        height: u.height\n      };\n    }\n  } else e = [u.width, u.height];\n  return e[0] > u.width ? (a = Math.min(e[0] / u.width, i), l = e[0] / u.width / a) : (a = 1, l = e[0] / u.width), {\n    cropArea: {\n      x: Math.round((u.x + n.left) * a),\n      y: Math.round((u.y + n.top) * a),\n      width: Math.round(u.width * a),\n      height: Math.round(u.height * a)\n    },\n    outputScale: l,\n    resolutionScale: a\n  };\n}\nexport { d as createScreenshotRegion, r as takeRawScreenshot, o as takeScreenshot };","map":{"version":3,"names":["getFormatAndQuality","t","encode","i","encodeData","h","getMaximumResolutionScale","n","e","flipY","premultipliedAlpha","o","a","format","r","quality","l","d","u","stage","size","padding","allLayerViews","takeScreenshot","backgroundColor","rotation","arguments","length","undefined","layers","forEach","find","layer","id","container","push","Math","min","context","parameters","maxTextureSize","ignorePadding","left","right","top","bottom","width","height","area","x","y","round","cropArea","outputScale","resolutionScale","createScreenshotRegion","takeRawScreenshot"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/support/screenshotUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getFormatAndQuality as t,encode as i,encodeData as h,getMaximumResolutionScale as n}from\"../../support/screenshotUtils.js\";const e={flipY:!0,premultipliedAlpha:!0};async function o(h,n){const o=await a(h,n),{format:r,quality:l}=t(n?.format,n?.quality);return i(o,{format:r,quality:l},e)}async function r(t,i){const n=await a(t,i);return h(n,e)}function a(t,i){const h=d(i||{},u(t.stage,t.size),t.size,t.padding),n=l(i,t.allLayerViews);return t.stage.takeScreenshot(h,n,t.backgroundColor,i?.rotation)}function l(t={},i){if(!t.layers)return;const h=[];return t.layers.forEach((t=>{const n=i.find((i=>i.layer.id===t.id));n?.container&&h.push(n.container)})),h}function u(t,i){return Math.min(4,n(i,Math.min(4096,t.context.parameters.maxTextureSize)))}function d(t,i,h,n){t.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let e=null;null!=t.width&&null!=t.height?e=[t.width,t.height]:null==t.width&&null!=t.height?e=[t.height,t.height]:null!=t.width&&null==t.height?e=[t.width,t.width]:null==t.width&&null==t.height&&(e=null);const o=h[0]-(n.left+n.right),r=h[1]-(n.top+n.bottom);let a,l,u=t.area||{x:0,y:0,width:o,height:r};if(e){const t=o/r,i=e[0]/e[1];if(i>t){const t=u.width/i;u={x:u.x,y:Math.round(u.y+(u.height-t)/2),width:u.width,height:Math.round(t)}}else{const t=u.height*i;u={x:Math.round(u.x+(u.width-t)/2),y:u.y,width:Math.round(t),height:u.height}}}else e=[u.width,u.height];return e[0]>u.width?(a=Math.min(e[0]/u.width,i),l=e[0]/u.width/a):(a=1,l=e[0]/u.width),{cropArea:{x:Math.round((u.x+n.left)*a),y:Math.round((u.y+n.top)*a),width:Math.round(u.width*a),height:Math.round(u.height*a)},outputScale:l,resolutionScale:a}}export{d as createScreenshotRegion,r as takeRawScreenshot,o as takeScreenshot};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}