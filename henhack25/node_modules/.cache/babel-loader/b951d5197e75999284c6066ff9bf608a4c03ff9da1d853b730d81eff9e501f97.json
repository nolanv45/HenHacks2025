{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Collection.js\";\nimport { referenceSetter as s, castForReferenceSetter as r } from \"../../core/collectionUtils.js\";\nimport { watch as t, sync as l } from \"../../core/reactiveUtils.js\";\nimport { property as a } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as y } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"./LayerView.js\";\nlet h = class extends o {\n  constructor(i) {\n    super(i), this.type = \"group\", this.layerViews = new e();\n  }\n  destroy() {\n    this.layerViews.length = 0;\n  }\n  _allLayerViewVisibility(i) {\n    this.layerViews.forEach(e => {\n      e.visible = i;\n    });\n  }\n  initialize() {\n    this.addHandles([this.layerViews.on(\"change\", i => this._layerViewsChangeHandler(i)), t(() => this.layer?.visibilityMode, () => {\n      this.layer && this._applyVisibility(() => this._allLayerViewVisibility(this.visible), () => this._applyExclusiveVisibility(null));\n    }, l), t(() => this.visible, i => {\n      this._applyVisibility(() => this._allLayerViewVisibility(i), () => {});\n    }, l)], \"grouplayerview\"), this._layerViewsChangeHandler({\n      target: null,\n      added: this.layerViews.toArray(),\n      removed: [],\n      moved: []\n    });\n  }\n  get creatingLayerViews() {\n    return this.view?.layerViewManager?.isCreatingLayerViewsForLayer(this.layer) ?? !1;\n  }\n  set layerViews(i) {\n    this._set(\"layerViews\", s(i, this._get(\"layerViews\")));\n  }\n  get updatingProgress() {\n    return 0 === this.layerViews.length ? 1 : this.layerViews.reduce((i, e) => i + e.updatingProgress, 0) / this.layerViews.length;\n  }\n  isUpdating() {\n    return this.creatingLayerViews || this.layerViews.some(i => i.updating);\n  }\n  _hasLayerViewVisibleOverrides() {\n    return this.layerViews.some(i => i._isOverridden(\"visible\"));\n  }\n  _findLayerViewForLayer(i) {\n    return i && this.layerViews.find(e => e.layer === i);\n  }\n  _firstVisibleOnLayerOrder() {\n    const i = this.layer.layers.find(i => {\n      const e = this._findLayerViewForLayer(i);\n      return !!e?.visible;\n    });\n    return i && this._findLayerViewForLayer(i);\n  }\n  _applyExclusiveVisibility(i) {\n    null == i && null == (i = this._firstVisibleOnLayerOrder()) && this.layerViews.length > 0 && (i = this._findLayerViewForLayer(this.layer.layers.at(0))), this.layerViews.forEach(e => {\n      e.visible = e === i;\n    });\n  }\n  _layerViewsChangeHandler(i) {\n    this.removeHandles(\"grouplayerview:visible\"), this.addHandles(this.layerViews.map(i => t(() => i.visible, e => this._applyVisibility(() => {\n      e !== this.visible && (i.visible = this.visible);\n    }, () => this._applyExclusiveVisibility(e ? i : null)), l)).toArray(), \"grouplayerview:visible\");\n    const e = i.added[i.added.length - 1];\n    this._applyVisibility(() => this._allLayerViewVisibility(this.visible), () => this._applyExclusiveVisibility(e?.visible ? e : null));\n  }\n  _applyVisibility(i, e) {\n    this._hasLayerViewVisibleOverrides() && (\"inherited\" === this.layer?.visibilityMode ? i() : \"exclusive\" === this.layer?.visibilityMode && e());\n  }\n};\ni([a({\n  readOnly: !0\n})], h.prototype, \"creatingLayerViews\", null), i([a({\n  cast: r\n})], h.prototype, \"layerViews\", null), i([a({\n  readOnly: !0\n})], h.prototype, \"updatingProgress\", null), i([a()], h.prototype, \"view\", void 0), h = i([y(\"esri.views.layers.GroupLayerView\")], h);\nconst n = h;\nexport { n as default };","map":{"version":3,"names":["_","i","e","referenceSetter","s","castForReferenceSetter","r","watch","t","sync","l","property","a","subclass","y","o","h","constructor","type","layerViews","destroy","length","_allLayerViewVisibility","forEach","visible","initialize","addHandles","on","_layerViewsChangeHandler","layer","visibilityMode","_applyVisibility","_applyExclusiveVisibility","target","added","toArray","removed","moved","creatingLayerViews","view","layerViewManager","isCreatingLayerViewsForLayer","_set","_get","updatingProgress","reduce","isUpdating","some","updating","_hasLayerViewVisibleOverrides","_isOverridden","_findLayerViewForLayer","find","_firstVisibleOnLayerOrder","layers","at","removeHandles","map","readOnly","prototype","cast","n","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/layers/GroupLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{referenceSetter as s,castForReferenceSetter as r}from\"../../core/collectionUtils.js\";import{watch as t,sync as l}from\"../../core/reactiveUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./LayerView.js\";let h=class extends o{constructor(i){super(i),this.type=\"group\",this.layerViews=new e}destroy(){this.layerViews.length=0}_allLayerViewVisibility(i){this.layerViews.forEach((e=>{e.visible=i}))}initialize(){this.addHandles([this.layerViews.on(\"change\",(i=>this._layerViewsChangeHandler(i))),t((()=>this.layer?.visibilityMode),(()=>{this.layer&&this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(null)))}),l),t((()=>this.visible),(i=>{this._applyVisibility((()=>this._allLayerViewVisibility(i)),(()=>{}))}),l)],\"grouplayerview\"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}get creatingLayerViews(){return this.view?.layerViewManager?.isCreatingLayerViewsForLayer(this.layer)??!1}set layerViews(i){this._set(\"layerViews\",s(i,this._get(\"layerViews\")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce(((i,e)=>i+e.updatingProgress),0)/this.layerViews.length}isUpdating(){return this.creatingLayerViews||this.layerViews.some((i=>i.updating))}_hasLayerViewVisibleOverrides(){return this.layerViews.some((i=>i._isOverridden(\"visible\")))}_findLayerViewForLayer(i){return i&&this.layerViews.find((e=>e.layer===i))}_firstVisibleOnLayerOrder(){const i=this.layer.layers.find((i=>{const e=this._findLayerViewForLayer(i);return!!e?.visible}));return i&&this._findLayerViewForLayer(i)}_applyExclusiveVisibility(i){null==i&&null==(i=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(i=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach((e=>{e.visible=e===i}))}_layerViewsChangeHandler(i){this.removeHandles(\"grouplayerview:visible\"),this.addHandles(this.layerViews.map((i=>t((()=>i.visible),(e=>this._applyVisibility((()=>{e!==this.visible&&(i.visible=this.visible)}),(()=>this._applyExclusiveVisibility(e?i:null)))),l))).toArray(),\"grouplayerview:visible\");const e=i.added[i.added.length-1];this._applyVisibility((()=>this._allLayerViewVisibility(this.visible)),(()=>this._applyExclusiveVisibility(e?.visible?e:null)))}_applyVisibility(i,e){this._hasLayerViewVisibleOverrides()&&(\"inherited\"===this.layer?.visibilityMode?i():\"exclusive\"===this.layer?.visibilityMode&&e())}};i([a({readOnly:!0})],h.prototype,\"creatingLayerViews\",null),i([a({cast:r})],h.prototype,\"layerViews\",null),i([a({readOnly:!0})],h.prototype,\"updatingProgress\",null),i([a()],h.prototype,\"view\",void 0),h=i([y(\"esri.views.layers.GroupLayerView\")],h);const n=h;export{n as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}