{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Evented.js\";\nimport { destroyMaybe as i } from \"../../../../core/maybe.js\";\nimport { syncAndInitial as r } from \"../../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as a } from \"../../../../core/support/UpdatingHandles.js\";\nimport { MeshTransformUpdateAction as p } from \"../../../../layers/graphics/sources/interfaces.js\";\nimport { getGraphicEffectiveElevationInfo as n } from \"../../../../support/elevationInfoUtils.js\";\nimport { getGraphicAttachmentOrigin as c } from \"../manipulatorUtils.js\";\nimport { createGraphicGeometryUndoRecord as h } from \"./undoRecords.js\";\nimport { GraphicState as d } from \"../../layers/graphics/GraphicState.js\";\nimport { GraphicManipulator as m } from \"../../../interactive/GraphicManipulator.js\";\nimport { EditGeometryOperations as g } from \"../../../interactive/editGeometry/EditGeometryOperations.js\";\nconst l = Symbol();\nlet u = class extends e.EventedAccessor {\n  get operations() {\n    return this._operations;\n  }\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get elevationInfo() {\n    return n(this.graphic);\n  }\n  get visible() {\n    return this._graphicState.displaying;\n  }\n  get isDraped() {\n    return this._graphicState.isDraped;\n  }\n  get origin() {\n    return c(this.view, this.graphic);\n  }\n  constructor(t) {\n    super(t), this._updatingHandles = new a();\n  }\n  destroy() {\n    this._operations = i(this._operations), this._updatingHandles.destroy();\n  }\n  initialize() {\n    this._graphicState = new d({\n      graphic: this.graphic\n    }), this._graphicState.on(\"changed\", () => this.emit(\"committed\")), this.addHandles(this.view.trackGraphicState(this._graphicState)), this.addHandles(this._updatingHandles.add(() => this.graphic.geometry, t => {\n      const e = this._operations?.data.geometry;\n      if (t !== e) {\n        if (!t || \"multipoint\" === t?.type || \"extent\" === t?.type) return i(this._operations), this.removeHandles(l), void (this._operations = null);\n        if (this._operations?.trySetGeometry(t)) this.emit(\"modified-externally\");else {\n          i(this._operations), this.removeHandles(l);\n          const e = g.fromGeometry(t, this.view.state.viewingMode);\n          this._operations = e, this.addHandles(e.data.on(\"change\", () => this.graphic.geometry = e.data.geometry), l);\n        }\n      }\n    }, r));\n  }\n  createManipulator(t) {\n    return new m({\n      view: this.view,\n      graphic: this.graphic,\n      ...t\n    });\n  }\n  maskOccludee() {\n    return this.view.maskOccludee(this.graphic);\n  }\n  endInteraction() {\n    const t = this.graphic.geometry;\n    \"mesh\" === t?.type && this.graphic.notifyMeshTransformChanged({\n      action: p.UpdateFastLocalOrigin\n    });\n  }\n  toMap(t) {\n    return this.view.toMap(t, {\n      include: [this.graphic]\n    });\n  }\n  createUndoRecord() {\n    const {\n      graphic: {\n        geometry: t\n      }\n    } = this;\n    return h(t);\n  }\n};\nt([o({\n  constructOnly: !0\n})], u.prototype, \"view\", void 0), t([o({\n  constructOnly: !0\n})], u.prototype, \"graphic\", void 0), t([o()], u.prototype, \"_operations\", void 0), t([o()], u.prototype, \"operations\", null), t([o()], u.prototype, \"updating\", null), u = t([s(\"esri.views.3d.interactive.editingTools.ManipulatedObject3DGraphic\")], u);\nexport { u as ManipulatedObject3DGraphic };","map":{"version":3,"names":["_","t","e","destroyMaybe","i","syncAndInitial","r","property","o","subclass","s","UpdatingHandles","a","MeshTransformUpdateAction","p","getGraphicEffectiveElevationInfo","n","getGraphicAttachmentOrigin","c","createGraphicGeometryUndoRecord","h","GraphicState","d","GraphicManipulator","m","EditGeometryOperations","g","l","Symbol","u","EventedAccessor","operations","_operations","updating","_updatingHandles","elevationInfo","graphic","visible","_graphicState","displaying","isDraped","origin","view","constructor","destroy","initialize","on","emit","addHandles","trackGraphicState","add","geometry","data","type","removeHandles","trySetGeometry","fromGeometry","state","viewingMode","createManipulator","maskOccludee","endInteraction","notifyMeshTransformChanged","action","UpdateFastLocalOrigin","toMap","include","createUndoRecord","constructOnly","prototype","ManipulatedObject3DGraphic"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatedObject3DGraphic.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Evented.js\";import{destroyMaybe as i}from\"../../../../core/maybe.js\";import{syncAndInitial as r}from\"../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../../../core/support/UpdatingHandles.js\";import{MeshTransformUpdateAction as p}from\"../../../../layers/graphics/sources/interfaces.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../support/elevationInfoUtils.js\";import{getGraphicAttachmentOrigin as c}from\"../manipulatorUtils.js\";import{createGraphicGeometryUndoRecord as h}from\"./undoRecords.js\";import{GraphicState as d}from\"../../layers/graphics/GraphicState.js\";import{GraphicManipulator as m}from\"../../../interactive/GraphicManipulator.js\";import{EditGeometryOperations as g}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";const l=Symbol();let u=class extends e.EventedAccessor{get operations(){return this._operations}get updating(){return this._updatingHandles.updating}get elevationInfo(){return n(this.graphic)}get visible(){return this._graphicState.displaying}get isDraped(){return this._graphicState.isDraped}get origin(){return c(this.view,this.graphic)}constructor(t){super(t),this._updatingHandles=new a}destroy(){this._operations=i(this._operations),this._updatingHandles.destroy()}initialize(){this._graphicState=new d({graphic:this.graphic}),this._graphicState.on(\"changed\",(()=>this.emit(\"committed\"))),this.addHandles(this.view.trackGraphicState(this._graphicState)),this.addHandles(this._updatingHandles.add((()=>this.graphic.geometry),(t=>{const e=this._operations?.data.geometry;if(t!==e){if(!t||\"multipoint\"===t?.type||\"extent\"===t?.type)return i(this._operations),this.removeHandles(l),void(this._operations=null);if(this._operations?.trySetGeometry(t))this.emit(\"modified-externally\");else{i(this._operations),this.removeHandles(l);const e=g.fromGeometry(t,this.view.state.viewingMode);this._operations=e,this.addHandles(e.data.on(\"change\",(()=>this.graphic.geometry=e.data.geometry)),l)}}}),r))}createManipulator(t){return new m({view:this.view,graphic:this.graphic,...t})}maskOccludee(){return this.view.maskOccludee(this.graphic)}endInteraction(){const t=this.graphic.geometry;\"mesh\"===t?.type&&this.graphic.notifyMeshTransformChanged({action:p.UpdateFastLocalOrigin})}toMap(t){return this.view.toMap(t,{include:[this.graphic]})}createUndoRecord(){const{graphic:{geometry:t}}=this;return h(t)}};t([o({constructOnly:!0})],u.prototype,\"view\",void 0),t([o({constructOnly:!0})],u.prototype,\"graphic\",void 0),t([o()],u.prototype,\"_operations\",void 0),t([o()],u.prototype,\"operations\",null),t([o()],u.prototype,\"updating\",null),u=t([s(\"esri.views.3d.interactive.editingTools.ManipulatedObject3DGraphic\")],u);export{u as ManipulatedObject3DGraphic};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}