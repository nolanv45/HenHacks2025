{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../AggregateGraphic.js\";\nimport r from \"../../../Graphic.js\";\nimport s from \"../../../TrackGraphic.js\";\nimport { isSome as i } from \"../../../core/arrayUtils.js\";\nimport a from \"../../../core/Collection.js\";\nimport { neverReached as o } from \"../../../core/compilerUtils.js\";\nimport n from \"../../../core/Error.js\";\nimport { makeHandle as u, handlesGroup as l } from \"../../../core/handleUtils.js\";\nimport has from \"../../../core/has.js\";\nimport h from \"../../../core/Logger.js\";\nimport { destroyMaybe as c } from \"../../../core/maybe.js\";\nimport { notDeepEqual as d } from \"../../../core/object.js\";\nimport { createAbortError as p, createResolver as y, ignoreAbortErrors as f, throwIfNotAbortError as g, isAbortError as m } from \"../../../core/promiseUtils.js\";\nimport { watch as w } from \"../../../core/reactiveUtils.js\";\nimport { sqlOr as v, sqlIn as _, sqlAnd as b } from \"../../../core/sql.js\";\nimport { property as F } from \"../../../core/accessorSupport/decorators/property.js\";\nimport { subclass as A } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as S } from \"../../../core/support/UpdatingHandles.js\";\nimport j from \"../../../geometry/Extent.js\";\nimport U from \"../../../layers/effects/FeatureEffectView.js\";\nimport { convertFromFeature as I } from \"../../../layers/graphics/featureConversionUtils.js\";\nimport x from \"../../../layers/support/FeatureFilter.js\";\nimport { checkServiceCurrentUserSupport as E } from \"../../../layers/support/featureLayerUtils.js\";\nimport { packFields as k } from \"../../../layers/support/fieldUtils.js\";\nimport { getEffectiveLayerCapabilities as C } from \"../../../layers/support/layerUtils.js\";\nimport { combineTimeExtent as V } from \"../../../layers/support/timeSupport.js\";\nimport q from \"../../../rest/support/AggregateFeatureSet.js\";\nimport R from \"../../../rest/support/AttributeBinsFeatureSet.js\";\nimport O from \"../../../rest/support/AttributeBinsQuery.js\";\nimport Q from \"../../../rest/support/FeatureSet.js\";\nimport L from \"../../../rest/support/Query.js\";\nimport { LayerView2DMixin as D } from \"./LayerView2D.js\";\nimport { FeatureContainer as P } from \"./features/FeatureContainer.js\";\nimport { createFeaturePipelineWorkerProxy as T } from \"./features/FeaturePipelineWorkerProxy.js\";\nimport { FeatureSourceEventLog as W } from \"./features/FeatureSourceEventLog.js\";\nimport { CatalogFootprintLayerAdapter as H } from \"./features/layerAdapters/CatalogFootprintLayerAdapter.js\";\nimport { FeatureLayerAdapter as M } from \"./features/layerAdapters/FeatureLayerAdapter.js\";\nimport { InMemoryLayerAdapter as N } from \"./features/layerAdapters/InMemoryLayerAdapter.js\";\nimport { KnowledgeGraphSublayerAdapter as J } from \"./features/layerAdapters/KnowledgeGraphSublayerAdapter.js\";\nimport { OGCFeatureLayerAdapter as G } from \"./features/layerAdapters/OGCFeatureLayerAdapter.js\";\nimport { OrientedImageryLayerAdapter as $ } from \"./features/layerAdapters/OrientedImageryLayerAdapter.js\";\nimport { ParquetLayerAdapter as B } from \"./features/layerAdapters/ParquetLayerAdapter.js\";\nimport { StreamLayerAdapter as z } from \"./features/layerAdapters/StreamLayerAdapter.js\";\nimport { SubtypeGroupLayerAdapter as Z } from \"./features/layerAdapters/SubtypeGroupLayerAdapter.js\";\nimport { createComplexSymbolInstances as K } from \"./features/schema/processor/symbols/ComplexSymbolSchema.js\";\nimport { DebouncedFeatureOverride as X } from \"./support/DebouncedFeatureOverride.js\";\nimport { FeatureCommandQueue as Y } from \"./support/FeatureCommandQueue.js\";\nimport { handleNoEngineError as ee } from \"./support/handleNoEngineError.js\";\nimport { toJSONGeometryType as te } from \"./support/util.js\";\nimport { FeatureTileSubscriptionManager as re } from \"../tiling/FeatureTileSubscriptionManager.js\";\nimport se from \"../../layers/FeatureLayerView.js\";\nimport ie from \"../../layers/LayerView.js\";\nimport ae from \"../../layers/RefreshableLayerView.js\";\nimport { defaultHighlightName as oe } from \"../../support/HighlightDefaults.js\";\nfunction ne(e, t) {\n  const r = new Set();\n  return e && e.forEach(e => r.add(e)), t && t.forEach(e => r.add(e)), r.has(\"*\") ? [\"*\"] : Array.from(r);\n}\nconst ue = 4294967294;\nfunction le(e, t) {\n  return l(e.map(e => w(() => {\n    const t = e();\n    return t && \"object\" == typeof t ? \"getTime\" in t && \"function\" == typeof t.getTime ? t.getTime() : JSON.stringify(t) : t;\n  }, t)));\n}\nlet he = class extends se(ae(D(ie))) {\n  constructor() {\n    super(...arguments), this._commandsQueue = new Y({\n      process: e => {\n        switch (e.type) {\n          case \"override-batch\":\n            return this._doOverride(e);\n          case \"update\":\n            return this._doUpdate();\n          case \"highlight\":\n            return this._updateHighlights();\n        }\n      }\n    }), this._visibilityOverrides = new Set(), this._lastAvailableFields = [], this._lastTargetState = null, this.eventLog = new W(), this._sourceRefreshVersion = 1, this._displayRefreshVersion = 1, this._pipelineUpdating = !1, this._editUpdatingHandles = new S(), this._fields = null, this._sourceUpdating = !1, this.featureEffectView = new U();\n  }\n  destroy() {\n    this._workerProxy?.destroy(), this._workerAttached.reject(p()), this._commandsQueue.destroy();\n  }\n  initialize() {\n    this._workerAttached = y(), f(this._workerAttached.promise), this.addResolvingPromise(this._initProxy()), this.featureEffectView.featureEffect = this.featureEffect, this.featureEffectView.endTransition();\n  }\n  async _initProxy() {\n    const e = this.layer;\n    if (\"isTable\" in e && e.isTable) throw new n(\"featurelayerview:table-not-supported\", \"table feature layer can't be displayed\", {\n      layer: e\n    });\n    if ((\"feature\" === e.type || \"subtype-group\" === e.type) && !1 === C(e)?.operations.supportsQuery) throw new n(\"featurelayerview:query-not-supported\", \"layer view requires a layer with query capability\", {\n      layer: e\n    });\n    this._workerProxy && this._workerProxy.destroy();\n    const t = this._createClientOptions();\n    this._workerProxy = await T(t);\n  }\n  async _attachProxy() {\n    const e = {\n      service: await this.layerAdapter.createServiceOptions(this.view),\n      tileInfoJSON: this.view?.featuresTilingScheme?.tileInfo?.toJSON()\n    };\n    let t = [];\n    Array.isArray(e.service.source) && (t = e.service.source);\n    try {\n      await this._workerProxy.pipeline.onAttach(e, {\n        transferList: t\n      }), this._workerAttached.resolve();\n    } catch (r) {\n      this._workerAttached.reject(p()), g(r);\n    }\n  }\n  async _detachProxy() {\n    return this._workerProxy.pipeline.onDetach();\n  }\n  async getWorker() {\n    return await this._workerAttached.promise, this._workerProxy;\n  }\n  get dataUpdating() {\n    return this._sourceUpdating || this._editUpdatingHandles.updating;\n  }\n  get effectiveDisplayFilterClause() {\n    const e = this.effectiveDisplayFilter?.where ?? null;\n    return e && this.hasHighlight ? v(e, _(this.layer.objectIdField, this.highlightIds)) : e;\n  }\n  get hasAllFeatures() {\n    return this.layer.visible && !this.suspended && this.eventLog.hasAllData && this.eventLog.willQueryAllFeatures;\n  }\n  get hasAllFeaturesInView() {\n    const e = this.effectiveDisplayFilter?.where || null,\n      t = !this.eventLog.willQueryAllFeatures && null != e && \"1=1\" !== e;\n    return this.layer.visible && !this.suspended && this.eventLog.hasAllData && !t;\n  }\n  get hasFullGeometries() {\n    return this.layer.visible && !this.suspended && this.eventLog.hasAllData && this.eventLog.willQueryFullResolutionGeometry;\n  }\n  get labelingCollisionInfos() {\n    const e = this.layerAdapter.getLabelingDeconflictionInfo(this.view),\n      t = this.layer.geometryType,\n      r = !this.suspended;\n    return e.map(_ref => {\n      let {\n        vvEvaluators: e,\n        deconflictionEnabled: s\n      } = _ref;\n      return {\n        container: this.featureContainer,\n        vvEvaluators: e,\n        deconflictionEnabled: s,\n        geometryType: t,\n        visible: r\n      };\n    });\n  }\n  get layerAdapter() {\n    switch (this.layer.type) {\n      case \"feature\":\n        return \"memory\" === this.layer.source.type ? new N(this.layer) : new M(this.layer);\n      case \"geojson\":\n      case \"csv\":\n      case \"wfs\":\n        return new N(this.layer);\n      case \"parquet\":\n        return new B(this.layer);\n      case \"subtype-group\":\n        return new Z(this.layer);\n      case \"ogc-feature\":\n        return new G(this.layer);\n      case \"stream\":\n        return new z(this.layer);\n      case \"oriented-imagery\":\n        return new $(this.layer);\n      case \"knowledge-graph-sublayer\":\n        return new J(this.layer);\n      case \"catalog-footprint\":\n        return new H(this.layer);\n      default:\n        o(this.layer);\n    }\n    return null;\n  }\n  get timeExtent() {\n    return V(this.layerAdapter.timeOptions, this.view?.timeExtent, this._get(\"timeExtent\"));\n  }\n  getDisplayStatistics(e, t) {\n    return this.featureContainer?.getDisplayStatistics(e, t);\n  }\n  async queryHeatmapStatistics(e) {\n    return (await this.getWorker()).pipeline.queryHeatmapStatistics(e);\n  }\n  highlight(e, t) {\n    let s;\n    e instanceof r ? s = [e.getObjectId()] : \"number\" == typeof e || \"string\" == typeof e ? s = [e] : a.isCollection(e) && e.length > 0 ? s = e.map(e => e?.getObjectId()).toArray() : Array.isArray(e) && e.length > 0 && (s = \"number\" == typeof e[0] || \"string\" == typeof e[0] ? e : e.map(e => e?.getObjectId()));\n    const o = s?.filter(i);\n    if (!o?.length) return u();\n    const n = t?.name ?? oe;\n    return this._addHighlights(o, n), u(() => !this.destroyed && this._removeHighlights(o, n));\n  }\n  async hitTest(e, i) {\n    const a = await this.featureContainer.hitTest(i);\n    if (0 === a.length) return null;\n    const o = await this.getWorker(),\n      {\n        features: n,\n        aggregates: u,\n        tracks: l\n      } = await o.pipeline.getDisplayFeatures(a),\n      h = this.featureContainer.getSortKeys(a),\n      c = (_ref2, _ref3) => {\n        let {\n          displayId: e\n        } = _ref2;\n        let {\n          displayId: t\n        } = _ref3;\n        return h.has(e) && h.has(t) ? h.get(e) - h.get(t) : e - t;\n      };\n    return n.sort(c).reverse(), u.sort(c).reverse(), [...u.map(r => this._createGraphicHit(e, t.fromJSON(r))), ...l.map(t => this._createGraphicHit(e, s.fromJSON(t))), ...n.map(t => this._createGraphicHit(e, r.fromJSON(t)))];\n  }\n  async queryStatistics() {\n    const e = await this.getWorker();\n    return ee(e.pipeline.queryStatistics(), {\n      featureCount: 0,\n      ringCount: 0,\n      vertexCount: 0\n    });\n  }\n  async querySummaryStatistics(e, t, r) {\n    const s = await this.getWorker(),\n      i = {\n        ...t,\n        scale: this.view.scale\n      },\n      a = s.features.executeQueryForSummaryStatistics(this._cleanUpQuery(e), i, r);\n    return ee(a, {});\n  }\n  async queryAggregateSummaryStatistics(e, t, r) {\n    const s = {\n        ...t,\n        scale: this.view.scale\n      },\n      i = (await this.getWorker()).aggregates.executeQueryForSummaryStatistics(this._cleanUpAggregateQuery(e), s, r);\n    return ee(i, {});\n  }\n  async queryUniqueValues(e, t, r) {\n    const s = await this.getWorker(),\n      i = {\n        ...t,\n        scale: this.view.scale\n      },\n      a = s.features.executeQueryForUniqueValues(this._cleanUpQuery(e), i, r);\n    return ee(a, {\n      uniqueValueInfos: []\n    });\n  }\n  async queryAggregateUniqueValues(e, t, r) {\n    const s = await this.getWorker(),\n      i = {\n        ...t,\n        scale: this.view.scale\n      },\n      a = s.aggregates.executeQueryForUniqueValues(this._cleanUpAggregateQuery(e), i, r);\n    return ee(a, {\n      uniqueValueInfos: []\n    });\n  }\n  async queryClassBreaks(e, t, r) {\n    const s = await this.getWorker(),\n      i = {\n        ...t,\n        scale: this.view.scale\n      },\n      a = s.features.executeQueryForClassBreaks(this._cleanUpQuery(e), i, r);\n    return ee(a, {\n      classBreakInfos: []\n    });\n  }\n  async queryAggregateClassBreaks(e, t, r) {\n    const s = await this.getWorker(),\n      i = {\n        ...t,\n        scale: this.view.scale\n      },\n      a = s.aggregates.executeQueryForClassBreaks(this._cleanUpAggregateQuery(e), i, r);\n    return ee(a, {\n      classBreakInfos: []\n    });\n  }\n  async queryHistogram(e, t, r) {\n    const s = await this.getWorker(),\n      i = {\n        ...t,\n        scale: this.view.scale\n      },\n      a = s.features.executeQueryForHistogram(this._cleanUpQuery(e), i, r);\n    return ee(a, {\n      bins: [],\n      maxValue: null,\n      minValue: null,\n      normalizationTotal: null\n    });\n  }\n  async queryAggregateHistogram(e, t, r) {\n    const s = await this.getWorker(),\n      i = {\n        ...t,\n        scale: this.view.scale\n      },\n      a = s.aggregates.executeQueryForHistogram(this._cleanUpAggregateQuery(e), i, r);\n    return ee(a, {\n      bins: [],\n      maxValue: null,\n      minValue: null,\n      normalizationTotal: null\n    });\n  }\n  queryFeatures(e, t) {\n    return this.queryFeaturesJSON(e, t).then(e => {\n      const t = Q.fromJSON(e);\n      return t.features.forEach(e => this._setLayersForFeature(e)), t;\n    });\n  }\n  async queryVisibleFeatures(e, t) {\n    const r = (await this.getWorker()).pipeline.queryVisibleFeatures(this._cleanUpQuery(e), t),\n      s = await ee(r, {\n        features: []\n      }),\n      i = Q.fromJSON(s);\n    return i.features.forEach(e => this._setLayersForFeature(e)), i;\n  }\n  async queryAggregates(e, t) {\n    const r = (await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e), t),\n      s = await ee(r, {\n        features: []\n      }),\n      i = q.fromJSON(s);\n    return i.features.forEach(e => this._setLayersForFeature(e)), i;\n  }\n  async queryAggregateIds(e, t) {\n    const r = (await this.getWorker()).aggregates.executeQueryForIds(this._cleanUpAggregateQuery(e), t);\n    return ee(r, []);\n  }\n  async queryAggregateCount(e, t) {\n    const r = (await this.getWorker()).aggregates.executeQueryForCount(this._cleanUpAggregateQuery(e), t);\n    return ee(r, 0);\n  }\n  async queryAggregateJSON(e, t) {\n    const r = (await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e), t);\n    return ee(r, {\n      features: []\n    });\n  }\n  async queryFeaturesJSON(e, t) {\n    const r = (await this.getWorker()).features.executeQuery(this._cleanUpQuery(e), t);\n    return ee(r, {\n      features: []\n    });\n  }\n  async queryObjectIds(e, t) {\n    const r = (await this.getWorker()).features.executeQueryForIds(this._cleanUpQuery(e), t);\n    return ee(r, []);\n  }\n  async queryFeatureCount(e, t) {\n    const r = (await this.getWorker()).features.executeQueryForCount(this._cleanUpQuery(e), t);\n    return ee(r, 0);\n  }\n  async queryExtent(e, t) {\n    const r = (await this.getWorker()).features.executeQueryForExtent(this._cleanUpQuery(e), t),\n      s = await ee(r, {\n        count: 0,\n        extent: null\n      });\n    return {\n      count: s.count,\n      extent: j.fromJSON(s.extent)\n    };\n  }\n  async queryAttributeBins(e, t) {\n    const r = (await this.getWorker()).features.executeAttributeBinsQuery(this._cleanUpAttributeBinsQuery(e), t),\n      s = await ee(r, {\n        features: []\n      });\n    return R.fromJSON(s);\n  }\n  async getSampleFeatures(e) {\n    return (await this.getWorker()).pipeline.getSampleFeatures(e);\n  }\n  setVisibility(e, t) {\n    t ? this._visibilityOverrides.delete(e) : this._visibilityOverrides.add(e), this._update();\n  }\n  update(e) {\n    if (!this._subscriptionManager) return;\n    this.view.animation && !this._lastTargetState && (this._lastTargetState = e.state.clone()), !this.view.animation && this._lastTargetState && (this._lastTargetState = null);\n    const t = this._subscriptionManager.update(e.targetState, this._lastTargetState);\n    this.featureContainer.setVisibleTiles(t);\n  }\n  attach() {\n    has(\"esri-2d-update-debug\") && console.debug(\"FeatureLayerView2D.attach\"), f(this._updatingHandles.addPromise(this._workerAttached.promise)), f(this._attachProxy()), this.featureContainer = new P(this), this.container.addChild(this.featureContainer), this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`), this._subscriptionManager = new re({\n      tileInfoView: this.view.featuresTilingScheme,\n      updateSubscriptions: e => {\n        this.featureContainer.updateSubscriptions(e), f(this._updatingHandles.addPromise(this.getWorker().then(t => t.pipeline.updateSubscriptions(e))));\n      },\n      isDone: e => this.featureContainer.isDone(e)\n    }), this.requestUpdate(), this.addAttachHandles([le([() => this._displayRefreshVersion, () => this.layer.displayFilterInfo, () => this.timeExtent, () => this.clips, () => this.filter, () => this.effectiveDisplayFilterClause, () => this.featureEffect, () => this._sourceRefreshVersion, () => this.view.timeZone, () => this.view.timeExtent, ...this.layerAdapter.getUpdateHashProperties(this.view)], () => this._update()), w(() => this.updateSuspended, e => {\n      e || (this._subscriptionManager.resume(), this.view.labelManager.requestUpdate());\n    }), w(() => this.visible, e => {\n      this.view.labelManager.requestUpdate();\n    })]), this._update(), \"stream\" !== this.layer.type && \"parquet\" !== this.layer.type && \"catalog-footprint\" !== this.layer.type && this.addAttachHandles(this.layer.on(\"edits\", e => this._editUpdatingHandles.addPromise(this._edit(e))));\n  }\n  detach() {\n    has(\"esri-2d-update-debug\") && console.debug(\"FeatureLayerView2D.detach\"), this._detachProxy(), this._fields = null, this.featureContainer.destroy(), this.featureContainer = null, this._commandsQueue.clear(), this.container.removeAllChildren(), this._subscriptionManager = c(this._subscriptionManager), this._workerProxy.pipeline.onDetach(), this._workerAttached = y(), f(this._workerAttached.promise), this._lastAvailableFields = [], this._lastSchema = null;\n  }\n  viewChange() {\n    this.requestUpdate();\n  }\n  moveEnd() {\n    this.requestUpdate();\n  }\n  addOverrides(e) {\n    return this._commandsQueue.push({\n      type: \"override\",\n      options: {\n        ...e,\n        release: []\n      }\n    });\n  }\n  removeOverrides(e) {\n    for (const r of e) if (null == r) throw new n(\"featurelayerview:bad-override\", \"Tried to remove an override for an invalid objectId\", {\n      objectId: r\n    });\n    const t = {\n      added: [],\n      updated: [],\n      removed: [],\n      release: e,\n      isWeak: !1,\n      historicMoment: null\n    };\n    return this._commandsQueue.push({\n      type: \"override\",\n      options: t\n    });\n  }\n  isUpdating() {\n    const e = \"renderer\" in this.layer && null != this.layer.renderer,\n      t = this._commandsQueue.updateTracking.updating,\n      r = null != this._updatingRequiredPromise,\n      s = this.featureContainer.updatingHandles.updating,\n      i = this.updateRequested || e && (t || r) || s || this._pipelineUpdating || this.dataUpdating;\n    if (has(\"esri-2d-log-updating\")) {\n      console.log(`Updating FLV2D (${this.layer.id}): ${i}\\n  -> updateRequested ${this.updateRequested}\\n  -> hasRenderer ${e}\\n  -> updatingRequiredFields ${r}\\n  -> hasPendingCommand ${t}\\n  -> dataUpdating ${this.dataUpdating}\\n  -> processing ${this._pipelineUpdating}\\n  -> updatingContainer ${s}\\n`);\n      for (const e of this.featureContainer.subscriptions()) console.log(`    -> Tile[${e.id}] Done: ${e.done}`);\n    }\n    return i;\n  }\n  _createClientOptions() {\n    const e = this;\n    return {\n      get container() {\n        return e.featureContainer;\n      },\n      setUpdating: e => {\n        this._set(\"_pipelineUpdating\", e.pipeline), this._set(\"_sourceUpdating\", e.source);\n      },\n      emitEvent: e => {\n        this.emit(e.name, e.event);\n      },\n      get eventLog() {\n        return e.eventLog;\n      },\n      fetch: async t => {\n        if (has(\"esri-2d-stabilize-glyphs\")) {\n          const r = [];\n          for (const s of t) r.push(await e.view.stage.painter.textureManager.rasterizeItem(s));\n          return r;\n        }\n        return Promise.all(t.map(t => e.view.stage.painter.textureManager.rasterizeItem(t)));\n      },\n      fetchDictionary: e => Promise.all(e.map(e => this._fetchDictionaryRequest(e)))\n    };\n  }\n  async _fetchDictionaryRequest(e) {\n    try {\n      if (\"subtype-group\" === this.layer.type) throw new Error(\"InternalError: SubtypeGroupLayer does not support dictionary renderer\");\n      const t = this.layer.renderer;\n      if (!t || \"dictionary\" !== t.type) throw new Error(\"InternalError: Expected layer to have a DictionaryRenderer\");\n      const r = this._lastSchema.processor.mesh.factory.symbology;\n      if (\"dictionary\" !== r.type) throw new Error(\"InternalError: Expected schema to be of type 'dictionary'\");\n      const s = {\n        cimAnalyzer: this.view.stage.cimAnalyzer,\n        cimResourceManager: this.view.stage.painter.textureManager.resourceManager,\n        store: this.featureContainer.instanceStore,\n        scaleExpression: r.scaleExpression\n      };\n      this._fields || (this._fields = this.layer.fields.map(e => e.toJSON()));\n      const i = r.visualVariableUniforms,\n        a = await t.getSymbolAsync(e.feature, {\n          fields: this._fields\n        });\n      if (!a || !a.data) return {\n        type: \"dictionary-response\",\n        meshes: []\n      };\n      return {\n        type: \"dictionary-response\",\n        meshes: await K(a.data, {\n          uniforms: i,\n          path: \"renderer\",\n          schemaOptions: s\n        })\n      };\n    } catch (t) {\n      return {\n        type: \"dictionary-response\",\n        meshes: []\n      };\n    }\n  }\n  _cleanUpQuery(e) {\n    const t = L.from(e) || this.createQuery();\n    return t.outSpatialReference || (t.outSpatialReference = this.view.spatialReference), t.toJSON();\n  }\n  _cleanUpAttributeBinsQuery(e) {\n    const t = O.from(e);\n    return t.outSpatialReference || (t.outSpatialReference = this.view.spatialReference), t.toJSON();\n  }\n  _cleanUpAggregateQuery(e) {\n    const t = L.from(e) || this.createAggregateQuery();\n    t.outSpatialReference || (t.outSpatialReference = this.view.spatialReference);\n    const r = t.objectIds ?? [];\n    for (const s of t.aggregateIds ?? []) r.push(s);\n    return t.objectIds = r, t.aggregateIds = [], t.toJSON();\n  }\n  async _update() {\n    return this._commandsQueue.push({\n      type: \"update\"\n    });\n  }\n  _edit(e) {\n    return this.updateSuspended ? (this._subscriptionManager.suspend(), Promise.resolve()) : this._commandsQueue.push({\n      type: \"edit\",\n      event: e\n    });\n  }\n  async doRefresh(e) {\n    this.attached && (this.updateSuspended && e || (e ? this.incrementSourceRefreshVersion() : this.incrementDisplayRefreshVersion()));\n  }\n  incrementSourceRefreshVersion() {\n    this._sourceRefreshVersion = (this._sourceRefreshVersion + 1) % ue + 1;\n  }\n  incrementDisplayRefreshVersion() {\n    this._displayRefreshVersion = (this._displayRefreshVersion + 1) % ue + 1;\n  }\n  async _resolveIdenifiers(e) {\n    const t = [],\n      r = [];\n    for (const a of e) null == a.objectId || -1 === a.objectId ? null == a.globalId ? h.getLogger(this).warn(\"mapview-apply-edits\", \"A feature identifier must contain either a GlobalId or ObjectId. Ignoring\", {\n      identifier: a\n    }) : r.push(a.globalId) : t.push(a.objectId);\n    const s = \"globalIdField\" in this.layer && this.layer.globalIdField,\n      i = s && this.availableFields.includes(s);\n    if (r.length && !i) return h.getLogger(this).error(new n(\"mapview-apply-edits\", `Editing the specified service requires the layer's globalIdField, ${s} to be included the layer's outFields for updates to be reflected on the map`)), t;\n    if (r.length) {\n      const e = await this._workerProxy.pipeline.getObjectIdsFromGlobalIds(r);\n      for (const r of e) t.push(r);\n    }\n    return t;\n  }\n  _resolveOverrides(e) {\n    const t = !1,\n      r = !1,\n      s = te(this.layer.geometryType),\n      i = this.layer.objectIdField,\n      a = [];\n    for (const o of e.added) {\n      const e = I(o, s, t, r, i);\n      if (null == e.objectId) throw new n(\"featurelayerview:bad-override\", \"Feature does not have an objectId\", {\n        feature: o\n      });\n      a.push(e);\n    }\n    for (const o of e.updated) {\n      const e = I(o, s, t, r, i);\n      if (null == e.objectId) throw new n(\"featurelayerview:bad-override\", \"Feature does not have an objectId\", {\n        feature: o\n      });\n      a.push(e);\n    }\n    for (const o of e.removed) if (null == o) throw new n(\"featurelayerview:bad-override\", \"Tried to remove an invalid objectId\", {\n      objectId: o\n    });\n    return {\n      type: \"override\",\n      updates: a,\n      removed: e.removed,\n      release: e.release,\n      isWeak: e.isWeak ?? !1,\n      historicMoment: e.historicMoment ?? null\n    };\n  }\n  async _resolveEdit(e) {\n    const t = this.layer,\n      r = e.historicMoment?.getTime() ?? null,\n      s = \"layerId\" in t && e.editedFeatures?.find(e => e.layerId === t.layerId);\n    if (s && this._canEditByFeature(s)) {\n      const {\n          adds: e,\n          deletes: t,\n          updates: i\n        } = s.editedFeatures,\n        a = this.layer.objectIdField,\n        o = i.map(e => e.current),\n        n = t.map(e => \"attributes\" in e ? {\n          objectId: a ? e.attributes[a] : null\n        } : e),\n        u = await this._resolveIdenifiers(n);\n      return this._resolveOverrides({\n        added: e,\n        updated: o,\n        removed: u,\n        historicMoment: r,\n        isWeak: !0,\n        release: []\n      });\n    }\n    const [i, a, o] = await Promise.all([this._resolveIdenifiers(e.addedFeatures), this._resolveIdenifiers(e.updatedFeatures), this._resolveIdenifiers(e.deletedFeatures)]);\n    return {\n      type: \"override-by-id\",\n      updates: [...i, ...a],\n      removed: o,\n      historicMoment: r,\n      isWeak: !0\n    };\n  }\n  _canEditByFeature(e) {\n    const {\n      adds: t,\n      updates: r\n    } = e.editedFeatures;\n    return t.every(e => this.view.spatialReference.equals(e.geometry?.spatialReference)) && r.every(e => this.view.spatialReference.equals(e.current.geometry?.spatialReference));\n  }\n  async _doUpdate() {\n    \"featureReduction\" in this.layer && this.layer.featureReduction && this.layer.featureReduction !== this._lastFeatureReduction && (this.layer.featureReduction = this.layer.featureReduction?.clone(), this._lastFeatureReduction = this.layer.featureReduction);\n    try {\n      if (await Promise.allSettled([this._handleChange(), E(this.layer)]), this.destroyed || !this.layerAdapter?.hasRequiredSupport || !this._subscriptionManager) return;\n      const e = this.featureContainer.instanceStore;\n      this.featureContainer.attributeView.lockTextureUploads(), e.updateStart();\n      const t = this.featureEffect,\n        r = {\n          store: e,\n          cimAnalyzer: this.view.stage.cimAnalyzer,\n          cimResourceManager: this.view.stage.painter.textureManager.resourceManager,\n          scaleExpression: void 0\n        },\n        s = await this._createViewSchemaConfig(),\n        i = {\n          source: this.layerAdapter.createSourceSchema(s, this._sourceRefreshVersion),\n          processor: await this.layerAdapter.createProcessorSchema(r, s, this._displayRefreshVersion)\n        },\n        a = d(this._lastSchema?.source.mutable, i.source.mutable) || d(this._lastSchema?.processor, i.processor);\n      if (!a) return this.featureContainer.requestRender(), this.featureContainer.attributeView.unlockTextureUploads(), e.updateEnd(), void (this.featureEffectView.featureEffect = t);\n      this._lastSchema = i, this._fields = null;\n      const o = Math.round(performance.now());\n      has(\"esri-2d-update-debug\") && console.debug(`Id[${this.layer.uid}] Version[${o}] FeatureLayerView2D._doUpdate`, {\n        changes: a\n      });\n      const n = await this.getWorker();\n      await n.pipeline.updateSchema(i, o), e.updateEnd(), this.featureEffectView.featureEffect = t, this.featureEffectView.endTransition(), this.featureContainer.restartAllAnimations(), this.featureContainer.attributeView.unlockTextureUploads(), this.featureContainer.trySwapRenderState(), this.featureContainer.requestRender(), has(\"esri-2d-update-debug\") && console.debug(`Version[${o}] FeatureLayerView2D.updateEnd`), this.requestUpdate();\n    } catch (e) {\n      has(\"esri-2d-update-debug\") && console.error(\"Encountered an error during update\", e);\n    }\n  }\n  async _doOverride(e) {\n    const t = await this.getWorker();\n    try {\n      for (const r of e.messages) switch (r.type) {\n        case \"edit\":\n          {\n            const e = new X();\n            e.add(await this._resolveEdit(r.event)), await t.pipeline.onOverride(e.toMessage());\n            break;\n          }\n        case \"override\":\n          {\n            const e = new X();\n            e.add(this._resolveOverrides(r.options)), await t.pipeline.onOverride(e.toMessage());\n            break;\n          }\n      }\n    } catch (r) {\n      m(r), 0;\n    }\n  }\n  _getEffectiveAvailableFields(e) {\n    const t = ne(this._lastAvailableFields, e);\n    return this._lastAvailableFields = t, k(this.layer.fieldsIndex, t);\n  }\n  async _createViewSchemaConfig() {\n    const e = this.requiresCurrentUser ? await this.signedInUser : null,\n      t = [ce(this.view, this.layerAdapter, this.timeExtent, this._visibilityOverrides, this.filter, this.effectiveDisplayFilterClause), this.featureEffect?.filter?.toJSON() ?? null];\n    return {\n      availableFields: this._getEffectiveAvailableFields(this.availableFields),\n      displayFilterEnabled: this.displayFilterEnabled,\n      filters: t,\n      scale: this.view.scale,\n      timeZone: this.view.timeZone,\n      timeExtent: this.view.timeExtent,\n      currentUser: e\n    };\n  }\n  _processHighlight() {\n    this._commandsQueue.push({\n      type: \"highlight\"\n    });\n  }\n  async _updateHighlights() {\n    const e = this._getHighlights(),\n      t = await this.getWorker();\n    if (this.destroyed) return;\n    const r = t.pipeline.updateHighlight({\n      highlights: e\n    }).catch(e => {\n      m(e) || h.getLogger(this).error(e);\n    });\n    this._updatingHandles.addPromise(r);\n  }\n  _setLayersForFeature(e) {\n    e.layer = e.sourceLayer = this.layer, this.layerAdapter.setGraphicOrigin && this.layerAdapter.setGraphicOrigin(e);\n  }\n  _createGraphicHit(e, t) {\n    return this._setLayersForFeature(t), null != t.geometry && (t.geometry.spatialReference = this.view.spatialReference), {\n      type: \"graphic\",\n      graphic: t,\n      layer: this.layer,\n      mapPoint: e\n    };\n  }\n};\nfunction ce(e, t, r, s, i, a) {\n  i && (i = i.clone());\n  const o = null != i ? i.timeExtent : null,\n    n = null != r && null != o ? r.intersection(o) : r || o;\n  n && (i ??= new x(), i.timeExtent = n), i = t.addFilters?.(i, e) ?? i, a && (i ??= new x(), i.where = b(i.where, a));\n  let u = i?.toJSON() ?? null;\n  return s.size && (u ??= new x().toJSON(), u.hiddenIds = Array.from(s)), u;\n}\ne([F()], he.prototype, \"_commandsQueue\", void 0), e([F()], he.prototype, \"_sourceRefreshVersion\", void 0), e([F()], he.prototype, \"_displayRefreshVersion\", void 0), e([F({\n  readOnly: !0\n})], he.prototype, \"_pipelineUpdating\", void 0), e([F()], he.prototype, \"_sourceUpdating\", void 0), e([F({\n  readOnly: !0\n})], he.prototype, \"dataUpdating\", null), e([F({\n  readOnly: !0\n})], he.prototype, \"effectiveDisplayFilterClause\", null), e([F({\n  readOnly: !0\n})], he.prototype, \"hasAllFeatures\", null), e([F({\n  readOnly: !0\n})], he.prototype, \"hasAllFeaturesInView\", null), e([F({\n  readOnly: !0\n})], he.prototype, \"hasFullGeometries\", null), e([F()], he.prototype, \"featureEffectView\", void 0), e([F()], he.prototype, \"labelingCollisionInfos\", null), e([F()], he.prototype, \"layerAdapter\", null), e([F({\n  readOnly: !0\n})], he.prototype, \"timeExtent\", null), e([F()], he.prototype, \"updating\", void 0), he = e([A(\"esri.views.2d.layers.FeatureLayerView2D\")], he);\nconst de = he;\nexport { de as default };","map":{"version":3,"names":["_","e","t","r","s","isSome","i","a","neverReached","o","n","makeHandle","u","handlesGroup","l","has","h","destroyMaybe","c","notDeepEqual","d","createAbortError","p","createResolver","y","ignoreAbortErrors","f","throwIfNotAbortError","g","isAbortError","m","watch","w","sqlOr","v","sqlIn","sqlAnd","b","property","F","subclass","A","UpdatingHandles","S","j","U","convertFromFeature","I","x","checkServiceCurrentUserSupport","E","packFields","k","getEffectiveLayerCapabilities","C","combineTimeExtent","V","q","R","O","Q","L","LayerView2DMixin","D","FeatureContainer","P","createFeaturePipelineWorkerProxy","T","FeatureSourceEventLog","W","CatalogFootprintLayerAdapter","H","FeatureLayerAdapter","M","InMemoryLayerAdapter","N","KnowledgeGraphSublayerAdapter","J","OGCFeatureLayerAdapter","G","OrientedImageryLayerAdapter","$","ParquetLayerAdapter","B","StreamLayerAdapter","z","SubtypeGroupLayerAdapter","Z","createComplexSymbolInstances","K","DebouncedFeatureOverride","X","FeatureCommandQueue","Y","handleNoEngineError","ee","toJSONGeometryType","te","FeatureTileSubscriptionManager","re","se","ie","ae","defaultHighlightName","oe","ne","Set","forEach","add","Array","from","ue","le","map","getTime","JSON","stringify","he","constructor","arguments","_commandsQueue","process","type","_doOverride","_doUpdate","_updateHighlights","_visibilityOverrides","_lastAvailableFields","_lastTargetState","eventLog","_sourceRefreshVersion","_displayRefreshVersion","_pipelineUpdating","_editUpdatingHandles","_fields","_sourceUpdating","featureEffectView","destroy","_workerProxy","_workerAttached","reject","initialize","promise","addResolvingPromise","_initProxy","featureEffect","endTransition","layer","isTable","operations","supportsQuery","_createClientOptions","_attachProxy","service","layerAdapter","createServiceOptions","view","tileInfoJSON","featuresTilingScheme","tileInfo","toJSON","isArray","source","pipeline","onAttach","transferList","resolve","_detachProxy","onDetach","getWorker","dataUpdating","updating","effectiveDisplayFilterClause","effectiveDisplayFilter","where","hasHighlight","objectIdField","highlightIds","hasAllFeatures","visible","suspended","hasAllData","willQueryAllFeatures","hasAllFeaturesInView","hasFullGeometries","willQueryFullResolutionGeometry","labelingCollisionInfos","getLabelingDeconflictionInfo","geometryType","_ref","vvEvaluators","deconflictionEnabled","container","featureContainer","timeExtent","timeOptions","_get","getDisplayStatistics","queryHeatmapStatistics","highlight","getObjectId","isCollection","length","toArray","filter","name","_addHighlights","destroyed","_removeHighlights","hitTest","features","aggregates","tracks","getDisplayFeatures","getSortKeys","_ref2","_ref3","displayId","get","sort","reverse","_createGraphicHit","fromJSON","queryStatistics","featureCount","ringCount","vertexCount","querySummaryStatistics","scale","executeQueryForSummaryStatistics","_cleanUpQuery","queryAggregateSummaryStatistics","_cleanUpAggregateQuery","queryUniqueValues","executeQueryForUniqueValues","uniqueValueInfos","queryAggregateUniqueValues","queryClassBreaks","executeQueryForClassBreaks","classBreakInfos","queryAggregateClassBreaks","queryHistogram","executeQueryForHistogram","bins","maxValue","minValue","normalizationTotal","queryAggregateHistogram","queryFeatures","queryFeaturesJSON","then","_setLayersForFeature","queryVisibleFeatures","queryAggregates","executeQuery","queryAggregateIds","executeQueryForIds","queryAggregateCount","executeQueryForCount","queryAggregateJSON","queryObjectIds","queryFeatureCount","queryExtent","executeQueryForExtent","count","extent","queryAttributeBins","executeAttributeBinsQuery","_cleanUpAttributeBinsQuery","getSampleFeatures","setVisibility","delete","_update","update","_subscriptionManager","animation","state","clone","targetState","setVisibleTiles","attach","console","debug","_updatingHandles","addPromise","addChild","timeline","record","title","tileInfoView","updateSubscriptions","isDone","requestUpdate","addAttachHandles","displayFilterInfo","clips","timeZone","getUpdateHashProperties","updateSuspended","resume","labelManager","on","_edit","detach","clear","removeAllChildren","_lastSchema","viewChange","moveEnd","addOverrides","push","options","release","removeOverrides","objectId","added","updated","removed","isWeak","historicMoment","isUpdating","renderer","updateTracking","_updatingRequiredPromise","updatingHandles","updateRequested","log","id","subscriptions","done","setUpdating","_set","emitEvent","emit","event","fetch","stage","painter","textureManager","rasterizeItem","Promise","all","fetchDictionary","_fetchDictionaryRequest","Error","processor","mesh","factory","symbology","cimAnalyzer","cimResourceManager","resourceManager","store","instanceStore","scaleExpression","fields","visualVariableUniforms","getSymbolAsync","feature","data","meshes","uniforms","path","schemaOptions","createQuery","outSpatialReference","spatialReference","createAggregateQuery","objectIds","aggregateIds","suspend","doRefresh","attached","incrementSourceRefreshVersion","incrementDisplayRefreshVersion","_resolveIdenifiers","globalId","getLogger","warn","identifier","globalIdField","availableFields","includes","error","getObjectIdsFromGlobalIds","_resolveOverrides","updates","_resolveEdit","editedFeatures","find","layerId","_canEditByFeature","adds","deletes","current","attributes","addedFeatures","updatedFeatures","deletedFeatures","every","equals","geometry","featureReduction","_lastFeatureReduction","allSettled","_handleChange","hasRequiredSupport","attributeView","lockTextureUploads","updateStart","_createViewSchemaConfig","createSourceSchema","createProcessorSchema","mutable","requestRender","unlockTextureUploads","updateEnd","Math","round","performance","now","uid","changes","updateSchema","restartAllAnimations","trySwapRenderState","messages","onOverride","toMessage","_getEffectiveAvailableFields","fieldsIndex","requiresCurrentUser","signedInUser","ce","displayFilterEnabled","filters","currentUser","_processHighlight","_getHighlights","updateHighlight","highlights","catch","sourceLayer","setGraphicOrigin","graphic","mapPoint","intersection","addFilters","size","hiddenIds","prototype","readOnly","de","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../AggregateGraphic.js\";import r from\"../../../Graphic.js\";import s from\"../../../TrackGraphic.js\";import{isSome as i}from\"../../../core/arrayUtils.js\";import a from\"../../../core/Collection.js\";import{neverReached as o}from\"../../../core/compilerUtils.js\";import n from\"../../../core/Error.js\";import{makeHandle as u,handlesGroup as l}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import h from\"../../../core/Logger.js\";import{destroyMaybe as c}from\"../../../core/maybe.js\";import{notDeepEqual as d}from\"../../../core/object.js\";import{createAbortError as p,createResolver as y,ignoreAbortErrors as f,throwIfNotAbortError as g,isAbortError as m}from\"../../../core/promiseUtils.js\";import{watch as w}from\"../../../core/reactiveUtils.js\";import{sqlOr as v,sqlIn as _,sqlAnd as b}from\"../../../core/sql.js\";import{property as F}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as A}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as S}from\"../../../core/support/UpdatingHandles.js\";import j from\"../../../geometry/Extent.js\";import U from\"../../../layers/effects/FeatureEffectView.js\";import{convertFromFeature as I}from\"../../../layers/graphics/featureConversionUtils.js\";import x from\"../../../layers/support/FeatureFilter.js\";import{checkServiceCurrentUserSupport as E}from\"../../../layers/support/featureLayerUtils.js\";import{packFields as k}from\"../../../layers/support/fieldUtils.js\";import{getEffectiveLayerCapabilities as C}from\"../../../layers/support/layerUtils.js\";import{combineTimeExtent as V}from\"../../../layers/support/timeSupport.js\";import q from\"../../../rest/support/AggregateFeatureSet.js\";import R from\"../../../rest/support/AttributeBinsFeatureSet.js\";import O from\"../../../rest/support/AttributeBinsQuery.js\";import Q from\"../../../rest/support/FeatureSet.js\";import L from\"../../../rest/support/Query.js\";import{LayerView2DMixin as D}from\"./LayerView2D.js\";import{FeatureContainer as P}from\"./features/FeatureContainer.js\";import{createFeaturePipelineWorkerProxy as T}from\"./features/FeaturePipelineWorkerProxy.js\";import{FeatureSourceEventLog as W}from\"./features/FeatureSourceEventLog.js\";import{CatalogFootprintLayerAdapter as H}from\"./features/layerAdapters/CatalogFootprintLayerAdapter.js\";import{FeatureLayerAdapter as M}from\"./features/layerAdapters/FeatureLayerAdapter.js\";import{InMemoryLayerAdapter as N}from\"./features/layerAdapters/InMemoryLayerAdapter.js\";import{KnowledgeGraphSublayerAdapter as J}from\"./features/layerAdapters/KnowledgeGraphSublayerAdapter.js\";import{OGCFeatureLayerAdapter as G}from\"./features/layerAdapters/OGCFeatureLayerAdapter.js\";import{OrientedImageryLayerAdapter as $}from\"./features/layerAdapters/OrientedImageryLayerAdapter.js\";import{ParquetLayerAdapter as B}from\"./features/layerAdapters/ParquetLayerAdapter.js\";import{StreamLayerAdapter as z}from\"./features/layerAdapters/StreamLayerAdapter.js\";import{SubtypeGroupLayerAdapter as Z}from\"./features/layerAdapters/SubtypeGroupLayerAdapter.js\";import{createComplexSymbolInstances as K}from\"./features/schema/processor/symbols/ComplexSymbolSchema.js\";import{DebouncedFeatureOverride as X}from\"./support/DebouncedFeatureOverride.js\";import{FeatureCommandQueue as Y}from\"./support/FeatureCommandQueue.js\";import{handleNoEngineError as ee}from\"./support/handleNoEngineError.js\";import{toJSONGeometryType as te}from\"./support/util.js\";import{FeatureTileSubscriptionManager as re}from\"../tiling/FeatureTileSubscriptionManager.js\";import se from\"../../layers/FeatureLayerView.js\";import ie from\"../../layers/LayerView.js\";import ae from\"../../layers/RefreshableLayerView.js\";import{defaultHighlightName as oe}from\"../../support/HighlightDefaults.js\";function ne(e,t){const r=new Set;return e&&e.forEach((e=>r.add(e))),t&&t.forEach((e=>r.add(e))),r.has(\"*\")?[\"*\"]:Array.from(r)}const ue=4294967294;function le(e,t){return l(e.map((e=>w((()=>{const t=e();return t&&\"object\"==typeof t?\"getTime\"in t&&\"function\"==typeof t.getTime?t.getTime():JSON.stringify(t):t}),t))))}let he=class extends(se(ae(D(ie)))){constructor(){super(...arguments),this._commandsQueue=new Y({process:e=>{switch(e.type){case\"override-batch\":return this._doOverride(e);case\"update\":return this._doUpdate();case\"highlight\":return this._updateHighlights()}}}),this._visibilityOverrides=new Set,this._lastAvailableFields=[],this._lastTargetState=null,this.eventLog=new W,this._sourceRefreshVersion=1,this._displayRefreshVersion=1,this._pipelineUpdating=!1,this._editUpdatingHandles=new S,this._fields=null,this._sourceUpdating=!1,this.featureEffectView=new U}destroy(){this._workerProxy?.destroy(),this._workerAttached.reject(p()),this._commandsQueue.destroy()}initialize(){this._workerAttached=y(),f(this._workerAttached.promise),this.addResolvingPromise(this._initProxy()),this.featureEffectView.featureEffect=this.featureEffect,this.featureEffectView.endTransition()}async _initProxy(){const e=this.layer;if(\"isTable\"in e&&e.isTable)throw new n(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e});if((\"feature\"===e.type||\"subtype-group\"===e.type)&&!1===C(e)?.operations.supportsQuery)throw new n(\"featurelayerview:query-not-supported\",\"layer view requires a layer with query capability\",{layer:e});this._workerProxy&&this._workerProxy.destroy();const t=this._createClientOptions();this._workerProxy=await T(t)}async _attachProxy(){const e={service:await this.layerAdapter.createServiceOptions(this.view),tileInfoJSON:this.view?.featuresTilingScheme?.tileInfo?.toJSON()};let t=[];Array.isArray(e.service.source)&&(t=e.service.source);try{await this._workerProxy.pipeline.onAttach(e,{transferList:t}),this._workerAttached.resolve()}catch(r){this._workerAttached.reject(p()),g(r)}}async _detachProxy(){return this._workerProxy.pipeline.onDetach()}async getWorker(){return await this._workerAttached.promise,this._workerProxy}get dataUpdating(){return this._sourceUpdating||this._editUpdatingHandles.updating}get effectiveDisplayFilterClause(){const e=this.effectiveDisplayFilter?.where??null;return e&&this.hasHighlight?v(e,_(this.layer.objectIdField,this.highlightIds)):e}get hasAllFeatures(){return this.layer.visible&&!this.suspended&&this.eventLog.hasAllData&&this.eventLog.willQueryAllFeatures}get hasAllFeaturesInView(){const e=this.effectiveDisplayFilter?.where||null,t=!this.eventLog.willQueryAllFeatures&&null!=e&&\"1=1\"!==e;return this.layer.visible&&!this.suspended&&this.eventLog.hasAllData&&!t}get hasFullGeometries(){return this.layer.visible&&!this.suspended&&this.eventLog.hasAllData&&this.eventLog.willQueryFullResolutionGeometry}get labelingCollisionInfos(){const e=this.layerAdapter.getLabelingDeconflictionInfo(this.view),t=this.layer.geometryType,r=!this.suspended;return e.map((({vvEvaluators:e,deconflictionEnabled:s})=>({container:this.featureContainer,vvEvaluators:e,deconflictionEnabled:s,geometryType:t,visible:r})))}get layerAdapter(){switch(this.layer.type){case\"feature\":return\"memory\"===this.layer.source.type?new N(this.layer):new M(this.layer);case\"geojson\":case\"csv\":case\"wfs\":return new N(this.layer);case\"parquet\":return new B(this.layer);case\"subtype-group\":return new Z(this.layer);case\"ogc-feature\":return new G(this.layer);case\"stream\":return new z(this.layer);case\"oriented-imagery\":return new $(this.layer);case\"knowledge-graph-sublayer\":return new J(this.layer);case\"catalog-footprint\":return new H(this.layer);default:o(this.layer)}return null}get timeExtent(){return V(this.layerAdapter.timeOptions,this.view?.timeExtent,this._get(\"timeExtent\"))}getDisplayStatistics(e,t){return this.featureContainer?.getDisplayStatistics(e,t)}async queryHeatmapStatistics(e){return(await this.getWorker()).pipeline.queryHeatmapStatistics(e)}highlight(e,t){let s;e instanceof r?s=[e.getObjectId()]:\"number\"==typeof e||\"string\"==typeof e?s=[e]:a.isCollection(e)&&e.length>0?s=e.map((e=>e?.getObjectId())).toArray():Array.isArray(e)&&e.length>0&&(s=\"number\"==typeof e[0]||\"string\"==typeof e[0]?e:e.map((e=>e?.getObjectId())));const o=s?.filter(i);if(!o?.length)return u();const n=t?.name??oe;return this._addHighlights(o,n),u((()=>!this.destroyed&&this._removeHighlights(o,n)))}async hitTest(e,i){const a=await this.featureContainer.hitTest(i);if(0===a.length)return null;const o=await this.getWorker(),{features:n,aggregates:u,tracks:l}=await o.pipeline.getDisplayFeatures(a),h=this.featureContainer.getSortKeys(a),c=({displayId:e},{displayId:t})=>h.has(e)&&h.has(t)?h.get(e)-h.get(t):e-t;return n.sort(c).reverse(),u.sort(c).reverse(),[...u.map((r=>this._createGraphicHit(e,t.fromJSON(r)))),...l.map((t=>this._createGraphicHit(e,s.fromJSON(t)))),...n.map((t=>this._createGraphicHit(e,r.fromJSON(t))))]}async queryStatistics(){const e=await this.getWorker();return ee(e.pipeline.queryStatistics(),{featureCount:0,ringCount:0,vertexCount:0})}async querySummaryStatistics(e,t,r){const s=await this.getWorker(),i={...t,scale:this.view.scale},a=s.features.executeQueryForSummaryStatistics(this._cleanUpQuery(e),i,r);return ee(a,{})}async queryAggregateSummaryStatistics(e,t,r){const s={...t,scale:this.view.scale},i=(await this.getWorker()).aggregates.executeQueryForSummaryStatistics(this._cleanUpAggregateQuery(e),s,r);return ee(i,{})}async queryUniqueValues(e,t,r){const s=await this.getWorker(),i={...t,scale:this.view.scale},a=s.features.executeQueryForUniqueValues(this._cleanUpQuery(e),i,r);return ee(a,{uniqueValueInfos:[]})}async queryAggregateUniqueValues(e,t,r){const s=await this.getWorker(),i={...t,scale:this.view.scale},a=s.aggregates.executeQueryForUniqueValues(this._cleanUpAggregateQuery(e),i,r);return ee(a,{uniqueValueInfos:[]})}async queryClassBreaks(e,t,r){const s=await this.getWorker(),i={...t,scale:this.view.scale},a=s.features.executeQueryForClassBreaks(this._cleanUpQuery(e),i,r);return ee(a,{classBreakInfos:[]})}async queryAggregateClassBreaks(e,t,r){const s=await this.getWorker(),i={...t,scale:this.view.scale},a=s.aggregates.executeQueryForClassBreaks(this._cleanUpAggregateQuery(e),i,r);return ee(a,{classBreakInfos:[]})}async queryHistogram(e,t,r){const s=await this.getWorker(),i={...t,scale:this.view.scale},a=s.features.executeQueryForHistogram(this._cleanUpQuery(e),i,r);return ee(a,{bins:[],maxValue:null,minValue:null,normalizationTotal:null})}async queryAggregateHistogram(e,t,r){const s=await this.getWorker(),i={...t,scale:this.view.scale},a=s.aggregates.executeQueryForHistogram(this._cleanUpAggregateQuery(e),i,r);return ee(a,{bins:[],maxValue:null,minValue:null,normalizationTotal:null})}queryFeatures(e,t){return this.queryFeaturesJSON(e,t).then((e=>{const t=Q.fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}async queryVisibleFeatures(e,t){const r=(await this.getWorker()).pipeline.queryVisibleFeatures(this._cleanUpQuery(e),t),s=await ee(r,{features:[]}),i=Q.fromJSON(s);return i.features.forEach((e=>this._setLayersForFeature(e))),i}async queryAggregates(e,t){const r=(await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e),t),s=await ee(r,{features:[]}),i=q.fromJSON(s);return i.features.forEach((e=>this._setLayersForFeature(e))),i}async queryAggregateIds(e,t){const r=(await this.getWorker()).aggregates.executeQueryForIds(this._cleanUpAggregateQuery(e),t);return ee(r,[])}async queryAggregateCount(e,t){const r=(await this.getWorker()).aggregates.executeQueryForCount(this._cleanUpAggregateQuery(e),t);return ee(r,0)}async queryAggregateJSON(e,t){const r=(await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e),t);return ee(r,{features:[]})}async queryFeaturesJSON(e,t){const r=(await this.getWorker()).features.executeQuery(this._cleanUpQuery(e),t);return ee(r,{features:[]})}async queryObjectIds(e,t){const r=(await this.getWorker()).features.executeQueryForIds(this._cleanUpQuery(e),t);return ee(r,[])}async queryFeatureCount(e,t){const r=(await this.getWorker()).features.executeQueryForCount(this._cleanUpQuery(e),t);return ee(r,0)}async queryExtent(e,t){const r=(await this.getWorker()).features.executeQueryForExtent(this._cleanUpQuery(e),t),s=await ee(r,{count:0,extent:null});return{count:s.count,extent:j.fromJSON(s.extent)}}async queryAttributeBins(e,t){const r=(await this.getWorker()).features.executeAttributeBinsQuery(this._cleanUpAttributeBinsQuery(e),t),s=await ee(r,{features:[]});return R.fromJSON(s)}async getSampleFeatures(e){return(await this.getWorker()).pipeline.getSampleFeatures(e)}setVisibility(e,t){t?this._visibilityOverrides.delete(e):this._visibilityOverrides.add(e),this._update()}update(e){if(!this._subscriptionManager)return;this.view.animation&&!this._lastTargetState&&(this._lastTargetState=e.state.clone()),!this.view.animation&&this._lastTargetState&&(this._lastTargetState=null);const t=this._subscriptionManager.update(e.targetState,this._lastTargetState);this.featureContainer.setVisibleTiles(t)}attach(){has(\"esri-2d-update-debug\")&&console.debug(\"FeatureLayerView2D.attach\"),f(this._updatingHandles.addPromise(this._workerAttached.promise)),f(this._attachProxy()),this.featureContainer=new P(this),this.container.addChild(this.featureContainer),this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`),this._subscriptionManager=new re({tileInfoView:this.view.featuresTilingScheme,updateSubscriptions:e=>{this.featureContainer.updateSubscriptions(e),f(this._updatingHandles.addPromise(this.getWorker().then((t=>t.pipeline.updateSubscriptions(e)))))},isDone:e=>this.featureContainer.isDone(e)}),this.requestUpdate(),this.addAttachHandles([le([()=>this._displayRefreshVersion,()=>this.layer.displayFilterInfo,()=>this.timeExtent,()=>this.clips,()=>this.filter,()=>this.effectiveDisplayFilterClause,()=>this.featureEffect,()=>this._sourceRefreshVersion,()=>this.view.timeZone,()=>this.view.timeExtent,...this.layerAdapter.getUpdateHashProperties(this.view)],(()=>this._update())),w((()=>this.updateSuspended),(e=>{e||(this._subscriptionManager.resume(),this.view.labelManager.requestUpdate())})),w((()=>this.visible),(e=>{this.view.labelManager.requestUpdate()}))]),this._update(),\"stream\"!==this.layer.type&&\"parquet\"!==this.layer.type&&\"catalog-footprint\"!==this.layer.type&&this.addAttachHandles(this.layer.on(\"edits\",(e=>this._editUpdatingHandles.addPromise(this._edit(e)))))}detach(){has(\"esri-2d-update-debug\")&&console.debug(\"FeatureLayerView2D.detach\"),this._detachProxy(),this._fields=null,this.featureContainer.destroy(),this.featureContainer=null,this._commandsQueue.clear(),this.container.removeAllChildren(),this._subscriptionManager=c(this._subscriptionManager),this._workerProxy.pipeline.onDetach(),this._workerAttached=y(),f(this._workerAttached.promise),this._lastAvailableFields=[],this._lastSchema=null}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}addOverrides(e){return this._commandsQueue.push({type:\"override\",options:{...e,release:[]}})}removeOverrides(e){for(const r of e)if(null==r)throw new n(\"featurelayerview:bad-override\",\"Tried to remove an override for an invalid objectId\",{objectId:r});const t={added:[],updated:[],removed:[],release:e,isWeak:!1,historicMoment:null};return this._commandsQueue.push({type:\"override\",options:t})}isUpdating(){const e=\"renderer\"in this.layer&&null!=this.layer.renderer,t=this._commandsQueue.updateTracking.updating,r=null!=this._updatingRequiredPromise,s=this.featureContainer.updatingHandles.updating,i=this.updateRequested||e&&(t||r)||s||this._pipelineUpdating||this.dataUpdating;if(has(\"esri-2d-log-updating\")){console.log(`Updating FLV2D (${this.layer.id}): ${i}\\n  -> updateRequested ${this.updateRequested}\\n  -> hasRenderer ${e}\\n  -> updatingRequiredFields ${r}\\n  -> hasPendingCommand ${t}\\n  -> dataUpdating ${this.dataUpdating}\\n  -> processing ${this._pipelineUpdating}\\n  -> updatingContainer ${s}\\n`);for(const e of this.featureContainer.subscriptions())console.log(`    -> Tile[${e.id}] Done: ${e.done}`)}return i}_createClientOptions(){const e=this;return{get container(){return e.featureContainer},setUpdating:e=>{this._set(\"_pipelineUpdating\",e.pipeline),this._set(\"_sourceUpdating\",e.source)},emitEvent:e=>{this.emit(e.name,e.event)},get eventLog(){return e.eventLog},fetch:async t=>{if(has(\"esri-2d-stabilize-glyphs\")){const r=[];for(const s of t)r.push(await e.view.stage.painter.textureManager.rasterizeItem(s));return r}return Promise.all(t.map((t=>e.view.stage.painter.textureManager.rasterizeItem(t))))},fetchDictionary:e=>Promise.all(e.map((e=>this._fetchDictionaryRequest(e))))}}async _fetchDictionaryRequest(e){try{if(\"subtype-group\"===this.layer.type)throw new Error(\"InternalError: SubtypeGroupLayer does not support dictionary renderer\");const t=this.layer.renderer;if(!t||\"dictionary\"!==t.type)throw new Error(\"InternalError: Expected layer to have a DictionaryRenderer\");const r=this._lastSchema.processor.mesh.factory.symbology;if(\"dictionary\"!==r.type)throw new Error(\"InternalError: Expected schema to be of type 'dictionary'\");const s={cimAnalyzer:this.view.stage.cimAnalyzer,cimResourceManager:this.view.stage.painter.textureManager.resourceManager,store:this.featureContainer.instanceStore,scaleExpression:r.scaleExpression};this._fields||(this._fields=this.layer.fields.map((e=>e.toJSON())));const i=r.visualVariableUniforms,a=await t.getSymbolAsync(e.feature,{fields:this._fields});if(!a||!a.data)return{type:\"dictionary-response\",meshes:[]};return{type:\"dictionary-response\",meshes:await K(a.data,{uniforms:i,path:\"renderer\",schemaOptions:s})}}catch(t){return{type:\"dictionary-response\",meshes:[]}}}_cleanUpQuery(e){const t=L.from(e)||this.createQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t.toJSON()}_cleanUpAttributeBinsQuery(e){const t=O.from(e);return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t.toJSON()}_cleanUpAggregateQuery(e){const t=L.from(e)||this.createAggregateQuery();t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference);const r=t.objectIds??[];for(const s of t.aggregateIds??[])r.push(s);return t.objectIds=r,t.aggregateIds=[],t.toJSON()}async _update(){return this._commandsQueue.push({type:\"update\"})}_edit(e){return this.updateSuspended?(this._subscriptionManager.suspend(),Promise.resolve()):this._commandsQueue.push({type:\"edit\",event:e})}async doRefresh(e){this.attached&&(this.updateSuspended&&e||(e?this.incrementSourceRefreshVersion():this.incrementDisplayRefreshVersion()))}incrementSourceRefreshVersion(){this._sourceRefreshVersion=(this._sourceRefreshVersion+1)%ue+1}incrementDisplayRefreshVersion(){this._displayRefreshVersion=(this._displayRefreshVersion+1)%ue+1}async _resolveIdenifiers(e){const t=[],r=[];for(const a of e)null==a.objectId||-1===a.objectId?null==a.globalId?h.getLogger(this).warn(\"mapview-apply-edits\",\"A feature identifier must contain either a GlobalId or ObjectId. Ignoring\",{identifier:a}):r.push(a.globalId):t.push(a.objectId);const s=\"globalIdField\"in this.layer&&this.layer.globalIdField,i=s&&this.availableFields.includes(s);if(r.length&&!i)return h.getLogger(this).error(new n(\"mapview-apply-edits\",`Editing the specified service requires the layer's globalIdField, ${s} to be included the layer's outFields for updates to be reflected on the map`)),t;if(r.length){const e=await this._workerProxy.pipeline.getObjectIdsFromGlobalIds(r);for(const r of e)t.push(r)}return t}_resolveOverrides(e){const t=!1,r=!1,s=te(this.layer.geometryType),i=this.layer.objectIdField,a=[];for(const o of e.added){const e=I(o,s,t,r,i);if(null==e.objectId)throw new n(\"featurelayerview:bad-override\",\"Feature does not have an objectId\",{feature:o});a.push(e)}for(const o of e.updated){const e=I(o,s,t,r,i);if(null==e.objectId)throw new n(\"featurelayerview:bad-override\",\"Feature does not have an objectId\",{feature:o});a.push(e)}for(const o of e.removed)if(null==o)throw new n(\"featurelayerview:bad-override\",\"Tried to remove an invalid objectId\",{objectId:o});return{type:\"override\",updates:a,removed:e.removed,release:e.release,isWeak:e.isWeak??!1,historicMoment:e.historicMoment??null}}async _resolveEdit(e){const t=this.layer,r=e.historicMoment?.getTime()??null,s=\"layerId\"in t&&e.editedFeatures?.find((e=>e.layerId===t.layerId));if(s&&this._canEditByFeature(s)){const{adds:e,deletes:t,updates:i}=s.editedFeatures,a=this.layer.objectIdField,o=i.map((e=>e.current)),n=t.map((e=>\"attributes\"in e?{objectId:a?e.attributes[a]:null}:e)),u=await this._resolveIdenifiers(n);return this._resolveOverrides({added:e,updated:o,removed:u,historicMoment:r,isWeak:!0,release:[]})}const[i,a,o]=await Promise.all([this._resolveIdenifiers(e.addedFeatures),this._resolveIdenifiers(e.updatedFeatures),this._resolveIdenifiers(e.deletedFeatures)]);return{type:\"override-by-id\",updates:[...i,...a],removed:o,historicMoment:r,isWeak:!0}}_canEditByFeature(e){const{adds:t,updates:r}=e.editedFeatures;return t.every((e=>this.view.spatialReference.equals(e.geometry?.spatialReference)))&&r.every((e=>this.view.spatialReference.equals(e.current.geometry?.spatialReference)))}async _doUpdate(){\"featureReduction\"in this.layer&&this.layer.featureReduction&&this.layer.featureReduction!==this._lastFeatureReduction&&(this.layer.featureReduction=this.layer.featureReduction?.clone(),this._lastFeatureReduction=this.layer.featureReduction);try{if(await Promise.allSettled([this._handleChange(),E(this.layer)]),this.destroyed||!this.layerAdapter?.hasRequiredSupport||!this._subscriptionManager)return;const e=this.featureContainer.instanceStore;this.featureContainer.attributeView.lockTextureUploads(),e.updateStart();const t=this.featureEffect,r={store:e,cimAnalyzer:this.view.stage.cimAnalyzer,cimResourceManager:this.view.stage.painter.textureManager.resourceManager,scaleExpression:void 0},s=await this._createViewSchemaConfig(),i={source:this.layerAdapter.createSourceSchema(s,this._sourceRefreshVersion),processor:await this.layerAdapter.createProcessorSchema(r,s,this._displayRefreshVersion)},a=d(this._lastSchema?.source.mutable,i.source.mutable)||d(this._lastSchema?.processor,i.processor);if(!a)return this.featureContainer.requestRender(),this.featureContainer.attributeView.unlockTextureUploads(),e.updateEnd(),void(this.featureEffectView.featureEffect=t);this._lastSchema=i,this._fields=null;const o=Math.round(performance.now());has(\"esri-2d-update-debug\")&&console.debug(`Id[${this.layer.uid}] Version[${o}] FeatureLayerView2D._doUpdate`,{changes:a});const n=await this.getWorker();await n.pipeline.updateSchema(i,o),e.updateEnd(),this.featureEffectView.featureEffect=t,this.featureEffectView.endTransition(),this.featureContainer.restartAllAnimations(),this.featureContainer.attributeView.unlockTextureUploads(),this.featureContainer.trySwapRenderState(),this.featureContainer.requestRender(),has(\"esri-2d-update-debug\")&&console.debug(`Version[${o}] FeatureLayerView2D.updateEnd`),this.requestUpdate()}catch(e){has(\"esri-2d-update-debug\")&&console.error(\"Encountered an error during update\",e)}}async _doOverride(e){const t=await this.getWorker();try{for(const r of e.messages)switch(r.type){case\"edit\":{const e=new X;e.add(await this._resolveEdit(r.event)),await t.pipeline.onOverride(e.toMessage());break}case\"override\":{const e=new X;e.add(this._resolveOverrides(r.options)),await t.pipeline.onOverride(e.toMessage());break}}}catch(r){m(r),0}}_getEffectiveAvailableFields(e){const t=ne(this._lastAvailableFields,e);return this._lastAvailableFields=t,k(this.layer.fieldsIndex,t)}async _createViewSchemaConfig(){const e=this.requiresCurrentUser?await this.signedInUser:null,t=[ce(this.view,this.layerAdapter,this.timeExtent,this._visibilityOverrides,this.filter,this.effectiveDisplayFilterClause),this.featureEffect?.filter?.toJSON()??null];return{availableFields:this._getEffectiveAvailableFields(this.availableFields),displayFilterEnabled:this.displayFilterEnabled,filters:t,scale:this.view.scale,timeZone:this.view.timeZone,timeExtent:this.view.timeExtent,currentUser:e}}_processHighlight(){this._commandsQueue.push({type:\"highlight\"})}async _updateHighlights(){const e=this._getHighlights(),t=await this.getWorker();if(this.destroyed)return;const r=t.pipeline.updateHighlight({highlights:e}).catch((e=>{m(e)||h.getLogger(this).error(e)}));this._updatingHandles.addPromise(r)}_setLayersForFeature(e){e.layer=e.sourceLayer=this.layer,this.layerAdapter.setGraphicOrigin&&this.layerAdapter.setGraphicOrigin(e)}_createGraphicHit(e,t){return this._setLayersForFeature(t),null!=t.geometry&&(t.geometry.spatialReference=this.view.spatialReference),{type:\"graphic\",graphic:t,layer:this.layer,mapPoint:e}}};function ce(e,t,r,s,i,a){i&&(i=i.clone());const o=null!=i?i.timeExtent:null,n=null!=r&&null!=o?r.intersection(o):r||o;n&&(i??=new x,i.timeExtent=n),i=t.addFilters?.(i,e)??i,a&&(i??=new x,i.where=b(i.where,a));let u=i?.toJSON()??null;return s.size&&(u??=(new x).toJSON(),u.hiddenIds=Array.from(s)),u}e([F()],he.prototype,\"_commandsQueue\",void 0),e([F()],he.prototype,\"_sourceRefreshVersion\",void 0),e([F()],he.prototype,\"_displayRefreshVersion\",void 0),e([F({readOnly:!0})],he.prototype,\"_pipelineUpdating\",void 0),e([F()],he.prototype,\"_sourceUpdating\",void 0),e([F({readOnly:!0})],he.prototype,\"dataUpdating\",null),e([F({readOnly:!0})],he.prototype,\"effectiveDisplayFilterClause\",null),e([F({readOnly:!0})],he.prototype,\"hasAllFeatures\",null),e([F({readOnly:!0})],he.prototype,\"hasAllFeaturesInView\",null),e([F({readOnly:!0})],he.prototype,\"hasFullGeometries\",null),e([F()],he.prototype,\"featureEffectView\",void 0),e([F()],he.prototype,\"labelingCollisionInfos\",null),e([F()],he.prototype,\"layerAdapter\",null),e([F({readOnly:!0})],he.prototype,\"timeExtent\",null),e([F()],he.prototype,\"updating\",void 0),he=e([A(\"esri.views.2d.layers.FeatureLayerView2D\")],he);const de=he;export{de as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,8BAA8B;AAAC,OAAOC,CAAC,MAAK,8BAA8B;AAAC,OAAOC,CAAC,MAAK,qBAAqB;AAAC,OAAOC,CAAC,MAAK,0BAA0B;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,6BAA6B;AAAC,OAAOC,CAAC,MAAK,6BAA6B;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,gCAAgC;AAAC,OAAOC,CAAC,MAAK,wBAAwB;AAAC,SAAOC,UAAU,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,QAAK,8BAA8B;AAAC,OAAOC,GAAG,MAAK,sBAAsB;AAAC,OAAOC,CAAC,MAAK,yBAAyB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,wBAAwB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,oBAAoB,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,gCAAgC;AAAC,SAAOC,KAAK,IAAIC,CAAC,EAACC,KAAK,IAAInC,CAAC,EAACoC,MAAM,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,sDAAsD;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,sDAAsD;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,0CAA0C;AAAC,OAAOC,CAAC,MAAK,6BAA6B;AAAC,OAAOC,CAAC,MAAK,8CAA8C;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,oDAAoD;AAAC,OAAOC,CAAC,MAAK,0CAA0C;AAAC,SAAOC,8BAA8B,IAAIC,CAAC,QAAK,8CAA8C;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,uCAAuC;AAAC,SAAOC,6BAA6B,IAAIC,CAAC,QAAK,uCAAuC;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,wCAAwC;AAAC,OAAOC,CAAC,MAAK,8CAA8C;AAAC,OAAOC,CAAC,MAAK,kDAAkD;AAAC,OAAOC,CAAC,MAAK,6CAA6C;AAAC,OAAOC,CAAC,MAAK,qCAAqC;AAAC,OAAOC,CAAC,MAAK,gCAAgC;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,kBAAkB;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,gCAAgC;AAAC,SAAOC,gCAAgC,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,4BAA4B,IAAIC,CAAC,QAAK,0DAA0D;AAAC,SAAOC,mBAAmB,IAAIC,CAAC,QAAK,iDAAiD;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,kDAAkD;AAAC,SAAOC,6BAA6B,IAAIC,CAAC,QAAK,2DAA2D;AAAC,SAAOC,sBAAsB,IAAIC,CAAC,QAAK,oDAAoD;AAAC,SAAOC,2BAA2B,IAAIC,CAAC,QAAK,yDAAyD;AAAC,SAAOC,mBAAmB,IAAIC,CAAC,QAAK,iDAAiD;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,gDAAgD;AAAC,SAAOC,wBAAwB,IAAIC,CAAC,QAAK,sDAAsD;AAAC,SAAOC,4BAA4B,IAAIC,CAAC,QAAK,4DAA4D;AAAC,SAAOC,wBAAwB,IAAIC,CAAC,QAAK,uCAAuC;AAAC,SAAOC,mBAAmB,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAAOC,mBAAmB,IAAIC,EAAE,QAAK,kCAAkC;AAAC,SAAOC,kBAAkB,IAAIC,EAAE,QAAK,mBAAmB;AAAC,SAAOC,8BAA8B,IAAIC,EAAE,QAAK,6CAA6C;AAAC,OAAOC,EAAE,MAAK,kCAAkC;AAAC,OAAOC,EAAE,MAAK,2BAA2B;AAAC,OAAOC,EAAE,MAAK,sCAAsC;AAAC,SAAOC,oBAAoB,IAAIC,EAAE,QAAK,oCAAoC;AAAC,SAASC,EAAEA,CAACxG,CAAC,EAACC,CAAC,EAAC;EAAC,MAAMC,CAAC,GAAC,IAAIuG,GAAG,CAAD,CAAC;EAAC,OAAOzG,CAAC,IAAEA,CAAC,CAAC0G,OAAO,CAAE1G,CAAC,IAAEE,CAAC,CAACyG,GAAG,CAAC3G,CAAC,CAAE,CAAC,EAACC,CAAC,IAAEA,CAAC,CAACyG,OAAO,CAAE1G,CAAC,IAAEE,CAAC,CAACyG,GAAG,CAAC3G,CAAC,CAAE,CAAC,EAACE,CAAC,CAACY,GAAG,CAAC,GAAG,CAAC,GAAC,CAAC,GAAG,CAAC,GAAC8F,KAAK,CAACC,IAAI,CAAC3G,CAAC,CAAC;AAAA;AAAC,MAAM4G,EAAE,GAAC,UAAU;AAAC,SAASC,EAAEA,CAAC/G,CAAC,EAACC,CAAC,EAAC;EAAC,OAAOY,CAAC,CAACb,CAAC,CAACgH,GAAG,CAAEhH,CAAC,IAAE+B,CAAC,CAAE,MAAI;IAAC,MAAM9B,CAAC,GAACD,CAAC,CAAC,CAAC;IAAC,OAAOC,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,GAAC,SAAS,IAAGA,CAAC,IAAE,UAAU,IAAE,OAAOA,CAAC,CAACgH,OAAO,GAAChH,CAAC,CAACgH,OAAO,CAAC,CAAC,GAACC,IAAI,CAACC,SAAS,CAAClH,CAAC,CAAC,GAACA,CAAC;EAAA,CAAC,EAAEA,CAAC,CAAE,CAAC,CAAC;AAAA;AAAC,IAAImH,EAAE,GAAC,cAAcjB,EAAE,CAACE,EAAE,CAACvC,CAAC,CAACsC,EAAE,CAAC,CAAC,CAAC,CAAC;EAACiB,WAAWA,CAAA,EAAE;IAAC,KAAK,CAAC,GAAGC,SAAS,CAAC,EAAC,IAAI,CAACC,cAAc,GAAC,IAAI3B,CAAC,CAAC;MAAC4B,OAAO,EAACxH,CAAC,IAAE;QAAC,QAAOA,CAAC,CAACyH,IAAI;UAAE,KAAI,gBAAgB;YAAC,OAAO,IAAI,CAACC,WAAW,CAAC1H,CAAC,CAAC;UAAC,KAAI,QAAQ;YAAC,OAAO,IAAI,CAAC2H,SAAS,CAAC,CAAC;UAAC,KAAI,WAAW;YAAC,OAAO,IAAI,CAACC,iBAAiB,CAAC,CAAC;QAAA;MAAC;IAAC,CAAC,CAAC,EAAC,IAAI,CAACC,oBAAoB,GAAC,IAAIpB,GAAG,CAAD,CAAC,EAAC,IAAI,CAACqB,oBAAoB,GAAC,EAAE,EAAC,IAAI,CAACC,gBAAgB,GAAC,IAAI,EAAC,IAAI,CAACC,QAAQ,GAAC,IAAI5D,CAAC,CAAD,CAAC,EAAC,IAAI,CAAC6D,qBAAqB,GAAC,CAAC,EAAC,IAAI,CAACC,sBAAsB,GAAC,CAAC,EAAC,IAAI,CAACC,iBAAiB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,oBAAoB,GAAC,IAAI1F,CAAC,CAAD,CAAC,EAAC,IAAI,CAAC2F,OAAO,GAAC,IAAI,EAAC,IAAI,CAACC,eAAe,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI3F,CAAC,CAAD,CAAC;EAAA;EAAC4F,OAAOA,CAAA,EAAE;IAAC,IAAI,CAACC,YAAY,EAAED,OAAO,CAAC,CAAC,EAAC,IAAI,CAACE,eAAe,CAACC,MAAM,CAACtH,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACkG,cAAc,CAACiB,OAAO,CAAC,CAAC;EAAA;EAACI,UAAUA,CAAA,EAAE;IAAC,IAAI,CAACF,eAAe,GAACnH,CAAC,CAAC,CAAC,EAACE,CAAC,CAAC,IAAI,CAACiH,eAAe,CAACG,OAAO,CAAC,EAAC,IAAI,CAACC,mBAAmB,CAAC,IAAI,CAACC,UAAU,CAAC,CAAC,CAAC,EAAC,IAAI,CAACR,iBAAiB,CAACS,aAAa,GAAC,IAAI,CAACA,aAAa,EAAC,IAAI,CAACT,iBAAiB,CAACU,aAAa,CAAC,CAAC;EAAA;EAAC,MAAMF,UAAUA,CAAA,EAAE;IAAC,MAAM/I,CAAC,GAAC,IAAI,CAACkJ,KAAK;IAAC,IAAG,SAAS,IAAGlJ,CAAC,IAAEA,CAAC,CAACmJ,OAAO,EAAC,MAAM,IAAI1I,CAAC,CAAC,sCAAsC,EAAC,wCAAwC,EAAC;MAACyI,KAAK,EAAClJ;IAAC,CAAC,CAAC;IAAC,IAAG,CAAC,SAAS,KAAGA,CAAC,CAACyH,IAAI,IAAE,eAAe,KAAGzH,CAAC,CAACyH,IAAI,KAAG,CAAC,CAAC,KAAGpE,CAAC,CAACrD,CAAC,CAAC,EAAEoJ,UAAU,CAACC,aAAa,EAAC,MAAM,IAAI5I,CAAC,CAAC,sCAAsC,EAAC,mDAAmD,EAAC;MAACyI,KAAK,EAAClJ;IAAC,CAAC,CAAC;IAAC,IAAI,CAACyI,YAAY,IAAE,IAAI,CAACA,YAAY,CAACD,OAAO,CAAC,CAAC;IAAC,MAAMvI,CAAC,GAAC,IAAI,CAACqJ,oBAAoB,CAAC,CAAC;IAAC,IAAI,CAACb,YAAY,GAAC,MAAMvE,CAAC,CAACjE,CAAC,CAAC;EAAA;EAAC,MAAMsJ,YAAYA,CAAA,EAAE;IAAC,MAAMvJ,CAAC,GAAC;MAACwJ,OAAO,EAAC,MAAM,IAAI,CAACC,YAAY,CAACC,oBAAoB,CAAC,IAAI,CAACC,IAAI,CAAC;MAACC,YAAY,EAAC,IAAI,CAACD,IAAI,EAAEE,oBAAoB,EAAEC,QAAQ,EAAEC,MAAM,CAAC;IAAC,CAAC;IAAC,IAAI9J,CAAC,GAAC,EAAE;IAAC2G,KAAK,CAACoD,OAAO,CAAChK,CAAC,CAACwJ,OAAO,CAACS,MAAM,CAAC,KAAGhK,CAAC,GAACD,CAAC,CAACwJ,OAAO,CAACS,MAAM,CAAC;IAAC,IAAG;MAAC,MAAM,IAAI,CAACxB,YAAY,CAACyB,QAAQ,CAACC,QAAQ,CAACnK,CAAC,EAAC;QAACoK,YAAY,EAACnK;MAAC,CAAC,CAAC,EAAC,IAAI,CAACyI,eAAe,CAAC2B,OAAO,CAAC,CAAC;IAAA,CAAC,QAAMnK,CAAC,EAAC;MAAC,IAAI,CAACwI,eAAe,CAACC,MAAM,CAACtH,CAAC,CAAC,CAAC,CAAC,EAACM,CAAC,CAACzB,CAAC,CAAC;IAAA;EAAC;EAAC,MAAMoK,YAAYA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC7B,YAAY,CAACyB,QAAQ,CAACK,QAAQ,CAAC,CAAC;EAAA;EAAC,MAAMC,SAASA,CAAA,EAAE;IAAC,OAAO,MAAM,IAAI,CAAC9B,eAAe,CAACG,OAAO,EAAC,IAAI,CAACJ,YAAY;EAAA;EAAC,IAAIgC,YAAYA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACnC,eAAe,IAAE,IAAI,CAACF,oBAAoB,CAACsC,QAAQ;EAAA;EAAC,IAAIC,4BAA4BA,CAAA,EAAE;IAAC,MAAM3K,CAAC,GAAC,IAAI,CAAC4K,sBAAsB,EAAEC,KAAK,IAAE,IAAI;IAAC,OAAO7K,CAAC,IAAE,IAAI,CAAC8K,YAAY,GAAC7I,CAAC,CAACjC,CAAC,EAACD,CAAC,CAAC,IAAI,CAACmJ,KAAK,CAAC6B,aAAa,EAAC,IAAI,CAACC,YAAY,CAAC,CAAC,GAAChL,CAAC;EAAA;EAAC,IAAIiL,cAAcA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC/B,KAAK,CAACgC,OAAO,IAAE,CAAC,IAAI,CAACC,SAAS,IAAE,IAAI,CAACnD,QAAQ,CAACoD,UAAU,IAAE,IAAI,CAACpD,QAAQ,CAACqD,oBAAoB;EAAA;EAAC,IAAIC,oBAAoBA,CAAA,EAAE;IAAC,MAAMtL,CAAC,GAAC,IAAI,CAAC4K,sBAAsB,EAAEC,KAAK,IAAE,IAAI;MAAC5K,CAAC,GAAC,CAAC,IAAI,CAAC+H,QAAQ,CAACqD,oBAAoB,IAAE,IAAI,IAAErL,CAAC,IAAE,KAAK,KAAGA,CAAC;IAAC,OAAO,IAAI,CAACkJ,KAAK,CAACgC,OAAO,IAAE,CAAC,IAAI,CAACC,SAAS,IAAE,IAAI,CAACnD,QAAQ,CAACoD,UAAU,IAAE,CAACnL,CAAC;EAAA;EAAC,IAAIsL,iBAAiBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACrC,KAAK,CAACgC,OAAO,IAAE,CAAC,IAAI,CAACC,SAAS,IAAE,IAAI,CAACnD,QAAQ,CAACoD,UAAU,IAAE,IAAI,CAACpD,QAAQ,CAACwD,+BAA+B;EAAA;EAAC,IAAIC,sBAAsBA,CAAA,EAAE;IAAC,MAAMzL,CAAC,GAAC,IAAI,CAACyJ,YAAY,CAACiC,4BAA4B,CAAC,IAAI,CAAC/B,IAAI,CAAC;MAAC1J,CAAC,GAAC,IAAI,CAACiJ,KAAK,CAACyC,YAAY;MAACzL,CAAC,GAAC,CAAC,IAAI,CAACiL,SAAS;IAAC,OAAOnL,CAAC,CAACgH,GAAG,CAAE4E,IAAA;MAAA,IAAC;QAACC,YAAY,EAAC7L,CAAC;QAAC8L,oBAAoB,EAAC3L;MAAC,CAAC,GAAAyL,IAAA;MAAA,OAAI;QAACG,SAAS,EAAC,IAAI,CAACC,gBAAgB;QAACH,YAAY,EAAC7L,CAAC;QAAC8L,oBAAoB,EAAC3L,CAAC;QAACwL,YAAY,EAAC1L,CAAC;QAACiL,OAAO,EAAChL;MAAC,CAAC;IAAA,CAAE,CAAC;EAAA;EAAC,IAAIuJ,YAAYA,CAAA,EAAE;IAAC,QAAO,IAAI,CAACP,KAAK,CAACzB,IAAI;MAAE,KAAI,SAAS;QAAC,OAAM,QAAQ,KAAG,IAAI,CAACyB,KAAK,CAACe,MAAM,CAACxC,IAAI,GAAC,IAAI/C,CAAC,CAAC,IAAI,CAACwE,KAAK,CAAC,GAAC,IAAI1E,CAAC,CAAC,IAAI,CAAC0E,KAAK,CAAC;MAAC,KAAI,SAAS;MAAC,KAAI,KAAK;MAAC,KAAI,KAAK;QAAC,OAAO,IAAIxE,CAAC,CAAC,IAAI,CAACwE,KAAK,CAAC;MAAC,KAAI,SAAS;QAAC,OAAO,IAAIhE,CAAC,CAAC,IAAI,CAACgE,KAAK,CAAC;MAAC,KAAI,eAAe;QAAC,OAAO,IAAI5D,CAAC,CAAC,IAAI,CAAC4D,KAAK,CAAC;MAAC,KAAI,aAAa;QAAC,OAAO,IAAIpE,CAAC,CAAC,IAAI,CAACoE,KAAK,CAAC;MAAC,KAAI,QAAQ;QAAC,OAAO,IAAI9D,CAAC,CAAC,IAAI,CAAC8D,KAAK,CAAC;MAAC,KAAI,kBAAkB;QAAC,OAAO,IAAIlE,CAAC,CAAC,IAAI,CAACkE,KAAK,CAAC;MAAC,KAAI,0BAA0B;QAAC,OAAO,IAAItE,CAAC,CAAC,IAAI,CAACsE,KAAK,CAAC;MAAC,KAAI,mBAAmB;QAAC,OAAO,IAAI5E,CAAC,CAAC,IAAI,CAAC4E,KAAK,CAAC;MAAC;QAAQ1I,CAAC,CAAC,IAAI,CAAC0I,KAAK,CAAC;IAAA;IAAC,OAAO,IAAI;EAAA;EAAC,IAAI+C,UAAUA,CAAA,EAAE;IAAC,OAAO1I,CAAC,CAAC,IAAI,CAACkG,YAAY,CAACyC,WAAW,EAAC,IAAI,CAACvC,IAAI,EAAEsC,UAAU,EAAC,IAAI,CAACE,IAAI,CAAC,YAAY,CAAC,CAAC;EAAA;EAACC,oBAAoBA,CAACpM,CAAC,EAACC,CAAC,EAAC;IAAC,OAAO,IAAI,CAAC+L,gBAAgB,EAAEI,oBAAoB,CAACpM,CAAC,EAACC,CAAC,CAAC;EAAA;EAAC,MAAMoM,sBAAsBA,CAACrM,CAAC,EAAC;IAAC,OAAM,CAAC,MAAM,IAAI,CAACwK,SAAS,CAAC,CAAC,EAAEN,QAAQ,CAACmC,sBAAsB,CAACrM,CAAC,CAAC;EAAA;EAACsM,SAASA,CAACtM,CAAC,EAACC,CAAC,EAAC;IAAC,IAAIE,CAAC;IAACH,CAAC,YAAYE,CAAC,GAACC,CAAC,GAAC,CAACH,CAAC,CAACuM,WAAW,CAAC,CAAC,CAAC,GAAC,QAAQ,IAAE,OAAOvM,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,GAACG,CAAC,GAAC,CAACH,CAAC,CAAC,GAACM,CAAC,CAACkM,YAAY,CAACxM,CAAC,CAAC,IAAEA,CAAC,CAACyM,MAAM,GAAC,CAAC,GAACtM,CAAC,GAACH,CAAC,CAACgH,GAAG,CAAEhH,CAAC,IAAEA,CAAC,EAAEuM,WAAW,CAAC,CAAE,CAAC,CAACG,OAAO,CAAC,CAAC,GAAC9F,KAAK,CAACoD,OAAO,CAAChK,CAAC,CAAC,IAAEA,CAAC,CAACyM,MAAM,GAAC,CAAC,KAAGtM,CAAC,GAAC,QAAQ,IAAE,OAAOH,CAAC,CAAC,CAAC,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,GAACA,CAAC,CAACgH,GAAG,CAAEhH,CAAC,IAAEA,CAAC,EAAEuM,WAAW,CAAC,CAAE,CAAC,CAAC;IAAC,MAAM/L,CAAC,GAACL,CAAC,EAAEwM,MAAM,CAACtM,CAAC,CAAC;IAAC,IAAG,CAACG,CAAC,EAAEiM,MAAM,EAAC,OAAO9L,CAAC,CAAC,CAAC;IAAC,MAAMF,CAAC,GAACR,CAAC,EAAE2M,IAAI,IAAErG,EAAE;IAAC,OAAO,IAAI,CAACsG,cAAc,CAACrM,CAAC,EAACC,CAAC,CAAC,EAACE,CAAC,CAAE,MAAI,CAAC,IAAI,CAACmM,SAAS,IAAE,IAAI,CAACC,iBAAiB,CAACvM,CAAC,EAACC,CAAC,CAAE,CAAC;EAAA;EAAC,MAAMuM,OAAOA,CAAChN,CAAC,EAACK,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAAC0L,gBAAgB,CAACgB,OAAO,CAAC3M,CAAC,CAAC;IAAC,IAAG,CAAC,KAAGC,CAAC,CAACmM,MAAM,EAAC,OAAO,IAAI;IAAC,MAAMjM,CAAC,GAAC,MAAM,IAAI,CAACgK,SAAS,CAAC,CAAC;MAAC;QAACyC,QAAQ,EAACxM,CAAC;QAACyM,UAAU,EAACvM,CAAC;QAACwM,MAAM,EAACtM;MAAC,CAAC,GAAC,MAAML,CAAC,CAAC0J,QAAQ,CAACkD,kBAAkB,CAAC9M,CAAC,CAAC;MAACS,CAAC,GAAC,IAAI,CAACiL,gBAAgB,CAACqB,WAAW,CAAC/M,CAAC,CAAC;MAACW,CAAC,GAACA,CAAAqM,KAAA,EAAAC,KAAA;QAAA,IAAC;UAACC,SAAS,EAACxN;QAAC,CAAC,GAAAsN,KAAA;QAAA,IAAC;UAACE,SAAS,EAACvN;QAAC,CAAC,GAAAsN,KAAA;QAAA,OAAGxM,CAAC,CAACD,GAAG,CAACd,CAAC,CAAC,IAAEe,CAAC,CAACD,GAAG,CAACb,CAAC,CAAC,GAACc,CAAC,CAAC0M,GAAG,CAACzN,CAAC,CAAC,GAACe,CAAC,CAAC0M,GAAG,CAACxN,CAAC,CAAC,GAACD,CAAC,GAACC,CAAC;MAAA;IAAC,OAAOQ,CAAC,CAACiN,IAAI,CAACzM,CAAC,CAAC,CAAC0M,OAAO,CAAC,CAAC,EAAChN,CAAC,CAAC+M,IAAI,CAACzM,CAAC,CAAC,CAAC0M,OAAO,CAAC,CAAC,EAAC,CAAC,GAAGhN,CAAC,CAACqG,GAAG,CAAE9G,CAAC,IAAE,IAAI,CAAC0N,iBAAiB,CAAC5N,CAAC,EAACC,CAAC,CAAC4N,QAAQ,CAAC3N,CAAC,CAAC,CAAE,CAAC,EAAC,GAAGW,CAAC,CAACmG,GAAG,CAAE/G,CAAC,IAAE,IAAI,CAAC2N,iBAAiB,CAAC5N,CAAC,EAACG,CAAC,CAAC0N,QAAQ,CAAC5N,CAAC,CAAC,CAAE,CAAC,EAAC,GAAGQ,CAAC,CAACuG,GAAG,CAAE/G,CAAC,IAAE,IAAI,CAAC2N,iBAAiB,CAAC5N,CAAC,EAACE,CAAC,CAAC2N,QAAQ,CAAC5N,CAAC,CAAC,CAAE,CAAC,CAAC;EAAA;EAAC,MAAM6N,eAAeA,CAAA,EAAE;IAAC,MAAM9N,CAAC,GAAC,MAAM,IAAI,CAACwK,SAAS,CAAC,CAAC;IAAC,OAAO1E,EAAE,CAAC9F,CAAC,CAACkK,QAAQ,CAAC4D,eAAe,CAAC,CAAC,EAAC;MAACC,YAAY,EAAC,CAAC;MAACC,SAAS,EAAC,CAAC;MAACC,WAAW,EAAC;IAAC,CAAC,CAAC;EAAA;EAAC,MAAMC,sBAAsBA,CAAClO,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAACqK,SAAS,CAAC,CAAC;MAACnK,CAAC,GAAC;QAAC,GAAGJ,CAAC;QAACkO,KAAK,EAAC,IAAI,CAACxE,IAAI,CAACwE;MAAK,CAAC;MAAC7N,CAAC,GAACH,CAAC,CAAC8M,QAAQ,CAACmB,gCAAgC,CAAC,IAAI,CAACC,aAAa,CAACrO,CAAC,CAAC,EAACK,CAAC,EAACH,CAAC,CAAC;IAAC,OAAO4F,EAAE,CAACxF,CAAC,EAAC,CAAC,CAAC,CAAC;EAAA;EAAC,MAAMgO,+BAA+BA,CAACtO,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC;QAAC,GAAGF,CAAC;QAACkO,KAAK,EAAC,IAAI,CAACxE,IAAI,CAACwE;MAAK,CAAC;MAAC9N,CAAC,GAAC,CAAC,MAAM,IAAI,CAACmK,SAAS,CAAC,CAAC,EAAE0C,UAAU,CAACkB,gCAAgC,CAAC,IAAI,CAACG,sBAAsB,CAACvO,CAAC,CAAC,EAACG,CAAC,EAACD,CAAC,CAAC;IAAC,OAAO4F,EAAE,CAACzF,CAAC,EAAC,CAAC,CAAC,CAAC;EAAA;EAAC,MAAMmO,iBAAiBA,CAACxO,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAACqK,SAAS,CAAC,CAAC;MAACnK,CAAC,GAAC;QAAC,GAAGJ,CAAC;QAACkO,KAAK,EAAC,IAAI,CAACxE,IAAI,CAACwE;MAAK,CAAC;MAAC7N,CAAC,GAACH,CAAC,CAAC8M,QAAQ,CAACwB,2BAA2B,CAAC,IAAI,CAACJ,aAAa,CAACrO,CAAC,CAAC,EAACK,CAAC,EAACH,CAAC,CAAC;IAAC,OAAO4F,EAAE,CAACxF,CAAC,EAAC;MAACoO,gBAAgB,EAAC;IAAE,CAAC,CAAC;EAAA;EAAC,MAAMC,0BAA0BA,CAAC3O,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAACqK,SAAS,CAAC,CAAC;MAACnK,CAAC,GAAC;QAAC,GAAGJ,CAAC;QAACkO,KAAK,EAAC,IAAI,CAACxE,IAAI,CAACwE;MAAK,CAAC;MAAC7N,CAAC,GAACH,CAAC,CAAC+M,UAAU,CAACuB,2BAA2B,CAAC,IAAI,CAACF,sBAAsB,CAACvO,CAAC,CAAC,EAACK,CAAC,EAACH,CAAC,CAAC;IAAC,OAAO4F,EAAE,CAACxF,CAAC,EAAC;MAACoO,gBAAgB,EAAC;IAAE,CAAC,CAAC;EAAA;EAAC,MAAME,gBAAgBA,CAAC5O,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAACqK,SAAS,CAAC,CAAC;MAACnK,CAAC,GAAC;QAAC,GAAGJ,CAAC;QAACkO,KAAK,EAAC,IAAI,CAACxE,IAAI,CAACwE;MAAK,CAAC;MAAC7N,CAAC,GAACH,CAAC,CAAC8M,QAAQ,CAAC4B,0BAA0B,CAAC,IAAI,CAACR,aAAa,CAACrO,CAAC,CAAC,EAACK,CAAC,EAACH,CAAC,CAAC;IAAC,OAAO4F,EAAE,CAACxF,CAAC,EAAC;MAACwO,eAAe,EAAC;IAAE,CAAC,CAAC;EAAA;EAAC,MAAMC,yBAAyBA,CAAC/O,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAACqK,SAAS,CAAC,CAAC;MAACnK,CAAC,GAAC;QAAC,GAAGJ,CAAC;QAACkO,KAAK,EAAC,IAAI,CAACxE,IAAI,CAACwE;MAAK,CAAC;MAAC7N,CAAC,GAACH,CAAC,CAAC+M,UAAU,CAAC2B,0BAA0B,CAAC,IAAI,CAACN,sBAAsB,CAACvO,CAAC,CAAC,EAACK,CAAC,EAACH,CAAC,CAAC;IAAC,OAAO4F,EAAE,CAACxF,CAAC,EAAC;MAACwO,eAAe,EAAC;IAAE,CAAC,CAAC;EAAA;EAAC,MAAME,cAAcA,CAAChP,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAACqK,SAAS,CAAC,CAAC;MAACnK,CAAC,GAAC;QAAC,GAAGJ,CAAC;QAACkO,KAAK,EAAC,IAAI,CAACxE,IAAI,CAACwE;MAAK,CAAC;MAAC7N,CAAC,GAACH,CAAC,CAAC8M,QAAQ,CAACgC,wBAAwB,CAAC,IAAI,CAACZ,aAAa,CAACrO,CAAC,CAAC,EAACK,CAAC,EAACH,CAAC,CAAC;IAAC,OAAO4F,EAAE,CAACxF,CAAC,EAAC;MAAC4O,IAAI,EAAC,EAAE;MAACC,QAAQ,EAAC,IAAI;MAACC,QAAQ,EAAC,IAAI;MAACC,kBAAkB,EAAC;IAAI,CAAC,CAAC;EAAA;EAAC,MAAMC,uBAAuBA,CAACtP,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAACqK,SAAS,CAAC,CAAC;MAACnK,CAAC,GAAC;QAAC,GAAGJ,CAAC;QAACkO,KAAK,EAAC,IAAI,CAACxE,IAAI,CAACwE;MAAK,CAAC;MAAC7N,CAAC,GAACH,CAAC,CAAC+M,UAAU,CAAC+B,wBAAwB,CAAC,IAAI,CAACV,sBAAsB,CAACvO,CAAC,CAAC,EAACK,CAAC,EAACH,CAAC,CAAC;IAAC,OAAO4F,EAAE,CAACxF,CAAC,EAAC;MAAC4O,IAAI,EAAC,EAAE;MAACC,QAAQ,EAAC,IAAI;MAACC,QAAQ,EAAC,IAAI;MAACC,kBAAkB,EAAC;IAAI,CAAC,CAAC;EAAA;EAACE,aAAaA,CAACvP,CAAC,EAACC,CAAC,EAAC;IAAC,OAAO,IAAI,CAACuP,iBAAiB,CAACxP,CAAC,EAACC,CAAC,CAAC,CAACwP,IAAI,CAAEzP,CAAC,IAAE;MAAC,MAAMC,CAAC,GAAC0D,CAAC,CAACkK,QAAQ,CAAC7N,CAAC,CAAC;MAAC,OAAOC,CAAC,CAACgN,QAAQ,CAACvG,OAAO,CAAE1G,CAAC,IAAE,IAAI,CAAC0P,oBAAoB,CAAC1P,CAAC,CAAE,CAAC,EAACC,CAAC;IAAA,CAAE,CAAC;EAAA;EAAC,MAAM0P,oBAAoBA,CAAC3P,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAEN,QAAQ,CAACyF,oBAAoB,CAAC,IAAI,CAACtB,aAAa,CAACrO,CAAC,CAAC,EAACC,CAAC,CAAC;MAACE,CAAC,GAAC,MAAM2F,EAAE,CAAC5F,CAAC,EAAC;QAAC+M,QAAQ,EAAC;MAAE,CAAC,CAAC;MAAC5M,CAAC,GAACsD,CAAC,CAACkK,QAAQ,CAAC1N,CAAC,CAAC;IAAC,OAAOE,CAAC,CAAC4M,QAAQ,CAACvG,OAAO,CAAE1G,CAAC,IAAE,IAAI,CAAC0P,oBAAoB,CAAC1P,CAAC,CAAE,CAAC,EAACK,CAAC;EAAA;EAAC,MAAMuP,eAAeA,CAAC5P,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAE0C,UAAU,CAAC2C,YAAY,CAAC,IAAI,CAACtB,sBAAsB,CAACvO,CAAC,CAAC,EAACC,CAAC,CAAC;MAACE,CAAC,GAAC,MAAM2F,EAAE,CAAC5F,CAAC,EAAC;QAAC+M,QAAQ,EAAC;MAAE,CAAC,CAAC;MAAC5M,CAAC,GAACmD,CAAC,CAACqK,QAAQ,CAAC1N,CAAC,CAAC;IAAC,OAAOE,CAAC,CAAC4M,QAAQ,CAACvG,OAAO,CAAE1G,CAAC,IAAE,IAAI,CAAC0P,oBAAoB,CAAC1P,CAAC,CAAE,CAAC,EAACK,CAAC;EAAA;EAAC,MAAMyP,iBAAiBA,CAAC9P,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAE0C,UAAU,CAAC6C,kBAAkB,CAAC,IAAI,CAACxB,sBAAsB,CAACvO,CAAC,CAAC,EAACC,CAAC,CAAC;IAAC,OAAO6F,EAAE,CAAC5F,CAAC,EAAC,EAAE,CAAC;EAAA;EAAC,MAAM8P,mBAAmBA,CAAChQ,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAE0C,UAAU,CAAC+C,oBAAoB,CAAC,IAAI,CAAC1B,sBAAsB,CAACvO,CAAC,CAAC,EAACC,CAAC,CAAC;IAAC,OAAO6F,EAAE,CAAC5F,CAAC,EAAC,CAAC,CAAC;EAAA;EAAC,MAAMgQ,kBAAkBA,CAAClQ,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAE0C,UAAU,CAAC2C,YAAY,CAAC,IAAI,CAACtB,sBAAsB,CAACvO,CAAC,CAAC,EAACC,CAAC,CAAC;IAAC,OAAO6F,EAAE,CAAC5F,CAAC,EAAC;MAAC+M,QAAQ,EAAC;IAAE,CAAC,CAAC;EAAA;EAAC,MAAMuC,iBAAiBA,CAACxP,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAEyC,QAAQ,CAAC4C,YAAY,CAAC,IAAI,CAACxB,aAAa,CAACrO,CAAC,CAAC,EAACC,CAAC,CAAC;IAAC,OAAO6F,EAAE,CAAC5F,CAAC,EAAC;MAAC+M,QAAQ,EAAC;IAAE,CAAC,CAAC;EAAA;EAAC,MAAMkD,cAAcA,CAACnQ,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAEyC,QAAQ,CAAC8C,kBAAkB,CAAC,IAAI,CAAC1B,aAAa,CAACrO,CAAC,CAAC,EAACC,CAAC,CAAC;IAAC,OAAO6F,EAAE,CAAC5F,CAAC,EAAC,EAAE,CAAC;EAAA;EAAC,MAAMkQ,iBAAiBA,CAACpQ,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAEyC,QAAQ,CAACgD,oBAAoB,CAAC,IAAI,CAAC5B,aAAa,CAACrO,CAAC,CAAC,EAACC,CAAC,CAAC;IAAC,OAAO6F,EAAE,CAAC5F,CAAC,EAAC,CAAC,CAAC;EAAA;EAAC,MAAMmQ,WAAWA,CAACrQ,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAEyC,QAAQ,CAACqD,qBAAqB,CAAC,IAAI,CAACjC,aAAa,CAACrO,CAAC,CAAC,EAACC,CAAC,CAAC;MAACE,CAAC,GAAC,MAAM2F,EAAE,CAAC5F,CAAC,EAAC;QAACqQ,KAAK,EAAC,CAAC;QAACC,MAAM,EAAC;MAAI,CAAC,CAAC;IAAC,OAAM;MAACD,KAAK,EAACpQ,CAAC,CAACoQ,KAAK;MAACC,MAAM,EAAC7N,CAAC,CAACkL,QAAQ,CAAC1N,CAAC,CAACqQ,MAAM;IAAC,CAAC;EAAA;EAAC,MAAMC,kBAAkBA,CAACzQ,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,IAAI,CAACsK,SAAS,CAAC,CAAC,EAAEyC,QAAQ,CAACyD,yBAAyB,CAAC,IAAI,CAACC,0BAA0B,CAAC3Q,CAAC,CAAC,EAACC,CAAC,CAAC;MAACE,CAAC,GAAC,MAAM2F,EAAE,CAAC5F,CAAC,EAAC;QAAC+M,QAAQ,EAAC;MAAE,CAAC,CAAC;IAAC,OAAOxJ,CAAC,CAACoK,QAAQ,CAAC1N,CAAC,CAAC;EAAA;EAAC,MAAMyQ,iBAAiBA,CAAC5Q,CAAC,EAAC;IAAC,OAAM,CAAC,MAAM,IAAI,CAACwK,SAAS,CAAC,CAAC,EAAEN,QAAQ,CAAC0G,iBAAiB,CAAC5Q,CAAC,CAAC;EAAA;EAAC6Q,aAAaA,CAAC7Q,CAAC,EAACC,CAAC,EAAC;IAACA,CAAC,GAAC,IAAI,CAAC4H,oBAAoB,CAACiJ,MAAM,CAAC9Q,CAAC,CAAC,GAAC,IAAI,CAAC6H,oBAAoB,CAAClB,GAAG,CAAC3G,CAAC,CAAC,EAAC,IAAI,CAAC+Q,OAAO,CAAC,CAAC;EAAA;EAACC,MAAMA,CAAChR,CAAC,EAAC;IAAC,IAAG,CAAC,IAAI,CAACiR,oBAAoB,EAAC;IAAO,IAAI,CAACtH,IAAI,CAACuH,SAAS,IAAE,CAAC,IAAI,CAACnJ,gBAAgB,KAAG,IAAI,CAACA,gBAAgB,GAAC/H,CAAC,CAACmR,KAAK,CAACC,KAAK,CAAC,CAAC,CAAC,EAAC,CAAC,IAAI,CAACzH,IAAI,CAACuH,SAAS,IAAE,IAAI,CAACnJ,gBAAgB,KAAG,IAAI,CAACA,gBAAgB,GAAC,IAAI,CAAC;IAAC,MAAM9H,CAAC,GAAC,IAAI,CAACgR,oBAAoB,CAACD,MAAM,CAAChR,CAAC,CAACqR,WAAW,EAAC,IAAI,CAACtJ,gBAAgB,CAAC;IAAC,IAAI,CAACiE,gBAAgB,CAACsF,eAAe,CAACrR,CAAC,CAAC;EAAA;EAACsR,MAAMA,CAAA,EAAE;IAACzQ,GAAG,CAAC,sBAAsB,CAAC,IAAE0Q,OAAO,CAACC,KAAK,CAAC,2BAA2B,CAAC,EAAChQ,CAAC,CAAC,IAAI,CAACiQ,gBAAgB,CAACC,UAAU,CAAC,IAAI,CAACjJ,eAAe,CAACG,OAAO,CAAC,CAAC,EAACpH,CAAC,CAAC,IAAI,CAAC8H,YAAY,CAAC,CAAC,CAAC,EAAC,IAAI,CAACyC,gBAAgB,GAAC,IAAIhI,CAAC,CAAC,IAAI,CAAC,EAAC,IAAI,CAAC+H,SAAS,CAAC6F,QAAQ,CAAC,IAAI,CAAC5F,gBAAgB,CAAC,EAAC,IAAI,CAACrC,IAAI,CAACkI,QAAQ,CAACC,MAAM,CAAC,GAAG,IAAI,CAAC5I,KAAK,CAAC6I,KAAK,wBAAwB,CAAC,EAAC,IAAI,CAACd,oBAAoB,GAAC,IAAI/K,EAAE,CAAC;MAAC8L,YAAY,EAAC,IAAI,CAACrI,IAAI,CAACE,oBAAoB;MAACoI,mBAAmB,EAACjS,CAAC,IAAE;QAAC,IAAI,CAACgM,gBAAgB,CAACiG,mBAAmB,CAACjS,CAAC,CAAC,EAACyB,CAAC,CAAC,IAAI,CAACiQ,gBAAgB,CAACC,UAAU,CAAC,IAAI,CAACnH,SAAS,CAAC,CAAC,CAACiF,IAAI,CAAExP,CAAC,IAAEA,CAAC,CAACiK,QAAQ,CAAC+H,mBAAmB,CAACjS,CAAC,CAAE,CAAC,CAAC,CAAC;MAAA,CAAC;MAACkS,MAAM,EAAClS,CAAC,IAAE,IAAI,CAACgM,gBAAgB,CAACkG,MAAM,CAAClS,CAAC;IAAC,CAAC,CAAC,EAAC,IAAI,CAACmS,aAAa,CAAC,CAAC,EAAC,IAAI,CAACC,gBAAgB,CAAC,CAACrL,EAAE,CAAC,CAAC,MAAI,IAAI,CAACmB,sBAAsB,EAAC,MAAI,IAAI,CAACgB,KAAK,CAACmJ,iBAAiB,EAAC,MAAI,IAAI,CAACpG,UAAU,EAAC,MAAI,IAAI,CAACqG,KAAK,EAAC,MAAI,IAAI,CAAC3F,MAAM,EAAC,MAAI,IAAI,CAAChC,4BAA4B,EAAC,MAAI,IAAI,CAAC3B,aAAa,EAAC,MAAI,IAAI,CAACf,qBAAqB,EAAC,MAAI,IAAI,CAAC0B,IAAI,CAAC4I,QAAQ,EAAC,MAAI,IAAI,CAAC5I,IAAI,CAACsC,UAAU,EAAC,GAAG,IAAI,CAACxC,YAAY,CAAC+I,uBAAuB,CAAC,IAAI,CAAC7I,IAAI,CAAC,CAAC,EAAE,MAAI,IAAI,CAACoH,OAAO,CAAC,CAAE,CAAC,EAAChP,CAAC,CAAE,MAAI,IAAI,CAAC0Q,eAAe,EAAGzS,CAAC,IAAE;MAACA,CAAC,KAAG,IAAI,CAACiR,oBAAoB,CAACyB,MAAM,CAAC,CAAC,EAAC,IAAI,CAAC/I,IAAI,CAACgJ,YAAY,CAACR,aAAa,CAAC,CAAC,CAAC;IAAA,CAAE,CAAC,EAACpQ,CAAC,CAAE,MAAI,IAAI,CAACmJ,OAAO,EAAGlL,CAAC,IAAE;MAAC,IAAI,CAAC2J,IAAI,CAACgJ,YAAY,CAACR,aAAa,CAAC,CAAC;IAAA,CAAE,CAAC,CAAC,CAAC,EAAC,IAAI,CAACpB,OAAO,CAAC,CAAC,EAAC,QAAQ,KAAG,IAAI,CAAC7H,KAAK,CAACzB,IAAI,IAAE,SAAS,KAAG,IAAI,CAACyB,KAAK,CAACzB,IAAI,IAAE,mBAAmB,KAAG,IAAI,CAACyB,KAAK,CAACzB,IAAI,IAAE,IAAI,CAAC2K,gBAAgB,CAAC,IAAI,CAAClJ,KAAK,CAAC0J,EAAE,CAAC,OAAO,EAAE5S,CAAC,IAAE,IAAI,CAACoI,oBAAoB,CAACuJ,UAAU,CAAC,IAAI,CAACkB,KAAK,CAAC7S,CAAC,CAAC,CAAE,CAAC,CAAC;EAAA;EAAC8S,MAAMA,CAAA,EAAE;IAAChS,GAAG,CAAC,sBAAsB,CAAC,IAAE0Q,OAAO,CAACC,KAAK,CAAC,2BAA2B,CAAC,EAAC,IAAI,CAACnH,YAAY,CAAC,CAAC,EAAC,IAAI,CAACjC,OAAO,GAAC,IAAI,EAAC,IAAI,CAAC2D,gBAAgB,CAACxD,OAAO,CAAC,CAAC,EAAC,IAAI,CAACwD,gBAAgB,GAAC,IAAI,EAAC,IAAI,CAACzE,cAAc,CAACwL,KAAK,CAAC,CAAC,EAAC,IAAI,CAAChH,SAAS,CAACiH,iBAAiB,CAAC,CAAC,EAAC,IAAI,CAAC/B,oBAAoB,GAAChQ,CAAC,CAAC,IAAI,CAACgQ,oBAAoB,CAAC,EAAC,IAAI,CAACxI,YAAY,CAACyB,QAAQ,CAACK,QAAQ,CAAC,CAAC,EAAC,IAAI,CAAC7B,eAAe,GAACnH,CAAC,CAAC,CAAC,EAACE,CAAC,CAAC,IAAI,CAACiH,eAAe,CAACG,OAAO,CAAC,EAAC,IAAI,CAACf,oBAAoB,GAAC,EAAE,EAAC,IAAI,CAACmL,WAAW,GAAC,IAAI;EAAA;EAACC,UAAUA,CAAA,EAAE;IAAC,IAAI,CAACf,aAAa,CAAC,CAAC;EAAA;EAACgB,OAAOA,CAAA,EAAE;IAAC,IAAI,CAAChB,aAAa,CAAC,CAAC;EAAA;EAACiB,YAAYA,CAACpT,CAAC,EAAC;IAAC,OAAO,IAAI,CAACuH,cAAc,CAAC8L,IAAI,CAAC;MAAC5L,IAAI,EAAC,UAAU;MAAC6L,OAAO,EAAC;QAAC,GAAGtT,CAAC;QAACuT,OAAO,EAAC;MAAE;IAAC,CAAC,CAAC;EAAA;EAACC,eAAeA,CAACxT,CAAC,EAAC;IAAC,KAAI,MAAME,CAAC,IAAIF,CAAC,EAAC,IAAG,IAAI,IAAEE,CAAC,EAAC,MAAM,IAAIO,CAAC,CAAC,+BAA+B,EAAC,qDAAqD,EAAC;MAACgT,QAAQ,EAACvT;IAAC,CAAC,CAAC;IAAC,MAAMD,CAAC,GAAC;MAACyT,KAAK,EAAC,EAAE;MAACC,OAAO,EAAC,EAAE;MAACC,OAAO,EAAC,EAAE;MAACL,OAAO,EAACvT,CAAC;MAAC6T,MAAM,EAAC,CAAC,CAAC;MAACC,cAAc,EAAC;IAAI,CAAC;IAAC,OAAO,IAAI,CAACvM,cAAc,CAAC8L,IAAI,CAAC;MAAC5L,IAAI,EAAC,UAAU;MAAC6L,OAAO,EAACrT;IAAC,CAAC,CAAC;EAAA;EAAC8T,UAAUA,CAAA,EAAE;IAAC,MAAM/T,CAAC,GAAC,UAAU,IAAG,IAAI,CAACkJ,KAAK,IAAE,IAAI,IAAE,IAAI,CAACA,KAAK,CAAC8K,QAAQ;MAAC/T,CAAC,GAAC,IAAI,CAACsH,cAAc,CAAC0M,cAAc,CAACvJ,QAAQ;MAACxK,CAAC,GAAC,IAAI,IAAE,IAAI,CAACgU,wBAAwB;MAAC/T,CAAC,GAAC,IAAI,CAAC6L,gBAAgB,CAACmI,eAAe,CAACzJ,QAAQ;MAACrK,CAAC,GAAC,IAAI,CAAC+T,eAAe,IAAEpU,CAAC,KAAGC,CAAC,IAAEC,CAAC,CAAC,IAAEC,CAAC,IAAE,IAAI,CAACgI,iBAAiB,IAAE,IAAI,CAACsC,YAAY;IAAC,IAAG3J,GAAG,CAAC,sBAAsB,CAAC,EAAC;MAAC0Q,OAAO,CAAC6C,GAAG,CAAC,mBAAmB,IAAI,CAACnL,KAAK,CAACoL,EAAE,MAAMjU,CAAC,0BAA0B,IAAI,CAAC+T,eAAe,sBAAsBpU,CAAC,iCAAiCE,CAAC,4BAA4BD,CAAC,uBAAuB,IAAI,CAACwK,YAAY,qBAAqB,IAAI,CAACtC,iBAAiB,4BAA4BhI,CAAC,IAAI,CAAC;MAAC,KAAI,MAAMH,CAAC,IAAI,IAAI,CAACgM,gBAAgB,CAACuI,aAAa,CAAC,CAAC,EAAC/C,OAAO,CAAC6C,GAAG,CAAC,eAAerU,CAAC,CAACsU,EAAE,WAAWtU,CAAC,CAACwU,IAAI,EAAE,CAAC;IAAA;IAAC,OAAOnU,CAAC;EAAA;EAACiJ,oBAAoBA,CAAA,EAAE;IAAC,MAAMtJ,CAAC,GAAC,IAAI;IAAC,OAAM;MAAC,IAAI+L,SAASA,CAAA,EAAE;QAAC,OAAO/L,CAAC,CAACgM,gBAAgB;MAAA,CAAC;MAACyI,WAAW,EAACzU,CAAC,IAAE;QAAC,IAAI,CAAC0U,IAAI,CAAC,mBAAmB,EAAC1U,CAAC,CAACkK,QAAQ,CAAC,EAAC,IAAI,CAACwK,IAAI,CAAC,iBAAiB,EAAC1U,CAAC,CAACiK,MAAM,CAAC;MAAA,CAAC;MAAC0K,SAAS,EAAC3U,CAAC,IAAE;QAAC,IAAI,CAAC4U,IAAI,CAAC5U,CAAC,CAAC4M,IAAI,EAAC5M,CAAC,CAAC6U,KAAK,CAAC;MAAA,CAAC;MAAC,IAAI7M,QAAQA,CAAA,EAAE;QAAC,OAAOhI,CAAC,CAACgI,QAAQ;MAAA,CAAC;MAAC8M,KAAK,EAAC,MAAM7U,CAAC,IAAE;QAAC,IAAGa,GAAG,CAAC,0BAA0B,CAAC,EAAC;UAAC,MAAMZ,CAAC,GAAC,EAAE;UAAC,KAAI,MAAMC,CAAC,IAAIF,CAAC,EAACC,CAAC,CAACmT,IAAI,CAAC,MAAMrT,CAAC,CAAC2J,IAAI,CAACoL,KAAK,CAACC,OAAO,CAACC,cAAc,CAACC,aAAa,CAAC/U,CAAC,CAAC,CAAC;UAAC,OAAOD,CAAC;QAAA;QAAC,OAAOiV,OAAO,CAACC,GAAG,CAACnV,CAAC,CAAC+G,GAAG,CAAE/G,CAAC,IAAED,CAAC,CAAC2J,IAAI,CAACoL,KAAK,CAACC,OAAO,CAACC,cAAc,CAACC,aAAa,CAACjV,CAAC,CAAE,CAAC,CAAC;MAAA,CAAC;MAACoV,eAAe,EAACrV,CAAC,IAAEmV,OAAO,CAACC,GAAG,CAACpV,CAAC,CAACgH,GAAG,CAAEhH,CAAC,IAAE,IAAI,CAACsV,uBAAuB,CAACtV,CAAC,CAAE,CAAC;IAAC,CAAC;EAAA;EAAC,MAAMsV,uBAAuBA,CAACtV,CAAC,EAAC;IAAC,IAAG;MAAC,IAAG,eAAe,KAAG,IAAI,CAACkJ,KAAK,CAACzB,IAAI,EAAC,MAAM,IAAI8N,KAAK,CAAC,uEAAuE,CAAC;MAAC,MAAMtV,CAAC,GAAC,IAAI,CAACiJ,KAAK,CAAC8K,QAAQ;MAAC,IAAG,CAAC/T,CAAC,IAAE,YAAY,KAAGA,CAAC,CAACwH,IAAI,EAAC,MAAM,IAAI8N,KAAK,CAAC,4DAA4D,CAAC;MAAC,MAAMrV,CAAC,GAAC,IAAI,CAAC+S,WAAW,CAACuC,SAAS,CAACC,IAAI,CAACC,OAAO,CAACC,SAAS;MAAC,IAAG,YAAY,KAAGzV,CAAC,CAACuH,IAAI,EAAC,MAAM,IAAI8N,KAAK,CAAC,2DAA2D,CAAC;MAAC,MAAMpV,CAAC,GAAC;QAACyV,WAAW,EAAC,IAAI,CAACjM,IAAI,CAACoL,KAAK,CAACa,WAAW;QAACC,kBAAkB,EAAC,IAAI,CAAClM,IAAI,CAACoL,KAAK,CAACC,OAAO,CAACC,cAAc,CAACa,eAAe;QAACC,KAAK,EAAC,IAAI,CAAC/J,gBAAgB,CAACgK,aAAa;QAACC,eAAe,EAAC/V,CAAC,CAAC+V;MAAe,CAAC;MAAC,IAAI,CAAC5N,OAAO,KAAG,IAAI,CAACA,OAAO,GAAC,IAAI,CAACa,KAAK,CAACgN,MAAM,CAAClP,GAAG,CAAEhH,CAAC,IAAEA,CAAC,CAAC+J,MAAM,CAAC,CAAE,CAAC,CAAC;MAAC,MAAM1J,CAAC,GAACH,CAAC,CAACiW,sBAAsB;QAAC7V,CAAC,GAAC,MAAML,CAAC,CAACmW,cAAc,CAACpW,CAAC,CAACqW,OAAO,EAAC;UAACH,MAAM,EAAC,IAAI,CAAC7N;QAAO,CAAC,CAAC;MAAC,IAAG,CAAC/H,CAAC,IAAE,CAACA,CAAC,CAACgW,IAAI,EAAC,OAAM;QAAC7O,IAAI,EAAC,qBAAqB;QAAC8O,MAAM,EAAC;MAAE,CAAC;MAAC,OAAM;QAAC9O,IAAI,EAAC,qBAAqB;QAAC8O,MAAM,EAAC,MAAM/Q,CAAC,CAAClF,CAAC,CAACgW,IAAI,EAAC;UAACE,QAAQ,EAACnW,CAAC;UAACoW,IAAI,EAAC,UAAU;UAACC,aAAa,EAACvW;QAAC,CAAC;MAAC,CAAC;IAAA,CAAC,QAAMF,CAAC,EAAC;MAAC,OAAM;QAACwH,IAAI,EAAC,qBAAqB;QAAC8O,MAAM,EAAC;MAAE,CAAC;IAAA;EAAC;EAAClI,aAAaA,CAACrO,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC2D,CAAC,CAACiD,IAAI,CAAC7G,CAAC,CAAC,IAAE,IAAI,CAAC2W,WAAW,CAAC,CAAC;IAAC,OAAO1W,CAAC,CAAC2W,mBAAmB,KAAG3W,CAAC,CAAC2W,mBAAmB,GAAC,IAAI,CAACjN,IAAI,CAACkN,gBAAgB,CAAC,EAAC5W,CAAC,CAAC8J,MAAM,CAAC,CAAC;EAAA;EAAC4G,0BAA0BA,CAAC3Q,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACyD,CAAC,CAACmD,IAAI,CAAC7G,CAAC,CAAC;IAAC,OAAOC,CAAC,CAAC2W,mBAAmB,KAAG3W,CAAC,CAAC2W,mBAAmB,GAAC,IAAI,CAACjN,IAAI,CAACkN,gBAAgB,CAAC,EAAC5W,CAAC,CAAC8J,MAAM,CAAC,CAAC;EAAA;EAACwE,sBAAsBA,CAACvO,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC2D,CAAC,CAACiD,IAAI,CAAC7G,CAAC,CAAC,IAAE,IAAI,CAAC8W,oBAAoB,CAAC,CAAC;IAAC7W,CAAC,CAAC2W,mBAAmB,KAAG3W,CAAC,CAAC2W,mBAAmB,GAAC,IAAI,CAACjN,IAAI,CAACkN,gBAAgB,CAAC;IAAC,MAAM3W,CAAC,GAACD,CAAC,CAAC8W,SAAS,IAAE,EAAE;IAAC,KAAI,MAAM5W,CAAC,IAAIF,CAAC,CAAC+W,YAAY,IAAE,EAAE,EAAC9W,CAAC,CAACmT,IAAI,CAAClT,CAAC,CAAC;IAAC,OAAOF,CAAC,CAAC8W,SAAS,GAAC7W,CAAC,EAACD,CAAC,CAAC+W,YAAY,GAAC,EAAE,EAAC/W,CAAC,CAAC8J,MAAM,CAAC,CAAC;EAAA;EAAC,MAAMgH,OAAOA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACxJ,cAAc,CAAC8L,IAAI,CAAC;MAAC5L,IAAI,EAAC;IAAQ,CAAC,CAAC;EAAA;EAACoL,KAAKA,CAAC7S,CAAC,EAAC;IAAC,OAAO,IAAI,CAACyS,eAAe,IAAE,IAAI,CAACxB,oBAAoB,CAACgG,OAAO,CAAC,CAAC,EAAC9B,OAAO,CAAC9K,OAAO,CAAC,CAAC,IAAE,IAAI,CAAC9C,cAAc,CAAC8L,IAAI,CAAC;MAAC5L,IAAI,EAAC,MAAM;MAACoN,KAAK,EAAC7U;IAAC,CAAC,CAAC;EAAA;EAAC,MAAMkX,SAASA,CAAClX,CAAC,EAAC;IAAC,IAAI,CAACmX,QAAQ,KAAG,IAAI,CAAC1E,eAAe,IAAEzS,CAAC,KAAGA,CAAC,GAAC,IAAI,CAACoX,6BAA6B,CAAC,CAAC,GAAC,IAAI,CAACC,8BAA8B,CAAC,CAAC,CAAC,CAAC;EAAA;EAACD,6BAA6BA,CAAA,EAAE;IAAC,IAAI,CAACnP,qBAAqB,GAAC,CAAC,IAAI,CAACA,qBAAqB,GAAC,CAAC,IAAEnB,EAAE,GAAC,CAAC;EAAA;EAACuQ,8BAA8BA,CAAA,EAAE;IAAC,IAAI,CAACnP,sBAAsB,GAAC,CAAC,IAAI,CAACA,sBAAsB,GAAC,CAAC,IAAEpB,EAAE,GAAC,CAAC;EAAA;EAAC,MAAMwQ,kBAAkBA,CAACtX,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,EAAE;MAACC,CAAC,GAAC,EAAE;IAAC,KAAI,MAAMI,CAAC,IAAIN,CAAC,EAAC,IAAI,IAAEM,CAAC,CAACmT,QAAQ,IAAE,CAAC,CAAC,KAAGnT,CAAC,CAACmT,QAAQ,GAAC,IAAI,IAAEnT,CAAC,CAACiX,QAAQ,GAACxW,CAAC,CAACyW,SAAS,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,qBAAqB,EAAC,2EAA2E,EAAC;MAACC,UAAU,EAACpX;IAAC,CAAC,CAAC,GAACJ,CAAC,CAACmT,IAAI,CAAC/S,CAAC,CAACiX,QAAQ,CAAC,GAACtX,CAAC,CAACoT,IAAI,CAAC/S,CAAC,CAACmT,QAAQ,CAAC;IAAC,MAAMtT,CAAC,GAAC,eAAe,IAAG,IAAI,CAAC+I,KAAK,IAAE,IAAI,CAACA,KAAK,CAACyO,aAAa;MAACtX,CAAC,GAACF,CAAC,IAAE,IAAI,CAACyX,eAAe,CAACC,QAAQ,CAAC1X,CAAC,CAAC;IAAC,IAAGD,CAAC,CAACuM,MAAM,IAAE,CAACpM,CAAC,EAAC,OAAOU,CAAC,CAACyW,SAAS,CAAC,IAAI,CAAC,CAACM,KAAK,CAAC,IAAIrX,CAAC,CAAC,qBAAqB,EAAC,qEAAqEN,CAAC,8EAA8E,CAAC,CAAC,EAACF,CAAC;IAAC,IAAGC,CAAC,CAACuM,MAAM,EAAC;MAAC,MAAMzM,CAAC,GAAC,MAAM,IAAI,CAACyI,YAAY,CAACyB,QAAQ,CAAC6N,yBAAyB,CAAC7X,CAAC,CAAC;MAAC,KAAI,MAAMA,CAAC,IAAIF,CAAC,EAACC,CAAC,CAACoT,IAAI,CAACnT,CAAC,CAAC;IAAA;IAAC,OAAOD,CAAC;EAAA;EAAC+X,iBAAiBA,CAAChY,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,CAAC;MAACC,CAAC,GAAC,CAAC,CAAC;MAACC,CAAC,GAAC6F,EAAE,CAAC,IAAI,CAACkD,KAAK,CAACyC,YAAY,CAAC;MAACtL,CAAC,GAAC,IAAI,CAAC6I,KAAK,CAAC6B,aAAa;MAACzK,CAAC,GAAC,EAAE;IAAC,KAAI,MAAME,CAAC,IAAIR,CAAC,CAAC0T,KAAK,EAAC;MAAC,MAAM1T,CAAC,GAAC8C,CAAC,CAACtC,CAAC,EAACL,CAAC,EAACF,CAAC,EAACC,CAAC,EAACG,CAAC,CAAC;MAAC,IAAG,IAAI,IAAEL,CAAC,CAACyT,QAAQ,EAAC,MAAM,IAAIhT,CAAC,CAAC,+BAA+B,EAAC,mCAAmC,EAAC;QAAC4V,OAAO,EAAC7V;MAAC,CAAC,CAAC;MAACF,CAAC,CAAC+S,IAAI,CAACrT,CAAC,CAAC;IAAA;IAAC,KAAI,MAAMQ,CAAC,IAAIR,CAAC,CAAC2T,OAAO,EAAC;MAAC,MAAM3T,CAAC,GAAC8C,CAAC,CAACtC,CAAC,EAACL,CAAC,EAACF,CAAC,EAACC,CAAC,EAACG,CAAC,CAAC;MAAC,IAAG,IAAI,IAAEL,CAAC,CAACyT,QAAQ,EAAC,MAAM,IAAIhT,CAAC,CAAC,+BAA+B,EAAC,mCAAmC,EAAC;QAAC4V,OAAO,EAAC7V;MAAC,CAAC,CAAC;MAACF,CAAC,CAAC+S,IAAI,CAACrT,CAAC,CAAC;IAAA;IAAC,KAAI,MAAMQ,CAAC,IAAIR,CAAC,CAAC4T,OAAO,EAAC,IAAG,IAAI,IAAEpT,CAAC,EAAC,MAAM,IAAIC,CAAC,CAAC,+BAA+B,EAAC,qCAAqC,EAAC;MAACgT,QAAQ,EAACjT;IAAC,CAAC,CAAC;IAAC,OAAM;MAACiH,IAAI,EAAC,UAAU;MAACwQ,OAAO,EAAC3X,CAAC;MAACsT,OAAO,EAAC5T,CAAC,CAAC4T,OAAO;MAACL,OAAO,EAACvT,CAAC,CAACuT,OAAO;MAACM,MAAM,EAAC7T,CAAC,CAAC6T,MAAM,IAAE,CAAC,CAAC;MAACC,cAAc,EAAC9T,CAAC,CAAC8T,cAAc,IAAE;IAAI,CAAC;EAAA;EAAC,MAAMoE,YAAYA,CAAClY,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACiJ,KAAK;MAAChJ,CAAC,GAACF,CAAC,CAAC8T,cAAc,EAAE7M,OAAO,CAAC,CAAC,IAAE,IAAI;MAAC9G,CAAC,GAAC,SAAS,IAAGF,CAAC,IAAED,CAAC,CAACmY,cAAc,EAAEC,IAAI,CAAEpY,CAAC,IAAEA,CAAC,CAACqY,OAAO,KAAGpY,CAAC,CAACoY,OAAQ,CAAC;IAAC,IAAGlY,CAAC,IAAE,IAAI,CAACmY,iBAAiB,CAACnY,CAAC,CAAC,EAAC;MAAC,MAAK;UAACoY,IAAI,EAACvY,CAAC;UAACwY,OAAO,EAACvY,CAAC;UAACgY,OAAO,EAAC5X;QAAC,CAAC,GAACF,CAAC,CAACgY,cAAc;QAAC7X,CAAC,GAAC,IAAI,CAAC4I,KAAK,CAAC6B,aAAa;QAACvK,CAAC,GAACH,CAAC,CAAC2G,GAAG,CAAEhH,CAAC,IAAEA,CAAC,CAACyY,OAAQ,CAAC;QAAChY,CAAC,GAACR,CAAC,CAAC+G,GAAG,CAAEhH,CAAC,IAAE,YAAY,IAAGA,CAAC,GAAC;UAACyT,QAAQ,EAACnT,CAAC,GAACN,CAAC,CAAC0Y,UAAU,CAACpY,CAAC,CAAC,GAAC;QAAI,CAAC,GAACN,CAAE,CAAC;QAACW,CAAC,GAAC,MAAM,IAAI,CAAC2W,kBAAkB,CAAC7W,CAAC,CAAC;MAAC,OAAO,IAAI,CAACuX,iBAAiB,CAAC;QAACtE,KAAK,EAAC1T,CAAC;QAAC2T,OAAO,EAACnT,CAAC;QAACoT,OAAO,EAACjT,CAAC;QAACmT,cAAc,EAAC5T,CAAC;QAAC2T,MAAM,EAAC,CAAC,CAAC;QAACN,OAAO,EAAC;MAAE,CAAC,CAAC;IAAA;IAAC,MAAK,CAAClT,CAAC,EAACC,CAAC,EAACE,CAAC,CAAC,GAAC,MAAM2U,OAAO,CAACC,GAAG,CAAC,CAAC,IAAI,CAACkC,kBAAkB,CAACtX,CAAC,CAAC2Y,aAAa,CAAC,EAAC,IAAI,CAACrB,kBAAkB,CAACtX,CAAC,CAAC4Y,eAAe,CAAC,EAAC,IAAI,CAACtB,kBAAkB,CAACtX,CAAC,CAAC6Y,eAAe,CAAC,CAAC,CAAC;IAAC,OAAM;MAACpR,IAAI,EAAC,gBAAgB;MAACwQ,OAAO,EAAC,CAAC,GAAG5X,CAAC,EAAC,GAAGC,CAAC,CAAC;MAACsT,OAAO,EAACpT,CAAC;MAACsT,cAAc,EAAC5T,CAAC;MAAC2T,MAAM,EAAC,CAAC;IAAC,CAAC;EAAA;EAACyE,iBAAiBA,CAACtY,CAAC,EAAC;IAAC,MAAK;MAACuY,IAAI,EAACtY,CAAC;MAACgY,OAAO,EAAC/X;IAAC,CAAC,GAACF,CAAC,CAACmY,cAAc;IAAC,OAAOlY,CAAC,CAAC6Y,KAAK,CAAE9Y,CAAC,IAAE,IAAI,CAAC2J,IAAI,CAACkN,gBAAgB,CAACkC,MAAM,CAAC/Y,CAAC,CAACgZ,QAAQ,EAAEnC,gBAAgB,CAAE,CAAC,IAAE3W,CAAC,CAAC4Y,KAAK,CAAE9Y,CAAC,IAAE,IAAI,CAAC2J,IAAI,CAACkN,gBAAgB,CAACkC,MAAM,CAAC/Y,CAAC,CAACyY,OAAO,CAACO,QAAQ,EAAEnC,gBAAgB,CAAE,CAAC;EAAA;EAAC,MAAMlP,SAASA,CAAA,EAAE;IAAC,kBAAkB,IAAG,IAAI,CAACuB,KAAK,IAAE,IAAI,CAACA,KAAK,CAAC+P,gBAAgB,IAAE,IAAI,CAAC/P,KAAK,CAAC+P,gBAAgB,KAAG,IAAI,CAACC,qBAAqB,KAAG,IAAI,CAAChQ,KAAK,CAAC+P,gBAAgB,GAAC,IAAI,CAAC/P,KAAK,CAAC+P,gBAAgB,EAAE7H,KAAK,CAAC,CAAC,EAAC,IAAI,CAAC8H,qBAAqB,GAAC,IAAI,CAAChQ,KAAK,CAAC+P,gBAAgB,CAAC;IAAC,IAAG;MAAC,IAAG,MAAM9D,OAAO,CAACgE,UAAU,CAAC,CAAC,IAAI,CAACC,aAAa,CAAC,CAAC,EAACnW,CAAC,CAAC,IAAI,CAACiG,KAAK,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC4D,SAAS,IAAE,CAAC,IAAI,CAACrD,YAAY,EAAE4P,kBAAkB,IAAE,CAAC,IAAI,CAACpI,oBAAoB,EAAC;MAAO,MAAMjR,CAAC,GAAC,IAAI,CAACgM,gBAAgB,CAACgK,aAAa;MAAC,IAAI,CAAChK,gBAAgB,CAACsN,aAAa,CAACC,kBAAkB,CAAC,CAAC,EAACvZ,CAAC,CAACwZ,WAAW,CAAC,CAAC;MAAC,MAAMvZ,CAAC,GAAC,IAAI,CAAC+I,aAAa;QAAC9I,CAAC,GAAC;UAAC6V,KAAK,EAAC/V,CAAC;UAAC4V,WAAW,EAAC,IAAI,CAACjM,IAAI,CAACoL,KAAK,CAACa,WAAW;UAACC,kBAAkB,EAAC,IAAI,CAAClM,IAAI,CAACoL,KAAK,CAACC,OAAO,CAACC,cAAc,CAACa,eAAe;UAACG,eAAe,EAAC,KAAK;QAAC,CAAC;QAAC9V,CAAC,GAAC,MAAM,IAAI,CAACsZ,uBAAuB,CAAC,CAAC;QAACpZ,CAAC,GAAC;UAAC4J,MAAM,EAAC,IAAI,CAACR,YAAY,CAACiQ,kBAAkB,CAACvZ,CAAC,EAAC,IAAI,CAAC8H,qBAAqB,CAAC;UAACuN,SAAS,EAAC,MAAM,IAAI,CAAC/L,YAAY,CAACkQ,qBAAqB,CAACzZ,CAAC,EAACC,CAAC,EAAC,IAAI,CAAC+H,sBAAsB;QAAC,CAAC;QAAC5H,CAAC,GAACa,CAAC,CAAC,IAAI,CAAC8R,WAAW,EAAEhJ,MAAM,CAAC2P,OAAO,EAACvZ,CAAC,CAAC4J,MAAM,CAAC2P,OAAO,CAAC,IAAEzY,CAAC,CAAC,IAAI,CAAC8R,WAAW,EAAEuC,SAAS,EAACnV,CAAC,CAACmV,SAAS,CAAC;MAAC,IAAG,CAAClV,CAAC,EAAC,OAAO,IAAI,CAAC0L,gBAAgB,CAAC6N,aAAa,CAAC,CAAC,EAAC,IAAI,CAAC7N,gBAAgB,CAACsN,aAAa,CAACQ,oBAAoB,CAAC,CAAC,EAAC9Z,CAAC,CAAC+Z,SAAS,CAAC,CAAC,EAAC,MAAK,IAAI,CAACxR,iBAAiB,CAACS,aAAa,GAAC/I,CAAC,CAAC;MAAC,IAAI,CAACgT,WAAW,GAAC5S,CAAC,EAAC,IAAI,CAACgI,OAAO,GAAC,IAAI;MAAC,MAAM7H,CAAC,GAACwZ,IAAI,CAACC,KAAK,CAACC,WAAW,CAACC,GAAG,CAAC,CAAC,CAAC;MAACrZ,GAAG,CAAC,sBAAsB,CAAC,IAAE0Q,OAAO,CAACC,KAAK,CAAC,MAAM,IAAI,CAACvI,KAAK,CAACkR,GAAG,aAAa5Z,CAAC,gCAAgC,EAAC;QAAC6Z,OAAO,EAAC/Z;MAAC,CAAC,CAAC;MAAC,MAAMG,CAAC,GAAC,MAAM,IAAI,CAAC+J,SAAS,CAAC,CAAC;MAAC,MAAM/J,CAAC,CAACyJ,QAAQ,CAACoQ,YAAY,CAACja,CAAC,EAACG,CAAC,CAAC,EAACR,CAAC,CAAC+Z,SAAS,CAAC,CAAC,EAAC,IAAI,CAACxR,iBAAiB,CAACS,aAAa,GAAC/I,CAAC,EAAC,IAAI,CAACsI,iBAAiB,CAACU,aAAa,CAAC,CAAC,EAAC,IAAI,CAAC+C,gBAAgB,CAACuO,oBAAoB,CAAC,CAAC,EAAC,IAAI,CAACvO,gBAAgB,CAACsN,aAAa,CAACQ,oBAAoB,CAAC,CAAC,EAAC,IAAI,CAAC9N,gBAAgB,CAACwO,kBAAkB,CAAC,CAAC,EAAC,IAAI,CAACxO,gBAAgB,CAAC6N,aAAa,CAAC,CAAC,EAAC/Y,GAAG,CAAC,sBAAsB,CAAC,IAAE0Q,OAAO,CAACC,KAAK,CAAC,WAAWjR,CAAC,gCAAgC,CAAC,EAAC,IAAI,CAAC2R,aAAa,CAAC,CAAC;IAAA,CAAC,QAAMnS,CAAC,EAAC;MAACc,GAAG,CAAC,sBAAsB,CAAC,IAAE0Q,OAAO,CAACsG,KAAK,CAAC,oCAAoC,EAAC9X,CAAC,CAAC;IAAA;EAAC;EAAC,MAAM0H,WAAWA,CAAC1H,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,MAAM,IAAI,CAACuK,SAAS,CAAC,CAAC;IAAC,IAAG;MAAC,KAAI,MAAMtK,CAAC,IAAIF,CAAC,CAACya,QAAQ,EAAC,QAAOva,CAAC,CAACuH,IAAI;QAAE,KAAI,MAAM;UAAC;YAAC,MAAMzH,CAAC,GAAC,IAAI0F,CAAC,CAAD,CAAC;YAAC1F,CAAC,CAAC2G,GAAG,CAAC,MAAM,IAAI,CAACuR,YAAY,CAAChY,CAAC,CAAC2U,KAAK,CAAC,CAAC,EAAC,MAAM5U,CAAC,CAACiK,QAAQ,CAACwQ,UAAU,CAAC1a,CAAC,CAAC2a,SAAS,CAAC,CAAC,CAAC;YAAC;UAAK;QAAC,KAAI,UAAU;UAAC;YAAC,MAAM3a,CAAC,GAAC,IAAI0F,CAAC,CAAD,CAAC;YAAC1F,CAAC,CAAC2G,GAAG,CAAC,IAAI,CAACqR,iBAAiB,CAAC9X,CAAC,CAACoT,OAAO,CAAC,CAAC,EAAC,MAAMrT,CAAC,CAACiK,QAAQ,CAACwQ,UAAU,CAAC1a,CAAC,CAAC2a,SAAS,CAAC,CAAC,CAAC;YAAC;UAAK;MAAC;IAAC,CAAC,QAAMza,CAAC,EAAC;MAAC2B,CAAC,CAAC3B,CAAC,CAAC,EAAC,CAAC;IAAA;EAAC;EAAC0a,4BAA4BA,CAAC5a,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACuG,EAAE,CAAC,IAAI,CAACsB,oBAAoB,EAAC9H,CAAC,CAAC;IAAC,OAAO,IAAI,CAAC8H,oBAAoB,GAAC7H,CAAC,EAACkD,CAAC,CAAC,IAAI,CAAC+F,KAAK,CAAC2R,WAAW,EAAC5a,CAAC,CAAC;EAAA;EAAC,MAAMwZ,uBAAuBA,CAAA,EAAE;IAAC,MAAMzZ,CAAC,GAAC,IAAI,CAAC8a,mBAAmB,GAAC,MAAM,IAAI,CAACC,YAAY,GAAC,IAAI;MAAC9a,CAAC,GAAC,CAAC+a,EAAE,CAAC,IAAI,CAACrR,IAAI,EAAC,IAAI,CAACF,YAAY,EAAC,IAAI,CAACwC,UAAU,EAAC,IAAI,CAACpE,oBAAoB,EAAC,IAAI,CAAC8E,MAAM,EAAC,IAAI,CAAChC,4BAA4B,CAAC,EAAC,IAAI,CAAC3B,aAAa,EAAE2D,MAAM,EAAE5C,MAAM,CAAC,CAAC,IAAE,IAAI,CAAC;IAAC,OAAM;MAAC6N,eAAe,EAAC,IAAI,CAACgD,4BAA4B,CAAC,IAAI,CAAChD,eAAe,CAAC;MAACqD,oBAAoB,EAAC,IAAI,CAACA,oBAAoB;MAACC,OAAO,EAACjb,CAAC;MAACkO,KAAK,EAAC,IAAI,CAACxE,IAAI,CAACwE,KAAK;MAACoE,QAAQ,EAAC,IAAI,CAAC5I,IAAI,CAAC4I,QAAQ;MAACtG,UAAU,EAAC,IAAI,CAACtC,IAAI,CAACsC,UAAU;MAACkP,WAAW,EAACnb;IAAC,CAAC;EAAA;EAACob,iBAAiBA,CAAA,EAAE;IAAC,IAAI,CAAC7T,cAAc,CAAC8L,IAAI,CAAC;MAAC5L,IAAI,EAAC;IAAW,CAAC,CAAC;EAAA;EAAC,MAAMG,iBAAiBA,CAAA,EAAE;IAAC,MAAM5H,CAAC,GAAC,IAAI,CAACqb,cAAc,CAAC,CAAC;MAACpb,CAAC,GAAC,MAAM,IAAI,CAACuK,SAAS,CAAC,CAAC;IAAC,IAAG,IAAI,CAACsC,SAAS,EAAC;IAAO,MAAM5M,CAAC,GAACD,CAAC,CAACiK,QAAQ,CAACoR,eAAe,CAAC;MAACC,UAAU,EAACvb;IAAC,CAAC,CAAC,CAACwb,KAAK,CAAExb,CAAC,IAAE;MAAC6B,CAAC,CAAC7B,CAAC,CAAC,IAAEe,CAAC,CAACyW,SAAS,CAAC,IAAI,CAAC,CAACM,KAAK,CAAC9X,CAAC,CAAC;IAAA,CAAE,CAAC;IAAC,IAAI,CAAC0R,gBAAgB,CAACC,UAAU,CAACzR,CAAC,CAAC;EAAA;EAACwP,oBAAoBA,CAAC1P,CAAC,EAAC;IAACA,CAAC,CAACkJ,KAAK,GAAClJ,CAAC,CAACyb,WAAW,GAAC,IAAI,CAACvS,KAAK,EAAC,IAAI,CAACO,YAAY,CAACiS,gBAAgB,IAAE,IAAI,CAACjS,YAAY,CAACiS,gBAAgB,CAAC1b,CAAC,CAAC;EAAA;EAAC4N,iBAAiBA,CAAC5N,CAAC,EAACC,CAAC,EAAC;IAAC,OAAO,IAAI,CAACyP,oBAAoB,CAACzP,CAAC,CAAC,EAAC,IAAI,IAAEA,CAAC,CAAC+Y,QAAQ,KAAG/Y,CAAC,CAAC+Y,QAAQ,CAACnC,gBAAgB,GAAC,IAAI,CAAClN,IAAI,CAACkN,gBAAgB,CAAC,EAAC;MAACpP,IAAI,EAAC,SAAS;MAACkU,OAAO,EAAC1b,CAAC;MAACiJ,KAAK,EAAC,IAAI,CAACA,KAAK;MAAC0S,QAAQ,EAAC5b;IAAC,CAAC;EAAA;AAAC,CAAC;AAAC,SAASgb,EAAEA,CAAChb,CAAC,EAACC,CAAC,EAACC,CAAC,EAACC,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;EAACD,CAAC,KAAGA,CAAC,GAACA,CAAC,CAAC+Q,KAAK,CAAC,CAAC,CAAC;EAAC,MAAM5Q,CAAC,GAAC,IAAI,IAAEH,CAAC,GAACA,CAAC,CAAC4L,UAAU,GAAC,IAAI;IAACxL,CAAC,GAAC,IAAI,IAAEP,CAAC,IAAE,IAAI,IAAEM,CAAC,GAACN,CAAC,CAAC2b,YAAY,CAACrb,CAAC,CAAC,GAACN,CAAC,IAAEM,CAAC;EAACC,CAAC,KAAGJ,CAAC,KAAG,IAAI0C,CAAC,CAAD,CAAC,EAAC1C,CAAC,CAAC4L,UAAU,GAACxL,CAAC,CAAC,EAACJ,CAAC,GAACJ,CAAC,CAAC6b,UAAU,GAAGzb,CAAC,EAACL,CAAC,CAAC,IAAEK,CAAC,EAACC,CAAC,KAAGD,CAAC,KAAG,IAAI0C,CAAC,CAAD,CAAC,EAAC1C,CAAC,CAACwK,KAAK,GAACzI,CAAC,CAAC/B,CAAC,CAACwK,KAAK,EAACvK,CAAC,CAAC,CAAC;EAAC,IAAIK,CAAC,GAACN,CAAC,EAAE0J,MAAM,CAAC,CAAC,IAAE,IAAI;EAAC,OAAO5J,CAAC,CAAC4b,IAAI,KAAGpb,CAAC,KAAI,IAAIoC,CAAC,CAAD,CAAC,CAAEgH,MAAM,CAAC,CAAC,EAACpJ,CAAC,CAACqb,SAAS,GAACpV,KAAK,CAACC,IAAI,CAAC1G,CAAC,CAAC,CAAC,EAACQ,CAAC;AAAA;AAACX,CAAC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,EAAC8E,EAAE,CAAC6U,SAAS,EAAC,gBAAgB,EAAC,KAAK,CAAC,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,EAAC8E,EAAE,CAAC6U,SAAS,EAAC,uBAAuB,EAAC,KAAK,CAAC,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,EAAC8E,EAAE,CAAC6U,SAAS,EAAC,wBAAwB,EAAC,KAAK,CAAC,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC;EAAC4Z,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC9U,EAAE,CAAC6U,SAAS,EAAC,mBAAmB,EAAC,KAAK,CAAC,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,EAAC8E,EAAE,CAAC6U,SAAS,EAAC,iBAAiB,EAAC,KAAK,CAAC,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC;EAAC4Z,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC9U,EAAE,CAAC6U,SAAS,EAAC,cAAc,EAAC,IAAI,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC;EAAC4Z,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC9U,EAAE,CAAC6U,SAAS,EAAC,8BAA8B,EAAC,IAAI,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC;EAAC4Z,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC9U,EAAE,CAAC6U,SAAS,EAAC,gBAAgB,EAAC,IAAI,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC;EAAC4Z,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC9U,EAAE,CAAC6U,SAAS,EAAC,sBAAsB,EAAC,IAAI,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC;EAAC4Z,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC9U,EAAE,CAAC6U,SAAS,EAAC,mBAAmB,EAAC,IAAI,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,EAAC8E,EAAE,CAAC6U,SAAS,EAAC,mBAAmB,EAAC,KAAK,CAAC,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,EAAC8E,EAAE,CAAC6U,SAAS,EAAC,wBAAwB,EAAC,IAAI,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,EAAC8E,EAAE,CAAC6U,SAAS,EAAC,cAAc,EAAC,IAAI,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC;EAAC4Z,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAAC9U,EAAE,CAAC6U,SAAS,EAAC,YAAY,EAAC,IAAI,CAAC,EAACjc,CAAC,CAAC,CAACsC,CAAC,CAAC,CAAC,CAAC,EAAC8E,EAAE,CAAC6U,SAAS,EAAC,UAAU,EAAC,KAAK,CAAC,CAAC,EAAC7U,EAAE,GAACpH,CAAC,CAAC,CAACwC,CAAC,CAAC,yCAAyC,CAAC,CAAC,EAAC4E,EAAE,CAAC;AAAC,MAAM+U,EAAE,GAAC/U,EAAE;AAAC,SAAO+U,EAAE,IAAIC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}