{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { i as e } from \"../../../../chunks/vec32.js\";\nimport { create as t } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { a as r, c as i } from \"../../../../chunks/vec42.js\";\nimport { fromArray as s } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { Object3DVisualElement as a } from \"./Object3DVisualElement.js\";\nimport { ElevationContext as l } from \"../../layers/graphics/ElevationContext.js\";\nimport { geometryToRenderInfo as o } from \"../../support/renderInfoUtils/point.js\";\nimport { CullFaceOptions as n } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { createSphereGeometry as c } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as h } from \"../../webgl-engine/lib/Material.js\";\nimport { ShadedColorMaterial as u } from \"../../webgl-engine/materials/ShadedColorMaterial.js\";\nclass d extends a {\n  constructor(e) {\n    super(e), this.view = null, this._renderOccluded = h.OccludeAndTransparent, this._vertices = null, this._spatialReference = null, this._color = s([1, 127 / 255, 0, 1]), this._size = 11, this._outlineColor = s([0, 0, 0, .5]), this._outlineSize = 1, this._elevationInfo = null, this.applyProperties(e);\n  }\n  get renderOccluded() {\n    return this._renderOccluded;\n  }\n  set renderOccluded(e) {\n    e !== this._renderOccluded && (this._renderOccluded = e, this._updateMaterial(), this._updateOutlineMaterial());\n  }\n  get vertices() {\n    return this._vertices;\n  }\n  set vertices(e) {\n    this._vertices = e, this.recreateGeometry();\n  }\n  get spatialReference() {\n    return this._spatialReference;\n  }\n  set spatialReference(e) {\n    this._spatialReference = e, this.recreateGeometry();\n  }\n  get color() {\n    return this._color;\n  }\n  set color(e) {\n    r(e, this._color) || (i(this._color, e), this._updateMaterial());\n  }\n  get size() {\n    return this._size;\n  }\n  set size(e) {\n    e !== this._size && (this._size = e, this._updateMaterial());\n  }\n  get outlineColor() {\n    return this._outlineColor;\n  }\n  set outlineColor(e) {\n    r(e, this._outlineColor) || (i(this._outlineColor, e), this._updateOutlineMaterial());\n  }\n  get outlineSize() {\n    return this._outlineSize;\n  }\n  set outlineSize(e) {\n    e !== this._outlineSize && (this._outlineSize = e, this._updateOutlineMaterial());\n  }\n  get elevationInfo() {\n    return this._elevationInfo;\n  }\n  set elevationInfo(e) {\n    this._elevationInfo = e, this.recreateGeometry();\n  }\n  get _vertexMaterialParameters() {\n    return {\n      color: this._color,\n      screenSizeScale: this.size,\n      renderOccluded: this._renderOccluded,\n      isDecoration: this.isDecoration\n    };\n  }\n  get _vertexOutlineMaterialParameters() {\n    return {\n      color: this._outlineColor,\n      screenSizeScale: this.size + 2 * this.outlineSize,\n      renderOccluded: this._renderOccluded,\n      isDecoration: this.isDecoration\n    };\n  }\n  _updateMaterial() {\n    this.attached && this._vertexMaterial.setParameters(this._vertexMaterialParameters);\n  }\n  _updateOutlineMaterial() {\n    this.attached && this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters);\n  }\n  _createRenderGeometries() {\n    const t = this.vertices;\n    if (null == t || 0 === t.length) return [];\n    const r = .5,\n      i = .5,\n      s = o(t, this.spatialReference, this.view.elevationProvider, this.view.renderCoordsHelper, l.fromElevationInfo(this.elevationInfo)),\n      a = [],\n      n = s.numVertices,\n      c = s.position;\n    for (let l = 0; l < n; ++l) {\n      const t = e(_, c[3 * l], c[3 * l + 1], c[3 * l + 2]),\n        s = m(this._vertexMaterial, r, t),\n        o = m(this._vertexOutlineMaterial, i, t);\n      a.push({\n        vertexGeometry: s,\n        vertexOutlineGeometry: o\n      });\n    }\n    return a;\n  }\n  createGeometries(e) {\n    const t = this._createRenderGeometries();\n    for (const {\n      vertexGeometry: r,\n      vertexOutlineGeometry: i\n    } of t) e.addGeometry(r), e.addGeometry(i);\n  }\n  createExternalResources() {\n    this._vertexMaterial = new u({\n      ...this._vertexMaterialParameters,\n      writeDepth: !0,\n      cullFace: n.Back,\n      screenSizeEnabled: !0\n    }), this._vertexOutlineMaterial = new u({\n      ...this._vertexOutlineMaterialParameters,\n      forceTransparentMode: !0,\n      writeDepth: !0,\n      cullFace: n.Front,\n      screenSizeEnabled: !0,\n      shadingEnabled: !1\n    });\n  }\n  destroyExternalResources() {\n    this._vertexMaterial = null, this._vertexOutlineMaterial = null;\n  }\n  forEachExternalMaterial(e) {\n    e(this._vertexMaterial), e(this._vertexOutlineMaterial);\n  }\n}\nconst _ = t();\nfunction m(e, t, r) {\n  return c(e, t, 16, 16, {\n    offset: r\n  });\n}\nexport { d as VerticesVisualElement };","map":{"version":3,"names":["i","e","create","t","a","r","c","fromArray","s","Object3DVisualElement","ElevationContext","l","geometryToRenderInfo","o","CullFaceOptions","n","createSphereGeometry","RenderOccludedFlag","h","ShadedColorMaterial","u","d","constructor","view","_renderOccluded","OccludeAndTransparent","_vertices","_spatialReference","_color","_size","_outlineColor","_outlineSize","_elevationInfo","applyProperties","renderOccluded","_updateMaterial","_updateOutlineMaterial","vertices","recreateGeometry","spatialReference","color","size","outlineColor","outlineSize","elevationInfo","_vertexMaterialParameters","screenSizeScale","isDecoration","_vertexOutlineMaterialParameters","attached","_vertexMaterial","setParameters","_vertexOutlineMaterial","_createRenderGeometries","length","elevationProvider","renderCoordsHelper","fromElevationInfo","numVertices","position","_","m","push","vertexGeometry","vertexOutlineGeometry","createGeometries","addGeometry","createExternalResources","writeDepth","cullFace","Back","screenSizeEnabled","forceTransparentMode","Front","shadingEnabled","destroyExternalResources","forEachExternalMaterial","offset","VerticesVisualElement"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i as e}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as r,c as i}from\"../../../../chunks/vec42.js\";import{fromArray as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as o}from\"../../support/renderInfoUtils/point.js\";import{CullFaceOptions as n}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createSphereGeometry as c}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as h}from\"../../webgl-engine/lib/Material.js\";import{ShadedColorMaterial as u}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";class d extends a{constructor(e){super(e),this.view=null,this._renderOccluded=h.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=s([1,127/255,0,1]),this._size=11,this._outlineColor=s([0,0,0,.5]),this._outlineSize=1,this._elevationInfo=null,this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){r(e,this._color)||(i(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){r(e,this._outlineColor)||(i(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get _vertexMaterialParameters(){return{color:this._color,screenSizeScale:this.size,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}get _vertexOutlineMaterialParameters(){return{color:this._outlineColor,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}_createRenderGeometries(){const t=this.vertices;if(null==t||0===t.length)return[];const r=.5,i=.5,s=o(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),a=[],n=s.numVertices,c=s.position;for(let l=0;l<n;++l){const t=e(_,c[3*l],c[3*l+1],c[3*l+2]),s=m(this._vertexMaterial,r,t),o=m(this._vertexOutlineMaterial,i,t);a.push({vertexGeometry:s,vertexOutlineGeometry:o})}return a}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r),e.addGeometry(i)}createExternalResources(){this._vertexMaterial=new u({...this._vertexMaterialParameters,writeDepth:!0,cullFace:n.Back,screenSizeEnabled:!0}),this._vertexOutlineMaterial=new u({...this._vertexOutlineMaterialParameters,forceTransparentMode:!0,writeDepth:!0,cullFace:n.Front,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}const _=t();function m(e,t,r){return c(e,t,16,16,{offset:r})}export{d as VerticesVisualElement};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}