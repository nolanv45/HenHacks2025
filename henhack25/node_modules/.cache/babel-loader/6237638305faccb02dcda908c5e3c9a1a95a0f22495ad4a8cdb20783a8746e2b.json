{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../core/arrayUtils.js\";\nimport t from \"../../core/Error.js\";\nimport { getReferenceEllipsoidFromWKID as i } from \"../../geometry/ellipsoidUtils.js\";\nimport n from \"../../geometry/Extent.js\";\nimport r from \"../../geometry/Point.js\";\nimport l from \"../../geometry/support/WKIDUnitConversion.js\";\nimport { isAxesOrderReversedForWkid as o } from \"../ogc/crsUtils.js\";\nimport { visitXML as s } from \"../ogc/xmlUtils.js\";\nimport a from \"./LOD.js\";\nimport c from \"./TileInfo.js\";\nconst u = 90.71428571428571;\nfunction p(e) {\n  const i = e.replaceAll(/ows:/gi, \"\");\n  if (!x(\"Contents\", new DOMParser().parseFromString(i, \"text/xml\").documentElement)) throw new t(\"wmtslayer:wmts-capabilities-xml-is-not-valid\", \"the wmts get capabilities response is not compliant\", {\n    text: e\n  });\n}\nfunction f(e, i) {\n  e = e.replaceAll(/ows:/gi, \"\");\n  const n = new DOMParser().parseFromString(e, \"text/xml\").documentElement,\n    r = new Map(),\n    l = new Map(),\n    o = x(\"Contents\", n);\n  if (!o) throw new t(\"wmtslayer:wmts-capabilities-xml-is-not-valid\");\n  const s = x(\"OperationsMetadata\", n),\n    a = s?.querySelector(\"[name='GetTile']\"),\n    c = a?.getElementsByTagName(\"Get\"),\n    u = c && Array.prototype.slice.call(c),\n    p = i.url?.indexOf(\"https\"),\n    f = void 0 !== p && p > -1;\n  let d,\n    m,\n    h = i.serviceMode,\n    T = i?.url;\n  if (u?.length && u.some(e => {\n    const t = x(\"Constraint\", e);\n    return !t || C(\"AllowedValues\", \"Value\", h, t) ? (T = e.attributes[0].nodeValue, !0) : (!t || C(\"AllowedValues\", \"Value\", \"RESTful\", t) || C(\"AllowedValues\", \"Value\", \"REST\", t) ? m = e.attributes[0].nodeValue : t && !C(\"AllowedValues\", \"Value\", \"KVP\", t) || (d = e.attributes[0].nodeValue), !1);\n  }), !T) if (m) T = m, h = \"RESTful\";else if (d) T = d, h = \"KVP\";else {\n    const e = x(\"ServiceMetadataURL\", n);\n    T = e?.getAttribute(\"xlink:href\");\n  }\n  const y = T.indexOf(\"1.0.0/\");\n  -1 === y && \"RESTful\" === h ? T += \"/\" : y > -1 && (T = T.slice(0, y)), \"KVP\" === h && (T += y > -1 ? \"\" : \"?\"), f && (T = T.replace(/^http:/i, \"https:\"));\n  const R = w(\"ServiceIdentification>ServiceTypeVersion\", n),\n    S = w(\"ServiceIdentification>AccessConstraints\", n),\n    A = S && /^none$/i.test(S) ? null : S,\n    V = g(\"Layer\", o),\n    E = g(\"TileMatrixSet\", o),\n    L = V.map(e => {\n      const t = w(\"Identifier\", e);\n      return r.set(t, e), M(t, e, E, f, R);\n    });\n  return {\n    copyright: A,\n    dimensionMap: l,\n    layerMap: r,\n    layers: L,\n    serviceMode: h,\n    tileUrl: T\n  };\n}\nfunction d(e) {\n  return e.layers.forEach(e => {\n    e.tileMatrixSets?.forEach(e => {\n      const t = e.tileInfo;\n      t && 96 !== t.dpi && (t.lods?.forEach(i => {\n        i.scale = 96 * i.scale / t.dpi, i.resolution = j(t.spatialReference?.wkid, i.scale * u / 96, e.id);\n      }), t.dpi = 96);\n    });\n  }), e;\n}\nfunction m(e) {\n  return e.nodeType === Node.ELEMENT_NODE;\n}\nfunction x(e, t) {\n  for (let i = 0; i < t.childNodes.length; i++) {\n    const n = t.childNodes[i];\n    if (m(n) && n.nodeName === e) return n;\n  }\n  return null;\n}\nfunction g(e, t) {\n  const i = [];\n  for (let n = 0; n < t.childNodes.length; n++) {\n    const r = t.childNodes[n];\n    m(r) && r.nodeName === e && i.push(r);\n  }\n  return i;\n}\nfunction h(t, i) {\n  const n = [];\n  for (let e = 0; e < i.childNodes.length; e++) {\n    const r = i.childNodes[e];\n    m(r) && r.nodeName === t && n.push(r);\n  }\n  return n.map(e => e.textContent).filter(e);\n}\nfunction w(e, t) {\n  return e.split(\">\").forEach(e => {\n    t && (t = x(e, t));\n  }), t && t.textContent;\n}\nfunction C(e, t, i, n) {\n  let r;\n  return Array.prototype.slice.call(n.childNodes).some(n => {\n    if (n.nodeName.includes(e)) {\n      const e = x(t, n),\n        l = e?.textContent;\n      if (l === i || i.split(\":\") && i.split(\":\")[1] === l) return r = n, !0;\n    }\n    return !1;\n  }), r;\n}\nfunction M(e, t, i, n, r) {\n  const l = w(\"Abstract\", t),\n    o = h(\"Format\", t);\n  return {\n    id: e,\n    fullExtent: A(t),\n    fullExtents: V(t),\n    description: l,\n    formats: o,\n    styles: E(t, n),\n    title: w(\"Title\", t),\n    tileMatrixSets: L(r, t, i)\n  };\n}\nfunction T(e, t) {\n  const i = [],\n    n = e.layerMap?.get(t);\n  if (!n) return null;\n  const r = g(\"ResourceURL\", n),\n    l = g(\"Dimension\", n);\n  let o, s, a, c;\n  return l.length && (o = w(\"Identifier\", l[0]), s = h(\"Default\", l[0])), l.length > 1 && (a = w(\"Identifier\", l[1]), c = h(\"Default\", l[1])), e.dimensionMap.set(t, {\n    dimensions: s,\n    dimensions2: c\n  }), r.forEach(e => {\n    let t = e.getAttribute(\"template\");\n    if (\"tile\" === e.getAttribute(\"resourceType\")) {\n      if (o && s.length) if (t.includes(\"{\" + o + \"}\")) t = t.replace(\"{\" + o + \"}\", \"{dimensionValue}\");else {\n        const e = t.toLowerCase().indexOf(\"{\" + o.toLowerCase() + \"}\");\n        e > -1 && (t = t.slice(0, e) + \"{dimensionValue}\" + t.slice(e + o.length + 2));\n      }\n      if (a && c.length) if (t.includes(\"{\" + a + \"}\")) t = t.replace(\"{\" + a + \"}\", \"{dimensionValue2}\");else {\n        const e = t.toLowerCase().indexOf(\"{\" + a.toLowerCase() + \"}\");\n        e > -1 && (t = t.slice(0, e) + \"{dimensionValue2}\" + t.slice(e + a.length + 2));\n      }\n      i.push({\n        template: t,\n        format: e.getAttribute(\"format\"),\n        resourceType: \"tile\"\n      });\n    }\n  }), i;\n}\nfunction y(e, t, i, n, r, l, o, s) {\n  const a = R(e, t, n);\n  if (!(a?.length > 0)) return \"\";\n  const {\n      dimensionMap: c\n    } = e,\n    u = c.get(t).dimensions?.[0],\n    p = c.get(t).dimensions2?.[0];\n  return a[o % a.length].template.replaceAll(/\\{Style\\}/gi, r ?? \"\").replaceAll(/\\{TileMatrixSet\\}/gi, i ?? \"\").replaceAll(/\\{TileMatrix\\}/gi, l).replaceAll(/\\{TileRow\\}/gi, \"\" + o).replaceAll(/\\{TileCol\\}/gi, \"\" + s).replaceAll(/\\{dimensionValue\\}/gi, u).replaceAll(/\\{dimensionValue2\\}/gi, p);\n}\nfunction R(e, t, i) {\n  const n = T(e, t),\n    r = n?.filter(e => e.format === i);\n  return (r?.length ? r : n) ?? [];\n}\nfunction S(e, t, i, n) {\n  const {\n      dimensionMap: r\n    } = e,\n    l = T(e, t);\n  let o = \"\";\n  if (l && l.length > 0) {\n    const e = r.get(t).dimensions?.[0],\n      s = r.get(t).dimensions2?.[0];\n    o = l[0].template, o.endsWith(\".xxx\") && (o = o.slice(0, -4)), o = o.replaceAll(/\\{Style\\}/gi, n), o = o.replaceAll(/\\{TileMatrixSet\\}/gi, i), o = o.replaceAll(/\\{TileMatrix\\}/gi, \"{level}\"), o = o.replaceAll(/\\{TileRow\\}/gi, \"{row}\"), o = o.replaceAll(/\\{TileCol\\}/gi, \"{col}\"), o = o.replaceAll(/\\{dimensionValue\\}/gi, e), o = o.replaceAll(/\\{dimensionValue2\\}/gi, s);\n  }\n  return o;\n}\nfunction A(e) {\n  const t = x(\"WGS84BoundingBox\", e),\n    i = t ? w(\"LowerCorner\", t).split(\" \") : [\"-180\", \"-90\"],\n    n = t ? w(\"UpperCorner\", t).split(\" \") : [\"180\", \"90\"];\n  return {\n    xmin: parseFloat(i[0]),\n    ymin: parseFloat(i[1]),\n    xmax: parseFloat(n[0]),\n    ymax: parseFloat(n[1]),\n    spatialReference: {\n      wkid: 4326\n    }\n  };\n}\nfunction V(e) {\n  const t = [];\n  return s(e, {\n    BoundingBox: e => {\n      if (!e.getAttribute(\"crs\")) return;\n      const i = e.getAttribute(\"crs\").toLowerCase(),\n        n = I(i),\n        r = i.includes(\"epsg\") && o(n.wkid);\n      let l, a, c, u;\n      s(e, {\n        LowerCorner: e => {\n          [l, a] = e.textContent.split(\" \").map(e => Number.parseFloat(e)), r && ([l, a] = [a, l]);\n        },\n        UpperCorner: e => {\n          [c, u] = e.textContent.split(\" \").map(e => Number.parseFloat(e)), r && ([c, u] = [u, c]);\n        }\n      }), t.push({\n        xmin: l,\n        ymin: a,\n        xmax: c,\n        ymax: u,\n        spatialReference: n\n      });\n    }\n  }), t;\n}\nfunction E(e, t) {\n  return g(\"Style\", e).map(e => {\n    const i = x(\"LegendURL\", e),\n      n = x(\"Keywords\", e),\n      r = n ? h(\"Keyword\", n) : [];\n    let l = i?.getAttribute(\"xlink:href\");\n    t && (l = l?.replace(/^http:/i, \"https:\"));\n    return {\n      abstract: w(\"Abstract\", e),\n      id: w(\"Identifier\", e),\n      isDefault: \"true\" === e.getAttribute(\"isDefault\"),\n      keywords: r,\n      legendUrl: l,\n      title: w(\"Title\", e)\n    };\n  });\n}\nfunction L(e, t, i) {\n  return g(\"TileMatrixSetLink\", t).map(t => b(e, t, i));\n}\nfunction b(e, t, i) {\n  const n = x(\"TileMatrixSet\", t).textContent,\n    r = h(\"TileMatrix\", t),\n    l = i.find(e => {\n      const t = x(\"Identifier\", e),\n        i = t?.textContent;\n      return !!(i === n || n.split(\":\") && n.split(\":\")[1] === i);\n    }),\n    o = x(\"TileMatrixSetLimits\", t),\n    s = o && g(\"TileMatrixLimits\", o),\n    a = new Map();\n  if (s?.length) for (const c of s) {\n    const e = x(\"TileMatrix\", c).textContent,\n      t = +x(\"MinTileRow\", c).textContent,\n      i = +x(\"MaxTileRow\", c).textContent,\n      n = +x(\"MinTileCol\", c).textContent,\n      r = +x(\"MaxTileCol\", c).textContent;\n    a.set(e, {\n      minCol: n,\n      maxCol: r,\n      minRow: t,\n      maxRow: i\n    });\n  }\n  const u = w(\"SupportedCRS\", l).toLowerCase(),\n    p = N(l, u),\n    f = p.spatialReference,\n    d = x(\"TileMatrix\", l),\n    m = [parseInt(w(\"TileWidth\", d), 10), parseInt(w(\"TileHeight\", d), 10)],\n    M = [];\n  if (r.length) r.forEach((e, t) => {\n    const i = C(\"TileMatrix\", \"Identifier\", e, l);\n    M.push(k(i, u, t, n, a));\n  });else {\n    g(\"TileMatrix\", l).forEach((e, t) => {\n      M.push(k(e, u, t, n, a));\n    });\n  }\n  const T = F(e, l, p, m, M[0]).toJSON(),\n    y = new c({\n      dpi: 96,\n      spatialReference: f,\n      size: m,\n      origin: p,\n      lods: M\n    }).toJSON();\n  return {\n    id: n,\n    fullExtent: T,\n    tileInfo: y\n  };\n}\nfunction I(e) {\n  e = e.toLowerCase();\n  let t = parseInt(e.split(\":\").pop(), 10);\n  900913 !== t && 3857 !== t || (t = 102100);\n  const i = O(e);\n  return null != i && (t = i), {\n    wkid: t\n  };\n}\nfunction N(e, t) {\n  return v(x(\"TileMatrix\", e), t);\n}\nfunction v(e, t) {\n  const i = I(t),\n    [n, l] = w(\"TopLeftCorner\", e).split(\" \").map(e => parseFloat(e)),\n    s = t.includes(\"epsg\") && o(i.wkid);\n  return new r(s ? {\n    x: l,\n    y: n,\n    spatialReference: i\n  } : {\n    x: n,\n    y: l,\n    spatialReference: i\n  });\n}\nfunction F(e, t, i, r, l) {\n  const o = x(\"BoundingBox\", t);\n  let s, a, c, u, p, f;\n  if (o && (s = w(\"LowerCorner\", o).split(\" \"), a = w(\"UpperCorner\", o).split(\" \")), s && s.length > 1 && a && a.length > 1) c = parseFloat(s[0]), p = parseFloat(s[1]), u = parseFloat(a[0]), f = parseFloat(a[1]);else {\n    const e = x(\"TileMatrix\", t),\n      n = parseInt(w(\"MatrixWidth\", e), 10),\n      o = parseInt(w(\"MatrixHeight\", e), 10);\n    c = i.x, f = i.y, u = c + n * r[0] * l.resolution, p = f - o * r[1] * l.resolution;\n  }\n  return U(e, i.spatialReference, i) ? new n(p, c, f, u, i.spatialReference) : new n(c, p, u, f, i.spatialReference);\n}\nfunction U(e, t, i) {\n  return \"1.0.0\" === e && o(t.wkid) && !(i.spatialReference.isGeographic && i.x < -90 && i.y >= -90);\n}\nvar D;\nfunction O(e) {\n  return e.includes(\"crs84\") || e.includes(\"crs:84\") ? D.CRS84 : e.includes(\"crs83\") || e.includes(\"crs:83\") ? D.CRS83 : e.includes(\"crs27\") || e.includes(\"crs:27\") ? D.CRS27 : null;\n}\nfunction k(e, t, i, n, r) {\n  const l = I(t),\n    o = w(\"Identifier\", e);\n  let s = parseFloat(w(\"ScaleDenominator\", e));\n  const c = j(l.wkid, s, n);\n  s *= 96 / u;\n  const p = +w(\"MatrixWidth\", e),\n    f = +w(\"MatrixHeight\", e),\n    {\n      maxCol: d = p - 1,\n      maxRow: m = f - 1,\n      minCol: x = 0,\n      minRow: g = 0\n    } = r.get(o) ?? {},\n    {\n      x: h,\n      y: C\n    } = v(e, t);\n  return new a({\n    cols: [x, d],\n    level: i,\n    levelValue: o,\n    origin: [h, C],\n    scale: s,\n    resolution: c,\n    rows: [g, m]\n  });\n}\nfunction j(e, t, n) {\n  let r;\n  return r = l.hasOwnProperty(\"\" + e) ? l.values[l[e]] : \"default028mm\" === n ? 6370997 * Math.PI / 180 : i(e).metersPerDegree, 7 * t / 25e3 / r;\n}\n!function (e) {\n  e[e.CRS84 = 4326] = \"CRS84\", e[e.CRS83 = 4269] = \"CRS83\", e[e.CRS27 = 4267] = \"CRS27\";\n}(D || (D = {}));\nexport { y as getTileUrlFromResourceUrls, S as getTileUrlTemplateFromResourceUrls, R as getTileUrlTemplates, f as parseCapabilities, d as parseResourceInfo, p as validateCapabilities };","map":{"version":3,"names":["isSome","e","t","getReferenceEllipsoidFromWKID","i","n","r","l","isAxesOrderReversedForWkid","o","visitXML","s","a","c","u","p","replaceAll","x","DOMParser","parseFromString","documentElement","text","f","Map","querySelector","getElementsByTagName","Array","prototype","slice","call","url","indexOf","d","m","h","serviceMode","T","length","some","C","attributes","nodeValue","getAttribute","y","replace","R","w","S","A","test","V","g","E","L","map","set","M","copyright","dimensionMap","layerMap","layers","tileUrl","forEach","tileMatrixSets","tileInfo","dpi","lods","scale","resolution","j","spatialReference","wkid","id","nodeType","Node","ELEMENT_NODE","childNodes","nodeName","push","textContent","filter","split","includes","fullExtent","fullExtents","description","formats","styles","title","get","dimensions","dimensions2","toLowerCase","template","format","resourceType","endsWith","xmin","parseFloat","ymin","xmax","ymax","BoundingBox","I","LowerCorner","Number","UpperCorner","abstract","isDefault","keywords","legendUrl","b","find","minCol","maxCol","minRow","maxRow","N","parseInt","k","F","toJSON","size","origin","pop","O","v","U","isGeographic","D","CRS84","CRS83","CRS27","cols","level","levelValue","rows","hasOwnProperty","values","Math","PI","metersPerDegree","getTileUrlFromResourceUrls","getTileUrlTemplateFromResourceUrls","getTileUrlTemplates","parseCapabilities","parseResourceInfo","validateCapabilities"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/wmtsUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/arrayUtils.js\";import t from\"../../core/Error.js\";import{getReferenceEllipsoidFromWKID as i}from\"../../geometry/ellipsoidUtils.js\";import n from\"../../geometry/Extent.js\";import r from\"../../geometry/Point.js\";import l from\"../../geometry/support/WKIDUnitConversion.js\";import{isAxesOrderReversedForWkid as o}from\"../ogc/crsUtils.js\";import{visitXML as s}from\"../ogc/xmlUtils.js\";import a from\"./LOD.js\";import c from\"./TileInfo.js\";const u=90.71428571428571;function p(e){const i=e.replaceAll(/ows:/gi,\"\");if(!x(\"Contents\",(new DOMParser).parseFromString(i,\"text/xml\").documentElement))throw new t(\"wmtslayer:wmts-capabilities-xml-is-not-valid\",\"the wmts get capabilities response is not compliant\",{text:e})}function f(e,i){e=e.replaceAll(/ows:/gi,\"\");const n=(new DOMParser).parseFromString(e,\"text/xml\").documentElement,r=new Map,l=new Map,o=x(\"Contents\",n);if(!o)throw new t(\"wmtslayer:wmts-capabilities-xml-is-not-valid\");const s=x(\"OperationsMetadata\",n),a=s?.querySelector(\"[name='GetTile']\"),c=a?.getElementsByTagName(\"Get\"),u=c&&Array.prototype.slice.call(c),p=i.url?.indexOf(\"https\"),f=void 0!==p&&p>-1;let d,m,h=i.serviceMode,T=i?.url;if(u?.length&&u.some((e=>{const t=x(\"Constraint\",e);return!t||C(\"AllowedValues\",\"Value\",h,t)?(T=e.attributes[0].nodeValue,!0):(!t||C(\"AllowedValues\",\"Value\",\"RESTful\",t)||C(\"AllowedValues\",\"Value\",\"REST\",t)?m=e.attributes[0].nodeValue:t&&!C(\"AllowedValues\",\"Value\",\"KVP\",t)||(d=e.attributes[0].nodeValue),!1)})),!T)if(m)T=m,h=\"RESTful\";else if(d)T=d,h=\"KVP\";else{const e=x(\"ServiceMetadataURL\",n);T=e?.getAttribute(\"xlink:href\")}const y=T.indexOf(\"1.0.0/\");-1===y&&\"RESTful\"===h?T+=\"/\":y>-1&&(T=T.slice(0,y)),\"KVP\"===h&&(T+=y>-1?\"\":\"?\"),f&&(T=T.replace(/^http:/i,\"https:\"));const R=w(\"ServiceIdentification>ServiceTypeVersion\",n),S=w(\"ServiceIdentification>AccessConstraints\",n),A=S&&/^none$/i.test(S)?null:S,V=g(\"Layer\",o),E=g(\"TileMatrixSet\",o),L=V.map((e=>{const t=w(\"Identifier\",e);return r.set(t,e),M(t,e,E,f,R)}));return{copyright:A,dimensionMap:l,layerMap:r,layers:L,serviceMode:h,tileUrl:T}}function d(e){return e.layers.forEach((e=>{e.tileMatrixSets?.forEach((e=>{const t=e.tileInfo;t&&96!==t.dpi&&(t.lods?.forEach((i=>{i.scale=96*i.scale/t.dpi,i.resolution=j(t.spatialReference?.wkid,i.scale*u/96,e.id)})),t.dpi=96)}))})),e}function m(e){return e.nodeType===Node.ELEMENT_NODE}function x(e,t){for(let i=0;i<t.childNodes.length;i++){const n=t.childNodes[i];if(m(n)&&n.nodeName===e)return n}return null}function g(e,t){const i=[];for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n];m(r)&&r.nodeName===e&&i.push(r)}return i}function h(t,i){const n=[];for(let e=0;e<i.childNodes.length;e++){const r=i.childNodes[e];m(r)&&r.nodeName===t&&n.push(r)}return n.map((e=>e.textContent)).filter(e)}function w(e,t){return e.split(\">\").forEach((e=>{t&&(t=x(e,t))})),t&&t.textContent}function C(e,t,i,n){let r;return Array.prototype.slice.call(n.childNodes).some((n=>{if(n.nodeName.includes(e)){const e=x(t,n),l=e?.textContent;if(l===i||i.split(\":\")&&i.split(\":\")[1]===l)return r=n,!0}return!1})),r}function M(e,t,i,n,r){const l=w(\"Abstract\",t),o=h(\"Format\",t);return{id:e,fullExtent:A(t),fullExtents:V(t),description:l,formats:o,styles:E(t,n),title:w(\"Title\",t),tileMatrixSets:L(r,t,i)}}function T(e,t){const i=[],n=e.layerMap?.get(t);if(!n)return null;const r=g(\"ResourceURL\",n),l=g(\"Dimension\",n);let o,s,a,c;return l.length&&(o=w(\"Identifier\",l[0]),s=h(\"Default\",l[0])),l.length>1&&(a=w(\"Identifier\",l[1]),c=h(\"Default\",l[1])),e.dimensionMap.set(t,{dimensions:s,dimensions2:c}),r.forEach((e=>{let t=e.getAttribute(\"template\");if(\"tile\"===e.getAttribute(\"resourceType\")){if(o&&s.length)if(t.includes(\"{\"+o+\"}\"))t=t.replace(\"{\"+o+\"}\",\"{dimensionValue}\");else{const e=t.toLowerCase().indexOf(\"{\"+o.toLowerCase()+\"}\");e>-1&&(t=t.slice(0,e)+\"{dimensionValue}\"+t.slice(e+o.length+2))}if(a&&c.length)if(t.includes(\"{\"+a+\"}\"))t=t.replace(\"{\"+a+\"}\",\"{dimensionValue2}\");else{const e=t.toLowerCase().indexOf(\"{\"+a.toLowerCase()+\"}\");e>-1&&(t=t.slice(0,e)+\"{dimensionValue2}\"+t.slice(e+a.length+2))}i.push({template:t,format:e.getAttribute(\"format\"),resourceType:\"tile\"})}})),i}function y(e,t,i,n,r,l,o,s){const a=R(e,t,n);if(!(a?.length>0))return\"\";const{dimensionMap:c}=e,u=c.get(t).dimensions?.[0],p=c.get(t).dimensions2?.[0];return a[o%a.length].template.replaceAll(/\\{Style\\}/gi,r??\"\").replaceAll(/\\{TileMatrixSet\\}/gi,i??\"\").replaceAll(/\\{TileMatrix\\}/gi,l).replaceAll(/\\{TileRow\\}/gi,\"\"+o).replaceAll(/\\{TileCol\\}/gi,\"\"+s).replaceAll(/\\{dimensionValue\\}/gi,u).replaceAll(/\\{dimensionValue2\\}/gi,p)}function R(e,t,i){const n=T(e,t),r=n?.filter((e=>e.format===i));return(r?.length?r:n)??[]}function S(e,t,i,n){const{dimensionMap:r}=e,l=T(e,t);let o=\"\";if(l&&l.length>0){const e=r.get(t).dimensions?.[0],s=r.get(t).dimensions2?.[0];o=l[0].template,o.endsWith(\".xxx\")&&(o=o.slice(0,-4)),o=o.replaceAll(/\\{Style\\}/gi,n),o=o.replaceAll(/\\{TileMatrixSet\\}/gi,i),o=o.replaceAll(/\\{TileMatrix\\}/gi,\"{level}\"),o=o.replaceAll(/\\{TileRow\\}/gi,\"{row}\"),o=o.replaceAll(/\\{TileCol\\}/gi,\"{col}\"),o=o.replaceAll(/\\{dimensionValue\\}/gi,e),o=o.replaceAll(/\\{dimensionValue2\\}/gi,s)}return o}function A(e){const t=x(\"WGS84BoundingBox\",e),i=t?w(\"LowerCorner\",t).split(\" \"):[\"-180\",\"-90\"],n=t?w(\"UpperCorner\",t).split(\" \"):[\"180\",\"90\"];return{xmin:parseFloat(i[0]),ymin:parseFloat(i[1]),xmax:parseFloat(n[0]),ymax:parseFloat(n[1]),spatialReference:{wkid:4326}}}function V(e){const t=[];return s(e,{BoundingBox:e=>{if(!e.getAttribute(\"crs\"))return;const i=e.getAttribute(\"crs\").toLowerCase(),n=I(i),r=i.includes(\"epsg\")&&o(n.wkid);let l,a,c,u;s(e,{LowerCorner:e=>{[l,a]=e.textContent.split(\" \").map((e=>Number.parseFloat(e))),r&&([l,a]=[a,l])},UpperCorner:e=>{[c,u]=e.textContent.split(\" \").map((e=>Number.parseFloat(e))),r&&([c,u]=[u,c])}}),t.push({xmin:l,ymin:a,xmax:c,ymax:u,spatialReference:n})}}),t}function E(e,t){return g(\"Style\",e).map((e=>{const i=x(\"LegendURL\",e),n=x(\"Keywords\",e),r=n?h(\"Keyword\",n):[];let l=i?.getAttribute(\"xlink:href\");t&&(l=l?.replace(/^http:/i,\"https:\"));return{abstract:w(\"Abstract\",e),id:w(\"Identifier\",e),isDefault:\"true\"===e.getAttribute(\"isDefault\"),keywords:r,legendUrl:l,title:w(\"Title\",e)}}))}function L(e,t,i){return g(\"TileMatrixSetLink\",t).map((t=>b(e,t,i)))}function b(e,t,i){const n=x(\"TileMatrixSet\",t).textContent,r=h(\"TileMatrix\",t),l=i.find((e=>{const t=x(\"Identifier\",e),i=t?.textContent;return!!(i===n||n.split(\":\")&&n.split(\":\")[1]===i)})),o=x(\"TileMatrixSetLimits\",t),s=o&&g(\"TileMatrixLimits\",o),a=new Map;if(s?.length)for(const c of s){const e=x(\"TileMatrix\",c).textContent,t=+x(\"MinTileRow\",c).textContent,i=+x(\"MaxTileRow\",c).textContent,n=+x(\"MinTileCol\",c).textContent,r=+x(\"MaxTileCol\",c).textContent;a.set(e,{minCol:n,maxCol:r,minRow:t,maxRow:i})}const u=w(\"SupportedCRS\",l).toLowerCase(),p=N(l,u),f=p.spatialReference,d=x(\"TileMatrix\",l),m=[parseInt(w(\"TileWidth\",d),10),parseInt(w(\"TileHeight\",d),10)],M=[];if(r.length)r.forEach(((e,t)=>{const i=C(\"TileMatrix\",\"Identifier\",e,l);M.push(k(i,u,t,n,a))}));else{g(\"TileMatrix\",l).forEach(((e,t)=>{M.push(k(e,u,t,n,a))}))}const T=F(e,l,p,m,M[0]).toJSON(),y=new c({dpi:96,spatialReference:f,size:m,origin:p,lods:M}).toJSON();return{id:n,fullExtent:T,tileInfo:y}}function I(e){e=e.toLowerCase();let t=parseInt(e.split(\":\").pop(),10);900913!==t&&3857!==t||(t=102100);const i=O(e);return null!=i&&(t=i),{wkid:t}}function N(e,t){return v(x(\"TileMatrix\",e),t)}function v(e,t){const i=I(t),[n,l]=w(\"TopLeftCorner\",e).split(\" \").map((e=>parseFloat(e))),s=t.includes(\"epsg\")&&o(i.wkid);return new r(s?{x:l,y:n,spatialReference:i}:{x:n,y:l,spatialReference:i})}function F(e,t,i,r,l){const o=x(\"BoundingBox\",t);let s,a,c,u,p,f;if(o&&(s=w(\"LowerCorner\",o).split(\" \"),a=w(\"UpperCorner\",o).split(\" \")),s&&s.length>1&&a&&a.length>1)c=parseFloat(s[0]),p=parseFloat(s[1]),u=parseFloat(a[0]),f=parseFloat(a[1]);else{const e=x(\"TileMatrix\",t),n=parseInt(w(\"MatrixWidth\",e),10),o=parseInt(w(\"MatrixHeight\",e),10);c=i.x,f=i.y,u=c+n*r[0]*l.resolution,p=f-o*r[1]*l.resolution}return U(e,i.spatialReference,i)?new n(p,c,f,u,i.spatialReference):new n(c,p,u,f,i.spatialReference)}function U(e,t,i){return\"1.0.0\"===e&&o(t.wkid)&&!(i.spatialReference.isGeographic&&i.x<-90&&i.y>=-90)}var D;function O(e){return e.includes(\"crs84\")||e.includes(\"crs:84\")?D.CRS84:e.includes(\"crs83\")||e.includes(\"crs:83\")?D.CRS83:e.includes(\"crs27\")||e.includes(\"crs:27\")?D.CRS27:null}function k(e,t,i,n,r){const l=I(t),o=w(\"Identifier\",e);let s=parseFloat(w(\"ScaleDenominator\",e));const c=j(l.wkid,s,n);s*=96/u;const p=+w(\"MatrixWidth\",e),f=+w(\"MatrixHeight\",e),{maxCol:d=p-1,maxRow:m=f-1,minCol:x=0,minRow:g=0}=r.get(o)??{},{x:h,y:C}=v(e,t);return new a({cols:[x,d],level:i,levelValue:o,origin:[h,C],scale:s,resolution:c,rows:[g,m]})}function j(e,t,n){let r;return r=l.hasOwnProperty(\"\"+e)?l.values[l[e]]:\"default028mm\"===n?6370997*Math.PI/180:i(e).metersPerDegree,7*t/25e3/r}!function(e){e[e.CRS84=4326]=\"CRS84\",e[e.CRS83=4269]=\"CRS83\",e[e.CRS27=4267]=\"CRS27\"}(D||(D={}));export{y as getTileUrlFromResourceUrls,S as getTileUrlTemplateFromResourceUrls,R as getTileUrlTemplates,f as parseCapabilities,d as parseResourceInfo,p as validateCapabilities};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}