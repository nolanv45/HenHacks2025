{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../../../core/Accessor.js\";\nimport { equals as r } from \"../../../../../../core/arrayUtils.js\";\nimport { watch as i, initial as s } from \"../../../../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../../core/has.js\";\nimport \"../../../../../../core/Logger.js\";\nimport { subclass as n } from \"../../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { TileKey as l } from \"../../../../../../layers/support/TileKey.js\";\nimport { distanceToTile as p } from \"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";\nlet a = class extends t {\n  get _sortedTilesCoveringView() {\n    const e = (this.view.featureTiles?.tiles?.toArray() ?? []).map(c),\n      t = this._effectivePointOfInterest;\n    return null != t && e.sort((e, r) => p(t, e) - p(t, r)), e;\n  }\n  get tileInfo() {\n    return this.view.featureTiles?.tilingScheme?.toTileInfo() ?? null;\n  }\n  get tileSize() {\n    return this.view.featureTiles?.tileSize ?? 256;\n  }\n  get _effectivePointOfInterest() {\n    const e = this.pointOfInterest;\n    return null != e ? e : this.view.pointsOfInterest?.focus.location;\n  }\n  constructor(e) {\n    super(e), this.tiles = [], this.pointOfInterest = null;\n  }\n  initialize() {\n    this.addHandles([i(() => this.view.featureTiles, e => {\n      this.removeHandles(u), e && this.addHandles(e.addClient(), u);\n    }, s), i(() => this._sortedTilesCoveringView, e => this._set(\"tiles\", e), {\n      initial: !0,\n      equals: (e, t) => r(e, t, (e, t) => e.id === t.id)\n    })]);\n  }\n};\nfunction c(_ref) {\n  let {\n    lij: [e, t, r],\n    extent: i\n  } = _ref;\n  return new l(`${e}/${t}/${r}`, e, t, r, i);\n}\ne([o({\n  readOnly: !0\n})], a.prototype, \"tiles\", void 0), e([o({\n  readOnly: !0\n})], a.prototype, \"_sortedTilesCoveringView\", null), e([o({\n  readOnly: !0\n})], a.prototype, \"tileInfo\", null), e([o({\n  readOnly: !0\n})], a.prototype, \"tileSize\", null), e([o({\n  constructOnly: !0\n})], a.prototype, \"view\", void 0), e([o()], a.prototype, \"pointOfInterest\", void 0), e([o()], a.prototype, \"_effectivePointOfInterest\", null), a = e([n(\"esri.views.3d.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D\")], a);\nconst u = \"feature-tiles\";\nexport { a as FeatureServiceTiles3D };","map":{"version":3,"names":["_","e","t","equals","r","watch","i","initial","s","property","o","subclass","n","TileKey","l","distanceToTile","p","a","_sortedTilesCoveringView","view","featureTiles","tiles","toArray","map","c","_effectivePointOfInterest","sort","tileInfo","tilingScheme","toTileInfo","tileSize","pointOfInterest","pointsOfInterest","focus","location","constructor","initialize","addHandles","removeHandles","u","addClient","_set","id","_ref","lij","extent","readOnly","prototype","constructOnly","FeatureServiceTiles3D"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import t from\"../../../../../../core/Accessor.js\";import{equals as r}from\"../../../../../../core/arrayUtils.js\";import{watch as i,initial as s}from\"../../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/has.js\";import\"../../../../../../core/Logger.js\";import{subclass as n}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{TileKey as l}from\"../../../../../../layers/support/TileKey.js\";import{distanceToTile as p}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";let a=class extends t{get _sortedTilesCoveringView(){const e=(this.view.featureTiles?.tiles?.toArray()??[]).map(c),t=this._effectivePointOfInterest;return null!=t&&e.sort(((e,r)=>p(t,e)-p(t,r))),e}get tileInfo(){return this.view.featureTiles?.tilingScheme?.toTileInfo()??null}get tileSize(){return this.view.featureTiles?.tileSize??256}get _effectivePointOfInterest(){const e=this.pointOfInterest;return null!=e?e:this.view.pointsOfInterest?.focus.location}constructor(e){super(e),this.tiles=[],this.pointOfInterest=null}initialize(){this.addHandles([i((()=>this.view.featureTiles),(e=>{this.removeHandles(u),e&&this.addHandles(e.addClient(),u)}),s),i((()=>this._sortedTilesCoveringView),(e=>this._set(\"tiles\",e)),{initial:!0,equals:(e,t)=>r(e,t,((e,t)=>e.id===t.id))})])}};function c({lij:[e,t,r],extent:i}){return new l(`${e}/${t}/${r}`,e,t,r,i)}e([o({readOnly:!0})],a.prototype,\"tiles\",void 0),e([o({readOnly:!0})],a.prototype,\"_sortedTilesCoveringView\",null),e([o({readOnly:!0})],a.prototype,\"tileInfo\",null),e([o({readOnly:!0})],a.prototype,\"tileSize\",null),e([o({constructOnly:!0})],a.prototype,\"view\",void 0),e([o()],a.prototype,\"pointOfInterest\",void 0),e([o()],a.prototype,\"_effectivePointOfInterest\",null),a=e([n(\"esri.views.3d.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D\")],a);const u=\"feature-tiles\";export{a as FeatureServiceTiles3D};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}