{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { safeToString as e } from \"../../../../core/string.js\";\nimport { fromValues as t } from \"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";\nimport { fromValues as r } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { newLayout as i } from \"../../support/buffer/InterleavedLayout.js\";\nimport { isColorOrColorEmission as s } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport n from \"../lib/GLMaterial.js\";\nimport { Material as o, MaterialParameters as a } from \"../lib/Material.js\";\nimport { RenderSlot as c } from \"../lib/RenderSlot.js\";\nimport { VertexAttribute as l } from \"../lib/VertexAttribute.js\";\nimport { writePosition as f, writeNormal as h, writeBufferVec4 as u } from \"./internal/bufferWriterUtils.js\";\nimport { LineCalloutTechnique as p } from \"../shaders/LineCalloutTechnique.js\";\nimport { LineCalloutTechniqueConfiguration as m } from \"../shaders/LineCalloutTechniqueConfiguration.js\";\nimport { alphaCutoff as g } from \"../../../../webscene/support/AlphaCutoff.js\";\nclass d extends o {\n  constructor(e, t) {\n    super(e, T), this.produces = new Map([[c.LINE_CALLOUTS, e => s(e)], [c.LINE_CALLOUTS_HUD_DEPTH, e => s(e)]]), this._configuration = new m(t), this._uniqueMaterialIdentifier = O(this.parameters);\n  }\n  passParameters() {\n    return this.parameters;\n  }\n  getConfiguration(e, t) {\n    const r = t.slot === c.LINE_CALLOUTS_HUD_DEPTH;\n    return this._configuration.occlusionTestEnabled = this.parameters.occlusionTest, this._configuration.hasVerticalOffset = null != this.parameters.verticalOffset, this._configuration.hasScreenSizePerspective = null != this.parameters.screenSizePerspective, this._configuration.hudDepth = r, this._configuration.hudDepthAlignStart = !!this.parameters.hudDepthAlignStart, this._configuration.screenCenterOffsetUnitsEnabled = \"screen\" === this.parameters.centerOffsetUnits, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.terrainDepthTest = t.terrainDepthTest, this._configuration;\n  }\n  get visible() {\n    return this.parameters.color[3] >= g || (this.parameters.borderColor?.[3] ?? 0) >= g;\n  }\n  intersect() {}\n  createGLMaterial(e) {\n    return new S(e);\n  }\n  createBufferWriter() {\n    return new b();\n  }\n  validateParameters(e) {\n    this._uniqueMaterialIdentifier = O(e);\n  }\n  get uniqueMaterialIdentifier() {\n    return this._uniqueMaterialIdentifier;\n  }\n}\nfunction O(_ref) {\n  let {\n    renderOccluded: t,\n    isDecoration: r,\n    horizontalScreenOffset: i,\n    color: s,\n    size: n,\n    occlusionTest: o,\n    shaderPolygonOffset: a,\n    hudDepthAlignStart: c,\n    centerOffsetUnits: l,\n    hasSlicePlane: f,\n    screenSizePerspective: h,\n    verticalOffset: u,\n    borderColor: p\n  } = _ref;\n  return e`${t}:${r}:${i}:[${s}]:${n}:${o}:${a}:${c}:${l}:${f}:${null != h}:{${u.screenLength}:${u.minWorldLength}:${u.maxWorldLength}}:[${p}]`;\n}\nclass S extends n {\n  beginSlot(e) {\n    return this.getTechnique(p, e);\n  }\n}\nclass T extends a {\n  constructor() {\n    super(...arguments), this.horizontalScreenOffset = 0, this.color = r(0, 0, 0, 1), this.size = 1, this.occlusionTest = !1, this.shaderPolygonOffset = 1e-5, this.hudDepthAlignStart = !1, this.centerOffsetUnits = \"world\", this.hasSlicePlane = !1;\n  }\n}\nconst L = i().vec3f(l.POSITION).vec3f(l.NORMAL).vec2f(l.UV0).vec4f(l.CENTEROFFSETANDDISTANCE),\n  _ = [t(0, 0), t(1, 0), t(0, 1), t(1, 0), t(1, 1), t(0, 1)];\nclass b {\n  constructor() {\n    this.vertexBufferLayout = L;\n  }\n  elementCount(e) {\n    return 6 * e.get(l.POSITION).indices.length;\n  }\n  write(e, t, r, i, s, n) {\n    f(r.get(l.POSITION), e, s.position, n, 6), h(r.get(l.NORMAL), t, s.normal, n, 6), u(r.get(l.CENTEROFFSETANDDISTANCE), s.centerOffsetAndDistance, n, 6);\n    for (let o = 0; o < _.length; ++o) s.uv0.setVec(n + o, _[o]);\n  }\n}\nexport { d as LineCalloutMaterial, T as Parameters, O as uniqueMaterialIdentifier };","map":{"version":3,"names":["safeToString","e","fromValues","t","r","newLayout","i","isColorOrColorEmission","s","n","Material","o","MaterialParameters","a","RenderSlot","c","VertexAttribute","l","writePosition","f","writeNormal","h","writeBufferVec4","u","LineCalloutTechnique","p","LineCalloutTechniqueConfiguration","m","alphaCutoff","g","d","constructor","T","produces","Map","LINE_CALLOUTS","LINE_CALLOUTS_HUD_DEPTH","_configuration","_uniqueMaterialIdentifier","O","parameters","passParameters","getConfiguration","slot","occlusionTestEnabled","occlusionTest","hasVerticalOffset","verticalOffset","hasScreenSizePerspective","screenSizePerspective","hudDepth","hudDepthAlignStart","screenCenterOffsetUnitsEnabled","centerOffsetUnits","hasSlicePlane","terrainDepthTest","visible","color","borderColor","intersect","createGLMaterial","S","createBufferWriter","b","validateParameters","uniqueMaterialIdentifier","_ref","renderOccluded","isDecoration","horizontalScreenOffset","size","shaderPolygonOffset","screenLength","minWorldLength","maxWorldLength","beginSlot","getTechnique","arguments","L","vec3f","POSITION","NORMAL","vec2f","UV0","vec4f","CENTEROFFSETANDDISTANCE","_","vertexBufferLayout","elementCount","get","indices","length","write","position","normal","centerOffsetAndDistance","uv0","setVec","LineCalloutMaterial","Parameters"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineCalloutMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{safeToString as e}from\"../../../../core/string.js\";import{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as i}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as s}from\"../core/shaderLibrary/ShaderOutput.js\";import n from\"../lib/GLMaterial.js\";import{Material as o,MaterialParameters as a}from\"../lib/Material.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{writePosition as f,writeNormal as h,writeBufferVec4 as u}from\"./internal/bufferWriterUtils.js\";import{LineCalloutTechnique as p}from\"../shaders/LineCalloutTechnique.js\";import{LineCalloutTechniqueConfiguration as m}from\"../shaders/LineCalloutTechniqueConfiguration.js\";import{alphaCutoff as g}from\"../../../../webscene/support/AlphaCutoff.js\";class d extends o{constructor(e,t){super(e,T),this.produces=new Map([[c.LINE_CALLOUTS,e=>s(e)],[c.LINE_CALLOUTS_HUD_DEPTH,e=>s(e)]]),this._configuration=new m(t),this._uniqueMaterialIdentifier=O(this.parameters)}passParameters(){return this.parameters}getConfiguration(e,t){const r=t.slot===c.LINE_CALLOUTS_HUD_DEPTH;return this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.hasVerticalOffset=null!=this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective,this._configuration.hudDepth=r,this._configuration.hudDepthAlignStart=!!this.parameters.hudDepthAlignStart,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration}get visible(){return this.parameters.color[3]>=g||(this.parameters.borderColor?.[3]??0)>=g}intersect(){}createGLMaterial(e){return new S(e)}createBufferWriter(){return new b}validateParameters(e){this._uniqueMaterialIdentifier=O(e)}get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}}function O({renderOccluded:t,isDecoration:r,horizontalScreenOffset:i,color:s,size:n,occlusionTest:o,shaderPolygonOffset:a,hudDepthAlignStart:c,centerOffsetUnits:l,hasSlicePlane:f,screenSizePerspective:h,verticalOffset:u,borderColor:p}){return e`${t}:${r}:${i}:[${s}]:${n}:${o}:${a}:${c}:${l}:${f}:${null!=h}:{${u.screenLength}:${u.minWorldLength}:${u.maxWorldLength}}:[${p}]`}class S extends n{beginSlot(e){return this.getTechnique(p,e)}}class T extends a{constructor(){super(...arguments),this.horizontalScreenOffset=0,this.color=r(0,0,0,1),this.size=1,this.occlusionTest=!1,this.shaderPolygonOffset=1e-5,this.hudDepthAlignStart=!1,this.centerOffsetUnits=\"world\",this.hasSlicePlane=!1}}const L=i().vec3f(l.POSITION).vec3f(l.NORMAL).vec2f(l.UV0).vec4f(l.CENTEROFFSETANDDISTANCE),_=[t(0,0),t(1,0),t(0,1),t(1,0),t(1,1),t(0,1)];class b{constructor(){this.vertexBufferLayout=L}elementCount(e){return 6*e.get(l.POSITION).indices.length}write(e,t,r,i,s,n){f(r.get(l.POSITION),e,s.position,n,6),h(r.get(l.NORMAL),t,s.normal,n,6),u(r.get(l.CENTEROFFSETANDDISTANCE),s.centerOffsetAndDistance,n,6);for(let o=0;o<_.length;++o)s.uv0.setVec(n+o,_[o])}}export{d as LineCalloutMaterial,T as Parameters,O as uniqueMaterialIdentifier};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,wDAAwD;AAAC,SAAOD,UAAU,IAAIE,CAAC,QAAK,wDAAwD;AAAC,SAAOC,SAAS,IAAIC,CAAC,QAAK,2CAA2C;AAAC,SAAOC,sBAAsB,IAAIC,CAAC,QAAK,uCAAuC;AAAC,OAAOC,CAAC,MAAK,sBAAsB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,EAACC,kBAAkB,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,2BAA2B;AAAC,SAAOC,aAAa,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,eAAe,IAAIC,CAAC,QAAK,iCAAiC;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,oCAAoC;AAAC,SAAOC,iCAAiC,IAAIC,CAAC,QAAK,iDAAiD;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,6CAA6C;AAAC,MAAMC,CAAC,SAASnB,CAAC;EAACoB,WAAWA,CAAC9B,CAAC,EAACE,CAAC,EAAC;IAAC,KAAK,CAACF,CAAC,EAAC+B,CAAC,CAAC,EAAC,IAAI,CAACC,QAAQ,GAAC,IAAIC,GAAG,CAAC,CAAC,CAACnB,CAAC,CAACoB,aAAa,EAAClC,CAAC,IAAEO,CAAC,CAACP,CAAC,CAAC,CAAC,EAAC,CAACc,CAAC,CAACqB,uBAAuB,EAACnC,CAAC,IAAEO,CAAC,CAACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACoC,cAAc,GAAC,IAAIV,CAAC,CAACxB,CAAC,CAAC,EAAC,IAAI,CAACmC,yBAAyB,GAACC,CAAC,CAAC,IAAI,CAACC,UAAU,CAAC;EAAA;EAACC,cAAcA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACD,UAAU;EAAA;EAACE,gBAAgBA,CAACzC,CAAC,EAACE,CAAC,EAAC;IAAC,MAAMC,CAAC,GAACD,CAAC,CAACwC,IAAI,KAAG5B,CAAC,CAACqB,uBAAuB;IAAC,OAAO,IAAI,CAACC,cAAc,CAACO,oBAAoB,GAAC,IAAI,CAACJ,UAAU,CAACK,aAAa,EAAC,IAAI,CAACR,cAAc,CAACS,iBAAiB,GAAC,IAAI,IAAE,IAAI,CAACN,UAAU,CAACO,cAAc,EAAC,IAAI,CAACV,cAAc,CAACW,wBAAwB,GAAC,IAAI,IAAE,IAAI,CAACR,UAAU,CAACS,qBAAqB,EAAC,IAAI,CAACZ,cAAc,CAACa,QAAQ,GAAC9C,CAAC,EAAC,IAAI,CAACiC,cAAc,CAACc,kBAAkB,GAAC,CAAC,CAAC,IAAI,CAACX,UAAU,CAACW,kBAAkB,EAAC,IAAI,CAACd,cAAc,CAACe,8BAA8B,GAAC,QAAQ,KAAG,IAAI,CAACZ,UAAU,CAACa,iBAAiB,EAAC,IAAI,CAAChB,cAAc,CAACiB,aAAa,GAAC,IAAI,CAACd,UAAU,CAACc,aAAa,EAAC,IAAI,CAACjB,cAAc,CAACkB,gBAAgB,GAACpD,CAAC,CAACoD,gBAAgB,EAAC,IAAI,CAAClB,cAAc;EAAA;EAAC,IAAImB,OAAOA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAChB,UAAU,CAACiB,KAAK,CAAC,CAAC,CAAC,IAAE5B,CAAC,IAAE,CAAC,IAAI,CAACW,UAAU,CAACkB,WAAW,GAAG,CAAC,CAAC,IAAE,CAAC,KAAG7B,CAAC;EAAA;EAAC8B,SAASA,CAAA,EAAE,CAAC;EAACC,gBAAgBA,CAAC3D,CAAC,EAAC;IAAC,OAAO,IAAI4D,CAAC,CAAC5D,CAAC,CAAC;EAAA;EAAC6D,kBAAkBA,CAAA,EAAE;IAAC,OAAO,IAAIC,CAAC,CAAD,CAAC;EAAA;EAACC,kBAAkBA,CAAC/D,CAAC,EAAC;IAAC,IAAI,CAACqC,yBAAyB,GAACC,CAAC,CAACtC,CAAC,CAAC;EAAA;EAAC,IAAIgE,wBAAwBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAC3B,yBAAyB;EAAA;AAAC;AAAC,SAASC,CAACA,CAAA2B,IAAA,EAAiO;EAAA,IAAhO;IAACC,cAAc,EAAChE,CAAC;IAACiE,YAAY,EAAChE,CAAC;IAACiE,sBAAsB,EAAC/D,CAAC;IAACmD,KAAK,EAACjD,CAAC;IAAC8D,IAAI,EAAC7D,CAAC;IAACoC,aAAa,EAAClC,CAAC;IAAC4D,mBAAmB,EAAC1D,CAAC;IAACsC,kBAAkB,EAACpC,CAAC;IAACsC,iBAAiB,EAACpC,CAAC;IAACqC,aAAa,EAACnC,CAAC;IAAC8B,qBAAqB,EAAC5B,CAAC;IAAC0B,cAAc,EAACxB,CAAC;IAACmC,WAAW,EAACjC;EAAC,CAAC,GAAAyC,IAAA;EAAE,OAAOjE,CAAC,GAAGE,CAAC,IAAIC,CAAC,IAAIE,CAAC,KAAKE,CAAC,KAAKC,CAAC,IAAIE,CAAC,IAAIE,CAAC,IAAIE,CAAC,IAAIE,CAAC,IAAIE,CAAC,IAAI,IAAI,IAAEE,CAAC,KAAKE,CAAC,CAACiD,YAAY,IAAIjD,CAAC,CAACkD,cAAc,IAAIlD,CAAC,CAACmD,cAAc,MAAMjD,CAAC,GAAG;AAAA;AAAC,MAAMoC,CAAC,SAASpD,CAAC;EAACkE,SAASA,CAAC1E,CAAC,EAAC;IAAC,OAAO,IAAI,CAAC2E,YAAY,CAACnD,CAAC,EAACxB,CAAC,CAAC;EAAA;AAAC;AAAC,MAAM+B,CAAC,SAASnB,CAAC;EAACkB,WAAWA,CAAA,EAAE;IAAC,KAAK,CAAC,GAAG8C,SAAS,CAAC,EAAC,IAAI,CAACR,sBAAsB,GAAC,CAAC,EAAC,IAAI,CAACZ,KAAK,GAACrD,CAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,CAACkE,IAAI,GAAC,CAAC,EAAC,IAAI,CAACzB,aAAa,GAAC,CAAC,CAAC,EAAC,IAAI,CAAC0B,mBAAmB,GAAC,IAAI,EAAC,IAAI,CAACpB,kBAAkB,GAAC,CAAC,CAAC,EAAC,IAAI,CAACE,iBAAiB,GAAC,OAAO,EAAC,IAAI,CAACC,aAAa,GAAC,CAAC,CAAC;EAAA;AAAC;AAAC,MAAMwB,CAAC,GAACxE,CAAC,CAAC,CAAC,CAACyE,KAAK,CAAC9D,CAAC,CAAC+D,QAAQ,CAAC,CAACD,KAAK,CAAC9D,CAAC,CAACgE,MAAM,CAAC,CAACC,KAAK,CAACjE,CAAC,CAACkE,GAAG,CAAC,CAACC,KAAK,CAACnE,CAAC,CAACoE,uBAAuB,CAAC;EAACC,CAAC,GAAC,CAACnF,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAACA,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;AAAC,MAAM4D,CAAC;EAAChC,WAAWA,CAAA,EAAE;IAAC,IAAI,CAACwD,kBAAkB,GAACT,CAAC;EAAA;EAACU,YAAYA,CAACvF,CAAC,EAAC;IAAC,OAAO,CAAC,GAACA,CAAC,CAACwF,GAAG,CAACxE,CAAC,CAAC+D,QAAQ,CAAC,CAACU,OAAO,CAACC,MAAM;EAAA;EAACC,KAAKA,CAAC3F,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;IAACU,CAAC,CAACf,CAAC,CAACqF,GAAG,CAACxE,CAAC,CAAC+D,QAAQ,CAAC,EAAC/E,CAAC,EAACO,CAAC,CAACqF,QAAQ,EAACpF,CAAC,EAAC,CAAC,CAAC,EAACY,CAAC,CAACjB,CAAC,CAACqF,GAAG,CAACxE,CAAC,CAACgE,MAAM,CAAC,EAAC9E,CAAC,EAACK,CAAC,CAACsF,MAAM,EAACrF,CAAC,EAAC,CAAC,CAAC,EAACc,CAAC,CAACnB,CAAC,CAACqF,GAAG,CAACxE,CAAC,CAACoE,uBAAuB,CAAC,EAAC7E,CAAC,CAACuF,uBAAuB,EAACtF,CAAC,EAAC,CAAC,CAAC;IAAC,KAAI,IAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC2E,CAAC,CAACK,MAAM,EAAC,EAAEhF,CAAC,EAACH,CAAC,CAACwF,GAAG,CAACC,MAAM,CAACxF,CAAC,GAACE,CAAC,EAAC2E,CAAC,CAAC3E,CAAC,CAAC,CAAC;EAAA;AAAC;AAAC,SAAOmB,CAAC,IAAIoE,mBAAmB,EAAClE,CAAC,IAAImE,UAAU,EAAC5D,CAAC,IAAI0B,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}