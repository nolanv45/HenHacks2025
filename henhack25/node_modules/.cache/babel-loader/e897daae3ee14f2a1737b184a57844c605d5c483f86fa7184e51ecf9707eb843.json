{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { squaredDistance as e } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nclass t {\n  constructor(e, t, i) {\n    this.maxSize = e, this._tileInfoView = t, this._removedFunc = i, this._tilePerId = new Map(), this._tileKeysPerLevel = [];\n  }\n  clear() {\n    this._tilePerId.clear(), this._tileKeysPerLevel = [];\n  }\n  has(e) {\n    return this._tilePerId.has(e);\n  }\n  get(e) {\n    return this._tilePerId.get(e);\n  }\n  pop(e) {\n    const t = this._tilePerId.get(e);\n    if (!t) return;\n    const r = t.key.level,\n      s = this._tileKeysPerLevel[r];\n    i(this._tilePerId, e);\n    for (let i = 0; i < s.length; i++) if (s[i].id === e) {\n      s.splice(i, 1);\n      break;\n    }\n    return t.visible = !0, t;\n  }\n  add(e) {\n    e.visible = !1;\n    const t = e.key,\n      i = t.id;\n    if (this._tilePerId.has(i)) return;\n    this._tilePerId.set(i, e);\n    const r = t.level;\n    this._tileKeysPerLevel[r] || (this._tileKeysPerLevel[r] = []), this._tileKeysPerLevel[r].push(t);\n  }\n  prune(e, t, i) {\n    let r = this._tilePerId.size;\n    if (r <= this.maxSize) return;\n    let s = this._tileKeysPerLevel.length - 1;\n    for (; r > this.maxSize && s >= 0;) s !== e && (r = this._pruneAroundCenterTile(r, t, i, s)), s--;\n    r > this.maxSize && (r = this._pruneAroundCenterTile(r, t, i, e));\n  }\n  _pruneAroundCenterTile(t, i, r, s) {\n    const l = this._tileKeysPerLevel[s];\n    if (!l || 0 === l.length) return t;\n    const {\n        size: h,\n        origin: n\n      } = this._tileInfoView.tileInfo,\n      o = r * h[0],\n      _ = r * h[1],\n      d = [0, 0],\n      c = [0, 0];\n    for (l.sort((t, r) => (d[0] = n.x + o * (t.col + .5), d[1] = n.y - _ * (t.row + .5), c[0] = n.x + o * (r.col + .5), c[1] = n.y - _ * (r.row + .5), e(d, i) - e(c, i))); l.length > 0;) {\n      const e = l.pop();\n      if (this._removeTile(e.id), --t === this.maxSize) break;\n    }\n    return t;\n  }\n  _removeTile(e) {\n    const t = this._tilePerId.get(e);\n    this._removedFunc && t && this._removedFunc(t), i(this._tilePerId, e);\n  }\n}\nfunction i(e, t) {\n  e.delete(t);\n}\nexport { t as default };","map":{"version":3,"names":["squaredDistance","e","t","constructor","i","maxSize","_tileInfoView","_removedFunc","_tilePerId","Map","_tileKeysPerLevel","clear","has","get","pop","r","key","level","s","length","id","splice","visible","add","set","push","prune","size","_pruneAroundCenterTile","l","h","origin","n","tileInfo","o","_","d","c","sort","x","col","y","row","_removeTile","delete","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/tiling/TileCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{squaredDistance as e}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";class t{constructor(e,t,i){this.maxSize=e,this._tileInfoView=t,this._removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const t=this._tilePerId.get(e);if(!t)return;const r=t.key.level,s=this._tileKeysPerLevel[r];i(this._tilePerId,e);for(let i=0;i<s.length;i++)if(s[i].id===e){s.splice(i,1);break}return t.visible=!0,t}add(e){e.visible=!1;const t=e.key,i=t.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,e);const r=t.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(t)}prune(e,t,i){let r=this._tilePerId.size;if(r<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&s>=0;)s!==e&&(r=this._pruneAroundCenterTile(r,t,i,s)),s--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,t,i,e))}_pruneAroundCenterTile(t,i,r,s){const l=this._tileKeysPerLevel[s];if(!l||0===l.length)return t;const{size:h,origin:n}=this._tileInfoView.tileInfo,o=r*h[0],_=r*h[1],d=[0,0],c=[0,0];for(l.sort(((t,r)=>(d[0]=n.x+o*(t.col+.5),d[1]=n.y-_*(t.row+.5),c[0]=n.x+o*(r.col+.5),c[1]=n.y-_*(r.row+.5),e(d,i)-e(c,i))));l.length>0;){const e=l.pop();if(this._removeTile(e.id),--t===this.maxSize)break}return t}_removeTile(e){const t=this._tilePerId.get(e);this._removedFunc&&t&&this._removedFunc(t),i(this._tilePerId,e)}}function i(e,t){e.delete(t)}export{t as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,eAAe,IAAIC,CAAC,QAAK,6CAA6C;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAACF,CAAC,EAACC,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACC,OAAO,GAACJ,CAAC,EAAC,IAAI,CAACK,aAAa,GAACJ,CAAC,EAAC,IAAI,CAACK,YAAY,GAACH,CAAC,EAAC,IAAI,CAACI,UAAU,GAAC,IAAIC,GAAG,CAAD,CAAC,EAAC,IAAI,CAACC,iBAAiB,GAAC,EAAE;EAAA;EAACC,KAAKA,CAAA,EAAE;IAAC,IAAI,CAACH,UAAU,CAACG,KAAK,CAAC,CAAC,EAAC,IAAI,CAACD,iBAAiB,GAAC,EAAE;EAAA;EAACE,GAAGA,CAACX,CAAC,EAAC;IAAC,OAAO,IAAI,CAACO,UAAU,CAACI,GAAG,CAACX,CAAC,CAAC;EAAA;EAACY,GAAGA,CAACZ,CAAC,EAAC;IAAC,OAAO,IAAI,CAACO,UAAU,CAACK,GAAG,CAACZ,CAAC,CAAC;EAAA;EAACa,GAAGA,CAACb,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACM,UAAU,CAACK,GAAG,CAACZ,CAAC,CAAC;IAAC,IAAG,CAACC,CAAC,EAAC;IAAO,MAAMa,CAAC,GAACb,CAAC,CAACc,GAAG,CAACC,KAAK;MAACC,CAAC,GAAC,IAAI,CAACR,iBAAiB,CAACK,CAAC,CAAC;IAACX,CAAC,CAAC,IAAI,CAACI,UAAU,EAACP,CAAC,CAAC;IAAC,KAAI,IAAIG,CAAC,GAAC,CAAC,EAACA,CAAC,GAACc,CAAC,CAACC,MAAM,EAACf,CAAC,EAAE,EAAC,IAAGc,CAAC,CAACd,CAAC,CAAC,CAACgB,EAAE,KAAGnB,CAAC,EAAC;MAACiB,CAAC,CAACG,MAAM,CAACjB,CAAC,EAAC,CAAC,CAAC;MAAC;IAAK;IAAC,OAAOF,CAAC,CAACoB,OAAO,GAAC,CAAC,CAAC,EAACpB,CAAC;EAAA;EAACqB,GAAGA,CAACtB,CAAC,EAAC;IAACA,CAAC,CAACqB,OAAO,GAAC,CAAC,CAAC;IAAC,MAAMpB,CAAC,GAACD,CAAC,CAACe,GAAG;MAACZ,CAAC,GAACF,CAAC,CAACkB,EAAE;IAAC,IAAG,IAAI,CAACZ,UAAU,CAACI,GAAG,CAACR,CAAC,CAAC,EAAC;IAAO,IAAI,CAACI,UAAU,CAACgB,GAAG,CAACpB,CAAC,EAACH,CAAC,CAAC;IAAC,MAAMc,CAAC,GAACb,CAAC,CAACe,KAAK;IAAC,IAAI,CAACP,iBAAiB,CAACK,CAAC,CAAC,KAAG,IAAI,CAACL,iBAAiB,CAACK,CAAC,CAAC,GAAC,EAAE,CAAC,EAAC,IAAI,CAACL,iBAAiB,CAACK,CAAC,CAAC,CAACU,IAAI,CAACvB,CAAC,CAAC;EAAA;EAACwB,KAAKA,CAACzB,CAAC,EAACC,CAAC,EAACE,CAAC,EAAC;IAAC,IAAIW,CAAC,GAAC,IAAI,CAACP,UAAU,CAACmB,IAAI;IAAC,IAAGZ,CAAC,IAAE,IAAI,CAACV,OAAO,EAAC;IAAO,IAAIa,CAAC,GAAC,IAAI,CAACR,iBAAiB,CAACS,MAAM,GAAC,CAAC;IAAC,OAAKJ,CAAC,GAAC,IAAI,CAACV,OAAO,IAAEa,CAAC,IAAE,CAAC,GAAEA,CAAC,KAAGjB,CAAC,KAAGc,CAAC,GAAC,IAAI,CAACa,sBAAsB,CAACb,CAAC,EAACb,CAAC,EAACE,CAAC,EAACc,CAAC,CAAC,CAAC,EAACA,CAAC,EAAE;IAACH,CAAC,GAAC,IAAI,CAACV,OAAO,KAAGU,CAAC,GAAC,IAAI,CAACa,sBAAsB,CAACb,CAAC,EAACb,CAAC,EAACE,CAAC,EAACH,CAAC,CAAC,CAAC;EAAA;EAAC2B,sBAAsBA,CAAC1B,CAAC,EAACE,CAAC,EAACW,CAAC,EAACG,CAAC,EAAC;IAAC,MAAMW,CAAC,GAAC,IAAI,CAACnB,iBAAiB,CAACQ,CAAC,CAAC;IAAC,IAAG,CAACW,CAAC,IAAE,CAAC,KAAGA,CAAC,CAACV,MAAM,EAAC,OAAOjB,CAAC;IAAC,MAAK;QAACyB,IAAI,EAACG,CAAC;QAACC,MAAM,EAACC;MAAC,CAAC,GAAC,IAAI,CAAC1B,aAAa,CAAC2B,QAAQ;MAACC,CAAC,GAACnB,CAAC,GAACe,CAAC,CAAC,CAAC,CAAC;MAACK,CAAC,GAACpB,CAAC,GAACe,CAAC,CAAC,CAAC,CAAC;MAACM,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC,CAAC;MAACC,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC,CAAC;IAAC,KAAIR,CAAC,CAACS,IAAI,CAAE,CAACpC,CAAC,EAACa,CAAC,MAAIqB,CAAC,CAAC,CAAC,CAAC,GAACJ,CAAC,CAACO,CAAC,GAACL,CAAC,IAAEhC,CAAC,CAACsC,GAAG,GAAC,EAAE,CAAC,EAACJ,CAAC,CAAC,CAAC,CAAC,GAACJ,CAAC,CAACS,CAAC,GAACN,CAAC,IAAEjC,CAAC,CAACwC,GAAG,GAAC,EAAE,CAAC,EAACL,CAAC,CAAC,CAAC,CAAC,GAACL,CAAC,CAACO,CAAC,GAACL,CAAC,IAAEnB,CAAC,CAACyB,GAAG,GAAC,EAAE,CAAC,EAACH,CAAC,CAAC,CAAC,CAAC,GAACL,CAAC,CAACS,CAAC,GAACN,CAAC,IAAEpB,CAAC,CAAC2B,GAAG,GAAC,EAAE,CAAC,EAACzC,CAAC,CAACmC,CAAC,EAAChC,CAAC,CAAC,GAACH,CAAC,CAACoC,CAAC,EAACjC,CAAC,CAAC,CAAE,CAAC,EAACyB,CAAC,CAACV,MAAM,GAAC,CAAC,GAAE;MAAC,MAAMlB,CAAC,GAAC4B,CAAC,CAACf,GAAG,CAAC,CAAC;MAAC,IAAG,IAAI,CAAC6B,WAAW,CAAC1C,CAAC,CAACmB,EAAE,CAAC,EAAC,EAAElB,CAAC,KAAG,IAAI,CAACG,OAAO,EAAC;IAAK;IAAC,OAAOH,CAAC;EAAA;EAACyC,WAAWA,CAAC1C,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACM,UAAU,CAACK,GAAG,CAACZ,CAAC,CAAC;IAAC,IAAI,CAACM,YAAY,IAAEL,CAAC,IAAE,IAAI,CAACK,YAAY,CAACL,CAAC,CAAC,EAACE,CAAC,CAAC,IAAI,CAACI,UAAU,EAACP,CAAC,CAAC;EAAA;AAAC;AAAC,SAASG,CAACA,CAACH,CAAC,EAACC,CAAC,EAAC;EAACD,CAAC,CAAC2C,MAAM,CAAC1C,CAAC,CAAC;AAAA;AAAC,SAAOA,CAAC,IAAI2C,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}