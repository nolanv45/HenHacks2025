{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { AttributeStoreView as t } from \"./webgl/AttributeStoreView.js\";\nimport { AttributeDataType as e } from \"./webgl/definitions.js\";\nimport i from \"./webgl/TileContainer.js\";\nconst s = 60;\nclass n extends i {\n  constructor(e) {\n    super(e), this._statisticsByLevel = new Map(), this._entityIndex = new Map(), this.attributeView = new t();\n  }\n  destroy() {\n    this.children.forEach(t => t.destroy()), this.removeAllChildren(), this.attributeView.destroy();\n  }\n  doRender(t) {\n    t.context.capabilities.enable(\"textureFloatLinear\"), super.doRender(t);\n  }\n  get hasAnimations() {\n    for (const t of this.children) if (t.hasAnimations) return !0;\n    return !1;\n  }\n  _reindexAndUpdateFeaturesIfNeeded() {\n    if (this.hasAnimations && (this._reindexFeatures(), 0 !== this.attributeView.size)) for (const t of this._entityIndex.values()) t.dirty && (this.attributeView.setData(t.displayId, e.LocalTimeOrigin, 0, t.firstIndexed), t.dirty = !1);\n  }\n  restartAnimation(t) {\n    const e = this._entityIndex.get(t);\n    if (!e) return;\n    const i = performance.now() / 1e3;\n    e.firstIndexed = i, e.dirty = !0;\n  }\n  restartAllAnimations() {\n    const t = performance.now() / 1e3;\n    for (const [e, i] of this._entityIndex) i.firstIndexed = t, i.dirty = !0;\n  }\n  _reindexFeatures() {\n    const t = performance.now() / 1e3;\n    for (const e of this.children) for (const i of e.entityIds) {\n      const {\n        objectId: e\n      } = i;\n      let s = this._entityIndex.get(e);\n      s || (s = {\n        objectId: e,\n        displayId: 0,\n        firstIndexed: t,\n        lastIndexed: 0,\n        dirty: !0\n      }, this._entityIndex.set(e, s)), s.lastIndexed = t, s.displayId = i.displayId;\n    }\n    for (const [e, i] of this._entityIndex) t - i.lastIndexed > s && this._entityIndex.delete(e);\n  }\n  _updateAttributeView() {\n    this.attributeView.update(), this._reindexAndUpdateFeaturesIfNeeded();\n  }\n  createRenderParams(t) {\n    const e = super.createRenderParams(t);\n    return e.attributeView = this.attributeView, e.instanceStore = this._instanceStore, e.statisticsByLevel = this._statisticsByLevel, e;\n  }\n}\nexport { n as AFeatureContainer };","map":{"version":3,"names":["AttributeStoreView","t","AttributeDataType","e","i","s","n","constructor","_statisticsByLevel","Map","_entityIndex","attributeView","destroy","children","forEach","removeAllChildren","doRender","context","capabilities","enable","hasAnimations","_reindexAndUpdateFeaturesIfNeeded","_reindexFeatures","size","values","dirty","setData","displayId","LocalTimeOrigin","firstIndexed","restartAnimation","get","performance","now","restartAllAnimations","entityIds","objectId","lastIndexed","set","delete","_updateAttributeView","update","createRenderParams","instanceStore","_instanceStore","statisticsByLevel","AFeatureContainer"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/AFeatureContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{AttributeStoreView as t}from\"./webgl/AttributeStoreView.js\";import{AttributeDataType as e}from\"./webgl/definitions.js\";import i from\"./webgl/TileContainer.js\";const s=60;class n extends i{constructor(e){super(e),this._statisticsByLevel=new Map,this._entityIndex=new Map,this.attributeView=new t}destroy(){this.children.forEach((t=>t.destroy())),this.removeAllChildren(),this.attributeView.destroy()}doRender(t){t.context.capabilities.enable(\"textureFloatLinear\"),super.doRender(t)}get hasAnimations(){for(const t of this.children)if(t.hasAnimations)return!0;return!1}_reindexAndUpdateFeaturesIfNeeded(){if(this.hasAnimations&&(this._reindexFeatures(),0!==this.attributeView.size))for(const t of this._entityIndex.values())t.dirty&&(this.attributeView.setData(t.displayId,e.LocalTimeOrigin,0,t.firstIndexed),t.dirty=!1)}restartAnimation(t){const e=this._entityIndex.get(t);if(!e)return;const i=performance.now()/1e3;e.firstIndexed=i,e.dirty=!0}restartAllAnimations(){const t=performance.now()/1e3;for(const[e,i]of this._entityIndex)i.firstIndexed=t,i.dirty=!0}_reindexFeatures(){const t=performance.now()/1e3;for(const e of this.children)for(const i of e.entityIds){const{objectId:e}=i;let s=this._entityIndex.get(e);s||(s={objectId:e,displayId:0,firstIndexed:t,lastIndexed:0,dirty:!0},this._entityIndex.set(e,s)),s.lastIndexed=t,s.displayId=i.displayId}for(const[e,i]of this._entityIndex)t-i.lastIndexed>s&&this._entityIndex.delete(e)}_updateAttributeView(){this.attributeView.update(),this._reindexAndUpdateFeaturesIfNeeded()}createRenderParams(t){const e=super.createRenderParams(t);return e.attributeView=this.attributeView,e.instanceStore=this._instanceStore,e.statisticsByLevel=this._statisticsByLevel,e}}export{n as AFeatureContainer};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}