{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { clone as t } from \"../../../../core/lang.js\";\nimport { LRUCache as e } from \"../../../../core/LRUCache.js\";\nimport { throwIfAborted as s } from \"../../../../core/promiseUtils.js\";\nimport { numericHash as o } from \"../../../../core/string.js\";\nfunction n(t = !1, e) {\n  return t ? new i(e) : new c();\n}\nclass c {\n  async fetch() {\n    return [];\n  }\n  notifySymbologyChange() {}\n}\nconst r = 1024;\nclass i {\n  constructor(t) {\n    this._getSymbologyCandidates = t, this._candidatesCache = new e(r), this._cacheVersion = 0;\n  }\n  async fetch(e, o) {\n    if (0 === e.length) return [];\n    const n = [],\n      c = [],\n      r = this._candidatesCache;\n    for (const s of e) {\n      const e = a(s),\n        o = r.get(e);\n      if (o) for (const s of o) c.push(t(s));else n.push(s), r.put(e, [], 1);\n    }\n    if (0 === n.length) return c;\n    const i = this._cacheVersion,\n      {\n        candidates: h,\n        sourceCandidateIndices: d\n      } = await this._getSymbologyCandidates(n, o);\n    s(o);\n    if (i !== this._cacheVersion) return this.fetch(e, o);\n    const f = [],\n      {\n        length: g\n      } = h;\n    for (let s = 0; s < g; ++s) {\n      const e = h[s],\n        o = a(n[d[s]]),\n        c = r.get(o);\n      c.push(e), r.put(o, c, c.length), f.push(t(e));\n    }\n    return c.concat(f);\n  }\n  notifySymbologyChange() {\n    this._candidatesCache.clear(), this._cacheVersion++;\n  }\n}\nfunction a(t) {\n  switch (t.type) {\n    case \"vertex\":\n      {\n        const {\n            objectId: e,\n            target: s\n          } = t,\n          n = `${e}-vertex-${s.x}-${s.y}-${s.z ?? 0}`;\n        return o(n).toString();\n      }\n    case \"edge\":\n      {\n        const {\n            objectId: e,\n            start: s,\n            end: n\n          } = t,\n          c = `${e}-edge-${s.x}-${s.y}-${s.z ?? 0}-to-${n.x}-${n.y}-${n.z ?? 0}`;\n        return o(c).toString();\n      }\n    default:\n      return \"\";\n  }\n}\nexport { n as getSymbologySnappingCandidatesFetcher };","map":{"version":3,"names":["clone","t","LRUCache","e","throwIfAborted","s","numericHash","o","n","i","c","fetch","notifySymbologyChange","r","constructor","_getSymbologyCandidates","_candidatesCache","_cacheVersion","length","a","get","push","put","candidates","h","sourceCandidateIndices","d","f","g","concat","clear","type","objectId","target","x","y","z","toString","start","end","getSymbologySnappingCandidatesFetcher"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{LRUCache as e}from\"../../../../core/LRUCache.js\";import{throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{numericHash as o}from\"../../../../core/string.js\";function n(t=!1,e){return t?new i(e):new c}class c{async fetch(){return[]}notifySymbologyChange(){}}const r=1024;class i{constructor(t){this._getSymbologyCandidates=t,this._candidatesCache=new e(r),this._cacheVersion=0}async fetch(e,o){if(0===e.length)return[];const n=[],c=[],r=this._candidatesCache;for(const s of e){const e=a(s),o=r.get(e);if(o)for(const s of o)c.push(t(s));else n.push(s),r.put(e,[],1)}if(0===n.length)return c;const i=this._cacheVersion,{candidates:h,sourceCandidateIndices:d}=await this._getSymbologyCandidates(n,o);s(o);if(i!==this._cacheVersion)return this.fetch(e,o);const f=[],{length:g}=h;for(let s=0;s<g;++s){const e=h[s],o=a(n[d[s]]),c=r.get(o);c.push(e),r.put(o,c,c.length),f.push(t(e))}return c.concat(f)}notifySymbologyChange(){this._candidatesCache.clear(),this._cacheVersion++}}function a(t){switch(t.type){case\"vertex\":{const{objectId:e,target:s}=t,n=`${e}-vertex-${s.x}-${s.y}-${s.z??0}`;return o(n).toString()}case\"edge\":{const{objectId:e,start:s,end:n}=t,c=`${e}-edge-${s.x}-${s.y}-${s.z??0}-to-${n.x}-${n.y}-${n.z??0}`;return o(c).toString()}default:return\"\"}}export{n as getSymbologySnappingCandidatesFetcher};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAM,yBAAyB;AAAC,SAAOA,KAAK,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,kCAAkC;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAASC,CAACA,CAACP,CAAC,GAAC,CAAC,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOF,CAAC,GAAC,IAAIQ,CAAC,CAACN,CAAC,CAAC,GAAC,IAAIO,CAAC,CAAD,CAAC;AAAA;AAAC,MAAMA,CAAC;EAAC,MAAMC,KAAKA,CAAA,EAAE;IAAC,OAAM,EAAE;EAAA;EAACC,qBAAqBA,CAAA,EAAE,CAAC;AAAC;AAAC,MAAMC,CAAC,GAAC,IAAI;AAAC,MAAMJ,CAAC;EAACK,WAAWA,CAACb,CAAC,EAAC;IAAC,IAAI,CAACc,uBAAuB,GAACd,CAAC,EAAC,IAAI,CAACe,gBAAgB,GAAC,IAAIb,CAAC,CAACU,CAAC,CAAC,EAAC,IAAI,CAACI,aAAa,GAAC,CAAC;EAAA;EAAC,MAAMN,KAAKA,CAACR,CAAC,EAACI,CAAC,EAAC;IAAC,IAAG,CAAC,KAAGJ,CAAC,CAACe,MAAM,EAAC,OAAM,EAAE;IAAC,MAAMV,CAAC,GAAC,EAAE;MAACE,CAAC,GAAC,EAAE;MAACG,CAAC,GAAC,IAAI,CAACG,gBAAgB;IAAC,KAAI,MAAMX,CAAC,IAAIF,CAAC,EAAC;MAAC,MAAMA,CAAC,GAACgB,CAAC,CAACd,CAAC,CAAC;QAACE,CAAC,GAACM,CAAC,CAACO,GAAG,CAACjB,CAAC,CAAC;MAAC,IAAGI,CAAC,EAAC,KAAI,MAAMF,CAAC,IAAIE,CAAC,EAACG,CAAC,CAACW,IAAI,CAACpB,CAAC,CAACI,CAAC,CAAC,CAAC,CAAC,KAAKG,CAAC,CAACa,IAAI,CAAChB,CAAC,CAAC,EAACQ,CAAC,CAACS,GAAG,CAACnB,CAAC,EAAC,EAAE,EAAC,CAAC,CAAC;IAAA;IAAC,IAAG,CAAC,KAAGK,CAAC,CAACU,MAAM,EAAC,OAAOR,CAAC;IAAC,MAAMD,CAAC,GAAC,IAAI,CAACQ,aAAa;MAAC;QAACM,UAAU,EAACC,CAAC;QAACC,sBAAsB,EAACC;MAAC,CAAC,GAAC,MAAM,IAAI,CAACX,uBAAuB,CAACP,CAAC,EAACD,CAAC,CAAC;IAACF,CAAC,CAACE,CAAC,CAAC;IAAC,IAAGE,CAAC,KAAG,IAAI,CAACQ,aAAa,EAAC,OAAO,IAAI,CAACN,KAAK,CAACR,CAAC,EAACI,CAAC,CAAC;IAAC,MAAMoB,CAAC,GAAC,EAAE;MAAC;QAACT,MAAM,EAACU;MAAC,CAAC,GAACJ,CAAC;IAAC,KAAI,IAAInB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACuB,CAAC,EAAC,EAAEvB,CAAC,EAAC;MAAC,MAAMF,CAAC,GAACqB,CAAC,CAACnB,CAAC,CAAC;QAACE,CAAC,GAACY,CAAC,CAACX,CAAC,CAACkB,CAAC,CAACrB,CAAC,CAAC,CAAC,CAAC;QAACK,CAAC,GAACG,CAAC,CAACO,GAAG,CAACb,CAAC,CAAC;MAACG,CAAC,CAACW,IAAI,CAAClB,CAAC,CAAC,EAACU,CAAC,CAACS,GAAG,CAACf,CAAC,EAACG,CAAC,EAACA,CAAC,CAACQ,MAAM,CAAC,EAACS,CAAC,CAACN,IAAI,CAACpB,CAAC,CAACE,CAAC,CAAC,CAAC;IAAA;IAAC,OAAOO,CAAC,CAACmB,MAAM,CAACF,CAAC,CAAC;EAAA;EAACf,qBAAqBA,CAAA,EAAE;IAAC,IAAI,CAACI,gBAAgB,CAACc,KAAK,CAAC,CAAC,EAAC,IAAI,CAACb,aAAa,EAAE;EAAA;AAAC;AAAC,SAASE,CAACA,CAAClB,CAAC,EAAC;EAAC,QAAOA,CAAC,CAAC8B,IAAI;IAAE,KAAI,QAAQ;MAAC;QAAC,MAAK;YAACC,QAAQ,EAAC7B,CAAC;YAAC8B,MAAM,EAAC5B;UAAC,CAAC,GAACJ,CAAC;UAACO,CAAC,GAAC,GAAGL,CAAC,WAAWE,CAAC,CAAC6B,CAAC,IAAI7B,CAAC,CAAC8B,CAAC,IAAI9B,CAAC,CAAC+B,CAAC,IAAE,CAAC,EAAE;QAAC,OAAO7B,CAAC,CAACC,CAAC,CAAC,CAAC6B,QAAQ,CAAC,CAAC;MAAA;IAAC,KAAI,MAAM;MAAC;QAAC,MAAK;YAACL,QAAQ,EAAC7B,CAAC;YAACmC,KAAK,EAACjC,CAAC;YAACkC,GAAG,EAAC/B;UAAC,CAAC,GAACP,CAAC;UAACS,CAAC,GAAC,GAAGP,CAAC,SAASE,CAAC,CAAC6B,CAAC,IAAI7B,CAAC,CAAC8B,CAAC,IAAI9B,CAAC,CAAC+B,CAAC,IAAE,CAAC,OAAO5B,CAAC,CAAC0B,CAAC,IAAI1B,CAAC,CAAC2B,CAAC,IAAI3B,CAAC,CAAC4B,CAAC,IAAE,CAAC,EAAE;QAAC,OAAO7B,CAAC,CAACG,CAAC,CAAC,CAAC2B,QAAQ,CAAC,CAAC;MAAA;IAAC;MAAQ,OAAM,EAAE;EAAA;AAAC;AAAC,SAAO7B,CAAC,IAAIgC,qCAAqC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}