{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { getZForElevationMode as t } from \"../../../../../support/elevationInfoUtils.js\";\nimport { EventPipeline as n } from \"../../../../interactive/dragEventPipeline.js\";\nclass e {\n  constructor() {\n    this._view = null, this._elevationInfo = null, this._lastDragEvent = null, this._next = null, this._enabled = !1;\n  }\n  get enabled() {\n    return this._enabled;\n  }\n  set enabled(t) {\n    if (this._enabled !== t && null != this._lastDragEvent && null != this._next) {\n      const n = this._lastDragEvent.mapEnd,\n        e = this._snap(this._lastDragEvent.screenEnd);\n      if (null != e) {\n        const s = {\n          action: \"update\",\n          mapStart: this._lastDragEvent.mapStart,\n          mapEnd: !0 === t ? e : n,\n          screenStart: this._lastDragEvent.screenEnd,\n          screenEnd: this._lastDragEvent.screenEnd\n        };\n        this._next.execute(s);\n      }\n    }\n    this._enabled = t;\n  }\n  _snap(n) {\n    const e = null != this._view ? this._view.toMap(n, {\n      exclude: []\n    }) : null;\n    return null != e && null != this._view && (e.z = t(e, this._view, this._elevationInfo)), e;\n  }\n  createDragEventPipelineStep(t, e) {\n    this._view = t, this._elevationInfo = e, this._lastDragEvent = null;\n    const s = new n();\n    this._next = s;\n    return [t => {\n      if (this._lastDragEvent = \"end\" !== t.action ? {\n        ...t\n      } : null, this._enabled) {\n        const n = this._snap(t.screenEnd);\n        return null != n ? {\n          action: t.action,\n          mapStart: t.mapStart,\n          mapEnd: n,\n          screenStart: t.screenStart,\n          screenEnd: t.screenEnd\n        } : null;\n      }\n      return {\n        action: t.action,\n        mapStart: t.mapStart,\n        mapEnd: t.mapEnd,\n        screenStart: t.screenStart,\n        screenEnd: t.screenEnd\n      };\n    }, s];\n  }\n}\nexport { e as SnapToScene };","map":{"version":3,"names":["getZForElevationMode","t","EventPipeline","n","e","constructor","_view","_elevationInfo","_lastDragEvent","_next","_enabled","enabled","mapEnd","_snap","screenEnd","s","action","mapStart","screenStart","execute","toMap","exclude","z","createDragEventPipelineStep","SnapToScene"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getZForElevationMode as t}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class e{constructor(){this._view=null,this._elevationInfo=null,this._lastDragEvent=null,this._next=null,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent&&null!=this._next){const n=this._lastDragEvent.mapEnd,e=this._snap(this._lastDragEvent.screenEnd);if(null!=e){const s={action:\"update\",mapStart:this._lastDragEvent.mapStart,mapEnd:!0===t?e:n,screenStart:this._lastDragEvent.screenEnd,screenEnd:this._lastDragEvent.screenEnd};this._next.execute(s)}}this._enabled=t}_snap(n){const e=null!=this._view?this._view.toMap(n,{exclude:[]}):null;return null!=e&&null!=this._view&&(e.z=t(e,this._view,this._elevationInfo)),e}createDragEventPipelineStep(t,e){this._view=t,this._elevationInfo=e,this._lastDragEvent=null;const s=new n;this._next=s;return[t=>{if(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled){const n=this._snap(t.screenEnd);return null!=n?{action:t.action,mapStart:t.mapStart,mapEnd:n,screenStart:t.screenStart,screenEnd:t.screenEnd}:null}return{action:t.action,mapStart:t.mapStart,mapEnd:t.mapEnd,screenStart:t.screenStart,screenEnd:t.screenEnd}},s]}}export{e as SnapToScene};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,oBAAoB,IAAIC,CAAC,QAAK,8CAA8C;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,8CAA8C;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAAA,EAAE;IAAC,IAAI,CAACC,KAAK,GAAC,IAAI,EAAC,IAAI,CAACC,cAAc,GAAC,IAAI,EAAC,IAAI,CAACC,cAAc,GAAC,IAAI,EAAC,IAAI,CAACC,KAAK,GAAC,IAAI,EAAC,IAAI,CAACC,QAAQ,GAAC,CAAC,CAAC;EAAA;EAAC,IAAIC,OAAOA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACD,QAAQ;EAAA;EAAC,IAAIC,OAAOA,CAACV,CAAC,EAAC;IAAC,IAAG,IAAI,CAACS,QAAQ,KAAGT,CAAC,IAAE,IAAI,IAAE,IAAI,CAACO,cAAc,IAAE,IAAI,IAAE,IAAI,CAACC,KAAK,EAAC;MAAC,MAAMN,CAAC,GAAC,IAAI,CAACK,cAAc,CAACI,MAAM;QAACR,CAAC,GAAC,IAAI,CAACS,KAAK,CAAC,IAAI,CAACL,cAAc,CAACM,SAAS,CAAC;MAAC,IAAG,IAAI,IAAEV,CAAC,EAAC;QAAC,MAAMW,CAAC,GAAC;UAACC,MAAM,EAAC,QAAQ;UAACC,QAAQ,EAAC,IAAI,CAACT,cAAc,CAACS,QAAQ;UAACL,MAAM,EAAC,CAAC,CAAC,KAAGX,CAAC,GAACG,CAAC,GAACD,CAAC;UAACe,WAAW,EAAC,IAAI,CAACV,cAAc,CAACM,SAAS;UAACA,SAAS,EAAC,IAAI,CAACN,cAAc,CAACM;QAAS,CAAC;QAAC,IAAI,CAACL,KAAK,CAACU,OAAO,CAACJ,CAAC,CAAC;MAAA;IAAC;IAAC,IAAI,CAACL,QAAQ,GAACT,CAAC;EAAA;EAACY,KAAKA,CAACV,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,IAAE,IAAI,CAACE,KAAK,GAAC,IAAI,CAACA,KAAK,CAACc,KAAK,CAACjB,CAAC,EAAC;MAACkB,OAAO,EAAC;IAAE,CAAC,CAAC,GAAC,IAAI;IAAC,OAAO,IAAI,IAAEjB,CAAC,IAAE,IAAI,IAAE,IAAI,CAACE,KAAK,KAAGF,CAAC,CAACkB,CAAC,GAACrB,CAAC,CAACG,CAAC,EAAC,IAAI,CAACE,KAAK,EAAC,IAAI,CAACC,cAAc,CAAC,CAAC,EAACH,CAAC;EAAA;EAACmB,2BAA2BA,CAACtB,CAAC,EAACG,CAAC,EAAC;IAAC,IAAI,CAACE,KAAK,GAACL,CAAC,EAAC,IAAI,CAACM,cAAc,GAACH,CAAC,EAAC,IAAI,CAACI,cAAc,GAAC,IAAI;IAAC,MAAMO,CAAC,GAAC,IAAIZ,CAAC,CAAD,CAAC;IAAC,IAAI,CAACM,KAAK,GAACM,CAAC;IAAC,OAAM,CAACd,CAAC,IAAE;MAAC,IAAG,IAAI,CAACO,cAAc,GAAC,KAAK,KAAGP,CAAC,CAACe,MAAM,GAAC;QAAC,GAAGf;MAAC,CAAC,GAAC,IAAI,EAAC,IAAI,CAACS,QAAQ,EAAC;QAAC,MAAMP,CAAC,GAAC,IAAI,CAACU,KAAK,CAACZ,CAAC,CAACa,SAAS,CAAC;QAAC,OAAO,IAAI,IAAEX,CAAC,GAAC;UAACa,MAAM,EAACf,CAAC,CAACe,MAAM;UAACC,QAAQ,EAAChB,CAAC,CAACgB,QAAQ;UAACL,MAAM,EAACT,CAAC;UAACe,WAAW,EAACjB,CAAC,CAACiB,WAAW;UAACJ,SAAS,EAACb,CAAC,CAACa;QAAS,CAAC,GAAC,IAAI;MAAA;MAAC,OAAM;QAACE,MAAM,EAACf,CAAC,CAACe,MAAM;QAACC,QAAQ,EAAChB,CAAC,CAACgB,QAAQ;QAACL,MAAM,EAACX,CAAC,CAACW,MAAM;QAACM,WAAW,EAACjB,CAAC,CAACiB,WAAW;QAACJ,SAAS,EAACb,CAAC,CAACa;MAAS,CAAC;IAAA,CAAC,EAACC,CAAC,CAAC;EAAA;AAAC;AAAC,SAAOX,CAAC,IAAIoB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}