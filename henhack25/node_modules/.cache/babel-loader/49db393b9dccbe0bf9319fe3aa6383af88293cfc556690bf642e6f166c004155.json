{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Collection.js\";\nimport o from \"../../core/Error.js\";\nimport i from \"../../core/Evented.js\";\nimport { drainHandles as a } from \"../../core/handleUtils.js\";\nimport \"../../core/has.js\";\nimport s from \"../../core/Logger.js\";\nimport { destroyMaybe as r, abortMaybe as n } from \"../../core/maybe.js\";\nimport { createAbortError as p, whenOrAbort as l, ignoreAbortErrors as h } from \"../../core/promiseUtils.js\";\nimport { on as c, watch as d, when as u, whenOnce as y, syncAndInitial as m } from \"../../core/reactiveUtils.js\";\nimport { property as g } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as v } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as f } from \"../../core/support/UpdatingHandles.js\";\nimport { getReferenceEllipsoid as _ } from \"../../geometry/ellipsoidUtils.js\";\nimport { canProjectWithoutEngine as b, load as w, project as G, isLoaded as O } from \"../../geometry/projection.js\";\nimport { geometryToCoordinates as T } from \"../../geometry/support/coordsUtils.js\";\nimport { equals as E } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport S from \"../../layers/GraphicsLayer.js\";\nimport { isIntegratedMeshLayer as k } from \"../../layers/support/layerUtils.js\";\nimport M from \"../../symbols/FillSymbol3DLayer.js\";\nimport A from \"../../symbols/MeshSymbol3D.js\";\nimport C from \"../../symbols/SimpleFillSymbol.js\";\nimport H from \"../../symbols/SimpleLineSymbol.js\";\nimport D from \"../../symbols/SimpleMarkerSymbol.js\";\nimport { symbolTypes as R } from \"../../symbols/support/typeUtils.js\";\nimport { SupportedObjectResult as j, isSupportedObjectResultMessage as I } from \"../../views/3d/interactive/editingTools/isSupportedObjectUtils.js\";\nimport { isSupportedObject as U } from \"../../views/3d/interactive/editingTools/move/isSupportedObject.js\";\nimport { isSupportedObject as P } from \"../../views/3d/interactive/editingTools/reshape/isSupportedObject.js\";\nimport { isSupportedGraphic as x } from \"../../views/3d/interactive/editingTools/transform/isSupportedGraphic.js\";\nimport { addUniqueLayer as L } from \"../../views/draw/support/layerUtils.js\";\nimport { ViewEventPriorities as F } from \"../../views/input/InputManager.js\";\nimport { sketchKeys as V } from \"../../views/interactive/keybindings.js\";\nimport K from \"../../views/interactive/sketch/SketchLabelOptions.js\";\nimport W from \"../../views/interactive/sketch/SketchOptions.js\";\nimport Z from \"../../views/interactive/sketch/SketchTooltipOptions.js\";\nimport q from \"../../views/interactive/sketch/SketchValueOptions.js\";\nimport { SnappingManager as z } from \"../../views/interactive/snapping/SnappingManager.js\";\nimport N from \"../../views/interactive/snapping/SnappingOptions.js\";\nimport { setupSnappingToggleHandles as B } from \"../../views/interactive/snapping/snappingUtils.js\";\nimport { findFirstGraphicHit as $ } from \"../../views/support/hitTestSelectUtils.js\";\nimport { createScreenPointFromEvent as Y } from \"../../views/support/screenUtils.js\";\nimport { CreateOperationHandle as J, UpdateOperationHandle as Q } from \"./support/OperationHandle.js\";\nimport { getModeFromCreateOptions as X, getDrawToolGeometryTypeFromCreateTool as ee } from \"./support/sketchUtils.js\";\nconst te = {\n    defaultZ: 0\n  },\n  oe = {\n    reshapeOptions: {\n      edgeOperation: \"split\",\n      shapeOperation: \"move\",\n      vertexOperation: \"move\"\n    },\n    enableMoveAllGraphics: !0,\n    enableRotation: !0,\n    enableScaling: !0,\n    multipleSelectionEnabled: !0,\n    preserveAspectRatio: !1,\n    toggleToolOnClick: !0,\n    enableZ: !0,\n    highlightOptions: {\n      enabled: !0\n    },\n    tool: \"transform\"\n  };\nlet ie = class extends i.EventedAccessor {\n  constructor(e) {\n    super(e), this._defaultSnappingManager = null, this._updatingHandles = new f(), this._internalGraphicsLayer = new S({\n      listMode: \"hide\",\n      internal: !0,\n      title: \"SVM Internal\"\n    }), this._operationHandle = null, this._viewHandlesKey = \"viewHandles\", this.activeFillSymbol = null, this.activeLineSymbol = null, this.activeVertexSymbol = null, this.allowDeleteKey = !0, this.layer = null, this.pointSymbol = new D({\n      style: \"circle\",\n      size: 6,\n      color: [255, 255, 255],\n      outline: {\n        color: [50, 50, 50],\n        width: 1\n      }\n    }), this.polygonSymbol = new C({\n      color: [150, 150, 150, .2],\n      outline: {\n        color: [50, 50, 50],\n        width: 2\n      }\n    }), this.polylineSymbol = new H({\n      color: [130, 130, 130, 1],\n      width: 2\n    }), this.meshSymbol = new A({\n      symbolLayers: new t([new M()])\n    }), this.updateGraphics = new t(), this.updateOnGraphicClick = !0, this.creationMode = \"single\", this.vertexSymbol = new D({\n      style: \"circle\",\n      size: 6,\n      color: [255, 255, 255],\n      outline: {\n        color: [50, 50, 50],\n        width: 1\n      }\n    }), this.sketchOptions = new W(), this._moduleLoaderAbortController = null, this._viewReadyAbortController = null, this._sketchContinuationFlag = !1, this._originalPopupEnabled = null, this.defaultCreateOptions = te, this.defaultUpdateOptions = oe, this.snappingOptions = e?.snappingManager?.options ?? e?.snappingOptions ?? new N();\n  }\n  initialize() {\n    this.addHandles([c(() => this.view?.map?.layers, \"change\", e => {\n      e.removed.includes(this.layer) && this.cancel();\n    }), c(() => this.layer?.graphics, \"change\", e => {\n      if (null != this._operationHandle) for (const t of e.removed) this.updateGraphics.includes(t) && (this.updateGraphics.length > 1 ? this._operationHandle.removeFromSelection(t) : this._operationHandle.cancel());\n    }), d(() => this.layer?.elevationInfo ?? null, e => {\n      e !== this._internalGraphicsLayer.elevationInfo && (this.cancel(), this._internalGraphicsLayer.elevationInfo = e);\n    }, m), d(() => this.view, e => {\n      this._defaultSnappingManager = r(this._defaultSnappingManager), e && (this.snappingManager || (this._defaultSnappingManager = new z({\n        view: e,\n        options: this.snappingOptions\n      })), \"2d\" === e.type ? import(\"../../views/2d/interactive/editingTools.js\") : \"3d\" === e.type && (import(\"../../views/3d/interactive/editingTools.js\"), import(\"../../views/3d/layers/GraphicsLayerView3D.js\")));\n    }, m), d(() => this.view?.spatialReference, (e, t) => {\n      e && t && !e.equals(t) && this.cancel();\n    })]), B(this);\n  }\n  destroy() {\n    this.cancel(), this._removeDefaultLayer(), this._defaultSnappingManager = r(this._defaultSnappingManager), this._set(\"snappingManager\", null), this._set(\"view\", null), this._updatingHandles.destroy(), this.emit(\"destroy\");\n  }\n  get updating() {\n    return this._updatingHandles.updating || null != this.snappingManager && this.snappingManager.updating;\n  }\n  get activeTool() {\n    return this._operationHandle?.tool ?? null;\n  }\n  get activeCreateToolDrawMode() {\n    return \"create\" === this._operationHandle?.type && this._operationHandle.activeComponent && \"mode\" in this._operationHandle.activeComponent ? this._operationHandle.activeComponent.mode : null;\n  }\n  get activeTooltip() {\n    const {\n        activeComponent: e,\n        destroyed: t\n      } = this,\n      o = !t && e && \"tooltip\" in e ? e.tooltip : null;\n    return o?.visible ? o : null;\n  }\n  get activeComponent() {\n    return this._operationHandle?.activeComponent ?? null;\n  }\n  get createGraphic() {\n    return null == this.activeComponent || \"draw-3d\" !== this.activeComponent.type && \"draw-2d\" !== this.activeComponent.type ? this._get(\"createGraphic\") : this.activeComponent.graphic;\n  }\n  get defaultCreateOptions() {\n    return this._get(\"defaultCreateOptions\");\n  }\n  set defaultCreateOptions(e) {\n    this._set(\"defaultCreateOptions\", {\n      ...te,\n      ...e\n    });\n  }\n  get defaultUpdateOptions() {\n    return this._get(\"defaultUpdateOptions\");\n  }\n  set defaultUpdateOptions(e) {\n    this._set(\"defaultUpdateOptions\", {\n      ...oe,\n      ...e,\n      reshapeOptions: {\n        ...oe.reshapeOptions,\n        ...e?.reshapeOptions\n      },\n      highlightOptions: {\n        ...oe.highlightOptions,\n        ...e?.highlightOptions\n      }\n    });\n  }\n  get labelOptions() {\n    return this.sketchOptions.labels;\n  }\n  set labelOptions(e) {\n    this.sketchOptions.labels = e;\n  }\n  get snappingOptions() {\n    return this.snappingManager?.options ?? this._get(\"snappingOptions\");\n  }\n  set snappingOptions(e) {\n    null != this._defaultSnappingManager && (this._defaultSnappingManager.options = e), this._set(\"snappingOptions\", e);\n  }\n  get snappingManager() {\n    return this._isOverridden(\"snappingManager\") && this._get(\"snappingManager\"), this._defaultSnappingManager;\n  }\n  set snappingManager(e) {\n    if (e) this._isOverridden(\"snappingManager\") || (this._defaultSnappingManager = r(this._defaultSnappingManager)), this._override(\"snappingManager\", e);else {\n      const {\n        view: e\n      } = this;\n      !this._defaultSnappingManager && e && (this._defaultSnappingManager = new z({\n        options: this.snappingOptions,\n        view: e\n      })), this._clearOverride(\"snappingManager\");\n    }\n  }\n  get state() {\n    const e = !(!this.view?.ready || !this.layer),\n      t = this._operationHandle;\n    return e && t ? \"active\" : e ? \"ready\" : \"disabled\";\n  }\n  get tooltipOptions() {\n    return this.sketchOptions.tooltips;\n  }\n  set tooltipOptions(e) {\n    this.sketchOptions.tooltips = e;\n  }\n  get valueOptions() {\n    return this.sketchOptions.values;\n  }\n  set valueOptions(e) {\n    this.sketchOptions.values = e;\n  }\n  get view() {\n    return this._get(\"view\");\n  }\n  set view(e) {\n    const t = this._get(\"view\");\n    if (t) {\n      const {\n        container: e,\n        map: o\n      } = t;\n      e && (t.cursor = null), o?.remove(this._internalGraphicsLayer), this.removeHandles(this._viewHandlesKey), this.cancel();\n    }\n    const o = \"view-ready\";\n    this.removeHandles(o), e && this.addHandles(u(() => e.ready, t => {\n      this.removeHandles(this._viewHandlesKey), t && this.addHandles(this._generateViewHandles(e), this._viewHandlesKey);\n    }, m), o), this._set(\"view\", e);\n  }\n  cancel() {\n    this._moduleLoaderAbortController = n(this._moduleLoaderAbortController), this._viewReadyAbortController = n(this._viewReadyAbortController), this._sketchContinuationFlag = !0, this._operationHandle && this._operationHandle.cancel();\n  }\n  complete() {\n    this._operationHandle && this._operationHandle.complete();\n  }\n  delete() {\n    const {\n      state: e,\n      updateGraphics: t\n    } = this;\n    if (\"active\" === e && t.length) {\n      const {\n          activeTool: e,\n          layer: o\n        } = this,\n        i = t.toArray();\n      o.removeMany(i), this.cancel(), this._emitDeleteEvent({\n        graphics: i,\n        tool: e\n      });\n    }\n  }\n  duplicate() {\n    if (\"active\" === this.state && this.updateGraphics.length) {\n      const e = this.updateGraphics.map(e => e.clone()).toArray();\n      return this.layer.addMany(e), this.emit(\"duplicate\", {\n        graphics: e,\n        type: \"duplicate\"\n      }), e;\n    }\n    return [];\n  }\n  async create(e, t) {\n    this.cancel(), await this._waitViewReady();\n    const {\n      view: o,\n      layer: i\n    } = this;\n    if (!o || \"disabled\" === this.state) throw i || this._logMissingLayer(), p();\n    if (null != o.activeTool && (o.activeTool = null), !e) return void this._logError(\"sketch:missing-parameter\", \"Missing parameter 'tool'.\");\n    L(o, this._internalGraphicsLayer);\n    const a = await this._updatingHandles.addPromise(this._setupCreateOperation(e, t));\n    if (null == a || this.destroyed) return void o.map.remove(this._internalGraphicsLayer);\n    const s = () => {\n      if (a === this._operationHandle) {\n        const o = this.createGraphic,\n          s = this._operationHandle.cancelled;\n        if (this._operationHandle.destroy(), this._operationHandle = null, this._set(\"createGraphic\", null), this.view?.map && this.view.map.remove(this._internalGraphicsLayer), a.cancelled || null == o || i.add(o), this._sketchContinuationFlag = !1, this.emit(\"create\", {\n          graphic: o,\n          state: s ? \"cancel\" : \"complete\",\n          tool: e,\n          toolEventInfo: null,\n          type: \"create\"\n        }), s || this._sketchContinuationFlag) return;\n        const {\n          creationMode: r\n        } = this;\n        if (\"continuous\" === r) {\n          if (t?.geometryToPlace) return;\n          this._updatingHandles.addPromise(h(this.create(e, t)));\n        } else \"update\" === r && o && this._updatingHandles.addPromise(h(this.update([o])));\n      }\n    };\n    a.on(\"complete\", s), this._operationHandle = a, o.ready && o.focus();\n  }\n  async place(e, t) {\n    return this.create(\"mesh\", {\n      mode: \"click\",\n      hasZ: e.hasZ,\n      geometryToPlace: e,\n      ...t\n    });\n  }\n  async update(e, t) {\n    this.cancel(), await this._waitViewReady();\n    const {\n      layer: o,\n      view: i,\n      state: a\n    } = this;\n    if (!i || \"disabled\" === a) throw o || this._logMissingLayer(), p();\n    null != i.activeTool && (i.activeTool = null);\n    const s = Array.isArray(e) ? e : [e];\n    if (null == e || !s?.length) return void this._logError(\"sketch:missing-parameter\", \"Missing parameter 'graphics'.\");\n    if (s.some(e => e.layer !== o ? (this._logError(\"sketch:invalid-parameter\", \"Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer.\"), !0) : null == e.geometry && (this._logError(\"sketch:invalid-parameter\", \"Parameter 'graphics' contains one or more graphics with an unsupported geometry.\"), !0))) return;\n    const r = await this._updatingHandles.addPromise(this._setupUpdateOperation(s, t));\n    this.destroyed || null == r || ue(r) || (L(i, this._internalGraphicsLayer), this._setUpdateOperationHandle(r, t), this.emit(\"update\", {\n      graphics: s,\n      state: \"start\",\n      aborted: !1,\n      tool: r.tool,\n      toolEventInfo: null,\n      type: \"update\"\n    }));\n  }\n  async _updateSpatialReference(e) {\n    const t = this.view;\n    if (t) {\n      e = Array.isArray(e) ? e : [e];\n      for (const o of e) null == o.geometry || \"mesh\" === o.geometry.type || E(o.geometry.spatialReference, t.spatialReference) || (b(o.geometry.spatialReference, t.spatialReference) || O() || (await w()), o.geometry = G(o.geometry, t.spatialReference));\n    } else this._logMissingView();\n  }\n  undo() {\n    this.canUndo() && this._operationHandle?.undo();\n  }\n  redo() {\n    this.canRedo() && this._operationHandle?.redo();\n  }\n  canUndo() {\n    return !!this._operationHandle?.canUndo();\n  }\n  canRedo() {\n    return !!this._operationHandle?.canRedo();\n  }\n  toggleUpdateTool() {\n    this._operationHandle?.toggleTool();\n  }\n  async _getFirstHit(e) {\n    const t = this.view;\n    if (!t) return this._logMissingView(), null;\n    if (\"2d\" === t.type) {\n      const o = [];\n      t.map.allLayers.forEach(e => {\n        \"vector-tile\" !== e.type && \"imagery\" !== e.type || o.push(e);\n      });\n      const i = await t.hitTest(e, {\n        exclude: o\n      });\n      return $(i.results);\n    }\n    const o = [t.map.ground];\n    t.map.allLayers.forEach(e => {\n      k(e.type) && o.push(e);\n    });\n    const i = await t.hitTest(e, {\n      exclude: o\n    });\n    if (i.results.length > 0) {\n      const e = i.results[0];\n      if (null != e && \"graphic\" === e.type && e.graphic && (!i.ground.mapPoint || t.map.ground.opacity < 1 || i.ground.distance - (e.distance ?? 0) > -Math.min(3 * i.ground.distance, \"global\" === t.viewingMode ? _(t.renderCoordsHelper.spatialReference).radius / t.renderCoordsHelper.unitInMeters : Number.POSITIVE_INFINITY))) return e;\n    }\n    return null;\n  }\n  _generateViewHandles(e) {\n    return [e.on(\"immediate-click\", async e => {\n      const t = \"active\" === this.state && \"create\" === this._operationHandle?.type;\n      \"disabled\" !== this.state && !t && this.updateOnGraphicClick && (await this._updatingHandles.addPromise(this._handleImmediateClick(e)));\n    }, F.WIDGET)];\n  }\n  async _handleImmediateClick(e) {\n    const t = await e.async(() => this._getFirstHit(Y(e)));\n    let o = null;\n    if (null != t) {\n      const i = t.graphic;\n      this.updateGraphics.includes(i) || i.layer === this.layer ? (e.stopPropagation(), o = i) : \"2d\" !== this.view?.type || this._isComponentGraphic(i) || \"active\" !== this.state || this.cancel();\n    } else \"active\" === this.state && this.cancel();\n    null == o || this.updateGraphics.includes(o) || (await this.update([o], {\n      ...this.defaultUpdateOptions,\n      reshapeOptions: {\n        ...this.defaultUpdateOptions.reshapeOptions\n      }\n    }));\n  }\n  async _setupCreateOperation(e, t) {\n    const o = this.view;\n    if (!o) return this._logMissingView(), null;\n    const i = {\n        hasZ: \"3d\" === o.type,\n        ...this.defaultCreateOptions,\n        ...t\n      },\n      a = await this._setupDrawGraphicTool(e, o, i);\n    return null == a ? null : (o.tools.add(a), o.activeTool = a, this._setupCreateOperationHandle(a));\n  }\n  async _setupDrawGraphicTool(e, t, o) {\n    if (\"multipoint\" === e && \"3d\" === t.type) return this._logError(\"sketch:create\", \"Multipoint geometries are not supported in SceneView.\"), null;\n    if (!t) return this._logMissingView(), null;\n    const {\n        cursor: i,\n        defaultZ: a,\n        hasZ: s,\n        geometryToPlace: r,\n        graphicProperties: n,\n        mode: p,\n        preserveAspectRatio: l\n      } = o,\n      h = X(p, e),\n      c = ee(e),\n      d = o?.optionsPerTool?.has(e) ? o.optionsPerTool.get(e) : {},\n      u = d?.preserveAspectRatio ?? l ?? \"rectangle\" !== e,\n      y = {\n        centered: \"rectangle\" !== e && !(\"circle\" === e && !u),\n        cursor: i,\n        defaultZ: a,\n        forceUniformSize: u,\n        graphicProperties: {\n          ...n,\n          attributes: {\n            ...n?.attributes\n          }\n        },\n        geometryToPlace: r,\n        geometryType: c,\n        mode: h,\n        graphicSymbol: this._getGraphicSymbolFromTool(e),\n        hasZ: s,\n        snappingManager: this.snappingManager,\n        snapToScene: !1,\n        view: t,\n        ...d\n      };\n    return \"2d\" === t.type ? this._makeDrawGraphicTool2D(y) : this._makeDrawGraphicTool3D(y);\n  }\n  async _makeDrawGraphicTool2D(e) {\n    const t = await this._requireModule(import(\"../../views/2d/interactive/editingTools.js\"));\n    return ue(t) || this.destroyed ? null : new t.module.DrawGraphicTool2D({\n      ...e,\n      activeVertexSymbol: this.activeVertexSymbol,\n      regularVerticesSymbol: this.vertexSymbol,\n      activeLineSymbol: this.activeLineSymbol,\n      activeFillSymbol: re(e.geometryType) ? this.activeFillSymbol : null,\n      sketchOptions: this.sketchOptions\n    });\n  }\n  async _makeDrawGraphicTool3D(e) {\n    const t = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ue(t) || this.destroyed) return null;\n    const {\n      elevationInfo: o\n    } = this.layer;\n    return new t.module.DrawGraphicTool3D({\n      ...e,\n      elevationInfo: o,\n      snapToScene: !0,\n      sketchOptions: this.sketchOptions\n    });\n  }\n  _setupCreateOperationHandle(e) {\n    const t = this.view;\n    if (!t) return this._logMissingView(), null;\n    let o = null;\n    const i = e.forceUniformSize,\n      s = e.centered,\n      r = [t.on(\"key-down\", t => {\n        if (t.key === V.pan) t.stopPropagation(), t.repeat || (e.enabled = !1);else if (t.key === V.complete) t.stopPropagation(), e.completeCreateOperation();else if (t.key !== V.vertexAdd || t.repeat) t.key === V.undo ? (t.stopPropagation(), n.undo()) : t.key === V.redo ? (t.stopPropagation(), n.redo()) : t.key !== V.constraint || \"rectangle\" !== e.geometryType && \"circle\" !== e.geometryType || t.repeat ? t.key === V.center && (t.repeat || (e.centered = !s, t.stopPropagation())) : (e.forceUniformSize = !i, t.stopPropagation());else {\n          const o = e.drawOperation.geometryType;\n          \"polyline\" !== o && \"polygon\" !== o && \"multipoint\" !== o || (t.stopPropagation(), e.drawOperation.commitStagedVertex());\n        }\n      }, F.WIDGET), t.on(\"key-up\", t => {\n        t.key === V.pan ? e.enabled = !0 : t.key !== V.constraint || \"rectangle\" !== e.geometryType && \"circle\" !== e.geometryType ? t.key === V.center && (e.centered = s, t.stopPropagation()) : (e.forceUniformSize = i, t.stopPropagation());\n      }, F.WIDGET), e.on(\"vertex-add\", t => {\n        switch (o = null == o ? \"start\" : \"active\", t.operation) {\n          case \"apply\":\n            this.emit(\"create\", {\n              graphic: e.graphic,\n              state: o,\n              tool: this.activeTool,\n              toolEventInfo: t,\n              type: \"create\"\n            });\n            break;\n          case \"undo\":\n            this._emitUndoEvent({\n              graphics: [e.graphic],\n              tool: e.geometryType\n            });\n            break;\n          case \"redo\":\n            this._emitRedoEvent({\n              graphics: [e.graphic],\n              tool: e.geometryType\n            });\n        }\n      }), e.on(\"cursor-update\", t => {\n        e.drawOperation.numCommittedVertices > 0 && this.emit(\"create\", {\n          graphic: e.graphic,\n          state: \"active\",\n          tool: this.activeTool,\n          toolEventInfo: {\n            coordinates: t.vertices[0].coordinates,\n            type: \"cursor-update\"\n          },\n          type: \"create\"\n        });\n      }), e.on(\"vertex-remove\", t => {\n        switch (t.operation) {\n          case \"apply\":\n            this.emit(\"create\", {\n              graphic: e.graphic,\n              state: \"active\",\n              tool: this.activeTool,\n              toolEventInfo: t,\n              type: \"create\"\n            });\n            break;\n          case \"undo\":\n            this._emitUndoEvent({\n              graphics: [e.graphic],\n              tool: e.geometryType\n            });\n            break;\n          case \"redo\":\n            this._emitRedoEvent({\n              graphics: [e.graphic],\n              tool: e.geometryType\n            });\n        }\n      }), e.on(\"complete\", e => {\n        this._set(\"createGraphic\", e.graphic), o = \"complete\", e.aborted ? n && n.cancel() : n && n.complete();\n      }), d(() => this._getGraphicSymbolFromTool(e.geometryType), t => {\n        e.graphicSymbol = t;\n      })],\n      n = new J({\n        activeComponent: e,\n        tool: e.geometryType,\n        type: \"create\",\n        onEnd: () => {\n          a(r), t.tools?.remove(e);\n        },\n        undo: () => {\n          e.canUndo && e.undo();\n        },\n        redo: () => {\n          e.canRedo && e.redo();\n        },\n        canUndo: () => e.canUndo,\n        canRedo: () => e.canRedo\n      });\n    return n;\n  }\n  _getGraphicSymbolFromTool(e) {\n    switch (e) {\n      case \"point\":\n      case \"multipoint\":\n        return this.pointSymbol;\n      case \"polyline\":\n      case \"freehandPolyline\":\n        return this.polylineSymbol;\n      case \"circle\":\n      case \"rectangle\":\n      case \"polygon\":\n      case \"freehandPolygon\":\n        return this.polygonSymbol;\n      case \"mesh\":\n        return this.meshSymbol;\n    }\n  }\n  async _setupUpdateOperation(e, t) {\n    const {\n      layer: o,\n      view: i\n    } = this;\n    if (!i) return this._logMissingView(), null;\n    const a = {\n      ...this.defaultUpdateOptions,\n      ...t,\n      reshapeOptions: {\n        ...this.defaultUpdateOptions.reshapeOptions,\n        ...t?.reshapeOptions\n      },\n      highlightOptions: {\n        ...this.defaultUpdateOptions.highlightOptions,\n        ...t?.highlightOptions\n      }\n    };\n    let s = a.tool ?? oe.tool;\n    for (const r of e) o.remove(r), o.add(r);\n    if (\"3d\" === i.type) {\n      if (0 === e.length) return null;\n      switch (s) {\n        case \"move\":\n          return this._setupMove3DOperation(e, a, i, s);\n        case \"reshape\":\n          return e.length > 1 ? (this._logError(\"sketch:reshape-multiple\", \"Reshape operation does not support multiple graphics.\"), null) : this._setupReshape3DOperation(e[0], a, i);\n        case \"transform\":\n          return this._setupGraphicTransform3DOperation(e, a, i);\n      }\n    }\n    switch (s) {\n      case \"move\":\n        return this._setupMove2DOperation(e, a, i);\n      case \"reshape\":\n        return e.length > 1 ? (this._logError(\"sketch:reshape-multiple\", \"Reshape operation does not support multiple graphics.\"), null) : this._setupTransformOrReshape2DOperation(e, s, a, i);\n      case \"transform\":\n        if (1 === e.length) {\n          const t = e[0].geometry?.type;\n          \"point\" !== t && \"multipoint\" !== t || (s = \"reshape\");\n        }\n        return this._setupTransformOrReshape2DOperation(e, s, a, i);\n    }\n  }\n  async _setupMove3DOperation(e, t, o, i) {\n    let s = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n    const r = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ue(r)) return r;\n    const {\n        ManipulatedObject3DGraphic: n,\n        MoveTool3D: p\n      } = r.module,\n      l = new Map(),\n      h = () => {\n        l.forEach(e => e.destroy()), l.clear();\n      };\n    for (const a of e) {\n      const e = new n({\n          view: o,\n          graphic: a\n        }),\n        t = U(e);\n      if (t !== j.SUPPORTED) return h(), this._logError(\"sketch:move\", `Move operation not supported for provided graphic(s) (${I(t)}).`), null;\n      l.set(a, e);\n    }\n    const c = new p({\n      view: o,\n      enableZ: t.enableZ,\n      snappingManager: this.snappingManager,\n      sketchOptions: this.sketchOptions\n    });\n    o.tools.add(c), c.objects.addMany(Array.from(l.values())), s || this.updateGraphics.addMany(e);\n    const d = [],\n      u = new Q({\n        activeComponent: c,\n        tool: i,\n        type: \"update\",\n        onEnd: () => {\n          a(d), de(o, c), h();\n        },\n        undo: () => {\n          he(this.view, c), ne(u, this.updateGraphics.toArray()), this._emitUndoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: i\n          });\n        },\n        redo: () => {\n          pe(u, this.updateGraphics.toArray()), this._emitRedoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: i\n          });\n        },\n        addToSelection: e => {\n          this.updateGraphics.push(e);\n          const t = new n({\n            view: o,\n            graphic: e\n          });\n          l.set(e, t), c.objects.push(t), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [e],\n              removed: [],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          });\n        },\n        removeFromSelection: e => {\n          const t = this.updateGraphics.indexOf(e);\n          if (u.history.undo.forEach(e => e.updates.splice(t, 1)), u.history.redo.forEach(e => e.updates.splice(t, 1)), this.updateGraphics.remove(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [],\n              removed: [e],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), 0 === this.updateGraphics.length) return void u.complete();\n          const o = l.get(e);\n          o && (c.objects.remove(o), o.destroy(), l.delete(e));\n        },\n        toggleTool: async () => {\n          if (1 !== this.updateGraphics.length || !1 === t.toggleToolOnClick) return;\n          if (\"transform\" !== i) return;\n          const e = this.updateGraphics.at(0),\n            a = await this._setupReshape3DOperation(e, t, o, !0);\n          a && !ue(a) && (u.onEnd(), u.destroy(), this._setUpdateOperationHandle(a, t));\n        }\n      });\n    return d.push(...this._getHandlesForComponent(u, t), o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(u, e, t), F.WIDGET), o.on(\"key-down\", e => {\n      this._getCommonUpdateOperationKeyDownHandlers(u, e);\n    }, F.WIDGET)), u;\n  }\n  _setupGraphicTransform3DOperation(e, t, o) {\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n    if (1 === e.length && x(e[0]) === j.SUPPORTED) {\n      const a = e[0],\n        s = a.geometry;\n      if (null != s && (\"point\" === s.type || \"mesh\" === s.type)) return this._setupPointTransform3DOperation(a, t, o);\n      if (null != s && (\"polygon\" === s.type || \"polyline\" === s.type)) return this._setupPolyTransform3DOperation(a, t, o, i);\n    }\n    return this._setupMove3DOperation(e, t, o, \"transform\", i);\n  }\n  async _setupPointTransform3DOperation(e, t, o) {\n    const i = \"transform\",\n      {\n        enableRotation: s,\n        enableScaling: r,\n        enableZ: n\n      } = t,\n      p = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ue(p)) return p;\n    const {\n        TransformTool3D: l,\n        ManipulatedObject3DGraphic: h\n      } = p.module,\n      c = new h({\n        graphic: e,\n        view: o\n      }),\n      d = new l({\n        object: c,\n        view: o,\n        enableRotation: s,\n        enableScaling: r,\n        enableZ: n,\n        snappingManager: this.snappingManager,\n        sketchOptions: this.sketchOptions\n      });\n    o.tools.add(d), this.updateGraphics.add(e);\n    const u = [],\n      y = new Q({\n        activeComponent: d,\n        tool: i,\n        type: \"update\",\n        onEnd: () => {\n          a(u), de(o, d), c.destroy();\n        },\n        undo: () => {\n          he(this.view, d), ne(y, this.updateGraphics.toArray()), this._emitUndoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: i\n          });\n        },\n        redo: () => {\n          pe(y, this.updateGraphics.toArray()), this._emitRedoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: i\n          });\n        },\n        addToSelection: async e => {\n          this.updateGraphics.add(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [e],\n              removed: [],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), y.onEnd(), y.destroy();\n          const i = await this._setupMove3DOperation(this.updateGraphics.toArray(), t, o, \"transform\", !0);\n          ue(i) || this._setUpdateOperationHandle(i, t);\n        },\n        removeFromSelection: e => {\n          this.updateGraphics.remove(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [],\n              removed: [e],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), y.complete();\n        },\n        toggleTool: () => {}\n      });\n    return u.push(...this._getHandlesForComponent(y, t), o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(y, e, t), F.WIDGET), o.on(\"key-down\", e => {\n      this._getCommonUpdateOperationKeyDownHandlers(y, e);\n    }, F.WIDGET)), y;\n  }\n  async _setupPolyTransform3DOperation(e, t, o) {\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n    const s = \"transform\",\n      {\n        enableRotation: r,\n        enableScaling: n,\n        enableZ: p,\n        preserveAspectRatio: l\n      } = t,\n      h = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ue(h)) return h;\n    const {\n        ManipulatedObject3DGraphic: c,\n        ExtentTransformTool: d\n      } = h.module,\n      u = this.view?.inputManager?.isModifierKeyDown(V.constraint),\n      y = new c({\n        view: o,\n        graphic: e\n      }),\n      m = new d({\n        object: y,\n        view: o,\n        enableRotation: r,\n        enableScaling: n,\n        enableZ: p,\n        preserveAspectRatio: !!l != !!u,\n        sketchOptions: this.sketchOptions\n      });\n    o.tools.add(m), i || this.updateGraphics.add(e);\n    const g = [],\n      v = new Q({\n        activeComponent: m,\n        tool: s,\n        type: \"update\",\n        onEnd: () => {\n          a(g), de(o, m), y.destroy();\n        },\n        canUndo: () => !m.destroyed && m.canUndo,\n        undo: () => {\n          m.destroyed || (m.undo(), this._emitUndoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: s\n          }));\n        },\n        canRedo: () => !m.destroyed && m.canRedo,\n        redo: () => {\n          m.destroyed || (m.redo(), this._emitRedoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: s\n          }));\n        },\n        addToSelection: async e => {\n          this.updateGraphics.add(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [e],\n              removed: [],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), v.onEnd(), v.destroy();\n          const i = await this._setupMove3DOperation(this.updateGraphics.toArray(), t, o, \"transform\", !0);\n          ue(i) || this._setUpdateOperationHandle(i, t);\n        },\n        removeFromSelection: e => {\n          this.updateGraphics.remove(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [],\n              removed: [e],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), v.complete();\n        },\n        toggleTool: async () => {\n          if (1 !== this.updateGraphics.length || !1 === t.toggleToolOnClick) return;\n          const i = await this._setupReshape3DOperation(e, t, o, !0);\n          i && !ue(i) && (v.onEnd(), v.destroy(), this._setUpdateOperationHandle(i, t));\n        }\n      });\n    return g.push(...this._getHandlesForComponent(v, t), o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(v, e, t), F.WIDGET), o.on(\"key-down\", e => this._getCommonUpdateOperationKeyDownHandlers(v, e), F.WIDGET), o.on(\"key-down\", e => {\n      e.key !== V.constraint || e.repeat || (m.preserveAspectRatio = !m.preserveAspectRatio, e.stopPropagation());\n    }, F.WIDGET), o.on(\"key-up\", e => {\n      e.key === V.constraint && (m.preserveAspectRatio = !m.preserveAspectRatio, e.stopPropagation());\n    }, F.WIDGET)), v;\n  }\n  async _setupMove2DOperation(e, t, o) {\n    const i = \"move\";\n    this.updateGraphics.addMany(e), await this._updatingHandles.addPromise(this._updateSpatialReference(e));\n    const s = await this._getGraphicMover(e, t, o);\n    if (ue(s)) return s;\n    const r = new Q({\n      activeComponent: s,\n      tool: i,\n      type: \"update\",\n      onEnd: () => {\n        this._displayDefaultCursor(), a(l), a(p), s.destroy(), this._internalGraphicsLayer?.removeMany([...this.updateGraphics.toArray()]);\n      },\n      undo: () => {\n        const e = this.updateGraphics.toArray();\n        ne(r, e), r.refreshComponent(), this._emitUndoEvent({\n          graphics: e,\n          tool: i\n        });\n      },\n      redo: () => {\n        const e = this.updateGraphics.toArray();\n        pe(r, e), r.refreshComponent(), this._emitRedoEvent({\n          graphics: e,\n          tool: i\n        });\n      },\n      addToSelection: async e => {\n        await this._updatingHandles.addPromise(this._updateSpatialReference(e)), this.updateGraphics.push(e), s.graphics = this.updateGraphics.toArray(), this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            added: [e],\n            removed: [],\n            type: \"selection-change\"\n          },\n          type: \"update\"\n        });\n      },\n      removeFromSelection: e => {\n        const t = this.updateGraphics.indexOf(e);\n        r.history.undo.forEach(e => e.updates.splice(t, 1)), r.history.redo.forEach(e => e.updates.splice(t, 1)), this.updateGraphics.remove(e);\n        const o = this.updateGraphics.toArray();\n        this.emit(\"update\", {\n          graphics: o,\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            added: [],\n            removed: [e],\n            type: \"selection-change\"\n          },\n          type: \"update\"\n        }), 0 !== this.updateGraphics.length ? s.graphics = o : r.complete();\n      }\n    });\n    let n = !1;\n    const p = [o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(r, e, t), F.WIDGET), o.on(\"key-down\", e => {\n        this._getCommonUpdateOperationKeyDownHandlers(r, e), e.key !== V.constraint || e.repeat || (n = !0, s.enableMoveAllGraphics = !s.enableMoveAllGraphics);\n      }, F.WIDGET), o.on(\"key-up\", e => {\n        e.key === V.constraint && n && (n = !1, s.enableMoveAllGraphics = !s.enableMoveAllGraphics);\n      }, F.WIDGET)],\n      l = this._getHandlesForComponent(r, t);\n    return r;\n  }\n  async _setupReshape3DOperation(e, t, o) {\n    let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n    const s = \"reshape\",\n      r = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ue(r)) return r;\n    const {\n        ManipulatedObject3DGraphic: n,\n        ReshapeTool3D: p\n      } = r.module,\n      l = new n({\n        view: o,\n        graphic: e\n      }),\n      h = P(l);\n    if (h !== j.SUPPORTED) return l.destroy(), this._logError(\"sketch:reshape\", `Reshape operation not supported for provided graphic(s) (${I(h)}).`), null;\n    const c = t.reshapeOptions,\n      d = new p({\n        view: o,\n        object: l,\n        enableZVertex: t.enableZ && \"move\" === c?.vertexOperation,\n        enableZShape: t.enableZ && \"move\" === c?.shapeOperation,\n        enableMoveObject: \"move\" === c?.shapeOperation || \"move-xy\" === c?.shapeOperation,\n        enableMidpoints: \"split\" === c?.edgeOperation,\n        enableEdgeOffset: \"offset\" === c?.edgeOperation,\n        snappingManager: this.snappingManager,\n        sketchOptions: this.sketchOptions\n      });\n    o.tools.add(d), i || this.updateGraphics.add(l.graphic);\n    const u = [],\n      y = new Q({\n        activeComponent: d,\n        tool: s,\n        type: \"update\",\n        onEnd: () => {\n          a(u), de(o, d), l.destroy();\n        },\n        canUndo: () => !d.destroyed && d.canUndo,\n        undo: () => {\n          d.destroyed || (d.undo(), this._emitUndoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: s\n          }));\n        },\n        canRedo: () => !d.destroyed && d.canRedo,\n        redo: () => {\n          d.destroyed || (d.redo(), this._emitRedoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: s\n          }));\n        },\n        addToSelection: async e => {\n          this.updateGraphics.add(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [e],\n              removed: [],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), y.onEnd(), y.destroy();\n          const i = await this._setupMove3DOperation(this.updateGraphics.toArray(), t, o, \"transform\", !0);\n          ue(i) || this._setUpdateOperationHandle(i, t);\n        },\n        removeFromSelection: e => {\n          this.updateGraphics.remove(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [],\n              removed: [e],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), y.complete();\n        },\n        toggleTool: async () => {\n          if (!1 === t.toggleToolOnClick) return;\n          y.onEnd(), y.destroy();\n          const e = await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(), t, o, !0);\n          ue(e) || this._setUpdateOperationHandle(e, t);\n        }\n      });\n    return u.push(...this._getHandlesForComponent(y, t), o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(y, e, t), F.WIDGET), o.on(\"key-down\", e => {\n      this._getCommonUpdateOperationKeyDownHandlers(y, e);\n    }, F.WIDGET)), y;\n  }\n  async _setupTransformOrReshape2DOperation(e, t, o, i) {\n    this.updateGraphics.addMany(e), await this._updatingHandles.addPromise(this._updateSpatialReference(e));\n    const s = \"transform\" === t ? await this._getBox(e, o, i) : await this._getReshape(e, o, i);\n    if (ue(s)) return s;\n    const r = new Q({\n        activeComponent: s,\n        type: \"update\",\n        onEnd: () => {\n          a(p), a(n), r.activeComponent && !r.activeComponent.destroyed && r.activeComponent.destroy(), this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray());\n        },\n        undo: () => {\n          ne(r, this.updateGraphics.toArray()), r.refreshComponent(), this._emitUndoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: r.tool\n          });\n        },\n        redo: () => {\n          pe(r, this.updateGraphics.toArray()), r.refreshComponent(), this._emitRedoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: r.tool\n          });\n        },\n        addToSelection: async e => {\n          let t = r.activeComponent;\n          if (\"reshape\" === t?.type) {\n            const t = [...this.updateGraphics, e];\n            this.updateGraphics.removeAll(), r.onEnd(), r.destroy();\n            const a = await this._setupTransformOrReshape2DOperation(t, \"transform\", o, i);\n            if (ue(a)) return;\n            this._setUpdateOperationHandle(a, o);\n          } else this.updateGraphics.add(e), t.graphics = this.updateGraphics.toArray(), t.refresh(), r.resetHistory();\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [e],\n              removed: [],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          });\n        },\n        removeFromSelection: async e => {\n          const t = this.updateGraphics.indexOf(e);\n          r.history.undo.forEach(e => e.updates.splice(t, 1)), r.history.redo.forEach(e => e.updates.splice(t, 1)), this.updateGraphics.remove(e);\n          const o = this.updateGraphics.toArray();\n          if (0 === o.length) r.complete();else {\n            const e = o[0].geometry;\n            1 !== o.length || null == e || \"point\" !== e.type && \"multipoint\" !== e.type ? r.activeComponent.graphics = o : r.toggleTool();\n          }\n          this.emit(\"update\", {\n            graphics: o,\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [],\n              removed: [e],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          });\n        },\n        toggleTool: async () => {\n          if (this.updateGraphics.length > 1) return;\n          const e = this.updateGraphics.at(0),\n            t = e.geometry;\n          if (null != t && (\"reshape\" === r.tool && (\"point\" === t.type || \"multipoint\" === t.type) || \"transform\" === r.tool && \"extent\" === t.type)) return;\n          let s = null;\n          \"transform\" === r.tool ? s = await this._getReshape([e], o, i) : \"reshape\" === r.tool && (s = await this._getBox([e], o, i)), ue(s) || (r.activeComponent?.destroy(), r.activeComponent = s, r.activeComponent && (a(p), p = this._getHandlesForComponent(r, o)));\n        }\n      }),\n      n = [i.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(r, e, o), F.WIDGET), i.on(\"key-down\", e => {\n        if (this._getCommonUpdateOperationKeyDownHandlers(r, e), e.key === V.constraint && !e.repeat && r) {\n          const e = r.activeComponent;\n          e && \"box\" === e.type && (e.preserveAspectRatio = !e.preserveAspectRatio);\n        }\n      }, F.WIDGET), i.on(\"key-up\", e => {\n        if (e.key === V.constraint && r) {\n          const e = r.activeComponent;\n          e && \"box\" === e.type && (e.preserveAspectRatio = !e.preserveAspectRatio);\n        }\n      }, F.WIDGET)];\n    let p = this._getHandlesForComponent(r, o);\n    return r;\n  }\n  async _getGraphicMover(e, t, o) {\n    const {\n        enableMoveAllGraphics: i,\n        highlightOptions: a\n      } = t,\n      s = await this._requireModule(import(\"../../views/draw/support/GraphicMover.js\"));\n    return ue(s) ? s : new s.module.default({\n      enableMoveAllGraphics: i,\n      highlightsEnabled: !!a?.enabled,\n      indicatorsEnabled: !1,\n      graphics: e,\n      view: o,\n      callbacks: {\n        onGraphicMoveStart: _ref => {\n          let {\n            dx: e,\n            dy: t,\n            graphic: o\n          } = _ref;\n          this._displayGrabbingCursor(), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e,\n              dy: t,\n              mover: o,\n              type: \"move-start\"\n            },\n            type: \"update\"\n          });\n        },\n        onGraphicMove: _ref2 => {\n          let {\n            dx: e,\n            dy: t,\n            graphic: o\n          } = _ref2;\n          return this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e,\n              dy: t,\n              mover: o,\n              type: \"move\"\n            },\n            type: \"update\"\n          });\n        },\n        onGraphicMoveStop: _ref3 => {\n          let {\n            dx: e,\n            dy: t,\n            graphic: o\n          } = _ref3;\n          this._displayPointerCursor(), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e,\n              dy: t,\n              mover: o,\n              type: \"move-stop\"\n            },\n            type: \"update\"\n          });\n        },\n        onGraphicPointerOver: () => this._displayPointerCursor(),\n        onGraphicPointerOut: () => this._displayDefaultCursor()\n      }\n    });\n  }\n  async _getBox(e, t, o) {\n    const {\n        enableRotation: i,\n        enableScaling: a,\n        highlightOptions: s,\n        preserveAspectRatio: r\n      } = t,\n      n = await this._requireModule(import(\"../../views/draw/support/Box.js\"));\n    if (ue(n)) return n;\n    const p = this.view?.inputManager?.isModifierKeyDown(V.constraint);\n    return new n.module.default({\n      graphics: e,\n      enableRotation: i,\n      enableScaling: a,\n      highlightsEnabled: !!s?.enabled,\n      preserveAspectRatio: !!r != !!p,\n      layer: this._internalGraphicsLayer,\n      view: o,\n      sketchOptions: this.sketchOptions,\n      callbacks: {\n        onMoveStart: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onMove: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onMoveStop: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onScaleStart: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onScale: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onScaleStop: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onRotateStart: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onRotate: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onRotateStop: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        })\n      }\n    });\n  }\n  async _getReshape(e, t, o) {\n    const i = \"split\" === t.reshapeOptions?.edgeOperation,\n      a = \"move\" === t.reshapeOptions?.shapeOperation,\n      s = !!t.highlightOptions?.enabled,\n      r = await this._requireModule(import(\"../../views/draw/support/Reshape.js\"));\n    return ue(r) ? r : new r.module.default({\n      enableMidpoints: i,\n      enableMovement: a,\n      graphic: e[0],\n      highlightsEnabled: s,\n      layer: this._internalGraphicsLayer,\n      snappingManager: this.snappingManager,\n      sketchOptions: this.sketchOptions,\n      view: o,\n      callbacks: {\n        onReshapeStart: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onReshape: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onReshapeStop: _ref4 => {\n          let {\n            mover: e,\n            type: t\n          } = _ref4;\n          return this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e,\n              type: t\n            },\n            type: \"update\"\n          });\n        },\n        onMoveStart: _ref5 => {\n          let {\n            dx: e,\n            dy: t,\n            mover: o,\n            type: i\n          } = _ref5;\n          return this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e,\n              dy: t,\n              mover: o,\n              type: i\n            },\n            type: \"update\"\n          });\n        },\n        onMove: _ref6 => {\n          let {\n            dx: e,\n            dy: t,\n            mover: o,\n            type: i\n          } = _ref6;\n          return this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e,\n              dy: t,\n              mover: o,\n              type: i\n            },\n            type: \"update\"\n          });\n        },\n        onMoveStop: _ref7 => {\n          let {\n            dx: e,\n            dy: t,\n            mover: o,\n            type: i\n          } = _ref7;\n          return this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e,\n              dy: t,\n              mover: o,\n              type: i\n            },\n            type: \"update\"\n          });\n        },\n        onVertexAdd: _ref8 => {\n          let {\n            added: e,\n            type: t,\n            vertices: o\n          } = _ref8;\n          const i = e.map(e => T(e.geometry));\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: i,\n              vertices: o,\n              type: t\n            },\n            type: \"update\"\n          });\n        },\n        onVertexRemove: _ref9 => {\n          let {\n            removed: e,\n            type: t,\n            vertices: o\n          } = _ref9;\n          const i = e.map(e => T(e.geometry));\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              removed: i,\n              vertices: o,\n              type: t\n            },\n            type: \"update\"\n          });\n        }\n      }\n    });\n  }\n  _getHandlesForComponent(e, t) {\n    const o = e.activeComponent;\n    if (!o) return [];\n    switch (o.type) {\n      case \"graphic-mover\":\n        return [o.on(\"graphic-click\", _ref10 => {\n          let {\n            graphic: t,\n            viewEvent: o\n          } = _ref10;\n          o.native?.shiftKey && (o.stopPropagation(), e.removeFromSelection(t));\n        }), o.on(\"graphic-move-start\", t => e.addToHistory(ce(t.allGraphics)))];\n      case \"box\":\n        return [o.on(\"graphic-click\", o => this._onTransformOrReshape2DGraphicClick(e, t, o)), o.on(\"move-start\", t => e.addToHistory(ce(t.graphics))), o.on(\"rotate-start\", t => e.addToHistory(ce(t.graphics))), o.on(\"scale-start\", t => e.addToHistory(ce(t.graphics)))];\n      case \"reshape\":\n        return [o.on(\"graphic-click\", o => this._onTransformOrReshape2DGraphicClick(e, t, o)), o.on(\"move-start\", t => e.addToHistory(ce([t.mover]))), o.on(\"reshape-start\", t => e.addToHistory(ce([t.graphic]))), o.on(\"vertex-add\", t => e.addToHistory(ce([t.oldGraphic]))), o.on(\"vertex-remove\", t => e.addToHistory(ce([t.oldGraphic])))];\n      case \"move-3d\":\n        return [o.events.on(\"record-undo\", _ref11 => {\n          let {\n            updates: t\n          } = _ref11;\n          e.addToHistory({\n            updates: t\n          });\n        }), o.events.on(\"move-start\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: 0,\n              dy: 0,\n              mover: e.objects.length > 0 ? e.objects[0].graphic : null,\n              type: \"move-start\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"move\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e.dx,\n              dy: e.dy,\n              mover: e.objects.length > 0 ? e.objects[0].graphic : null,\n              type: \"move\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"move-stop\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: 0,\n              dy: 0,\n              mover: e.objects.length > 0 ? e.objects[0].graphic : null,\n              type: \"move-stop\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"immediate-click\", o => {\n          o.shiftKey ? this._toggleSelection([o.object.graphic], e, t) : e.toggleTool();\n        })];\n      case \"transform-3d\":\n        return [o.events.on(\"record-undo\", _ref12 => {\n          let {\n            updates: t\n          } = _ref12;\n          e.addToHistory({\n            updates: t\n          });\n        }), o.events.on(\"translate-start\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              dx: e.dxScreen,\n              dy: e.dyScreen,\n              type: \"move-start\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"translate-stop\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              dx: e.dxScreen,\n              dy: e.dyScreen,\n              type: \"move-stop\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"rotate-start\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              angle: e.angle,\n              type: \"rotate-start\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"rotate-stop\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              angle: e.angle,\n              type: \"rotate-stop\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"scale-start\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              xScale: e.xScale,\n              yScale: e.yScale,\n              type: \"scale-start\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"scale-stop\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              xScale: e.xScale,\n              yScale: e.yScale,\n              type: \"scale-stop\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"translate\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              dx: e.dxScreen,\n              dy: e.dyScreen,\n              type: \"move\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"rotate\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              angle: e.angle,\n              type: \"rotate\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"scale\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              xScale: e.xScale,\n              yScale: e.yScale,\n              type: \"scale\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"immediate-click\", o => {\n          o.shiftKey ? this._toggleSelection([o.object.graphic], e, t) : e.toggleTool();\n        })];\n      case \"reshape-3d\":\n        return [o.events.on(\"reshape\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              ...e,\n              mover: e.object.graphic\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"move\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              ...e,\n              mover: e.object.graphic\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"vertex-add\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: e,\n            type: \"update\"\n          });\n        }), o.events.on(\"vertex-remove\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: e,\n            type: \"update\"\n          });\n        }), o.events.on(\"immediate-click\", o => {\n          o.shiftKey ? this._toggleSelection([o.object.graphic], e, t) : e.toggleTool();\n        })];\n    }\n  }\n  _onTransformOrReshape2DGraphicClick(e, t, o) {\n    const {\n      graphic: i,\n      viewEvent: a\n    } = o;\n    return a.native?.shiftKey && i.layer === this.layer ? (a.stopPropagation(), e.removeFromSelection(i)) : t.toggleToolOnClick ? (a.stopPropagation(), e.toggleTool()) : void 0;\n  }\n  _setUpdateOperationHandle(e, t) {\n    this._operationHandle = e;\n    const o = this.view?.map;\n    this._disablePopup(t);\n    const i = () => {\n      if (e === this._operationHandle) {\n        const i = this.updateGraphics.toArray(),\n          a = this._operationHandle.tool;\n        this._operationHandle.destroy(), this._operationHandle = null, this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()), this.updateGraphics.removeAll(), o && o.remove(this._internalGraphicsLayer), this._restorePopup(t), this.emit(\"update\", {\n          graphics: i,\n          state: \"complete\",\n          aborted: e.cancelled,\n          tool: a,\n          toolEventInfo: null,\n          type: \"update\"\n        });\n      }\n    };\n    e.on(\"complete\", i);\n  }\n  async _getCommonUpdateOperationClickHandlers(e, t, o) {\n    const i = Y(t),\n      a = await t.async(() => this._getFirstHit(i));\n    if (null == a) return void e.complete();\n    if (t.native.shiftKey && this._toggleSelection([a.graphic], e, o)) return void t.stopPropagation();\n    this.updateGraphics.includes(a.graphic) ? t.stopPropagation() : e.complete();\n  }\n  _toggleSelection(e, t, o) {\n    const i = !!o.multipleSelectionEnabled;\n    return e.some(e => null != e && !(!i || e.layer !== this.layer) && (this.updateGraphics.includes(e) ? t.removeFromSelection(e) : t.addToSelection(e), !0));\n  }\n  _getCommonUpdateOperationKeyDownHandlers(e, t) {\n    if (!e) return;\n    const o = t.key;\n    o === V.undo && e.canUndo() ? (t.stopPropagation(), e.undo()) : o === V.redo && e.canRedo() ? (t.stopPropagation(), e.redo()) : o === V.cancel ? (t.stopPropagation(), e.cancel()) : this.allowDeleteKey && V.delete.includes(o) && this._onDeleteKey(t);\n  }\n  _onDeleteKey(e) {\n    if (!this._operationHandle || \"update\" !== this._operationHandle.type) return;\n    const t = this.activeComponent,\n      o = this.updateGraphics.toArray();\n    null != t && (\"reshape\" !== t.type || 1 === o.length && \"point\" === o[0].geometry?.type) && (e.stopPropagation(), this.delete());\n  }\n  _removeDefaultLayer() {\n    this._internalGraphicsLayer && (this.view?.map?.remove(this._internalGraphicsLayer), this._internalGraphicsLayer = r(this._internalGraphicsLayer));\n  }\n  _isComponentGraphic(e) {\n    const {\n      activeComponent: t\n    } = this;\n    return !(!e || null == t) && (e.attributes?.esriSketchTool || \"draw-2d\" === t.type && t.graphic === e || (\"box\" === t.type || \"reshape\" === t.type) && t.isUIGraphic(e));\n  }\n  _displayPointerCursor() {\n    this.view?.container && \"pointer\" !== this.view.cursor && (this.view.cursor = \"pointer\");\n  }\n  _displayGrabbingCursor() {\n    this.view?.container && \"grabbing\" !== this.view.cursor && (this.view.cursor = \"grabbing\");\n  }\n  _displayDefaultCursor() {\n    this.view?.container && null !== this.view.cursor && (this.view.cursor = null);\n  }\n  _logError(e, t, i) {\n    s.getLogger(this).error(new o(e, t, i));\n  }\n  async _requireModule(e) {\n    const t = new AbortController();\n    this._moduleLoaderAbortController = t;\n    const o = await e;\n    return this._moduleLoaderAbortController !== t || t.signal.aborted ? {\n      requireError: \"aborted\"\n    } : {\n      module: o\n    };\n  }\n  _emitUndoEvent(e) {\n    this.emit(\"undo\", {\n      ...e,\n      type: \"undo\"\n    });\n  }\n  _emitRedoEvent(e) {\n    this.emit(\"redo\", {\n      ...e,\n      type: \"redo\"\n    });\n  }\n  _emitDeleteEvent(e) {\n    this.emit(\"delete\", {\n      ...e,\n      type: \"delete\"\n    });\n  }\n  get test() {}\n  wait() {\n    return y(() => !this.updating);\n  }\n  _disablePopupEnabled(e) {\n    return \"3d\" !== this.view?.type || this.updateOnGraphicClick || (e?.toggleToolOnClick ?? !1);\n  }\n  _disablePopup(e) {\n    this._disablePopupEnabled(e) && this.view && null == this._originalPopupEnabled && (this._originalPopupEnabled = this.view.popupEnabled, this.view.popupEnabled = !1);\n  }\n  _restorePopup(e) {\n    this._disablePopupEnabled(e) && this.view && null != this._originalPopupEnabled && (this.view.popupEnabled = this._originalPopupEnabled, this._originalPopupEnabled = null);\n  }\n  async _waitViewReady() {\n    const e = this.view;\n    e ? (n(this._viewReadyAbortController), this._viewReadyAbortController = new AbortController(), await l(y(() => e?.ready), this._viewReadyAbortController.signal)) : this._logMissingView();\n  }\n  _logMissingView() {\n    this._logError(\"sketch:missing-property\", se(\"view\"));\n  }\n  _logMissingLayer() {\n    this._logError(ae, se(\"layer\"));\n  }\n};\ne([g()], ie.prototype, \"_defaultSnappingManager\", void 0), e([g()], ie.prototype, \"updating\", null), e([g({\n  readOnly: !0\n})], ie.prototype, \"_updatingHandles\", void 0), e([g()], ie.prototype, \"_operationHandle\", void 0), e([g({\n  readOnly: !0\n})], ie.prototype, \"activeTool\", null), e([g({\n  readOnly: !0\n})], ie.prototype, \"activeCreateToolDrawMode\", null), e([g()], ie.prototype, \"activeTooltip\", null), e([g({\n  types: R\n})], ie.prototype, \"activeFillSymbol\", void 0), e([g()], ie.prototype, \"activeLineSymbol\", void 0), e([g()], ie.prototype, \"activeVertexSymbol\", void 0), e([g()], ie.prototype, \"allowDeleteKey\", void 0), e([g({\n  readOnly: !0\n})], ie.prototype, \"createGraphic\", null), e([g()], ie.prototype, \"defaultCreateOptions\", null), e([g()], ie.prototype, \"defaultUpdateOptions\", null), e([g({\n  type: K,\n  nonNullable: !0\n})], ie.prototype, \"labelOptions\", null), e([g()], ie.prototype, \"layer\", void 0), e([g({\n  types: R\n})], ie.prototype, \"pointSymbol\", void 0), e([g({\n  types: R\n})], ie.prototype, \"polygonSymbol\", void 0), e([g({\n  types: R\n})], ie.prototype, \"polylineSymbol\", void 0), e([g()], ie.prototype, \"meshSymbol\", void 0), e([g({\n  type: N,\n  nonNullable: !0\n})], ie.prototype, \"snappingOptions\", null), e([g()], ie.prototype, \"snappingManager\", null), e([g({\n  readOnly: !0\n})], ie.prototype, \"state\", null), e([g({\n  type: Z,\n  nonNullable: !0\n})], ie.prototype, \"tooltipOptions\", null), e([g({\n  readOnly: !0\n})], ie.prototype, \"updateGraphics\", void 0), e([g()], ie.prototype, \"updateOnGraphicClick\", void 0), e([g()], ie.prototype, \"creationMode\", void 0), e([g({\n  type: q,\n  nonNullable: !0\n})], ie.prototype, \"valueOptions\", null), e([g({\n  types: R\n})], ie.prototype, \"vertexSymbol\", void 0), e([g({\n  value: null\n})], ie.prototype, \"view\", null), e([g({\n  constructOnly: !0,\n  type: W\n})], ie.prototype, \"sketchOptions\", void 0), ie = e([v(\"esri.widgets.Sketch.SketchViewModel\")], ie);\nconst ae = \"sketch:missing-property\",\n  se = e => `Property '${e}' is missing on SketchViewModel.`;\nfunction re(e) {\n  return \"polygon\" === e || \"rectangle\" === e || \"circle\" === e;\n}\nfunction ne(e, t) {\n  le(\"undo\", e.history.undo, e.history.redo, t);\n}\nfunction pe(e, t) {\n  le(\"redo\", e.history.redo, e.history.undo, t);\n}\nfunction le(e, t, o, i) {\n  const a = t.pop();\n  if (!a) return;\n  const s = a.updates,\n    r = [];\n  i.forEach((t, o) => {\n    const i = s[o];\n    null != i && (\"geometry\" in i && null != i.geometry && (r.push({\n      geometry: t.geometry\n    }), t.geometry = i.geometry), \"symbol\" in i && null != i.symbol && (r.push({\n      symbol: t.symbol\n    }), t.symbol = i.symbol), \"undo\" in i && (r.push(i), i[e](t)));\n  }), o.push({\n    updates: r\n  });\n}\nfunction he(e, t) {\n  null != e && t.hasGrabbedManipulators && (e.activeTool = null);\n}\nfunction ce(e) {\n  return {\n    updates: e.map(_ref13 => {\n      let {\n        geometry: e\n      } = _ref13;\n      return \"mesh\" === e?.type ? {\n        geometry: e.cloneShallow()\n      } : {\n        geometry: e\n      };\n    })\n  };\n}\nfunction de(e, t) {\n  e.tools?.remove(t), t.destroyed || t.destroy();\n}\nfunction ue(e) {\n  return \"requireError\" in e && \"aborted\" === e.requireError;\n}\nconst ye = ie;\nexport { ye as default };","map":{"version":3,"names":["_","e","t","o","i","drainHandles","a","s","destroyMaybe","r","abortMaybe","n","createAbortError","p","whenOrAbort","l","ignoreAbortErrors","h","on","c","watch","d","when","u","whenOnce","y","syncAndInitial","m","property","g","subclass","v","UpdatingHandles","f","getReferenceEllipsoid","canProjectWithoutEngine","b","load","w","project","G","isLoaded","O","geometryToCoordinates","T","equals","E","S","isIntegratedMeshLayer","k","M","A","C","H","D","symbolTypes","R","SupportedObjectResult","j","isSupportedObjectResultMessage","I","isSupportedObject","U","P","isSupportedGraphic","x","addUniqueLayer","L","ViewEventPriorities","F","sketchKeys","V","K","W","Z","q","SnappingManager","z","N","setupSnappingToggleHandles","B","findFirstGraphicHit","$","createScreenPointFromEvent","Y","CreateOperationHandle","J","UpdateOperationHandle","Q","getModeFromCreateOptions","X","getDrawToolGeometryTypeFromCreateTool","ee","te","defaultZ","oe","reshapeOptions","edgeOperation","shapeOperation","vertexOperation","enableMoveAllGraphics","enableRotation","enableScaling","multipleSelectionEnabled","preserveAspectRatio","toggleToolOnClick","enableZ","highlightOptions","enabled","tool","ie","EventedAccessor","constructor","_defaultSnappingManager","_updatingHandles","_internalGraphicsLayer","listMode","internal","title","_operationHandle","_viewHandlesKey","activeFillSymbol","activeLineSymbol","activeVertexSymbol","allowDeleteKey","layer","pointSymbol","style","size","color","outline","width","polygonSymbol","polylineSymbol","meshSymbol","symbolLayers","updateGraphics","updateOnGraphicClick","creationMode","vertexSymbol","sketchOptions","_moduleLoaderAbortController","_viewReadyAbortController","_sketchContinuationFlag","_originalPopupEnabled","defaultCreateOptions","defaultUpdateOptions","snappingOptions","snappingManager","options","initialize","addHandles","view","map","layers","removed","includes","cancel","graphics","length","removeFromSelection","elevationInfo","type","spatialReference","destroy","_removeDefaultLayer","_set","emit","updating","activeTool","activeCreateToolDrawMode","activeComponent","mode","activeTooltip","destroyed","tooltip","visible","createGraphic","_get","graphic","labelOptions","labels","_isOverridden","_override","_clearOverride","state","ready","tooltipOptions","tooltips","valueOptions","values","container","cursor","remove","removeHandles","_generateViewHandles","complete","delete","toArray","removeMany","_emitDeleteEvent","duplicate","clone","addMany","create","_waitViewReady","_logMissingLayer","_logError","addPromise","_setupCreateOperation","cancelled","add","toolEventInfo","geometryToPlace","update","focus","place","hasZ","Array","isArray","some","geometry","_setupUpdateOperation","ue","_setUpdateOperationHandle","aborted","_updateSpatialReference","_logMissingView","undo","canUndo","redo","canRedo","toggleUpdateTool","toggleTool","_getFirstHit","allLayers","forEach","push","hitTest","exclude","results","ground","mapPoint","opacity","distance","Math","min","viewingMode","renderCoordsHelper","radius","unitInMeters","Number","POSITIVE_INFINITY","_handleImmediateClick","WIDGET","async","stopPropagation","_isComponentGraphic","_setupDrawGraphicTool","tools","_setupCreateOperationHandle","graphicProperties","optionsPerTool","has","get","centered","forceUniformSize","attributes","geometryType","graphicSymbol","_getGraphicSymbolFromTool","snapToScene","_makeDrawGraphicTool2D","_makeDrawGraphicTool3D","_requireModule","module","DrawGraphicTool2D","regularVerticesSymbol","re","DrawGraphicTool3D","key","pan","repeat","completeCreateOperation","vertexAdd","constraint","center","drawOperation","commitStagedVertex","operation","_emitUndoEvent","_emitRedoEvent","numCommittedVertices","coordinates","vertices","onEnd","_setupMove3DOperation","_setupReshape3DOperation","_setupGraphicTransform3DOperation","_setupMove2DOperation","_setupTransformOrReshape2DOperation","arguments","undefined","ManipulatedObject3DGraphic","MoveTool3D","Map","clear","SUPPORTED","set","objects","from","de","he","ne","pe","addToSelection","added","indexOf","history","updates","splice","at","_getHandlesForComponent","_getCommonUpdateOperationClickHandlers","_getCommonUpdateOperationKeyDownHandlers","_setupPointTransform3DOperation","_setupPolyTransform3DOperation","TransformTool3D","object","ExtentTransformTool","inputManager","isModifierKeyDown","_getGraphicMover","_displayDefaultCursor","refreshComponent","ReshapeTool3D","enableZVertex","enableZShape","enableMoveObject","enableMidpoints","enableEdgeOffset","_getBox","_getReshape","removeAll","refresh","resetHistory","default","highlightsEnabled","indicatorsEnabled","callbacks","onGraphicMoveStart","_ref","dx","dy","_displayGrabbingCursor","mover","onGraphicMove","_ref2","onGraphicMoveStop","_ref3","_displayPointerCursor","onGraphicPointerOver","onGraphicPointerOut","onMoveStart","onMove","onMoveStop","onScaleStart","onScale","onScaleStop","onRotateStart","onRotate","onRotateStop","enableMovement","onReshapeStart","onReshape","onReshapeStop","_ref4","_ref5","_ref6","_ref7","onVertexAdd","_ref8","onVertexRemove","_ref9","_ref10","viewEvent","native","shiftKey","addToHistory","ce","allGraphics","_onTransformOrReshape2DGraphicClick","oldGraphic","events","_ref11","_toggleSelection","_ref12","dxScreen","dyScreen","angle","xScale","yScale","_disablePopup","_restorePopup","_onDeleteKey","esriSketchTool","isUIGraphic","getLogger","error","AbortController","signal","requireError","test","wait","_disablePopupEnabled","popupEnabled","se","ae","prototype","readOnly","types","nonNullable","value","constructOnly","le","pop","symbol","hasGrabbedManipulators","_ref13","cloneShallow","ye"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/widgets/Sketch/SketchViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Collection.js\";import o from\"../../core/Error.js\";import i from\"../../core/Evented.js\";import{drainHandles as a}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as r,abortMaybe as n}from\"../../core/maybe.js\";import{createAbortError as p,whenOrAbort as l,ignoreAbortErrors as h}from\"../../core/promiseUtils.js\";import{on as c,watch as d,when as u,whenOnce as y,syncAndInitial as m}from\"../../core/reactiveUtils.js\";import{property as g}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as v}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as f}from\"../../core/support/UpdatingHandles.js\";import{getReferenceEllipsoid as _}from\"../../geometry/ellipsoidUtils.js\";import{canProjectWithoutEngine as b,load as w,project as G,isLoaded as O}from\"../../geometry/projection.js\";import{geometryToCoordinates as T}from\"../../geometry/support/coordsUtils.js\";import{equals as E}from\"../../geometry/support/spatialReferenceUtils.js\";import S from\"../../layers/GraphicsLayer.js\";import{isIntegratedMeshLayer as k}from\"../../layers/support/layerUtils.js\";import M from\"../../symbols/FillSymbol3DLayer.js\";import A from\"../../symbols/MeshSymbol3D.js\";import C from\"../../symbols/SimpleFillSymbol.js\";import H from\"../../symbols/SimpleLineSymbol.js\";import D from\"../../symbols/SimpleMarkerSymbol.js\";import{symbolTypes as R}from\"../../symbols/support/typeUtils.js\";import{SupportedObjectResult as j,isSupportedObjectResultMessage as I}from\"../../views/3d/interactive/editingTools/isSupportedObjectUtils.js\";import{isSupportedObject as U}from\"../../views/3d/interactive/editingTools/move/isSupportedObject.js\";import{isSupportedObject as P}from\"../../views/3d/interactive/editingTools/reshape/isSupportedObject.js\";import{isSupportedGraphic as x}from\"../../views/3d/interactive/editingTools/transform/isSupportedGraphic.js\";import{addUniqueLayer as L}from\"../../views/draw/support/layerUtils.js\";import{ViewEventPriorities as F}from\"../../views/input/InputManager.js\";import{sketchKeys as V}from\"../../views/interactive/keybindings.js\";import K from\"../../views/interactive/sketch/SketchLabelOptions.js\";import W from\"../../views/interactive/sketch/SketchOptions.js\";import Z from\"../../views/interactive/sketch/SketchTooltipOptions.js\";import q from\"../../views/interactive/sketch/SketchValueOptions.js\";import{SnappingManager as z}from\"../../views/interactive/snapping/SnappingManager.js\";import N from\"../../views/interactive/snapping/SnappingOptions.js\";import{setupSnappingToggleHandles as B}from\"../../views/interactive/snapping/snappingUtils.js\";import{findFirstGraphicHit as $}from\"../../views/support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as Y}from\"../../views/support/screenUtils.js\";import{CreateOperationHandle as J,UpdateOperationHandle as Q}from\"./support/OperationHandle.js\";import{getModeFromCreateOptions as X,getDrawToolGeometryTypeFromCreateTool as ee}from\"./support/sketchUtils.js\";const te={defaultZ:0},oe={reshapeOptions:{edgeOperation:\"split\",shapeOperation:\"move\",vertexOperation:\"move\"},enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,enableZ:!0,highlightOptions:{enabled:!0},tool:\"transform\"};let ie=class extends i.EventedAccessor{constructor(e){super(e),this._defaultSnappingManager=null,this._updatingHandles=new f,this._internalGraphicsLayer=new S({listMode:\"hide\",internal:!0,title:\"SVM Internal\"}),this._operationHandle=null,this._viewHandlesKey=\"viewHandles\",this.activeFillSymbol=null,this.activeLineSymbol=null,this.activeVertexSymbol=null,this.allowDeleteKey=!0,this.layer=null,this.pointSymbol=new D({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new C({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new H({color:[130,130,130,1],width:2}),this.meshSymbol=new A({symbolLayers:new t([new M])}),this.updateGraphics=new t,this.updateOnGraphicClick=!0,this.creationMode=\"single\",this.vertexSymbol=new D({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.sketchOptions=new W,this._moduleLoaderAbortController=null,this._viewReadyAbortController=null,this._sketchContinuationFlag=!1,this._originalPopupEnabled=null,this.defaultCreateOptions=te,this.defaultUpdateOptions=oe,this.snappingOptions=e?.snappingManager?.options??e?.snappingOptions??new N}initialize(){this.addHandles([c((()=>this.view?.map?.layers),\"change\",(e=>{e.removed.includes(this.layer)&&this.cancel()})),c((()=>this.layer?.graphics),\"change\",(e=>{if(null!=this._operationHandle)for(const t of e.removed)this.updateGraphics.includes(t)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(t):this._operationHandle.cancel())})),d((()=>this.layer?.elevationInfo??null),(e=>{e!==this._internalGraphicsLayer.elevationInfo&&(this.cancel(),this._internalGraphicsLayer.elevationInfo=e)}),m),d((()=>this.view),(e=>{this._defaultSnappingManager=r(this._defaultSnappingManager),e&&(this.snappingManager||(this._defaultSnappingManager=new z({view:e,options:this.snappingOptions})),\"2d\"===e.type?import(\"../../views/2d/interactive/editingTools.js\"):\"3d\"===e.type&&(import(\"../../views/3d/interactive/editingTools.js\"),import(\"../../views/3d/layers/GraphicsLayerView3D.js\")))}),m),d((()=>this.view?.spatialReference),((e,t)=>{e&&t&&!e.equals(t)&&this.cancel()}))]),B(this)}destroy(){this.cancel(),this._removeDefaultLayer(),this._defaultSnappingManager=r(this._defaultSnappingManager),this._set(\"snappingManager\",null),this._set(\"view\",null),this._updatingHandles.destroy(),this.emit(\"destroy\")}get updating(){return this._updatingHandles.updating||null!=this.snappingManager&&this.snappingManager.updating}get activeTool(){return this._operationHandle?.tool??null}get activeCreateToolDrawMode(){return\"create\"===this._operationHandle?.type&&this._operationHandle.activeComponent&&\"mode\"in this._operationHandle.activeComponent?this._operationHandle.activeComponent.mode:null}get activeTooltip(){const{activeComponent:e,destroyed:t}=this,o=!t&&e&&\"tooltip\"in e?e.tooltip:null;return o?.visible?o:null}get activeComponent(){return this._operationHandle?.activeComponent??null}get createGraphic(){return null==this.activeComponent||\"draw-3d\"!==this.activeComponent.type&&\"draw-2d\"!==this.activeComponent.type?this._get(\"createGraphic\"):this.activeComponent.graphic}get defaultCreateOptions(){return this._get(\"defaultCreateOptions\")}set defaultCreateOptions(e){this._set(\"defaultCreateOptions\",{...te,...e})}get defaultUpdateOptions(){return this._get(\"defaultUpdateOptions\")}set defaultUpdateOptions(e){this._set(\"defaultUpdateOptions\",{...oe,...e,reshapeOptions:{...oe.reshapeOptions,...e?.reshapeOptions},highlightOptions:{...oe.highlightOptions,...e?.highlightOptions}})}get labelOptions(){return this.sketchOptions.labels}set labelOptions(e){this.sketchOptions.labels=e}get snappingOptions(){return this.snappingManager?.options??this._get(\"snappingOptions\")}set snappingOptions(e){null!=this._defaultSnappingManager&&(this._defaultSnappingManager.options=e),this._set(\"snappingOptions\",e)}get snappingManager(){return this._isOverridden(\"snappingManager\")&&this._get(\"snappingManager\"),this._defaultSnappingManager}set snappingManager(e){if(e)this._isOverridden(\"snappingManager\")||(this._defaultSnappingManager=r(this._defaultSnappingManager)),this._override(\"snappingManager\",e);else{const{view:e}=this;!this._defaultSnappingManager&&e&&(this._defaultSnappingManager=new z({options:this.snappingOptions,view:e})),this._clearOverride(\"snappingManager\")}}get state(){const e=!(!this.view?.ready||!this.layer),t=this._operationHandle;return e&&t?\"active\":e?\"ready\":\"disabled\"}get tooltipOptions(){return this.sketchOptions.tooltips}set tooltipOptions(e){this.sketchOptions.tooltips=e}get valueOptions(){return this.sketchOptions.values}set valueOptions(e){this.sketchOptions.values=e}get view(){return this._get(\"view\")}set view(e){const t=this._get(\"view\");if(t){const{container:e,map:o}=t;e&&(t.cursor=null),o?.remove(this._internalGraphicsLayer),this.removeHandles(this._viewHandlesKey),this.cancel()}const o=\"view-ready\";this.removeHandles(o),e&&this.addHandles(u((()=>e.ready),(t=>{this.removeHandles(this._viewHandlesKey),t&&this.addHandles(this._generateViewHandles(e),this._viewHandlesKey)}),m),o),this._set(\"view\",e)}cancel(){this._moduleLoaderAbortController=n(this._moduleLoaderAbortController),this._viewReadyAbortController=n(this._viewReadyAbortController),this._sketchContinuationFlag=!0,this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:e,updateGraphics:t}=this;if(\"active\"===e&&t.length){const{activeTool:e,layer:o}=this,i=t.toArray();o.removeMany(i),this.cancel(),this._emitDeleteEvent({graphics:i,tool:e})}}duplicate(){if(\"active\"===this.state&&this.updateGraphics.length){const e=this.updateGraphics.map((e=>e.clone())).toArray();return this.layer.addMany(e),this.emit(\"duplicate\",{graphics:e,type:\"duplicate\"}),e}return[]}async create(e,t){this.cancel(),await this._waitViewReady();const{view:o,layer:i}=this;if(!o||\"disabled\"===this.state)throw i||this._logMissingLayer(),p();if(null!=o.activeTool&&(o.activeTool=null),!e)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'tool'.\");L(o,this._internalGraphicsLayer);const a=await this._updatingHandles.addPromise(this._setupCreateOperation(e,t));if(null==a||this.destroyed)return void o.map.remove(this._internalGraphicsLayer);const s=()=>{if(a===this._operationHandle){const o=this.createGraphic,s=this._operationHandle.cancelled;if(this._operationHandle.destroy(),this._operationHandle=null,this._set(\"createGraphic\",null),this.view?.map&&this.view.map.remove(this._internalGraphicsLayer),a.cancelled||null==o||i.add(o),this._sketchContinuationFlag=!1,this.emit(\"create\",{graphic:o,state:s?\"cancel\":\"complete\",tool:e,toolEventInfo:null,type:\"create\"}),s||this._sketchContinuationFlag)return;const{creationMode:r}=this;if(\"continuous\"===r){if(t?.geometryToPlace)return;this._updatingHandles.addPromise(h(this.create(e,t)))}else\"update\"===r&&o&&this._updatingHandles.addPromise(h(this.update([o])))}};a.on(\"complete\",s),this._operationHandle=a,o.ready&&o.focus()}async place(e,t){return this.create(\"mesh\",{mode:\"click\",hasZ:e.hasZ,geometryToPlace:e,...t})}async update(e,t){this.cancel(),await this._waitViewReady();const{layer:o,view:i,state:a}=this;if(!i||\"disabled\"===a)throw o||this._logMissingLayer(),p();null!=i.activeTool&&(i.activeTool=null);const s=Array.isArray(e)?e:[e];if(null==e||!s?.length)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'graphics'.\");if(s.some((e=>e.layer!==o?(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer.\"),!0):null==e.geometry&&(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics with an unsupported geometry.\"),!0))))return;const r=await this._updatingHandles.addPromise(this._setupUpdateOperation(s,t));this.destroyed||null==r||ue(r)||(L(i,this._internalGraphicsLayer),this._setUpdateOperationHandle(r,t),this.emit(\"update\",{graphics:s,state:\"start\",aborted:!1,tool:r.tool,toolEventInfo:null,type:\"update\"}))}async _updateSpatialReference(e){const t=this.view;if(t){e=Array.isArray(e)?e:[e];for(const o of e)null==o.geometry||\"mesh\"===o.geometry.type||E(o.geometry.spatialReference,t.spatialReference)||(b(o.geometry.spatialReference,t.spatialReference)||O()||await w(),o.geometry=G(o.geometry,t.spatialReference))}else this._logMissingView()}undo(){this.canUndo()&&this._operationHandle?.undo()}redo(){this.canRedo()&&this._operationHandle?.redo()}canUndo(){return!!this._operationHandle?.canUndo()}canRedo(){return!!this._operationHandle?.canRedo()}toggleUpdateTool(){this._operationHandle?.toggleTool()}async _getFirstHit(e){const t=this.view;if(!t)return this._logMissingView(),null;if(\"2d\"===t.type){const o=[];t.map.allLayers.forEach((e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||o.push(e)}));const i=await t.hitTest(e,{exclude:o});return $(i.results)}const o=[t.map.ground];t.map.allLayers.forEach((e=>{k(e.type)&&o.push(e)}));const i=await t.hitTest(e,{exclude:o});if(i.results.length>0){const e=i.results[0];if(null!=e&&\"graphic\"===e.type&&e.graphic&&(!i.ground.mapPoint||t.map.ground.opacity<1||i.ground.distance-(e.distance??0)>-Math.min(3*i.ground.distance,\"global\"===t.viewingMode?_(t.renderCoordsHelper.spatialReference).radius/t.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY)))return e}return null}_generateViewHandles(e){return[e.on(\"immediate-click\",(async e=>{const t=\"active\"===this.state&&\"create\"===this._operationHandle?.type;\"disabled\"!==this.state&&!t&&this.updateOnGraphicClick&&await this._updatingHandles.addPromise(this._handleImmediateClick(e))}),F.WIDGET)]}async _handleImmediateClick(e){const t=await e.async((()=>this._getFirstHit(Y(e))));let o=null;if(null!=t){const i=t.graphic;this.updateGraphics.includes(i)||i.layer===this.layer?(e.stopPropagation(),o=i):\"2d\"!==this.view?.type||this._isComponentGraphic(i)||\"active\"!==this.state||this.cancel()}else\"active\"===this.state&&this.cancel();null==o||this.updateGraphics.includes(o)||await this.update([o],{...this.defaultUpdateOptions,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions}})}async _setupCreateOperation(e,t){const o=this.view;if(!o)return this._logMissingView(),null;const i={hasZ:\"3d\"===o.type,...this.defaultCreateOptions,...t},a=await this._setupDrawGraphicTool(e,o,i);return null==a?null:(o.tools.add(a),o.activeTool=a,this._setupCreateOperationHandle(a))}async _setupDrawGraphicTool(e,t,o){if(\"multipoint\"===e&&\"3d\"===t.type)return this._logError(\"sketch:create\",\"Multipoint geometries are not supported in SceneView.\"),null;if(!t)return this._logMissingView(),null;const{cursor:i,defaultZ:a,hasZ:s,geometryToPlace:r,graphicProperties:n,mode:p,preserveAspectRatio:l}=o,h=X(p,e),c=ee(e),d=o?.optionsPerTool?.has(e)?o.optionsPerTool.get(e):{},u=d?.preserveAspectRatio??l??\"rectangle\"!==e,y={centered:\"rectangle\"!==e&&!(\"circle\"===e&&!u),cursor:i,defaultZ:a,forceUniformSize:u,graphicProperties:{...n,attributes:{...n?.attributes}},geometryToPlace:r,geometryType:c,mode:h,graphicSymbol:this._getGraphicSymbolFromTool(e),hasZ:s,snappingManager:this.snappingManager,snapToScene:!1,view:t,...d};return\"2d\"===t.type?this._makeDrawGraphicTool2D(y):this._makeDrawGraphicTool3D(y)}async _makeDrawGraphicTool2D(e){const t=await this._requireModule(import(\"../../views/2d/interactive/editingTools.js\"));return ue(t)||this.destroyed?null:new t.module.DrawGraphicTool2D({...e,activeVertexSymbol:this.activeVertexSymbol,regularVerticesSymbol:this.vertexSymbol,activeLineSymbol:this.activeLineSymbol,activeFillSymbol:re(e.geometryType)?this.activeFillSymbol:null,sketchOptions:this.sketchOptions})}async _makeDrawGraphicTool3D(e){const t=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(t)||this.destroyed)return null;const{elevationInfo:o}=this.layer;return new t.module.DrawGraphicTool3D({...e,elevationInfo:o,snapToScene:!0,sketchOptions:this.sketchOptions})}_setupCreateOperationHandle(e){const t=this.view;if(!t)return this._logMissingView(),null;let o=null;const i=e.forceUniformSize,s=e.centered,r=[t.on(\"key-down\",(t=>{if(t.key===V.pan)t.stopPropagation(),t.repeat||(e.enabled=!1);else if(t.key===V.complete)t.stopPropagation(),e.completeCreateOperation();else if(t.key!==V.vertexAdd||t.repeat)t.key===V.undo?(t.stopPropagation(),n.undo()):t.key===V.redo?(t.stopPropagation(),n.redo()):t.key!==V.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType||t.repeat?t.key===V.center&&(t.repeat||(e.centered=!s,t.stopPropagation())):(e.forceUniformSize=!i,t.stopPropagation());else{const o=e.drawOperation.geometryType;\"polyline\"!==o&&\"polygon\"!==o&&\"multipoint\"!==o||(t.stopPropagation(),e.drawOperation.commitStagedVertex())}}),F.WIDGET),t.on(\"key-up\",(t=>{t.key===V.pan?e.enabled=!0:t.key!==V.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType?t.key===V.center&&(e.centered=s,t.stopPropagation()):(e.forceUniformSize=i,t.stopPropagation())}),F.WIDGET),e.on(\"vertex-add\",(t=>{switch(o=null==o?\"start\":\"active\",t.operation){case\"apply\":this.emit(\"create\",{graphic:e.graphic,state:o,tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[e.graphic],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[e.graphic],tool:e.geometryType})}})),e.on(\"cursor-update\",(t=>{e.drawOperation.numCommittedVertices>0&&this.emit(\"create\",{graphic:e.graphic,state:\"active\",tool:this.activeTool,toolEventInfo:{coordinates:t.vertices[0].coordinates,type:\"cursor-update\"},type:\"create\"})})),e.on(\"vertex-remove\",(t=>{switch(t.operation){case\"apply\":this.emit(\"create\",{graphic:e.graphic,state:\"active\",tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[e.graphic],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[e.graphic],tool:e.geometryType})}})),e.on(\"complete\",(e=>{this._set(\"createGraphic\",e.graphic),o=\"complete\",e.aborted?n&&n.cancel():n&&n.complete()})),d((()=>this._getGraphicSymbolFromTool(e.geometryType)),(t=>{e.graphicSymbol=t}))],n=new J({activeComponent:e,tool:e.geometryType,type:\"create\",onEnd:()=>{a(r),t.tools?.remove(e)},undo:()=>{e.canUndo&&e.undo()},redo:()=>{e.canRedo&&e.redo()},canUndo:()=>e.canUndo,canRedo:()=>e.canRedo});return n}_getGraphicSymbolFromTool(e){switch(e){case\"point\":case\"multipoint\":return this.pointSymbol;case\"polyline\":case\"freehandPolyline\":return this.polylineSymbol;case\"circle\":case\"rectangle\":case\"polygon\":case\"freehandPolygon\":return this.polygonSymbol;case\"mesh\":return this.meshSymbol}}async _setupUpdateOperation(e,t){const{layer:o,view:i}=this;if(!i)return this._logMissingView(),null;const a={...this.defaultUpdateOptions,...t,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions,...t?.reshapeOptions},highlightOptions:{...this.defaultUpdateOptions.highlightOptions,...t?.highlightOptions}};let s=a.tool??oe.tool;for(const r of e)o.remove(r),o.add(r);if(\"3d\"===i.type){if(0===e.length)return null;switch(s){case\"move\":return this._setupMove3DOperation(e,a,i,s);case\"reshape\":return e.length>1?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupReshape3DOperation(e[0],a,i);case\"transform\":return this._setupGraphicTransform3DOperation(e,a,i)}}switch(s){case\"move\":return this._setupMove2DOperation(e,a,i);case\"reshape\":return e.length>1?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupTransformOrReshape2DOperation(e,s,a,i);case\"transform\":if(1===e.length){const t=e[0].geometry?.type;\"point\"!==t&&\"multipoint\"!==t||(s=\"reshape\")}return this._setupTransformOrReshape2DOperation(e,s,a,i)}}async _setupMove3DOperation(e,t,o,i,s=!1){const r=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(r))return r;const{ManipulatedObject3DGraphic:n,MoveTool3D:p}=r.module,l=new Map,h=()=>{l.forEach((e=>e.destroy())),l.clear()};for(const a of e){const e=new n({view:o,graphic:a}),t=U(e);if(t!==j.SUPPORTED)return h(),this._logError(\"sketch:move\",`Move operation not supported for provided graphic(s) (${I(t)}).`),null;l.set(a,e)}const c=new p({view:o,enableZ:t.enableZ,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});o.tools.add(c),c.objects.addMany(Array.from(l.values())),s||this.updateGraphics.addMany(e);const d=[],u=new Q({activeComponent:c,tool:i,type:\"update\",onEnd:()=>{a(d),de(o,c),h()},undo:()=>{he(this.view,c),ne(u,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i})},redo:()=>{pe(u,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i})},addToSelection:e=>{this.updateGraphics.push(e);const t=new n({view:o,graphic:e});l.set(e,t),c.objects.push(t),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);if(u.history.undo.forEach((e=>e.updates.splice(t,1))),u.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0===this.updateGraphics.length)return void u.complete();const o=l.get(e);o&&(c.objects.remove(o),o.destroy(),l.delete(e))},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;if(\"transform\"!==i)return;const e=this.updateGraphics.at(0),a=await this._setupReshape3DOperation(e,t,o,!0);a&&!ue(a)&&(u.onEnd(),u.destroy(),this._setUpdateOperationHandle(a,t))}});return d.push(...this._getHandlesForComponent(u,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(u,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(u,e)}),F.WIDGET)),u}_setupGraphicTransform3DOperation(e,t,o,i=!1){if(1===e.length&&x(e[0])===j.SUPPORTED){const a=e[0],s=a.geometry;if(null!=s&&(\"point\"===s.type||\"mesh\"===s.type))return this._setupPointTransform3DOperation(a,t,o);if(null!=s&&(\"polygon\"===s.type||\"polyline\"===s.type))return this._setupPolyTransform3DOperation(a,t,o,i)}return this._setupMove3DOperation(e,t,o,\"transform\",i)}async _setupPointTransform3DOperation(e,t,o){const i=\"transform\",{enableRotation:s,enableScaling:r,enableZ:n}=t,p=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(p))return p;const{TransformTool3D:l,ManipulatedObject3DGraphic:h}=p.module,c=new h({graphic:e,view:o}),d=new l({object:c,view:o,enableRotation:s,enableScaling:r,enableZ:n,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});o.tools.add(d),this.updateGraphics.add(e);const u=[],y=new Q({activeComponent:d,tool:i,type:\"update\",onEnd:()=>{a(u),de(o,d),c.destroy()},undo:()=>{he(this.view,d),ne(y,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i})},redo:()=>{pe(y,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i})},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),y.onEnd(),y.destroy();const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ue(i)||this._setUpdateOperationHandle(i,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),y.complete()},toggleTool:()=>{}});return u.push(...this._getHandlesForComponent(y,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(y,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(y,e)}),F.WIDGET)),y}async _setupPolyTransform3DOperation(e,t,o,i=!1){const s=\"transform\",{enableRotation:r,enableScaling:n,enableZ:p,preserveAspectRatio:l}=t,h=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(h))return h;const{ManipulatedObject3DGraphic:c,ExtentTransformTool:d}=h.module,u=this.view?.inputManager?.isModifierKeyDown(V.constraint),y=new c({view:o,graphic:e}),m=new d({object:y,view:o,enableRotation:r,enableScaling:n,enableZ:p,preserveAspectRatio:!!l!=!!u,sketchOptions:this.sketchOptions});o.tools.add(m),i||this.updateGraphics.add(e);const g=[],v=new Q({activeComponent:m,tool:s,type:\"update\",onEnd:()=>{a(g),de(o,m),y.destroy()},canUndo:()=>!m.destroyed&&m.canUndo,undo:()=>{m.destroyed||(m.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},canRedo:()=>!m.destroyed&&m.canRedo,redo:()=>{m.destroyed||(m.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),v.onEnd(),v.destroy();const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ue(i)||this._setUpdateOperationHandle(i,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),v.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;const i=await this._setupReshape3DOperation(e,t,o,!0);i&&!ue(i)&&(v.onEnd(),v.destroy(),this._setUpdateOperationHandle(i,t))}});return g.push(...this._getHandlesForComponent(v,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(v,e,t)),F.WIDGET),o.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(v,e)),F.WIDGET),o.on(\"key-down\",(e=>{e.key!==V.constraint||e.repeat||(m.preserveAspectRatio=!m.preserveAspectRatio,e.stopPropagation())}),F.WIDGET),o.on(\"key-up\",(e=>{e.key===V.constraint&&(m.preserveAspectRatio=!m.preserveAspectRatio,e.stopPropagation())}),F.WIDGET)),v}async _setupMove2DOperation(e,t,o){const i=\"move\";this.updateGraphics.addMany(e),await this._updatingHandles.addPromise(this._updateSpatialReference(e));const s=await this._getGraphicMover(e,t,o);if(ue(s))return s;const r=new Q({activeComponent:s,tool:i,type:\"update\",onEnd:()=>{this._displayDefaultCursor(),a(l),a(p),s.destroy(),this._internalGraphicsLayer?.removeMany([...this.updateGraphics.toArray()])},undo:()=>{const e=this.updateGraphics.toArray();ne(r,e),r.refreshComponent(),this._emitUndoEvent({graphics:e,tool:i})},redo:()=>{const e=this.updateGraphics.toArray();pe(r,e),r.refreshComponent(),this._emitRedoEvent({graphics:e,tool:i})},addToSelection:async e=>{await this._updatingHandles.addPromise(this._updateSpatialReference(e)),this.updateGraphics.push(e),s.graphics=this.updateGraphics.toArray(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);r.history.undo.forEach((e=>e.updates.splice(t,1))),r.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?s.graphics=o:r.complete()}});let n=!1;const p=[o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(r,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(r,e),e.key!==V.constraint||e.repeat||(n=!0,s.enableMoveAllGraphics=!s.enableMoveAllGraphics)}),F.WIDGET),o.on(\"key-up\",(e=>{e.key===V.constraint&&n&&(n=!1,s.enableMoveAllGraphics=!s.enableMoveAllGraphics)}),F.WIDGET)],l=this._getHandlesForComponent(r,t);return r}async _setupReshape3DOperation(e,t,o,i=!1){const s=\"reshape\",r=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(r))return r;const{ManipulatedObject3DGraphic:n,ReshapeTool3D:p}=r.module,l=new n({view:o,graphic:e}),h=P(l);if(h!==j.SUPPORTED)return l.destroy(),this._logError(\"sketch:reshape\",`Reshape operation not supported for provided graphic(s) (${I(h)}).`),null;const c=t.reshapeOptions,d=new p({view:o,object:l,enableZVertex:t.enableZ&&\"move\"===c?.vertexOperation,enableZShape:t.enableZ&&\"move\"===c?.shapeOperation,enableMoveObject:\"move\"===c?.shapeOperation||\"move-xy\"===c?.shapeOperation,enableMidpoints:\"split\"===c?.edgeOperation,enableEdgeOffset:\"offset\"===c?.edgeOperation,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});o.tools.add(d),i||this.updateGraphics.add(l.graphic);const u=[],y=new Q({activeComponent:d,tool:s,type:\"update\",onEnd:()=>{a(u),de(o,d),l.destroy()},canUndo:()=>!d.destroyed&&d.canUndo,undo:()=>{d.destroyed||(d.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},canRedo:()=>!d.destroyed&&d.canRedo,redo:()=>{d.destroyed||(d.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),y.onEnd(),y.destroy();const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ue(i)||this._setUpdateOperationHandle(i,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),y.complete()},toggleTool:async()=>{if(!1===t.toggleToolOnClick)return;y.onEnd(),y.destroy();const e=await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(),t,o,!0);ue(e)||this._setUpdateOperationHandle(e,t)}});return u.push(...this._getHandlesForComponent(y,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(y,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(y,e)}),F.WIDGET)),y}async _setupTransformOrReshape2DOperation(e,t,o,i){this.updateGraphics.addMany(e),await this._updatingHandles.addPromise(this._updateSpatialReference(e));const s=\"transform\"===t?await this._getBox(e,o,i):await this._getReshape(e,o,i);if(ue(s))return s;const r=new Q({activeComponent:s,type:\"update\",onEnd:()=>{a(p),a(n),r.activeComponent&&!r.activeComponent.destroyed&&r.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{ne(r,this.updateGraphics.toArray()),r.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:r.tool})},redo:()=>{pe(r,this.updateGraphics.toArray()),r.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:r.tool})},addToSelection:async e=>{let t=r.activeComponent;if(\"reshape\"===t?.type){const t=[...this.updateGraphics,e];this.updateGraphics.removeAll(),r.onEnd(),r.destroy();const a=await this._setupTransformOrReshape2DOperation(t,\"transform\",o,i);if(ue(a))return;this._setUpdateOperationHandle(a,o)}else this.updateGraphics.add(e),t.graphics=this.updateGraphics.toArray(),t.refresh(),r.resetHistory();this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:async e=>{const t=this.updateGraphics.indexOf(e);r.history.undo.forEach((e=>e.updates.splice(t,1))),r.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();if(0===o.length)r.complete();else{const e=o[0].geometry;1!==o.length||null==e||\"point\"!==e.type&&\"multipoint\"!==e.type?r.activeComponent.graphics=o:r.toggleTool()}this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"})},toggleTool:async()=>{if(this.updateGraphics.length>1)return;const e=this.updateGraphics.at(0),t=e.geometry;if(null!=t&&(\"reshape\"===r.tool&&(\"point\"===t.type||\"multipoint\"===t.type)||\"transform\"===r.tool&&\"extent\"===t.type))return;let s=null;\"transform\"===r.tool?s=await this._getReshape([e],o,i):\"reshape\"===r.tool&&(s=await this._getBox([e],o,i)),ue(s)||(r.activeComponent?.destroy(),r.activeComponent=s,r.activeComponent&&(a(p),p=this._getHandlesForComponent(r,o)))}}),n=[i.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(r,e,o)),F.WIDGET),i.on(\"key-down\",(e=>{if(this._getCommonUpdateOperationKeyDownHandlers(r,e),e.key===V.constraint&&!e.repeat&&r){const e=r.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),F.WIDGET),i.on(\"key-up\",(e=>{if(e.key===V.constraint&&r){const e=r.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),F.WIDGET)];let p=this._getHandlesForComponent(r,o);return r}async _getGraphicMover(e,t,o){const{enableMoveAllGraphics:i,highlightOptions:a}=t,s=await this._requireModule(import(\"../../views/draw/support/GraphicMover.js\"));return ue(s)?s:new s.module.default({enableMoveAllGraphics:i,highlightsEnabled:!!a?.enabled,indicatorsEnabled:!1,graphics:e,view:o,callbacks:{onGraphicMoveStart:({dx:e,dy:t,graphic:o})=>{this._displayGrabbingCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-start\"},type:\"update\"})},onGraphicMove:({dx:e,dy:t,graphic:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move\"},type:\"update\"}),onGraphicMoveStop:({dx:e,dy:t,graphic:o})=>{this._displayPointerCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-stop\"},type:\"update\"})},onGraphicPointerOver:()=>this._displayPointerCursor(),onGraphicPointerOut:()=>this._displayDefaultCursor()}})}async _getBox(e,t,o){const{enableRotation:i,enableScaling:a,highlightOptions:s,preserveAspectRatio:r}=t,n=await this._requireModule(import(\"../../views/draw/support/Box.js\"));if(ue(n))return n;const p=this.view?.inputManager?.isModifierKeyDown(V.constraint);return new n.module.default({graphics:e,enableRotation:i,enableScaling:a,highlightsEnabled:!!s?.enabled,preserveAspectRatio:!!r!=!!p,layer:this._internalGraphicsLayer,view:o,sketchOptions:this.sketchOptions,callbacks:{onMoveStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMove:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMoveStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScale:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotate:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"})}})}async _getReshape(e,t,o){const i=\"split\"===t.reshapeOptions?.edgeOperation,a=\"move\"===t.reshapeOptions?.shapeOperation,s=!!t.highlightOptions?.enabled,r=await this._requireModule(import(\"../../views/draw/support/Reshape.js\"));return ue(r)?r:new r.module.default({enableMidpoints:i,enableMovement:a,graphic:e[0],highlightsEnabled:s,layer:this._internalGraphicsLayer,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,view:o,callbacks:{onReshapeStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshape:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshapeStop:({mover:e,type:t})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e,type:t},type:\"update\"}),onMoveStart:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onMove:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onMoveStop:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onVertexAdd:({added:e,type:t,vertices:o})=>{const i=e.map((e=>T(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:i,vertices:o,type:t},type:\"update\"})},onVertexRemove:({removed:e,type:t,vertices:o})=>{const i=e.map((e=>T(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:i,vertices:o,type:t},type:\"update\"})}}})}_getHandlesForComponent(e,t){const o=e.activeComponent;if(!o)return[];switch(o.type){case\"graphic-mover\":return[o.on(\"graphic-click\",(({graphic:t,viewEvent:o})=>{o.native?.shiftKey&&(o.stopPropagation(),e.removeFromSelection(t))})),o.on(\"graphic-move-start\",(t=>e.addToHistory(ce(t.allGraphics))))];case\"box\":return[o.on(\"graphic-click\",(o=>this._onTransformOrReshape2DGraphicClick(e,t,o))),o.on(\"move-start\",(t=>e.addToHistory(ce(t.graphics)))),o.on(\"rotate-start\",(t=>e.addToHistory(ce(t.graphics)))),o.on(\"scale-start\",(t=>e.addToHistory(ce(t.graphics))))];case\"reshape\":return[o.on(\"graphic-click\",(o=>this._onTransformOrReshape2DGraphicClick(e,t,o))),o.on(\"move-start\",(t=>e.addToHistory(ce([t.mover])))),o.on(\"reshape-start\",(t=>e.addToHistory(ce([t.graphic])))),o.on(\"vertex-add\",(t=>e.addToHistory(ce([t.oldGraphic])))),o.on(\"vertex-remove\",(t=>e.addToHistory(ce([t.oldGraphic]))))];case\"move-3d\":return[o.events.on(\"record-undo\",(({updates:t})=>{e.addToHistory({updates:t})})),o.events.on(\"move-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move-start\"},type:\"update\"})})),o.events.on(\"move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e.dx,dy:e.dy,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move\"},type:\"update\"})})),o.events.on(\"move-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move-stop\"},type:\"update\"})})),o.events.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()}))];case\"transform-3d\":return[o.events.on(\"record-undo\",(({updates:t})=>{e.addToHistory({updates:t})})),o.events.on(\"translate-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-start\"},type:\"update\"})})),o.events.on(\"translate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-stop\"},type:\"update\"})})),o.events.on(\"rotate-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate-start\"},type:\"update\"})})),o.events.on(\"rotate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate-stop\"},type:\"update\"})})),o.events.on(\"scale-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-start\"},type:\"update\"})})),o.events.on(\"scale-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-stop\"},type:\"update\"})})),o.events.on(\"translate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move\"},type:\"update\"})})),o.events.on(\"rotate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate\"},type:\"update\"})})),o.events.on(\"scale\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale\"},type:\"update\"})})),o.events.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()}))];case\"reshape-3d\":return[o.events.on(\"reshape\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e,mover:e.object.graphic},type:\"update\"})})),o.events.on(\"move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e,mover:e.object.graphic},type:\"update\"})})),o.events.on(\"vertex-add\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.events.on(\"vertex-remove\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.events.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()}))]}}_onTransformOrReshape2DGraphicClick(e,t,o){const{graphic:i,viewEvent:a}=o;return a.native?.shiftKey&&i.layer===this.layer?(a.stopPropagation(),e.removeFromSelection(i)):t.toggleToolOnClick?(a.stopPropagation(),e.toggleTool()):void 0}_setUpdateOperationHandle(e,t){this._operationHandle=e;const o=this.view?.map;this._disablePopup(t);const i=()=>{if(e===this._operationHandle){const i=this.updateGraphics.toArray(),a=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),o&&o.remove(this._internalGraphicsLayer),this._restorePopup(t),this.emit(\"update\",{graphics:i,state:\"complete\",aborted:e.cancelled,tool:a,toolEventInfo:null,type:\"update\"})}};e.on(\"complete\",i)}async _getCommonUpdateOperationClickHandlers(e,t,o){const i=Y(t),a=await t.async((()=>this._getFirstHit(i)));if(null==a)return void e.complete();if(t.native.shiftKey&&this._toggleSelection([a.graphic],e,o))return void t.stopPropagation();this.updateGraphics.includes(a.graphic)?t.stopPropagation():e.complete()}_toggleSelection(e,t,o){const i=!!o.multipleSelectionEnabled;return e.some((e=>null!=e&&(!(!i||e.layer!==this.layer)&&(this.updateGraphics.includes(e)?t.removeFromSelection(e):t.addToSelection(e),!0))))}_getCommonUpdateOperationKeyDownHandlers(e,t){if(!e)return;const o=t.key;o===V.undo&&e.canUndo()?(t.stopPropagation(),e.undo()):o===V.redo&&e.canRedo()?(t.stopPropagation(),e.redo()):o===V.cancel?(t.stopPropagation(),e.cancel()):this.allowDeleteKey&&V.delete.includes(o)&&this._onDeleteKey(t)}_onDeleteKey(e){if(!this._operationHandle||\"update\"!==this._operationHandle.type)return;const t=this.activeComponent,o=this.updateGraphics.toArray();null!=t&&(\"reshape\"!==t.type||1===o.length&&\"point\"===o[0].geometry?.type)&&(e.stopPropagation(),this.delete())}_removeDefaultLayer(){this._internalGraphicsLayer&&(this.view?.map?.remove(this._internalGraphicsLayer),this._internalGraphicsLayer=r(this._internalGraphicsLayer))}_isComponentGraphic(e){const{activeComponent:t}=this;return!(!e||null==t)&&(e.attributes?.esriSketchTool||\"draw-2d\"===t.type&&t.graphic===e||(\"box\"===t.type||\"reshape\"===t.type)&&t.isUIGraphic(e))}_displayPointerCursor(){this.view?.container&&\"pointer\"!==this.view.cursor&&(this.view.cursor=\"pointer\")}_displayGrabbingCursor(){this.view?.container&&\"grabbing\"!==this.view.cursor&&(this.view.cursor=\"grabbing\")}_displayDefaultCursor(){this.view?.container&&null!==this.view.cursor&&(this.view.cursor=null)}_logError(e,t,i){s.getLogger(this).error(new o(e,t,i))}async _requireModule(e){const t=new AbortController;this._moduleLoaderAbortController=t;const o=await e;return this._moduleLoaderAbortController!==t||t.signal.aborted?{requireError:\"aborted\"}:{module:o}}_emitUndoEvent(e){this.emit(\"undo\",{...e,type:\"undo\"})}_emitRedoEvent(e){this.emit(\"redo\",{...e,type:\"redo\"})}_emitDeleteEvent(e){this.emit(\"delete\",{...e,type:\"delete\"})}get test(){}wait(){return y((()=>!this.updating))}_disablePopupEnabled(e){return\"3d\"!==this.view?.type||this.updateOnGraphicClick||(e?.toggleToolOnClick??!1)}_disablePopup(e){this._disablePopupEnabled(e)&&this.view&&null==this._originalPopupEnabled&&(this._originalPopupEnabled=this.view.popupEnabled,this.view.popupEnabled=!1)}_restorePopup(e){this._disablePopupEnabled(e)&&this.view&&null!=this._originalPopupEnabled&&(this.view.popupEnabled=this._originalPopupEnabled,this._originalPopupEnabled=null)}async _waitViewReady(){const e=this.view;e?(n(this._viewReadyAbortController),this._viewReadyAbortController=new AbortController,await l(y((()=>e?.ready)),this._viewReadyAbortController.signal)):this._logMissingView()}_logMissingView(){this._logError(\"sketch:missing-property\",se(\"view\"))}_logMissingLayer(){this._logError(ae,se(\"layer\"))}};e([g()],ie.prototype,\"_defaultSnappingManager\",void 0),e([g()],ie.prototype,\"updating\",null),e([g({readOnly:!0})],ie.prototype,\"_updatingHandles\",void 0),e([g()],ie.prototype,\"_operationHandle\",void 0),e([g({readOnly:!0})],ie.prototype,\"activeTool\",null),e([g({readOnly:!0})],ie.prototype,\"activeCreateToolDrawMode\",null),e([g()],ie.prototype,\"activeTooltip\",null),e([g({types:R})],ie.prototype,\"activeFillSymbol\",void 0),e([g()],ie.prototype,\"activeLineSymbol\",void 0),e([g()],ie.prototype,\"activeVertexSymbol\",void 0),e([g()],ie.prototype,\"allowDeleteKey\",void 0),e([g({readOnly:!0})],ie.prototype,\"createGraphic\",null),e([g()],ie.prototype,\"defaultCreateOptions\",null),e([g()],ie.prototype,\"defaultUpdateOptions\",null),e([g({type:K,nonNullable:!0})],ie.prototype,\"labelOptions\",null),e([g()],ie.prototype,\"layer\",void 0),e([g({types:R})],ie.prototype,\"pointSymbol\",void 0),e([g({types:R})],ie.prototype,\"polygonSymbol\",void 0),e([g({types:R})],ie.prototype,\"polylineSymbol\",void 0),e([g()],ie.prototype,\"meshSymbol\",void 0),e([g({type:N,nonNullable:!0})],ie.prototype,\"snappingOptions\",null),e([g()],ie.prototype,\"snappingManager\",null),e([g({readOnly:!0})],ie.prototype,\"state\",null),e([g({type:Z,nonNullable:!0})],ie.prototype,\"tooltipOptions\",null),e([g({readOnly:!0})],ie.prototype,\"updateGraphics\",void 0),e([g()],ie.prototype,\"updateOnGraphicClick\",void 0),e([g()],ie.prototype,\"creationMode\",void 0),e([g({type:q,nonNullable:!0})],ie.prototype,\"valueOptions\",null),e([g({types:R})],ie.prototype,\"vertexSymbol\",void 0),e([g({value:null})],ie.prototype,\"view\",null),e([g({constructOnly:!0,type:W})],ie.prototype,\"sketchOptions\",void 0),ie=e([v(\"esri.widgets.Sketch.SketchViewModel\")],ie);const ae=\"sketch:missing-property\",se=e=>`Property '${e}' is missing on SketchViewModel.`;function re(e){return\"polygon\"===e||\"rectangle\"===e||\"circle\"===e}function ne(e,t){le(\"undo\",e.history.undo,e.history.redo,t)}function pe(e,t){le(\"redo\",e.history.redo,e.history.undo,t)}function le(e,t,o,i){const a=t.pop();if(!a)return;const s=a.updates,r=[];i.forEach(((t,o)=>{const i=s[o];null!=i&&(\"geometry\"in i&&null!=i.geometry&&(r.push({geometry:t.geometry}),t.geometry=i.geometry),\"symbol\"in i&&null!=i.symbol&&(r.push({symbol:t.symbol}),t.symbol=i.symbol),\"undo\"in i&&(r.push(i),i[e](t)))})),o.push({updates:r})}function he(e,t){null!=e&&t.hasGrabbedManipulators&&(e.activeTool=null)}function ce(e){return{updates:e.map((({geometry:e})=>\"mesh\"===e?.type?{geometry:e.cloneShallow()}:{geometry:e}))}}function de(e,t){e.tools?.remove(t),t.destroyed||t.destroy()}function ue(e){return\"requireError\"in e&&\"aborted\"===e.requireError}const ye=ie;export{ye as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}