{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport l from \"../../core/Error.js\";\nimport { waitTick as t, isAbortError as i } from \"../../core/promiseUtils.js\";\nclass e {\n  constructor(l) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : l.lods[l.lods.length - 1].level;\n    this.tileInfo = l, this.minLOD = t, this.maxLOD = i, l.lodAt(t) || (this.minLOD = l.lods[0].level), l.lodAt(i) || (this.maxLOD = l.lods[l.lods.length - 1].level);\n  }\n  get effectiveMinLOD() {\n    return this.minLOD ?? this.tileInfo.lods[0].level;\n  }\n  get effectiveMaxLOD() {\n    return this.maxLOD ?? this.tileInfo.lods[this.tileInfo.lods.length - 1].level;\n  }\n  getAvailability(l, t, i) {\n    const e = this.tileInfo?.lodAt(l);\n    return !e || l < this.minLOD || l > this.maxLOD ? \"unavailable\" : e.cols && e.rows ? i >= e.cols[0] && i <= e.cols[1] && t >= e.rows[0] && t <= e.rows[1] ? \"unknown\" : \"unavailable\" : \"unknown\";\n  }\n  async fetchAvailability(i, e, o, s) {\n    await t(s);\n    const a = this.getAvailability(i, e, o);\n    if (\"unavailable\" === a) throw new l(\"tile-map:tile-unavailable\", \"Tile is not available\", {\n      level: i,\n      row: e,\n      col: o\n    });\n    return a;\n  }\n  async fetchAvailabilityUpsample(l, e, o, s, a) {\n    await t(a), s.level = l, s.row = e, s.col = o;\n    const n = this.tileInfo;\n    return n.updateTileInfo(s), this.fetchAvailability(l, e, o, a).catch(l => {\n      if (i(l)) throw l;\n      if (n.upsampleTile(s)) return this.fetchAvailabilityUpsample(s.level, s.row, s.col, s, a);\n      throw l;\n    });\n  }\n}\nexport { e as default };","map":{"version":3,"names":["l","waitTick","t","isAbortError","i","e","constructor","arguments","length","undefined","lods","level","tileInfo","minLOD","maxLOD","lodAt","effectiveMinLOD","effectiveMaxLOD","getAvailability","cols","rows","fetchAvailability","o","s","a","row","col","fetchAvailabilityUpsample","n","updateTileInfo","catch","upsampleTile","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport l from\"../../core/Error.js\";import{waitTick as t,isAbortError as i}from\"../../core/promiseUtils.js\";class e{constructor(l,t=0,i=l.lods[l.lods.length-1].level){this.tileInfo=l,this.minLOD=t,this.maxLOD=i,l.lodAt(t)||(this.minLOD=l.lods[0].level),l.lodAt(i)||(this.maxLOD=l.lods[l.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(l,t,i){const e=this.tileInfo?.lodAt(l);return!e||l<this.minLOD||l>this.maxLOD?\"unavailable\":e.cols&&e.rows?i>=e.cols[0]&&i<=e.cols[1]&&t>=e.rows[0]&&t<=e.rows[1]?\"unknown\":\"unavailable\":\"unknown\"}async fetchAvailability(i,e,o,s){await t(s);const a=this.getAvailability(i,e,o);if(\"unavailable\"===a)throw new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:i,row:e,col:o});return a}async fetchAvailabilityUpsample(l,e,o,s,a){await t(a),s.level=l,s.row=e,s.col=o;const n=this.tileInfo;return n.updateTileInfo(s),this.fetchAvailability(l,e,o,a).catch((l=>{if(i(l))throw l;if(n.upsampleTile(s))return this.fetchAvailabilityUpsample(s.level,s.row,s.col,s,a);throw l}))}}export{e as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}