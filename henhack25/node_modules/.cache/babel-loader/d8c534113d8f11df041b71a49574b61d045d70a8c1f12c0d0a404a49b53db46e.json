{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { BufferObject as e } from \"../../../../webgl/BufferObject.js\";\nimport \"../../../../webgl/FramebufferObject.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../webgl/checkWebGLError.js\";\nimport { Usage as r } from \"../../../../webgl/enums.js\";\nimport \"../../../../webgl/GLObjectType.js\";\nimport \"../../../../webgl/Texture.js\";\nimport { VertexArrayObject as t } from \"../../../../webgl/VertexArrayObject.js\";\nimport { dataSizeInBytes as s } from \"./definitions.js\";\nclass o {\n  constructor(t, s) {\n    this._boundPart = null, this.vertexBuffers = new Map(), this.indexBuffers = new Map(), this.groups = [];\n    for (const o in s.vertex) {\n      const {\n          data: i,\n          attributes: n\n        } = s.vertex[o],\n        f = e.createVertex(t, r.STATIC_DRAW, i);\n      this.vertexBuffers.set(o, {\n        buffer: f,\n        attributes: n\n      });\n    }\n    for (const o in s.index) {\n      const {\n          data: i\n        } = s.index[o],\n        n = e.createIndex(t, r.STATIC_DRAW, i);\n      this.indexBuffers.set(o, {\n        buffer: n\n      });\n    }\n    for (const e of s.groups) this.groups.push({\n      ...e,\n      vertexArrays: new Map()\n    });\n    this.parts = s.parts;\n  }\n  bind(e, r, s) {\n    this._boundPart = s;\n    const {\n        group: o\n      } = this.parts[this._boundPart],\n      i = this.groups[o];\n    if (!i) throw new Error(`Missing group ${o}.`);\n    let n = i.vertexArrays.get(r.stringHash);\n    if (!n) {\n      const s = new Set(r.locations.keys()),\n        o = i.index ? this.indexBuffers.get(i.index)?.buffer : null,\n        f = new Map(),\n        u = new Map();\n      for (const [e, {\n        buffer: r,\n        attributes: t\n      }] of this.vertexBuffers) {\n        const o = t.filter(e => s.has(e.name));\n        o.length > 0 && (f.set(e, o), u.set(e, r));\n      }\n      n = new t(e, r.locations, f, u, o), i.vertexArrays.set(r.stringHash, n);\n    }\n    e.bindVAO(n);\n  }\n  draw(e) {\n    if (null == this._boundPart) throw new Error(\"Mesh.bind() has not been called.\");\n    const {\n        start: r,\n        count: t\n      } = this.parts[this._boundPart],\n      {\n        group: o\n      } = this.parts[this._boundPart],\n      {\n        primitive: i,\n        index: n\n      } = this.groups[o];\n    if (n) {\n      const o = this.indexBuffers.get(n);\n      if (!o) throw new Error(`Missing index buffer \"${n}\".`);\n      const {\n        indexType: f\n      } = o.buffer;\n      if (!f) throw new Error(\"Buffer type error.\");\n      e.drawElements(i, t, f, r * s[f]);\n    } else e.drawArrays(i, r, t);\n  }\n  unbind(e) {\n    this._boundPart = null, e.bindVAO(null);\n  }\n  destroy() {\n    for (const {\n      vertexArrays: e\n    } of this.groups) for (const [r, t] of e) t.disposeVAOOnly();\n    for (const {\n      buffer: e\n    } of this.vertexBuffers.values()) e.dispose();\n    for (const {\n      buffer: e\n    } of this.indexBuffers.values()) e.dispose();\n  }\n}\nexport { o as Mesh };","map":{"version":3,"names":["BufferObject","e","Usage","r","VertexArrayObject","t","dataSizeInBytes","s","o","constructor","_boundPart","vertexBuffers","Map","indexBuffers","groups","vertex","data","i","attributes","n","f","createVertex","STATIC_DRAW","set","buffer","index","createIndex","push","vertexArrays","parts","bind","group","Error","get","stringHash","Set","locations","keys","u","filter","has","name","length","bindVAO","draw","start","count","primitive","indexType","drawElements","drawArrays","unbind","destroy","disposeVAOOnly","values","dispose","Mesh"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/meshing/Mesh.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import\"../../../../webgl/FramebufferObject.js\";import\"../../../../../core/has.js\";import\"../../../../webgl/checkWebGLError.js\";import{Usage as r}from\"../../../../webgl/enums.js\";import\"../../../../webgl/GLObjectType.js\";import\"../../../../webgl/Texture.js\";import{VertexArrayObject as t}from\"../../../../webgl/VertexArrayObject.js\";import{dataSizeInBytes as s}from\"./definitions.js\";class o{constructor(t,s){this._boundPart=null,this.vertexBuffers=new Map,this.indexBuffers=new Map,this.groups=[];for(const o in s.vertex){const{data:i,attributes:n}=s.vertex[o],f=e.createVertex(t,r.STATIC_DRAW,i);this.vertexBuffers.set(o,{buffer:f,attributes:n})}for(const o in s.index){const{data:i}=s.index[o],n=e.createIndex(t,r.STATIC_DRAW,i);this.indexBuffers.set(o,{buffer:n})}for(const e of s.groups)this.groups.push({...e,vertexArrays:new Map});this.parts=s.parts}bind(e,r,s){this._boundPart=s;const{group:o}=this.parts[this._boundPart],i=this.groups[o];if(!i)throw new Error(`Missing group ${o}.`);let n=i.vertexArrays.get(r.stringHash);if(!n){const s=new Set(r.locations.keys()),o=i.index?this.indexBuffers.get(i.index)?.buffer:null,f=new Map,u=new Map;for(const[e,{buffer:r,attributes:t}]of this.vertexBuffers){const o=t.filter((e=>s.has(e.name)));o.length>0&&(f.set(e,o),u.set(e,r))}n=new t(e,r.locations,f,u,o),i.vertexArrays.set(r.stringHash,n)}e.bindVAO(n)}draw(e){if(null==this._boundPart)throw new Error(\"Mesh.bind() has not been called.\");const{start:r,count:t}=this.parts[this._boundPart],{group:o}=this.parts[this._boundPart],{primitive:i,index:n}=this.groups[o];if(n){const o=this.indexBuffers.get(n);if(!o)throw new Error(`Missing index buffer \"${n}\".`);const{indexType:f}=o.buffer;if(!f)throw new Error(\"Buffer type error.\");e.drawElements(i,t,f,r*s[f])}else e.drawArrays(i,r,t)}unbind(e){this._boundPart=null,e.bindVAO(null)}destroy(){for(const{vertexArrays:e}of this.groups)for(const[r,t]of e)t.disposeVAOOnly();for(const{buffer:e}of this.vertexBuffers.values())e.dispose();for(const{buffer:e}of this.indexBuffers.values())e.dispose()}}export{o as Mesh};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAC,QAAK,mCAAmC;AAAC,OAAM,wCAAwC;AAAC,OAAM,4BAA4B;AAAC,OAAM,sCAAsC;AAAC,SAAOC,KAAK,IAAIC,CAAC,QAAK,4BAA4B;AAAC,OAAM,mCAAmC;AAAC,OAAM,8BAA8B;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,wCAAwC;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,kBAAkB;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAACJ,CAAC,EAACE,CAAC,EAAC;IAAC,IAAI,CAACG,UAAU,GAAC,IAAI,EAAC,IAAI,CAACC,aAAa,GAAC,IAAIC,GAAG,CAAD,CAAC,EAAC,IAAI,CAACC,YAAY,GAAC,IAAID,GAAG,CAAD,CAAC,EAAC,IAAI,CAACE,MAAM,GAAC,EAAE;IAAC,KAAI,MAAMN,CAAC,IAAID,CAAC,CAACQ,MAAM,EAAC;MAAC,MAAK;UAACC,IAAI,EAACC,CAAC;UAACC,UAAU,EAACC;QAAC,CAAC,GAACZ,CAAC,CAACQ,MAAM,CAACP,CAAC,CAAC;QAACY,CAAC,GAACnB,CAAC,CAACoB,YAAY,CAAChB,CAAC,EAACF,CAAC,CAACmB,WAAW,EAACL,CAAC,CAAC;MAAC,IAAI,CAACN,aAAa,CAACY,GAAG,CAACf,CAAC,EAAC;QAACgB,MAAM,EAACJ,CAAC;QAACF,UAAU,EAACC;MAAC,CAAC,CAAC;IAAA;IAAC,KAAI,MAAMX,CAAC,IAAID,CAAC,CAACkB,KAAK,EAAC;MAAC,MAAK;UAACT,IAAI,EAACC;QAAC,CAAC,GAACV,CAAC,CAACkB,KAAK,CAACjB,CAAC,CAAC;QAACW,CAAC,GAAClB,CAAC,CAACyB,WAAW,CAACrB,CAAC,EAACF,CAAC,CAACmB,WAAW,EAACL,CAAC,CAAC;MAAC,IAAI,CAACJ,YAAY,CAACU,GAAG,CAACf,CAAC,EAAC;QAACgB,MAAM,EAACL;MAAC,CAAC,CAAC;IAAA;IAAC,KAAI,MAAMlB,CAAC,IAAIM,CAAC,CAACO,MAAM,EAAC,IAAI,CAACA,MAAM,CAACa,IAAI,CAAC;MAAC,GAAG1B,CAAC;MAAC2B,YAAY,EAAC,IAAIhB,GAAG,CAAD;IAAC,CAAC,CAAC;IAAC,IAAI,CAACiB,KAAK,GAACtB,CAAC,CAACsB,KAAK;EAAA;EAACC,IAAIA,CAAC7B,CAAC,EAACE,CAAC,EAACI,CAAC,EAAC;IAAC,IAAI,CAACG,UAAU,GAACH,CAAC;IAAC,MAAK;QAACwB,KAAK,EAACvB;MAAC,CAAC,GAAC,IAAI,CAACqB,KAAK,CAAC,IAAI,CAACnB,UAAU,CAAC;MAACO,CAAC,GAAC,IAAI,CAACH,MAAM,CAACN,CAAC,CAAC;IAAC,IAAG,CAACS,CAAC,EAAC,MAAM,IAAIe,KAAK,CAAC,iBAAiBxB,CAAC,GAAG,CAAC;IAAC,IAAIW,CAAC,GAACF,CAAC,CAACW,YAAY,CAACK,GAAG,CAAC9B,CAAC,CAAC+B,UAAU,CAAC;IAAC,IAAG,CAACf,CAAC,EAAC;MAAC,MAAMZ,CAAC,GAAC,IAAI4B,GAAG,CAAChC,CAAC,CAACiC,SAAS,CAACC,IAAI,CAAC,CAAC,CAAC;QAAC7B,CAAC,GAACS,CAAC,CAACQ,KAAK,GAAC,IAAI,CAACZ,YAAY,CAACoB,GAAG,CAAChB,CAAC,CAACQ,KAAK,CAAC,EAAED,MAAM,GAAC,IAAI;QAACJ,CAAC,GAAC,IAAIR,GAAG,CAAD,CAAC;QAAC0B,CAAC,GAAC,IAAI1B,GAAG,CAAD,CAAC;MAAC,KAAI,MAAK,CAACX,CAAC,EAAC;QAACuB,MAAM,EAACrB,CAAC;QAACe,UAAU,EAACb;MAAC,CAAC,CAAC,IAAG,IAAI,CAACM,aAAa,EAAC;QAAC,MAAMH,CAAC,GAACH,CAAC,CAACkC,MAAM,CAAEtC,CAAC,IAAEM,CAAC,CAACiC,GAAG,CAACvC,CAAC,CAACwC,IAAI,CAAE,CAAC;QAACjC,CAAC,CAACkC,MAAM,GAAC,CAAC,KAAGtB,CAAC,CAACG,GAAG,CAACtB,CAAC,EAACO,CAAC,CAAC,EAAC8B,CAAC,CAACf,GAAG,CAACtB,CAAC,EAACE,CAAC,CAAC,CAAC;MAAA;MAACgB,CAAC,GAAC,IAAId,CAAC,CAACJ,CAAC,EAACE,CAAC,CAACiC,SAAS,EAAChB,CAAC,EAACkB,CAAC,EAAC9B,CAAC,CAAC,EAACS,CAAC,CAACW,YAAY,CAACL,GAAG,CAACpB,CAAC,CAAC+B,UAAU,EAACf,CAAC,CAAC;IAAA;IAAClB,CAAC,CAAC0C,OAAO,CAACxB,CAAC,CAAC;EAAA;EAACyB,IAAIA,CAAC3C,CAAC,EAAC;IAAC,IAAG,IAAI,IAAE,IAAI,CAACS,UAAU,EAAC,MAAM,IAAIsB,KAAK,CAAC,kCAAkC,CAAC;IAAC,MAAK;QAACa,KAAK,EAAC1C,CAAC;QAAC2C,KAAK,EAACzC;MAAC,CAAC,GAAC,IAAI,CAACwB,KAAK,CAAC,IAAI,CAACnB,UAAU,CAAC;MAAC;QAACqB,KAAK,EAACvB;MAAC,CAAC,GAAC,IAAI,CAACqB,KAAK,CAAC,IAAI,CAACnB,UAAU,CAAC;MAAC;QAACqC,SAAS,EAAC9B,CAAC;QAACQ,KAAK,EAACN;MAAC,CAAC,GAAC,IAAI,CAACL,MAAM,CAACN,CAAC,CAAC;IAAC,IAAGW,CAAC,EAAC;MAAC,MAAMX,CAAC,GAAC,IAAI,CAACK,YAAY,CAACoB,GAAG,CAACd,CAAC,CAAC;MAAC,IAAG,CAACX,CAAC,EAAC,MAAM,IAAIwB,KAAK,CAAC,yBAAyBb,CAAC,IAAI,CAAC;MAAC,MAAK;QAAC6B,SAAS,EAAC5B;MAAC,CAAC,GAACZ,CAAC,CAACgB,MAAM;MAAC,IAAG,CAACJ,CAAC,EAAC,MAAM,IAAIY,KAAK,CAAC,oBAAoB,CAAC;MAAC/B,CAAC,CAACgD,YAAY,CAAChC,CAAC,EAACZ,CAAC,EAACe,CAAC,EAACjB,CAAC,GAACI,CAAC,CAACa,CAAC,CAAC,CAAC;IAAA,CAAC,MAAKnB,CAAC,CAACiD,UAAU,CAACjC,CAAC,EAACd,CAAC,EAACE,CAAC,CAAC;EAAA;EAAC8C,MAAMA,CAAClD,CAAC,EAAC;IAAC,IAAI,CAACS,UAAU,GAAC,IAAI,EAACT,CAAC,CAAC0C,OAAO,CAAC,IAAI,CAAC;EAAA;EAACS,OAAOA,CAAA,EAAE;IAAC,KAAI,MAAK;MAACxB,YAAY,EAAC3B;IAAC,CAAC,IAAG,IAAI,CAACa,MAAM,EAAC,KAAI,MAAK,CAACX,CAAC,EAACE,CAAC,CAAC,IAAGJ,CAAC,EAACI,CAAC,CAACgD,cAAc,CAAC,CAAC;IAAC,KAAI,MAAK;MAAC7B,MAAM,EAACvB;IAAC,CAAC,IAAG,IAAI,CAACU,aAAa,CAAC2C,MAAM,CAAC,CAAC,EAACrD,CAAC,CAACsD,OAAO,CAAC,CAAC;IAAC,KAAI,MAAK;MAAC/B,MAAM,EAACvB;IAAC,CAAC,IAAG,IAAI,CAACY,YAAY,CAACyC,MAAM,CAAC,CAAC,EAACrD,CAAC,CAACsD,OAAO,CAAC,CAAC;EAAA;AAAC;AAAC,SAAO/C,CAAC,IAAIgD,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}