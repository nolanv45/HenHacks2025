{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../../core/Accessor.js\";\nimport { equals as i } from \"../../../../../core/arrayUtils.js\";\nimport { createTask as s } from \"../../../../../core/asyncUtils.js\";\nimport r from \"../../../../../core/Logger.js\";\nimport { throwIfAbortError as o } from \"../../../../../core/promiseUtils.js\";\nimport { when as n } from \"../../../../../core/reactiveUtils.js\";\nimport { union as a, equals as l, isSubsetOf as u, difference as d } from \"../../../../../core/SetUtils.js\";\nimport { normalizeGlobalID as c } from \"../../../../../core/uuid.js\";\nimport { property as h } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport { subclass as p } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as f } from \"../../../../../core/support/UpdatingHandles.js\";\nimport y from \"../../../../../geometry/Extent.js\";\nimport { toExtent as m } from \"../../../../../geometry/support/aaBoundingRect.js\";\nimport { unquantizeOptimizedFeatureSet as _, convertFromFeatureSet as g } from \"../../../../../layers/graphics/featureConversionUtils.js\";\nimport { isHostedAgolService as F } from \"../../../../../layers/support/arcgisLayerUrl.js\";\nimport { OptimizedFeatureSetParserContext as T } from \"../../../../../rest/query/operations/pbfOptimizedFeatureSet.js\";\nimport { executeQueryForExtent as b, executeQueryPBF as P, executeQuery as v } from \"../../../../../rest/query/operations/query.js\";\nimport I from \"../../../../../rest/support/Query.js\";\nimport { StateType as O, PendingFeatureTile as S } from \"./PendingFeatureTile.js\";\nlet j = class extends t {\n  get _minimumVerticesPerFeature() {\n    switch (this.store?.featureStore.geometryType) {\n      case \"esriGeometryPoint\":\n      case \"esriGeometryMultipoint\":\n        return 1;\n      case \"esriGeometryPolygon\":\n        return 4;\n      case \"esriGeometryPolyline\":\n        return 2;\n    }\n  }\n  get _mandatoryOutFields() {\n    const e = new Set();\n    return this.objectIdField && e.add(this.objectIdField), this.globalIdField && e.add(this.globalIdField), e;\n  }\n  set outFields(e) {\n    const t = this._get(\"outFields\"),\n      i = a(e, this._mandatoryOutFields);\n    l(i, t) || (this._set(\"outFields\", i), u(i, t) || this.refresh());\n  }\n  get outFields() {\n    return this._get(\"outFields\") ?? this._mandatoryOutFields;\n  }\n  set filter(e) {\n    const t = this._get(\"filter\"),\n      i = this._filterProperties(e);\n    JSON.stringify(t) !== JSON.stringify(i) && this._set(\"filter\", i);\n  }\n  set customParameters(e) {\n    const t = this._get(\"customParameters\");\n    JSON.stringify(t) !== JSON.stringify(e) && this._set(\"customParameters\", e);\n  }\n  get _configuration() {\n    return {\n      filter: this.filter,\n      customParameters: this.customParameters,\n      tileInfo: this.tileInfo,\n      tileSize: this.tileSize\n    };\n  }\n  set tileInfo(e) {\n    const t = this._get(\"tileInfo\");\n    t !== e && (null != e && null != t && JSON.stringify(e) === JSON.stringify(t) || (this._set(\"tileInfo\", e), this.store.tileInfo = e));\n  }\n  set tileSize(e) {\n    this._get(\"tileSize\") !== e && this._set(\"tileSize\", e);\n  }\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get hasZ() {\n    return this.store.featureStore.hasZ;\n  }\n  constructor(e) {\n    super(e), this.suspended = !0, this._historicMoment = null, this.tilesOfInterest = [], this.availability = 0, this._pendingTiles = new Map(), this._updatingHandles = new f();\n  }\n  initialize() {\n    this._initializeFetchExtent(), this._updatingHandles.add(() => this._configuration, () => this.refresh()), this._updatingHandles.add(() => this.tilesOfInterest, () => {\n      this._updatePriorities(), this._process();\n    }, {\n      sync: !0,\n      initial: !0,\n      equals: (e, t) => i(e, t, (_ref, _ref2) => {\n        let {\n          id: e\n        } = _ref;\n        let {\n          id: t\n        } = _ref2;\n        return e === t;\n      })\n    }), this.addHandles(n(() => !this.suspended, () => this._process()));\n  }\n  _updatePriorities() {\n    this.store.setPriorityOrderByKey(this.tilesOfInterest.map(e => e.id ?? \"\") ?? []);\n  }\n  destroy() {\n    this._pendingTiles.forEach(e => this._deletePendingTile(e)), this._pendingTiles.clear(), this.store.destroy(), this.tilesOfInterest.length = 0, this._updatingHandles.destroy();\n  }\n  refresh() {\n    this.store.refresh(), this._pendingTiles.forEach(e => this._deletePendingTile(e)), this._process();\n  }\n  async handleEdits(e) {\n    if (e.historicMoment && (this._historicMoment = e.historicMoment), !e.addedFeatures.length && !e.updatedFeatures.length && !e.deletedFeatures.length) return;\n    for (const s of this._pendingTiles.values()) s.reset();\n    const t = {\n        ...e,\n        deletedFeatures: e.deletedFeatures.map(_ref3 => {\n          let {\n            objectId: e,\n            globalId: t\n          } = _ref3;\n          return e && -1 !== e ? e : this._lookupObjectIdByGlobalId(t);\n        })\n      },\n      i = s(async e => {\n        try {\n          await this.store.processEdits(t, (e, t) => this._queryFeaturesById(e, t), e), this._processPendingTiles();\n        } catch (i) {\n          o(i), r.getLogger(this).warn(\"Failed to apply edits\", i);\n        }\n      });\n    this.addHandles(i), await this._updatingHandles.addPromise(i.promise);\n  }\n  setHistoricMoment(e) {\n    e?.getTime() !== this._historicMoment?.getTime() && (this._historicMoment = e, this.refresh());\n  }\n  _initializeFetchExtent() {\n    if (!this.capabilities.query.supportsExtent || !F(this.url)) return;\n    const e = s(async e => {\n      try {\n        const t = await b(this.url, new I({\n          where: \"1=1\",\n          outSpatialReference: this.spatialReference,\n          cacheHint: this.capabilities.query.supportsCacheHint ?? void 0\n        }), {\n          query: this._configuration.customParameters,\n          signal: e\n        });\n        this.store.extent = y.fromJSON(t.data?.extent);\n      } catch (t) {\n        o(t), r.getLogger(this).warn(\"Failed to fetch data extent\", t);\n      }\n    });\n    this._updatingHandles.addPromise(e.promise.then(() => this._process())), this.addHandles(e);\n  }\n  get debugInfo() {\n    return {\n      numberOfFeatures: this.store.featureStore.numFeatures,\n      tilesOfInterest: this.tilesOfInterest,\n      pendingTiles: Array.from(this._pendingTiles.values()).map(e => e.debugInfo),\n      storedTiles: this.store.debugInfo\n    };\n  }\n  _process() {\n    this._markTilesNotAlive(), this._createPendingTiles(), this._deletePendingTiles(), this._processPendingTiles();\n  }\n  _markTilesNotAlive() {\n    for (const e of this._pendingTiles.values()) e.alive = !1;\n  }\n  _createPendingTiles() {\n    if (this.suspended) return;\n    const e = this._collectMissingTilesInfo();\n    if (this._setAvailability(null == e ? 1 : e.coveredArea / e.fullArea), null != e) for (const {\n      data: t,\n      resolution: i\n    } of e.missingTiles) {\n      const e = this._pendingTiles.get(t.id);\n      e ? (e.resolution = i, e.alive = !0) : this._createPendingTile(t, i);\n    }\n  }\n  _collectMissingTilesInfo() {\n    let e = null;\n    for (const t of this.tilesOfInterest) {\n      const i = this.store.process(t, (e, t) => this._verifyTileComplexity(e, t), this.outFields);\n      null == e ? e = i : e.prepend(i);\n    }\n    return e;\n  }\n  _deletePendingTiles() {\n    for (const e of this._pendingTiles.values()) e.alive || this._deletePendingTile(e);\n  }\n  _processPendingTiles() {\n    const e = {\n      fetchCount: (e, t) => this._fetchCount(e, t),\n      fetchFeatures: (e, t, i) => this._fetchFeatures(e, t, i),\n      finish: (e, t) => this._finishPendingTile(e, t),\n      resume: () => this._processPendingTiles()\n    };\n    if (this._ensureFetchAllCounts(e)) for (const t of this._pendingTiles.values()) this._verifyTileComplexity(this.store.getFeatureCount(t.data), t.resolution) && this._updatingHandles.addPromise(t.process(e));\n  }\n  _verifyTileComplexity(e, t) {\n    return this._verifyVertexComplexity(e) && this._verifyFeatureDensity(e, t);\n  }\n  _verifyVertexComplexity(e) {\n    return e * this._minimumVerticesPerFeature < w;\n  }\n  _verifyFeatureDensity(e, t) {\n    if (null == this.tileInfo) return !1;\n    const i = this.tileSize * t;\n    return e * (q / (i * i)) < M;\n  }\n  _ensureFetchAllCounts(e) {\n    let t = !0;\n    for (const i of this._pendingTiles.values()) i.state.type < O.FETCHED_COUNT && this._updatingHandles.addPromise(i.process(e)), i.state.type <= O.FETCH_COUNT && (t = !1);\n    return t;\n  }\n  _finishPendingTile(e, t) {\n    this.store.add(e.data, t), this._deletePendingTile(e), this._updateAvailability();\n  }\n  _updateAvailability() {\n    const e = this._collectMissingTilesInfo();\n    this._setAvailability(null == e ? 1 : e.coveredArea / e.fullArea);\n  }\n  _setAvailability(e) {\n    this._set(\"availability\", e);\n  }\n  _createPendingTile(e, t) {\n    const i = new S(e, t);\n    return this._pendingTiles.set(e.id, i), i;\n  }\n  _deletePendingTile(e) {\n    e.reset(), this._pendingTiles.delete(e.data.id);\n  }\n  async _fetchCount(e, t) {\n    return this.store.fetchCount(e.data, this.url, this._createCountQuery(e), {\n      query: this.customParameters,\n      timeout: x,\n      signal: t\n    });\n  }\n  async _fetchFeatures(e, t, i) {\n    let s = 0;\n    const r = [];\n    let o = 0,\n      n = t;\n    for (;;) {\n      const a = this._createFeaturesQuery(e),\n        l = this._setPagingParameters(a, s, n),\n        {\n          features: u,\n          exceededTransferLimit: d\n        } = await this._queryFeatures(a, i);\n      l && (s += a.num), o += u.length;\n      for (const e of u) r.push(e);\n      if (n = t - o, !l || !d || n <= 0) return r;\n    }\n  }\n  _filterProperties(e) {\n    return null == e ? {\n      where: \"1=1\",\n      gdbVersion: void 0,\n      timeExtent: void 0\n    } : {\n      where: e.where || \"1=1\",\n      timeExtent: e.timeExtent,\n      gdbVersion: e.gdbVersion\n    };\n  }\n  _lookupObjectIdByGlobalId(e) {\n    const t = this.globalIdField,\n      i = this.objectIdField;\n    if (null == t) throw new Error(\"Expected globalIdField to be defined\");\n    let s = null;\n    const r = e ? c(e) : e;\n    if (this.store.featureStore.forEach(e => {\n      r === c(e.attributes[t]) && (s = e.objectId ?? e.attributes[i]);\n    }), null == s) throw new Error(`Expected to find a feature with globalId ${e}`);\n    return s;\n  }\n  _queryFeaturesById(e, t) {\n    const i = this._createFeaturesQuery();\n    return i.objectIds = e, this._queryFeatures(i, t);\n  }\n  _queryFeatures(e, t) {\n    return this.capabilities.query.supportsFormatPBF ? this._queryFeaturesPBF(e, t) : this._queryFeaturesJSON(e, t);\n  }\n  async _queryFeaturesPBF(e, t) {\n    const {\n        sourceSpatialReference: i\n      } = this,\n      {\n        data: s\n      } = await P(this.url, e, new T({\n        sourceSpatialReference: i\n      }), {\n        query: this._configuration.customParameters,\n        timeout: x,\n        signal: t\n      });\n    return _(s);\n  }\n  async _queryFeaturesJSON(e, t) {\n    const {\n        sourceSpatialReference: i\n      } = this,\n      {\n        data: s\n      } = await v(this.url, e, i, {\n        query: this._configuration.customParameters,\n        timeout: x,\n        signal: t\n      });\n    return g(s, this.objectIdField);\n  }\n  _createCountQuery(e) {\n    const t = this._createBaseQuery(e);\n    return this.capabilities.query.supportsCacheHint && (t.cacheHint = !0), t;\n  }\n  _createFeaturesQuery() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    const t = this._createBaseQuery(e),\n      i = null != e?.data ? this.store.getAttributesForTile(e?.data?.id) : null,\n      s = a(d(this.outFields, i ?? new Set()), this._mandatoryOutFields);\n    return t.outFields = Array.from(s), t.returnGeometry = !0, null != e && (this.capabilities.query.supportsResultType ? t.resultType = \"tile\" : this.capabilities.query.supportsCacheHint && (t.cacheHint = !0)), t;\n  }\n  _createBaseQuery(e) {\n    const t = new I({\n        returnZ: this.hasZ,\n        returnM: !1,\n        historicMoment: this._historicMoment,\n        geometry: null != this.tileInfo && null != e ? m(e.data.extent, this.tileInfo.spatialReference) : void 0\n      }),\n      i = this._configuration.filter;\n    return null != i && (t.where = i.where, t.gdbVersion = i.gdbVersion, t.timeExtent = i.timeExtent), t.outSpatialReference = this.spatialReference, t;\n  }\n  _setPagingParameters(e, t, i) {\n    if (!this.capabilities.query.supportsPagination) return !1;\n    const {\n        supportsMaxRecordCountFactor: s,\n        supportsCacheHint: r,\n        tileMaxRecordCount: o,\n        maxRecordCount: n,\n        supportsResultType: a\n      } = this.capabilities.query,\n      l = s ? I.MAX_MAX_RECORD_COUNT_FACTOR : 1,\n      u = l * ((a || r) && o ? o : n || C);\n    return e.start = t, s ? (e.maxRecordCountFactor = Math.min(l, Math.ceil(i / u)), e.num = Math.min(i, e.maxRecordCountFactor * u)) : e.num = Math.min(i, u), !0;\n  }\n};\ne([h({\n  constructOnly: !0\n})], j.prototype, \"url\", void 0), e([h({\n  constructOnly: !0\n})], j.prototype, \"objectIdField\", void 0), e([h({\n  constructOnly: !0\n})], j.prototype, \"globalIdField\", void 0), e([h({\n  constructOnly: !0\n})], j.prototype, \"capabilities\", void 0), e([h({\n  constructOnly: !0\n})], j.prototype, \"sourceSpatialReference\", void 0), e([h({\n  constructOnly: !0\n})], j.prototype, \"spatialReference\", void 0), e([h({\n  constructOnly: !0\n})], j.prototype, \"store\", void 0), e([h({\n  readOnly: !0\n})], j.prototype, \"_minimumVerticesPerFeature\", null), e([h()], j.prototype, \"_mandatoryOutFields\", null), e([h()], j.prototype, \"outFields\", null), e([h()], j.prototype, \"suspended\", void 0), e([h()], j.prototype, \"_historicMoment\", void 0), e([h()], j.prototype, \"filter\", null), e([h()], j.prototype, \"customParameters\", null), e([h({\n  readOnly: !0\n})], j.prototype, \"_configuration\", null), e([h()], j.prototype, \"tileInfo\", null), e([h()], j.prototype, \"tileSize\", null), e([h()], j.prototype, \"tilesOfInterest\", void 0), e([h({\n  readOnly: !0\n})], j.prototype, \"updating\", null), e([h({\n  readOnly: !0\n})], j.prototype, \"availability\", void 0), e([h()], j.prototype, \"hasZ\", null), j = e([p(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\")], j);\nconst C = 2e3,\n  x = 6e5,\n  w = 1e6,\n  q = 25,\n  M = 1;\nexport { j as FeatureServiceTiledFetcher };","map":{"version":3,"names":["_","e","t","equals","i","createTask","s","r","throwIfAbortError","o","when","n","union","a","l","isSubsetOf","u","difference","d","normalizeGlobalID","c","property","h","subclass","p","UpdatingHandles","f","y","toExtent","m","unquantizeOptimizedFeatureSet","convertFromFeatureSet","g","isHostedAgolService","F","OptimizedFeatureSetParserContext","T","executeQueryForExtent","b","executeQueryPBF","P","executeQuery","v","I","StateType","O","PendingFeatureTile","S","j","_minimumVerticesPerFeature","store","featureStore","geometryType","_mandatoryOutFields","Set","objectIdField","add","globalIdField","outFields","_get","_set","refresh","filter","_filterProperties","JSON","stringify","customParameters","_configuration","tileInfo","tileSize","updating","_updatingHandles","hasZ","constructor","suspended","_historicMoment","tilesOfInterest","availability","_pendingTiles","Map","initialize","_initializeFetchExtent","_updatePriorities","_process","sync","initial","_ref","_ref2","id","addHandles","setPriorityOrderByKey","map","destroy","forEach","_deletePendingTile","clear","length","handleEdits","historicMoment","addedFeatures","updatedFeatures","deletedFeatures","values","reset","_ref3","objectId","globalId","_lookupObjectIdByGlobalId","processEdits","_queryFeaturesById","_processPendingTiles","getLogger","warn","addPromise","promise","setHistoricMoment","getTime","capabilities","query","supportsExtent","url","where","outSpatialReference","spatialReference","cacheHint","supportsCacheHint","signal","extent","fromJSON","data","then","debugInfo","numberOfFeatures","numFeatures","pendingTiles","Array","from","storedTiles","_markTilesNotAlive","_createPendingTiles","_deletePendingTiles","alive","_collectMissingTilesInfo","_setAvailability","coveredArea","fullArea","resolution","missingTiles","get","_createPendingTile","process","_verifyTileComplexity","prepend","fetchCount","_fetchCount","fetchFeatures","_fetchFeatures","finish","_finishPendingTile","resume","_ensureFetchAllCounts","getFeatureCount","_verifyVertexComplexity","_verifyFeatureDensity","w","q","M","state","type","FETCHED_COUNT","FETCH_COUNT","_updateAvailability","set","delete","_createCountQuery","timeout","x","_createFeaturesQuery","_setPagingParameters","features","exceededTransferLimit","_queryFeatures","num","push","gdbVersion","timeExtent","Error","attributes","objectIds","supportsFormatPBF","_queryFeaturesPBF","_queryFeaturesJSON","sourceSpatialReference","_createBaseQuery","arguments","undefined","getAttributesForTile","returnGeometry","supportsResultType","resultType","returnZ","returnM","geometry","supportsPagination","supportsMaxRecordCountFactor","tileMaxRecordCount","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","C","start","maxRecordCountFactor","Math","min","ceil","constructOnly","prototype","readOnly","FeatureServiceTiledFetcher"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{equals as i}from\"../../../../../core/arrayUtils.js\";import{createTask as s}from\"../../../../../core/asyncUtils.js\";import r from\"../../../../../core/Logger.js\";import{throwIfAbortError as o}from\"../../../../../core/promiseUtils.js\";import{when as n}from\"../../../../../core/reactiveUtils.js\";import{union as a,equals as l,isSubsetOf as u,difference as d}from\"../../../../../core/SetUtils.js\";import{normalizeGlobalID as c}from\"../../../../../core/uuid.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as f}from\"../../../../../core/support/UpdatingHandles.js\";import y from\"../../../../../geometry/Extent.js\";import{toExtent as m}from\"../../../../../geometry/support/aaBoundingRect.js\";import{unquantizeOptimizedFeatureSet as _,convertFromFeatureSet as g}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{isHostedAgolService as F}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{OptimizedFeatureSetParserContext as T}from\"../../../../../rest/query/operations/pbfOptimizedFeatureSet.js\";import{executeQueryForExtent as b,executeQueryPBF as P,executeQuery as v}from\"../../../../../rest/query/operations/query.js\";import I from\"../../../../../rest/support/Query.js\";import{StateType as O,PendingFeatureTile as S}from\"./PendingFeatureTile.js\";let j=class extends t{get _minimumVerticesPerFeature(){switch(this.store?.featureStore.geometryType){case\"esriGeometryPoint\":case\"esriGeometryMultipoint\":return 1;case\"esriGeometryPolygon\":return 4;case\"esriGeometryPolyline\":return 2}}get _mandatoryOutFields(){const e=new Set;return this.objectIdField&&e.add(this.objectIdField),this.globalIdField&&e.add(this.globalIdField),e}set outFields(e){const t=this._get(\"outFields\"),i=a(e,this._mandatoryOutFields);l(i,t)||(this._set(\"outFields\",i),u(i,t)||this.refresh())}get outFields(){return this._get(\"outFields\")??this._mandatoryOutFields}set filter(e){const t=this._get(\"filter\"),i=this._filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set(\"filter\",i)}set customParameters(e){const t=this._get(\"customParameters\");JSON.stringify(t)!==JSON.stringify(e)&&this._set(\"customParameters\",e)}get _configuration(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const t=this._get(\"tileInfo\");t!==e&&(null!=e&&null!=t&&JSON.stringify(e)===JSON.stringify(t)||(this._set(\"tileInfo\",e),this.store.tileInfo=e))}set tileSize(e){this._get(\"tileSize\")!==e&&this._set(\"tileSize\",e)}get updating(){return this._updatingHandles.updating}get hasZ(){return this.store.featureStore.hasZ}constructor(e){super(e),this.suspended=!0,this._historicMoment=null,this.tilesOfInterest=[],this.availability=0,this._pendingTiles=new Map,this._updatingHandles=new f}initialize(){this._initializeFetchExtent(),this._updatingHandles.add((()=>this._configuration),(()=>this.refresh())),this._updatingHandles.add((()=>this.tilesOfInterest),(()=>{this._updatePriorities(),this._process()}),{sync:!0,initial:!0,equals:(e,t)=>i(e,t,(({id:e},{id:t})=>e===t))}),this.addHandles(n((()=>!this.suspended),(()=>this._process())))}_updatePriorities(){this.store.setPriorityOrderByKey(this.tilesOfInterest.map((e=>e.id??\"\"))??[])}destroy(){this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this._updatingHandles.destroy()}refresh(){this.store.refresh(),this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._process()}async handleEdits(e){if(e.historicMoment&&(this._historicMoment=e.historicMoment),!e.addedFeatures.length&&!e.updatedFeatures.length&&!e.deletedFeatures.length)return;for(const s of this._pendingTiles.values())s.reset();const t={...e,deletedFeatures:e.deletedFeatures.map((({objectId:e,globalId:t})=>e&&-1!==e?e:this._lookupObjectIdByGlobalId(t)))},i=s((async e=>{try{await this.store.processEdits(t,((e,t)=>this._queryFeaturesById(e,t)),e),this._processPendingTiles()}catch(i){o(i),r.getLogger(this).warn(\"Failed to apply edits\",i)}}));this.addHandles(i),await this._updatingHandles.addPromise(i.promise)}setHistoricMoment(e){e?.getTime()!==this._historicMoment?.getTime()&&(this._historicMoment=e,this.refresh())}_initializeFetchExtent(){if(!this.capabilities.query.supportsExtent||!F(this.url))return;const e=s((async e=>{try{const t=await b(this.url,new I({where:\"1=1\",outSpatialReference:this.spatialReference,cacheHint:this.capabilities.query.supportsCacheHint??void 0}),{query:this._configuration.customParameters,signal:e});this.store.extent=y.fromJSON(t.data?.extent)}catch(t){o(t),r.getLogger(this).warn(\"Failed to fetch data extent\",t)}}));this._updatingHandles.addPromise(e.promise.then((()=>this._process()))),this.addHandles(e)}get debugInfo(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this._pendingTiles.values()).map((e=>e.debugInfo)),storedTiles:this.store.debugInfo}}_process(){this._markTilesNotAlive(),this._createPendingTiles(),this._deletePendingTiles(),this._processPendingTiles()}_markTilesNotAlive(){for(const e of this._pendingTiles.values())e.alive=!1}_createPendingTiles(){if(this.suspended)return;const e=this._collectMissingTilesInfo();if(this._setAvailability(null==e?1:e.coveredArea/e.fullArea),null!=e)for(const{data:t,resolution:i}of e.missingTiles){const e=this._pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this._createPendingTile(t,i)}}_collectMissingTilesInfo(){let e=null;for(const t of this.tilesOfInterest){const i=this.store.process(t,((e,t)=>this._verifyTileComplexity(e,t)),this.outFields);null==e?e=i:e.prepend(i)}return e}_deletePendingTiles(){for(const e of this._pendingTiles.values())e.alive||this._deletePendingTile(e)}_processPendingTiles(){const e={fetchCount:(e,t)=>this._fetchCount(e,t),fetchFeatures:(e,t,i)=>this._fetchFeatures(e,t,i),finish:(e,t)=>this._finishPendingTile(e,t),resume:()=>this._processPendingTiles()};if(this._ensureFetchAllCounts(e))for(const t of this._pendingTiles.values())this._verifyTileComplexity(this.store.getFeatureCount(t.data),t.resolution)&&this._updatingHandles.addPromise(t.process(e))}_verifyTileComplexity(e,t){return this._verifyVertexComplexity(e)&&this._verifyFeatureDensity(e,t)}_verifyVertexComplexity(e){return e*this._minimumVerticesPerFeature<w}_verifyFeatureDensity(e,t){if(null==this.tileInfo)return!1;const i=this.tileSize*t;return e*(q/(i*i))<M}_ensureFetchAllCounts(e){let t=!0;for(const i of this._pendingTiles.values())i.state.type<O.FETCHED_COUNT&&this._updatingHandles.addPromise(i.process(e)),i.state.type<=O.FETCH_COUNT&&(t=!1);return t}_finishPendingTile(e,t){this.store.add(e.data,t),this._deletePendingTile(e),this._updateAvailability()}_updateAvailability(){const e=this._collectMissingTilesInfo();this._setAvailability(null==e?1:e.coveredArea/e.fullArea)}_setAvailability(e){this._set(\"availability\",e)}_createPendingTile(e,t){const i=new S(e,t);return this._pendingTiles.set(e.id,i),i}_deletePendingTile(e){e.reset(),this._pendingTiles.delete(e.data.id)}async _fetchCount(e,t){return this.store.fetchCount(e.data,this.url,this._createCountQuery(e),{query:this.customParameters,timeout:x,signal:t})}async _fetchFeatures(e,t,i){let s=0;const r=[];let o=0,n=t;for(;;){const a=this._createFeaturesQuery(e),l=this._setPagingParameters(a,s,n),{features:u,exceededTransferLimit:d}=await this._queryFeatures(a,i);l&&(s+=a.num),o+=u.length;for(const e of u)r.push(e);if(n=t-o,!l||!d||n<=0)return r}}_filterProperties(e){return null==e?{where:\"1=1\",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||\"1=1\",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}_lookupObjectIdByGlobalId(e){const t=this.globalIdField,i=this.objectIdField;if(null==t)throw new Error(\"Expected globalIdField to be defined\");let s=null;const r=e?c(e):e;if(this.store.featureStore.forEach((e=>{r===c(e.attributes[t])&&(s=e.objectId??e.attributes[i])})),null==s)throw new Error(`Expected to find a feature with globalId ${e}`);return s}_queryFeaturesById(e,t){const i=this._createFeaturesQuery();return i.objectIds=e,this._queryFeatures(i,t)}_queryFeatures(e,t){return this.capabilities.query.supportsFormatPBF?this._queryFeaturesPBF(e,t):this._queryFeaturesJSON(e,t)}async _queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await P(this.url,e,new T({sourceSpatialReference:i}),{query:this._configuration.customParameters,timeout:x,signal:t});return _(s)}async _queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await v(this.url,e,i,{query:this._configuration.customParameters,timeout:x,signal:t});return g(s,this.objectIdField)}_createCountQuery(e){const t=this._createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_createFeaturesQuery(e=null){const t=this._createBaseQuery(e),i=null!=e?.data?this.store.getAttributesForTile(e?.data?.id):null,s=a(d(this.outFields,i??new Set),this._mandatoryOutFields);return t.outFields=Array.from(s),t.returnGeometry=!0,null!=e&&(this.capabilities.query.supportsResultType?t.resultType=\"tile\":this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0)),t}_createBaseQuery(e){const t=new I({returnZ:this.hasZ,returnM:!1,historicMoment:this._historicMoment,geometry:null!=this.tileInfo&&null!=e?m(e.data.extent,this.tileInfo.spatialReference):void 0}),i=this._configuration.filter;return null!=i&&(t.where=i.where,t.gdbVersion=i.gdbVersion,t.timeExtent=i.timeExtent),t.outSpatialReference=this.spatialReference,t}_setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return!1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:o,maxRecordCount:n,supportsResultType:a}=this.capabilities.query,l=s?I.MAX_MAX_RECORD_COUNT_FACTOR:1,u=l*((a||r)&&o?o:n||C);return e.start=t,s?(e.maxRecordCountFactor=Math.min(l,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};e([h({constructOnly:!0})],j.prototype,\"url\",void 0),e([h({constructOnly:!0})],j.prototype,\"objectIdField\",void 0),e([h({constructOnly:!0})],j.prototype,\"globalIdField\",void 0),e([h({constructOnly:!0})],j.prototype,\"capabilities\",void 0),e([h({constructOnly:!0})],j.prototype,\"sourceSpatialReference\",void 0),e([h({constructOnly:!0})],j.prototype,\"spatialReference\",void 0),e([h({constructOnly:!0})],j.prototype,\"store\",void 0),e([h({readOnly:!0})],j.prototype,\"_minimumVerticesPerFeature\",null),e([h()],j.prototype,\"_mandatoryOutFields\",null),e([h()],j.prototype,\"outFields\",null),e([h()],j.prototype,\"suspended\",void 0),e([h()],j.prototype,\"_historicMoment\",void 0),e([h()],j.prototype,\"filter\",null),e([h()],j.prototype,\"customParameters\",null),e([h({readOnly:!0})],j.prototype,\"_configuration\",null),e([h()],j.prototype,\"tileInfo\",null),e([h()],j.prototype,\"tileSize\",null),e([h()],j.prototype,\"tilesOfInterest\",void 0),e([h({readOnly:!0})],j.prototype,\"updating\",null),e([h({readOnly:!0})],j.prototype,\"availability\",void 0),e([h()],j.prototype,\"hasZ\",null),j=e([p(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\")],j);const C=2e3,x=6e5,w=1e6,q=25,M=1;export{j as FeatureServiceTiledFetcher};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}