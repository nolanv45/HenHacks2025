{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { clock as t } from \"../../../core/clock.js\";\nimport { removeMaybe as e } from \"../../../core/maybe.js\";\nimport { createScreenPoint as i } from \"../../../core/screenUtils.js\";\nimport { DragEventSeparator as o } from \"../DragEventSeparator.js\";\nimport { InputHandler as a } from \"../InputHandler.js\";\nimport { DefaultParameters as r, getPointerId as n, manhattanDistance as s } from \"./support.js\";\nclass u extends a {\n  constructor(e = r.maximumDoubleClickDelay, a = r.maximumDoubleClickDistance, n = r.maximumDoubleTouchDelay, s = r.maximumDoubleTouchDistance, u = t) {\n    super(!1), this._maximumDoubleClickDelay = e, this._maximumDoubleClickDistance = a, this._maximumDoubleTouchDelay = n, this._maximumDoubleTouchDistance = s, this._clock = u, this._doubleTapDragReady = !1, this._doubleTapDragActive = !1, this._dragStartCenter = i(0, 0), this._pointerState = new Map(), this._doubleTapDrag = this.registerOutgoing(\"double-tap-drag\"), this._dragEventSeparator = new o({\n      start: (t, e) => this._dragStart(t, e),\n      update: (t, e) => this._dragUpdate(e),\n      end: (t, e) => this._dragEnd(e)\n    }), this.registerIncoming(\"drag\", t => this._dragEventSeparator.handle(t)), this.registerIncoming(\"pointer-down\", t => this._handlePointerDown(t)), this.registerIncoming(\"pointer-up\", () => this._handlePointerUp());\n  }\n  onUninstall() {\n    this._pointerState.forEach(t => {\n      t.doubleTapTimeout = e(t.doubleTapTimeout);\n    });\n  }\n  get hasPendingInputs() {\n    for (const t of this._pointerState.values()) if (null != t.doubleTapTimeout) return !0;\n    return !1;\n  }\n  _clearPointerDown(t) {\n    const i = this._pointerState.get(t);\n    i && (i.doubleTapTimeout = e(i.doubleTapTimeout), this._pointerState.delete(t), this.refreshHasPendingInputs());\n  }\n  _dragStart(t, e) {\n    if (!this._doubleTapDragReady || 1 !== t) return;\n    this._doubleTapDragReady = !1, this._doubleTapDragActive = !0;\n    const {\n        data: o,\n        modifiers: a\n      } = e,\n      {\n        center: r\n      } = o;\n    this._dragStartCenter = r;\n    const n = d(\"begin\", i(0, 0), o);\n    this._doubleTapDrag.emit(n, void 0, a), e.stopPropagation();\n  }\n  _dragUpdate(t) {\n    if (!this._doubleTapDragActive) return;\n    const {\n        data: e,\n        modifiers: o\n      } = t,\n      {\n        center: a\n      } = e,\n      r = d(\"update\", i(a.x - this._dragStartCenter.x, a.y - this._dragStartCenter.y), e);\n    this._doubleTapDrag.emit(r, void 0, o), t.stopPropagation();\n  }\n  _dragEnd(t) {\n    if (!this._doubleTapDragActive) return;\n    const {\n        data: e,\n        modifiers: o\n      } = t,\n      {\n        center: a\n      } = e,\n      r = d(\"end\", i(a.x - this._dragStartCenter.x, a.y - this._dragStartCenter.y), e);\n    this._doubleTapDrag.emit(r, void 0, o), this._doubleTapDragActive = !1, t.stopPropagation();\n  }\n  _handlePointerDown(t) {\n    const {\n        data: e\n      } = t,\n      i = n(e),\n      o = this._pointerState.get(i),\n      {\n        pointerType: a\n      } = e.native;\n    if (o) {\n      const r = \"touch\" === a ? this._maximumDoubleTouchDistance : this._maximumDoubleClickDistance;\n      this._clearPointerDown(i), s(o.event.data, e) > r ? this._storePointerDown(t) : this._doubleTapDragReady = !0;\n    } else this._storePointerDown(t);\n  }\n  _handlePointerUp() {\n    this._doubleTapDragReady = !1;\n  }\n  _storePointerDown(t) {\n    const {\n        data: e\n      } = t,\n      {\n        pointerType: i\n      } = e.native,\n      o = n(e),\n      a = \"touch\" === i ? this._maximumDoubleTouchDelay : this._maximumDoubleClickDelay,\n      r = this._clock.setTimeout(() => this._clearPointerDown(o), a);\n    this._pointerState.set(o, {\n      event: t,\n      doubleTapTimeout: r\n    }), this.refreshHasPendingInputs();\n  }\n}\nfunction d(t, e, i) {\n  const {\n    button: o,\n    buttons: a,\n    pointer: r,\n    pointers: n,\n    pointerType: s,\n    timestamp: u\n  } = i;\n  return {\n    action: t,\n    delta: e,\n    button: o,\n    buttons: a,\n    pointer: r,\n    pointers: n,\n    pointerType: s,\n    timestamp: u\n  };\n}\nexport { u as DoubleTapDrag };","map":{"version":3,"names":["clock","t","removeMaybe","e","createScreenPoint","i","DragEventSeparator","o","InputHandler","a","DefaultParameters","r","getPointerId","n","manhattanDistance","s","u","constructor","maximumDoubleClickDelay","maximumDoubleClickDistance","maximumDoubleTouchDelay","maximumDoubleTouchDistance","_maximumDoubleClickDelay","_maximumDoubleClickDistance","_maximumDoubleTouchDelay","_maximumDoubleTouchDistance","_clock","_doubleTapDragReady","_doubleTapDragActive","_dragStartCenter","_pointerState","Map","_doubleTapDrag","registerOutgoing","_dragEventSeparator","start","_dragStart","update","_dragUpdate","end","_dragEnd","registerIncoming","handle","_handlePointerDown","_handlePointerUp","onUninstall","forEach","doubleTapTimeout","hasPendingInputs","values","_clearPointerDown","get","delete","refreshHasPendingInputs","data","modifiers","center","d","emit","stopPropagation","x","y","pointerType","native","event","_storePointerDown","setTimeout","set","button","buttons","pointer","pointers","timestamp","action","delta","DoubleTapDrag"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/input/recognizers/DoubleTapDrag.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clock as t}from\"../../../core/clock.js\";import{removeMaybe as e}from\"../../../core/maybe.js\";import{createScreenPoint as i}from\"../../../core/screenUtils.js\";import{DragEventSeparator as o}from\"../DragEventSeparator.js\";import{InputHandler as a}from\"../InputHandler.js\";import{DefaultParameters as r,getPointerId as n,manhattanDistance as s}from\"./support.js\";class u extends a{constructor(e=r.maximumDoubleClickDelay,a=r.maximumDoubleClickDistance,n=r.maximumDoubleTouchDelay,s=r.maximumDoubleTouchDistance,u=t){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=a,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=s,this._clock=u,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=i(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing(\"double-tap-drag\"),this._dragEventSeparator=new o({start:(t,e)=>this._dragStart(t,e),update:(t,e)=>this._dragUpdate(e),end:(t,e)=>this._dragEnd(e)}),this.registerIncoming(\"drag\",(t=>this._dragEventSeparator.handle(t))),this.registerIncoming(\"pointer-down\",(t=>this._handlePointerDown(t))),this.registerIncoming(\"pointer-up\",(()=>this._handlePointerUp()))}onUninstall(){this._pointerState.forEach((t=>{t.doubleTapTimeout=e(t.doubleTapTimeout)}))}get hasPendingInputs(){for(const t of this._pointerState.values())if(null!=t.doubleTapTimeout)return!0;return!1}_clearPointerDown(t){const i=this._pointerState.get(t);i&&(i.doubleTapTimeout=e(i.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,e){if(!this._doubleTapDragReady||1!==t)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:o,modifiers:a}=e,{center:r}=o;this._dragStartCenter=r;const n=d(\"begin\",i(0,0),o);this._doubleTapDrag.emit(n,void 0,a),e.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:e,modifiers:o}=t,{center:a}=e,r=d(\"update\",i(a.x-this._dragStartCenter.x,a.y-this._dragStartCenter.y),e);this._doubleTapDrag.emit(r,void 0,o),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:e,modifiers:o}=t,{center:a}=e,r=d(\"end\",i(a.x-this._dragStartCenter.x,a.y-this._dragStartCenter.y),e);this._doubleTapDrag.emit(r,void 0,o),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:e}=t,i=n(e),o=this._pointerState.get(i),{pointerType:a}=e.native;if(o){const r=\"touch\"===a?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(i),s(o.event.data,e)>r?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:e}=t,{pointerType:i}=e.native,o=n(e),a=\"touch\"===i?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,r=this._clock.setTimeout((()=>this._clearPointerDown(o)),a);this._pointerState.set(o,{event:t,doubleTapTimeout:r}),this.refreshHasPendingInputs()}}function d(t,e,i){const{button:o,buttons:a,pointer:r,pointers:n,pointerType:s,timestamp:u}=i;return{action:t,delta:e,button:o,buttons:a,pointer:r,pointers:n,pointerType:s,timestamp:u}}export{u as DoubleTapDrag};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}