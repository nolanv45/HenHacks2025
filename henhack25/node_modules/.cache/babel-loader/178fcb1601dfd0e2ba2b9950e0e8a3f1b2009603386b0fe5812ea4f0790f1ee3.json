{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { ShaderOutput as t } from \"../ShaderOutput.js\";\nimport { Rgba4FloatEncoding as a } from \"../util/RgbaFloat16Encoding.glsl.js\";\nimport { glsl as o } from \"../../shaderModules/glsl.js\";\nfunction e(e, l) {\n  switch (l.output) {\n    case t.Shadow:\n    case t.ShadowHighlight:\n    case t.ShadowExcludeHighlight:\n    case t.ViewshedShadow:\n      e.fragment.include(a), e.fragment.code.add(o`float _calculateFragDepth(const in float depth) {\nconst float SLOPE_SCALE = 2.0;\nconst float BIAS = 20.0 * .000015259;\nfloat m = max(abs(dFdx(depth)), abs(dFdy(depth)));\nreturn depth + SLOPE_SCALE * m + BIAS;\n}\nvoid outputDepth(float _linearDepth) {\nfragColor = floatToRgba4(_calculateFragDepth(_linearDepth));\n}`);\n  }\n}\nexport { e as OutputDepth };","map":{"version":3,"names":["ShaderOutput","t","Rgba4FloatEncoding","a","glsl","o","e","l","output","Shadow","ShadowHighlight","ShadowExcludeHighlight","ViewshedShadow","fragment","include","code","add","OutputDepth"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as t}from\"../ShaderOutput.js\";import{Rgba4FloatEncoding as a}from\"../util/RgbaFloat16Encoding.glsl.js\";import{glsl as o}from\"../../shaderModules/glsl.js\";function e(e,l){switch(l.output){case t.Shadow:case t.ShadowHighlight:case t.ShadowExcludeHighlight:case t.ViewshedShadow:e.fragment.include(a),e.fragment.code.add(o`float _calculateFragDepth(const in float depth) {\nconst float SLOPE_SCALE = 2.0;\nconst float BIAS = 20.0 * .000015259;\nfloat m = max(abs(dFdx(depth)), abs(dFdy(depth)));\nreturn depth + SLOPE_SCALE * m + BIAS;\n}\nvoid outputDepth(float _linearDepth) {\nfragColor = floatToRgba4(_calculateFragDepth(_linearDepth));\n}`)}}export{e as OutputDepth};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,6BAA6B;AAAC,SAASC,CAACA,CAACA,CAAC,EAACC,CAAC,EAAC;EAAC,QAAOA,CAAC,CAACC,MAAM;IAAE,KAAKP,CAAC,CAACQ,MAAM;IAAC,KAAKR,CAAC,CAACS,eAAe;IAAC,KAAKT,CAAC,CAACU,sBAAsB;IAAC,KAAKV,CAAC,CAACW,cAAc;MAACN,CAAC,CAACO,QAAQ,CAACC,OAAO,CAACX,CAAC,CAAC,EAACG,CAAC,CAACO,QAAQ,CAACE,IAAI,CAACC,GAAG,CAACX,CAAC;AACnV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC;EAAA;AAAC;AAAC,SAAOC,CAAC,IAAIW,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}