{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Error.js\";\nimport has from \"../../../core/has.js\";\nimport { removeMaybe as t } from \"../../../core/maybe.js\";\nimport { addFrameTask as r } from \"../../../core/scheduling.js\";\nimport { signal as s } from \"../../../core/signal.js\";\nimport { create as i } from \"../../../core/libs/gl-matrix-2/factories/mat3f32.js\";\nimport { CIMAnalyzer as n } from \"../../../symbols/cim/cimAnalyzer.js\";\nimport { Container as a } from \"./Container.js\";\nimport { ManagedCanvas as o } from \"./ManagedCanvas.js\";\nimport { MAX_TILE_RESHUFFLES_PER_FRAME as h } from \"./webgl/definitions.js\";\nimport { WGLDrawPhase as d } from \"./webgl/enums.js\";\nimport l from \"./webgl/Painter.js\";\nimport { ArrayBufferPool as m } from \"./webgl/PooledUint32Array.js\";\nimport { Profiler as c } from \"./webgl/Profiler.js\";\nimport { TileReshuffleManager as u } from \"./webgl/TileReshuffleManager.js\";\nimport { startup as p, shutdown as f } from \"./webgl/shaderGraph/techniques/TechniqueRegistry.js\";\nimport { MeshWriterRegistry as g } from \"./webgl/shaderGraph/techniques/mesh/MeshWriterRegistry.js\";\nimport { Timeline as _ } from \"../support/Timeline.js\";\nimport { TextureWrapMode as b, SizedPixelFormat as w, RenderbufferFormat as R, PixelFormat as y, PixelType as x } from \"../../webgl/enums.js\";\nimport { FramebufferObject as P } from \"../../webgl/FramebufferObject.js\";\nimport { RenderbufferDescriptor as j } from \"../../webgl/RenderbufferDescriptor.js\";\nimport { RenderingContext as C } from \"../../webgl/RenderingContext.js\";\nimport { TextureDescriptor as T } from \"../../webgl/TextureDescriptor.js\";\nconst M = 2e3;\nclass O extends a {\n  constructor(t, i) {\n    super(), this.meshWriterRegistry = new g(), this._trash = new Set(), this._renderRemainingTime = 0, this._lastFrameRenderTime = 0, this._renderRequested = s(!1), this.stage = this, this._stationary = !0, this._reshuffleManager = new u(), this._canvas = new o(t), this.context = new C(this._canvas.gl, i.contextOptions ?? {}), this.painter = new l(this.context, this), this._cimAnalyzer = new n(this.painter.textureManager.resourceManager), has(\"esri-2d-profiler\") && (this._debugOutput = document.createElement(\"div\"), this._debugOutput.setAttribute(\"style\", \"margin: 24px 64px; position: absolute; color: red;\"), t.appendChild(this._debugOutput));\n    const a = () => this.highlightGradient;\n    this._renderParameters = {\n      drawPhase: 0,\n      state: this.state,\n      pixelRatio: window.devicePixelRatio,\n      stationary: !1,\n      globalOpacity: 1,\n      blendMode: null,\n      deltaTime: -1,\n      time: 0,\n      inFadeTransition: !1,\n      effects: null,\n      context: this.context,\n      painter: this.painter,\n      timeline: i.timeline || new _(),\n      renderingOptions: i.renderingOptions,\n      requestRender: () => this.requestRender(),\n      allowDelayedRender: !1,\n      requireFBO: !1,\n      profiler: new c(this.context, this._debugOutput),\n      dataUploadCounter: 0,\n      get highlightGradient() {\n        return a();\n      },\n      reshuffleManager: this._reshuffleManager,\n      backgroundColor: i.backgroundColor\n    }, this._taskHandle = r({\n      render: e => this.renderFrame(e)\n    }), this._taskHandle.pause(), this._lostWebGLContextHandle = this._canvas.events.on(\"webgl-context-lost\", t => this.emit(\"webgl-error\", {\n      error: new e(\"webgl-context-lost\", t.statusMessage)\n    })), this._bufferPool = new m(), p();\n  }\n  destroy() {\n    f(this.context), this.removeAllChildren(), this._emptyTrash(), this._taskHandle = t(this._taskHandle), this._lostWebGLContextHandle = t(this._lostWebGLContextHandle), this._canvas.destroy(), this._debugOutput?.parentNode?.removeChild(this._debugOutput), this._bufferPool.destroy(), this.painter.dispose(), this.context.dispose(), this._canvas = null;\n  }\n  get textureManager() {\n    return this.painter.textureManager;\n  }\n  get backgroundColor() {\n    return this._renderParameters.backgroundColor;\n  }\n  set backgroundColor(e) {\n    this._renderParameters.backgroundColor = e, this.requestRender();\n  }\n  get bufferPool() {\n    return this._bufferPool;\n  }\n  get cimAnalyzer() {\n    return this._cimAnalyzer;\n  }\n  get renderingOptions() {\n    return this._renderingOptions;\n  }\n  set renderingOptions(e) {\n    this._renderingOptions = e, this.requestRender();\n  }\n  get renderRequested() {\n    return this._renderRequested.value;\n  }\n  get state() {\n    return this._state;\n  }\n  set state(e) {\n    this._state = e, this.requestRender();\n  }\n  get stationary() {\n    return this._stationary;\n  }\n  set stationary(e) {\n    this._stationary !== e && (this._stationary = e, this.requestRender());\n  }\n  trashDisplayObject(e) {\n    this._trash.add(e), this.requestRender();\n  }\n  untrashDisplayObject(e) {\n    return this._trash.delete(e);\n  }\n  requestRender() {\n    this._renderRemainingTime = M, this.renderRequested || (this._renderRequested.value = !0, this._taskHandle.resume());\n  }\n  renderFrame(e) {\n    const t = this._lastFrameRenderTime ? e.time - this._lastFrameRenderTime : 0;\n    this._renderRemainingTime -= t, this._renderRemainingTime <= 0 && this._taskHandle.pause(), this._lastFrameRenderTime = e.time, this._renderRequested.value = !1, this._renderParameters.state = this._state, this._renderParameters.stationary = this.stationary, this._renderParameters.pixelRatio = window.devicePixelRatio, this._renderParameters.globalOpacity = 1, this._renderParameters.time = e.time, this._renderParameters.deltaTime = e.deltaTime, this._renderParameters.effects = null, this.processRender(this._renderParameters), this._emptyTrash();\n  }\n  _createTransforms() {\n    return {\n      displayViewScreenMat3: i()\n    };\n  }\n  renderChildren(e) {\n    for (const t of this.children) t.beforeRender(e);\n    this._reshuffleManager.reshuffle(h), this._canvas.render(e, () => this._renderChildren(this.children, e));\n    for (const t of this.children) t.afterRender(e);\n  }\n  _renderChildren(e, t) {\n    const r = this.context;\n    this.painter.textureUploadManager.upload(), r.resetInfo(), t.profiler.recordStart(\"drawLayers\"), t.dataUploadCounter = 0, this.painter.beforeRenderPhases(t, t.backgroundColor, this.state.padding), t.drawPhase = d.MAP;\n    for (const s of e) s.processRender(t);\n    if (this.children.some(e => e.hasHighlight)) {\n      t.drawPhase = d.HIGHLIGHT;\n      for (const r of e) r.processRender(t);\n    }\n    if (this.children.some(e => e.hasLabels)) {\n      t.drawPhase = d.LABEL;\n      for (const r of e) r.processRender(t);\n    }\n    if (has(\"esri-tiles-debug\")) {\n      t.drawPhase = d.DEBUG;\n      for (const r of e) r.processRender(t);\n    }\n    this.painter.afterRenderPhases(t), t.profiler.recordEnd(\"drawLayers\"), r.logInfo();\n  }\n  doRender(e) {\n    const t = this.context,\n      {\n        state: r,\n        pixelRatio: s\n      } = e;\n    this._canvas.resize(e), t.setViewport(0, 0, s * r.size[0], s * r.size[1]), t.setDepthWriteEnabled(!0), t.setStencilWriteMask(255), this.renderChildren(e);\n  }\n  async takeScreenshot(e, t, r, s) {\n    const i = Math.round(this.state.size[0] * e.resolutionScale),\n      n = Math.round(this.state.size[1] * e.resolutionScale),\n      a = e.resolutionScale,\n      o = this.context,\n      h = this._state.clone();\n    if (null != s) {\n      const e = h.viewpoint;\n      h.viewpoint.rotation = s, h.viewpoint = e;\n    }\n    const d = {\n        ...this._renderParameters,\n        drawPhase: null,\n        globalOpacity: 1,\n        stationary: !0,\n        state: h,\n        pixelRatio: a,\n        time: performance.now(),\n        deltaTime: 0,\n        blendMode: null,\n        effects: null,\n        inFadeTransition: !1,\n        backgroundColor: r\n      },\n      l = new T(i, n);\n    l.wrapMode = b.CLAMP_TO_EDGE, l.internalFormat = w.RGBA8, l.isImmutable = !0;\n    const m = new P(o, l, new j(R.DEPTH_STENCIL, i, n)),\n      c = o.getBoundFramebufferObject(),\n      u = o.getViewport();\n    o.bindFramebuffer(m), o.setViewport(0, 0, i, n), this._renderChildren(t ?? this.children, d);\n    const p = this._readbackScreenshot(m, {\n      ...e.cropArea,\n      y: n - (e.cropArea.y + e.cropArea.height)\n    });\n    o.bindFramebuffer(c), o.setViewport(u.x, u.y, u.width, u.height), this.requestRender();\n    const f = await p;\n    let g;\n    return 1 === e.outputScale ? g = f : (g = new ImageData(Math.round(f.width * e.outputScale), Math.round(f.height * e.outputScale)), (await import(\"../../support/screenshotUtils.js\")).resampleHermite(f, g, !0)), m.dispose(), g;\n  }\n  async _readbackScreenshot(e, t) {\n    const r = (await import(\"../../support/screenshotUtils.js\")).createEmptyImageData(t.width, t.height, document.createElement(\"canvas\"));\n    return await e.readPixelsAsync(t.x, t.y, t.width, t.height, y.RGBA, x.UNSIGNED_BYTE, new Uint8Array(r.data.buffer)), r;\n  }\n  _emptyTrash() {\n    for (; this._trash.size > 0;) {\n      const e = Array.from(this._trash);\n      this._trash.clear();\n      for (const t of e) t.processDetach();\n    }\n  }\n}\nexport { O as Stage, M as extraRenderTime };","map":{"version":3,"names":["e","has","removeMaybe","t","addFrameTask","r","signal","s","create","i","CIMAnalyzer","n","Container","a","ManagedCanvas","o","MAX_TILE_RESHUFFLES_PER_FRAME","h","WGLDrawPhase","d","l","ArrayBufferPool","m","Profiler","c","TileReshuffleManager","u","startup","p","shutdown","f","MeshWriterRegistry","g","Timeline","_","TextureWrapMode","b","SizedPixelFormat","w","RenderbufferFormat","R","PixelFormat","y","PixelType","x","FramebufferObject","P","RenderbufferDescriptor","j","RenderingContext","C","TextureDescriptor","T","M","O","constructor","meshWriterRegistry","_trash","Set","_renderRemainingTime","_lastFrameRenderTime","_renderRequested","stage","_stationary","_reshuffleManager","_canvas","context","gl","contextOptions","painter","_cimAnalyzer","textureManager","resourceManager","_debugOutput","document","createElement","setAttribute","appendChild","highlightGradient","_renderParameters","drawPhase","state","pixelRatio","window","devicePixelRatio","stationary","globalOpacity","blendMode","deltaTime","time","inFadeTransition","effects","timeline","renderingOptions","requestRender","allowDelayedRender","requireFBO","profiler","dataUploadCounter","reshuffleManager","backgroundColor","_taskHandle","render","renderFrame","pause","_lostWebGLContextHandle","events","on","emit","error","statusMessage","_bufferPool","destroy","removeAllChildren","_emptyTrash","parentNode","removeChild","dispose","bufferPool","cimAnalyzer","_renderingOptions","renderRequested","value","_state","trashDisplayObject","add","untrashDisplayObject","delete","resume","processRender","_createTransforms","displayViewScreenMat3","renderChildren","children","beforeRender","reshuffle","_renderChildren","afterRender","textureUploadManager","upload","resetInfo","recordStart","beforeRenderPhases","padding","MAP","some","hasHighlight","HIGHLIGHT","hasLabels","LABEL","DEBUG","afterRenderPhases","recordEnd","logInfo","doRender","resize","setViewport","size","setDepthWriteEnabled","setStencilWriteMask","takeScreenshot","Math","round","resolutionScale","clone","viewpoint","rotation","performance","now","wrapMode","CLAMP_TO_EDGE","internalFormat","RGBA8","isImmutable","DEPTH_STENCIL","getBoundFramebufferObject","getViewport","bindFramebuffer","_readbackScreenshot","cropArea","height","width","outputScale","ImageData","resampleHermite","createEmptyImageData","readPixelsAsync","RGBA","UNSIGNED_BYTE","Uint8Array","data","buffer","Array","from","clear","processDetach","Stage","extraRenderTime"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/Stage.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{removeMaybe as t}from\"../../../core/maybe.js\";import{addFrameTask as r}from\"../../../core/scheduling.js\";import{signal as s}from\"../../../core/signal.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{CIMAnalyzer as n}from\"../../../symbols/cim/cimAnalyzer.js\";import{Container as a}from\"./Container.js\";import{ManagedCanvas as o}from\"./ManagedCanvas.js\";import{MAX_TILE_RESHUFFLES_PER_FRAME as h}from\"./webgl/definitions.js\";import{WGLDrawPhase as d}from\"./webgl/enums.js\";import l from\"./webgl/Painter.js\";import{ArrayBufferPool as m}from\"./webgl/PooledUint32Array.js\";import{Profiler as c}from\"./webgl/Profiler.js\";import{TileReshuffleManager as u}from\"./webgl/TileReshuffleManager.js\";import{startup as p,shutdown as f}from\"./webgl/shaderGraph/techniques/TechniqueRegistry.js\";import{MeshWriterRegistry as g}from\"./webgl/shaderGraph/techniques/mesh/MeshWriterRegistry.js\";import{Timeline as _}from\"../support/Timeline.js\";import{TextureWrapMode as b,SizedPixelFormat as w,RenderbufferFormat as R,PixelFormat as y,PixelType as x}from\"../../webgl/enums.js\";import{FramebufferObject as P}from\"../../webgl/FramebufferObject.js\";import{RenderbufferDescriptor as j}from\"../../webgl/RenderbufferDescriptor.js\";import{RenderingContext as C}from\"../../webgl/RenderingContext.js\";import{TextureDescriptor as T}from\"../../webgl/TextureDescriptor.js\";const M=2e3;class O extends a{constructor(t,i){super(),this.meshWriterRegistry=new g,this._trash=new Set,this._renderRemainingTime=0,this._lastFrameRenderTime=0,this._renderRequested=s(!1),this.stage=this,this._stationary=!0,this._reshuffleManager=new u,this._canvas=new o(t),this.context=new C(this._canvas.gl,i.contextOptions??{}),this.painter=new l(this.context,this),this._cimAnalyzer=new n(this.painter.textureManager.resourceManager),has(\"esri-2d-profiler\")&&(this._debugOutput=document.createElement(\"div\"),this._debugOutput.setAttribute(\"style\",\"margin: 24px 64px; position: absolute; color: red;\"),t.appendChild(this._debugOutput));const a=()=>this.highlightGradient;this._renderParameters={drawPhase:0,state:this.state,pixelRatio:window.devicePixelRatio,stationary:!1,globalOpacity:1,blendMode:null,deltaTime:-1,time:0,inFadeTransition:!1,effects:null,context:this.context,painter:this.painter,timeline:i.timeline||new _,renderingOptions:i.renderingOptions,requestRender:()=>this.requestRender(),allowDelayedRender:!1,requireFBO:!1,profiler:new c(this.context,this._debugOutput),dataUploadCounter:0,get highlightGradient(){return a()},reshuffleManager:this._reshuffleManager,backgroundColor:i.backgroundColor},this._taskHandle=r({render:e=>this.renderFrame(e)}),this._taskHandle.pause(),this._lostWebGLContextHandle=this._canvas.events.on(\"webgl-context-lost\",(t=>this.emit(\"webgl-error\",{error:new e(\"webgl-context-lost\",t.statusMessage)}))),this._bufferPool=new m,p()}destroy(){f(this.context),this.removeAllChildren(),this._emptyTrash(),this._taskHandle=t(this._taskHandle),this._lostWebGLContextHandle=t(this._lostWebGLContextHandle),this._canvas.destroy(),this._debugOutput?.parentNode?.removeChild(this._debugOutput),this._bufferPool.destroy(),this.painter.dispose(),this.context.dispose(),this._canvas=null}get textureManager(){return this.painter.textureManager}get backgroundColor(){return this._renderParameters.backgroundColor}set backgroundColor(e){this._renderParameters.backgroundColor=e,this.requestRender()}get bufferPool(){return this._bufferPool}get cimAnalyzer(){return this._cimAnalyzer}get renderingOptions(){return this._renderingOptions}set renderingOptions(e){this._renderingOptions=e,this.requestRender()}get renderRequested(){return this._renderRequested.value}get state(){return this._state}set state(e){this._state=e,this.requestRender()}get stationary(){return this._stationary}set stationary(e){this._stationary!==e&&(this._stationary=e,this.requestRender())}trashDisplayObject(e){this._trash.add(e),this.requestRender()}untrashDisplayObject(e){return this._trash.delete(e)}requestRender(){this._renderRemainingTime=M,this.renderRequested||(this._renderRequested.value=!0,this._taskHandle.resume())}renderFrame(e){const t=this._lastFrameRenderTime?e.time-this._lastFrameRenderTime:0;this._renderRemainingTime-=t,this._renderRemainingTime<=0&&this._taskHandle.pause(),this._lastFrameRenderTime=e.time,this._renderRequested.value=!1,this._renderParameters.state=this._state,this._renderParameters.stationary=this.stationary,this._renderParameters.pixelRatio=window.devicePixelRatio,this._renderParameters.globalOpacity=1,this._renderParameters.time=e.time,this._renderParameters.deltaTime=e.deltaTime,this._renderParameters.effects=null,this.processRender(this._renderParameters),this._emptyTrash()}_createTransforms(){return{displayViewScreenMat3:i()}}renderChildren(e){for(const t of this.children)t.beforeRender(e);this._reshuffleManager.reshuffle(h),this._canvas.render(e,(()=>this._renderChildren(this.children,e)));for(const t of this.children)t.afterRender(e)}_renderChildren(e,t){const r=this.context;this.painter.textureUploadManager.upload(),r.resetInfo(),t.profiler.recordStart(\"drawLayers\"),t.dataUploadCounter=0,this.painter.beforeRenderPhases(t,t.backgroundColor,this.state.padding),t.drawPhase=d.MAP;for(const s of e)s.processRender(t);if(this.children.some((e=>e.hasHighlight))){t.drawPhase=d.HIGHLIGHT;for(const r of e)r.processRender(t)}if(this.children.some((e=>e.hasLabels))){t.drawPhase=d.LABEL;for(const r of e)r.processRender(t)}if(has(\"esri-tiles-debug\")){t.drawPhase=d.DEBUG;for(const r of e)r.processRender(t)}this.painter.afterRenderPhases(t),t.profiler.recordEnd(\"drawLayers\"),r.logInfo()}doRender(e){const t=this.context,{state:r,pixelRatio:s}=e;this._canvas.resize(e),t.setViewport(0,0,s*r.size[0],s*r.size[1]),t.setDepthWriteEnabled(!0),t.setStencilWriteMask(255),this.renderChildren(e)}async takeScreenshot(e,t,r,s){const i=Math.round(this.state.size[0]*e.resolutionScale),n=Math.round(this.state.size[1]*e.resolutionScale),a=e.resolutionScale,o=this.context,h=this._state.clone();if(null!=s){const e=h.viewpoint;h.viewpoint.rotation=s,h.viewpoint=e}const d={...this._renderParameters,drawPhase:null,globalOpacity:1,stationary:!0,state:h,pixelRatio:a,time:performance.now(),deltaTime:0,blendMode:null,effects:null,inFadeTransition:!1,backgroundColor:r},l=new T(i,n);l.wrapMode=b.CLAMP_TO_EDGE,l.internalFormat=w.RGBA8,l.isImmutable=!0;const m=new P(o,l,new j(R.DEPTH_STENCIL,i,n)),c=o.getBoundFramebufferObject(),u=o.getViewport();o.bindFramebuffer(m),o.setViewport(0,0,i,n),this._renderChildren(t??this.children,d);const p=this._readbackScreenshot(m,{...e.cropArea,y:n-(e.cropArea.y+e.cropArea.height)});o.bindFramebuffer(c),o.setViewport(u.x,u.y,u.width,u.height),this.requestRender();const f=await p;let g;return 1===e.outputScale?g=f:(g=new ImageData(Math.round(f.width*e.outputScale),Math.round(f.height*e.outputScale)),(await import(\"../../support/screenshotUtils.js\")).resampleHermite(f,g,!0)),m.dispose(),g}async _readbackScreenshot(e,t){const r=(await import(\"../../support/screenshotUtils.js\")).createEmptyImageData(t.width,t.height,document.createElement(\"canvas\"));return await e.readPixelsAsync(t.x,t.y,t.width,t.height,y.RGBA,x.UNSIGNED_BYTE,new Uint8Array(r.data.buffer)),r}_emptyTrash(){for(;this._trash.size>0;){const e=Array.from(this._trash);this._trash.clear();for(const t of e)t.processDetach()}}}export{O as Stage,M as extraRenderTime};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}