{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { SimpleBandStatistics as e } from \"../SimpleBandStatistics.js\";\nimport s from \"./BaseRasterFunction.js\";\nimport n from \"./ColormapToRGBFunctionArguments.js\";\nimport { createColormapLUT as i } from \"./pixelUtils.js\";\nimport { isColormapSupportedByWebGL as p } from \"../../../renderers/support/rasterRendererChecks.js\";\nlet a = class extends s {\n  constructor() {\n    super(...arguments), this.functionName = \"ColormapToRGB\", this.functionArguments = null, this.rasterArgumentNames = [\"raster\"];\n  }\n  _bindSourceRasters() {\n    const t = this.sourceRasterInfos[0];\n    if (t.bandCount > 1 || !t.colormap?.length) return {\n      success: !1,\n      supportsGPU: !1,\n      error: \"colormap-to-rgb-function: source data must be single band with a colormap\"\n    };\n    const o = t.clone();\n    o.pixelType = this.outputPixelType = this._getOutputPixelType(\"u8\"), this._removeStatsHistColormapVAT(o), o.bandCount = 3, o.statistics = [{\n      min: 0,\n      max: 255,\n      avg: 100,\n      stddev: 20\n    }, {\n      min: 0,\n      max: 255,\n      avg: 100,\n      stddev: 20\n    }, {\n      min: 0,\n      max: 255,\n      avg: 100,\n      stddev: 20\n    }], this.rasterInfo = o;\n    const r = [...t.colormap].sort((t, o) => t[0] - o[0]),\n      {\n        indexedColormap: e,\n        offset: s\n      } = i({\n        colormap: r\n      });\n    return e ? (this.lookup = {\n      indexedColormap: e,\n      offset: s\n    }, {\n      success: !0,\n      supportsGPU: p(e)\n    }) : {\n      success: !1,\n      supportsGPU: !1,\n      error: \"colormap-to-rgb-function: the colormap is not supported\"\n    };\n  }\n  _processPixels(t) {\n    let o = t.pixelBlocks?.[0];\n    if (!o || !this.lookup) return o;\n    o = o.clone();\n    const r = o.pixels[0],\n      s = o.mask ?? new Uint8Array(r.length).fill(255),\n      n = new Uint8Array(r.length),\n      i = new Uint8Array(r.length),\n      p = new Uint8Array(r.length),\n      {\n        indexedColormap: a,\n        offset: u\n      } = this.lookup,\n      c = a.length;\n    for (let e = 0; e < r.length; e++) if (s[e]) {\n      let t = 4 * (r[e] - u);\n      t < 0 || t > c - 4 ? s[e] = 0 : (n[e] = a[t++], i[e] = a[t++], p[e] = a[t++]);\n    }\n    return o.pixels = [n, i, p], o.statistics = [new e(0, 255), new e(0, 255), new e(0, 255)], o.pixelType = this.outputPixelType, o;\n  }\n  _getWebGLParameters() {\n    return this.lookup;\n  }\n};\nt([o({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], a.prototype, \"functionName\", void 0), t([o({\n  type: n,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], a.prototype, \"functionArguments\", void 0), t([o()], a.prototype, \"rasterArgumentNames\", void 0), t([o({\n  json: {\n    write: !0\n  }\n})], a.prototype, \"lookup\", void 0), a = t([r(\"esri.layers.support.rasterFunctions.ColormapToRGBFunction\")], a);\nconst u = a;\nexport { u as default };","map":{"version":3,"names":["_","t","property","o","subclass","r","SimpleBandStatistics","e","s","n","createColormapLUT","i","isColormapSupportedByWebGL","p","a","constructor","arguments","functionName","functionArguments","rasterArgumentNames","_bindSourceRasters","sourceRasterInfos","bandCount","colormap","length","success","supportsGPU","error","clone","pixelType","outputPixelType","_getOutputPixelType","_removeStatsHistColormapVAT","statistics","min","max","avg","stddev","rasterInfo","sort","indexedColormap","offset","lookup","_processPixels","pixelBlocks","pixels","mask","Uint8Array","fill","u","c","_getWebGLParameters","json","write","name","prototype","type","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/rasterFunctions/ColormapToRGBFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{SimpleBandStatistics as e}from\"../SimpleBandStatistics.js\";import s from\"./BaseRasterFunction.js\";import n from\"./ColormapToRGBFunctionArguments.js\";import{createColormapLUT as i}from\"./pixelUtils.js\";import{isColormapSupportedByWebGL as p}from\"../../../renderers/support/rasterRendererChecks.js\";let a=class extends s{constructor(){super(...arguments),this.functionName=\"ColormapToRGB\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"]}_bindSourceRasters(){const t=this.sourceRasterInfos[0];if(t.bandCount>1||!t.colormap?.length)return{success:!1,supportsGPU:!1,error:\"colormap-to-rgb-function: source data must be single band with a colormap\"};const o=t.clone();o.pixelType=this.outputPixelType=this._getOutputPixelType(\"u8\"),this._removeStatsHistColormapVAT(o),o.bandCount=3,o.statistics=[{min:0,max:255,avg:100,stddev:20},{min:0,max:255,avg:100,stddev:20},{min:0,max:255,avg:100,stddev:20}],this.rasterInfo=o;const r=[...t.colormap].sort(((t,o)=>t[0]-o[0])),{indexedColormap:e,offset:s}=i({colormap:r});return e?(this.lookup={indexedColormap:e,offset:s},{success:!0,supportsGPU:p(e)}):{success:!1,supportsGPU:!1,error:\"colormap-to-rgb-function: the colormap is not supported\"}}_processPixels(t){let o=t.pixelBlocks?.[0];if(!o||!this.lookup)return o;o=o.clone();const r=o.pixels[0],s=o.mask??new Uint8Array(r.length).fill(255),n=new Uint8Array(r.length),i=new Uint8Array(r.length),p=new Uint8Array(r.length),{indexedColormap:a,offset:u}=this.lookup,c=a.length;for(let e=0;e<r.length;e++)if(s[e]){let t=4*(r[e]-u);t<0||t>c-4?s[e]=0:(n[e]=a[t++],i[e]=a[t++],p[e]=a[t++])}return o.pixels=[n,i,p],o.statistics=[new e(0,255),new e(0,255),new e(0,255)],o.pixelType=this.outputPixelType,o}_getWebGLParameters(){return this.lookup}};t([o({json:{write:!0,name:\"rasterFunction\"}})],a.prototype,\"functionName\",void 0),t([o({type:n,json:{write:!0,name:\"rasterFunctionArguments\"}})],a.prototype,\"functionArguments\",void 0),t([o()],a.prototype,\"rasterArgumentNames\",void 0),t([o({json:{write:!0}})],a.prototype,\"lookup\",void 0),a=t([r(\"esri.layers.support.rasterFunctions.ColormapToRGBFunction\")],a);const u=a;export{u as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}