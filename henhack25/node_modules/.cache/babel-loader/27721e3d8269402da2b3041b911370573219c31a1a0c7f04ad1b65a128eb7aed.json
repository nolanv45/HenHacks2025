{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { removeUnordered as o } from \"../../../../core/arrayUtils.js\";\nimport { createTask as s } from \"../../../../core/asyncUtils.js\";\nimport { memoize as r } from \"../../../../core/memoize.js\";\nimport { allSettledValues as i, throwIfAborted as n, whenOrAbort as a } from \"../../../../core/promiseUtils.js\";\nimport { initial as p, watch as l, on as d } from \"../../../../core/reactiveUtils.js\";\nimport { property as c } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport { subclass as u } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as h } from \"../../../../core/support/UpdatingHandles.js\";\nimport y from \"../../../../geometry/Polygon.js\";\nimport { canProjectWithoutEngine as m, project as g, initializeProjection as f } from \"../../../../geometry/projection.js\";\nimport { normalizeCentralMeridianForDisplay as _ } from \"../../../../geometry/support/normalizeUtilsSync.js\";\nimport { featureGeometryTypeKebabDictionary as v } from \"../../../../geometry/support/typeUtils.js\";\nimport { convertFromGeometry as S } from \"../../../../layers/graphics/featureConversionUtils.js\";\nimport { OptimizedFeature as w } from \"../../../../layers/graphics/OptimizedFeature.js\";\nimport { executeQueryForSnapping as j } from \"../../../../layers/graphics/data/executeQueryForSnapping.js\";\nimport b from \"../../../../layers/graphics/data/FeatureStore.js\";\nimport { QueryEngine as E } from \"../../../../layers/graphics/data/QueryEngine.js\";\nimport k from \"../../../../layers/support/FieldsIndex.js\";\nimport { elevationContextAffectsAlignment as F } from \"../../../../support/elevationInfoUtils.js\";\nimport { symbolHasExtrudeSymbolLayer as C } from \"../../../../symbols/support/utils.js\";\nimport { sortCandidatesInPlace as A, makeSnappingQuery as P } from \"../snappingUtils.js\";\nimport { convertSnappingCandidate as I, makeGetGroundElevation as G } from \"./queryEngineUtils.js\";\nimport { getSnappingCandidateElevationAligner as H } from \"./snappingCandidateElevationAlignment.js\";\nimport { getSnappingCandidateElevationFilter as R } from \"./snappingCandidateElevationFilter.js\";\nimport { getSymbologySnappingCandidatesFetcher as x } from \"./symbologySnappingCandidates.js\";\nimport { TaskPriority as z } from \"../../../support/Scheduler.js\";\nconst O = \"graphics-collections\";\nlet U = class extends t {\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get _hasZ() {\n    const e = this.view;\n    return null != e && \"3d\" === e.type && \"map-notes\" !== this.layerSource.layer.type;\n  }\n  get _snappingElevationAligner() {\n    const {\n        view: e\n      } = this,\n      {\n        layer: t\n      } = this.layerSource,\n      o = null != e && \"3d\" === e.type;\n    if (!o || \"map-notes\" === t.type) return H();\n    const s = async (o, s) => (await a(e.whenLayerView(t), s)).elevationAlignPointsInFeatures(o, s);\n    return H(o, {\n      elevationInfo: t.elevationInfo,\n      alignPointsInFeatures: s\n    });\n  }\n  get _snappingElevationFilter() {\n    const {\n        view: e\n      } = this,\n      t = null != e && \"3d\" === e.type && \"map-notes\" !== this.layerSource.layer.type;\n    return R(t);\n  }\n  get _symbologySnappingFetcher() {\n    const {\n        view: e\n      } = this,\n      {\n        layer: t\n      } = this.layerSource,\n      o = null != e && \"3d\" === e.type,\n      s = this._extrudedPolygonSymbolsCount > 0;\n    return o && \"map-notes\" !== t.type && s ? x(s, async (o, s) => {\n      const r = await e.whenLayerView(t);\n      return n(s), r.queryForSymbologySnapping({\n        candidates: o,\n        spatialReference: e.spatialReference\n      }, s);\n    }) : x();\n  }\n  constructor(e) {\n    super(e), this.availability = 1, this._sources = {\n      multipoint: null,\n      point: null,\n      polygon: null,\n      polyline: null\n    }, this._loadedWkids = new Set(), this._loadedWkts = new Set(), this._pendingAdds = [], this._extrudedPolygonSymbolsCount = 0, this._updatingHandles = new h(), this._memoizedMakeGetGroundElevation = r(G);\n  }\n  destroy() {\n    for (const e of this._pendingAdds) e.task.abort();\n    this._pendingAdds.length = 0, this._mapSources(e => this._destroySource(e)), this._updatingHandles.destroy();\n  }\n  initialize() {\n    this._updatingHandles.add(() => this.getGraphicsLayers(), e => {\n      this._updatingHandles.removeHandles(O);\n      for (const t of e) this._addMany(t.graphics.toArray()), this.addHandles([t.on(\"graphic-update\", e => this._onGraphicUpdate(e)), this._updatingHandles.addOnCollectionChange(() => t.graphics, e => this._onGraphicsChanged(e))], O);\n    }, p);\n    const {\n        view: e\n      } = this,\n      {\n        layer: t\n      } = this.layerSource;\n    null != e && \"3d\" === e.type && \"map-notes\" !== t.type && e.elevationProvider && this.addHandles([e.elevationProvider.on(\"elevation-change\", _ref => {\n      let {\n        context: e\n      } = _ref;\n      F(e, t.elevationInfo) && this._snappingElevationAligner.notifyElevationSourceChange();\n    }), l(() => t.elevationInfo, () => this._snappingElevationAligner.notifyElevationSourceChange(), p), d(() => t, [\"edits\", \"apply-edits\", \"graphic-update\"], () => this._symbologySnappingFetcher.notifySymbologyChange())]);\n  }\n  async fetchCandidates(e, t) {\n    const {\n        point: o,\n        coordinateHelper: {\n          spatialReference: s\n        }\n      } = e,\n      r = await i(this._mapSources(o => this._fetchCandidatesForSource(o, e, t)));\n    n(t);\n    const a = this._memoizedMakeGetGroundElevation(this.view, s),\n      p = r.flat().map(e => I(e, a));\n    return A(o, p), p;\n  }\n  async _fetchCandidatesForSource(e, t, o) {\n    const s = P(t, this.view?.type ?? \"2d\"),\n      r = await j(e.queryEngine, s, o);\n    n(o);\n    const i = await this._snappingElevationAligner.alignCandidates(r.candidates, t.coordinateHelper.spatialReference, o);\n    n(o);\n    const a = await this._symbologySnappingFetcher.fetch(i, o);\n    n(o);\n    const p = 0 === a.length ? i : [...i, ...a];\n    return this._snappingElevationFilter.filter(s, p);\n  }\n  refresh() {}\n  _onGraphicUpdate(e) {\n    if (this.getGraphicsLayers().some(t => t.graphics.includes(e.graphic))) switch (e.property) {\n      case \"geometry\":\n      case \"visible\":\n        this._remove(e.graphic), this._addMany([e.graphic]);\n    }\n  }\n  _onGraphicsChanged(e) {\n    for (const t of e.removed) this._remove(t);\n    this._addMany(e.added);\n  }\n  _addMany(e) {\n    const t = [],\n      o = new Map();\n    for (const s of e) null != s.geometry && (this._needsInitializeProjection(s.geometry.spatialReference) ? (t.push(s.geometry.spatialReference), o.set(s.uid, s)) : this._add(s));\n    this._createPendingAdd(t, o);\n  }\n  _createPendingAdd(e, t) {\n    if (!e.length) return;\n    const r = s(async o => {\n      await f(e.map(e => ({\n        source: e,\n        dest: this.spatialReference\n      })), {\n        signal: o\n      }), this._markLoadedSpatialReferences(e);\n      for (const e of t.values()) this._add(e);\n    });\n    this._updatingHandles.addPromise(r.promise);\n    const i = {\n        task: r,\n        graphics: t\n      },\n      n = () => o(this._pendingAdds, i);\n    r.promise.then(n, n), this._pendingAdds.push(i);\n  }\n  _markLoadedSpatialReferences(e) {\n    for (const t of e) {\n      null != t.wkid && this._loadedWkids.add(t.wkid);\n      const e = t.wkt2 || t.wkt;\n      e && this._loadedWkts.add(e);\n    }\n  }\n  _add(e) {\n    if (null == e.geometry || !e.visible) return;\n    let t = e.geometry;\n    if (\"mesh\" === t.type) return;\n    \"extent\" === t.type && (t = y.fromExtent(t));\n    const o = this._ensureSource(t.type);\n    if (null == o) return;\n    const s = this._createOptimizedFeature(e.uid, t);\n    null != s && (o.featureStore.add(s), C(e.symbol) && this._extrudedPolygonSymbolsCount++);\n  }\n  _needsInitializeProjection(e) {\n    if (null != e.wkid && this._loadedWkids.has(e.wkid)) return !1;\n    const t = e.wkt2 || e.wkt;\n    return (!t || !this._loadedWkts.has(t)) && !m(e, this.spatialReference);\n  }\n  _createOptimizedFeature(e, t) {\n    const o = g(_(t), this.spatialReference);\n    if (!o) return null;\n    const s = this._ensureGeometryHasZ(o),\n      r = S(s, this._hasZ, !1);\n    return new w(r, {\n      [Z]: e\n    }, null, e);\n  }\n  _ensureGeometryHasZ(e) {\n    if (!this._hasZ) return e;\n    const t = e => {\n        for (; e.length < 3;) e.push(0);\n      },\n      o = e.clone();\n    switch (o.hasZ = !0, o.type) {\n      case \"point\":\n        o.z = o.z ?? 0;\n        break;\n      case \"multipoint\":\n        o.points.forEach(t);\n        break;\n      case \"polyline\":\n        o.paths.forEach(e => e.forEach(t));\n        break;\n      case \"polygon\":\n        o.rings.forEach(e => e.forEach(t));\n    }\n    return o;\n  }\n  _ensureSource(e) {\n    const t = this._sources[e];\n    if (null != t) return t;\n    const o = this._createSource(e);\n    return this._sources[e] = o, o;\n  }\n  _createSource(e) {\n    const t = v.toJSON(e),\n      o = this._hasZ,\n      s = new b({\n        geometryType: t,\n        hasZ: o,\n        hasM: !1\n      });\n    return {\n      featureStore: s,\n      queryEngine: new E({\n        featureStore: s,\n        fieldsIndex: k.fromLayerJSON({\n          fields: [{\n            name: Z,\n            type: \"esriFieldTypeOID\",\n            alias: Z\n          }]\n        }),\n        geometryType: t,\n        hasM: !1,\n        hasZ: o,\n        objectIdField: Z,\n        spatialReference: this.spatialReference,\n        priority: z.SNAPPING,\n        scheduler: null != this.view && \"3d\" === this.view.type ? this.view.resourceController.scheduler : null\n      }),\n      type: e\n    };\n  }\n  _remove(e) {\n    this._mapSources(t => this._removeFromSource(t, e));\n    for (const t of this._pendingAdds) t.graphics.delete(e.uid), 0 === t.graphics.size && t.task.abort();\n  }\n  _removeFromSource(e, t) {\n    const o = t.uid;\n    e.featureStore.has(o) && (e.featureStore.removeById(t.uid), C(t.symbol) && this._extrudedPolygonSymbolsCount--);\n  }\n  _destroySource(e) {\n    e.queryEngine.destroy(), this._sources[e.type] = null;\n  }\n  _mapSources(e) {\n    const {\n        point: t,\n        polygon: o,\n        polyline: s,\n        multipoint: r\n      } = this._sources,\n      i = [];\n    return null != t && i.push(e(t)), null != o && i.push(e(o)), null != s && i.push(e(s)), null != r && i.push(e(r)), i;\n  }\n};\ne([c()], U.prototype, \"getGraphicsLayers\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"layerSource\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"spatialReference\", void 0), e([c({\n  constructOnly: !0\n})], U.prototype, \"view\", void 0), e([c({\n  readOnly: !0\n})], U.prototype, \"updating\", null), e([c({\n  readOnly: !0\n})], U.prototype, \"availability\", void 0), e([c()], U.prototype, \"_hasZ\", null), e([c()], U.prototype, \"_snappingElevationAligner\", null), e([c()], U.prototype, \"_snappingElevationFilter\", null), e([c()], U.prototype, \"_symbologySnappingFetcher\", null), e([c()], U.prototype, \"_extrudedPolygonSymbolsCount\", void 0), U = e([u(\"esri.views.interactive.snapping.featureSources.GraphicsSnappingSource\")], U);\nconst Z = \"OBJECTID\";\nexport { U as GraphicsSnappingSource };","map":{"version":3,"names":["_","e","t","removeUnordered","o","createTask","s","memoize","r","allSettledValues","i","throwIfAborted","n","whenOrAbort","a","initial","p","watch","l","on","d","property","c","subclass","u","UpdatingHandles","h","y","canProjectWithoutEngine","m","project","g","initializeProjection","f","normalizeCentralMeridianForDisplay","featureGeometryTypeKebabDictionary","v","convertFromGeometry","S","OptimizedFeature","w","executeQueryForSnapping","j","b","QueryEngine","E","k","elevationContextAffectsAlignment","F","symbolHasExtrudeSymbolLayer","C","sortCandidatesInPlace","A","makeSnappingQuery","P","convertSnappingCandidate","I","makeGetGroundElevation","G","getSnappingCandidateElevationAligner","H","getSnappingCandidateElevationFilter","R","getSymbologySnappingCandidatesFetcher","x","TaskPriority","z","O","U","updating","_updatingHandles","_hasZ","view","type","layerSource","layer","_snappingElevationAligner","whenLayerView","elevationAlignPointsInFeatures","elevationInfo","alignPointsInFeatures","_snappingElevationFilter","_symbologySnappingFetcher","_extrudedPolygonSymbolsCount","queryForSymbologySnapping","candidates","spatialReference","constructor","availability","_sources","multipoint","point","polygon","polyline","_loadedWkids","Set","_loadedWkts","_pendingAdds","_memoizedMakeGetGroundElevation","destroy","task","abort","length","_mapSources","_destroySource","initialize","add","getGraphicsLayers","removeHandles","_addMany","graphics","toArray","addHandles","_onGraphicUpdate","addOnCollectionChange","_onGraphicsChanged","elevationProvider","_ref","context","notifyElevationSourceChange","notifySymbologyChange","fetchCandidates","coordinateHelper","_fetchCandidatesForSource","flat","map","queryEngine","alignCandidates","fetch","filter","refresh","some","includes","graphic","_remove","removed","added","Map","geometry","_needsInitializeProjection","push","set","uid","_add","_createPendingAdd","source","dest","signal","_markLoadedSpatialReferences","values","addPromise","promise","then","wkid","wkt2","wkt","visible","fromExtent","_ensureSource","_createOptimizedFeature","featureStore","symbol","has","_ensureGeometryHasZ","Z","clone","hasZ","points","forEach","paths","rings","_createSource","toJSON","geometryType","hasM","fieldsIndex","fromLayerJSON","fields","name","alias","objectIdField","priority","SNAPPING","scheduler","resourceController","_removeFromSource","delete","size","removeById","prototype","constructOnly","readOnly","GraphicsSnappingSource"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/snapping/featureSources/GraphicsSnappingSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{removeUnordered as o}from\"../../../../core/arrayUtils.js\";import{createTask as s}from\"../../../../core/asyncUtils.js\";import{memoize as r}from\"../../../../core/memoize.js\";import{allSettledValues as i,throwIfAborted as n,whenOrAbort as a}from\"../../../../core/promiseUtils.js\";import{initial as p,watch as l,on as d}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as h}from\"../../../../core/support/UpdatingHandles.js\";import y from\"../../../../geometry/Polygon.js\";import{canProjectWithoutEngine as m,project as g,initializeProjection as f}from\"../../../../geometry/projection.js\";import{normalizeCentralMeridianForDisplay as _}from\"../../../../geometry/support/normalizeUtilsSync.js\";import{featureGeometryTypeKebabDictionary as v}from\"../../../../geometry/support/typeUtils.js\";import{convertFromGeometry as S}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as w}from\"../../../../layers/graphics/OptimizedFeature.js\";import{executeQueryForSnapping as j}from\"../../../../layers/graphics/data/executeQueryForSnapping.js\";import b from\"../../../../layers/graphics/data/FeatureStore.js\";import{QueryEngine as E}from\"../../../../layers/graphics/data/QueryEngine.js\";import k from\"../../../../layers/support/FieldsIndex.js\";import{elevationContextAffectsAlignment as F}from\"../../../../support/elevationInfoUtils.js\";import{symbolHasExtrudeSymbolLayer as C}from\"../../../../symbols/support/utils.js\";import{sortCandidatesInPlace as A,makeSnappingQuery as P}from\"../snappingUtils.js\";import{convertSnappingCandidate as I,makeGetGroundElevation as G}from\"./queryEngineUtils.js\";import{getSnappingCandidateElevationAligner as H}from\"./snappingCandidateElevationAlignment.js\";import{getSnappingCandidateElevationFilter as R}from\"./snappingCandidateElevationFilter.js\";import{getSymbologySnappingCandidatesFetcher as x}from\"./symbologySnappingCandidates.js\";import{TaskPriority as z}from\"../../../support/Scheduler.js\";const O=\"graphics-collections\";let U=class extends t{get updating(){return this._updatingHandles.updating}get _hasZ(){const e=this.view;return null!=e&&\"3d\"===e.type&&\"map-notes\"!==this.layerSource.layer.type}get _snappingElevationAligner(){const{view:e}=this,{layer:t}=this.layerSource,o=null!=e&&\"3d\"===e.type;if(!o||\"map-notes\"===t.type)return H();const s=async(o,s)=>(await a(e.whenLayerView(t),s)).elevationAlignPointsInFeatures(o,s);return H(o,{elevationInfo:t.elevationInfo,alignPointsInFeatures:s})}get _snappingElevationFilter(){const{view:e}=this,t=null!=e&&\"3d\"===e.type&&\"map-notes\"!==this.layerSource.layer.type;return R(t)}get _symbologySnappingFetcher(){const{view:e}=this,{layer:t}=this.layerSource,o=null!=e&&\"3d\"===e.type,s=this._extrudedPolygonSymbolsCount>0;return o&&\"map-notes\"!==t.type&&s?x(s,(async(o,s)=>{const r=await e.whenLayerView(t);return n(s),r.queryForSymbologySnapping({candidates:o,spatialReference:e.spatialReference},s)})):x()}constructor(e){super(e),this.availability=1,this._sources={multipoint:null,point:null,polygon:null,polyline:null},this._loadedWkids=new Set,this._loadedWkts=new Set,this._pendingAdds=[],this._extrudedPolygonSymbolsCount=0,this._updatingHandles=new h,this._memoizedMakeGetGroundElevation=r(G)}destroy(){for(const e of this._pendingAdds)e.task.abort();this._pendingAdds.length=0,this._mapSources((e=>this._destroySource(e))),this._updatingHandles.destroy()}initialize(){this._updatingHandles.add((()=>this.getGraphicsLayers()),(e=>{this._updatingHandles.removeHandles(O);for(const t of e)this._addMany(t.graphics.toArray()),this.addHandles([t.on(\"graphic-update\",(e=>this._onGraphicUpdate(e))),this._updatingHandles.addOnCollectionChange((()=>t.graphics),(e=>this._onGraphicsChanged(e)))],O)}),p);const{view:e}=this,{layer:t}=this.layerSource;null!=e&&\"3d\"===e.type&&\"map-notes\"!==t.type&&e.elevationProvider&&this.addHandles([e.elevationProvider.on(\"elevation-change\",(({context:e})=>{F(e,t.elevationInfo)&&this._snappingElevationAligner.notifyElevationSourceChange()})),l((()=>t.elevationInfo),(()=>this._snappingElevationAligner.notifyElevationSourceChange()),p),d((()=>t),[\"edits\",\"apply-edits\",\"graphic-update\"],(()=>this._symbologySnappingFetcher.notifySymbologyChange()))])}async fetchCandidates(e,t){const{point:o,coordinateHelper:{spatialReference:s}}=e,r=await i(this._mapSources((o=>this._fetchCandidatesForSource(o,e,t))));n(t);const a=this._memoizedMakeGetGroundElevation(this.view,s),p=r.flat().map((e=>I(e,a)));return A(o,p),p}async _fetchCandidatesForSource(e,t,o){const s=P(t,this.view?.type??\"2d\"),r=await j(e.queryEngine,s,o);n(o);const i=await this._snappingElevationAligner.alignCandidates(r.candidates,t.coordinateHelper.spatialReference,o);n(o);const a=await this._symbologySnappingFetcher.fetch(i,o);n(o);const p=0===a.length?i:[...i,...a];return this._snappingElevationFilter.filter(s,p)}refresh(){}_onGraphicUpdate(e){if(this.getGraphicsLayers().some((t=>t.graphics.includes(e.graphic))))switch(e.property){case\"geometry\":case\"visible\":this._remove(e.graphic),this._addMany([e.graphic])}}_onGraphicsChanged(e){for(const t of e.removed)this._remove(t);this._addMany(e.added)}_addMany(e){const t=[],o=new Map;for(const s of e)null!=s.geometry&&(this._needsInitializeProjection(s.geometry.spatialReference)?(t.push(s.geometry.spatialReference),o.set(s.uid,s)):this._add(s));this._createPendingAdd(t,o)}_createPendingAdd(e,t){if(!e.length)return;const r=s((async o=>{await f(e.map((e=>({source:e,dest:this.spatialReference}))),{signal:o}),this._markLoadedSpatialReferences(e);for(const e of t.values())this._add(e)}));this._updatingHandles.addPromise(r.promise);const i={task:r,graphics:t},n=()=>o(this._pendingAdds,i);r.promise.then(n,n),this._pendingAdds.push(i)}_markLoadedSpatialReferences(e){for(const t of e){null!=t.wkid&&this._loadedWkids.add(t.wkid);const e=t.wkt2||t.wkt;e&&this._loadedWkts.add(e)}}_add(e){if(null==e.geometry||!e.visible)return;let t=e.geometry;if(\"mesh\"===t.type)return;\"extent\"===t.type&&(t=y.fromExtent(t));const o=this._ensureSource(t.type);if(null==o)return;const s=this._createOptimizedFeature(e.uid,t);null!=s&&(o.featureStore.add(s),C(e.symbol)&&this._extrudedPolygonSymbolsCount++)}_needsInitializeProjection(e){if(null!=e.wkid&&this._loadedWkids.has(e.wkid))return!1;const t=e.wkt2||e.wkt;return(!t||!this._loadedWkts.has(t))&&!m(e,this.spatialReference)}_createOptimizedFeature(e,t){const o=g(_(t),this.spatialReference);if(!o)return null;const s=this._ensureGeometryHasZ(o),r=S(s,this._hasZ,!1);return new w(r,{[Z]:e},null,e)}_ensureGeometryHasZ(e){if(!this._hasZ)return e;const t=e=>{for(;e.length<3;)e.push(0)},o=e.clone();switch(o.hasZ=!0,o.type){case\"point\":o.z=o.z??0;break;case\"multipoint\":o.points.forEach(t);break;case\"polyline\":o.paths.forEach((e=>e.forEach(t)));break;case\"polygon\":o.rings.forEach((e=>e.forEach(t)))}return o}_ensureSource(e){const t=this._sources[e];if(null!=t)return t;const o=this._createSource(e);return this._sources[e]=o,o}_createSource(e){const t=v.toJSON(e),o=this._hasZ,s=new b({geometryType:t,hasZ:o,hasM:!1});return{featureStore:s,queryEngine:new E({featureStore:s,fieldsIndex:k.fromLayerJSON({fields:[{name:Z,type:\"esriFieldTypeOID\",alias:Z}]}),geometryType:t,hasM:!1,hasZ:o,objectIdField:Z,spatialReference:this.spatialReference,priority:z.SNAPPING,scheduler:null!=this.view&&\"3d\"===this.view.type?this.view.resourceController.scheduler:null}),type:e}}_remove(e){this._mapSources((t=>this._removeFromSource(t,e)));for(const t of this._pendingAdds)t.graphics.delete(e.uid),0===t.graphics.size&&t.task.abort()}_removeFromSource(e,t){const o=t.uid;e.featureStore.has(o)&&(e.featureStore.removeById(t.uid),C(t.symbol)&&this._extrudedPolygonSymbolsCount--)}_destroySource(e){e.queryEngine.destroy(),this._sources[e.type]=null}_mapSources(e){const{point:t,polygon:o,polyline:s,multipoint:r}=this._sources,i=[];return null!=t&&i.push(e(t)),null!=o&&i.push(e(o)),null!=s&&i.push(e(s)),null!=r&&i.push(e(r)),i}};e([c()],U.prototype,\"getGraphicsLayers\",void 0),e([c({constructOnly:!0})],U.prototype,\"layerSource\",void 0),e([c({constructOnly:!0})],U.prototype,\"spatialReference\",void 0),e([c({constructOnly:!0})],U.prototype,\"view\",void 0),e([c({readOnly:!0})],U.prototype,\"updating\",null),e([c({readOnly:!0})],U.prototype,\"availability\",void 0),e([c()],U.prototype,\"_hasZ\",null),e([c()],U.prototype,\"_snappingElevationAligner\",null),e([c()],U.prototype,\"_snappingElevationFilter\",null),e([c()],U.prototype,\"_symbologySnappingFetcher\",null),e([c()],U.prototype,\"_extrudedPolygonSymbolsCount\",void 0),U=e([u(\"esri.views.interactive.snapping.featureSources.GraphicsSnappingSource\")],U);const Z=\"OBJECTID\";export{U as GraphicsSnappingSource};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}