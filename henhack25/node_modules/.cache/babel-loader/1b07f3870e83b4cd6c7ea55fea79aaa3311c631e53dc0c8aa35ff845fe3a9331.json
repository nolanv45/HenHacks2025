{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from \"../../../../../request.js\";\nimport { clone as r } from \"../../../../../core/lang.js\";\nimport { getOrCreateMapValue as o } from \"../../../../../core/MapUtils.js\";\nimport { isAborted as e, onAbort as s } from \"../../../../../core/promiseUtils.js\";\nimport { urlToObject as i, addQueryParameters as n } from \"../../../../../core/urlUtils.js\";\nclass l {\n  constructor(t) {\n    this._tileUrl = t, this._promise = null, this._abortController = null, this._abortOptions = [];\n  }\n  getData(t) {\n    (null == this._promise || e(this._abortController?.signal)) && (this._promise = this._makeRequest(this._tileUrl));\n    const o = this._abortOptions;\n    return o.push(t), s(t, () => {\n      o.every(t => e(t)) && this._abortController.abort();\n    }), this._promise.then(t => r(t));\n  }\n  async _makeRequest(r) {\n    this._abortController = new AbortController();\n    const {\n      data: o\n    } = await t(r, {\n      responseType: \"array-buffer\",\n      signal: this._abortController.signal\n    });\n    return o;\n  }\n}\nconst a = new Map();\nfunction c(t, r, o, e, s) {\n  const l = i(t),\n    a = l.query;\n  if (a) for (const [i, n] of Object.entries(a)) switch (n) {\n    case \"{x}\":\n      a[i] = e.toString();\n      break;\n    case \"{y}\":\n      a[i] = o.toString();\n      break;\n    case \"{z}\":\n      a[i] = r.toString();\n  }\n  const c = l.path;\n  return p(n(c.replaceAll(/\\{z\\}/gi, r.toString()).replaceAll(/\\{y\\}/gi, o.toString()).replaceAll(/\\{x\\}/gi, e.toString()), {\n    ...l.query\n  }), s);\n}\nfunction p(t, r) {\n  return o(a, t, () => new l(t)).getData(r).finally(() => a.delete(t));\n}\nexport { c as request };","map":{"version":3,"names":["t","clone","r","getOrCreateMapValue","o","isAborted","e","onAbort","s","urlToObject","i","addQueryParameters","n","l","constructor","_tileUrl","_promise","_abortController","_abortOptions","getData","signal","_makeRequest","push","every","abort","then","AbortController","data","responseType","a","Map","c","query","Object","entries","toString","path","p","replaceAll","finally","delete","request"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/VectorTilesRequestManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../request.js\";import{clone as r}from\"../../../../../core/lang.js\";import{getOrCreateMapValue as o}from\"../../../../../core/MapUtils.js\";import{isAborted as e,onAbort as s}from\"../../../../../core/promiseUtils.js\";import{urlToObject as i,addQueryParameters as n}from\"../../../../../core/urlUtils.js\";class l{constructor(t){this._tileUrl=t,this._promise=null,this._abortController=null,this._abortOptions=[]}getData(t){(null==this._promise||e(this._abortController?.signal))&&(this._promise=this._makeRequest(this._tileUrl));const o=this._abortOptions;return o.push(t),s(t,(()=>{o.every((t=>e(t)))&&this._abortController.abort()})),this._promise.then((t=>r(t)))}async _makeRequest(r){this._abortController=new AbortController;const{data:o}=await t(r,{responseType:\"array-buffer\",signal:this._abortController.signal});return o}}const a=new Map;function c(t,r,o,e,s){const l=i(t),a=l.query;if(a)for(const[i,n]of Object.entries(a))switch(n){case\"{x}\":a[i]=e.toString();break;case\"{y}\":a[i]=o.toString();break;case\"{z}\":a[i]=r.toString()}const c=l.path;return p(n(c.replaceAll(/\\{z\\}/gi,r.toString()).replaceAll(/\\{y\\}/gi,o.toString()).replaceAll(/\\{x\\}/gi,e.toString()),{...l.query}),s)}function p(t,r){return o(a,t,(()=>new l(t))).getData(r).finally((()=>a.delete(t)))}export{c as request};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}