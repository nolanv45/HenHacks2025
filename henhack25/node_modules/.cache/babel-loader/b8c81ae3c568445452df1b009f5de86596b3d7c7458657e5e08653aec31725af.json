{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport { rad2deg as e, scale as r } from \"../../core/mathUtils.js\";\nimport { createScreenPoint as o } from \"../../core/screenUtils.js\";\nimport { property as n } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { toRadian as i } from \"../../core/libs/gl-matrix-2/math/common.js\";\nimport a from \"../../geometry/Extent.js\";\nimport c from \"../../geometry/Polygon.js\";\nimport { projectOrLoad as m } from \"../../geometry/projection.js\";\nimport l from \"./GeoreferenceBase.js\";\nlet p = class extends l {\n  constructor(t) {\n    super(t), this.extent = null, this.rotation = 0, this.type = \"extent-and-rotation\";\n  }\n  get coords() {\n    if (null == this.extent) return null;\n    const {\n      xmin: t,\n      ymin: e,\n      xmax: r,\n      ymax: o,\n      spatialReference: n\n    } = this.extent;\n    let s;\n    if (this.rotation) {\n      const {\n          x: n,\n          y: i\n        } = this.extent.center,\n        a = x(n, i, this.rotation);\n      s = [a(t, e), a(t, o), a(r, o), a(r, e)], s.push(s[0]);\n    } else s = [[t, e], [t, o], [r, o], [r, e], [t, e]];\n    return new c({\n      rings: [s],\n      spatialReference: n\n    });\n  }\n  set coords(t) {\n    if (null == t || null == this.extent) return;\n    const r = this.extent.spatialReference;\n    if (t = this.projectOrWarn(t, r), null == t?.extent) return;\n    const {\n        rings: [[o, n, s]],\n        extent: {\n          center: {\n            x: i,\n            y: c\n          }\n        }\n      } = t,\n      m = e(Math.PI / 2 - Math.atan2(n[1] - o[1], n[0] - o[0])),\n      l = x(i, c, -m),\n      [p, u] = l(o[0], o[1]),\n      [f, h] = l(s[0], s[1]);\n    this.extent = new a({\n      xmin: p,\n      ymin: u,\n      xmax: f,\n      ymax: h,\n      spatialReference: r\n    }), this.rotation = m;\n  }\n  toSourceNormalized(t) {\n    const {\n      extent: e,\n      rotation: n\n    } = this;\n    if (null == t || null == e) return null;\n    const {\n      xmin: s,\n      ymin: i,\n      xmax: a,\n      ymax: c,\n      center: l,\n      spatialReference: p\n    } = e;\n    t = t.normalize();\n    const u = m(t, p).geometry;\n    if (null == u) return null;\n    let f = u.x,\n      h = u.y;\n    return n && ([f, h] = x(l.x, l.y, -n)(f, h)), o(r(f, s, a, 0, 1), r(h, c, i, 0, 1));\n  }\n};\nfunction x(t, e, r) {\n  const o = i(r),\n    n = Math.cos(o),\n    s = Math.sin(o);\n  return (r, o) => [n * (r - t) + s * (o - e) + t, n * (o - e) - s * (r - t) + e];\n}\nt([n({\n  clonable: !1\n})], p.prototype, \"coords\", null), t([n({\n  type: a\n})], p.prototype, \"extent\", void 0), t([n({\n  type: Number\n})], p.prototype, \"rotation\", void 0), p = t([s(\"esri.layers.support.ExtentAndRotationGeoreference\")], p);\nconst u = p;\nexport { u as default };","map":{"version":3,"names":["_","t","rad2deg","e","scale","r","createScreenPoint","o","property","n","subclass","s","toRadian","i","a","c","projectOrLoad","m","l","p","constructor","extent","rotation","type","coords","xmin","ymin","xmax","ymax","spatialReference","x","y","center","push","rings","projectOrWarn","Math","PI","atan2","u","f","h","toSourceNormalized","normalize","geometry","cos","sin","clonable","prototype","Number","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/ExtentAndRotationGeoreference.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{rad2deg as e,scale as r}from\"../../core/mathUtils.js\";import{createScreenPoint as o}from\"../../core/screenUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{toRadian as i}from\"../../core/libs/gl-matrix-2/math/common.js\";import a from\"../../geometry/Extent.js\";import c from\"../../geometry/Polygon.js\";import{projectOrLoad as m}from\"../../geometry/projection.js\";import l from\"./GeoreferenceBase.js\";let p=class extends l{constructor(t){super(t),this.extent=null,this.rotation=0,this.type=\"extent-and-rotation\"}get coords(){if(null==this.extent)return null;const{xmin:t,ymin:e,xmax:r,ymax:o,spatialReference:n}=this.extent;let s;if(this.rotation){const{x:n,y:i}=this.extent.center,a=x(n,i,this.rotation);s=[a(t,e),a(t,o),a(r,o),a(r,e)],s.push(s[0])}else s=[[t,e],[t,o],[r,o],[r,e],[t,e]];return new c({rings:[s],spatialReference:n})}set coords(t){if(null==t||null==this.extent)return;const r=this.extent.spatialReference;if(t=this.projectOrWarn(t,r),null==t?.extent)return;const{rings:[[o,n,s]],extent:{center:{x:i,y:c}}}=t,m=e(Math.PI/2-Math.atan2(n[1]-o[1],n[0]-o[0])),l=x(i,c,-m),[p,u]=l(o[0],o[1]),[f,h]=l(s[0],s[1]);this.extent=new a({xmin:p,ymin:u,xmax:f,ymax:h,spatialReference:r}),this.rotation=m}toSourceNormalized(t){const{extent:e,rotation:n}=this;if(null==t||null==e)return null;const{xmin:s,ymin:i,xmax:a,ymax:c,center:l,spatialReference:p}=e;t=t.normalize();const u=m(t,p).geometry;if(null==u)return null;let f=u.x,h=u.y;return n&&([f,h]=x(l.x,l.y,-n)(f,h)),o(r(f,s,a,0,1),r(h,c,i,0,1))}};function x(t,e,r){const o=i(r),n=Math.cos(o),s=Math.sin(o);return(r,o)=>[n*(r-t)+s*(o-e)+t,n*(o-e)-s*(r-t)+e]}t([n({clonable:!1})],p.prototype,\"coords\",null),t([n({type:a})],p.prototype,\"extent\",void 0),t([n({type:Number})],p.prototype,\"rotation\",void 0),p=t([s(\"esri.layers.support.ExtentAndRotationGeoreference\")],p);const u=p;export{u as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}