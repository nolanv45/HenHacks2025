{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Accessor.js\";\nimport o from \"../../core/Collection.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as i } from \"../../core/support/UpdatingHandles.js\";\nimport \"../../libs/maquette/projection.js\";\nimport { createProjector as n } from \"../../libs/maquette/projector.js\";\nlet a = class extends e {\n  constructor() {\n    super(...arguments), this.items = new o(), this._watchUpdatingTracking = new i(), this._callbacks = new Map(), this._projector = n(), this._hiddenProjector = n();\n  }\n  get needsRender() {\n    return this.items.length > 0;\n  }\n  get updating() {\n    return this._watchUpdatingTracking?.updating ?? !1;\n  }\n  initialize() {\n    const t = document.createElement(\"div\");\n    t.className = \"esri-overlay-surface\", this._set(\"surface\", t), this._hiddenSurface = document.createElement(\"div\"), this._hiddenSurface.setAttribute(\"style\", \"visibility: hidden;\"), t.appendChild(this._hiddenSurface), this._watchUpdatingTracking.addOnCollectionChange(() => this.items, t => {\n      for (const e of t.added) {\n        const t = () => e.render();\n        this._callbacks.set(e, t), this._projector.append(this.surface, t);\n      }\n      for (const e of t.removed) {\n        const t = this._projector.detach(this._callbacks.get(e));\n        this.surface.removeChild(t.domNode), this._callbacks.delete(e);\n      }\n    });\n  }\n  addItem(t) {\n    this.items.add(t);\n  }\n  removeItem(t) {\n    this.items.remove(t);\n  }\n  destroy() {\n    this.items.removeAll(), this._callbacks.forEach(t => this._projector.detach(t)), this._callbacks = null, this._projector = null, this._watchUpdatingTracking.destroy();\n  }\n  render() {\n    this._projector.renderNow();\n  }\n  computeBoundingRect(t) {\n    const e = this._hiddenSurface,\n      o = this._hiddenProjector;\n    let r;\n    const s = () => (r = t.render(), r);\n    o.append(e, s), o.renderNow();\n    const i = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n    if (r?.domNode) {\n      const t = r.domNode.getBoundingClientRect();\n      i.left = t.left, i.top = t.top, i.right = t.right, i.bottom = t.bottom;\n    }\n    for (o.detach(s); e.firstChild;) e.removeChild(e.firstChild);\n    return i;\n  }\n  overlaps(t, e) {\n    const o = this.computeBoundingRect(t),\n      r = this.computeBoundingRect(e);\n    return Math.max(o.left, r.left) <= Math.min(o.right, r.right) && Math.max(o.top, r.top) <= Math.min(o.bottom, r.bottom);\n  }\n  get hasVisibleItems() {\n    return this.items.some(t => t.visible);\n  }\n  async prepare() {\n    await document.fonts.load(this._fontString()).catch(() => {});\n  }\n  renderCanvas(t, e) {\n    const o = !!e?.disableDecorations;\n    if (!this.items.some(t => t.visible && !(o && t.isDecoration))) return;\n    const r = t.getContext(\"2d\");\n    r.save(), r.font = this._fontString(), this.items.forEach(t => {\n      o && t.isDecoration || (r.save(), t.renderCanvas(r), r.restore());\n    }), r.restore();\n  }\n  _fontString() {\n    return `10px ${getComputedStyle(this.surface).fontFamily}`;\n  }\n};\nt([r({\n  readOnly: !0\n})], a.prototype, \"surface\", void 0), t([r({\n  readOnly: !0\n})], a.prototype, \"items\", void 0), t([r({\n  readOnly: !0\n})], a.prototype, \"needsRender\", null), t([r({\n  readOnly: !0\n})], a.prototype, \"_watchUpdatingTracking\", void 0), t([r({\n  readOnly: !0\n})], a.prototype, \"updating\", null), a = t([s(\"esri.views.overlay.ViewOverlay\")], a);\nconst c = a;\nexport { c as default };","map":{"version":3,"names":["_","t","e","o","property","r","subclass","s","UpdatingHandles","i","createProjector","n","a","constructor","arguments","items","_watchUpdatingTracking","_callbacks","Map","_projector","_hiddenProjector","needsRender","length","updating","initialize","document","createElement","className","_set","_hiddenSurface","setAttribute","appendChild","addOnCollectionChange","added","render","set","append","surface","removed","detach","get","removeChild","domNode","delete","addItem","add","removeItem","remove","destroy","removeAll","forEach","renderNow","computeBoundingRect","left","top","right","bottom","getBoundingClientRect","firstChild","overlaps","Math","max","min","hasVisibleItems","some","visible","prepare","fonts","load","_fontString","catch","renderCanvas","disableDecorations","isDecoration","getContext","save","font","restore","getComputedStyle","fontFamily","readOnly","prototype","c","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/overlay/ViewOverlay.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import o from\"../../core/Collection.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as i}from\"../../core/support/UpdatingHandles.js\";import\"../../libs/maquette/projection.js\";import{createProjector as n}from\"../../libs/maquette/projector.js\";let a=class extends e{constructor(){super(...arguments),this.items=new o,this._watchUpdatingTracking=new i,this._callbacks=new Map,this._projector=n(),this._hiddenProjector=n()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const t=document.createElement(\"div\");t.className=\"esri-overlay-surface\",this._set(\"surface\",t),this._hiddenSurface=document.createElement(\"div\"),this._hiddenSurface.setAttribute(\"style\",\"visibility: hidden;\"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange((()=>this.items),(t=>{for(const e of t.added){const t=()=>e.render();this._callbacks.set(e,t),this._projector.append(this.surface,t)}for(const e of t.removed){const t=this._projector.detach(this._callbacks.get(e));this.surface.removeChild(t.domNode),this._callbacks.delete(e)}}))}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach((t=>this._projector.detach(t))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const e=this._hiddenSurface,o=this._hiddenProjector;let r;const s=()=>(r=t.render(),r);o.append(e,s),o.renderNow();const i={left:0,top:0,right:0,bottom:0};if(r?.domNode){const t=r.domNode.getBoundingClientRect();i.left=t.left,i.top=t.top,i.right=t.right,i.bottom=t.bottom}for(o.detach(s);e.firstChild;)e.removeChild(e.firstChild);return i}overlaps(t,e){const o=this.computeBoundingRect(t),r=this.computeBoundingRect(e);return Math.max(o.left,r.left)<=Math.min(o.right,r.right)&&Math.max(o.top,r.top)<=Math.min(o.bottom,r.bottom)}get hasVisibleItems(){return this.items.some((t=>t.visible))}async prepare(){await document.fonts.load(this._fontString()).catch((()=>{}))}renderCanvas(t,e){const o=!!e?.disableDecorations;if(!this.items.some((t=>t.visible&&!(o&&t.isDecoration))))return;const r=t.getContext(\"2d\");r.save(),r.font=this._fontString(),this.items.forEach((t=>{o&&t.isDecoration||(r.save(),t.renderCanvas(r),r.restore())})),r.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};t([r({readOnly:!0})],a.prototype,\"surface\",void 0),t([r({readOnly:!0})],a.prototype,\"items\",void 0),t([r({readOnly:!0})],a.prototype,\"needsRender\",null),t([r({readOnly:!0})],a.prototype,\"_watchUpdatingTracking\",void 0),t([r({readOnly:!0})],a.prototype,\"updating\",null),a=t([s(\"esri.views.overlay.ViewOverlay\")],a);const c=a;export{c as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,2BAA2B;AAAC,OAAOC,CAAC,MAAK,wBAAwB;AAAC,OAAOC,CAAC,MAAK,0BAA0B;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,mDAAmD;AAAC,OAAM,mBAAmB;AAAC,OAAM,sBAAsB;AAAC,OAAM,yBAAyB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,mDAAmD;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,uCAAuC;AAAC,OAAM,mCAAmC;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,kCAAkC;AAAC,IAAIC,CAAC,GAAC,cAAcV,CAAC;EAACW,WAAWA,CAAA,EAAE;IAAC,KAAK,CAAC,GAAGC,SAAS,CAAC,EAAC,IAAI,CAACC,KAAK,GAAC,IAAIZ,CAAC,CAAD,CAAC,EAAC,IAAI,CAACa,sBAAsB,GAAC,IAAIP,CAAC,CAAD,CAAC,EAAC,IAAI,CAACQ,UAAU,GAAC,IAAIC,GAAG,CAAD,CAAC,EAAC,IAAI,CAACC,UAAU,GAACR,CAAC,CAAC,CAAC,EAAC,IAAI,CAACS,gBAAgB,GAACT,CAAC,CAAC,CAAC;EAAA;EAAC,IAAIU,WAAWA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACN,KAAK,CAACO,MAAM,GAAC,CAAC;EAAA;EAAC,IAAIC,QAAQA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACP,sBAAsB,EAAEO,QAAQ,IAAE,CAAC,CAAC;EAAA;EAACC,UAAUA,CAAA,EAAE;IAAC,MAAMvB,CAAC,GAACwB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAACzB,CAAC,CAAC0B,SAAS,GAAC,sBAAsB,EAAC,IAAI,CAACC,IAAI,CAAC,SAAS,EAAC3B,CAAC,CAAC,EAAC,IAAI,CAAC4B,cAAc,GAACJ,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,EAAC,IAAI,CAACG,cAAc,CAACC,YAAY,CAAC,OAAO,EAAC,qBAAqB,CAAC,EAAC7B,CAAC,CAAC8B,WAAW,CAAC,IAAI,CAACF,cAAc,CAAC,EAAC,IAAI,CAACb,sBAAsB,CAACgB,qBAAqB,CAAE,MAAI,IAAI,CAACjB,KAAK,EAAGd,CAAC,IAAE;MAAC,KAAI,MAAMC,CAAC,IAAID,CAAC,CAACgC,KAAK,EAAC;QAAC,MAAMhC,CAAC,GAACA,CAAA,KAAIC,CAAC,CAACgC,MAAM,CAAC,CAAC;QAAC,IAAI,CAACjB,UAAU,CAACkB,GAAG,CAACjC,CAAC,EAACD,CAAC,CAAC,EAAC,IAAI,CAACkB,UAAU,CAACiB,MAAM,CAAC,IAAI,CAACC,OAAO,EAACpC,CAAC,CAAC;MAAA;MAAC,KAAI,MAAMC,CAAC,IAAID,CAAC,CAACqC,OAAO,EAAC;QAAC,MAAMrC,CAAC,GAAC,IAAI,CAACkB,UAAU,CAACoB,MAAM,CAAC,IAAI,CAACtB,UAAU,CAACuB,GAAG,CAACtC,CAAC,CAAC,CAAC;QAAC,IAAI,CAACmC,OAAO,CAACI,WAAW,CAACxC,CAAC,CAACyC,OAAO,CAAC,EAAC,IAAI,CAACzB,UAAU,CAAC0B,MAAM,CAACzC,CAAC,CAAC;MAAA;IAAC,CAAE,CAAC;EAAA;EAAC0C,OAAOA,CAAC3C,CAAC,EAAC;IAAC,IAAI,CAACc,KAAK,CAAC8B,GAAG,CAAC5C,CAAC,CAAC;EAAA;EAAC6C,UAAUA,CAAC7C,CAAC,EAAC;IAAC,IAAI,CAACc,KAAK,CAACgC,MAAM,CAAC9C,CAAC,CAAC;EAAA;EAAC+C,OAAOA,CAAA,EAAE;IAAC,IAAI,CAACjC,KAAK,CAACkC,SAAS,CAAC,CAAC,EAAC,IAAI,CAAChC,UAAU,CAACiC,OAAO,CAAEjD,CAAC,IAAE,IAAI,CAACkB,UAAU,CAACoB,MAAM,CAACtC,CAAC,CAAE,CAAC,EAAC,IAAI,CAACgB,UAAU,GAAC,IAAI,EAAC,IAAI,CAACE,UAAU,GAAC,IAAI,EAAC,IAAI,CAACH,sBAAsB,CAACgC,OAAO,CAAC,CAAC;EAAA;EAACd,MAAMA,CAAA,EAAE;IAAC,IAAI,CAACf,UAAU,CAACgC,SAAS,CAAC,CAAC;EAAA;EAACC,mBAAmBA,CAACnD,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAAC2B,cAAc;MAAC1B,CAAC,GAAC,IAAI,CAACiB,gBAAgB;IAAC,IAAIf,CAAC;IAAC,MAAME,CAAC,GAACA,CAAA,MAAKF,CAAC,GAACJ,CAAC,CAACiC,MAAM,CAAC,CAAC,EAAC7B,CAAC,CAAC;IAACF,CAAC,CAACiC,MAAM,CAAClC,CAAC,EAACK,CAAC,CAAC,EAACJ,CAAC,CAACgD,SAAS,CAAC,CAAC;IAAC,MAAM1C,CAAC,GAAC;MAAC4C,IAAI,EAAC,CAAC;MAACC,GAAG,EAAC,CAAC;MAACC,KAAK,EAAC,CAAC;MAACC,MAAM,EAAC;IAAC,CAAC;IAAC,IAAGnD,CAAC,EAAEqC,OAAO,EAAC;MAAC,MAAMzC,CAAC,GAACI,CAAC,CAACqC,OAAO,CAACe,qBAAqB,CAAC,CAAC;MAAChD,CAAC,CAAC4C,IAAI,GAACpD,CAAC,CAACoD,IAAI,EAAC5C,CAAC,CAAC6C,GAAG,GAACrD,CAAC,CAACqD,GAAG,EAAC7C,CAAC,CAAC8C,KAAK,GAACtD,CAAC,CAACsD,KAAK,EAAC9C,CAAC,CAAC+C,MAAM,GAACvD,CAAC,CAACuD,MAAM;IAAA;IAAC,KAAIrD,CAAC,CAACoC,MAAM,CAAChC,CAAC,CAAC,EAACL,CAAC,CAACwD,UAAU,GAAExD,CAAC,CAACuC,WAAW,CAACvC,CAAC,CAACwD,UAAU,CAAC;IAAC,OAAOjD,CAAC;EAAA;EAACkD,QAAQA,CAAC1D,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACiD,mBAAmB,CAACnD,CAAC,CAAC;MAACI,CAAC,GAAC,IAAI,CAAC+C,mBAAmB,CAAClD,CAAC,CAAC;IAAC,OAAO0D,IAAI,CAACC,GAAG,CAAC1D,CAAC,CAACkD,IAAI,EAAChD,CAAC,CAACgD,IAAI,CAAC,IAAEO,IAAI,CAACE,GAAG,CAAC3D,CAAC,CAACoD,KAAK,EAAClD,CAAC,CAACkD,KAAK,CAAC,IAAEK,IAAI,CAACC,GAAG,CAAC1D,CAAC,CAACmD,GAAG,EAACjD,CAAC,CAACiD,GAAG,CAAC,IAAEM,IAAI,CAACE,GAAG,CAAC3D,CAAC,CAACqD,MAAM,EAACnD,CAAC,CAACmD,MAAM,CAAC;EAAA;EAAC,IAAIO,eAAeA,CAAA,EAAE;IAAC,OAAO,IAAI,CAAChD,KAAK,CAACiD,IAAI,CAAE/D,CAAC,IAAEA,CAAC,CAACgE,OAAQ,CAAC;EAAA;EAAC,MAAMC,OAAOA,CAAA,EAAE;IAAC,MAAMzC,QAAQ,CAAC0C,KAAK,CAACC,IAAI,CAAC,IAAI,CAACC,WAAW,CAAC,CAAC,CAAC,CAACC,KAAK,CAAE,MAAI,CAAC,CAAE,CAAC;EAAA;EAACC,YAAYA,CAACtE,CAAC,EAACC,CAAC,EAAC;IAAC,MAAMC,CAAC,GAAC,CAAC,CAACD,CAAC,EAAEsE,kBAAkB;IAAC,IAAG,CAAC,IAAI,CAACzD,KAAK,CAACiD,IAAI,CAAE/D,CAAC,IAAEA,CAAC,CAACgE,OAAO,IAAE,EAAE9D,CAAC,IAAEF,CAAC,CAACwE,YAAY,CAAE,CAAC,EAAC;IAAO,MAAMpE,CAAC,GAACJ,CAAC,CAACyE,UAAU,CAAC,IAAI,CAAC;IAACrE,CAAC,CAACsE,IAAI,CAAC,CAAC,EAACtE,CAAC,CAACuE,IAAI,GAAC,IAAI,CAACP,WAAW,CAAC,CAAC,EAAC,IAAI,CAACtD,KAAK,CAACmC,OAAO,CAAEjD,CAAC,IAAE;MAACE,CAAC,IAAEF,CAAC,CAACwE,YAAY,KAAGpE,CAAC,CAACsE,IAAI,CAAC,CAAC,EAAC1E,CAAC,CAACsE,YAAY,CAAClE,CAAC,CAAC,EAACA,CAAC,CAACwE,OAAO,CAAC,CAAC,CAAC;IAAA,CAAE,CAAC,EAACxE,CAAC,CAACwE,OAAO,CAAC,CAAC;EAAA;EAACR,WAAWA,CAAA,EAAE;IAAC,OAAM,QAAQS,gBAAgB,CAAC,IAAI,CAACzC,OAAO,CAAC,CAAC0C,UAAU,EAAE;EAAA;AAAC,CAAC;AAAC9E,CAAC,CAAC,CAACI,CAAC,CAAC;EAAC2E,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACpE,CAAC,CAACqE,SAAS,EAAC,SAAS,EAAC,KAAK,CAAC,CAAC,EAAChF,CAAC,CAAC,CAACI,CAAC,CAAC;EAAC2E,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACpE,CAAC,CAACqE,SAAS,EAAC,OAAO,EAAC,KAAK,CAAC,CAAC,EAAChF,CAAC,CAAC,CAACI,CAAC,CAAC;EAAC2E,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACpE,CAAC,CAACqE,SAAS,EAAC,aAAa,EAAC,IAAI,CAAC,EAAChF,CAAC,CAAC,CAACI,CAAC,CAAC;EAAC2E,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACpE,CAAC,CAACqE,SAAS,EAAC,wBAAwB,EAAC,KAAK,CAAC,CAAC,EAAChF,CAAC,CAAC,CAACI,CAAC,CAAC;EAAC2E,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACpE,CAAC,CAACqE,SAAS,EAAC,UAAU,EAAC,IAAI,CAAC,EAACrE,CAAC,GAACX,CAAC,CAAC,CAACM,CAAC,CAAC,gCAAgC,CAAC,CAAC,EAACK,CAAC,CAAC;AAAC,MAAMsE,CAAC,GAACtE,CAAC;AAAC,SAAOsE,CAAC,IAAIC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}