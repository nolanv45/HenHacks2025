{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Error.js\";\nimport t from \"../../../../core/Logger.js\";\nimport { watch as r } from \"../../../../core/reactiveUtils.js\";\nimport { create as s } from \"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";\nimport { DisplayObject as i } from \"../DisplayObject.js\";\nimport a from \"./Mesh2D.js\";\nimport { createScreenExtent as o } from \"../../support/clippingUtils.js\";\nimport { VertexArrayObject as h } from \"../../../webgl/VertexArrayObject.js\";\nclass c extends i {\n  constructor(e, t) {\n    super(), this._clip = t, this._cache = {}, this.stage = e, this._handle = r(() => t.version, () => this._invalidate()), this.ready();\n  }\n  static fromClipArea(e, t) {\n    return new c(e, t);\n  }\n  _destroyGL() {\n    null != this._cache.mesh && (this._cache.mesh.destroy(), this._cache.mesh = null), null != this._cache.vao && (this._cache.vao.dispose(), this._cache.vao = null);\n  }\n  destroy() {\n    this._destroyGL(), this._handle.remove();\n  }\n  getVAO(e, t, r, s) {\n    const [i, a] = t.size;\n    if (\"geometry\" !== this._clip.type && this._lastWidth === i && this._lastHeight === a || (this._lastWidth = i, this._lastHeight = a, this._destroyGL()), null == this._cache.vao) {\n      const i = this._createMesh(t, this._clip),\n        a = i.getIndexBuffer(e),\n        o = i.getVertexBuffers(e);\n      this._cache.mesh = i, this._cache.vao = new h(e, r, s, o, a);\n    }\n    return this._cache.vao;\n  }\n  _createTransforms() {\n    return {\n      displayViewScreenMat3: s()\n    };\n  }\n  _invalidate() {\n    this._destroyGL(), this.requestRender();\n  }\n  _createMesh(r, s) {\n    switch (s.type) {\n      case \"rect\":\n        return a.fromScreenExtent(o(s, r.size[0], r.size[1]));\n      case \"path\":\n        return a.fromPath(s);\n      case \"geometry\":\n        return a.fromGeometry(r, s);\n      default:\n        return t.getLogger(\"esri.views.2d.engine.webgl.ClippingInfo\").error(new e(\"mapview-bad-type\", \"Unable to create ClippingInfo mesh from clip of type: ${clip.type}\")), a.fromScreenExtent({\n          xmin: 0,\n          ymin: 0,\n          xmax: 1,\n          ymax: 1\n        });\n    }\n  }\n}\nexport { c as default };","map":{"version":3,"names":["e","t","watch","r","create","s","DisplayObject","i","a","createScreenExtent","o","VertexArrayObject","h","c","constructor","_clip","_cache","stage","_handle","version","_invalidate","ready","fromClipArea","_destroyGL","mesh","destroy","vao","dispose","remove","getVAO","size","type","_lastWidth","_lastHeight","_createMesh","getIndexBuffer","getVertexBuffers","_createTransforms","displayViewScreenMat3","requestRender","fromScreenExtent","fromPath","fromGeometry","getLogger","error","xmin","ymin","xmax","ymax","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/ClippingInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/Logger.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import a from\"./Mesh2D.js\";import{createScreenExtent as o}from\"../../support/clippingUtils.js\";import{VertexArrayObject as h}from\"../../../webgl/VertexArrayObject.js\";class c extends i{constructor(e,t){super(),this._clip=t,this._cache={},this.stage=e,this._handle=r((()=>t.version),(()=>this._invalidate())),this.ready()}static fromClipArea(e,t){return new c(e,t)}_destroyGL(){null!=this._cache.mesh&&(this._cache.mesh.destroy(),this._cache.mesh=null),null!=this._cache.vao&&(this._cache.vao.dispose(),this._cache.vao=null)}destroy(){this._destroyGL(),this._handle.remove()}getVAO(e,t,r,s){const[i,a]=t.size;if(\"geometry\"!==this._clip.type&&this._lastWidth===i&&this._lastHeight===a||(this._lastWidth=i,this._lastHeight=a,this._destroyGL()),null==this._cache.vao){const i=this._createMesh(t,this._clip),a=i.getIndexBuffer(e),o=i.getVertexBuffers(e);this._cache.mesh=i,this._cache.vao=new h(e,r,s,o,a)}return this._cache.vao}_createTransforms(){return{displayViewScreenMat3:s()}}_invalidate(){this._destroyGL(),this.requestRender()}_createMesh(r,s){switch(s.type){case\"rect\":return a.fromScreenExtent(o(s,r.size[0],r.size[1]));case\"path\":return a.fromPath(s);case\"geometry\":return a.fromGeometry(r,s);default:return t.getLogger(\"esri.views.2d.engine.webgl.ClippingInfo\").error(new e(\"mapview-bad-type\",\"Unable to create ClippingInfo mesh from clip of type: ${clip.type}\")),a.fromScreenExtent({xmin:0,ymin:0,xmax:1,ymax:1})}}}export{c as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}