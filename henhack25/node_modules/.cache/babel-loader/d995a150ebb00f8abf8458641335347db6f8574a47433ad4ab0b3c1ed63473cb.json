{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { getPixelValueRange as o } from \"../rasterFormats/pixelRangeUtils.js\";\nimport r from \"./BaseRasterFunction.js\";\nimport { computeFocalStatistics as i } from \"./focalStatUtils.js\";\nimport n from \"./StatisticsFunctionArguments.js\";\nlet c = class extends r {\n  constructor() {\n    super(...arguments), this.functionName = \"Statistics\", this.rasterArgumentNames = [\"raster\"];\n  }\n  _bindSourceRasters() {\n    const {\n      type: t\n    } = this.functionArguments.toJSON();\n    if (t < 1 || t > 7) return {\n      success: !1,\n      supportsGPU: !1,\n      error: `statistics-function: the given statistics type is not supported ${t}`\n    };\n    const s = this.sourceRasterInfos[0];\n    this.outputPixelType = this._getOutputPixelType(s.pixelType);\n    const e = s.clone();\n    e.pixelType = this.outputPixelType;\n    const {\n      statisticsType: o\n    } = this.functionArguments;\n    \"stddev\" === o && this._removeStatsHistColormapVAT(e), this.rasterInfo = e;\n    return {\n      success: !0,\n      supportsGPU: e.bandCount <= 3 && t < 5\n    };\n  }\n  _processPixels(t) {\n    const s = t.pixelBlocks?.[0];\n    if (null == s) return s;\n    const {\n      statisticsType: e,\n      rows: o,\n      cols: r,\n      fillNoDataOnly: n\n    } = this.functionArguments;\n    return i(s, {\n      kernelRows: o,\n      kernelCols: r,\n      fillNoDataOnly: n,\n      outputPixelType: this.outputPixelType,\n      statisticsType: e,\n      mirrorEdges: !0\n    });\n  }\n  _getWebGLParameters() {\n    const {\n      rows: t,\n      cols: s,\n      statisticsType: e,\n      fillNoDataOnly: r\n    } = this.functionArguments;\n    return {\n      fillNoDataOnly: r,\n      kernelRows: t,\n      kernelCols: s,\n      statisticsType: e,\n      clampRange: o(this.outputPixelType)\n    };\n  }\n};\nt([s({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], c.prototype, \"functionName\", void 0), t([s({\n  type: n,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], c.prototype, \"functionArguments\", void 0), t([s()], c.prototype, \"rasterArgumentNames\", void 0), c = t([e(\"esri.layers.support.rasterFunctions.StatisticsFunction\")], c);\nconst p = c;\nexport { p as default };","map":{"version":3,"names":["_","t","property","s","subclass","e","getPixelValueRange","o","r","computeFocalStatistics","i","n","c","constructor","arguments","functionName","rasterArgumentNames","_bindSourceRasters","type","functionArguments","toJSON","success","supportsGPU","error","sourceRasterInfos","outputPixelType","_getOutputPixelType","pixelType","clone","statisticsType","_removeStatsHistColormapVAT","rasterInfo","bandCount","_processPixels","pixelBlocks","rows","cols","fillNoDataOnly","kernelRows","kernelCols","mirrorEdges","_getWebGLParameters","clampRange","json","write","name","prototype","p","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/rasterFunctions/StatisticsFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getPixelValueRange as o}from\"../rasterFormats/pixelRangeUtils.js\";import r from\"./BaseRasterFunction.js\";import{computeFocalStatistics as i}from\"./focalStatUtils.js\";import n from\"./StatisticsFunctionArguments.js\";let c=class extends r{constructor(){super(...arguments),this.functionName=\"Statistics\",this.rasterArgumentNames=[\"raster\"]}_bindSourceRasters(){const{type:t}=this.functionArguments.toJSON();if(t<1||t>7)return{success:!1,supportsGPU:!1,error:`statistics-function: the given statistics type is not supported ${t}`};const s=this.sourceRasterInfos[0];this.outputPixelType=this._getOutputPixelType(s.pixelType);const e=s.clone();e.pixelType=this.outputPixelType;const{statisticsType:o}=this.functionArguments;\"stddev\"===o&&this._removeStatsHistColormapVAT(e),this.rasterInfo=e;return{success:!0,supportsGPU:e.bandCount<=3&&t<5}}_processPixels(t){const s=t.pixelBlocks?.[0];if(null==s)return s;const{statisticsType:e,rows:o,cols:r,fillNoDataOnly:n}=this.functionArguments;return i(s,{kernelRows:o,kernelCols:r,fillNoDataOnly:n,outputPixelType:this.outputPixelType,statisticsType:e,mirrorEdges:!0})}_getWebGLParameters(){const{rows:t,cols:s,statisticsType:e,fillNoDataOnly:r}=this.functionArguments;return{fillNoDataOnly:r,kernelRows:t,kernelCols:s,statisticsType:e,clampRange:o(this.outputPixelType)}}};t([s({json:{write:!0,name:\"rasterFunction\"}})],c.prototype,\"functionName\",void 0),t([s({type:n,json:{write:!0,name:\"rasterFunctionArguments\"}})],c.prototype,\"functionArguments\",void 0),t([s()],c.prototype,\"rasterArgumentNames\",void 0),c=t([e(\"esri.layers.support.rasterFunctions.StatisticsFunction\")],c);const p=c;export{p as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,sDAAsD;AAAC,OAAM,sBAAsB;AAAC,OAAM,yBAAyB;AAAC,OAAM,4BAA4B;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,sDAAsD;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,qCAAqC;AAAC,OAAOC,CAAC,MAAK,yBAAyB;AAAC,SAAOC,sBAAsB,IAAIC,CAAC,QAAK,qBAAqB;AAAC,OAAOC,CAAC,MAAK,kCAAkC;AAAC,IAAIC,CAAC,GAAC,cAAcJ,CAAC;EAACK,WAAWA,CAAA,EAAE;IAAC,KAAK,CAAC,GAAGC,SAAS,CAAC,EAAC,IAAI,CAACC,YAAY,GAAC,YAAY,EAAC,IAAI,CAACC,mBAAmB,GAAC,CAAC,QAAQ,CAAC;EAAA;EAACC,kBAAkBA,CAAA,EAAE;IAAC,MAAK;MAACC,IAAI,EAACjB;IAAC,CAAC,GAAC,IAAI,CAACkB,iBAAiB,CAACC,MAAM,CAAC,CAAC;IAAC,IAAGnB,CAAC,GAAC,CAAC,IAAEA,CAAC,GAAC,CAAC,EAAC,OAAM;MAACoB,OAAO,EAAC,CAAC,CAAC;MAACC,WAAW,EAAC,CAAC,CAAC;MAACC,KAAK,EAAC,mEAAmEtB,CAAC;IAAE,CAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACqB,iBAAiB,CAAC,CAAC,CAAC;IAAC,IAAI,CAACC,eAAe,GAAC,IAAI,CAACC,mBAAmB,CAACvB,CAAC,CAACwB,SAAS,CAAC;IAAC,MAAMtB,CAAC,GAACF,CAAC,CAACyB,KAAK,CAAC,CAAC;IAACvB,CAAC,CAACsB,SAAS,GAAC,IAAI,CAACF,eAAe;IAAC,MAAK;MAACI,cAAc,EAACtB;IAAC,CAAC,GAAC,IAAI,CAACY,iBAAiB;IAAC,QAAQ,KAAGZ,CAAC,IAAE,IAAI,CAACuB,2BAA2B,CAACzB,CAAC,CAAC,EAAC,IAAI,CAAC0B,UAAU,GAAC1B,CAAC;IAAC,OAAM;MAACgB,OAAO,EAAC,CAAC,CAAC;MAACC,WAAW,EAACjB,CAAC,CAAC2B,SAAS,IAAE,CAAC,IAAE/B,CAAC,GAAC;IAAC,CAAC;EAAA;EAACgC,cAAcA,CAAChC,CAAC,EAAC;IAAC,MAAME,CAAC,GAACF,CAAC,CAACiC,WAAW,GAAG,CAAC,CAAC;IAAC,IAAG,IAAI,IAAE/B,CAAC,EAAC,OAAOA,CAAC;IAAC,MAAK;MAAC0B,cAAc,EAACxB,CAAC;MAAC8B,IAAI,EAAC5B,CAAC;MAAC6B,IAAI,EAAC5B,CAAC;MAAC6B,cAAc,EAAC1B;IAAC,CAAC,GAAC,IAAI,CAACQ,iBAAiB;IAAC,OAAOT,CAAC,CAACP,CAAC,EAAC;MAACmC,UAAU,EAAC/B,CAAC;MAACgC,UAAU,EAAC/B,CAAC;MAAC6B,cAAc,EAAC1B,CAAC;MAACc,eAAe,EAAC,IAAI,CAACA,eAAe;MAACI,cAAc,EAACxB,CAAC;MAACmC,WAAW,EAAC,CAAC;IAAC,CAAC,CAAC;EAAA;EAACC,mBAAmBA,CAAA,EAAE;IAAC,MAAK;MAACN,IAAI,EAAClC,CAAC;MAACmC,IAAI,EAACjC,CAAC;MAAC0B,cAAc,EAACxB,CAAC;MAACgC,cAAc,EAAC7B;IAAC,CAAC,GAAC,IAAI,CAACW,iBAAiB;IAAC,OAAM;MAACkB,cAAc,EAAC7B,CAAC;MAAC8B,UAAU,EAACrC,CAAC;MAACsC,UAAU,EAACpC,CAAC;MAAC0B,cAAc,EAACxB,CAAC;MAACqC,UAAU,EAACnC,CAAC,CAAC,IAAI,CAACkB,eAAe;IAAC,CAAC;EAAA;AAAC,CAAC;AAACxB,CAAC,CAAC,CAACE,CAAC,CAAC;EAACwC,IAAI,EAAC;IAACC,KAAK,EAAC,CAAC,CAAC;IAACC,IAAI,EAAC;EAAgB;AAAC,CAAC,CAAC,CAAC,EAACjC,CAAC,CAACkC,SAAS,EAAC,cAAc,EAAC,KAAK,CAAC,CAAC,EAAC7C,CAAC,CAAC,CAACE,CAAC,CAAC;EAACe,IAAI,EAACP,CAAC;EAACgC,IAAI,EAAC;IAACC,KAAK,EAAC,CAAC,CAAC;IAACC,IAAI,EAAC;EAAyB;AAAC,CAAC,CAAC,CAAC,EAACjC,CAAC,CAACkC,SAAS,EAAC,mBAAmB,EAAC,KAAK,CAAC,CAAC,EAAC7C,CAAC,CAAC,CAACE,CAAC,CAAC,CAAC,CAAC,EAACS,CAAC,CAACkC,SAAS,EAAC,qBAAqB,EAAC,KAAK,CAAC,CAAC,EAAClC,CAAC,GAACX,CAAC,CAAC,CAACI,CAAC,CAAC,wDAAwD,CAAC,CAAC,EAACO,CAAC,CAAC;AAAC,MAAMmC,CAAC,GAACnC,CAAC;AAAC,SAAOmC,CAAC,IAAIC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}