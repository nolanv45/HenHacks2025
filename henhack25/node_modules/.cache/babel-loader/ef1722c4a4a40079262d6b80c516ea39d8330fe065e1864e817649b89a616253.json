{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nasync function r(e) {\n  const r = [];\n  for (const o of e.allLayers) if (\"beforeSave\" in o && \"function\" == typeof o.beforeSave) {\n    const e = o.beforeSave();\n    e && r.push(e);\n  }\n  await Promise.allSettled(r);\n}\nconst o = new Set([\"layer:unsupported\", \"property:unsupported\", \"symbol:unsupported\", \"symbol-layer:unsupported\", \"url:unsupported\"]);\nfunction t(r, t, n) {\n  let s = (r.messages ?? []).filter(_ref => {\n    let {\n      type: e\n    } = _ref;\n    return \"error\" === e;\n  }).map(_ref2 => {\n    let {\n      name: r,\n      message: o,\n      details: t\n    } = _ref2;\n    return new e(r, o, t);\n  });\n  if (r.blockedRelativeUrls && (s = s.concat(r.blockedRelativeUrls.map(r => new e(\"url:unsupported\", `Relative url '${r}' is not supported`)))), n) {\n    const {\n      ignoreUnsupported: e,\n      supplementalUnsupportedErrors: r = [],\n      requiredPropertyChecksDisabled: t\n    } = n;\n    e && (s = s.filter(_ref3 => {\n      let {\n        name: e\n      } = _ref3;\n      return !(o.has(e) || r.includes(e));\n    })), t && (s = s.filter(e => \"web-document-write:property-required\" !== e.name));\n  }\n  if (s.length > 0) throw new e(t.errorName, \"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\", {\n    errors: s\n  });\n}\nexport { r as beforeSave, t as evaluateWriteErrors };","map":{"version":3,"names":["e","r","o","allLayers","beforeSave","push","Promise","allSettled","Set","t","n","s","messages","filter","_ref","type","map","_ref2","name","message","details","blockedRelativeUrls","concat","ignoreUnsupported","supplementalUnsupportedErrors","requiredPropertyChecksDisabled","_ref3","has","includes","length","errorName","errors","evaluateWriteErrors"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";async function r(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const o=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function t(r,t,n){let s=(r.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:r,message:o,details:t})=>new e(r,o,t)));if(r.blockedRelativeUrls&&(s=s.concat(r.blockedRelativeUrls.map((r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`))))),n){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:t}=n;e&&(s=s.filter((({name:e})=>!(o.has(e)||r.includes(e))))),t&&(s=s.filter((e=>\"web-document-write:property-required\"!==e.name)))}if(s.length>0)throw new e(t.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:s})}export{r as beforeSave,t as evaluateWriteErrors};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAC,MAAK,qBAAqB;AAAC,eAAeC,CAACA,CAACD,CAAC,EAAC;EAAC,MAAMC,CAAC,GAAC,EAAE;EAAC,KAAI,MAAMC,CAAC,IAAIF,CAAC,CAACG,SAAS,EAAC,IAAG,YAAY,IAAGD,CAAC,IAAE,UAAU,IAAE,OAAOA,CAAC,CAACE,UAAU,EAAC;IAAC,MAAMJ,CAAC,GAACE,CAAC,CAACE,UAAU,CAAC,CAAC;IAACJ,CAAC,IAAEC,CAAC,CAACI,IAAI,CAACL,CAAC,CAAC;EAAA;EAAC,MAAMM,OAAO,CAACC,UAAU,CAACN,CAAC,CAAC;AAAA;AAAC,MAAMC,CAAC,GAAC,IAAIM,GAAG,CAAC,CAAC,mBAAmB,EAAC,sBAAsB,EAAC,oBAAoB,EAAC,0BAA0B,EAAC,iBAAiB,CAAC,CAAC;AAAC,SAASC,CAACA,CAACR,CAAC,EAACQ,CAAC,EAACC,CAAC,EAAC;EAAC,IAAIC,CAAC,GAAC,CAACV,CAAC,CAACW,QAAQ,IAAE,EAAE,EAAEC,MAAM,CAAEC,IAAA;IAAA,IAAC;MAACC,IAAI,EAACf;IAAC,CAAC,GAAAc,IAAA;IAAA,OAAG,OAAO,KAAGd,CAAC;EAAA,CAAC,CAAC,CAACgB,GAAG,CAAEC,KAAA;IAAA,IAAC;MAACC,IAAI,EAACjB,CAAC;MAACkB,OAAO,EAACjB,CAAC;MAACkB,OAAO,EAACX;IAAC,CAAC,GAAAQ,KAAA;IAAA,OAAG,IAAIjB,CAAC,CAACC,CAAC,EAACC,CAAC,EAACO,CAAC,CAAC;EAAA,CAAC,CAAC;EAAC,IAAGR,CAAC,CAACoB,mBAAmB,KAAGV,CAAC,GAACA,CAAC,CAACW,MAAM,CAACrB,CAAC,CAACoB,mBAAmB,CAACL,GAAG,CAAEf,CAAC,IAAE,IAAID,CAAC,CAAC,iBAAiB,EAAC,iBAAiBC,CAAC,oBAAoB,CAAE,CAAC,CAAC,CAAC,EAACS,CAAC,EAAC;IAAC,MAAK;MAACa,iBAAiB,EAACvB,CAAC;MAACwB,6BAA6B,EAACvB,CAAC,GAAC,EAAE;MAACwB,8BAA8B,EAAChB;IAAC,CAAC,GAACC,CAAC;IAACV,CAAC,KAAGW,CAAC,GAACA,CAAC,CAACE,MAAM,CAAEa,KAAA;MAAA,IAAC;QAACR,IAAI,EAAClB;MAAC,CAAC,GAAA0B,KAAA;MAAA,OAAG,EAAExB,CAAC,CAACyB,GAAG,CAAC3B,CAAC,CAAC,IAAEC,CAAC,CAAC2B,QAAQ,CAAC5B,CAAC,CAAC,CAAC;IAAA,CAAC,CAAC,CAAC,EAACS,CAAC,KAAGE,CAAC,GAACA,CAAC,CAACE,MAAM,CAAEb,CAAC,IAAE,sCAAsC,KAAGA,CAAC,CAACkB,IAAK,CAAC,CAAC;EAAA;EAAC,IAAGP,CAAC,CAACkB,MAAM,GAAC,CAAC,EAAC,MAAM,IAAI7B,CAAC,CAACS,CAAC,CAACqB,SAAS,EAAC,0GAA0G,EAAC;IAACC,MAAM,EAACpB;EAAC,CAAC,CAAC;AAAA;AAAC,SAAOV,CAAC,IAAIG,UAAU,EAACK,CAAC,IAAIuB,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}