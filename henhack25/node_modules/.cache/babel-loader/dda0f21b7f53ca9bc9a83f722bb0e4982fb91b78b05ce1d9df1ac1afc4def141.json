{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t, a as e } from \"../../../../../../../chunks/tslib.es6.js\";\nimport { location as r, uniform as o, input as i } from \"../../GraphShaderModule.js\";\nimport { Vec2 as s, Vec3 as l, mod as n, Float as a, mix as p, texture2D as u, Mat3 as c, negate as d, Vec4 as m } from \"../../graph/glsl.js\";\nimport { FeatureFragmentInput as f, BaseHittestVertexInput as y } from \"./AFeatureShader.js\";\nimport { FillVertexInput as x, FillShader as v } from \"./FillShader.js\";\nimport { LocalTileOffset as b } from \"./LocalTileOffset.js\";\nimport { MosaicInfo as h } from \"./MosaicInfo.js\";\nclass w extends x {}\nt([r(5, m)], w.prototype, \"tlbr\", void 0), t([r(6, a)], w.prototype, \"inverseRasterizationScale\", void 0);\nclass g extends f {}\nfunction j(t) {\n  const e = new a(1),\n    r = new a(0);\n  return new c(e.divide(t.x), r.divide(t.y), 0, d(r.divide(t.x)), e.divide(t.y), 0, 0, 0, 1);\n}\nfunction O(t, e) {\n  const r = e.tlbr.xy,\n    o = e.tlbr.zw,\n    i = o.x.subtract(r.x),\n    n = r.y.subtract(o.y),\n    a = new s(i, n).multiply(e.inverseRasterizationScale),\n    p = a.multiply(t.view.requiredZoomFactor),\n    u = j(p),\n    c = t.localTileOffset.getPatternOffsetAtTileOrigin(a).divide(p),\n    d = new l(e.pos, 1);\n  return {\n    tileTextureCoord: u.multiply(d).xy.subtract(c),\n    tlbr: e.tlbr.divide(t.mosaicInfo.size.xyxy)\n  };\n}\nfunction S(t, e) {\n  const r = n(t.tileTextureCoord, new a(1)),\n    o = p(t.tlbr.xy, t.tlbr.zw, r),\n    i = u(e.texture, o);\n  return t.color.multiply(i);\n}\nclass T extends v {\n  constructor() {\n    super(...arguments), this.type = \"PatternFillShader\";\n  }\n  vertex(t, e) {\n    return {\n      ...super.vertex(t, e),\n      ...O(this, t)\n    };\n  }\n  fragment(t) {\n    const e = S(t, this.mosaicInfo);\n    return this.getFragmentOutput(e, t, new a(0));\n  }\n}\nt([o(h)], T.prototype, \"mosaicInfo\", void 0), t([o(b)], T.prototype, \"localTileOffset\", void 0), t([e(0, i(w)), e(1, i(y))], T.prototype, \"vertex\", null), t([e(0, i(g))], T.prototype, \"fragment\", null);\nexport { g as PatternFillFragmentInput, T as PatternFillShader, w as PatternFillVertexInput, S as getPatternFillFragmentColor, O as getPatternFillVertexData };","map":{"version":3,"names":["_","t","a","e","location","r","uniform","o","input","i","Vec2","s","Vec3","l","mod","n","Float","mix","p","texture2D","u","Mat3","c","negate","d","Vec4","m","FeatureFragmentInput","f","BaseHittestVertexInput","y","FillVertexInput","x","FillShader","v","LocalTileOffset","b","MosaicInfo","h","w","prototype","g","j","divide","O","tlbr","xy","zw","subtract","multiply","inverseRasterizationScale","view","requiredZoomFactor","localTileOffset","getPatternOffsetAtTileOrigin","pos","tileTextureCoord","mosaicInfo","size","xyxy","S","texture","color","T","constructor","arguments","type","vertex","fragment","getFragmentOutput","PatternFillFragmentInput","PatternFillShader","PatternFillVertexInput","getPatternFillFragmentColor","getPatternFillVertexData"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/PatternFillShader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import{location as r,uniform as o,input as i}from\"../../GraphShaderModule.js\";import{Vec2 as s,Vec3 as l,mod as n,Float as a,mix as p,texture2D as u,Mat3 as c,negate as d,Vec4 as m}from\"../../graph/glsl.js\";import{FeatureFragmentInput as f,BaseHittestVertexInput as y}from\"./AFeatureShader.js\";import{FillVertexInput as x,FillShader as v}from\"./FillShader.js\";import{LocalTileOffset as b}from\"./LocalTileOffset.js\";import{MosaicInfo as h}from\"./MosaicInfo.js\";class w extends x{}t([r(5,m)],w.prototype,\"tlbr\",void 0),t([r(6,a)],w.prototype,\"inverseRasterizationScale\",void 0);class g extends f{}function j(t){const e=new a(1),r=new a(0);return new c(e.divide(t.x),r.divide(t.y),0,d(r.divide(t.x)),e.divide(t.y),0,0,0,1)}function O(t,e){const r=e.tlbr.xy,o=e.tlbr.zw,i=o.x.subtract(r.x),n=r.y.subtract(o.y),a=new s(i,n).multiply(e.inverseRasterizationScale),p=a.multiply(t.view.requiredZoomFactor),u=j(p),c=t.localTileOffset.getPatternOffsetAtTileOrigin(a).divide(p),d=new l(e.pos,1);return{tileTextureCoord:u.multiply(d).xy.subtract(c),tlbr:e.tlbr.divide(t.mosaicInfo.size.xyxy)}}function S(t,e){const r=n(t.tileTextureCoord,new a(1)),o=p(t.tlbr.xy,t.tlbr.zw,r),i=u(e.texture,o);return t.color.multiply(i)}class T extends v{constructor(){super(...arguments),this.type=\"PatternFillShader\"}vertex(t,e){return{...super.vertex(t,e),...O(this,t)}}fragment(t){const e=S(t,this.mosaicInfo);return this.getFragmentOutput(e,t,new a(0))}}t([o(h)],T.prototype,\"mosaicInfo\",void 0),t([o(b)],T.prototype,\"localTileOffset\",void 0),t([e(0,i(w)),e(1,i(y))],T.prototype,\"vertex\",null),t([e(0,i(g))],T.prototype,\"fragment\",null);export{g as PatternFillFragmentInput,T as PatternFillShader,w as PatternFillVertexInput,S as getPatternFillFragmentColor,O as getPatternFillVertexData};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}