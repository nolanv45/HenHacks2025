{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../core/Evented.js\";\nimport { create as r } from \"../../../../../geometry/support/aaBoundingBox.js\";\nimport { getBoundsOptimizedGeometry as t } from \"../../../../../layers/graphics/featureConversionUtils.js\";\nimport { optimizedFeatureQueryEngineAdapter as a } from \"../../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";\nimport { QueryEngine as s } from \"../../../../../layers/graphics/data/QueryEngine.js\";\nimport { collectExpressionDependencies as o } from \"../../../../../support/arcadeOnDemand.js\";\nimport { AProcessorStrategy as n } from \"./AProcessorStrategy.js\";\nclass i extends n {\n  constructor(r, t, s, n, i) {\n    super(r, t, i), this.spatialReference = s, this.aggregateFields = n, this._arcadeDependencies = new Set(), this.events = new e(), this.featureAdapter = a;\n    for (const e of n) o(this._arcadeDependencies, e.computed);\n  }\n  get aggregateQueryEngine() {\n    return this._aggregateQueryEngine || (this._aggregateQueryEngine = new s({\n      featureStore: this,\n      fieldsIndex: this._metadata.fieldsIndex,\n      geometryType: this._metadata.geometryType,\n      objectIdField: this._metadata.objectIdField,\n      spatialReference: this.spatialReference\n    })), this._aggregateQueryEngine;\n  }\n  get isAggregate() {\n    return !0;\n  }\n  removeChunks(e) {}\n  hasArcadeDependency(e) {\n    return this._arcadeDependencies.has(e);\n  }\n  forEach(e) {\n    return this.forEachAggregateWorldSpace(e);\n  }\n  forEachInBounds(e, r) {}\n  forEachBounds(e, a) {\n    const s = r();\n    for (const r of e) {\n      const e = t(s, r.geometry, !1, !1);\n      e && a(e);\n    }\n  }\n}\nexport { i as AAggregateStrategy };","map":{"version":3,"names":["e","create","r","getBoundsOptimizedGeometry","t","optimizedFeatureQueryEngineAdapter","a","QueryEngine","s","collectExpressionDependencies","o","AProcessorStrategy","n","i","constructor","spatialReference","aggregateFields","_arcadeDependencies","Set","events","featureAdapter","computed","aggregateQueryEngine","_aggregateQueryEngine","featureStore","fieldsIndex","_metadata","geometryType","objectIdField","isAggregate","removeChunks","hasArcadeDependency","has","forEach","forEachAggregateWorldSpace","forEachInBounds","forEachBounds","geometry","AAggregateStrategy"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/processor/AAggregateStrategy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Evented.js\";import{create as r}from\"../../../../../geometry/support/aaBoundingBox.js\";import{getBoundsOptimizedGeometry as t}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{optimizedFeatureQueryEngineAdapter as a}from\"../../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";import{QueryEngine as s}from\"../../../../../layers/graphics/data/QueryEngine.js\";import{collectExpressionDependencies as o}from\"../../../../../support/arcadeOnDemand.js\";import{AProcessorStrategy as n}from\"./AProcessorStrategy.js\";class i extends n{constructor(r,t,s,n,i){super(r,t,i),this.spatialReference=s,this.aggregateFields=n,this._arcadeDependencies=new Set,this.events=new e,this.featureAdapter=a;for(const e of n)o(this._arcadeDependencies,e.computed)}get aggregateQueryEngine(){return this._aggregateQueryEngine||(this._aggregateQueryEngine=new s({featureStore:this,fieldsIndex:this._metadata.fieldsIndex,geometryType:this._metadata.geometryType,objectIdField:this._metadata.objectIdField,spatialReference:this.spatialReference})),this._aggregateQueryEngine}get isAggregate(){return!0}removeChunks(e){}hasArcadeDependency(e){return this._arcadeDependencies.has(e)}forEach(e){return this.forEachAggregateWorldSpace(e)}forEachInBounds(e,r){}forEachBounds(e,a){const s=r();for(const r of e){const e=t(s,r.geometry,!1,!1);e&&a(e)}}}export{i as AAggregateStrategy};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAC,MAAK,gCAAgC;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,kDAAkD;AAAC,SAAOC,0BAA0B,IAAIC,CAAC,QAAK,0DAA0D;AAAC,SAAOC,kCAAkC,IAAIC,CAAC,QAAK,2EAA2E;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,oDAAoD;AAAC,SAAOC,6BAA6B,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,yBAAyB;AAAC,MAAMC,CAAC,SAASD,CAAC;EAACE,WAAWA,CAACZ,CAAC,EAACE,CAAC,EAACI,CAAC,EAACI,CAAC,EAACC,CAAC,EAAC;IAAC,KAAK,CAACX,CAAC,EAACE,CAAC,EAACS,CAAC,CAAC,EAAC,IAAI,CAACE,gBAAgB,GAACP,CAAC,EAAC,IAAI,CAACQ,eAAe,GAACJ,CAAC,EAAC,IAAI,CAACK,mBAAmB,GAAC,IAAIC,GAAG,CAAD,CAAC,EAAC,IAAI,CAACC,MAAM,GAAC,IAAInB,CAAC,CAAD,CAAC,EAAC,IAAI,CAACoB,cAAc,GAACd,CAAC;IAAC,KAAI,MAAMN,CAAC,IAAIY,CAAC,EAACF,CAAC,CAAC,IAAI,CAACO,mBAAmB,EAACjB,CAAC,CAACqB,QAAQ,CAAC;EAAA;EAAC,IAAIC,oBAAoBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACC,qBAAqB,KAAG,IAAI,CAACA,qBAAqB,GAAC,IAAIf,CAAC,CAAC;MAACgB,YAAY,EAAC,IAAI;MAACC,WAAW,EAAC,IAAI,CAACC,SAAS,CAACD,WAAW;MAACE,YAAY,EAAC,IAAI,CAACD,SAAS,CAACC,YAAY;MAACC,aAAa,EAAC,IAAI,CAACF,SAAS,CAACE,aAAa;MAACb,gBAAgB,EAAC,IAAI,CAACA;IAAgB,CAAC,CAAC,CAAC,EAAC,IAAI,CAACQ,qBAAqB;EAAA;EAAC,IAAIM,WAAWA,CAAA,EAAE;IAAC,OAAM,CAAC,CAAC;EAAA;EAACC,YAAYA,CAAC9B,CAAC,EAAC,CAAC;EAAC+B,mBAAmBA,CAAC/B,CAAC,EAAC;IAAC,OAAO,IAAI,CAACiB,mBAAmB,CAACe,GAAG,CAAChC,CAAC,CAAC;EAAA;EAACiC,OAAOA,CAACjC,CAAC,EAAC;IAAC,OAAO,IAAI,CAACkC,0BAA0B,CAAClC,CAAC,CAAC;EAAA;EAACmC,eAAeA,CAACnC,CAAC,EAACE,CAAC,EAAC,CAAC;EAACkC,aAAaA,CAACpC,CAAC,EAACM,CAAC,EAAC;IAAC,MAAME,CAAC,GAACN,CAAC,CAAC,CAAC;IAAC,KAAI,MAAMA,CAAC,IAAIF,CAAC,EAAC;MAAC,MAAMA,CAAC,GAACI,CAAC,CAACI,CAAC,EAACN,CAAC,CAACmC,QAAQ,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;MAACrC,CAAC,IAAEM,CAAC,CAACN,CAAC,CAAC;IAAA;EAAC;AAAC;AAAC,SAAOa,CAAC,IAAIyB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}