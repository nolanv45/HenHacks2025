{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { BufferObject as e } from \"./BufferObject.js\";\nimport { TextureWrapMode as r, PixelType as t, SizedPixelFormat as o, TextureSamplingMode as n, Usage as i, DataType as s, PrimitiveType as a } from \"./enums.js\";\nimport { FramebufferObject as p } from \"./FramebufferObject.js\";\nimport { makePipelineState as c, writeDestinationPremultipliedAlpha as m } from \"./renderState.js\";\nimport { TextureDescriptor as l } from \"./TextureDescriptor.js\";\nimport { VertexArrayObject as f } from \"./VertexArrayObject.js\";\nimport { VertexElementDescriptor as u } from \"./VertexElementDescriptor.js\";\nimport { WebGLDriverTestModule as g } from \"./WebGLDriverTestModule.js\";\nclass b extends g {\n  constructor(e) {\n    if (super(), this._rctx = e, !e.gl) return;\n    if (!(e.capabilities.colorBufferFloat?.textureFloat && e.capabilities.colorBufferFloat?.floatBlend)) return;\n    const r = \"\\n    precision highp float;\\n    attribute vec2 a_pos;\\n\\n    void main() {\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",\n      t = \"\\n     precision highp float;\\n\\n     void main() {\\n      gl_FragColor = vec4(0.5, 0.5, 0.5, 0.5);\\n     }\\n    \";\n    this._program = e.programCache.acquire(r, t, new Map([[\"a_pos\", 0]]));\n  }\n  _test(g) {\n    const b = this._rctx,\n      d = new l(1);\n    d.wrapMode = r.CLAMP_TO_EDGE, d.dataType = t.FLOAT, d.internalFormat = o.RGBA32F, d.samplingMode = n.NEAREST;\n    const _ = new p(b, d),\n      w = e.createVertex(b, i.STATIC_DRAW, new Uint16Array([0, 0, 1, 0, 0, 1, 1, 1])),\n      A = new f(b, new Map([[\"a_pos\", 0]]), new Map([[\"geometry\", [new u(\"a_pos\", 2, s.UNSIGNED_SHORT, 0, 4)]]]), new Map([[\"geometry\", w]]));\n    b.gl.getError(), b.useProgram(g);\n    const T = b.getBoundFramebufferObject(),\n      {\n        x: j,\n        y: x,\n        width: E,\n        height: h\n      } = b.getViewport();\n    b.bindFramebuffer(_), b.setViewport(0, 0, 1, 1), b.bindVAO(A), b.drawArrays(a.TRIANGLE_STRIP, 0, 4);\n    const F = c({\n      blending: m\n    });\n    b.setPipelineState(F), b.drawArrays(a.TRIANGLE_STRIP, 0, 4);\n    const O = b.gl.getError();\n    return b.setViewport(j, x, E, h), b.bindFramebuffer(T), A.dispose(), _.dispose(), O !== b.gl.INVALID_OPERATION || (console.warn(\"Device claims support for WebGL extension EXT_float_blend but does not support it. Using fall back.\"), !1);\n  }\n}\nexport { b as FloatBufferBlend };","map":{"version":3,"names":["BufferObject","e","TextureWrapMode","r","PixelType","t","SizedPixelFormat","o","TextureSamplingMode","n","Usage","i","DataType","s","PrimitiveType","a","FramebufferObject","p","makePipelineState","c","writeDestinationPremultipliedAlpha","m","TextureDescriptor","l","VertexArrayObject","f","VertexElementDescriptor","u","WebGLDriverTestModule","g","b","constructor","_rctx","gl","capabilities","colorBufferFloat","textureFloat","floatBlend","_program","programCache","acquire","Map","_test","d","wrapMode","CLAMP_TO_EDGE","dataType","FLOAT","internalFormat","RGBA32F","samplingMode","NEAREST","_","w","createVertex","STATIC_DRAW","Uint16Array","A","UNSIGNED_SHORT","getError","useProgram","T","getBoundFramebufferObject","x","j","y","width","E","height","h","getViewport","bindFramebuffer","setViewport","bindVAO","drawArrays","TRIANGLE_STRIP","F","blending","setPipelineState","O","dispose","INVALID_OPERATION","console","warn","FloatBufferBlend"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/webgl/testFloatBufferBlend.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"./BufferObject.js\";import{TextureWrapMode as r,PixelType as t,SizedPixelFormat as o,TextureSamplingMode as n,Usage as i,DataType as s,PrimitiveType as a}from\"./enums.js\";import{FramebufferObject as p}from\"./FramebufferObject.js\";import{makePipelineState as c,writeDestinationPremultipliedAlpha as m}from\"./renderState.js\";import{TextureDescriptor as l}from\"./TextureDescriptor.js\";import{VertexArrayObject as f}from\"./VertexArrayObject.js\";import{VertexElementDescriptor as u}from\"./VertexElementDescriptor.js\";import{WebGLDriverTestModule as g}from\"./WebGLDriverTestModule.js\";class b extends g{constructor(e){if(super(),this._rctx=e,!e.gl)return;if(!(e.capabilities.colorBufferFloat?.textureFloat&&e.capabilities.colorBufferFloat?.floatBlend))return;const r=\"\\n    precision highp float;\\n    attribute vec2 a_pos;\\n\\n    void main() {\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",t=\"\\n     precision highp float;\\n\\n     void main() {\\n      gl_FragColor = vec4(0.5, 0.5, 0.5, 0.5);\\n     }\\n    \";this._program=e.programCache.acquire(r,t,new Map([[\"a_pos\",0]]))}_test(g){const b=this._rctx,d=new l(1);d.wrapMode=r.CLAMP_TO_EDGE,d.dataType=t.FLOAT,d.internalFormat=o.RGBA32F,d.samplingMode=n.NEAREST;const _=new p(b,d),w=e.createVertex(b,i.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),A=new f(b,new Map([[\"a_pos\",0]]),new Map([[\"geometry\",[new u(\"a_pos\",2,s.UNSIGNED_SHORT,0,4)]]]),new Map([[\"geometry\",w]]));b.gl.getError(),b.useProgram(g);const T=b.getBoundFramebufferObject(),{x:j,y:x,width:E,height:h}=b.getViewport();b.bindFramebuffer(_),b.setViewport(0,0,1,1),b.bindVAO(A),b.drawArrays(a.TRIANGLE_STRIP,0,4);const F=c({blending:m});b.setPipelineState(F),b.drawArrays(a.TRIANGLE_STRIP,0,4);const O=b.gl.getError();return b.setViewport(j,x,E,h),b.bindFramebuffer(T),A.dispose(),_.dispose(),O!==b.gl.INVALID_OPERATION||(console.warn(\"Device claims support for WebGL extension EXT_float_blend but does not support it. Using fall back.\"),!1)}}export{b as FloatBufferBlend};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}