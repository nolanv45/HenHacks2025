{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport { property as a } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { reader as s } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as e } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { collectField as t, collectArcadeFieldNames as o } from \"../../layers/support/fieldUtils.js\";\nimport l from \"../visualVariables/ColorVariable.js\";\nimport u from \"../visualVariables/OpacityVariable.js\";\nimport p from \"../visualVariables/RotationVariable.js\";\nimport V from \"../visualVariables/SizeVariable.js\";\nimport c from \"../visualVariables/VisualVariable.js\";\nimport n from \"../visualVariables/VisualVariableFactory.js\";\nimport { matchRandomRotationExpression as b } from \"../../support/arcadeExpressionUtils.js\";\nconst m = {\n    base: c,\n    key: \"type\",\n    typeMap: {\n      opacity: u,\n      color: l,\n      rotation: p,\n      size: V\n    }\n  },\n  v = l => {\n    let u = class extends l {\n      constructor() {\n        super(...arguments), this._vvFactory = new n();\n      }\n      set visualVariables(r) {\n        this._vvFactory.visualVariables = r, this._set(\"visualVariables\", this._vvFactory.visualVariables);\n      }\n      readVisualVariables(r, a, s) {\n        return this._vvFactory.readVariables(r, a, s);\n      }\n      writeVisualVariables(r, a, s, i) {\n        a[s] = this._vvFactory.writeVariables(r, i);\n      }\n      get arcadeRequiredForVisualVariables() {\n        return this.visualVariables?.some(_ref => {\n          let {\n            arcadeRequired: r\n          } = _ref;\n          return r;\n        }) ?? !1;\n      }\n      hasVisualVariables(r, a) {\n        return r ? this.getVisualVariablesForType(r, a).length > 0 : this.getVisualVariablesForType(\"size\", a).length > 0 || this.getVisualVariablesForType(\"color\", a).length > 0 || this.getVisualVariablesForType(\"opacity\", a).length > 0 || this.getVisualVariablesForType(\"rotation\", a).length > 0;\n      }\n      getVisualVariablesForType(r, a) {\n        return this.visualVariables?.filter(s => s.type === r && (\"string\" == typeof a ? s.target === a : !1 !== a || !s.target)) ?? [];\n      }\n      async collectVVRequiredFields(r, a) {\n        let s = [];\n        this.visualVariables && (s = s.concat(this.visualVariables));\n        for (const i of s) i && (i.field && t(r, a, i.field), i.normalizationField && t(r, a, i.normalizationField), i.valueExpression && (y(i.valueExpression, r, a) || (await o(r, a, i.valueExpression))));\n      }\n    };\n    return r([a({\n      types: [m],\n      value: null,\n      json: {\n        write: !0\n      }\n    })], u.prototype, \"visualVariables\", null), r([s(\"visualVariables\", [\"visualVariables\", \"rotationType\", \"rotationExpression\"])], u.prototype, \"readVisualVariables\", null), r([e(\"visualVariables\")], u.prototype, \"writeVisualVariables\", null), u = r([i(\"esri.renderers.mixins.VisualVariablesMixin\")], u), u;\n  };\nfunction y(r, a, s) {\n  const i = b(r);\n  return null != i && (t(a, s, i), !0);\n}\nexport { v as VisualVariablesMixin };","map":{"version":3,"names":["_","r","property","a","reader","s","subclass","i","writer","e","collectField","t","collectArcadeFieldNames","o","l","u","p","V","c","n","matchRandomRotationExpression","b","m","base","key","typeMap","opacity","color","rotation","size","v","constructor","arguments","_vvFactory","visualVariables","_set","readVisualVariables","readVariables","writeVisualVariables","writeVariables","arcadeRequiredForVisualVariables","some","_ref","arcadeRequired","hasVisualVariables","getVisualVariablesForType","length","filter","type","target","collectVVRequiredFields","concat","field","normalizationField","valueExpression","y","types","value","json","write","prototype","VisualVariablesMixin"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/renderers/mixins/VisualVariablesMixin.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as e}from\"../../core/accessorSupport/decorators/writer.js\";import{collectField as t,collectArcadeFieldNames as o}from\"../../layers/support/fieldUtils.js\";import l from\"../visualVariables/ColorVariable.js\";import u from\"../visualVariables/OpacityVariable.js\";import p from\"../visualVariables/RotationVariable.js\";import V from\"../visualVariables/SizeVariable.js\";import c from\"../visualVariables/VisualVariable.js\";import n from\"../visualVariables/VisualVariableFactory.js\";import{matchRandomRotationExpression as b}from\"../../support/arcadeExpressionUtils.js\";const m={base:c,key:\"type\",typeMap:{opacity:u,color:l,rotation:p,size:V}},v=l=>{let u=class extends l{constructor(){super(...arguments),this._vvFactory=new n}set visualVariables(r){this._vvFactory.visualVariables=r,this._set(\"visualVariables\",this._vvFactory.visualVariables)}readVisualVariables(r,a,s){return this._vvFactory.readVariables(r,a,s)}writeVisualVariables(r,a,s,i){a[s]=this._vvFactory.writeVariables(r,i)}get arcadeRequiredForVisualVariables(){return this.visualVariables?.some((({arcadeRequired:r})=>r))??!1}hasVisualVariables(r,a){return r?this.getVisualVariablesForType(r,a).length>0:this.getVisualVariablesForType(\"size\",a).length>0||this.getVisualVariablesForType(\"color\",a).length>0||this.getVisualVariablesForType(\"opacity\",a).length>0||this.getVisualVariablesForType(\"rotation\",a).length>0}getVisualVariablesForType(r,a){return this.visualVariables?.filter((s=>s.type===r&&(\"string\"==typeof a?s.target===a:!1!==a||!s.target)))??[]}async collectVVRequiredFields(r,a){let s=[];this.visualVariables&&(s=s.concat(this.visualVariables));for(const i of s)i&&(i.field&&t(r,a,i.field),i.normalizationField&&t(r,a,i.normalizationField),i.valueExpression&&(y(i.valueExpression,r,a)||await o(r,a,i.valueExpression)))}};return r([a({types:[m],value:null,json:{write:!0}})],u.prototype,\"visualVariables\",null),r([s(\"visualVariables\",[\"visualVariables\",\"rotationType\",\"rotationExpression\"])],u.prototype,\"readVisualVariables\",null),r([e(\"visualVariables\")],u.prototype,\"writeVisualVariables\",null),u=r([i(\"esri.renderers.mixins.VisualVariablesMixin\")],u),u};function y(r,a,s){const i=b(r);return null!=i&&(t(a,s,i),!0)}export{v as VisualVariablesMixin};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}