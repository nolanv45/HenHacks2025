{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../request.js\";\nimport r from \"../core/Error.js\";\nimport s from \"../core/JSONSupport.js\";\nimport i from \"../core/Loadable.js\";\nimport { removeTrailingSlash as n, Url as o } from \"../core/urlUtils.js\";\nimport { property as a } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { reader as u } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as l } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as c } from \"../core/accessorSupport/decorators/writer.js\";\nimport { onApplyEditsEvent as d, emitUpdateMomentEvent as m } from \"../layers/mixins/EditBusLayer.js\";\nimport { parseUrl as f } from \"../rest/utils.js\";\nimport g from \"./support/EditMomentStack.js\";\nimport { versionCollection as p, versionCollectionCount as h, defaultVersionNameLookup as V, currentSessionId as v } from \"./support/versionManagementUtils.js\";\nimport { createVersionAdapters as y } from \"./versionAdapters/utils.js\";\nlet w = class extends s.JSONSupportMixin(i) {\n  constructor(e) {\n    super(e), this.url = null, this.sourceJSON = null, this.name = null, this.defaultVersionIdentifier = null, this.capabilities = null, this._isDefault = e => !e || e === this.defaultVersionIdentifier.name, this._dateEquals = (e, t) => !e && !t || !(!e || !t) && e.toISOString() === t.toISOString(), this._applyEditsHandler = e => {\n      const {\n        serviceUrl: t,\n        gdbVersion: r,\n        result: s\n      } = e;\n      t === this._featureServiceUrl && s.then(e => {\n        const t = e.historicMoment;\n        t && this._addMomentToVersionItem(r, t);\n      });\n    };\n  }\n  initialize() {\n    this.url = n(this.url), this._featureServiceUrl = this.url.replace(/\\/VersionManagementServer/i, \"/FeatureServer\"), p.has(this.url) || p.set(this.url, new Map());\n    const e = (h.get(this.url) ?? 0) + 1;\n    h.set(this.url, e), this.when().then(() => this.addHandles(d(this._applyEditsHandler)), () => {});\n  }\n  destroy() {\n    const e = (h.get(this.url) ?? 1) - 1;\n    h.set(this.url, e), 0 === e && p.delete(this.url), V.delete(this._featureServiceUrl);\n  }\n  read(e, t) {\n    this.sourceJSON = e, super.read(e, t);\n  }\n  readDefaultVersionIdentifier(e, t) {\n    return {\n      name: t.defaultVersionName,\n      guid: t.defaultVersionGuid\n    };\n  }\n  writeDefaultVersionIdentifier(e, t) {\n    t.defaultVersionName = e.name, t.defaultVersionGuid = e.guid;\n  }\n  load(e) {\n    return this.addResolvingPromise(this._fetchService(this.url, e)), Promise.resolve(this);\n  }\n  async createVersion(e) {\n    const [{\n        createVersion: t\n      }, {\n        default: r\n      }] = await Promise.all([import(\"../rest/versionManagement/createVersion.js\"), import(\"../rest/versionManagement/support/CreateVersionParameters.js\")]),\n      s = r.from(e);\n    return t(this.url, s);\n  }\n  async deleteVersion(e) {\n    const [{\n      deleteVersion: t\n    }, {\n      default: r\n    }] = await Promise.all([import(\"../rest/versionManagement/deleteVersion.js\"), import(\"../rest/versionManagement/support/DeleteVersionParameters.js\")]);\n    let s;\n    e.guid && p.get(this.url)?.has(e.guid) && (s = v ?? void 0);\n    const i = new r({\n      versionName: e.name,\n      sessionId: s\n    });\n    return t(this.url, i);\n  }\n  async getVersionInfoExtended(e) {\n    const {\n      getVersion: t\n    } = await import(\"../rest/versionManagement/getVersion.js\");\n    return t(this.url, e.guid);\n  }\n  async getVersionInfos() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const [{\n        getVersionInfos: t\n      }, {\n        default: r\n      }] = await Promise.all([import(\"../rest/versionManagement/getVersionInfos.js\"), import(\"../rest/versionManagement/support/GetVersionInfosParameters.js\")]),\n      s = r.from(e);\n    return t(this.url, s);\n  }\n  async reconcile(e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const [{\n        reconcile: r\n      }, {\n        default: s\n      }] = await Promise.all([import(\"../rest/versionManagement/gdbVersion/reconcile.js\"), import(\"../rest/versionManagement/gdbVersion/support/ReconcileParameters.js\")]),\n      i = s.from(t);\n    return i.sessionId = v, r(this.url, e.guid, i);\n  }\n  async post(e) {\n    const [{\n        post: t\n      }, {\n        default: r\n      }] = await Promise.all([import(\"../rest/versionManagement/gdbVersion/post.js\"), import(\"../rest/versionManagement/gdbVersion/support/PostParameters.js\")]),\n      s = r.from({\n        sessionId: v\n      });\n    return t(this.url, e.guid, s);\n  }\n  async alterVersion(e, t) {\n    const [{\n        alterVersion: r\n      }, {\n        default: s\n      }] = await Promise.all([import(\"../rest/versionManagement/gdbVersion/alterVersion.js\"), import(\"../rest/versionManagement/gdbVersion/support/AlterVersionParameters.js\")]),\n      i = s.from(t);\n    return r(this.url, e.guid, i);\n  }\n  async startReading(e) {\n    return (await this.startReadingWithResult(e)).success;\n  }\n  async startReadingWithResult(e) {\n    const {\n        startReading: t\n      } = await import(\"../rest/versionManagement/gdbVersion/startReading.js\"),\n      r = await t(this.url, e.guid, v);\n    if (r.success) {\n      const t = await this.getVersionInfoExtended(e),\n        r = new Date(t.modifiedDate),\n        s = {\n          name: t.versionIdentifier.name,\n          moment: r,\n          lockType: \"read\"\n        };\n      this._addOrUpdateItem(e.guid, s), m(this._featureServiceUrl, null, e.name, r);\n    }\n    return r;\n  }\n  async stopReading(e) {\n    return (await this.stopReadingWithResult(e)).success;\n  }\n  async stopReadingWithResult(e) {\n    const {\n        stopReading: t\n      } = await import(\"../rest/versionManagement/gdbVersion/stopReading.js\"),\n      r = await t(this.url, e.guid, v);\n    return r.success && (p.get(this.url)?.delete(e.guid), m(this._featureServiceUrl, null, e.name, null)), r;\n  }\n  async startEditing(e) {\n    return (await this.startEditingWithResult(e)).success;\n  }\n  async startEditingWithResult(e) {\n    const {\n        startEditing: t\n      } = await import(\"../rest/versionManagement/gdbVersion/startEditing.js\"),\n      r = await t(this.url, e.guid, v);\n    if (r.success) {\n      const t = await this.getVersionInfoExtended(e),\n        r = new Date(t.modifiedDate),\n        s = new g(r),\n        i = {\n          name: e.name,\n          moment: r,\n          lockType: \"edit\",\n          stack: s\n        };\n      this._addOrUpdateItem(e.guid, i), m(this._featureServiceUrl, null, e.name, r);\n    }\n    return r;\n  }\n  async stopEditing(e, t) {\n    return (await this.stopEditingWithResult(e, t)).success;\n  }\n  async stopEditingWithResult(e, t) {\n    if (t) {\n      const t = p.get(this.url)?.get(e.guid);\n      if (t?.stack?.canRedo()) {\n        const [{\n            deleteForwardEdits: r\n          }, {\n            default: s\n          }] = await Promise.all([import(\"../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"), import(\"../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),\n          i = await r(this.url, e.guid, new s({\n            sessionId: v,\n            moment: t.moment\n          }));\n        if (!i.success) return i;\n      }\n    }\n    const {\n        stopEditing: r\n      } = await import(\"../rest/versionManagement/gdbVersion/stopEditing.js\"),\n      s = await r(this.url, e.guid, v, t);\n    if (s.success) {\n      const t = await this.getVersionInfoExtended(e),\n        r = new Date(t.modifiedDate);\n      this._addOrUpdateItem(e.guid, {\n        name: e.name,\n        moment: r,\n        lockType: \"read\",\n        editMomentStack: void 0\n      }), m(this._featureServiceUrl, null, e.name, r);\n    }\n    return s;\n  }\n  getLockType(e) {\n    const t = p.get(this.url)?.get(e.guid)?.lockType;\n    return t ?? \"none\";\n  }\n  async changeVersion(e, t, s) {\n    if (s && \"name\" in s && !(await this.getVersionInfoExtended(s))) throw new r(\"version-management-service:invalid-version\", \"version does not exist\");\n    if (\"networkServiceUrl\" in e) {\n      if (this._featureServiceUrl.toLowerCase() === e.featureServiceUrl.toLowerCase()) return this._changeVersionInternal(e, t, s);\n    } else {\n      let r;\n      \"layers\" in e ? (r = e.allTables.concat(e.allLayers), e.utilityNetworks && e.utilityNetworks.forEach(e => {\n        this._featureServiceUrl.toLowerCase() === e.featureServiceUrl.toLowerCase() && this._changeVersionInternal(e, t, s);\n      })) : r = e;\n      for (const e of r) if (\"feature\" === e.type || \"subtype-group\" === e.type) {\n        const r = /^(.*\\/FeatureServer)\\/\\d+$/,\n          i = e.url.replace(r, \"$1\");\n        if (this._featureServiceUrl.toLowerCase() === i.toLowerCase() && !this._changeVersionInternal(e, t, s)) return !1;\n      } else if (\"group\" === e.type) {\n        const r = e.allTables.concat(e.allLayers);\n        for (const e of r) if (\"feature\" === e.type || \"subtype-group\" === e.type) {\n          const r = /^(.*\\/FeatureServer)\\/\\d+$/,\n            i = e.url.replace(r, \"$1\");\n          if (this._featureServiceUrl.toLowerCase() === i.toLowerCase() && !this._changeVersionInternal(e, t, s)) return !1;\n        }\n      }\n    }\n    return !0;\n  }\n  async changeVersionWithResult(e, t, r) {\n    let s;\n    if (\"layers\" in e) {\n      const t = y(e.allTables.concat(e.allLayers).filter(e => \"group\" !== e.type).toArray());\n      e.utilityNetworks && e.utilityNetworks.forEach(e => {\n        const r = y([e]);\n        t.push(...r);\n      }), s = t;\n    } else s = e;\n    if (r && \"name\" in r) {\n      if (!(await this.getVersionInfoExtended(r))) {\n        const e = new Map();\n        for (const t of s) e.set(t, {\n          success: !1\n        });\n        return e;\n      }\n    }\n    if (t && \"name\" in t) {\n      if (\"none\" !== this.getLockType(t)) {\n        const e = new Map();\n        for (const t of s) e.set(t, {\n          success: !1\n        });\n        return e;\n      }\n    }\n    const i = new Map();\n    for (const n of s) if (n) if (n.featureServiceUrl.toLowerCase() === this._featureServiceUrl.toLowerCase()) {\n      const e = this._changeVersionInternalWithResult(n, t, r);\n      i.set(n, e);\n    } else i.set(n, {\n      success: !1\n    });\n    return i;\n  }\n  async getVersionIdentifierFromName(e) {\n    try {\n      const t = await this.getVersionInfos({\n        includeHidden: !0\n      });\n      return t.find(t => t.versionIdentifier.name.toUpperCase() === e.toUpperCase())?.versionIdentifier || null;\n    } catch {\n      return null;\n    }\n  }\n  async getVersionIdentifierFromGuid(e) {\n    const {\n      getVersion: t\n    } = await import(\"../rest/versionManagement/getVersion.js\");\n    try {\n      return (await t(this.url, e)).versionIdentifier;\n    } catch {\n      return null;\n    }\n  }\n  canUndo(e) {\n    const t = p.get(this.url)?.get(e.guid);\n    return !!t?.stack?.canUndo();\n  }\n  canRedo(e) {\n    const t = p.get(this.url)?.get(e.guid);\n    return !!t?.stack?.canRedo();\n  }\n  undo(e) {\n    const t = p.get(this.url)?.get(e.guid),\n      r = t?.stack?.undo() || void 0;\n    if (t && r) {\n      const r = t.stack.peek();\n      m(this._featureServiceUrl, null, e.name, r), p.get(this.url)?.set(e.guid, {\n        ...t,\n        moment: r\n      });\n    }\n  }\n  redo(e) {\n    const t = p.get(this.url)?.get(e.guid),\n      r = t?.stack?.redo() || void 0;\n    t && r && (m(this._featureServiceUrl, null, e.name, r), p.get(this.url)?.set(e.guid, {\n      ...t,\n      moment: r\n    }));\n  }\n  _setUpData(e, t) {\n    let s = null,\n      i = null,\n      n = null,\n      o = null;\n    const a = e => {\n      const t = p?.get(this.url)?.get(e.guid);\n      n = e.name, o = t?.moment ?? null;\n    };\n    if (e && \"name\" in e) {\n      if (\"none\" !== this.getLockType(e)) throw new r(\"version-management-service:version-locked\", \"version is locked\");\n      s = e.name, i = null, t && \"name\" in t ? a(t) : (n = this.defaultVersionIdentifier.name, o = t);\n    } else s = this.defaultVersionIdentifier.name, i = e, t && \"name\" in t ? a(t) : (n = this.defaultVersionIdentifier.name, o = t);\n    return {\n      fromVersionName: s,\n      fromMoment: i,\n      toVersionName: n,\n      toMoment: o\n    };\n  }\n  _changeVersionInternal(e, t, r) {\n    try {\n      const {\n        fromVersionName: s,\n        fromMoment: i,\n        toVersionName: n,\n        toMoment: o\n      } = this._setUpData(t, r);\n      (this._isDefault(s) && this._isDefault(e.gdbVersion) && this._dateEquals(e.historicMoment, i) || s === e.gdbVersion && this._dateEquals(e.historicMoment, i)) && (e.gdbVersion = n, e.historicMoment = o);\n    } catch (s) {\n      return !1;\n    }\n    return !0;\n  }\n  _changeVersionInternalWithResult(e, t, r) {\n    try {\n      const {\n        fromVersionName: s,\n        fromMoment: i,\n        toVersionName: n,\n        toMoment: o\n      } = this._setUpData(t, r);\n      return this._isDefault(s) && this._isDefault(e.gdbVersion) && this._dateEquals(e.historicMoment, i) || s === e.gdbVersion && this._dateEquals(e.historicMoment, i) ? (e.gdbVersion = n, e.historicMoment = o, {\n        success: !0\n      }) : {\n        success: !1\n      };\n    } catch (s) {\n      return {\n        success: !1\n      };\n    }\n  }\n  _addMomentToVersionItem(e, t) {\n    const r = p.get(this.url);\n    if (r) for (const [s, i] of r) {\n      i.name === e && this._addToStack(s, t);\n    }\n  }\n  _addToStack(e, t) {\n    const r = p.get(this.url),\n      s = r?.get(e);\n    return !!s?.stack && (S(s.stack.peek(), t) && s.stack.push(t), r.set(e, {\n      ...s,\n      moment: t\n    }), !0);\n  }\n  _addOrUpdateItem(e, t) {\n    const r = p.get(this.url),\n      s = r?.get(e);\n    return s ? (r.set(e, {\n      ...s,\n      ...t\n    }), !0) : !(!t.name || !t.lockType) && (r?.set(e, {\n      ...t,\n      lockType: t.lockType\n    }), !0);\n  }\n  async _fetchService(e, r) {\n    if (this.sourceJSON) {\n      this.read(this.sourceJSON, {\n        origin: \"service\",\n        url: f(e)\n      });\n      const t = new o(this.url).host;\n      return void V.set(t, this.defaultVersionIdentifier.name);\n    }\n    const s = await t(e, {\n      responseType: \"json\",\n      query: {\n        f: \"json\"\n      },\n      ...r\n    });\n    this.read(s.data);\n  }\n};\nfunction S(e, t) {\n  if (e) {\n    return e.getTime() < t.getTime();\n  }\n  return !0;\n}\ne([a()], w.prototype, \"url\", void 0), e([a()], w.prototype, \"sourceJSON\", void 0), e([a({\n  type: String,\n  json: {\n    write: !0\n  }\n})], w.prototype, \"name\", void 0), e([a({\n  json: {\n    write: {\n      target: {\n        defaultVersionName: {\n          type: String\n        },\n        defaultVersionGuid: {\n          type: String\n        }\n      }\n    },\n    read: {\n      source: [\"defaultVersionName\", \"defaultVersionGuid\"]\n    }\n  }\n})], w.prototype, \"defaultVersionIdentifier\", void 0), e([u(\"defaultVersionIdentifier\", [\"defaultVersionName\", \"defaultVersionGuid\"])], w.prototype, \"readDefaultVersionIdentifier\", null), e([c(\"defaultVersionIdentifier\", {\n  defaultVersionName: {\n    type: String\n  },\n  defaultVersionGuid: {\n    type: String\n  }\n})], w.prototype, \"writeDefaultVersionIdentifier\", null), e([a({\n  json: {\n    write: !0\n  }\n})], w.prototype, \"capabilities\", void 0), w = e([l(\"esri.versionManagement.VersionManagementService\")], w);\nconst I = w;\nexport { I as default };","map":{"version":3,"names":["_","e","t","r","s","i","removeTrailingSlash","n","Url","o","property","a","reader","u","subclass","l","writer","c","onApplyEditsEvent","d","emitUpdateMomentEvent","m","parseUrl","f","g","versionCollection","p","versionCollectionCount","h","defaultVersionNameLookup","V","currentSessionId","v","createVersionAdapters","y","w","JSONSupportMixin","constructor","url","sourceJSON","name","defaultVersionIdentifier","capabilities","_isDefault","_dateEquals","toISOString","_applyEditsHandler","serviceUrl","gdbVersion","result","_featureServiceUrl","then","historicMoment","_addMomentToVersionItem","initialize","replace","has","set","Map","get","when","addHandles","destroy","delete","read","readDefaultVersionIdentifier","defaultVersionName","guid","defaultVersionGuid","writeDefaultVersionIdentifier","load","addResolvingPromise","_fetchService","Promise","resolve","createVersion","default","all","from","deleteVersion","versionName","sessionId","getVersionInfoExtended","getVersion","getVersionInfos","arguments","length","undefined","reconcile","post","alterVersion","startReading","startReadingWithResult","success","Date","modifiedDate","versionIdentifier","moment","lockType","_addOrUpdateItem","stopReading","stopReadingWithResult","startEditing","startEditingWithResult","stack","stopEditing","stopEditingWithResult","canRedo","deleteForwardEdits","editMomentStack","getLockType","changeVersion","toLowerCase","featureServiceUrl","_changeVersionInternal","allTables","concat","allLayers","utilityNetworks","forEach","type","changeVersionWithResult","filter","toArray","push","_changeVersionInternalWithResult","getVersionIdentifierFromName","includeHidden","find","toUpperCase","getVersionIdentifierFromGuid","canUndo","undo","peek","redo","_setUpData","fromVersionName","fromMoment","toVersionName","toMoment","_addToStack","S","origin","host","responseType","query","data","getTime","prototype","String","json","write","target","source","I"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/versionManagement/VersionManagementService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../request.js\";import r from\"../core/Error.js\";import s from\"../core/JSONSupport.js\";import i from\"../core/Loadable.js\";import{removeTrailingSlash as n,Url as o}from\"../core/urlUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../core/accessorSupport/decorators/writer.js\";import{onApplyEditsEvent as d,emitUpdateMomentEvent as m}from\"../layers/mixins/EditBusLayer.js\";import{parseUrl as f}from\"../rest/utils.js\";import g from\"./support/EditMomentStack.js\";import{versionCollection as p,versionCollectionCount as h,defaultVersionNameLookup as V,currentSessionId as v}from\"./support/versionManagementUtils.js\";import{createVersionAdapters as y}from\"./versionAdapters/utils.js\";let w=class extends(s.JSONSupportMixin(i)){constructor(e){super(e),this.url=null,this.sourceJSON=null,this.name=null,this.defaultVersionIdentifier=null,this.capabilities=null,this._isDefault=e=>!e||e===this.defaultVersionIdentifier.name,this._dateEquals=(e,t)=>!e&&!t||!(!e||!t)&&e.toISOString()===t.toISOString(),this._applyEditsHandler=e=>{const{serviceUrl:t,gdbVersion:r,result:s}=e;t===this._featureServiceUrl&&s.then((e=>{const t=e.historicMoment;t&&this._addMomentToVersionItem(r,t)}))}}initialize(){this.url=n(this.url),this._featureServiceUrl=this.url.replace(/\\/VersionManagementServer/i,\"/FeatureServer\"),p.has(this.url)||p.set(this.url,new Map);const e=(h.get(this.url)??0)+1;h.set(this.url,e),this.when().then((()=>this.addHandles(d(this._applyEditsHandler))),(()=>{}))}destroy(){const e=(h.get(this.url)??1)-1;h.set(this.url,e),0===e&&p.delete(this.url),V.delete(this._featureServiceUrl)}read(e,t){this.sourceJSON=e,super.read(e,t)}readDefaultVersionIdentifier(e,t){return{name:t.defaultVersionName,guid:t.defaultVersionGuid}}writeDefaultVersionIdentifier(e,t){t.defaultVersionName=e.name,t.defaultVersionGuid=e.guid}load(e){return this.addResolvingPromise(this._fetchService(this.url,e)),Promise.resolve(this)}async createVersion(e){const[{createVersion:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/createVersion.js\"),import(\"../rest/versionManagement/support/CreateVersionParameters.js\")]),s=r.from(e);return t(this.url,s)}async deleteVersion(e){const[{deleteVersion:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/deleteVersion.js\"),import(\"../rest/versionManagement/support/DeleteVersionParameters.js\")]);let s;e.guid&&p.get(this.url)?.has(e.guid)&&(s=v??void 0);const i=new r({versionName:e.name,sessionId:s});return t(this.url,i)}async getVersionInfoExtended(e){const{getVersion:t}=await import(\"../rest/versionManagement/getVersion.js\");return t(this.url,e.guid)}async getVersionInfos(e={}){const[{getVersionInfos:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/getVersionInfos.js\"),import(\"../rest/versionManagement/support/GetVersionInfosParameters.js\")]),s=r.from(e);return t(this.url,s)}async reconcile(e,t={}){const[{reconcile:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/reconcile.js\"),import(\"../rest/versionManagement/gdbVersion/support/ReconcileParameters.js\")]),i=s.from(t);return i.sessionId=v,r(this.url,e.guid,i)}async post(e){const[{post:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/post.js\"),import(\"../rest/versionManagement/gdbVersion/support/PostParameters.js\")]),s=r.from({sessionId:v});return t(this.url,e.guid,s)}async alterVersion(e,t){const[{alterVersion:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/alterVersion.js\"),import(\"../rest/versionManagement/gdbVersion/support/AlterVersionParameters.js\")]),i=s.from(t);return r(this.url,e.guid,i)}async startReading(e){return(await this.startReadingWithResult(e)).success}async startReadingWithResult(e){const{startReading:t}=await import(\"../rest/versionManagement/gdbVersion/startReading.js\"),r=await t(this.url,e.guid,v);if(r.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate),s={name:t.versionIdentifier.name,moment:r,lockType:\"read\"};this._addOrUpdateItem(e.guid,s),m(this._featureServiceUrl,null,e.name,r)}return r}async stopReading(e){return(await this.stopReadingWithResult(e)).success}async stopReadingWithResult(e){const{stopReading:t}=await import(\"../rest/versionManagement/gdbVersion/stopReading.js\"),r=await t(this.url,e.guid,v);return r.success&&(p.get(this.url)?.delete(e.guid),m(this._featureServiceUrl,null,e.name,null)),r}async startEditing(e){return(await this.startEditingWithResult(e)).success}async startEditingWithResult(e){const{startEditing:t}=await import(\"../rest/versionManagement/gdbVersion/startEditing.js\"),r=await t(this.url,e.guid,v);if(r.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate),s=new g(r),i={name:e.name,moment:r,lockType:\"edit\",stack:s};this._addOrUpdateItem(e.guid,i),m(this._featureServiceUrl,null,e.name,r)}return r}async stopEditing(e,t){return(await this.stopEditingWithResult(e,t)).success}async stopEditingWithResult(e,t){if(t){const t=p.get(this.url)?.get(e.guid);if(t?.stack?.canRedo()){const[{deleteForwardEdits:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"),import(\"../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),i=await r(this.url,e.guid,new s({sessionId:v,moment:t.moment}));if(!i.success)return i}}const{stopEditing:r}=await import(\"../rest/versionManagement/gdbVersion/stopEditing.js\"),s=await r(this.url,e.guid,v,t);if(s.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate);this._addOrUpdateItem(e.guid,{name:e.name,moment:r,lockType:\"read\",editMomentStack:void 0}),m(this._featureServiceUrl,null,e.name,r)}return s}getLockType(e){const t=p.get(this.url)?.get(e.guid)?.lockType;return t??\"none\"}async changeVersion(e,t,s){if(s&&\"name\"in s&&!await this.getVersionInfoExtended(s))throw new r(\"version-management-service:invalid-version\",\"version does not exist\");if(\"networkServiceUrl\"in e){if(this._featureServiceUrl.toLowerCase()===e.featureServiceUrl.toLowerCase())return this._changeVersionInternal(e,t,s)}else{let r;\"layers\"in e?(r=e.allTables.concat(e.allLayers),e.utilityNetworks&&e.utilityNetworks.forEach((e=>{this._featureServiceUrl.toLowerCase()===e.featureServiceUrl.toLowerCase()&&this._changeVersionInternal(e,t,s)}))):r=e;for(const e of r)if(\"feature\"===e.type||\"subtype-group\"===e.type){const r=/^(.*\\/FeatureServer)\\/\\d+$/,i=e.url.replace(r,\"$1\");if(this._featureServiceUrl.toLowerCase()===i.toLowerCase()&&!this._changeVersionInternal(e,t,s))return!1}else if(\"group\"===e.type){const r=e.allTables.concat(e.allLayers);for(const e of r)if(\"feature\"===e.type||\"subtype-group\"===e.type){const r=/^(.*\\/FeatureServer)\\/\\d+$/,i=e.url.replace(r,\"$1\");if(this._featureServiceUrl.toLowerCase()===i.toLowerCase()&&!this._changeVersionInternal(e,t,s))return!1}}}return!0}async changeVersionWithResult(e,t,r){let s;if(\"layers\"in e){const t=y(e.allTables.concat(e.allLayers).filter((e=>\"group\"!==e.type)).toArray());e.utilityNetworks&&e.utilityNetworks.forEach((e=>{const r=y([e]);t.push(...r)})),s=t}else s=e;if(r&&\"name\"in r){if(!await this.getVersionInfoExtended(r)){const e=new Map;for(const t of s)e.set(t,{success:!1});return e}}if(t&&\"name\"in t){if(\"none\"!==this.getLockType(t)){const e=new Map;for(const t of s)e.set(t,{success:!1});return e}}const i=new Map;for(const n of s)if(n)if(n.featureServiceUrl.toLowerCase()===this._featureServiceUrl.toLowerCase()){const e=this._changeVersionInternalWithResult(n,t,r);i.set(n,e)}else i.set(n,{success:!1});return i}async getVersionIdentifierFromName(e){try{const t=await this.getVersionInfos({includeHidden:!0});return t.find((t=>t.versionIdentifier.name.toUpperCase()===e.toUpperCase()))?.versionIdentifier||null}catch{return null}}async getVersionIdentifierFromGuid(e){const{getVersion:t}=await import(\"../rest/versionManagement/getVersion.js\");try{return(await t(this.url,e)).versionIdentifier}catch{return null}}canUndo(e){const t=p.get(this.url)?.get(e.guid);return!!t?.stack?.canUndo()}canRedo(e){const t=p.get(this.url)?.get(e.guid);return!!t?.stack?.canRedo()}undo(e){const t=p.get(this.url)?.get(e.guid),r=t?.stack?.undo()||void 0;if(t&&r){const r=t.stack.peek();m(this._featureServiceUrl,null,e.name,r),p.get(this.url)?.set(e.guid,{...t,moment:r})}}redo(e){const t=p.get(this.url)?.get(e.guid),r=t?.stack?.redo()||void 0;t&&r&&(m(this._featureServiceUrl,null,e.name,r),p.get(this.url)?.set(e.guid,{...t,moment:r}))}_setUpData(e,t){let s=null,i=null,n=null,o=null;const a=e=>{const t=p?.get(this.url)?.get(e.guid);n=e.name,o=t?.moment??null};if(e&&\"name\"in e){if(\"none\"!==this.getLockType(e))throw new r(\"version-management-service:version-locked\",\"version is locked\");s=e.name,i=null,t&&\"name\"in t?a(t):(n=this.defaultVersionIdentifier.name,o=t)}else s=this.defaultVersionIdentifier.name,i=e,t&&\"name\"in t?a(t):(n=this.defaultVersionIdentifier.name,o=t);return{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}}_changeVersionInternal(e,t,r){try{const{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}=this._setUpData(t,r);(this._isDefault(s)&&this._isDefault(e.gdbVersion)&&this._dateEquals(e.historicMoment,i)||s===e.gdbVersion&&this._dateEquals(e.historicMoment,i))&&(e.gdbVersion=n,e.historicMoment=o)}catch(s){return!1}return!0}_changeVersionInternalWithResult(e,t,r){try{const{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}=this._setUpData(t,r);return this._isDefault(s)&&this._isDefault(e.gdbVersion)&&this._dateEquals(e.historicMoment,i)||s===e.gdbVersion&&this._dateEquals(e.historicMoment,i)?(e.gdbVersion=n,e.historicMoment=o,{success:!0}):{success:!1}}catch(s){return{success:!1}}}_addMomentToVersionItem(e,t){const r=p.get(this.url);if(r)for(const[s,i]of r){i.name===e&&this._addToStack(s,t)}}_addToStack(e,t){const r=p.get(this.url),s=r?.get(e);return!!s?.stack&&(S(s.stack.peek(),t)&&s.stack.push(t),r.set(e,{...s,moment:t}),!0)}_addOrUpdateItem(e,t){const r=p.get(this.url),s=r?.get(e);return s?(r.set(e,{...s,...t}),!0):!(!t.name||!t.lockType)&&(r?.set(e,{...t,lockType:t.lockType}),!0)}async _fetchService(e,r){if(this.sourceJSON){this.read(this.sourceJSON,{origin:\"service\",url:f(e)});const t=new o(this.url).host;return void V.set(t,this.defaultVersionIdentifier.name)}const s=await t(e,{responseType:\"json\",query:{f:\"json\"},...r});this.read(s.data)}};function S(e,t){if(e){return e.getTime()<t.getTime()}return!0}e([a()],w.prototype,\"url\",void 0),e([a()],w.prototype,\"sourceJSON\",void 0),e([a({type:String,json:{write:!0}})],w.prototype,\"name\",void 0),e([a({json:{write:{target:{defaultVersionName:{type:String},defaultVersionGuid:{type:String}}},read:{source:[\"defaultVersionName\",\"defaultVersionGuid\"]}}})],w.prototype,\"defaultVersionIdentifier\",void 0),e([u(\"defaultVersionIdentifier\",[\"defaultVersionName\",\"defaultVersionGuid\"])],w.prototype,\"readDefaultVersionIdentifier\",null),e([c(\"defaultVersionIdentifier\",{defaultVersionName:{type:String},defaultVersionGuid:{type:String}})],w.prototype,\"writeDefaultVersionIdentifier\",null),e([a({json:{write:!0}})],w.prototype,\"capabilities\",void 0),w=e([l(\"esri.versionManagement.VersionManagementService\")],w);const I=w;export{I as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}