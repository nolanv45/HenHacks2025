{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport { setDeepValue as t } from \"../../core/object.js\";\nimport { parse as r } from \"./parser.js\";\nimport { isEffectFunctions as s } from \"./utils.js\";\nfunction n(e, t, r) {\n  try {\n    return c(e);\n  } catch (s) {\n    r?.messages?.push(s);\n  }\n  return null;\n}\nfunction a(e, r, s, n) {\n  try {\n    const n = o(e);\n    t(s, n, r);\n  } catch (a) {\n    n.messages && n.messages.push(a);\n  }\n}\nfunction o(e) {\n  const t = r(e);\n  return t ? s(t) ? t.map(e => e.toJSON()) : t.map(({\n    scale: e,\n    effects: t\n  }) => ({\n    scale: e,\n    value: t.map(e => e.toJSON())\n  })) : null;\n}\nfunction c(e) {\n  if (!e || 0 === e.length) return null;\n  if (f(e)) {\n    const t = [];\n    for (const r of e) t.push({\n      scale: r.scale,\n      value: i(r.value)\n    });\n    return t;\n  }\n  return i(e);\n}\nfunction f(e) {\n  const t = e[0];\n  return !!t && \"scale\" in t;\n}\nfunction i(e) {\n  if (!e?.length) return \"\";\n  const t = [];\n  for (const s of e) {\n    let e = [];\n    switch (s.type) {\n      case \"grayscale\":\n      case \"sepia\":\n      case \"saturate\":\n      case \"invert\":\n      case \"brightness\":\n      case \"contrast\":\n      case \"opacity\":\n        e = [u(s, \"amount\")];\n        break;\n      case \"blur\":\n        e = [u(s, \"radius\", \"pt\")];\n        break;\n      case \"hue-rotate\":\n        e = [u(s, \"angle\", \"deg\")];\n        break;\n      case \"drop-shadow\":\n        e = [u(s, \"xoffset\", \"pt\"), u(s, \"yoffset\", \"pt\"), u(s, \"blurRadius\", \"pt\"), l(s, \"color\")];\n        break;\n      case \"bloom\":\n        e = [u(s, \"strength\"), u(s, \"radius\", \"pt\"), u(s, \"threshold\")];\n    }\n    const n = `${s.type}(${e.filter(Boolean).join(\" \")})`;\n    r(n), t.push(n);\n  }\n  return t.join(\" \");\n}\nfunction u(t, r, s) {\n  if (null == t[r]) throw new e(\"effect:missing-parameter\", `Missing parameter '${r}' in ${t.type} effect`, {\n    effect: t\n  });\n  return s ? t[r] + s : \"\" + t[r];\n}\nfunction l(t, r) {\n  if (null == t[r]) throw new e(\"effect:missing-parameter\", `Missing parameter '${r}' in ${t.type} effect`, {\n    effect: t\n  });\n  const s = t[r];\n  return `rgba(${s[0] || 0}, ${s[1] || 0}, ${s[2] || 0}, ${s[3] / 255 || 0})`;\n}\nexport { i as effectFunctionsFromJSON, c as fromJSON, n as read, o as toJSON, a as write };","map":{"version":3,"names":["e","setDeepValue","t","parse","r","isEffectFunctions","s","n","c","messages","push","a","o","map","toJSON","scale","effects","value","length","f","i","type","u","l","filter","Boolean","join","effect","effectFunctionsFromJSON","fromJSON","read","write"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/effects/jsonUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{setDeepValue as t}from\"../../core/object.js\";import{parse as r}from\"./parser.js\";import{isEffectFunctions as s}from\"./utils.js\";function n(e,t,r){try{return c(e)}catch(s){r?.messages?.push(s)}return null}function a(e,r,s,n){try{const n=o(e);t(s,n,r)}catch(a){n.messages&&n.messages.push(a)}}function o(e){const t=r(e);return t?s(t)?t.map((e=>e.toJSON())):t.map((({scale:e,effects:t})=>({scale:e,value:t.map((e=>e.toJSON()))}))):null}function c(e){if(!e||0===e.length)return null;if(f(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:i(r.value)});return t}return i(e)}function f(e){const t=e[0];return!!t&&\"scale\"in t}function i(e){if(!e?.length)return\"\";const t=[];for(const s of e){let e=[];switch(s.type){case\"grayscale\":case\"sepia\":case\"saturate\":case\"invert\":case\"brightness\":case\"contrast\":case\"opacity\":e=[u(s,\"amount\")];break;case\"blur\":e=[u(s,\"radius\",\"pt\")];break;case\"hue-rotate\":e=[u(s,\"angle\",\"deg\")];break;case\"drop-shadow\":e=[u(s,\"xoffset\",\"pt\"),u(s,\"yoffset\",\"pt\"),u(s,\"blurRadius\",\"pt\"),l(s,\"color\")];break;case\"bloom\":e=[u(s,\"strength\"),u(s,\"radius\",\"pt\"),u(s,\"threshold\")]}const n=`${s.type}(${e.filter(Boolean).join(\" \")})`;r(n),t.push(n)}return t.join(\" \")}function u(t,r,s){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});return s?t[r]+s:\"\"+t[r]}function l(t,r){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});const s=t[r];return`rgba(${s[0]||0}, ${s[1]||0}, ${s[2]||0}, ${s[3]/255||0})`}export{i as effectFunctionsFromJSON,c as fromJSON,n as read,o as toJSON,a as write};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}