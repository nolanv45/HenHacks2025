{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { save as e, saveAs as t } from \"./utils.js\";\nimport { getWGS84ExtentForItem as r, removeTypeKeyword as a, typeKeyword as s, toggleTypeKeyword as i } from \"../../portal/support/portalItemUtils.js\";\nconst y = \"Image Service\",\n  l = \"imagery-layer-save\",\n  n = \"imagery-layer-save-as\",\n  m = \"imagery-tile-layer-save\",\n  o = \"imagery-tile-layer-save-as\",\n  c = \"WCS\",\n  p = \"wcs-layer-save\",\n  u = \"wcs-layer-save-as\";\nfunction g(e) {\n  if (\"imagery\" === e.type || \"wcs\" === e.type) return {\n    isValid: !0\n  };\n  const {\n      raster: t\n    } = e,\n    r = \"Function\" === t?.datasetFormat ? t.primaryRasters?.rasters[0] : t;\n  return {\n    isValid: \"RasterTileServer\" === r?.datasetFormat && (\"Raster\" === r.tileType || \"Map\" === r.tileType),\n    errorMessage: \"imagery tile layer should be created from a tiled image service.\"\n  };\n}\nfunction v(e) {\n  const t = e.layerJSON;\n  return Promise.resolve(t && Object.keys(t).length ? t : null);\n}\nasync function f(e, t) {\n  const {\n    parsedUrl: y,\n    title: l,\n    fullExtent: n\n  } = e;\n  t.url = y.path, t.title ||= l;\n  try {\n    t.extent = await r(n);\n  } catch {\n    t.extent = void 0;\n  }\n  a(t, s.METADATA), i(t, s.TILED_IMAGERY, \"imagery-tile\" === e.type);\n}\nasync function d(t, r) {\n  const a = \"imagery\" === t.type ? l : \"imagery-tile\" === t.type ? m : p,\n    s = \"wcs\" === t.type ? c : y;\n  return e({\n    layer: t,\n    itemType: s,\n    validateLayer: g,\n    createItemData: v,\n    errorNamePrefix: a\n  }, r);\n}\nasync function I(e, r, a) {\n  const s = \"imagery\" === e.type ? n : \"imagery-tile\" === e.type ? o : u,\n    i = \"wcs\" === e.type ? c : y;\n  return t({\n    layer: e,\n    itemType: i,\n    validateLayer: g,\n    createItemData: v,\n    errorNamePrefix: s,\n    newItem: r,\n    setItemProperties: f\n  }, a);\n}\nexport { d as save, I as saveAs };","map":{"version":3,"names":["save","e","saveAs","t","getWGS84ExtentForItem","r","removeTypeKeyword","a","typeKeyword","s","toggleTypeKeyword","i","y","l","n","m","o","c","p","u","g","type","isValid","raster","datasetFormat","primaryRasters","rasters","tileType","errorMessage","v","layerJSON","Promise","resolve","Object","keys","length","f","parsedUrl","title","fullExtent","url","path","extent","METADATA","TILED_IMAGERY","d","layer","itemType","validateLayer","createItemData","errorNamePrefix","I","newItem","setItemProperties"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/save/imageryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as s,toggleTypeKeyword as i}from\"../../portal/support/portalItemUtils.js\";const y=\"Image Service\",l=\"imagery-layer-save\",n=\"imagery-layer-save-as\",m=\"imagery-tile-layer-save\",o=\"imagery-tile-layer-save-as\",c=\"WCS\",p=\"wcs-layer-save\",u=\"wcs-layer-save-as\";function g(e){if(\"imagery\"===e.type||\"wcs\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function v(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function f(e,t){const{parsedUrl:y,title:l,fullExtent:n}=e;t.url=y.path,t.title||=l;try{t.extent=await r(n)}catch{t.extent=void 0}a(t,s.METADATA),i(t,s.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function d(t,r){const a=\"imagery\"===t.type?l:\"imagery-tile\"===t.type?m:p,s=\"wcs\"===t.type?c:y;return e({layer:t,itemType:s,validateLayer:g,createItemData:v,errorNamePrefix:a},r)}async function I(e,r,a){const s=\"imagery\"===e.type?n:\"imagery-tile\"===e.type?o:u,i=\"wcs\"===e.type?c:y;return t({layer:e,itemType:i,validateLayer:g,createItemData:v,errorNamePrefix:s,newItem:r,setItemProperties:f},a)}export{d as save,I as saveAs};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,IAAI,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,YAAY;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,QAAK,yCAAyC;AAAC,MAAMC,CAAC,GAAC,eAAe;EAACC,CAAC,GAAC,oBAAoB;EAACC,CAAC,GAAC,uBAAuB;EAACC,CAAC,GAAC,yBAAyB;EAACC,CAAC,GAAC,4BAA4B;EAACC,CAAC,GAAC,KAAK;EAACC,CAAC,GAAC,gBAAgB;EAACC,CAAC,GAAC,mBAAmB;AAAC,SAASC,CAACA,CAACnB,CAAC,EAAC;EAAC,IAAG,SAAS,KAAGA,CAAC,CAACoB,IAAI,IAAE,KAAK,KAAGpB,CAAC,CAACoB,IAAI,EAAC,OAAM;IAACC,OAAO,EAAC,CAAC;EAAC,CAAC;EAAC,MAAK;MAACC,MAAM,EAACpB;IAAC,CAAC,GAACF,CAAC;IAACI,CAAC,GAAC,UAAU,KAAGF,CAAC,EAAEqB,aAAa,GAACrB,CAAC,CAACsB,cAAc,EAAEC,OAAO,CAAC,CAAC,CAAC,GAACvB,CAAC;EAAC,OAAM;IAACmB,OAAO,EAAC,kBAAkB,KAAGjB,CAAC,EAAEmB,aAAa,KAAG,QAAQ,KAAGnB,CAAC,CAACsB,QAAQ,IAAE,KAAK,KAAGtB,CAAC,CAACsB,QAAQ,CAAC;IAACC,YAAY,EAAC;EAAkE,CAAC;AAAA;AAAC,SAASC,CAACA,CAAC5B,CAAC,EAAC;EAAC,MAAME,CAAC,GAACF,CAAC,CAAC6B,SAAS;EAAC,OAAOC,OAAO,CAACC,OAAO,CAAC7B,CAAC,IAAE8B,MAAM,CAACC,IAAI,CAAC/B,CAAC,CAAC,CAACgC,MAAM,GAAChC,CAAC,GAAC,IAAI,CAAC;AAAA;AAAC,eAAeiC,CAACA,CAACnC,CAAC,EAACE,CAAC,EAAC;EAAC,MAAK;IAACkC,SAAS,EAACzB,CAAC;IAAC0B,KAAK,EAACzB,CAAC;IAAC0B,UAAU,EAACzB;EAAC,CAAC,GAACb,CAAC;EAACE,CAAC,CAACqC,GAAG,GAAC5B,CAAC,CAAC6B,IAAI,EAACtC,CAAC,CAACmC,KAAK,KAAGzB,CAAC;EAAC,IAAG;IAACV,CAAC,CAACuC,MAAM,GAAC,MAAMrC,CAAC,CAACS,CAAC,CAAC;EAAA,CAAC,OAAK;IAACX,CAAC,CAACuC,MAAM,GAAC,KAAK,CAAC;EAAA;EAACnC,CAAC,CAACJ,CAAC,EAACM,CAAC,CAACkC,QAAQ,CAAC,EAAChC,CAAC,CAACR,CAAC,EAACM,CAAC,CAACmC,aAAa,EAAC,cAAc,KAAG3C,CAAC,CAACoB,IAAI,CAAC;AAAA;AAAC,eAAewB,CAACA,CAAC1C,CAAC,EAACE,CAAC,EAAC;EAAC,MAAME,CAAC,GAAC,SAAS,KAAGJ,CAAC,CAACkB,IAAI,GAACR,CAAC,GAAC,cAAc,KAAGV,CAAC,CAACkB,IAAI,GAACN,CAAC,GAACG,CAAC;IAACT,CAAC,GAAC,KAAK,KAAGN,CAAC,CAACkB,IAAI,GAACJ,CAAC,GAACL,CAAC;EAAC,OAAOX,CAAC,CAAC;IAAC6C,KAAK,EAAC3C,CAAC;IAAC4C,QAAQ,EAACtC,CAAC;IAACuC,aAAa,EAAC5B,CAAC;IAAC6B,cAAc,EAACpB,CAAC;IAACqB,eAAe,EAAC3C;EAAC,CAAC,EAACF,CAAC,CAAC;AAAA;AAAC,eAAe8C,CAACA,CAAClD,CAAC,EAACI,CAAC,EAACE,CAAC,EAAC;EAAC,MAAME,CAAC,GAAC,SAAS,KAAGR,CAAC,CAACoB,IAAI,GAACP,CAAC,GAAC,cAAc,KAAGb,CAAC,CAACoB,IAAI,GAACL,CAAC,GAACG,CAAC;IAACR,CAAC,GAAC,KAAK,KAAGV,CAAC,CAACoB,IAAI,GAACJ,CAAC,GAACL,CAAC;EAAC,OAAOT,CAAC,CAAC;IAAC2C,KAAK,EAAC7C,CAAC;IAAC8C,QAAQ,EAACpC,CAAC;IAACqC,aAAa,EAAC5B,CAAC;IAAC6B,cAAc,EAACpB,CAAC;IAACqB,eAAe,EAACzC,CAAC;IAAC2C,OAAO,EAAC/C,CAAC;IAACgD,iBAAiB,EAACjB;EAAC,CAAC,EAAC7B,CAAC,CAAC;AAAA;AAAC,SAAOsC,CAAC,IAAI7C,IAAI,EAACmD,CAAC,IAAIjD,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}