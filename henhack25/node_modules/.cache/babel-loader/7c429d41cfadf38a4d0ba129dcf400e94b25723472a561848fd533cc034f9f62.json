{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { i1616to32 as t } from \"../../../number.js\";\nimport { AlignedVertexSpec as e } from \"./AlignedVertexSpec.js\";\nimport { packDataView as s } from \"./dataViewUtils.js\";\nclass i {\n  static fromVertexSpec(t, s) {\n    const c = e.fromVertexSpec(t, s);\n    return new i(c);\n  }\n  constructor(t) {\n    this._spec = t, this._packed = new Uint8Array(this._spec.stride * this._spec.packVertexCount), this._packedU32View = new Uint32Array(this._packed.buffer), this._dataView = new DataView(this._packed.buffer);\n  }\n  get attributeLayout() {\n    return this._spec.attributeLayout;\n  }\n  get stride() {\n    return this._spec.stride;\n  }\n  writeVertex(t, e, s, i, c, a) {\n    for (let p = 0; p < this._spec.packVertexCount; p++) {\n      const t = p * this._spec.stride;\n      this._packPosition(s, i, t), this._packId(e, t);\n      const r = this._spec.bitset;\n      if (a) {\n        if (r.packTessellation) {\n          const e = r.packTessellation(a, c, s, i);\n          this._pack(e, r, t);\n        }\n        for (const e of this._spec.standardAttributes) if (null != e.packTessellation) {\n          const p = e.packTessellation(a, c, s, i);\n          this._pack(p, e, t);\n        } else if (e.packAlternating?.packTessellation) {\n          const t = e.packAlternating.packTessellation(a, c, s, i);\n          for (let s = 0; s < this._spec.packVertexCount; s++) {\n            const i = t[s];\n            this._pack(i, e, s * this._spec.stride);\n          }\n        }\n      }\n    }\n    t.vertexWriteRegion(this._packedU32View);\n  }\n  pack(t, e) {\n    for (const s of this._spec.standardAttributes) if (s.pack && \"string\" != typeof s.pack) {\n      const i = s.pack(t, e);\n      for (let t = 0; t < this._spec.packVertexCount; t++) this._pack(i, s, t * this._spec.stride);\n    } else if (s.packAlternating?.pack) {\n      const i = s.packAlternating.pack(t, e);\n      for (let t = 0; t < this._spec.packVertexCount; t++) {\n        const e = i[t];\n        this._pack(e, s, t * this._spec.stride);\n      }\n    }\n  }\n  _packPosition(e, s, i) {\n    const {\n        offset: c\n      } = this._spec.position,\n      a = this._spec.position.packPrecisionFactor ?? 1,\n      p = t(e * a, s * a);\n    this._dataView.setUint32(i + c, p, !0);\n  }\n  _packId(t, e) {\n    const s = t * (this._spec.id.packPrecisionFactor ?? 1),\n      i = 4278190080 & this._dataView.getUint32(e + this._spec.id.offset, !0);\n    this._dataView.setUint32(e + this._spec.id.offset, s | i, !0);\n  }\n  _pack(t, e, i) {\n    s(this._dataView, t, e, i);\n  }\n}\nexport { i as MeshWriterVertexPack };","map":{"version":3,"names":["i1616to32","t","AlignedVertexSpec","e","packDataView","s","i","fromVertexSpec","c","constructor","_spec","_packed","Uint8Array","stride","packVertexCount","_packedU32View","Uint32Array","buffer","_dataView","DataView","attributeLayout","writeVertex","a","p","_packPosition","_packId","r","bitset","packTessellation","_pack","standardAttributes","packAlternating","vertexWriteRegion","pack","offset","position","packPrecisionFactor","setUint32","id","getUint32","MeshWriterVertexPack"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/MeshWriterVertexPack.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i1616to32 as t}from\"../../../number.js\";import{AlignedVertexSpec as e}from\"./AlignedVertexSpec.js\";import{packDataView as s}from\"./dataViewUtils.js\";class i{static fromVertexSpec(t,s){const c=e.fromVertexSpec(t,s);return new i(c)}constructor(t){this._spec=t,this._packed=new Uint8Array(this._spec.stride*this._spec.packVertexCount),this._packedU32View=new Uint32Array(this._packed.buffer),this._dataView=new DataView(this._packed.buffer)}get attributeLayout(){return this._spec.attributeLayout}get stride(){return this._spec.stride}writeVertex(t,e,s,i,c,a){for(let p=0;p<this._spec.packVertexCount;p++){const t=p*this._spec.stride;this._packPosition(s,i,t),this._packId(e,t);const r=this._spec.bitset;if(a){if(r.packTessellation){const e=r.packTessellation(a,c,s,i);this._pack(e,r,t)}for(const e of this._spec.standardAttributes)if(null!=e.packTessellation){const p=e.packTessellation(a,c,s,i);this._pack(p,e,t)}else if(e.packAlternating?.packTessellation){const t=e.packAlternating.packTessellation(a,c,s,i);for(let s=0;s<this._spec.packVertexCount;s++){const i=t[s];this._pack(i,e,s*this._spec.stride)}}}}t.vertexWriteRegion(this._packedU32View)}pack(t,e){for(const s of this._spec.standardAttributes)if(s.pack&&\"string\"!=typeof s.pack){const i=s.pack(t,e);for(let t=0;t<this._spec.packVertexCount;t++)this._pack(i,s,t*this._spec.stride)}else if(s.packAlternating?.pack){const i=s.packAlternating.pack(t,e);for(let t=0;t<this._spec.packVertexCount;t++){const e=i[t];this._pack(e,s,t*this._spec.stride)}}}_packPosition(e,s,i){const{offset:c}=this._spec.position,a=this._spec.position.packPrecisionFactor??1,p=t(e*a,s*a);this._dataView.setUint32(i+c,p,!0)}_packId(t,e){const s=t*(this._spec.id.packPrecisionFactor??1),i=4278190080&this._dataView.getUint32(e+this._spec.id.offset,!0);this._dataView.setUint32(e+this._spec.id.offset,s|i,!0)}_pack(t,e,i){s(this._dataView,t,e,i)}}export{i as MeshWriterVertexPack};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,SAAS,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,wBAAwB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,oBAAoB;AAAC,MAAMC,CAAC;EAAC,OAAOC,cAAcA,CAACN,CAAC,EAACI,CAAC,EAAC;IAAC,MAAMG,CAAC,GAACL,CAAC,CAACI,cAAc,CAACN,CAAC,EAACI,CAAC,CAAC;IAAC,OAAO,IAAIC,CAAC,CAACE,CAAC,CAAC;EAAA;EAACC,WAAWA,CAACR,CAAC,EAAC;IAAC,IAAI,CAACS,KAAK,GAACT,CAAC,EAAC,IAAI,CAACU,OAAO,GAAC,IAAIC,UAAU,CAAC,IAAI,CAACF,KAAK,CAACG,MAAM,GAAC,IAAI,CAACH,KAAK,CAACI,eAAe,CAAC,EAAC,IAAI,CAACC,cAAc,GAAC,IAAIC,WAAW,CAAC,IAAI,CAACL,OAAO,CAACM,MAAM,CAAC,EAAC,IAAI,CAACC,SAAS,GAAC,IAAIC,QAAQ,CAAC,IAAI,CAACR,OAAO,CAACM,MAAM,CAAC;EAAA;EAAC,IAAIG,eAAeA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACV,KAAK,CAACU,eAAe;EAAA;EAAC,IAAIP,MAAMA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACH,KAAK,CAACG,MAAM;EAAA;EAACQ,WAAWA,CAACpB,CAAC,EAACE,CAAC,EAACE,CAAC,EAACC,CAAC,EAACE,CAAC,EAACc,CAAC,EAAC;IAAC,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACb,KAAK,CAACI,eAAe,EAACS,CAAC,EAAE,EAAC;MAAC,MAAMtB,CAAC,GAACsB,CAAC,GAAC,IAAI,CAACb,KAAK,CAACG,MAAM;MAAC,IAAI,CAACW,aAAa,CAACnB,CAAC,EAACC,CAAC,EAACL,CAAC,CAAC,EAAC,IAAI,CAACwB,OAAO,CAACtB,CAAC,EAACF,CAAC,CAAC;MAAC,MAAMyB,CAAC,GAAC,IAAI,CAAChB,KAAK,CAACiB,MAAM;MAAC,IAAGL,CAAC,EAAC;QAAC,IAAGI,CAAC,CAACE,gBAAgB,EAAC;UAAC,MAAMzB,CAAC,GAACuB,CAAC,CAACE,gBAAgB,CAACN,CAAC,EAACd,CAAC,EAACH,CAAC,EAACC,CAAC,CAAC;UAAC,IAAI,CAACuB,KAAK,CAAC1B,CAAC,EAACuB,CAAC,EAACzB,CAAC,CAAC;QAAA;QAAC,KAAI,MAAME,CAAC,IAAI,IAAI,CAACO,KAAK,CAACoB,kBAAkB,EAAC,IAAG,IAAI,IAAE3B,CAAC,CAACyB,gBAAgB,EAAC;UAAC,MAAML,CAAC,GAACpB,CAAC,CAACyB,gBAAgB,CAACN,CAAC,EAACd,CAAC,EAACH,CAAC,EAACC,CAAC,CAAC;UAAC,IAAI,CAACuB,KAAK,CAACN,CAAC,EAACpB,CAAC,EAACF,CAAC,CAAC;QAAA,CAAC,MAAK,IAAGE,CAAC,CAAC4B,eAAe,EAAEH,gBAAgB,EAAC;UAAC,MAAM3B,CAAC,GAACE,CAAC,CAAC4B,eAAe,CAACH,gBAAgB,CAACN,CAAC,EAACd,CAAC,EAACH,CAAC,EAACC,CAAC,CAAC;UAAC,KAAI,IAAID,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACK,KAAK,CAACI,eAAe,EAACT,CAAC,EAAE,EAAC;YAAC,MAAMC,CAAC,GAACL,CAAC,CAACI,CAAC,CAAC;YAAC,IAAI,CAACwB,KAAK,CAACvB,CAAC,EAACH,CAAC,EAACE,CAAC,GAAC,IAAI,CAACK,KAAK,CAACG,MAAM,CAAC;UAAA;QAAC;MAAC;IAAC;IAACZ,CAAC,CAAC+B,iBAAiB,CAAC,IAAI,CAACjB,cAAc,CAAC;EAAA;EAACkB,IAAIA,CAAChC,CAAC,EAACE,CAAC,EAAC;IAAC,KAAI,MAAME,CAAC,IAAI,IAAI,CAACK,KAAK,CAACoB,kBAAkB,EAAC,IAAGzB,CAAC,CAAC4B,IAAI,IAAE,QAAQ,IAAE,OAAO5B,CAAC,CAAC4B,IAAI,EAAC;MAAC,MAAM3B,CAAC,GAACD,CAAC,CAAC4B,IAAI,CAAChC,CAAC,EAACE,CAAC,CAAC;MAAC,KAAI,IAAIF,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACS,KAAK,CAACI,eAAe,EAACb,CAAC,EAAE,EAAC,IAAI,CAAC4B,KAAK,CAACvB,CAAC,EAACD,CAAC,EAACJ,CAAC,GAAC,IAAI,CAACS,KAAK,CAACG,MAAM,CAAC;IAAA,CAAC,MAAK,IAAGR,CAAC,CAAC0B,eAAe,EAAEE,IAAI,EAAC;MAAC,MAAM3B,CAAC,GAACD,CAAC,CAAC0B,eAAe,CAACE,IAAI,CAAChC,CAAC,EAACE,CAAC,CAAC;MAAC,KAAI,IAAIF,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACS,KAAK,CAACI,eAAe,EAACb,CAAC,EAAE,EAAC;QAAC,MAAME,CAAC,GAACG,CAAC,CAACL,CAAC,CAAC;QAAC,IAAI,CAAC4B,KAAK,CAAC1B,CAAC,EAACE,CAAC,EAACJ,CAAC,GAAC,IAAI,CAACS,KAAK,CAACG,MAAM,CAAC;MAAA;IAAC;EAAC;EAACW,aAAaA,CAACrB,CAAC,EAACE,CAAC,EAACC,CAAC,EAAC;IAAC,MAAK;QAAC4B,MAAM,EAAC1B;MAAC,CAAC,GAAC,IAAI,CAACE,KAAK,CAACyB,QAAQ;MAACb,CAAC,GAAC,IAAI,CAACZ,KAAK,CAACyB,QAAQ,CAACC,mBAAmB,IAAE,CAAC;MAACb,CAAC,GAACtB,CAAC,CAACE,CAAC,GAACmB,CAAC,EAACjB,CAAC,GAACiB,CAAC,CAAC;IAAC,IAAI,CAACJ,SAAS,CAACmB,SAAS,CAAC/B,CAAC,GAACE,CAAC,EAACe,CAAC,EAAC,CAAC,CAAC,CAAC;EAAA;EAACE,OAAOA,CAACxB,CAAC,EAACE,CAAC,EAAC;IAAC,MAAME,CAAC,GAACJ,CAAC,IAAE,IAAI,CAACS,KAAK,CAAC4B,EAAE,CAACF,mBAAmB,IAAE,CAAC,CAAC;MAAC9B,CAAC,GAAC,UAAU,GAAC,IAAI,CAACY,SAAS,CAACqB,SAAS,CAACpC,CAAC,GAAC,IAAI,CAACO,KAAK,CAAC4B,EAAE,CAACJ,MAAM,EAAC,CAAC,CAAC,CAAC;IAAC,IAAI,CAAChB,SAAS,CAACmB,SAAS,CAAClC,CAAC,GAAC,IAAI,CAACO,KAAK,CAAC4B,EAAE,CAACJ,MAAM,EAAC7B,CAAC,GAACC,CAAC,EAAC,CAAC,CAAC,CAAC;EAAA;EAACuB,KAAKA,CAAC5B,CAAC,EAACE,CAAC,EAACG,CAAC,EAAC;IAACD,CAAC,CAAC,IAAI,CAACa,SAAS,EAACjB,CAAC,EAACE,CAAC,EAACG,CAAC,CAAC;EAAA;AAAC;AAAC,SAAOA,CAAC,IAAIkC,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}