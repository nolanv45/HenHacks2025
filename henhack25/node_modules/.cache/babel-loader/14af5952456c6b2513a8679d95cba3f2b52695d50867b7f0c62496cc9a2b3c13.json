{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Evented.js\";\nimport t from \"../../../../core/Handles.js\";\nimport { destroyMaybe as s } from \"../../../../core/maybe.js\";\nimport i from \"../../../../core/PooledArray.js\";\nimport { ContentObject as r } from \"./ContentObject.js\";\nimport { ContentObjectType as o } from \"./ContentObjectType.js\";\nimport { DirtyEventNames as h } from \"./DirtyEvents.js\";\nimport d from \"./Octree.js\";\nimport { UpdatePolicy as c } from \"./UpdatePolicy.js\";\nclass a extends r {\n  constructor(s, r, d = \"\") {\n    super(), this.stage = s, this.apiLayerUid = d, this.type = o.Layer, this.events = new e(), this.visible = !0, this.sliceable = !1, this._objectsAdded = new i(), this._handles = new t(), this._objects = new i(), this._pickable = !0, this.visible = r?.visible ?? !0, this._pickable = r?.pickable ?? !0, this.updatePolicy = r?.updatePolicy ?? c.ASYNC, this._disableOctree = r?.disableOctree ?? !1, s.add(this);\n    for (const e of h) this._handles.add(this.events.on(e, t => s.handleEvent(e, t)));\n  }\n  destroy() {\n    this._handles.size && (this._handles.destroy(), this.stage.remove(this), this.invalidateSpatialQueryAccelerator());\n  }\n  get objects() {\n    return this._objects;\n  }\n  set pickable(e) {\n    this._pickable = e;\n  }\n  get pickable() {\n    return this._pickable && this.visible;\n  }\n  add(e) {\n    this._objects.push(e), e.parentLayer = this, this.events.emit(\"layerObjectAdded\", {\n      layer: this,\n      object: e\n    }), null != this._octree && this._objectsAdded.push(e);\n  }\n  remove(e) {\n    this._objects.removeUnordered(e) && (e.parentLayer = null, this.events.emit(\"layerObjectRemoved\", {\n      layer: this,\n      object: e\n    }), null != this._octree && (this._objectsAdded.removeUnordered(e) || this._octree.remove([e])));\n  }\n  addMany(e) {\n    this._objects.pushArray(e);\n    for (const t of e) t.parentLayer = this;\n    this.events.emit(\"layerObjectsAdded\", {\n      layer: this,\n      objects: e\n    }), null != this._octree && this._objectsAdded.pushArray(e);\n  }\n  removeMany(e) {\n    const t = new Array();\n    if (this._objects.removeUnorderedMany(e, e.length, t), 0 !== t.length) {\n      for (const e of t) e.parentLayer = null;\n      if (this.events.emit(\"layerObjectsRemoved\", {\n        layer: this,\n        objects: t\n      }), null != this._octree) {\n        for (let e = 0; e < t.length;) this._objectsAdded.removeUnordered(t[e]) ? (t[e] = t[t.length - 1], t.length -= 1) : ++e;\n        this._octree.remove(t);\n      }\n    }\n  }\n  sync() {\n    this.updatePolicy !== c.SYNC && this.stage.syncLayer(this.id);\n  }\n  notifyObjectBBChanged(e, t) {\n    null == this._octree || this._objectsAdded.includes(e) || this._octree.update(e, t);\n  }\n  getSpatialQueryAccelerator() {\n    return null == this._octree && this._objects.length > 50 && !this._disableOctree ? (this._octree = new d(e => e.boundingVolumeWorldSpace.bounds), this._octree.add(this._objects.data, this._objects.length)) : null != this._octree && this._objectsAdded.length > 0 && (this._octree.add(this._objectsAdded.data, this._objectsAdded.length), this._objectsAdded.clear()), this._octree;\n  }\n  invalidateSpatialQueryAccelerator() {\n    this._octree = s(this._octree), this._objectsAdded.clear();\n  }\n}\nfunction l(e) {\n  return null != e && e.type === o.Layer;\n}\nexport { a as WebGLLayer, l as isWebGLLayer };","map":{"version":3,"names":["e","t","destroyMaybe","s","i","ContentObject","r","ContentObjectType","o","DirtyEventNames","h","d","UpdatePolicy","c","a","constructor","stage","apiLayerUid","type","Layer","events","visible","sliceable","_objectsAdded","_handles","_objects","_pickable","pickable","updatePolicy","ASYNC","_disableOctree","disableOctree","add","on","handleEvent","destroy","size","remove","invalidateSpatialQueryAccelerator","objects","push","parentLayer","emit","layer","object","_octree","removeUnordered","addMany","pushArray","removeMany","Array","removeUnorderedMany","length","sync","SYNC","syncLayer","id","notifyObjectBBChanged","includes","update","getSpatialQueryAccelerator","boundingVolumeWorldSpace","bounds","data","clear","l","WebGLLayer","isWebGLLayer"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{ContentObject as r}from\"./ContentObject.js\";import{ContentObjectType as o}from\"./ContentObjectType.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import d from\"./Octree.js\";import{UpdatePolicy as c}from\"./UpdatePolicy.js\";class a extends r{constructor(s,r,d=\"\"){super(),this.stage=s,this.apiLayerUid=d,this.type=o.Layer,this.events=new e,this.visible=!0,this.sliceable=!1,this._objectsAdded=new i,this._handles=new t,this._objects=new i,this._pickable=!0,this.visible=r?.visible??!0,this._pickable=r?.pickable??!0,this.updatePolicy=r?.updatePolicy??c.ASYNC,this._disableOctree=r?.disableOctree??!1,s.add(this);for(const e of h)this._handles.add(this.events.on(e,(t=>s.handleEvent(e,t))))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.remove(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.push(e),e.parentLayer=this,this.events.emit(\"layerObjectAdded\",{layer:this,object:e}),null!=this._octree&&this._objectsAdded.push(e)}remove(e){this._objects.removeUnordered(e)&&(e.parentLayer=null,this.events.emit(\"layerObjectRemoved\",{layer:this,object:e}),null!=this._octree&&(this._objectsAdded.removeUnordered(e)||this._octree.remove([e])))}addMany(e){this._objects.pushArray(e);for(const t of e)t.parentLayer=this;this.events.emit(\"layerObjectsAdded\",{layer:this,objects:e}),null!=this._octree&&this._objectsAdded.pushArray(e)}removeMany(e){const t=new Array;if(this._objects.removeUnorderedMany(e,e.length,t),0!==t.length){for(const e of t)e.parentLayer=null;if(this.events.emit(\"layerObjectsRemoved\",{layer:this,objects:t}),null!=this._octree){for(let e=0;e<t.length;)this._objectsAdded.removeUnordered(t[e])?(t[e]=t[t.length-1],t.length-=1):++e;this._octree.remove(t)}}}sync(){this.updatePolicy!==c.SYNC&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.length>50&&!this._disableOctree?(this._octree=new d((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.data,this._objects.length)):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded.data,this._objectsAdded.length),this._objectsAdded.clear()),this._octree}invalidateSpatialQueryAccelerator(){this._octree=s(this._octree),this._objectsAdded.clear()}}function l(e){return null!=e&&e.type===o.Layer}export{a as WebGLLayer,l as isWebGLLayer};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}