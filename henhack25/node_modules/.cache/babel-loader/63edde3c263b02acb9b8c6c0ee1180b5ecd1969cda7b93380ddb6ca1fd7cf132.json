{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { GeometryCursor as t } from \"../../../geometry/GeometryCursor.js\";\nimport { collectPath as e } from \"../../../geometry/geometryCursorCollectUtils.js\";\nimport { PathEffectCursor as s } from \"../CIMCursor.js\";\nimport { LineDashEnding as i } from \"../enums.js\";\nimport { GeometryWalker as r, DashPattern as a } from \"../GeometryWalker.js\";\nimport { normalizeDashEffectTemplate as n } from \"../utils.js\";\nclass h {\n  static local() {\n    return null === h.instance && (h.instance = new h()), h.instance;\n  }\n  execute(t, e, s, i, r) {\n    return new l(t, e, s);\n  }\n}\nh.instance = null;\nclass l extends s {\n  constructor(t, e, s) {\n    super(t, !0, !0), this._firstCurve = null, this._walker = new r(), this._walker.updateTolerance(s), this._endings = e.lineDashEnding, this._customDashPos = -(e.offsetAlongLine ?? 0) * s, this._offsetAtEnd = (e.customEndingOffset ?? 0) * s;\n    let i = n(e).dashTemplate;\n    null == i && (i = []), i.length % 2 && (i = [...i, ...i]), this._pattern = new a(), this._pattern.init(i, !0), this._pattern.scale(s);\n  }\n  processPath(s) {\n    if (0 === this._pattern.length()) {\n      this.iteratePath = !1;\n      const i = e(s);\n      return t.fromJSONCIM({\n        paths: [i]\n      });\n    }\n    if (!this.iteratePath) {\n      let r = !0;\n      switch (this._endings) {\n        case i.HalfPattern:\n        case i.HalfGap:\n        default:\n          this._pattern.extPtGap = 0;\n          break;\n        case i.FullPattern:\n          this.isClosed || (this._pattern.extPtGap = .5 * this._pattern.firstValue());\n          break;\n        case i.FullGap:\n          this.isClosed || (this._pattern.extPtGap = .5 * this._pattern.lastValue());\n          break;\n        case i.NoConstraint:\n          this.isClosed || (r = !1);\n          break;\n        case i.Custom:\n          this.isClosed || (this._pattern.extPtGap = .5 * this._offsetAtEnd);\n      }\n      const a = s.pathLength();\n      if (this._pattern.isEmpty() || a < .1 * this._pattern.length()) {\n        const i = e(s);\n        return t.fromJSONCIM({\n          paths: [i]\n        });\n      }\n      if (!this._walker.init(s, this._pattern, r)) {\n        const i = e(s);\n        return t.fromJSONCIM({\n          paths: [i]\n        });\n      }\n    }\n    let r;\n    if (this.iteratePath) r = this._pattern.nextValue();else {\n      let t;\n      switch (this._endings) {\n        case i.HalfPattern:\n        default:\n          t = .5 * this._pattern.firstValue();\n          break;\n        case i.HalfGap:\n          t = .5 * -this._pattern.lastValue();\n          break;\n        case i.FullGap:\n          t = -this._pattern.lastValue();\n          break;\n        case i.FullPattern:\n          t = 0;\n          break;\n        case i.NoConstraint:\n        case i.Custom:\n          t = -this._customDashPos;\n      }\n      let e = t / this._pattern.length();\n      e -= Math.floor(e), t = e * this._pattern.length(), this._pattern.reset(), r = this._pattern.nextValue();\n      let s = !1;\n      for (; t >= r;) t -= r, r = this._pattern.nextValue(), s = !s;\n      r -= t, s ? (this._walker.nextPosition(r), r = this._pattern.nextValue()) : this.isClosed && (this._firstCurve = this._walker.nextCurve(r), r = this._pattern.nextValue(), this._walker.nextPosition(r), r = this._pattern.nextValue());\n    }\n    let a = this._walker.nextCurve(r);\n    if (a) {\n      if (this._walker.isPathEnd()) {\n        if (this.iteratePath = !1, this._firstCurve) {\n          for (this._firstCurve.nextPath(); this._firstCurve.nextPoint();) a.pushXY(this._firstCurve.x, this._firstCurve.y);\n          this._firstCurve = null;\n        }\n      } else r = this._pattern.nextValue(), !this._walker.nextPosition(r) || this._walker.isPathEnd() ? (this.iteratePath = !1, this._firstCurve && (a.pushCursor(this._firstCurve), this._firstCurve = null)) : this.iteratePath = !0;\n    } else this.iteratePath = !1, a = this._firstCurve, this._firstCurve = null;\n    return a?.reset(), a;\n  }\n}\nexport { h as EffectDashes };","map":{"version":3,"names":["GeometryCursor","t","collectPath","e","PathEffectCursor","s","LineDashEnding","i","GeometryWalker","r","DashPattern","a","normalizeDashEffectTemplate","n","h","local","instance","execute","l","constructor","_firstCurve","_walker","updateTolerance","_endings","lineDashEnding","_customDashPos","offsetAlongLine","_offsetAtEnd","customEndingOffset","dashTemplate","length","_pattern","init","scale","processPath","iteratePath","fromJSONCIM","paths","HalfPattern","HalfGap","extPtGap","FullPattern","isClosed","firstValue","FullGap","lastValue","NoConstraint","Custom","pathLength","isEmpty","nextValue","Math","floor","reset","nextPosition","nextCurve","isPathEnd","nextPath","nextPoint","pushXY","x","y","pushCursor","EffectDashes"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/cim/effects/EffectDashes.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{GeometryCursor as t}from\"../../../geometry/GeometryCursor.js\";import{collectPath as e}from\"../../../geometry/geometryCursorCollectUtils.js\";import{PathEffectCursor as s}from\"../CIMCursor.js\";import{LineDashEnding as i}from\"../enums.js\";import{GeometryWalker as r,DashPattern as a}from\"../GeometryWalker.js\";import{normalizeDashEffectTemplate as n}from\"../utils.js\";class h{static local(){return null===h.instance&&(h.instance=new h),h.instance}execute(t,e,s,i,r){return new l(t,e,s)}}h.instance=null;class l extends s{constructor(t,e,s){super(t,!0,!0),this._firstCurve=null,this._walker=new r,this._walker.updateTolerance(s),this._endings=e.lineDashEnding,this._customDashPos=-(e.offsetAlongLine??0)*s,this._offsetAtEnd=(e.customEndingOffset??0)*s;let i=n(e).dashTemplate;null==i&&(i=[]),i.length%2&&(i=[...i,...i]),this._pattern=new a,this._pattern.init(i,!0),this._pattern.scale(s)}processPath(s){if(0===this._pattern.length()){this.iteratePath=!1;const i=e(s);return t.fromJSONCIM({paths:[i]})}if(!this.iteratePath){let r=!0;switch(this._endings){case i.HalfPattern:case i.HalfGap:default:this._pattern.extPtGap=0;break;case i.FullPattern:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case i.FullGap:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.lastValue());break;case i.NoConstraint:this.isClosed||(r=!1);break;case i.Custom:this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}const a=s.pathLength();if(this._pattern.isEmpty()||a<.1*this._pattern.length()){const i=e(s);return t.fromJSONCIM({paths:[i]})}if(!this._walker.init(s,this._pattern,r)){const i=e(s);return t.fromJSONCIM({paths:[i]})}}let r;if(this.iteratePath)r=this._pattern.nextValue();else{let t;switch(this._endings){case i.HalfPattern:default:t=.5*this._pattern.firstValue();break;case i.HalfGap:t=.5*-this._pattern.lastValue();break;case i.FullGap:t=-this._pattern.lastValue();break;case i.FullPattern:t=0;break;case i.NoConstraint:case i.Custom:t=-this._customDashPos}let e=t/this._pattern.length();e-=Math.floor(e),t=e*this._pattern.length(),this._pattern.reset(),r=this._pattern.nextValue();let s=!1;for(;t>=r;)t-=r,r=this._pattern.nextValue(),s=!s;r-=t,s?(this._walker.nextPosition(r),r=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(r),r=this._pattern.nextValue(),this._walker.nextPosition(r),r=this._pattern.nextValue())}let a=this._walker.nextCurve(r);if(a)if(this._walker.isPathEnd()){if(this.iteratePath=!1,this._firstCurve){for(this._firstCurve.nextPath();this._firstCurve.nextPoint();)a.pushXY(this._firstCurve.x,this._firstCurve.y);this._firstCurve=null}}else r=this._pattern.nextValue(),!this._walker.nextPosition(r)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(a.pushCursor(this._firstCurve),this._firstCurve=null)):this.iteratePath=!0;else this.iteratePath=!1,a=this._firstCurve,this._firstCurve=null;return a?.reset(),a}}export{h as EffectDashes};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}