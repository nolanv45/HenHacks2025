{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from \"../../../core/has.js\";\nimport { PooledRBush as i } from \"../../../core/libs/rbush/PooledRBush.js\";\nimport { empty as s } from \"../../../geometry/support/aaBoundingRect.js\";\nconst d = 5e4,\n  n = {\n    minX: 0,\n    minY: 0,\n    maxX: 0,\n    maxY: 0\n  };\nfunction t(i) {\n  n.minX = i[0], n.minY = i[1], n.maxX = i[2], n.maxY = i[3];\n}\nfunction e(i, s, d) {\n  t(s), i.search(n, d);\n}\nclass o {\n  constructor() {\n    this._indexInvalid = !1, this._boundsToLoad = [], this._boundsById = new Map(), this._idByBounds = new Map(), this._index = new i(9, has(\"esri-csp-restrictions\") ? i => ({\n      minX: i[0],\n      minY: i[1],\n      maxX: i[2],\n      maxY: i[3]\n    }) : [\"[0]\", \"[1]\", \"[2]\", \"[3]\"]), this._loadIndex = () => {\n      if (this._indexInvalid) {\n        const i = new Array(this._idByBounds.size);\n        let s = 0;\n        this._idByBounds.forEach((d, n) => {\n          i[s++] = n;\n        }), this._indexInvalid = !1, this._index.clear(), this._index.load(i);\n      } else this._boundsToLoad.length && (this._index.load(Array.from(new Set(this._boundsToLoad.filter(i => this._idByBounds.has(i))))), this._boundsToLoad.length = 0);\n    };\n  }\n  get fullBounds() {\n    if (!this._boundsById.size) return null;\n    const i = s();\n    for (const s of this._boundsById.values()) s && (i[0] = Math.min(s[0], i[0]), i[1] = Math.min(s[1], i[1]), i[2] = Math.max(s[2], i[2]), i[3] = Math.max(s[3], i[3]));\n    return i;\n  }\n  get valid() {\n    return !this._indexInvalid;\n  }\n  clear() {\n    this._indexInvalid = !1, this._boundsToLoad.length = 0, this._boundsById.clear(), this._idByBounds.clear(), this._index.clear();\n  }\n  delete(i) {\n    const s = this._boundsById.get(i);\n    this._boundsById.delete(i), s && (this._idByBounds.delete(s), this._indexInvalid || this._index.remove(s));\n  }\n  forEachInBounds(i, s) {\n    this._loadIndex(), e(this._index, i, i => s(this._idByBounds.get(i)));\n  }\n  get(i) {\n    return this._boundsById.get(i);\n  }\n  has(i) {\n    return this._boundsById.has(i);\n  }\n  invalidateIndex() {\n    this._indexInvalid || (this._indexInvalid = !0, this._boundsToLoad.length = 0);\n  }\n  set(i, s) {\n    if (!this._indexInvalid) {\n      const s = this._boundsById.get(i);\n      s && (this._index.remove(s), this._idByBounds.delete(s));\n    }\n    this._boundsById.set(i, s), s && (this._idByBounds.set(s, i), this._indexInvalid || (this._boundsToLoad.push(s), this._boundsToLoad.length > d && this._loadIndex()));\n  }\n}\nexport { o as BoundsStore };","map":{"version":3,"names":["has","PooledRBush","i","empty","s","d","n","minX","minY","maxX","maxY","t","e","search","o","constructor","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","_loadIndex","Array","size","forEach","clear","load","length","from","Set","filter","fullBounds","values","Math","min","max","valid","delete","get","remove","forEachInBounds","invalidateIndex","set","push","BoundsStore"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../core/has.js\";import{PooledRBush as i}from\"../../../core/libs/rbush/PooledRBush.js\";import{empty as s}from\"../../../geometry/support/aaBoundingRect.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i){n.minX=i[0],n.minY=i[1],n.maxX=i[2],n.maxY=i[3]}function e(i,s,d){t(s),i.search(n,d)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new i(9,has(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=s();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),e(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{o as BoundsStore};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}