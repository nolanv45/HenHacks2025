{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as t } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { isIntegerPixelType as s } from \"../rasterFormats/pixelRangeUtils.js\";\nimport e from \"./BaseRasterFunction.js\";\nimport p from \"./ColormapFunctionArguments.js\";\nimport { getColormapByName as i } from \"./colormaps.js\";\nimport { convertColorRampToColormap as n, getColorRampJSON as c } from \"../../../renderers/support/colorRampUtils.js\";\nimport { fromJSON as a } from \"../../../rest/support/colorRamps.js\";\nlet m = class extends e {\n  constructor() {\n    super(...arguments), this.functionName = \"Colormap\", this.functionArguments = null, this.rasterArgumentNames = [\"raster\"], this.isNoopProcess = !0;\n  }\n  _bindSourceRasters() {\n    const o = this.sourceRasterInfos[0];\n    if (o.bandCount > 1) return {\n      success: !1,\n      supportsGPU: !1,\n      error: \"colormap-function: source data must be single band\"\n    };\n    let {\n      colormap: r,\n      colormapName: t,\n      colorRamp: s,\n      colorRampName: e\n    } = this.functionArguments;\n    if (!r?.length) if (s) this.colorRamp = s, r = n(s, {\n      interpolateAlpha: !0\n    });else if (e) {\n      const o = c(e);\n      o && (r = n(o), this.colorRamp = a(o));\n    } else t && (r = i(t));\n    if (!r?.length) return {\n      success: !1,\n      supportsGPU: !1,\n      error: \"colormap-function: missing colormap argument\"\n    };\n    const p = this._getOutputPixelType(o.pixelType);\n    this.outputPixelType = p.startsWith(\"f\") ? \"s32\" : p;\n    const m = o.clone();\n    return m.pixelType = this.outputPixelType, m.colormap = r, m.bandCount = 1, this.rasterInfo = m, {\n      success: !0,\n      supportsGPU: !0\n    };\n  }\n  _processPixels(o) {\n    let r = o.pixelBlocks?.[0];\n    return !r || s(r.pixelType) || (r = r.clone(), r.clamp(this.outputPixelType)), r;\n  }\n};\no([r({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], m.prototype, \"functionName\", void 0), o([r({\n  type: p,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], m.prototype, \"functionArguments\", void 0), o([r()], m.prototype, \"rasterArgumentNames\", void 0), o([r()], m.prototype, \"isNoopProcess\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], m.prototype, \"indexedColormap\", void 0), o([r()], m.prototype, \"colorRamp\", void 0), m = o([t(\"esri.layers.support.rasterFunctions.ColormapFunction\")], m);\nconst u = m;\nexport { u as default };","map":{"version":3,"names":["_","o","property","r","subclass","t","isIntegerPixelType","s","e","p","getColormapByName","i","convertColorRampToColormap","n","getColorRampJSON","c","fromJSON","a","m","constructor","arguments","functionName","functionArguments","rasterArgumentNames","isNoopProcess","_bindSourceRasters","sourceRasterInfos","bandCount","success","supportsGPU","error","colormap","colormapName","colorRamp","colorRampName","length","interpolateAlpha","_getOutputPixelType","pixelType","outputPixelType","startsWith","clone","rasterInfo","_processPixels","pixelBlocks","clamp","json","write","name","prototype","type","u","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/rasterFunctions/ColormapFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isIntegerPixelType as s}from\"../rasterFormats/pixelRangeUtils.js\";import e from\"./BaseRasterFunction.js\";import p from\"./ColormapFunctionArguments.js\";import{getColormapByName as i}from\"./colormaps.js\";import{convertColorRampToColormap as n,getColorRampJSON as c}from\"../../../renderers/support/colorRampUtils.js\";import{fromJSON as a}from\"../../../rest/support/colorRamps.js\";let m=class extends e{constructor(){super(...arguments),this.functionName=\"Colormap\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"],this.isNoopProcess=!0}_bindSourceRasters(){const o=this.sourceRasterInfos[0];if(o.bandCount>1)return{success:!1,supportsGPU:!1,error:\"colormap-function: source data must be single band\"};let{colormap:r,colormapName:t,colorRamp:s,colorRampName:e}=this.functionArguments;if(!r?.length)if(s)this.colorRamp=s,r=n(s,{interpolateAlpha:!0});else if(e){const o=c(e);o&&(r=n(o),this.colorRamp=a(o))}else t&&(r=i(t));if(!r?.length)return{success:!1,supportsGPU:!1,error:\"colormap-function: missing colormap argument\"};const p=this._getOutputPixelType(o.pixelType);this.outputPixelType=p.startsWith(\"f\")?\"s32\":p;const m=o.clone();return m.pixelType=this.outputPixelType,m.colormap=r,m.bandCount=1,this.rasterInfo=m,{success:!0,supportsGPU:!0}}_processPixels(o){let r=o.pixelBlocks?.[0];return!r||s(r.pixelType)||(r=r.clone(),r.clamp(this.outputPixelType)),r}};o([r({json:{write:!0,name:\"rasterFunction\"}})],m.prototype,\"functionName\",void 0),o([r({type:p,json:{write:!0,name:\"rasterFunctionArguments\"}})],m.prototype,\"functionArguments\",void 0),o([r()],m.prototype,\"rasterArgumentNames\",void 0),o([r()],m.prototype,\"isNoopProcess\",void 0),o([r({json:{write:!0}})],m.prototype,\"indexedColormap\",void 0),o([r()],m.prototype,\"colorRamp\",void 0),m=o([t(\"esri.layers.support.rasterFunctions.ColormapFunction\")],m);const u=m;export{u as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}