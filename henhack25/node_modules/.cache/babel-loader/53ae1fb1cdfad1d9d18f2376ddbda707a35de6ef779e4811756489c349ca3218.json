{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { numericHash as e } from \"../../../../../../core/string.js\";\nimport { discardUrlIfHasUrlHash as t } from \"../../Utils.js\";\nimport { AResourceProxy as r } from \"../../shaderGraph/techniques/mesh/AResourceProxy.js\";\nclass s extends r {\n  constructor(e) {\n    super(), this._fetcher = e, this._controller = new AbortController(), this._pendingIds = new Set(), this._pendingRequests = [], this._resourceIdToResource = new Map();\n  }\n  destroy() {\n    this._controller.abort();\n  }\n  get _abortOptions() {\n    return {\n      signal: this._controller.signal\n    };\n  }\n  enqueueRequest(r) {\n    const s = t(r.resource),\n      o = e(JSON.stringify(s));\n    return this._pendingIds.has(o) || (this._pendingIds.add(o), this._pendingRequests.push({\n      ...r,\n      resourceId: o\n    })), o;\n  }\n  async fetchEnqueuedResources() {\n    const e = this._pendingRequests;\n    if (this._pendingIds.clear(), this._pendingRequests = [], 0 === e.length) return;\n    const t = await this._fetcher.fetch(e, this._abortOptions);\n    for (let r = 0; r < t.length; r++) {\n      const s = e[r].resourceId;\n      this._resourceIdToResource.set(s, t[r]);\n    }\n  }\n  async fetchResourceImmediate(e) {\n    const t = await this._fetcher.fetch([e], this._abortOptions);\n    if (1 !== t.length) throw new Error(\"FeaturePipelineResourceProxy: failed to fetch resources\");\n    return t[0];\n  }\n  async fetchDictionaryResourceImmediate(e) {\n    const t = await this._fetcher.fetchDictionary([e], this._abortOptions);\n    if (1 !== t.length) throw new Error(\"FeaturePipelineResourceProxy: failed to fetch dictionary resources\");\n    return t[0];\n  }\n  getResource(e) {\n    return this._resourceIdToResource.get(e);\n  }\n}\nexport { s as ResourceProxy };","map":{"version":3,"names":["numericHash","e","discardUrlIfHasUrlHash","t","AResourceProxy","r","s","constructor","_fetcher","_controller","AbortController","_pendingIds","Set","_pendingRequests","_resourceIdToResource","Map","destroy","abort","_abortOptions","signal","enqueueRequest","resource","o","JSON","stringify","has","add","push","resourceId","fetchEnqueuedResources","clear","length","fetch","set","fetchResourceImmediate","Error","fetchDictionaryResourceImmediate","fetchDictionary","getResource","get","ResourceProxy"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/ResourceProxy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{numericHash as e}from\"../../../../../../core/string.js\";import{discardUrlIfHasUrlHash as t}from\"../../Utils.js\";import{AResourceProxy as r}from\"../../shaderGraph/techniques/mesh/AResourceProxy.js\";class s extends r{constructor(e){super(),this._fetcher=e,this._controller=new AbortController,this._pendingIds=new Set,this._pendingRequests=[],this._resourceIdToResource=new Map}destroy(){this._controller.abort()}get _abortOptions(){return{signal:this._controller.signal}}enqueueRequest(r){const s=t(r.resource),o=e(JSON.stringify(s));return this._pendingIds.has(o)||(this._pendingIds.add(o),this._pendingRequests.push({...r,resourceId:o})),o}async fetchEnqueuedResources(){const e=this._pendingRequests;if(this._pendingIds.clear(),this._pendingRequests=[],0===e.length)return;const t=await this._fetcher.fetch(e,this._abortOptions);for(let r=0;r<t.length;r++){const s=e[r].resourceId;this._resourceIdToResource.set(s,t[r])}}async fetchResourceImmediate(e){const t=await this._fetcher.fetch([e],this._abortOptions);if(1!==t.length)throw new Error(\"FeaturePipelineResourceProxy: failed to fetch resources\");return t[0]}async fetchDictionaryResourceImmediate(e){const t=await this._fetcher.fetchDictionary([e],this._abortOptions);if(1!==t.length)throw new Error(\"FeaturePipelineResourceProxy: failed to fetch dictionary resources\");return t[0]}getResource(e){return this._resourceIdToResource.get(e)}}export{s as ResourceProxy};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}