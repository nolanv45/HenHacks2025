{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from \"../request.js\";\nimport e from \"./Error.js\";\nimport { isAbortError as r } from \"./promiseUtils.js\";\nimport { dataComponents as a } from \"./urlUtils.js\";\nimport { base64ToArrayBuffer as n } from \"../support/base64Utils.js\";\nlet i = null,\n  o = !0;\nfunction s(t, e, r) {\n  if (!t || !e) throw new Error(\"Cannot construct image data without dimensions\");\n  if (o) try {\n    return new ImageData(t, e);\n  } catch (a) {\n    o = !1;\n  }\n  return m(t, e, r);\n}\nfunction c(t, e, r, a) {\n  if (!e || !r) throw new Error(\"Cannot construct image data without dimensions\");\n  if (o) try {\n    return new ImageData(t, e, r);\n  } catch (i) {\n    o = !1;\n  }\n  const n = m(e, r, a);\n  return n.data.set(t, 0), n;\n}\nfunction f() {\n  return i || (i = document.createElement(\"canvas\"), i.width = 1, i.height = 1), i;\n}\nfunction m(t, e, r) {\n  return r || (r = f()), r.getContext(\"2d\").createImageData(t, e);\n}\nasync function u(a, n) {\n  const i = window.URL.createObjectURL(a);\n  try {\n    const {\n      data: e\n    } = await t(i, {\n      ...n,\n      responseType: \"image\"\n    });\n    return e;\n  } catch (o) {\n    if (!r(o)) throw new e(\"invalid-image\", `Could not fetch requested image at ${i}`);\n    throw o;\n  } finally {\n    window.URL.revokeObjectURL(i);\n  }\n}\nasync function p(t, e) {\n  const {\n      arrayBuffer: r,\n      mediaType: a\n    } = await d(t, e),\n    n = \"image/png\" === a;\n  if (\"image/gif\" === a) {\n    const {\n      isAnimatedGIF: t,\n      parseGif: a\n    } = await import(\"./image/gif.js\");\n    if (t(r)) return a(r, e);\n  }\n  if (n) {\n    const {\n      isAnimatedPNG: t,\n      parseApng: a\n    } = await import(\"./image/apng.js\");\n    if (t(r)) return a(r, e);\n  }\n  return u(new Blob([r], {\n    type: a\n  }), e);\n}\nasync function d(e, r) {\n  const i = a(e);\n  if (i?.isBase64) return {\n    arrayBuffer: n(i.data),\n    mediaType: i.mediaType\n  };\n  const o = await t(e, {\n    responseType: \"array-buffer\",\n    ...r\n  });\n  return {\n    arrayBuffer: o.data,\n    mediaType: o.getHeader?.(\"Content-Type\") ?? \"\"\n  };\n}\nexport { s as createEmptyImageData, p as getImageData, c as wrapImageData };","map":{"version":3,"names":["t","e","isAbortError","r","dataComponents","a","base64ToArrayBuffer","n","i","o","s","Error","ImageData","m","c","data","set","f","document","createElement","width","height","getContext","createImageData","u","window","URL","createObjectURL","responseType","revokeObjectURL","p","arrayBuffer","mediaType","d","isAnimatedGIF","parseGif","isAnimatedPNG","parseApng","Blob","type","isBase64","getHeader","createEmptyImageData","getImageData","wrapImageData"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/core/imageUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../request.js\";import e from\"./Error.js\";import{isAbortError as r}from\"./promiseUtils.js\";import{dataComponents as a}from\"./urlUtils.js\";import{base64ToArrayBuffer as n}from\"../support/base64Utils.js\";let i=null,o=!0;function s(t,e,r){if(!t||!e)throw new Error(\"Cannot construct image data without dimensions\");if(o)try{return new ImageData(t,e)}catch(a){o=!1}return m(t,e,r)}function c(t,e,r,a){if(!e||!r)throw new Error(\"Cannot construct image data without dimensions\");if(o)try{return new ImageData(t,e,r)}catch(i){o=!1}const n=m(e,r,a);return n.data.set(t,0),n}function f(){return i||(i=document.createElement(\"canvas\"),i.width=1,i.height=1),i}function m(t,e,r){return r||(r=f()),r.getContext(\"2d\").createImageData(t,e)}async function u(a,n){const i=window.URL.createObjectURL(a);try{const{data:e}=await t(i,{...n,responseType:\"image\"});return e}catch(o){if(!r(o))throw new e(\"invalid-image\",`Could not fetch requested image at ${i}`);throw o}finally{window.URL.revokeObjectURL(i)}}async function p(t,e){const{arrayBuffer:r,mediaType:a}=await d(t,e),n=\"image/png\"===a;if(\"image/gif\"===a){const{isAnimatedGIF:t,parseGif:a}=await import(\"./image/gif.js\");if(t(r))return a(r,e)}if(n){const{isAnimatedPNG:t,parseApng:a}=await import(\"./image/apng.js\");if(t(r))return a(r,e)}return u(new Blob([r],{type:a}),e)}async function d(e,r){const i=a(e);if(i?.isBase64)return{arrayBuffer:n(i.data),mediaType:i.mediaType};const o=await t(e,{responseType:\"array-buffer\",...r});return{arrayBuffer:o.data,mediaType:o.getHeader?.(\"Content-Type\")??\"\"}}export{s as createEmptyImageData,p as getImageData,c as wrapImageData};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}