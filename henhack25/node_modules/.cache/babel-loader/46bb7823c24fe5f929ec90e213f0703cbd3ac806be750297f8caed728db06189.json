{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"./cache.js\";\nimport { FeatureSetError as t, FeatureSetErrorCodes as n } from \"./errorsupport.js\";\nimport s from \"./FeatureSetIterator.js\";\nimport i from \"./IdSet.js\";\nimport { FeatureServiceDatabaseType as a, layerGeometryEsriConstants as r, IdState as l, esriFieldToJson as u, layerGeometryEsriRestConstants as h } from \"./shared.js\";\nimport { max as o, min as c, sum as d, variance as f, stdev as _, mean as p, distinct as m, count as g } from \"./stats.js\";\nimport { invokeRemoteGeometryOp as y } from \"../../geometry/operatorsWorkerConnection.js\";\nimport { isPromiseLike as F } from \"../../../core/promiseUtils.js\";\nimport I from \"../../../core/sql/WhereClause.js\";\nimport T from \"../../../geometry/SpatialReference.js\";\nimport { fromJSON as b } from \"../../../geometry/support/jsonUtils.js\";\nimport w from \"../../../layers/support/FieldsIndex.js\";\nclass S {\n  constructor(e) {\n    this.recentlyUsedQueries = null, this.featureSetQueryInterceptor = null, this._idstates = [], this._parent = null, this._wset = null, this._mainSetInUse = null, this._maxProcessing = 200, this._maxQuery = 500, this._totalCount = -1, this._databaseType = a.NotEvaluated, this._databaseTypeProbed = null, this.declaredRootClass = \"esri.arcade.featureset.support.FeatureSet\", this._featureCache = Object.create(null), this.typeIdField = null, this.types = null, this.subtypeField = null, this.subtypes = null, this.fields = null, this.geometryType = \"\", this.objectIdField = \"\", this.globalIdField = \"\", this.spatialReference = null, this.hasM = !1, this.hasZ = !1, this._transparent = !1, this.loaded = !1, this._loadPromise = null, this._fieldsIndex = null, this.fsetInfo = null, e?.lrucache && (this.recentlyUsedQueries = e.lrucache), e?.interceptor && (this.featureSetQueryInterceptor = e.interceptor);\n  }\n  optimisePagingFeatureQueries(e) {\n    this._parent && this._parent.optimisePagingFeatureQueries(e);\n  }\n  _hasMemorySource() {\n    return !0;\n  }\n  prop(e, t) {\n    return void 0 === t ? this[e] : (void 0 !== this[e] && (this[e] = t), this);\n  }\n  end() {\n    return null !== this._parent && !0 === this._parent._transparent ? this._parent.end() : this._parent;\n  }\n  _ensureLoaded() {\n    return this.load();\n  }\n  load() {\n    return null === this._loadPromise && (this._loadPromise = this.loadImpl()), this._loadPromise;\n  }\n  async loadImpl() {\n    return !0 === this._parent?.loaded ? (this._initialiseFeatureSet(), this) : (await this._parent?.load(), this._initialiseFeatureSet(), this);\n  }\n  _initialiseFeatureSet() {\n    null !== this._parent ? (this.fields = this._parent.fields.slice(), this.geometryType = this._parent.geometryType, this.objectIdField = this._parent.objectIdField, this.globalIdField = this._parent.globalIdField, this.spatialReference = this._parent.spatialReference, this.hasM = this._parent.hasM, this.hasZ = this._parent.hasZ, this.typeIdField = this._parent.typeIdField, this.types = this._parent.types, this.subtypeField = this._parent.subtypeField, this.subtypes = this._parent.subtypes) : (this.fields = [], this.typeIdField = \"\", this.subtypeField = \"\", this.objectIdField = \"\", this.globalIdField = \"\", this.spatialReference = new T({\n      wkid: 4326\n    }), this.geometryType = r.point);\n  }\n  getField(e, t) {\n    let n;\n    return (t = t || this.fields) && (e = e.toLowerCase(), t.some(t => (t && t.name.toLowerCase() === e && (n = t), !!n))), n;\n  }\n  getFieldsIndex() {\n    return null === this._fieldsIndex && (this._fieldsIndex = w.fromLayer({\n      timeInfo: this.timeInfo,\n      editFieldsInfo: this.editFieldsInfo,\n      dateFieldsTimeZone: this.dateFieldsTimeZone,\n      datesInUnknownTimezone: this.datesInUnknownTimezone,\n      fields: this.fields\n    })), this._fieldsIndex;\n  }\n  _maxProcessingRate() {\n    return null !== this._parent ? Math.min(this._maxProcessing, this._parent._maxProcessingRate()) : Math.min(this._maxProcessing, this._maxQueryRate());\n  }\n  _maxQueryRate() {\n    return null !== this._parent ? Math.max(this._maxQuery, this._parent._maxQueryRate()) : this._maxQuery;\n  }\n  _checkCancelled(e) {\n    if (null != e && e.aborted) throw new t(n.Cancelled);\n  }\n  nativeCapabilities() {\n    return this._parent.nativeCapabilities();\n  }\n  async _canDoAggregates(e, t, n, s, i) {\n    return null !== this._parent && this._parent._canDoAggregates(e, t, n, s, i);\n  }\n  async _getAggregatePagesDataSourceDefinition(e, s, i, a, r, l, u) {\n    if (null === this._parent) throw new t(n.NeverReach);\n    return this._parent._getAggregatePagesDataSourceDefinition(e, s, i, a, r, l, u);\n  }\n  async _getAgregagtePhysicalPage(e, s, i) {\n    if (null === this._parent) throw new t(n.NeverReach);\n    return this._parent._getAgregagtePhysicalPage(e, s, i);\n  }\n  async databaseType() {\n    if (this._databaseType === a.NotEvaluated) {\n      if (null !== e.applicationCache) {\n        const t = e.applicationCache.getDatabaseType(this._cacheableFeatureSetSourceKey());\n        if (null !== t) return t;\n      }\n      if (null !== this._databaseTypeProbed) return this._databaseTypeProbed;\n      try {\n        this._databaseTypeProbed = this._getDatabaseTypeImpl(), null !== e.applicationCache && e.applicationCache.setDatabaseType(this._cacheableFeatureSetSourceKey(), this._databaseTypeProbed);\n      } catch (t) {\n        throw null !== e.applicationCache && e.applicationCache.clearDatabaseType(this._cacheableFeatureSetSourceKey()), t;\n      }\n      return this._databaseTypeProbed;\n    }\n    return this._databaseType;\n  }\n  async _getDatabaseTypeImpl() {\n    const e = [{\n      thetype: a.SqlServer,\n      testwhere: \"(CAST( '2015-01-01' as DATETIME) = CAST( '2015-01-01' as DATETIME)) AND OBJECTID<0\"\n    }, {\n      thetype: a.Oracle,\n      testwhere: \"(TO_DATE('2003-11-18','YYYY-MM-DD') = TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID<0\"\n    }, {\n      thetype: a.StandardisedNoInterval,\n      testwhere: \"(date '2015-01-01 10:10:10' = date '2015-01-01 10:10:10') AND OBJECTID<0\"\n    }];\n    for (const t of e) {\n      if (!0 === (await this._runDatabaseProbe(t.testwhere))) return t.thetype;\n    }\n    return a.StandardisedNoInterval;\n  }\n  _cacheableFeatureSetSourceKey() {\n    return \"MUSTBESET\";\n  }\n  async _runDatabaseProbe(e) {\n    if (null !== this._parent) return this._parent._runDatabaseProbe(e);\n    throw new t(n.NotImplemented);\n  }\n  isTable() {\n    return this._parent?.isTable() ?? !1;\n  }\n  _featureFromCache(e) {\n    if (void 0 !== this._featureCache[e]) return this._featureCache[e];\n  }\n  _isInFeatureSet(e) {\n    return l.Unknown;\n  }\n  _getSet(e) {\n    throw new t(n.NotImplemented);\n  }\n  async _getFeature(e, s, i) {\n    if (this._checkCancelled(i), void 0 !== this._featureFromCache(s)) return this._featureFromCache(s);\n    if (await this._getFeatures(e, s, this._maxProcessingRate(), i), this._checkCancelled(i), void 0 !== this._featureFromCache(s)) return this._featureFromCache(s);\n    throw new t(n.MissingFeatures);\n  }\n  async _getFeatureBatch(e, t) {\n    this._checkCancelled(t);\n    const n = new i([], e, !1, null),\n      s = [];\n    await this._getFeatures(n, -1, e.length, t), this._checkCancelled(t);\n    for (const i of e) void 0 !== this._featureFromCache(i) && s.push(this._featureFromCache(i));\n    return s;\n  }\n  async _getFeatures(e, t, n, s) {\n    return \"success\";\n  }\n  _getFilteredSet(e, s, i, a, r) {\n    throw new t(n.NotImplemented);\n  }\n  async _refineSetBlock(e, t, n) {\n    if (!0 === this._checkIfNeedToExpandCandidatePage(e, this._maxQueryRate())) return await this._expandPagedSet(e, this._maxQueryRate(), 0, 0, n), this._refineSetBlock(e, t, n);\n    this._checkCancelled(n);\n    const s = e._candidates.length;\n    this._refineKnowns(e, t);\n    let i = s - e._candidates.length;\n    if (0 === e._candidates.length) return e;\n    if (i >= t) return e;\n    if (await this._refineIfParentKnown(e, t - i, n), this._checkCancelled(n), this._refineKnowns(e, t - i), i = s - e._candidates.length, i < t && e._candidates.length > 0) {\n      const s = t - i,\n        a = this._prepareFetchAndRefineSet(e._candidates);\n      return await this._fetchAndRefineFeatures(a, a.length > s ? s : e._candidates.length, n), this._checkCancelled(n), this._refineKnowns(e, t - i), e;\n    }\n    return e;\n  }\n  _fetchAndRefineFeatures(e, t, n) {\n    return null;\n  }\n  _prepareFetchAndRefineSet(e) {\n    const t = [];\n    for (let n = 0; n < e.length; n++) this._isPhysicalFeature(e[n]) && t.push(e[n]);\n    return t;\n  }\n  _isPhysicalFeature(e) {\n    return null === this._parent || this._parent._isPhysicalFeature(e);\n  }\n  _refineKnowns(e, t) {\n    let n = 0,\n      s = null;\n    const i = [];\n    t = this._maxQueryRate();\n    for (let a = 0; a < e._candidates.length && \"GETPAGES\" !== e._candidates[a]; a++) {\n      let r = !1;\n      const u = this._candidateIdTransform(e._candidates[a]);\n      u !== e._candidates[a] && (r = !0);\n      const h = this._isInFeatureSet(u);\n      if (h === l.InFeatureSet) !0 === r ? e._known.includes(u) || (e._known.push(u), n += 1) : (e._known.push(e._candidates[a]), n += 1), null === s ? s = {\n        start: a,\n        end: a\n      } : s.end === a - 1 ? s.end = a : (i.push(s), s = {\n        start: a,\n        end: a\n      });else if (h === l.NotInFeatureSet) null === s ? s = {\n        start: a,\n        end: a\n      } : s.end === a - 1 ? s.end = a : (i.push(s), s = {\n        start: a,\n        end: a\n      }), n += 1;else if (h === l.Unknown && (n += 1, !0 === e._ordered)) break;\n      if (n >= t) break;\n    }\n    null !== s && i.push(s);\n    for (let a = i.length - 1; a >= 0; a--) e._candidates.splice(i[a].start, i[a].end - i[a].start + 1);\n  }\n  _refineIfParentKnown(e, t, n) {\n    const s = new i([], [], e._ordered, null);\n    return s._candidates = e._candidates.slice(), this._parent._refineSetBlock(s, t, n);\n  }\n  _candidateIdTransform(e) {\n    return this._parent._candidateIdTransform(e);\n  }\n  _checkIfNeedToExpandKnownPage(e, t) {\n    if (null === e.pagesDefinition) return !1;\n    let n = 0;\n    for (let s = e._lastFetchedIndex; s < e._known.length; s++) {\n      if (\"GETPAGES\" === e._known[s]) return !0;\n      if (void 0 === this._featureCache[e._known[s]] && (n += 1, n >= t)) break;\n    }\n    return !1;\n  }\n  _checkIfNeedToExpandCandidatePage(e, t) {\n    if (null === e.pagesDefinition) return !1;\n    let n = 0;\n    for (let s = 0; s < e._candidates.length; s++) {\n      if (\"GETPAGES\" === e._candidates[s]) return !0;\n      if (n += 1, n >= t) break;\n    }\n    return !1;\n  }\n  async _expandPagedSet(e, s, i, a, r) {\n    if (null === this._parent) throw new t(n.NotImplemented);\n    return this._parent._expandPagedSet(e, s, i, a, r);\n  }\n  async _expandPagedSetFeatureSet(e, t, n, s, i) {\n    if (e._known.length > 0 && \"GETPAGES\" === e._known[e._known.length - 1] && (s = 1), 0 === s && e._candidates.length > 0 && \"GETPAGES\" === e._candidates[e._candidates.length - 1] && (s = 2), 0 === s) return \"finished\";\n    const a = await this._getPage(e, s, i);\n    return n + a < t ? this._expandPagedSet(e, t, n + a, 0, i) : \"success\";\n  }\n  async _getPage(e, t, n) {\n    const s = 1 === t ? e._known : e._candidates;\n    if (e.pagesDefinition.internal.set.length > e.pagesDefinition.resultOffset || !0 === e.pagesDefinition.internal.fullyResolved) {\n      s.length = s.length - 1;\n      let t = 0;\n      for (let i = 0; i < e.pagesDefinition.resultRecordCount && !(e.pagesDefinition.resultOffset + i >= e.pagesDefinition.internal.set.length); i++) s[s.length] = e.pagesDefinition.internal.set[e.pagesDefinition.resultOffset + i], t++;\n      e.pagesDefinition.resultOffset += t;\n      let n = !1;\n      return !0 === e.pagesDefinition.internal.fullyResolved && e.pagesDefinition.internal.set.length <= e.pagesDefinition.resultOffset && (n = !0), !1 === n && s.push(\"GETPAGES\"), t;\n    }\n    return await this._getPhysicalPage(e, t, n), this._getPage(e, t, n);\n  }\n  _getPhysicalPage(e, t, n) {\n    return null;\n  }\n  _clonePageDefinition(e) {\n    return null === this._parent ? null : this._parent._clonePageDefinition(e);\n  }\n  _first(e) {\n    return this.iterator(e).next();\n  }\n  first(e) {\n    return this._first(e);\n  }\n  async calculateStatistic(e, t, n, s) {\n    await this._ensureLoaded();\n    let i = await this._stat(e, t, \"\", null, null, n, s);\n    return !1 === i.calculated && (i = await this._manualStat(e, t, n, s)), i.result;\n  }\n  async _manualStat(e, t, n, s) {\n    let i = null;\n    switch (e.toLowerCase()) {\n      case \"count\":\n        return i = await g(this, s), {\n          calculated: !0,\n          result: i\n        };\n      case \"distinct\":\n        return i = await m(this, t, n, s), {\n          calculated: !0,\n          result: i\n        };\n      case \"avg\":\n      case \"mean\":\n        return i = await p(this, t, s), {\n          calculated: !0,\n          result: i\n        };\n      case \"stdev\":\n        return i = await _(this, t, s), {\n          calculated: !0,\n          result: i\n        };\n      case \"variance\":\n        return i = await f(this, t, s), {\n          calculated: !0,\n          result: i\n        };\n      case \"sum\":\n        return i = await d(this, t, s), {\n          calculated: !0,\n          result: i\n        };\n      case \"min\":\n        return i = await c(this, t, s), {\n          calculated: !0,\n          result: i\n        };\n      case \"max\":\n        return i = await o(this, t, s), {\n          calculated: !0,\n          result: i\n        };\n      default:\n        return {\n          calculated: !0,\n          result: 0\n        };\n    }\n  }\n  async _stat(e, t, n, s, i, a, r) {\n    const l = await this._parent._stat(e, t, n, s, i, a, r);\n    return !1 === l.calculated ? null === i && \"\" === n && null === s ? this._manualStat(e, t, a, r) : {\n      calculated: !1\n    } : l;\n  }\n  _unionAllGeomSelf(e) {\n    const t = this.iterator(this._defaultTracker(e)),\n      n = [];\n    return new Promise((e, s) => {\n      this._unionShapeInBatches(n, t, e, s);\n    });\n  }\n  _unionAllGeom(e) {\n    return new Promise((t, n) => {\n      const s = this.iterator(this._defaultTracker(e)),\n        i = [];\n      this._unionShapeInBatches(i, s, t, n);\n    });\n  }\n  _unionShapeInBatches(e, t, n, s) {\n    t.next().then(i => {\n      try {\n        null !== i && null !== i.geometry && e.push(i.geometry), e.length > 30 || null === i && e.length > 1 ? y(\"union\", [e.map(e => e.toJSON())]).then(a => {\n          try {\n            null === i ? n(a) : (e = [b(a)], this._unionShapeInBatches(e, t, n, s));\n          } catch (r) {\n            s(r);\n          }\n        }, s) : null === i ? 1 === e.length ? n(e[0]) : n(null) : this._unionShapeInBatches(e, t, n, s);\n      } catch (a) {\n        s(a);\n      }\n    }, s);\n  }\n  iterator(e) {\n    return new s(this, e);\n  }\n  intersection(e, t = !1) {\n    return S._featuresetFunctions.intersection.bind(this)(e, t);\n  }\n  difference(e, t = !1, n = !0) {\n    return S._featuresetFunctions.difference.bind(this)(e, t, n);\n  }\n  symmetricDifference(e, t = !1, n = !0) {\n    return S._featuresetFunctions.symmetricDifference.bind(this)(e, t, n);\n  }\n  morphShape(e, t, n = \"unknown\", s = null) {\n    return S._featuresetFunctions.morphShape.bind(this)(e, t, n, s);\n  }\n  morphShapeAndAttributes(e, t, n = \"unknown\") {\n    return S._featuresetFunctions.morphShapeAndAttributes.bind(this)(e, t, n);\n  }\n  union(e, t = !1) {\n    return S._featuresetFunctions.union.bind(this)(e, t);\n  }\n  intersects(e) {\n    return S._featuresetFunctions.intersects.bind(this)(e);\n  }\n  envelopeIntersects(e) {\n    return S._featuresetFunctions.envelopeIntersects.bind(this)(e);\n  }\n  contains(e) {\n    return S._featuresetFunctions.contains.bind(this)(e);\n  }\n  overlaps(e) {\n    return S._featuresetFunctions.overlaps.bind(this)(e);\n  }\n  relate(e, t) {\n    return S._featuresetFunctions.relate.bind(this)(e, t);\n  }\n  within(e) {\n    return S._featuresetFunctions.within.bind(this)(e);\n  }\n  touches(e) {\n    return S._featuresetFunctions.touches.bind(this)(e);\n  }\n  top(e) {\n    return S._featuresetFunctions.top.bind(this)(e);\n  }\n  crosses(e) {\n    return S._featuresetFunctions.crosses.bind(this)(e);\n  }\n  buffer(e, t, n, s = !0) {\n    return S._featuresetFunctions.buffer.bind(this)(e, t, n, s);\n  }\n  filter(e, t = null) {\n    return S._featuresetFunctions.filter.bind(this)(e, t);\n  }\n  orderBy(e) {\n    return S._featuresetFunctions.orderBy.bind(this)(e);\n  }\n  dissolve(e, t) {\n    return S._featuresetFunctions.dissolve.bind(this)(e, t);\n  }\n  groupby(e, t) {\n    return S._featuresetFunctions.groupby.bind(this)(e, t);\n  }\n  reduce(e, t = null, n) {\n    return new Promise((s, i) => {\n      this._reduceImpl(this.iterator(this._defaultTracker(n)), e, t, 0, s, i, 0);\n    });\n  }\n  _reduceImpl(e, t, n, s, i, a, r) {\n    try {\n      if (++r > 1e3) return void setTimeout(() => {\n        r = 0, this._reduceImpl(e, t, n, s, i, a, r);\n      });\n      e.next().then(l => {\n        try {\n          if (null === l) i(n);else {\n            const u = t(n, l, s, this);\n            F(u) ? u.then(n => {\n              this._reduceImpl(e, t, n, s + 1, i, a, r);\n            }, a) : this._reduceImpl(e, t, u, s + 1, i, a, r);\n          }\n        } catch (u) {\n          a(u);\n        }\n      }, a);\n    } catch (l) {\n      a(l);\n    }\n  }\n  removeField(e) {\n    return S._featuresetFunctions.removeField.bind(this)(e);\n  }\n  addField(e, t, n = null) {\n    return S._featuresetFunctions.addField.bind(this)(e, t, n);\n  }\n  async sumArea(e, t = !1, n) {\n    const s = this.iterator(n);\n    let i,\n      a = 0;\n    for (; null != (i = await s.next());) null != i.geometry && (a += t ? await y(\"geodeticArea\", [i.geometry.toJSON(), e]) : await y(\"area\", [i.geometry.toJSON(), e]));\n    return a;\n  }\n  async sumLength(e, t = !1, n) {\n    const s = this.iterator(n);\n    let i,\n      a = 0;\n    for (; null != (i = await s.next());) null != i.geometry && (a += t ? await y(\"geodeticLength\", [i.geometry.toJSON(), e]) : await y(\"length\", [i.geometry.toJSON(), e]));\n    return a;\n  }\n  async distinct(e, t = 1e3, n = null, s) {\n    await this.load();\n    const i = I.create(e, {\n      fieldsIndex: this.getFieldsIndex(),\n      timeZone: this.dateFieldsTimeZoneDefaultUTC\n    });\n    return D(i, n), this.calculateStatistic(\"distinct\", i, t, this._defaultTracker(s));\n  }\n  async min(e, t = null, n) {\n    await this.load();\n    const s = I.create(e, {\n      fieldsIndex: this.getFieldsIndex(),\n      timeZone: this.dateFieldsTimeZoneDefaultUTC\n    });\n    return D(s, t), this.calculateStatistic(\"min\", s, -1, this._defaultTracker(n));\n  }\n  async max(e, t = null, n) {\n    await this.load();\n    const s = I.create(e, {\n      fieldsIndex: this.getFieldsIndex(),\n      timeZone: this.dateFieldsTimeZoneDefaultUTC\n    });\n    return D(s, t), this.calculateStatistic(\"max\", s, -1, this._defaultTracker(n));\n  }\n  async avg(e, t = null, n) {\n    await this.load();\n    const s = I.create(e, {\n      fieldsIndex: this.getFieldsIndex(),\n      timeZone: this.dateFieldsTimeZoneDefaultUTC\n    });\n    return D(s, t), this.calculateStatistic(\"avg\", s, -1, this._defaultTracker(n));\n  }\n  async sum(e, t = null, n) {\n    await this.load();\n    const s = I.create(e, {\n      fieldsIndex: this.getFieldsIndex(),\n      timeZone: this.dateFieldsTimeZoneDefaultUTC\n    });\n    return D(s, t), this.calculateStatistic(\"sum\", s, -1, this._defaultTracker(n));\n  }\n  async stdev(e, t = null, n) {\n    await this.load();\n    const s = I.create(e, {\n      fieldsIndex: this.getFieldsIndex(),\n      timeZone: this.dateFieldsTimeZoneDefaultUTC\n    });\n    return D(s, t), this.calculateStatistic(\"stdev\", s, -1, this._defaultTracker(n));\n  }\n  async variance(e, t = null, n) {\n    await this.load();\n    const s = I.create(e, {\n      fieldsIndex: this.getFieldsIndex(),\n      timeZone: this.dateFieldsTimeZoneDefaultUTC\n    });\n    return D(s, t), this.calculateStatistic(\"variance\", s, -1, this._defaultTracker(n));\n  }\n  async count(e) {\n    return await this.load(), this.calculateStatistic(\"count\", I.create(\"1\", {\n      fieldsIndex: this.getFieldsIndex(),\n      timeZone: this.dateFieldsTimeZoneDefaultUTC\n    }), -1, this._defaultTracker(e));\n  }\n  _defaultTracker(e) {\n    return e ?? {\n      aborted: !1\n    };\n  }\n  forEach(e, t) {\n    return new Promise((n, s) => {\n      this._forEachImpl(this.iterator(this._defaultTracker(t)), e, this, n, s, 0);\n    });\n  }\n  _forEachImpl(e, t, n, s, i, a) {\n    try {\n      if (++a > 1e3) return void setTimeout(() => {\n        a = 0, this._forEachImpl(e, t, n, s, i, a);\n      }, 0);\n      e.next().then(r => {\n        try {\n          if (null === r) s(n);else {\n            const l = t(r);\n            null == l ? this._forEachImpl(e, t, n, s, i, a) : F(l) ? l.then(() => {\n              try {\n                this._forEachImpl(e, t, n, s, i, a);\n              } catch (r) {\n                i(r);\n              }\n            }, i) : this._forEachImpl(e, t, n, s, i, a);\n          }\n        } catch (l) {\n          i(l);\n        }\n      }, i);\n    } catch (r) {\n      i(r);\n    }\n  }\n  convertToJSON(e) {\n    const t = {\n      layerDefinition: {\n        geometryType: this.geometryType,\n        fields: []\n      },\n      featureSet: {\n        features: [],\n        geometryType: this.geometryType\n      }\n    };\n    for (let n = 0; n < this.fields.length; n++) t.layerDefinition.fields.push(u(this.fields[n]));\n    return this.reduce((e, n) => {\n      const s = {\n        geometry: n.geometry?.toJSON(),\n        attributes: {}\n      };\n      for (const t in n.attributes) s.attributes[t] = n.attributes[t];\n      return t.featureSet.features.push(s), 1;\n    }, 0, e).then(() => t);\n  }\n  castToText(e = !1) {\n    return \"object, FeatureSet\";\n  }\n  queryAttachments(e, t, n, s, i) {\n    return this._parent.queryAttachments(e, t, n, s, i);\n  }\n  serviceUrl() {\n    return this._parent.serviceUrl();\n  }\n  subtypeMetaData() {\n    return this.subtypeField && this.subtypes ? {\n      subtypeField: this.subtypeField,\n      subtypes: this.subtypes ? this.subtypes.map(e => ({\n        name: e.name,\n        code: e.code\n      })) : []\n    } : this.typeIdField ? {\n      subtypeField: this.typeIdField,\n      subtypes: this.types ? this.types.map(e => ({\n        name: e.name,\n        code: e.id\n      })) : []\n    } : null;\n  }\n  relationshipMetaData() {\n    return this._parent.relationshipMetaData();\n  }\n  get gdbVersion() {\n    return this._parent ? this._parent.gdbVersion : \"\";\n  }\n  schema() {\n    const e = [];\n    for (const t of this.fields) e.push(u(t));\n    return {\n      objectIdField: this.objectIdField,\n      globalIdField: this.globalIdField,\n      geometryType: void 0 === h[this.geometryType] ? \"esriGeometryNull\" : h[this.geometryType],\n      fields: e\n    };\n  }\n  async convertToText(e, t) {\n    if (\"schema\" === e) return await this._ensureLoaded(), JSON.stringify(this.schema());\n    if (\"featureset\" === e) {\n      await this._ensureLoaded();\n      const e = [];\n      await this.reduce((t, n) => {\n        const s = {\n          geometry: n.geometry ? n.geometry.toJSON() : null,\n          attributes: n.attributes\n        };\n        return null !== s.geometry && s.geometry.spatialReference && delete s.geometry.spatialReference, e.push(s), 1;\n      }, 0, t);\n      const n = this.schema();\n      return n.features = e, n.spatialReference = this.spatialReference.toJSON(), JSON.stringify(n);\n    }\n    return this.castToText();\n  }\n  getFeatureByObjectId(e, t) {\n    return this._parent.getFeatureByObjectId(e, t);\n  }\n  getOwningSystemUrl() {\n    return this._parent.getOwningSystemUrl();\n  }\n  getIdentityUser() {\n    return this._parent.getIdentityUser();\n  }\n  getRootFeatureSet() {\n    return null !== this._parent ? this._parent.getRootFeatureSet() : this;\n  }\n  getDataSourceFeatureSet() {\n    return null !== this._parent ? this._parent.getDataSourceFeatureSet() : this;\n  }\n  castAsJson(e = null) {\n    return \"keeptype\" === e?.featureset ? this : \"none\" === e?.featureset ? null : {\n      type: \"FeatureSet\"\n    };\n  }\n  async castAsJsonAsync(e = null, t = null) {\n    if (\"keeptype\" === t?.featureset) return this;\n    if (\"schema\" === t?.featureset) return await this._ensureLoaded(), JSON.parse(JSON.stringify(this.schema()));\n    if (\"none\" === t?.featureset) return null;\n    await this._ensureLoaded();\n    const n = [];\n    await this.reduce((e, s) => {\n      const i = {\n        geometry: s.geometry ? !0 === t?.keepGeometryType ? s.geometry : s.geometry.toJSON() : null,\n        attributes: s.attributes\n      };\n      return null !== i.geometry && i.geometry.spatialReference && !0 !== t?.keepGeometryType && delete i.geometry.spatialReference, n.push(i), 1;\n    }, 0, e);\n    const s = this.schema();\n    return s.features = n, s.spatialReference = !0 === t?.keepGeometryType ? this.spatialReference : this.spatialReference?.toJSON(), s;\n  }\n  fieldTimeZone(e) {\n    return this.getFieldsIndex().getTimeZone(e);\n  }\n  get preferredTimeZone() {\n    return this._parent?.preferredTimeZone ?? null;\n  }\n  get dateFieldsTimeZone() {\n    return this._parent?.dateFieldsTimeZone ?? null;\n  }\n  get dateFieldsTimeZoneDefaultUTC() {\n    if (this.datesInUnknownTimezone) return \"unknown\";\n    const e = this.dateFieldsTimeZone ?? \"UTC\";\n    return \"\" === e ? \"UTC\" : e;\n  }\n  get datesInUnknownTimezone() {\n    return this._parent.datesInUnknownTimezone;\n  }\n  get editFieldsInfo() {\n    return this._parent?.editFieldsInfo ?? null;\n  }\n  get timeInfo() {\n    return this._parent?.timeInfo ?? null;\n  }\n  set featureSetInfo(e) {\n    this.fsetInfo = e;\n  }\n  async getFeatureSetInfo() {\n    return this.fsetInfo ?? (await this._parent?.getFeatureSetInfo()) ?? null;\n  }\n}\nfunction D(e, t) {\n  if (null !== t) {\n    const n = {};\n    for (const e in t) n[e.toLowerCase()] = t[e];\n    e.parameters = n;\n  }\n}\nS._featuresetFunctions = {};\nexport { S as default };","map":{"version":3,"names":["e","FeatureSetError","t","FeatureSetErrorCodes","n","s","i","FeatureServiceDatabaseType","a","layerGeometryEsriConstants","r","IdState","l","esriFieldToJson","u","layerGeometryEsriRestConstants","h","max","o","min","c","sum","d","variance","f","stdev","_","mean","p","distinct","m","count","g","invokeRemoteGeometryOp","y","isPromiseLike","F","I","T","fromJSON","b","w","S","constructor","recentlyUsedQueries","featureSetQueryInterceptor","_idstates","_parent","_wset","_mainSetInUse","_maxProcessing","_maxQuery","_totalCount","_databaseType","NotEvaluated","_databaseTypeProbed","declaredRootClass","_featureCache","Object","create","typeIdField","types","subtypeField","subtypes","fields","geometryType","objectIdField","globalIdField","spatialReference","hasM","hasZ","_transparent","loaded","_loadPromise","_fieldsIndex","fsetInfo","lrucache","interceptor","optimisePagingFeatureQueries","_hasMemorySource","prop","end","_ensureLoaded","load","loadImpl","_initialiseFeatureSet","slice","wkid","point","getField","toLowerCase","some","name","getFieldsIndex","fromLayer","timeInfo","editFieldsInfo","dateFieldsTimeZone","datesInUnknownTimezone","_maxProcessingRate","Math","_maxQueryRate","_checkCancelled","aborted","Cancelled","nativeCapabilities","_canDoAggregates","_getAggregatePagesDataSourceDefinition","NeverReach","_getAgregagtePhysicalPage","databaseType","applicationCache","getDatabaseType","_cacheableFeatureSetSourceKey","_getDatabaseTypeImpl","setDatabaseType","clearDatabaseType","thetype","SqlServer","testwhere","Oracle","StandardisedNoInterval","_runDatabaseProbe","NotImplemented","isTable","_featureFromCache","_isInFeatureSet","Unknown","_getSet","_getFeature","_getFeatures","MissingFeatures","_getFeatureBatch","length","push","_getFilteredSet","_refineSetBlock","_checkIfNeedToExpandCandidatePage","_expandPagedSet","_candidates","_refineKnowns","_refineIfParentKnown","_prepareFetchAndRefineSet","_fetchAndRefineFeatures","_isPhysicalFeature","_candidateIdTransform","InFeatureSet","_known","includes","start","NotInFeatureSet","_ordered","splice","_checkIfNeedToExpandKnownPage","pagesDefinition","_lastFetchedIndex","_expandPagedSetFeatureSet","_getPage","internal","set","resultOffset","fullyResolved","resultRecordCount","_getPhysicalPage","_clonePageDefinition","_first","iterator","next","first","calculateStatistic","_stat","calculated","_manualStat","result","_unionAllGeomSelf","_defaultTracker","Promise","_unionShapeInBatches","_unionAllGeom","then","geometry","map","toJSON","intersection","_featuresetFunctions","bind","difference","symmetricDifference","morphShape","morphShapeAndAttributes","union","intersects","envelopeIntersects","contains","overlaps","relate","within","touches","top","crosses","buffer","filter","orderBy","dissolve","groupby","reduce","_reduceImpl","setTimeout","removeField","addField","sumArea","sumLength","fieldsIndex","timeZone","dateFieldsTimeZoneDefaultUTC","D","avg","forEach","_forEachImpl","convertToJSON","layerDefinition","featureSet","features","attributes","castToText","queryAttachments","serviceUrl","subtypeMetaData","code","id","relationshipMetaData","gdbVersion","schema","convertToText","JSON","stringify","getFeatureByObjectId","getOwningSystemUrl","getIdentityUser","getRootFeatureSet","getDataSourceFeatureSet","castAsJson","featureset","type","castAsJsonAsync","parse","keepGeometryType","fieldTimeZone","getTimeZone","preferredTimeZone","featureSetInfo","getFeatureSetInfo","parameters","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/arcade/featureset/support/FeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./cache.js\";import{FeatureSetError as t,FeatureSetErrorCodes as n}from\"./errorsupport.js\";import s from\"./FeatureSetIterator.js\";import i from\"./IdSet.js\";import{FeatureServiceDatabaseType as a,layerGeometryEsriConstants as r,IdState as l,esriFieldToJson as u,layerGeometryEsriRestConstants as h}from\"./shared.js\";import{max as o,min as c,sum as d,variance as f,stdev as _,mean as p,distinct as m,count as g}from\"./stats.js\";import{invokeRemoteGeometryOp as y}from\"../../geometry/operatorsWorkerConnection.js\";import{isPromiseLike as F}from\"../../../core/promiseUtils.js\";import I from\"../../../core/sql/WhereClause.js\";import T from\"../../../geometry/SpatialReference.js\";import{fromJSON as b}from\"../../../geometry/support/jsonUtils.js\";import w from\"../../../layers/support/FieldsIndex.js\";class S{constructor(e){this.recentlyUsedQueries=null,this.featureSetQueryInterceptor=null,this._idstates=[],this._parent=null,this._wset=null,this._mainSetInUse=null,this._maxProcessing=200,this._maxQuery=500,this._totalCount=-1,this._databaseType=a.NotEvaluated,this._databaseTypeProbed=null,this.declaredRootClass=\"esri.arcade.featureset.support.FeatureSet\",this._featureCache=Object.create(null),this.typeIdField=null,this.types=null,this.subtypeField=null,this.subtypes=null,this.fields=null,this.geometryType=\"\",this.objectIdField=\"\",this.globalIdField=\"\",this.spatialReference=null,this.hasM=!1,this.hasZ=!1,this._transparent=!1,this.loaded=!1,this._loadPromise=null,this._fieldsIndex=null,this.fsetInfo=null,e?.lrucache&&(this.recentlyUsedQueries=e.lrucache),e?.interceptor&&(this.featureSetQueryInterceptor=e.interceptor)}optimisePagingFeatureQueries(e){this._parent&&this._parent.optimisePagingFeatureQueries(e)}_hasMemorySource(){return!0}prop(e,t){return void 0===t?this[e]:(void 0!==this[e]&&(this[e]=t),this)}end(){return null!==this._parent&&!0===this._parent._transparent?this._parent.end():this._parent}_ensureLoaded(){return this.load()}load(){return null===this._loadPromise&&(this._loadPromise=this.loadImpl()),this._loadPromise}async loadImpl(){return!0===this._parent?.loaded?(this._initialiseFeatureSet(),this):(await(this._parent?.load()),this._initialiseFeatureSet(),this)}_initialiseFeatureSet(){null!==this._parent?(this.fields=this._parent.fields.slice(),this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types,this.subtypeField=this._parent.subtypeField,this.subtypes=this._parent.subtypes):(this.fields=[],this.typeIdField=\"\",this.subtypeField=\"\",this.objectIdField=\"\",this.globalIdField=\"\",this.spatialReference=new T({wkid:4326}),this.geometryType=r.point)}getField(e,t){let n;return(t=t||this.fields)&&(e=e.toLowerCase(),t.some((t=>(t&&t.name.toLowerCase()===e&&(n=t),!!n)))),n}getFieldsIndex(){return null===this._fieldsIndex&&(this._fieldsIndex=w.fromLayer({timeInfo:this.timeInfo,editFieldsInfo:this.editFieldsInfo,dateFieldsTimeZone:this.dateFieldsTimeZone,datesInUnknownTimezone:this.datesInUnknownTimezone,fields:this.fields})),this._fieldsIndex}_maxProcessingRate(){return null!==this._parent?Math.min(this._maxProcessing,this._parent._maxProcessingRate()):Math.min(this._maxProcessing,this._maxQueryRate())}_maxQueryRate(){return null!==this._parent?Math.max(this._maxQuery,this._parent._maxQueryRate()):this._maxQuery}_checkCancelled(e){if(null!=e&&e.aborted)throw new t(n.Cancelled)}nativeCapabilities(){return this._parent.nativeCapabilities()}async _canDoAggregates(e,t,n,s,i){return null!==this._parent&&this._parent._canDoAggregates(e,t,n,s,i)}async _getAggregatePagesDataSourceDefinition(e,s,i,a,r,l,u){if(null===this._parent)throw new t(n.NeverReach);return this._parent._getAggregatePagesDataSourceDefinition(e,s,i,a,r,l,u)}async _getAgregagtePhysicalPage(e,s,i){if(null===this._parent)throw new t(n.NeverReach);return this._parent._getAgregagtePhysicalPage(e,s,i)}async databaseType(){if(this._databaseType===a.NotEvaluated){if(null!==e.applicationCache){const t=e.applicationCache.getDatabaseType(this._cacheableFeatureSetSourceKey());if(null!==t)return t}if(null!==this._databaseTypeProbed)return this._databaseTypeProbed;try{this._databaseTypeProbed=this._getDatabaseTypeImpl(),null!==e.applicationCache&&e.applicationCache.setDatabaseType(this._cacheableFeatureSetSourceKey(),this._databaseTypeProbed)}catch(t){throw null!==e.applicationCache&&e.applicationCache.clearDatabaseType(this._cacheableFeatureSetSourceKey()),t}return this._databaseTypeProbed}return this._databaseType}async _getDatabaseTypeImpl(){const e=[{thetype:a.SqlServer,testwhere:\"(CAST( '2015-01-01' as DATETIME) = CAST( '2015-01-01' as DATETIME)) AND OBJECTID<0\"},{thetype:a.Oracle,testwhere:\"(TO_DATE('2003-11-18','YYYY-MM-DD') = TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID<0\"},{thetype:a.StandardisedNoInterval,testwhere:\"(date '2015-01-01 10:10:10' = date '2015-01-01 10:10:10') AND OBJECTID<0\"}];for(const t of e){if(!0===await this._runDatabaseProbe(t.testwhere))return t.thetype}return a.StandardisedNoInterval}_cacheableFeatureSetSourceKey(){return\"MUSTBESET\"}async _runDatabaseProbe(e){if(null!==this._parent)return this._parent._runDatabaseProbe(e);throw new t(n.NotImplemented)}isTable(){return this._parent?.isTable()??!1}_featureFromCache(e){if(void 0!==this._featureCache[e])return this._featureCache[e]}_isInFeatureSet(e){return l.Unknown}_getSet(e){throw new t(n.NotImplemented)}async _getFeature(e,s,i){if(this._checkCancelled(i),void 0!==this._featureFromCache(s))return this._featureFromCache(s);if(await this._getFeatures(e,s,this._maxProcessingRate(),i),this._checkCancelled(i),void 0!==this._featureFromCache(s))return this._featureFromCache(s);throw new t(n.MissingFeatures)}async _getFeatureBatch(e,t){this._checkCancelled(t);const n=new i([],e,!1,null),s=[];await this._getFeatures(n,-1,e.length,t),this._checkCancelled(t);for(const i of e)void 0!==this._featureFromCache(i)&&s.push(this._featureFromCache(i));return s}async _getFeatures(e,t,n,s){return\"success\"}_getFilteredSet(e,s,i,a,r){throw new t(n.NotImplemented)}async _refineSetBlock(e,t,n){if(!0===this._checkIfNeedToExpandCandidatePage(e,this._maxQueryRate()))return await this._expandPagedSet(e,this._maxQueryRate(),0,0,n),this._refineSetBlock(e,t,n);this._checkCancelled(n);const s=e._candidates.length;this._refineKnowns(e,t);let i=s-e._candidates.length;if(0===e._candidates.length)return e;if(i>=t)return e;if(await this._refineIfParentKnown(e,t-i,n),this._checkCancelled(n),this._refineKnowns(e,t-i),i=s-e._candidates.length,i<t&&e._candidates.length>0){const s=t-i,a=this._prepareFetchAndRefineSet(e._candidates);return await this._fetchAndRefineFeatures(a,a.length>s?s:e._candidates.length,n),this._checkCancelled(n),this._refineKnowns(e,t-i),e}return e}_fetchAndRefineFeatures(e,t,n){return null}_prepareFetchAndRefineSet(e){const t=[];for(let n=0;n<e.length;n++)this._isPhysicalFeature(e[n])&&t.push(e[n]);return t}_isPhysicalFeature(e){return null===this._parent||this._parent._isPhysicalFeature(e)}_refineKnowns(e,t){let n=0,s=null;const i=[];t=this._maxQueryRate();for(let a=0;a<e._candidates.length&&\"GETPAGES\"!==e._candidates[a];a++){let r=!1;const u=this._candidateIdTransform(e._candidates[a]);u!==e._candidates[a]&&(r=!0);const h=this._isInFeatureSet(u);if(h===l.InFeatureSet)!0===r?e._known.includes(u)||(e._known.push(u),n+=1):(e._known.push(e._candidates[a]),n+=1),null===s?s={start:a,end:a}:s.end===a-1?s.end=a:(i.push(s),s={start:a,end:a});else if(h===l.NotInFeatureSet)null===s?s={start:a,end:a}:s.end===a-1?s.end=a:(i.push(s),s={start:a,end:a}),n+=1;else if(h===l.Unknown&&(n+=1,!0===e._ordered))break;if(n>=t)break}null!==s&&i.push(s);for(let a=i.length-1;a>=0;a--)e._candidates.splice(i[a].start,i[a].end-i[a].start+1)}_refineIfParentKnown(e,t,n){const s=new i([],[],e._ordered,null);return s._candidates=e._candidates.slice(),this._parent._refineSetBlock(s,t,n)}_candidateIdTransform(e){return this._parent._candidateIdTransform(e)}_checkIfNeedToExpandKnownPage(e,t){if(null===e.pagesDefinition)return!1;let n=0;for(let s=e._lastFetchedIndex;s<e._known.length;s++){if(\"GETPAGES\"===e._known[s])return!0;if(void 0===this._featureCache[e._known[s]]&&(n+=1,n>=t))break}return!1}_checkIfNeedToExpandCandidatePage(e,t){if(null===e.pagesDefinition)return!1;let n=0;for(let s=0;s<e._candidates.length;s++){if(\"GETPAGES\"===e._candidates[s])return!0;if(n+=1,n>=t)break}return!1}async _expandPagedSet(e,s,i,a,r){if(null===this._parent)throw new t(n.NotImplemented);return this._parent._expandPagedSet(e,s,i,a,r)}async _expandPagedSetFeatureSet(e,t,n,s,i){if(e._known.length>0&&\"GETPAGES\"===e._known[e._known.length-1]&&(s=1),0===s&&e._candidates.length>0&&\"GETPAGES\"===e._candidates[e._candidates.length-1]&&(s=2),0===s)return\"finished\";const a=await this._getPage(e,s,i);return n+a<t?this._expandPagedSet(e,t,n+a,0,i):\"success\"}async _getPage(e,t,n){const s=1===t?e._known:e._candidates;if(e.pagesDefinition.internal.set.length>e.pagesDefinition.resultOffset||!0===e.pagesDefinition.internal.fullyResolved){s.length=s.length-1;let t=0;for(let i=0;i<e.pagesDefinition.resultRecordCount&&!(e.pagesDefinition.resultOffset+i>=e.pagesDefinition.internal.set.length);i++)s[s.length]=e.pagesDefinition.internal.set[e.pagesDefinition.resultOffset+i],t++;e.pagesDefinition.resultOffset+=t;let n=!1;return!0===e.pagesDefinition.internal.fullyResolved&&e.pagesDefinition.internal.set.length<=e.pagesDefinition.resultOffset&&(n=!0),!1===n&&s.push(\"GETPAGES\"),t}return await this._getPhysicalPage(e,t,n),this._getPage(e,t,n)}_getPhysicalPage(e,t,n){return null}_clonePageDefinition(e){return null===this._parent?null:this._parent._clonePageDefinition(e)}_first(e){return this.iterator(e).next()}first(e){return this._first(e)}async calculateStatistic(e,t,n,s){await this._ensureLoaded();let i=await this._stat(e,t,\"\",null,null,n,s);return!1===i.calculated&&(i=await this._manualStat(e,t,n,s)),i.result}async _manualStat(e,t,n,s){let i=null;switch(e.toLowerCase()){case\"count\":return i=await g(this,s),{calculated:!0,result:i};case\"distinct\":return i=await m(this,t,n,s),{calculated:!0,result:i};case\"avg\":case\"mean\":return i=await p(this,t,s),{calculated:!0,result:i};case\"stdev\":return i=await _(this,t,s),{calculated:!0,result:i};case\"variance\":return i=await f(this,t,s),{calculated:!0,result:i};case\"sum\":return i=await d(this,t,s),{calculated:!0,result:i};case\"min\":return i=await c(this,t,s),{calculated:!0,result:i};case\"max\":return i=await o(this,t,s),{calculated:!0,result:i};default:return{calculated:!0,result:0}}}async _stat(e,t,n,s,i,a,r){const l=await this._parent._stat(e,t,n,s,i,a,r);return!1===l.calculated?null===i&&\"\"===n&&null===s?this._manualStat(e,t,a,r):{calculated:!1}:l}_unionAllGeomSelf(e){const t=this.iterator(this._defaultTracker(e)),n=[];return new Promise(((e,s)=>{this._unionShapeInBatches(n,t,e,s)}))}_unionAllGeom(e){return new Promise(((t,n)=>{const s=this.iterator(this._defaultTracker(e)),i=[];this._unionShapeInBatches(i,s,t,n)}))}_unionShapeInBatches(e,t,n,s){t.next().then((i=>{try{null!==i&&null!==i.geometry&&e.push(i.geometry),e.length>30||null===i&&e.length>1?y(\"union\",[e.map((e=>e.toJSON()))]).then((a=>{try{null===i?n(a):(e=[b(a)],this._unionShapeInBatches(e,t,n,s))}catch(r){s(r)}}),s):null===i?1===e.length?n(e[0]):n(null):this._unionShapeInBatches(e,t,n,s)}catch(a){s(a)}}),s)}iterator(e){return new s(this,e)}intersection(e,t=!1){return S._featuresetFunctions.intersection.bind(this)(e,t)}difference(e,t=!1,n=!0){return S._featuresetFunctions.difference.bind(this)(e,t,n)}symmetricDifference(e,t=!1,n=!0){return S._featuresetFunctions.symmetricDifference.bind(this)(e,t,n)}morphShape(e,t,n=\"unknown\",s=null){return S._featuresetFunctions.morphShape.bind(this)(e,t,n,s)}morphShapeAndAttributes(e,t,n=\"unknown\"){return S._featuresetFunctions.morphShapeAndAttributes.bind(this)(e,t,n)}union(e,t=!1){return S._featuresetFunctions.union.bind(this)(e,t)}intersects(e){return S._featuresetFunctions.intersects.bind(this)(e)}envelopeIntersects(e){return S._featuresetFunctions.envelopeIntersects.bind(this)(e)}contains(e){return S._featuresetFunctions.contains.bind(this)(e)}overlaps(e){return S._featuresetFunctions.overlaps.bind(this)(e)}relate(e,t){return S._featuresetFunctions.relate.bind(this)(e,t)}within(e){return S._featuresetFunctions.within.bind(this)(e)}touches(e){return S._featuresetFunctions.touches.bind(this)(e)}top(e){return S._featuresetFunctions.top.bind(this)(e)}crosses(e){return S._featuresetFunctions.crosses.bind(this)(e)}buffer(e,t,n,s=!0){return S._featuresetFunctions.buffer.bind(this)(e,t,n,s)}filter(e,t=null){return S._featuresetFunctions.filter.bind(this)(e,t)}orderBy(e){return S._featuresetFunctions.orderBy.bind(this)(e)}dissolve(e,t){return S._featuresetFunctions.dissolve.bind(this)(e,t)}groupby(e,t){return S._featuresetFunctions.groupby.bind(this)(e,t)}reduce(e,t=null,n){return new Promise(((s,i)=>{this._reduceImpl(this.iterator(this._defaultTracker(n)),e,t,0,s,i,0)}))}_reduceImpl(e,t,n,s,i,a,r){try{if(++r>1e3)return void setTimeout((()=>{r=0,this._reduceImpl(e,t,n,s,i,a,r)}));e.next().then((l=>{try{if(null===l)i(n);else{const u=t(n,l,s,this);F(u)?u.then((n=>{this._reduceImpl(e,t,n,s+1,i,a,r)}),a):this._reduceImpl(e,t,u,s+1,i,a,r)}}catch(u){a(u)}}),a)}catch(l){a(l)}}removeField(e){return S._featuresetFunctions.removeField.bind(this)(e)}addField(e,t,n=null){return S._featuresetFunctions.addField.bind(this)(e,t,n)}async sumArea(e,t=!1,n){const s=this.iterator(n);let i,a=0;for(;null!=(i=await s.next());)null!=i.geometry&&(a+=t?await y(\"geodeticArea\",[i.geometry.toJSON(),e]):await y(\"area\",[i.geometry.toJSON(),e]));return a}async sumLength(e,t=!1,n){const s=this.iterator(n);let i,a=0;for(;null!=(i=await s.next());)null!=i.geometry&&(a+=t?await y(\"geodeticLength\",[i.geometry.toJSON(),e]):await y(\"length\",[i.geometry.toJSON(),e]));return a}async distinct(e,t=1e3,n=null,s){await this.load();const i=I.create(e,{fieldsIndex:this.getFieldsIndex(),timeZone:this.dateFieldsTimeZoneDefaultUTC});return D(i,n),this.calculateStatistic(\"distinct\",i,t,this._defaultTracker(s))}async min(e,t=null,n){await this.load();const s=I.create(e,{fieldsIndex:this.getFieldsIndex(),timeZone:this.dateFieldsTimeZoneDefaultUTC});return D(s,t),this.calculateStatistic(\"min\",s,-1,this._defaultTracker(n))}async max(e,t=null,n){await this.load();const s=I.create(e,{fieldsIndex:this.getFieldsIndex(),timeZone:this.dateFieldsTimeZoneDefaultUTC});return D(s,t),this.calculateStatistic(\"max\",s,-1,this._defaultTracker(n))}async avg(e,t=null,n){await this.load();const s=I.create(e,{fieldsIndex:this.getFieldsIndex(),timeZone:this.dateFieldsTimeZoneDefaultUTC});return D(s,t),this.calculateStatistic(\"avg\",s,-1,this._defaultTracker(n))}async sum(e,t=null,n){await this.load();const s=I.create(e,{fieldsIndex:this.getFieldsIndex(),timeZone:this.dateFieldsTimeZoneDefaultUTC});return D(s,t),this.calculateStatistic(\"sum\",s,-1,this._defaultTracker(n))}async stdev(e,t=null,n){await this.load();const s=I.create(e,{fieldsIndex:this.getFieldsIndex(),timeZone:this.dateFieldsTimeZoneDefaultUTC});return D(s,t),this.calculateStatistic(\"stdev\",s,-1,this._defaultTracker(n))}async variance(e,t=null,n){await this.load();const s=I.create(e,{fieldsIndex:this.getFieldsIndex(),timeZone:this.dateFieldsTimeZoneDefaultUTC});return D(s,t),this.calculateStatistic(\"variance\",s,-1,this._defaultTracker(n))}async count(e){return await this.load(),this.calculateStatistic(\"count\",I.create(\"1\",{fieldsIndex:this.getFieldsIndex(),timeZone:this.dateFieldsTimeZoneDefaultUTC}),-1,this._defaultTracker(e))}_defaultTracker(e){return e??{aborted:!1}}forEach(e,t){return new Promise(((n,s)=>{this._forEachImpl(this.iterator(this._defaultTracker(t)),e,this,n,s,0)}))}_forEachImpl(e,t,n,s,i,a){try{if(++a>1e3)return void setTimeout((()=>{a=0,this._forEachImpl(e,t,n,s,i,a)}),0);e.next().then((r=>{try{if(null===r)s(n);else{const l=t(r);null==l?this._forEachImpl(e,t,n,s,i,a):F(l)?l.then((()=>{try{this._forEachImpl(e,t,n,s,i,a)}catch(r){i(r)}}),i):this._forEachImpl(e,t,n,s,i,a)}}catch(l){i(l)}}),i)}catch(r){i(r)}}convertToJSON(e){const t={layerDefinition:{geometryType:this.geometryType,fields:[]},featureSet:{features:[],geometryType:this.geometryType}};for(let n=0;n<this.fields.length;n++)t.layerDefinition.fields.push(u(this.fields[n]));return this.reduce(((e,n)=>{const s={geometry:n.geometry?.toJSON(),attributes:{}};for(const t in n.attributes)s.attributes[t]=n.attributes[t];return t.featureSet.features.push(s),1}),0,e).then((()=>t))}castToText(e=!1){return\"object, FeatureSet\"}queryAttachments(e,t,n,s,i){return this._parent.queryAttachments(e,t,n,s,i)}serviceUrl(){return this._parent.serviceUrl()}subtypeMetaData(){return this.subtypeField&&this.subtypes?{subtypeField:this.subtypeField,subtypes:this.subtypes?this.subtypes.map((e=>({name:e.name,code:e.code}))):[]}:this.typeIdField?{subtypeField:this.typeIdField,subtypes:this.types?this.types.map((e=>({name:e.name,code:e.id}))):[]}:null}relationshipMetaData(){return this._parent.relationshipMetaData()}get gdbVersion(){return this._parent?this._parent.gdbVersion:\"\"}schema(){const e=[];for(const t of this.fields)e.push(u(t));return{objectIdField:this.objectIdField,globalIdField:this.globalIdField,geometryType:void 0===h[this.geometryType]?\"esriGeometryNull\":h[this.geometryType],fields:e}}async convertToText(e,t){if(\"schema\"===e)return await this._ensureLoaded(),JSON.stringify(this.schema());if(\"featureset\"===e){await this._ensureLoaded();const e=[];await this.reduce(((t,n)=>{const s={geometry:n.geometry?n.geometry.toJSON():null,attributes:n.attributes};return null!==s.geometry&&s.geometry.spatialReference&&delete s.geometry.spatialReference,e.push(s),1}),0,t);const n=this.schema();return n.features=e,n.spatialReference=this.spatialReference.toJSON(),JSON.stringify(n)}return this.castToText()}getFeatureByObjectId(e,t){return this._parent.getFeatureByObjectId(e,t)}getOwningSystemUrl(){return this._parent.getOwningSystemUrl()}getIdentityUser(){return this._parent.getIdentityUser()}getRootFeatureSet(){return null!==this._parent?this._parent.getRootFeatureSet():this}getDataSourceFeatureSet(){return null!==this._parent?this._parent.getDataSourceFeatureSet():this}castAsJson(e=null){return\"keeptype\"===e?.featureset?this:\"none\"===e?.featureset?null:{type:\"FeatureSet\"}}async castAsJsonAsync(e=null,t=null){if(\"keeptype\"===t?.featureset)return this;if(\"schema\"===t?.featureset)return await this._ensureLoaded(),JSON.parse(JSON.stringify(this.schema()));if(\"none\"===t?.featureset)return null;await this._ensureLoaded();const n=[];await this.reduce(((e,s)=>{const i={geometry:s.geometry?!0===t?.keepGeometryType?s.geometry:s.geometry.toJSON():null,attributes:s.attributes};return null!==i.geometry&&i.geometry.spatialReference&&!0!==t?.keepGeometryType&&delete i.geometry.spatialReference,n.push(i),1}),0,e);const s=this.schema();return s.features=n,s.spatialReference=!0===t?.keepGeometryType?this.spatialReference:this.spatialReference?.toJSON(),s}fieldTimeZone(e){return this.getFieldsIndex().getTimeZone(e)}get preferredTimeZone(){return this._parent?.preferredTimeZone??null}get dateFieldsTimeZone(){return this._parent?.dateFieldsTimeZone??null}get dateFieldsTimeZoneDefaultUTC(){if(this.datesInUnknownTimezone)return\"unknown\";const e=this.dateFieldsTimeZone??\"UTC\";return\"\"===e?\"UTC\":e}get datesInUnknownTimezone(){return this._parent.datesInUnknownTimezone}get editFieldsInfo(){return this._parent?.editFieldsInfo??null}get timeInfo(){return this._parent?.timeInfo??null}set featureSetInfo(e){this.fsetInfo=e}async getFeatureSetInfo(){return this.fsetInfo??await(this._parent?.getFeatureSetInfo())??null}}function D(e,t){if(null!==t){const n={};for(const e in t)n[e.toLowerCase()]=t[e];e.parameters=n}}S._featuresetFunctions={};export{S as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}