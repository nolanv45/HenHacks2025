{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport r from \"../../../../core/Accessor.js\";\nimport s from \"../../../../core/Identifiable.js\";\nimport { property as t } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { DrapeSourceType as i, DrapedRenderGroup as c } from \"../../layers/interfaces.js\";\nimport { DirtyOperation as u } from \"../../webgl-engine/lib/ModelDirtyTypes.js\";\nimport { UpdatePolicy as n } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nclass d {\n  constructor(e) {\n    this._resourceFactory = e, this._resources = null, this._visible = !0, this._attached = !1, this._renderGroup = c.Outline;\n  }\n  destroy() {\n    this._destroyResources();\n  }\n  get resources() {\n    return null != this._resources ? this._resources.external : null;\n  }\n  get visible() {\n    return this._visible;\n  }\n  set visible(e) {\n    e !== this._visible && (this._visible = e, this._syncGeometriesToRenderer());\n  }\n  get attached() {\n    return this._attached;\n  }\n  set attached(e) {\n    e !== this._attached && (this._attached = e, this._createOrDestroyResources());\n  }\n  get renderGroup() {\n    return this._renderGroup;\n  }\n  set renderGroup(e) {\n    this._renderGroup = e;\n    const r = this._resources?.layerView;\n    r && (r.renderGroup = e);\n  }\n  recreate() {\n    this.attached && this._createResources();\n  }\n  recreateGeometry() {\n    this._resourceFactory.recreateGeometry ? null != this._resources && (this._ensureRenderGeometriesRemoved(), this._resourceFactory.recreateGeometry(this._resources.external), this._syncGeometriesToRenderer()) : this.recreate();\n  }\n  _createOrDestroyResources() {\n    this._attached ? null == this._resources && this._createResources() : this._destroyResources();\n  }\n  _createResources() {\n    this._destroyResources();\n    const e = this._resourceFactory.createResources(),\n      r = new a({\n        view: this._resourceFactory.view,\n        renderGroup: this._renderGroup\n      }),\n      s = this._resourceFactory.view.basemapTerrain?.overlayManager;\n    this._resources = {\n      layerView: new a({\n        view: this._resourceFactory.view,\n        renderGroup: this._renderGroup\n      }),\n      external: e,\n      geometriesAdded: !1\n    }, s && (this._resources.drapeSourceRenderer = s.registerGeometryDrapeSource(r)), this._syncGeometriesToRenderer();\n  }\n  _destroyResources() {\n    if (null == this._resources) return;\n    this._ensureRenderGeometriesRemoved();\n    const e = this._resourceFactory.view.basemapTerrain?.overlayManager;\n    e && e.unregisterDrapeSource(this._resources.layerView), this._resourceFactory.destroyResources(this._resources.external), this._resources = null;\n  }\n  _syncGeometriesToRenderer() {\n    this._visible ? this._ensureRenderGeometriesAdded() : this._ensureRenderGeometriesRemoved();\n  }\n  _ensureRenderGeometriesRemoved() {\n    if (null == this._resources?.drapeSourceRenderer) return;\n    if (!this._resources.geometriesAdded) return;\n    this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries, u.UPDATE), this._resources.geometriesAdded = !1;\n  }\n  _ensureRenderGeometriesAdded() {\n    if (null == this._resources?.drapeSourceRenderer) return;\n    if (this._resources.geometriesAdded) return;\n    this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries, u.UPDATE), this._resources.geometriesAdded = !0;\n  }\n}\nlet a = class extends s.IdentifiableMixin(r) {\n  constructor(e) {\n    super(e), this.drapeSourceType = i.Features, this.updatePolicy = n.SYNC, this.renderGroup = c.Outline;\n  }\n};\ne([t({\n  constructOnly: !0\n})], a.prototype, \"view\", void 0), e([t({\n  readOnly: !0\n})], a.prototype, \"drapeSourceType\", void 0), e([t()], a.prototype, \"renderGroup\", void 0), a = e([o(\"esri.views.3d.interactive.visualElements.DrapedVisualElementResources\")], a);\nexport { d as DrapedVisualElementResources };","map":{"version":3,"names":["_","e","r","s","property","t","subclass","o","DrapeSourceType","i","DrapedRenderGroup","c","DirtyOperation","u","UpdatePolicy","n","d","constructor","_resourceFactory","_resources","_visible","_attached","_renderGroup","Outline","destroy","_destroyResources","resources","external","visible","_syncGeometriesToRenderer","attached","_createOrDestroyResources","renderGroup","layerView","recreate","_createResources","recreateGeometry","_ensureRenderGeometriesRemoved","createResources","a","view","basemapTerrain","overlayManager","geometriesAdded","drapeSourceRenderer","registerGeometryDrapeSource","unregisterDrapeSource","destroyResources","_ensureRenderGeometriesAdded","removeGeometries","geometries","UPDATE","addGeometries","IdentifiableMixin","drapeSourceType","Features","updatePolicy","SYNC","constructOnly","prototype","readOnly","DrapedVisualElementResources"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import s from\"../../../../core/Identifiable.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DrapeSourceType as i,DrapedRenderGroup as c}from\"../../layers/interfaces.js\";import{DirtyOperation as u}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{UpdatePolicy as n}from\"../../webgl-engine/lib/UpdatePolicy.js\";class d{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=c.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new a({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new a({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!0}}let a=class extends(s.IdentifiableMixin(r)){constructor(e){super(e),this.drapeSourceType=i.Features,this.updatePolicy=n.SYNC,this.renderGroup=c.Outline}};e([t({constructOnly:!0})],a.prototype,\"view\",void 0),e([t({readOnly:!0})],a.prototype,\"drapeSourceType\",void 0),e([t()],a.prototype,\"renderGroup\",void 0),a=e([o(\"esri.views.3d.interactive.visualElements.DrapedVisualElementResources\")],a);export{d as DrapedVisualElementResources};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,QAAK,iCAAiC;AAAC,OAAOC,CAAC,MAAK,8BAA8B;AAAC,OAAOC,CAAC,MAAK,kCAAkC;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,yDAAyD;AAAC,OAAM,yBAAyB;AAAC,OAAM,4BAA4B;AAAC,OAAM,+BAA+B;AAAC,SAAOC,QAAQ,IAAIC,CAAC,QAAK,yDAAyD;AAAC,SAAOC,eAAe,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,2CAA2C;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,wCAAwC;AAAC,MAAMC,CAAC;EAACC,WAAWA,CAAChB,CAAC,EAAC;IAAC,IAAI,CAACiB,gBAAgB,GAACjB,CAAC,EAAC,IAAI,CAACkB,UAAU,GAAC,IAAI,EAAC,IAAI,CAACC,QAAQ,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,SAAS,GAAC,CAAC,CAAC,EAAC,IAAI,CAACC,YAAY,GAACX,CAAC,CAACY,OAAO;EAAA;EAACC,OAAOA,CAAA,EAAE;IAAC,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAAA;EAAC,IAAIC,SAASA,CAAA,EAAE;IAAC,OAAO,IAAI,IAAE,IAAI,CAACP,UAAU,GAAC,IAAI,CAACA,UAAU,CAACQ,QAAQ,GAAC,IAAI;EAAA;EAAC,IAAIC,OAAOA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACR,QAAQ;EAAA;EAAC,IAAIQ,OAAOA,CAAC3B,CAAC,EAAC;IAACA,CAAC,KAAG,IAAI,CAACmB,QAAQ,KAAG,IAAI,CAACA,QAAQ,GAACnB,CAAC,EAAC,IAAI,CAAC4B,yBAAyB,CAAC,CAAC,CAAC;EAAA;EAAC,IAAIC,QAAQA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACT,SAAS;EAAA;EAAC,IAAIS,QAAQA,CAAC7B,CAAC,EAAC;IAACA,CAAC,KAAG,IAAI,CAACoB,SAAS,KAAG,IAAI,CAACA,SAAS,GAACpB,CAAC,EAAC,IAAI,CAAC8B,yBAAyB,CAAC,CAAC,CAAC;EAAA;EAAC,IAAIC,WAAWA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACV,YAAY;EAAA;EAAC,IAAIU,WAAWA,CAAC/B,CAAC,EAAC;IAAC,IAAI,CAACqB,YAAY,GAACrB,CAAC;IAAC,MAAMC,CAAC,GAAC,IAAI,CAACiB,UAAU,EAAEc,SAAS;IAAC/B,CAAC,KAAGA,CAAC,CAAC8B,WAAW,GAAC/B,CAAC,CAAC;EAAA;EAACiC,QAAQA,CAAA,EAAE;IAAC,IAAI,CAACJ,QAAQ,IAAE,IAAI,CAACK,gBAAgB,CAAC,CAAC;EAAA;EAACC,gBAAgBA,CAAA,EAAE;IAAC,IAAI,CAAClB,gBAAgB,CAACkB,gBAAgB,GAAC,IAAI,IAAE,IAAI,CAACjB,UAAU,KAAG,IAAI,CAACkB,8BAA8B,CAAC,CAAC,EAAC,IAAI,CAACnB,gBAAgB,CAACkB,gBAAgB,CAAC,IAAI,CAACjB,UAAU,CAACQ,QAAQ,CAAC,EAAC,IAAI,CAACE,yBAAyB,CAAC,CAAC,CAAC,GAAC,IAAI,CAACK,QAAQ,CAAC,CAAC;EAAA;EAACH,yBAAyBA,CAAA,EAAE;IAAC,IAAI,CAACV,SAAS,GAAC,IAAI,IAAE,IAAI,CAACF,UAAU,IAAE,IAAI,CAACgB,gBAAgB,CAAC,CAAC,GAAC,IAAI,CAACV,iBAAiB,CAAC,CAAC;EAAA;EAACU,gBAAgBA,CAAA,EAAE;IAAC,IAAI,CAACV,iBAAiB,CAAC,CAAC;IAAC,MAAMxB,CAAC,GAAC,IAAI,CAACiB,gBAAgB,CAACoB,eAAe,CAAC,CAAC;MAACpC,CAAC,GAAC,IAAIqC,CAAC,CAAC;QAACC,IAAI,EAAC,IAAI,CAACtB,gBAAgB,CAACsB,IAAI;QAACR,WAAW,EAAC,IAAI,CAACV;MAAY,CAAC,CAAC;MAACnB,CAAC,GAAC,IAAI,CAACe,gBAAgB,CAACsB,IAAI,CAACC,cAAc,EAAEC,cAAc;IAAC,IAAI,CAACvB,UAAU,GAAC;MAACc,SAAS,EAAC,IAAIM,CAAC,CAAC;QAACC,IAAI,EAAC,IAAI,CAACtB,gBAAgB,CAACsB,IAAI;QAACR,WAAW,EAAC,IAAI,CAACV;MAAY,CAAC,CAAC;MAACK,QAAQ,EAAC1B,CAAC;MAAC0C,eAAe,EAAC,CAAC;IAAC,CAAC,EAACxC,CAAC,KAAG,IAAI,CAACgB,UAAU,CAACyB,mBAAmB,GAACzC,CAAC,CAAC0C,2BAA2B,CAAC3C,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC2B,yBAAyB,CAAC,CAAC;EAAA;EAACJ,iBAAiBA,CAAA,EAAE;IAAC,IAAG,IAAI,IAAE,IAAI,CAACN,UAAU,EAAC;IAAO,IAAI,CAACkB,8BAA8B,CAAC,CAAC;IAAC,MAAMpC,CAAC,GAAC,IAAI,CAACiB,gBAAgB,CAACsB,IAAI,CAACC,cAAc,EAAEC,cAAc;IAACzC,CAAC,IAAEA,CAAC,CAAC6C,qBAAqB,CAAC,IAAI,CAAC3B,UAAU,CAACc,SAAS,CAAC,EAAC,IAAI,CAACf,gBAAgB,CAAC6B,gBAAgB,CAAC,IAAI,CAAC5B,UAAU,CAACQ,QAAQ,CAAC,EAAC,IAAI,CAACR,UAAU,GAAC,IAAI;EAAA;EAACU,yBAAyBA,CAAA,EAAE;IAAC,IAAI,CAACT,QAAQ,GAAC,IAAI,CAAC4B,4BAA4B,CAAC,CAAC,GAAC,IAAI,CAACX,8BAA8B,CAAC,CAAC;EAAA;EAACA,8BAA8BA,CAAA,EAAE;IAAC,IAAG,IAAI,IAAE,IAAI,CAAClB,UAAU,EAAEyB,mBAAmB,EAAC;IAAO,IAAG,CAAC,IAAI,CAACzB,UAAU,CAACwB,eAAe,EAAC;IAAO,IAAI,CAACxB,UAAU,CAACyB,mBAAmB,CAACK,gBAAgB,CAAC,IAAI,CAAC9B,UAAU,CAACQ,QAAQ,CAACuB,UAAU,EAACrC,CAAC,CAACsC,MAAM,CAAC,EAAC,IAAI,CAAChC,UAAU,CAACwB,eAAe,GAAC,CAAC,CAAC;EAAA;EAACK,4BAA4BA,CAAA,EAAE;IAAC,IAAG,IAAI,IAAE,IAAI,CAAC7B,UAAU,EAAEyB,mBAAmB,EAAC;IAAO,IAAG,IAAI,CAACzB,UAAU,CAACwB,eAAe,EAAC;IAAO,IAAI,CAACxB,UAAU,CAACyB,mBAAmB,CAACQ,aAAa,CAAC,IAAI,CAACjC,UAAU,CAACQ,QAAQ,CAACuB,UAAU,EAACrC,CAAC,CAACsC,MAAM,CAAC,EAAC,IAAI,CAAChC,UAAU,CAACwB,eAAe,GAAC,CAAC,CAAC;EAAA;AAAC;AAAC,IAAIJ,CAAC,GAAC,cAAcpC,CAAC,CAACkD,iBAAiB,CAACnD,CAAC,CAAC,CAAC;EAACe,WAAWA,CAAChB,CAAC,EAAC;IAAC,KAAK,CAACA,CAAC,CAAC,EAAC,IAAI,CAACqD,eAAe,GAAC7C,CAAC,CAAC8C,QAAQ,EAAC,IAAI,CAACC,YAAY,GAACzC,CAAC,CAAC0C,IAAI,EAAC,IAAI,CAACzB,WAAW,GAACrB,CAAC,CAACY,OAAO;EAAA;AAAC,CAAC;AAACtB,CAAC,CAAC,CAACI,CAAC,CAAC;EAACqD,aAAa,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACnB,CAAC,CAACoB,SAAS,EAAC,MAAM,EAAC,KAAK,CAAC,CAAC,EAAC1D,CAAC,CAAC,CAACI,CAAC,CAAC;EAACuD,QAAQ,EAAC,CAAC;AAAC,CAAC,CAAC,CAAC,EAACrB,CAAC,CAACoB,SAAS,EAAC,iBAAiB,EAAC,KAAK,CAAC,CAAC,EAAC1D,CAAC,CAAC,CAACI,CAAC,CAAC,CAAC,CAAC,EAACkC,CAAC,CAACoB,SAAS,EAAC,aAAa,EAAC,KAAK,CAAC,CAAC,EAACpB,CAAC,GAACtC,CAAC,CAAC,CAACM,CAAC,CAAC,uEAAuE,CAAC,CAAC,EAACgC,CAAC,CAAC;AAAC,SAAOvB,CAAC,IAAI6C,4BAA4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}