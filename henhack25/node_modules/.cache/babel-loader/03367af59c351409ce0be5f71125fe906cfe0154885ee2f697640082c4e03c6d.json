{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Error.js\";\nimport { destroyMaybe as r } from \"../../core/maybe.js\";\nimport { throwIfAborted as o } from \"../../core/promiseUtils.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { ExportWMSImageParameters as p } from \"../../layers/support/ExportWMSImageParameters.js\";\nimport { combineTimeExtent as i } from \"../../layers/support/timeSupport.js\";\nconst m = m => {\n  let n = class extends m {\n    initialize() {\n      this.exportImageParameters = new p({\n        layer: this.layer\n      });\n    }\n    destroy() {\n      this.exportImageParameters = r(this.exportImageParameters);\n    }\n    get exportImageVersion() {\n      return this.exportImageParameters?.commitProperty(\"version\"), this.commitProperty(\"timeExtent\"), (this._get(\"exportImageVersion\") || 0) + 1;\n    }\n    get timeExtent() {\n      return i(this.layer, this.view?.timeExtent, this._get(\"timeExtent\"));\n    }\n    async fetchPopupFeaturesAtLocation(e, r) {\n      const {\n        layer: s\n      } = this;\n      if (!e) throw new t(\"wmslayerview:fetchPopupFeatures\", \"Nothing to fetch without area\", {\n        layer: s\n      });\n      const {\n        popupEnabled: a\n      } = s;\n      if (!a) throw new t(\"wmslayerview:fetchPopupFeatures\", \"popupEnabled should be true\", {\n        popupEnabled: a\n      });\n      const p = this.createFetchPopupFeaturesQuery(e);\n      if (!p) return [];\n      const {\n        extent: i,\n        width: m,\n        height: n,\n        x: c,\n        y: u\n      } = p;\n      if (!(i && m && n)) throw new t(\"wmslayerview:fetchPopupFeatures\", \"WMSLayer does not support fetching features.\", {\n        extent: i,\n        width: m,\n        height: n\n      });\n      const h = await s.fetchFeatureInfo(i, m, n, c, u);\n      return o(r), h;\n    }\n  };\n  return e([s()], n.prototype, \"exportImageParameters\", void 0), e([s({\n    readOnly: !0\n  })], n.prototype, \"exportImageVersion\", null), e([s()], n.prototype, \"layer\", void 0), e([s({\n    readOnly: !0\n  })], n.prototype, \"timeExtent\", null), n = e([a(\"esri.views.layers.WMSLayerView\")], n), n;\n};\nexport { m as default };","map":{"version":3,"names":["_","e","t","destroyMaybe","r","throwIfAborted","o","property","s","subclass","a","ExportWMSImageParameters","p","combineTimeExtent","i","m","n","initialize","exportImageParameters","layer","destroy","exportImageVersion","commitProperty","_get","timeExtent","view","fetchPopupFeaturesAtLocation","popupEnabled","createFetchPopupFeaturesQuery","extent","width","height","x","c","y","u","h","fetchFeatureInfo","prototype","readOnly","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/layers/WMSLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import{destroyMaybe as r}from\"../../core/maybe.js\";import{throwIfAborted as o}from\"../../core/promiseUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{ExportWMSImageParameters as p}from\"../../layers/support/ExportWMSImageParameters.js\";import{combineTimeExtent as i}from\"../../layers/support/timeSupport.js\";const m=m=>{let n=class extends m{initialize(){this.exportImageParameters=new p({layer:this.layer})}destroy(){this.exportImageParameters=r(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),(this._get(\"exportImageVersion\")||0)+1}get timeExtent(){return i(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}async fetchPopupFeaturesAtLocation(e,r){const{layer:s}=this;if(!e)throw new t(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s;if(!a)throw new t(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:a});const p=this.createFetchPopupFeaturesQuery(e);if(!p)return[];const{extent:i,width:m,height:n,x:c,y:u}=p;if(!(i&&m&&n))throw new t(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:i,width:m,height:n});const h=await s.fetchFeatureInfo(i,m,n,c,u);return o(r),h}};return e([s()],n.prototype,\"exportImageParameters\",void 0),e([s({readOnly:!0})],n.prototype,\"exportImageVersion\",null),e([s()],n.prototype,\"layer\",void 0),e([s({readOnly:!0})],n.prototype,\"timeExtent\",null),n=e([a(\"esri.views.layers.WMSLayerView\")],n),n};export{m as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}