{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport o from \"../../../../Color.js\";\nimport { isCachedFontFace as t, loadFont as e } from \"../../../../core/fontUtils.js\";\nimport i from \"../../../../core/Logger.js\";\nimport { pt2px as r } from \"../../../../core/screenUtils.js\";\nimport { ZEROS as n } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nclass s {\n  constructor(o) {\n    this.definition = o, this.key = JSON.stringify(o), this.haloSize = Math.round(o.halo.size), this.textStyle = a(o.color), this.haloStyle = l(o.halo.color), this.backgroundStyle = 0 !== o.background.color[3] ? a(o.background.color) : null;\n  }\n  fontString(o) {\n    const t = this.definition.font,\n      e = \"sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji\";\n    return `${t.style} ${t.weight} ${o}px ${t.family}, ${e}`;\n  }\n  setFontProperties(o, t) {\n    o.font = this.fontString(t), o.textAlign = \"left\", o.textBaseline = \"alphabetic\";\n  }\n  static async fromSymbol(l, a) {\n    const f = l?.material?.color,\n      m = o.toUnitRGBA(f) ?? n,\n      g = null != l.size ? r(l.size) : 12,\n      u = l.lineHeight,\n      d = null != l.background ? o.toUnitRGBA(l.background.color) : n,\n      h = {\n        family: l.font?.family ?? \"sans-serif\",\n        decoration: l.font?.decoration ?? \"none\",\n        weight: l.font?.weight ?? \"normal\",\n        style: l.font?.style ?? \"normal\"\n      },\n      y = l.halo,\n      b = null != y?.color && y.size > 0 ? {\n        size: r(y.size),\n        color: o.toUnitRGBA(y.color)\n      } : {\n        size: 0,\n        color: n\n      },\n      p = new s({\n        color: m,\n        size: g,\n        background: {\n          color: d,\n          padding: null != l.background ? [.65 * g, .5 * g] : [0, 0],\n          borderRadius: null != l.background ? g * (6 / 16) : 0\n        },\n        lineSpacingFactor: u,\n        font: h,\n        halo: b,\n        pixelRatio: a\n      });\n    if (l.font) {\n      let o = !1;\n      const r = p.fontString(g);\n      try {\n        o = (await document.fonts.load(r)).some(o => !t(o));\n      } catch (S) {\n        i.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${r}'. Some text symbology may be rendered using the default browser font.`);\n      }\n      if (!o && !c.has(l.font.family)) try {\n        await e(l.font);\n      } catch (S) {}\n    }\n    return p;\n  }\n}\nfunction l(o) {\n  return `rgb(${o.slice(0, 3).map(o => Math.floor(255 * o)).toString()})`;\n}\nfunction a(o) {\n  return `rgba(${o.slice(0, 3).map(o => Math.floor(255 * o)).toString()},${o[3]})`;\n}\nconst c = new Set([\"Arial\", \"Times New Roman\", \"Courier New\", \"serif\", \"sans-serif\", \"monospace\", \"cursive\", \"fantasy\", \"system-ui\", \"ui-serif\", \"ui-sans-serif\", \"ui-monospace\", \"ui-rounded\", \"math\", \"emoji\", \"fangsong\"]);\nexport { s as TextRenderParameters };","map":{"version":3,"names":["o","isCachedFontFace","t","loadFont","e","i","pt2px","r","ZEROS","n","s","constructor","definition","key","JSON","stringify","haloSize","Math","round","halo","size","textStyle","a","color","haloStyle","l","backgroundStyle","background","fontString","font","style","weight","family","setFontProperties","textAlign","textBaseline","fromSymbol","f","material","m","toUnitRGBA","g","u","lineHeight","d","h","decoration","y","b","p","padding","borderRadius","lineSpacingFactor","pixelRatio","document","fonts","load","some","S","getLogger","warnOnce","c","has","slice","map","floor","toString","Set","TextRenderParameters"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{isCachedFontFace as t,loadFont as e}from\"../../../../core/fontUtils.js\";import i from\"../../../../core/Logger.js\";import{pt2px as r}from\"../../../../core/screenUtils.js\";import{ZEROS as n}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";class s{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=a(o.color),this.haloStyle=l(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?a(o.background.color):null}fontString(o){const t=this.definition.font,e=\"sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji\";return`${t.style} ${t.weight} ${o}px ${t.family}, ${e}`}setFontProperties(o,t){o.font=this.fontString(t),o.textAlign=\"left\",o.textBaseline=\"alphabetic\"}static async fromSymbol(l,a){const f=l?.material?.color,m=o.toUnitRGBA(f)??n,g=null!=l.size?r(l.size):12,u=l.lineHeight,d=null!=l.background?o.toUnitRGBA(l.background.color):n,h={family:l.font?.family??\"sans-serif\",decoration:l.font?.decoration??\"none\",weight:l.font?.weight??\"normal\",style:l.font?.style??\"normal\"},y=l.halo,b=null!=y?.color&&y.size>0?{size:r(y.size),color:o.toUnitRGBA(y.color)}:{size:0,color:n},p=new s({color:m,size:g,background:{color:d,padding:null!=l.background?[.65*g,.5*g]:[0,0],borderRadius:null!=l.background?g*(6/16):0},lineSpacingFactor:u,font:h,halo:b,pixelRatio:a});if(l.font){let o=!1;const r=p.fontString(g);try{o=(await document.fonts.load(r)).some((o=>!t(o)))}catch(S){i.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\").warnOnce(`Failed to preload font '${r}'. Some text symbology may be rendered using the default browser font.`)}if(!o&&!c.has(l.font.family))try{await e(l.font)}catch(S){}}return p}}function l(o){return`rgb(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()})`}function a(o){return`rgba(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()},${o[3]})`}const c=new Set([\"Arial\",\"Times New Roman\",\"Courier New\",\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\",\"ui-serif\",\"ui-sans-serif\",\"ui-monospace\",\"ui-rounded\",\"math\",\"emoji\",\"fangsong\"]);export{s as TextRenderParameters};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}