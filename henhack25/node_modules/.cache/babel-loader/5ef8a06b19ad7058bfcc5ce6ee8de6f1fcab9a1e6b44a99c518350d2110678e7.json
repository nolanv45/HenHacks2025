{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { indexOf as e, PositionHint as t } from \"../../../core/arrayUtils.js\";\nimport { toConst as s } from \"../../../core/compilerUtils.js\";\nimport i from \"../../../core/Error.js\";\nimport \"../../../core/has.js\";\nimport r from \"../../../core/JSONSupport.js\";\nimport { clone as a } from \"../../../core/lang.js\";\nimport { removeMaybe as n, destroyMaybe as u } from \"../../../core/maybe.js\";\nimport { signalFromSignalOrOptions as l, throwIfAborted as o } from \"../../../core/promiseUtils.js\";\nimport { getMetersPerUnitForSR as h } from \"../../../core/unitUtils.js\";\nimport { getTransformation as c } from \"../../../geometry/projection.js\";\nimport { set as m, negativeInfinity as f, create as d, expandWithAABB as y } from \"../../../geometry/support/aaBoundingBox.js\";\nimport { fromValues as p, create as g } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { getBoundsXY as x } from \"../../../geometry/support/boundsUtils.js\";\nimport { isExtent as w, isPolygon as F } from \"../../../geometry/support/jsonUtils.js\";\nimport { equals as _, isValid as S } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { convertFromGeometry as R } from \"../featureConversionUtils.js\";\nimport { getWhereClause as Q } from \"./attributeSupport.js\";\nimport { cleanFromGeometryEngine as I, getGeometry as j } from \"./geometryUtils.js\";\nimport { project as E, projectMany as b } from \"./projectionSupport.js\";\nimport { QueryEngineCache as A } from \"./QueryEngineCache.js\";\nimport { queryCapabilities as T } from \"./QueryEngineCapabilities.js\";\nimport { QueryEngineResult as v } from \"./QueryEngineResult.js\";\nimport { queryEngineEmptyResult as C, normalizeAttributeBinsQuery as P, normalizeQuery as z } from \"./queryUtils.js\";\nimport { validateAttributeBinsQuery as M, validateQuery as G, validateStatisticsQuery as O } from \"./queryValidationUtils.js\";\nimport { getSpatialQueryOperator as q, canQueryWithRBush as U } from \"./spatialQuerySupport.js\";\nimport { getTimeExtent as k, getTimeOperator as B } from \"./timeSupport.js\";\nimport Z from \"../../support/FieldsIndex.js\";\nimport { noBudget as H } from \"../../../views/support/Scheduler.js\";\nconst J = \"unsupported-query\";\nclass N {\n  constructor(e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    let s = arguments.length > 2 ? arguments[2] : undefined;\n    let i = arguments.length > 3 ? arguments[3] : undefined;\n    let r = arguments.length > 4 ? arguments[4] : undefined;\n    this.attributes = e, this.geometry = s, this.centroid = i, this.filterFlags = r, this.groupId = -1, this.displayId = t;\n  }\n}\nclass L {\n  constructor(e) {\n    this._changeHandle = null, this.capabilities = {\n      query: T\n    }, this.geometryType = e.geometryType, this.hasM = !!e.hasM, this.hasZ = !!e.hasZ, this.objectIdField = e.objectIdField, this.spatialReference = e.spatialReference, this.definitionExpression = e.definitionExpression, this.featureStore = e.featureStore, this.aggregateAdapter = e.aggregateAdapter, this._cache = e.cache ?? new A(), this.timeInfo = e.timeInfo, this._changeHandle = this.featureStore.events.on(\"changed\", () => this._clearCache()), this.fieldsIndex = r.isSerializable(e.fieldsIndex) ? e.fieldsIndex : Z.fromJSON(e.fieldsIndex), !e.availableFields || 1 === e.availableFields.length && \"*\" === e.availableFields[0] ? this.availableFields = new Set(this.fieldsIndex.fields.map(e => e.name)) : this.availableFields = new Set(e.availableFields.map(e => this.fieldsIndex.get(e)?.name).filter(e => null != e)), e.scheduler && e.priority && (this._frameTask = e.scheduler.registerTask(e.priority));\n  }\n  destroy() {\n    this._changeHandle = n(this._changeHandle), this._frameTask = n(this._frameTask), this._clearCache(), u(this._cache);\n  }\n  get featureAdapter() {\n    return this.featureStore.featureAdapter;\n  }\n  _clearCache() {\n    this._cache.clear(), this._allFeaturesPromise = null, this._timeExtentPromise = null, this._fullExtentPromise = null;\n  }\n  async executeQuery(e, t) {\n    const s = l(t);\n    try {\n      const t = await this._executeQuery(e, {}, s);\n      return await t.createQueryResponse();\n    } catch (i) {\n      if (i !== C) throw i;\n      return new v([], e, this).createQueryResponse();\n    }\n  }\n  async executeQueryForCount() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let t = arguments.length > 1 ? arguments[1] : undefined;\n    const s = l(t);\n    try {\n      return (await this._executeQuery(e, {\n        returnGeometry: !1,\n        returnCentroid: !1,\n        outSR: null\n      }, s)).createQueryResponseForCount();\n    } catch (i) {\n      if (i !== C) throw i;\n      return 0;\n    }\n  }\n  async executeQueryForExtent(e, t) {\n    const s = l(t),\n      i = e.outSR;\n    try {\n      const t = await this._executeQuery(e, {\n          returnGeometry: !0,\n          returnCentroid: !1,\n          outSR: null\n        }, s),\n        r = t.size;\n      if (!r) return {\n        count: 0,\n        extent: null\n      };\n      return {\n        count: r,\n        extent: await this._getBounds(t.items, t.spatialReference, i || this.spatialReference)\n      };\n    } catch (r) {\n      if (r === C) return {\n        count: 0,\n        extent: null\n      };\n      throw r;\n    }\n  }\n  async executeQueryForIds(e, t) {\n    return this.executeQueryForIdSet(e, t).then(e => Array.from(e));\n  }\n  async executeQueryForIdSet(e, t) {\n    const s = l(t);\n    try {\n      const t = await this._executeQuery(e, {\n          returnGeometry: !0,\n          returnCentroid: !1,\n          outSR: null\n        }, s),\n        i = t.items,\n        r = new Set();\n      return await this.reschedule(() => {\n        for (const e of i) r.add(t.featureAdapter.getObjectId(e));\n      }, s), r;\n    } catch (i) {\n      if (i === C) return new Set();\n      throw i;\n    }\n  }\n  async executeQueryForLatestObservations(e, t) {\n    const s = l(t);\n    if (!this.timeInfo?.trackIdField) throw new i(J, \"Missing timeInfo or timeInfo.trackIdField\", {\n      query: e,\n      timeInfo: this.timeInfo\n    });\n    try {\n      const t = await this._executeQuery(e, {}, s);\n      return await this.reschedule(() => this._filterLatest(t), s), await t.createQueryResponse();\n    } catch (r) {\n      if (r !== C) throw r;\n      return new v([], e, this).createQueryResponse();\n    }\n  }\n  async executeAttributeBinsQuery(e, t) {\n    const s = l(t);\n    let i;\n    e = a(e);\n    try {\n      e = await this.schedule(() => P(e, this.definitionExpression, this.spatialReference), s), e = await this.reschedule(() => M(e, {\n        availableFields: this.availableFields,\n        fieldsIndex: this.fieldsIndex,\n        geometryType: this.geometryType,\n        spatialReference: this.spatialReference\n      }), s);\n      const t = await this.reschedule(() => this._executeSceneFilterQuery(e, s), s);\n      i = await this.reschedule(() => this._executeGeometryQuery(e, t, s), s), await this.reschedule(() => this._executeAggregateIdsQuery(i), s), await this.reschedule(() => this.executeObjectIdsQuery(i), s), await this.reschedule(() => this.executeTimeQuery(i), s), await this.reschedule(() => this.executeAttributesQuery(i), s);\n    } catch (r) {\n      if (r !== C) throw r;\n      i = new v([], e, this);\n    }\n    return i.createQueryBinsResponse(e);\n  }\n  async executeQueryForSummaryStatistics() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let t = arguments.length > 1 ? arguments[1] : undefined;\n    let s = arguments.length > 2 ? arguments[2] : undefined;\n    const i = l(s),\n      {\n        field: r,\n        normalizationField: a,\n        valueExpression: n\n      } = t;\n    return (await this._executeQueryForStatistics(e, {\n      field: r,\n      normalizationField: a,\n      valueExpression: n\n    }, i)).createSummaryStatisticsResponse(t);\n  }\n  async executeQueryForUniqueValues() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let t = arguments.length > 1 ? arguments[1] : undefined;\n    let s = arguments.length > 2 ? arguments[2] : undefined;\n    const i = l(s),\n      {\n        field: r,\n        field2: a,\n        field3: n,\n        valueExpression: u\n      } = t;\n    return (await this._executeQueryForStatistics(e, {\n      field: r,\n      field2: a,\n      field3: n,\n      valueExpression: u\n    }, i)).createUniqueValuesResponse(t);\n  }\n  async executeQueryForClassBreaks() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let t = arguments.length > 1 ? arguments[1] : undefined;\n    let s = arguments.length > 2 ? arguments[2] : undefined;\n    const i = l(s),\n      {\n        field: r,\n        normalizationField: a,\n        valueExpression: n\n      } = t;\n    return (await this._executeQueryForStatistics(e, {\n      field: r,\n      normalizationField: a,\n      valueExpression: n\n    }, i)).createClassBreaksResponse(t);\n  }\n  async executeQueryForHistogram() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let t = arguments.length > 1 ? arguments[1] : undefined;\n    let s = arguments.length > 2 ? arguments[2] : undefined;\n    const i = l(s),\n      {\n        field: r,\n        normalizationField: a,\n        valueExpression: n\n      } = t;\n    return (await this._executeQueryForStatistics(e, {\n      field: r,\n      normalizationField: a,\n      valueExpression: n\n    }, i)).createHistogramResponse(t);\n  }\n  async fetchRecomputedExtents(e) {\n    const t = l(e);\n    this._timeExtentPromise ||= k(this.timeInfo, this.featureStore);\n    const [s, i] = await Promise.all([this._getFullExtent(), this._timeExtentPromise]);\n    return o(t), {\n      fullExtent: s,\n      timeExtent: i\n    };\n  }\n  async _getBounds(e, t, s) {\n    const i = m(d(), f);\n    await this.featureStore.forEachBounds(e, e => y(i, e));\n    const r = {\n      xmin: i[0],\n      ymin: i[1],\n      xmax: i[3],\n      ymax: i[4],\n      spatialReference: I(this.spatialReference)\n    };\n    this.hasZ && isFinite(i[2]) && isFinite(i[5]) && (r.zmin = i[2], r.zmax = i[5], r.hasZ = !0);\n    const a = E(r, t, s);\n    if (a.spatialReference = I(s), a.xmax - a.xmin == 0) {\n      const e = h(a.spatialReference);\n      a.xmin -= e, a.xmax += e;\n    }\n    if (a.ymax - a.ymin == 0) {\n      const e = h(a.spatialReference);\n      a.ymin -= e, a.ymax += e;\n    }\n    if (this.hasZ && null != a.zmin && null != a.zmax && a.zmax - a.zmin == 0) {\n      const e = h(a.spatialReference);\n      a.zmin -= e, a.zmax += e;\n    }\n    return a;\n  }\n  _getFullExtent() {\n    return this._fullExtentPromise ||= \"getFullExtent\" in this.featureStore && this.featureStore.getFullExtent ? Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)) : this._getAllFeatures().then(e => this._getBounds(e, this.spatialReference, this.spatialReference)), this._fullExtentPromise;\n  }\n  async schedule(e, t) {\n    return this._frameTask?.schedule(e, t) ?? e(H);\n  }\n  async reschedule(e, t) {\n    return this._frameTask?.reschedule(e, t) ?? e(H);\n  }\n  async _getAllFeaturesQueryEngineResult(e) {\n    return new v(await this._getAllFeatures(), e, this);\n  }\n  async _getAllFeatures() {\n    if (null == this._allFeaturesPromise) {\n      const e = [];\n      this._allFeaturesPromise = (async () => await this.featureStore.forEach(t => e.push(t)))().then(() => s(e));\n    }\n    const e = this._allFeaturesPromise,\n      t = await e;\n    return e === this._allFeaturesPromise ? t.slice() : this._getAllFeatures();\n  }\n  async _executeQuery(e, t, s) {\n    e = a(e), e = await this.schedule(() => z(e, this.definitionExpression, this.spatialReference), s), e = await this.reschedule(() => G(e, {\n      availableFields: this.availableFields,\n      fieldsIndex: this.fieldsIndex,\n      geometryType: this.geometryType,\n      spatialReference: this.spatialReference\n    }), s), e = {\n      ...e,\n      ...t\n    };\n    const i = await this.reschedule(() => this._executeSceneFilterQuery(e, s), s),\n      r = await this.reschedule(() => this._executeGeometryQuery(e, i, s), s);\n    return await this.reschedule(() => this._executeAggregateIdsQuery(r), s), await this.reschedule(() => this.executeObjectIdsQuery(r), s), await this.reschedule(() => this.executeTimeQuery(r), s), await this.reschedule(() => this.executeAttributesQuery(r), s), r;\n  }\n  async _executeSceneFilterQuery(e, t) {\n    if (null == e.sceneFilter) return null;\n    const {\n        outSR: s,\n        returnGeometry: i,\n        returnCentroid: r\n      } = e,\n      a = this.featureStore.featureSpatialReference,\n      n = e.sceneFilter.geometry,\n      u = null == a || _(a, n.spatialReference) ? n : E(n, a);\n    if (!u) return null;\n    const l = i || r,\n      o = S(s) && !_(this.spatialReference, s) && l ? async e => this._project(e, s) : e => e,\n      h = this.featureAdapter,\n      c = await this.reschedule(() => this.searchFeatures(V(u)), t);\n    if (\"disjoint\" === e.sceneFilter.spatialRelationship) {\n      if (!c.length) return null;\n      const s = new Set();\n      for (const e of c) s.add(h.getObjectId(e));\n      const i = await this.reschedule(() => this._getAllFeatures(), t),\n        r = await this.reschedule(async () => {\n          const r = await q(\"esriSpatialRelDisjoint\", u, this.geometryType, this.hasZ, this.hasM),\n            a = e => !s.has(h.getObjectId(e)) || r(h.getGeometry(e)),\n            n = await this.runSpatialFilter(i, a, t);\n          return new v(n, e, this);\n        }, t);\n      return o(r);\n    }\n    if (!c.length) return new v([], e, this);\n    if (this._canExecuteSinglePass(u, e)) return o(new v(c, e, this));\n    const m = await q(\"esriSpatialRelContains\", u, this.geometryType, this.hasZ, this.hasM),\n      f = await this.runSpatialFilter(c, e => m(h.getGeometry(e)), t);\n    return o(new v(f, e, this));\n  }\n  async _executeGeometryQuery(s, i, r) {\n    if (null != i && 0 === i.items.length) return i;\n    const {\n        geometry: a,\n        outSR: n,\n        returnGeometry: u,\n        returnCentroid: l\n      } = s,\n      o = i ? null : this._getCacheKey(s),\n      h = o ? this._cache.get(o) : null;\n    if (h) return new v(h, s, this);\n    const c = S(n) && !_(this.spatialReference, n),\n      m = u || l,\n      f = async e => (c && m && (await this._project(e, n)), o && this._cache.put(o, e.items), e),\n      d = this.featureStore.featureSpatialReference,\n      y = !a || null == d || _(d, a.spatialReference) ? a : E(a, d);\n    if (!y) return f(null != i ? i : await this._getAllFeaturesQueryEngineResult(s));\n    const p = this.featureAdapter;\n    let g = await this.reschedule(() => this.searchFeatures(V(a)), r);\n    const x = s.spatialRel ?? \"esriSpatialRelIntersects\";\n    if (\"esriSpatialRelDisjoint\" === x) {\n      if (!g.length) return f(null != i ? i : await this._getAllFeaturesQueryEngineResult(s));\n      const e = new Set();\n      for (const s of g) e.add(p.getObjectId(s));\n      const t = null != i ? i.items : await this.reschedule(() => this._getAllFeatures(), r),\n        a = await this.reschedule(async () => {\n          const i = await q(x, y, this.geometryType, this.hasZ, this.hasM),\n            a = t => !e.has(p.getObjectId(t)) || i(p.getGeometry(t)),\n            n = await this.runSpatialFilter(t, a, r);\n          return new v(n, s, this);\n        }, r);\n      return f(a);\n    }\n    if (null != i) {\n      const s = new t();\n      g = g.filter(t => e(i.items, t, i.items.length, s) >= 0);\n    }\n    if (!g.length) {\n      const e = new v([], s, this);\n      return o && this._cache.put(o, e.items), e;\n    }\n    if (this._canExecuteSinglePass(y, s)) return f(new v(g, s, this));\n    const w = await q(x, y, this.geometryType, this.hasZ, this.hasM),\n      F = await this.runSpatialFilter(g, e => w(p.getGeometry(e)), r);\n    return f(new v(F, s, this));\n  }\n  _executeAggregateIdsQuery(e) {\n    if (0 === e.items.length || !e.query.aggregateIds?.length || null == this.aggregateAdapter) return;\n    const t = new Set();\n    for (const i of e.query.aggregateIds) {\n      this.aggregateAdapter.getFeatureObjectIds(i).forEach(e => t.add(e));\n    }\n    const s = this.featureAdapter.getObjectId;\n    e.items = e.items.filter(e => t.has(s(e)));\n  }\n  executeObjectIdsQuery(e) {\n    if (0 === e.items.length || !e.query.objectIds?.length) return;\n    const t = new Set(e.query.objectIds),\n      s = this.featureAdapter.getObjectId;\n    e.items = e.items.filter(e => t.has(s(e)));\n  }\n  executeTimeQuery(e) {\n    if (0 === e.items.length) return;\n    const t = B(this.timeInfo, e.query.timeExtent, this.featureAdapter);\n    null != t && (e.items = e.items.filter(t));\n  }\n  executeAttributesQuery(e) {\n    if (0 === e.items.length) return;\n    const t = Q(e.query.where, this.fieldsIndex);\n    if (t) {\n      if (!t.isStandardized) throw new TypeError(\"Where clause is not standardized\");\n      e.items = e.items.filter(e => t.testFeature(e, this.featureAdapter));\n    }\n  }\n  async runSpatialFilter(e, t, s) {\n    if (!t) return e;\n    if (null == this._frameTask) return e.filter(e => t(e));\n    let i = 0;\n    const r = new Array(),\n      a = async n => {\n        for (; i < e.length;) {\n          const u = e[i++];\n          t(u) && (r.push(u), n.madeProgress()), n.done && (await this.reschedule(e => a(e), s));\n        }\n      };\n    return this.reschedule(e => a(e), s).then(() => r);\n  }\n  _filterLatest(e) {\n    const {\n        trackIdField: t,\n        startTimeField: s,\n        endTimeField: i\n      } = this.timeInfo,\n      r = i || s,\n      a = new Map(),\n      n = this.featureAdapter.getAttribute;\n    for (const u of e.items) {\n      const e = n(u, t),\n        s = n(u, r),\n        i = a.get(e);\n      (!i || s > n(i, r)) && a.set(e, u);\n    }\n    e.items = Array.from(a.values());\n  }\n  _getCacheKey(e) {\n    const {\n      geometry: t,\n      spatialRel: s,\n      returnGeometry: i,\n      returnCentroid: r,\n      outSR: a,\n      resultType: n,\n      cacheHint: u\n    } = e;\n    if (\"tile\" !== n && !u) return null;\n    const l = i || r;\n    return S(a) && !_(this.spatialReference, a) && l ? JSON.stringify([t, s, a]) : JSON.stringify([t, s]);\n  }\n  _canExecuteSinglePass(e, t) {\n    const {\n      spatialRel: s\n    } = t;\n    return U(e) && (\"esriSpatialRelEnvelopeIntersects\" === s || \"esriGeometryPoint\" === this.geometryType && (\"esriSpatialRelIntersects\" === s || \"esriSpatialRelContains\" === s));\n  }\n  async _project(e, t) {\n    if (!t || _(this.spatialReference, t)) return e;\n    const i = this.featureAdapter;\n    let r;\n    try {\n      const e = await this._getFullExtent();\n      r = c(this.spatialReference, t, e);\n    } catch {}\n    const a = await b(e.items.map(e => j(this.geometryType, this.hasZ, this.hasM, i.getGeometry(e))), this.spatialReference, t, r);\n    return e.items = s(a.map((t, s) => i.cloneWithGeometry(e.items[s], R(t, this.hasZ, this.hasM)))), e;\n  }\n  async searchFeatures(e) {\n    const t = new Set();\n    await Promise.all(e.map(e => this.featureStore.forEachInBounds(e, e => t.add(e))));\n    const s = Array.from(t.values());\n    return t.clear(), s;\n  }\n  async _executeQueryForStatistics(e, t, s) {\n    e = a(e);\n    try {\n      e = await this.schedule(() => z(e, this.definitionExpression, this.spatialReference), s), e = await this.reschedule(() => O(e, t, {\n        availableFields: this.availableFields,\n        fieldsIndex: this.fieldsIndex,\n        geometryType: this.geometryType,\n        spatialReference: this.spatialReference\n      }), s);\n      const i = await this.reschedule(() => this._executeSceneFilterQuery(e, s), s),\n        r = await this.reschedule(() => this._executeGeometryQuery(e, i, s), s);\n      return await this.reschedule(() => this._executeAggregateIdsQuery(r), s), await this.reschedule(() => this.executeObjectIdsQuery(r), s), await this.reschedule(() => this.executeTimeQuery(r), s), await this.reschedule(() => this.executeAttributesQuery(r), s), r;\n    } catch (i) {\n      if (i !== C) throw i;\n      return new v([], e, this);\n    }\n  }\n  get test() {}\n}\nfunction V(e) {\n  if (U(e)) {\n    if (w(e)) return [p(Math.min(e.xmin, e.xmax), Math.min(e.ymin, e.ymax), Math.max(e.xmin, e.xmax), Math.max(e.ymin, e.ymax))];\n    if (F(e)) return e.rings.map(e => p(Math.min(e[0][0], e[2][0]), Math.min(e[0][1], e[2][1]), Math.max(e[0][0], e[2][0]), Math.max(e[0][1], e[2][1])));\n  }\n  return [x(g(), e)];\n}\nexport { N as Feature, L as QueryEngine, V as getQueryBBoxes };","map":{"version":3,"names":["indexOf","e","PositionHint","t","toConst","s","i","r","clone","a","removeMaybe","n","destroyMaybe","u","signalFromSignalOrOptions","l","throwIfAborted","o","getMetersPerUnitForSR","h","getTransformation","c","set","m","negativeInfinity","f","create","d","expandWithAABB","y","fromValues","p","g","getBoundsXY","x","isExtent","w","isPolygon","F","equals","_","isValid","S","convertFromGeometry","R","getWhereClause","Q","cleanFromGeometryEngine","I","getGeometry","j","project","E","projectMany","b","QueryEngineCache","A","queryCapabilities","T","QueryEngineResult","v","queryEngineEmptyResult","C","normalizeAttributeBinsQuery","P","normalizeQuery","z","validateAttributeBinsQuery","M","validateQuery","G","validateStatisticsQuery","O","getSpatialQueryOperator","q","canQueryWithRBush","U","getTimeExtent","k","getTimeOperator","B","Z","noBudget","H","J","N","constructor","arguments","length","undefined","attributes","geometry","centroid","filterFlags","groupId","displayId","L","_changeHandle","capabilities","query","geometryType","hasM","hasZ","objectIdField","spatialReference","definitionExpression","featureStore","aggregateAdapter","_cache","cache","timeInfo","events","on","_clearCache","fieldsIndex","isSerializable","fromJSON","availableFields","Set","fields","map","name","get","filter","scheduler","priority","_frameTask","registerTask","destroy","featureAdapter","clear","_allFeaturesPromise","_timeExtentPromise","_fullExtentPromise","executeQuery","_executeQuery","createQueryResponse","executeQueryForCount","returnGeometry","returnCentroid","outSR","createQueryResponseForCount","executeQueryForExtent","size","count","extent","_getBounds","items","executeQueryForIds","executeQueryForIdSet","then","Array","from","reschedule","add","getObjectId","executeQueryForLatestObservations","trackIdField","_filterLatest","executeAttributeBinsQuery","schedule","_executeSceneFilterQuery","_executeGeometryQuery","_executeAggregateIdsQuery","executeObjectIdsQuery","executeTimeQuery","executeAttributesQuery","createQueryBinsResponse","executeQueryForSummaryStatistics","field","normalizationField","valueExpression","_executeQueryForStatistics","createSummaryStatisticsResponse","executeQueryForUniqueValues","field2","field3","createUniqueValuesResponse","executeQueryForClassBreaks","createClassBreaksResponse","executeQueryForHistogram","createHistogramResponse","fetchRecomputedExtents","Promise","all","_getFullExtent","fullExtent","timeExtent","forEachBounds","xmin","ymin","xmax","ymax","isFinite","zmin","zmax","getFullExtent","resolve","_getAllFeatures","_getAllFeaturesQueryEngineResult","forEach","push","slice","sceneFilter","featureSpatialReference","_project","searchFeatures","V","spatialRelationship","has","runSpatialFilter","_canExecuteSinglePass","_getCacheKey","put","spatialRel","aggregateIds","getFeatureObjectIds","objectIds","where","isStandardized","TypeError","testFeature","madeProgress","done","startTimeField","endTimeField","Map","getAttribute","values","resultType","cacheHint","JSON","stringify","cloneWithGeometry","forEachInBounds","test","Math","min","max","rings","Feature","QueryEngine","getQueryBBoxes"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{indexOf as e,PositionHint as t}from\"../../../core/arrayUtils.js\";import{toConst as s}from\"../../../core/compilerUtils.js\";import i from\"../../../core/Error.js\";import\"../../../core/has.js\";import r from\"../../../core/JSONSupport.js\";import{clone as a}from\"../../../core/lang.js\";import{removeMaybe as n,destroyMaybe as u}from\"../../../core/maybe.js\";import{signalFromSignalOrOptions as l,throwIfAborted as o}from\"../../../core/promiseUtils.js\";import{getMetersPerUnitForSR as h}from\"../../../core/unitUtils.js\";import{getTransformation as c}from\"../../../geometry/projection.js\";import{set as m,negativeInfinity as f,create as d,expandWithAABB as y}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as p,create as g}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as x}from\"../../../geometry/support/boundsUtils.js\";import{isExtent as w,isPolygon as F}from\"../../../geometry/support/jsonUtils.js\";import{equals as _,isValid as S}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as R}from\"../featureConversionUtils.js\";import{getWhereClause as Q}from\"./attributeSupport.js\";import{cleanFromGeometryEngine as I,getGeometry as j}from\"./geometryUtils.js\";import{project as E,projectMany as b}from\"./projectionSupport.js\";import{QueryEngineCache as A}from\"./QueryEngineCache.js\";import{queryCapabilities as T}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as v}from\"./QueryEngineResult.js\";import{queryEngineEmptyResult as C,normalizeAttributeBinsQuery as P,normalizeQuery as z}from\"./queryUtils.js\";import{validateAttributeBinsQuery as M,validateQuery as G,validateStatisticsQuery as O}from\"./queryValidationUtils.js\";import{getSpatialQueryOperator as q,canQueryWithRBush as U}from\"./spatialQuerySupport.js\";import{getTimeExtent as k,getTimeOperator as B}from\"./timeSupport.js\";import Z from\"../../support/FieldsIndex.js\";import{noBudget as H}from\"../../../views/support/Scheduler.js\";const J=\"unsupported-query\";class N{constructor(e,t=null,s,i,r){this.attributes=e,this.geometry=s,this.centroid=i,this.filterFlags=r,this.groupId=-1,this.displayId=t}}class L{constructor(e){this._changeHandle=null,this.capabilities={query:T},this.geometryType=e.geometryType,this.hasM=!!e.hasM,this.hasZ=!!e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._cache=e.cache??new A,this.timeInfo=e.timeInfo,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this._clearCache())),this.fieldsIndex=r.isSerializable(e.fieldsIndex)?e.fieldsIndex:Z.fromJSON(e.fieldsIndex),!e.availableFields||1===e.availableFields.length&&\"*\"===e.availableFields[0]?this.availableFields=new Set(this.fieldsIndex.fields.map((e=>e.name))):this.availableFields=new Set(e.availableFields.map((e=>this.fieldsIndex.get(e)?.name)).filter((e=>null!=e))),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._changeHandle=n(this._changeHandle),this._frameTask=n(this._frameTask),this._clearCache(),u(this._cache)}get featureAdapter(){return this.featureStore.featureAdapter}_clearCache(){this._cache.clear(),this._allFeaturesPromise=null,this._timeExtentPromise=null,this._fullExtentPromise=null}async executeQuery(e,t){const s=l(t);try{const t=await this._executeQuery(e,{},s);return await t.createQueryResponse()}catch(i){if(i!==C)throw i;return new v([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){const s=l(t);try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},s)).createQueryResponseForCount()}catch(i){if(i!==C)throw i;return 0}}async executeQueryForExtent(e,t){const s=l(t),i=e.outSR;try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),r=t.size;if(!r)return{count:0,extent:null};return{count:r,extent:await this._getBounds(t.items,t.spatialReference,i||this.spatialReference)}}catch(r){if(r===C)return{count:0,extent:null};throw r}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){const s=l(t);try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),i=t.items,r=new Set;return await this.reschedule((()=>{for(const e of i)r.add(t.featureAdapter.getObjectId(e))}),s),r}catch(i){if(i===C)return new Set;throw i}}async executeQueryForLatestObservations(e,t){const s=l(t);if(!this.timeInfo?.trackIdField)throw new i(J,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});try{const t=await this._executeQuery(e,{},s);return await this.reschedule((()=>this._filterLatest(t)),s),await t.createQueryResponse()}catch(r){if(r!==C)throw r;return new v([],e,this).createQueryResponse()}}async executeAttributeBinsQuery(e,t){const s=l(t);let i;e=a(e);try{e=await this.schedule((()=>P(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>M(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const t=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s);i=await this.reschedule((()=>this._executeGeometryQuery(e,t,s)),s),await this.reschedule((()=>this._executeAggregateIdsQuery(i)),s),await this.reschedule((()=>this.executeObjectIdsQuery(i)),s),await this.reschedule((()=>this.executeTimeQuery(i)),s),await this.reschedule((()=>this.executeAttributesQuery(i)),s)}catch(r){if(r!==C)throw r;i=new v([],e,this)}return i.createQueryBinsResponse(e)}async executeQueryForSummaryStatistics(e={},t,s){const i=l(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,s){const i=l(s),{field:r,field2:a,field3:n,valueExpression:u}=t;return(await this._executeQueryForStatistics(e,{field:r,field2:a,field3:n,valueExpression:u},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,s){const i=l(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,s){const i=l(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createHistogramResponse(t)}async fetchRecomputedExtents(e){const t=l(e);this._timeExtentPromise||=k(this.timeInfo,this.featureStore);const[s,i]=await Promise.all([this._getFullExtent(),this._timeExtentPromise]);return o(t),{fullExtent:s,timeExtent:i}}async _getBounds(e,t,s){const i=m(d(),f);await this.featureStore.forEachBounds(e,(e=>y(i,e)));const r={xmin:i[0],ymin:i[1],xmax:i[3],ymax:i[4],spatialReference:I(this.spatialReference)};this.hasZ&&isFinite(i[2])&&isFinite(i[5])&&(r.zmin=i[2],r.zmax=i[5],r.hasZ=!0);const a=E(r,t,s);if(a.spatialReference=I(s),a.xmax-a.xmin==0){const e=h(a.spatialReference);a.xmin-=e,a.xmax+=e}if(a.ymax-a.ymin==0){const e=h(a.spatialReference);a.ymin-=e,a.ymax+=e}if(this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin==0){const e=h(a.spatialReference);a.zmin-=e,a.zmax+=e}return a}_getFullExtent(){return this._fullExtentPromise||=\"getFullExtent\"in this.featureStore&&this.featureStore.getFullExtent?Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)):this._getAllFeatures().then((e=>this._getBounds(e,this.spatialReference,this.spatialReference))),this._fullExtentPromise}async schedule(e,t){return this._frameTask?.schedule(e,t)??e(H)}async reschedule(e,t){return this._frameTask?.reschedule(e,t)??e(H)}async _getAllFeaturesQueryEngineResult(e){return new v(await this._getAllFeatures(),e,this)}async _getAllFeatures(){if(null==this._allFeaturesPromise){const e=[];this._allFeaturesPromise=(async()=>await this.featureStore.forEach((t=>e.push(t))))().then((()=>s(e)))}const e=this._allFeaturesPromise,t=await e;return e===this._allFeaturesPromise?t.slice():this._getAllFeatures()}async _executeQuery(e,t,s){e=a(e),e=await this.schedule((()=>z(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>G(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s),e={...e,...t};const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),r=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(r)),s),await this.reschedule((()=>this.executeObjectIdsQuery(r)),s),await this.reschedule((()=>this.executeTimeQuery(r)),s),await this.reschedule((()=>this.executeAttributesQuery(r)),s),r}async _executeSceneFilterQuery(e,t){if(null==e.sceneFilter)return null;const{outSR:s,returnGeometry:i,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,n=e.sceneFilter.geometry,u=null==a||_(a,n.spatialReference)?n:E(n,a);if(!u)return null;const l=i||r,o=S(s)&&!_(this.spatialReference,s)&&l?async e=>this._project(e,s):e=>e,h=this.featureAdapter,c=await this.reschedule((()=>this.searchFeatures(V(u))),t);if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!c.length)return null;const s=new Set;for(const e of c)s.add(h.getObjectId(e));const i=await this.reschedule((()=>this._getAllFeatures()),t),r=await this.reschedule((async()=>{const r=await q(\"esriSpatialRelDisjoint\",u,this.geometryType,this.hasZ,this.hasM),a=e=>!s.has(h.getObjectId(e))||r(h.getGeometry(e)),n=await this.runSpatialFilter(i,a,t);return new v(n,e,this)}),t);return o(r)}if(!c.length)return new v([],e,this);if(this._canExecuteSinglePass(u,e))return o(new v(c,e,this));const m=await q(\"esriSpatialRelContains\",u,this.geometryType,this.hasZ,this.hasM),f=await this.runSpatialFilter(c,(e=>m(h.getGeometry(e))),t);return o(new v(f,e,this))}async _executeGeometryQuery(s,i,r){if(null!=i&&0===i.items.length)return i;const{geometry:a,outSR:n,returnGeometry:u,returnCentroid:l}=s,o=i?null:this._getCacheKey(s),h=o?this._cache.get(o):null;if(h)return new v(h,s,this);const c=S(n)&&!_(this.spatialReference,n),m=u||l,f=async e=>(c&&m&&await this._project(e,n),o&&this._cache.put(o,e.items),e),d=this.featureStore.featureSpatialReference,y=!a||null==d||_(d,a.spatialReference)?a:E(a,d);if(!y)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const p=this.featureAdapter;let g=await this.reschedule((()=>this.searchFeatures(V(a))),r);const x=s.spatialRel??\"esriSpatialRelIntersects\";if(\"esriSpatialRelDisjoint\"===x){if(!g.length)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const e=new Set;for(const s of g)e.add(p.getObjectId(s));const t=null!=i?i.items:await this.reschedule((()=>this._getAllFeatures()),r),a=await this.reschedule((async()=>{const i=await q(x,y,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(p.getObjectId(t))||i(p.getGeometry(t)),n=await this.runSpatialFilter(t,a,r);return new v(n,s,this)}),r);return f(a)}if(null!=i){const s=new t;g=g.filter((t=>e(i.items,t,i.items.length,s)>=0))}if(!g.length){const e=new v([],s,this);return o&&this._cache.put(o,e.items),e}if(this._canExecuteSinglePass(y,s))return f(new v(g,s,this));const w=await q(x,y,this.geometryType,this.hasZ,this.hasM),F=await this.runSpatialFilter(g,(e=>w(p.getGeometry(e))),r);return f(new v(F,s,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds?.length||null==this.aggregateAdapter)return;const t=new Set;for(const i of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(i).forEach((e=>t.add(e)))}const s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds?.length)return;const t=new Set(e.query.objectIds),s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeTimeQuery(e){if(0===e.items.length)return;const t=B(this.timeInfo,e.query.timeExtent,this.featureAdapter);null!=t&&(e.items=e.items.filter(t))}executeAttributesQuery(e){if(0===e.items.length)return;const t=Q(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async runSpatialFilter(e,t,s){if(!t)return e;if(null==this._frameTask)return e.filter((e=>t(e)));let i=0;const r=new Array,a=async n=>{for(;i<e.length;){const u=e[i++];t(u)&&(r.push(u),n.madeProgress()),n.done&&await this.reschedule((e=>a(e)),s)}};return this.reschedule((e=>a(e)),s).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:s,endTimeField:i}=this.timeInfo,r=i||s,a=new Map,n=this.featureAdapter.getAttribute;for(const u of e.items){const e=n(u,t),s=n(u,r),i=a.get(e);(!i||s>n(i,r))&&a.set(e,u)}e.items=Array.from(a.values())}_getCacheKey(e){const{geometry:t,spatialRel:s,returnGeometry:i,returnCentroid:r,outSR:a,resultType:n,cacheHint:u}=e;if(\"tile\"!==n&&!u)return null;const l=i||r;return S(a)&&!_(this.spatialReference,a)&&l?JSON.stringify([t,s,a]):JSON.stringify([t,s])}_canExecuteSinglePass(e,t){const{spatialRel:s}=t;return U(e)&&(\"esriSpatialRelEnvelopeIntersects\"===s||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===s||\"esriSpatialRelContains\"===s))}async _project(e,t){if(!t||_(this.spatialReference,t))return e;const i=this.featureAdapter;let r;try{const e=await this._getFullExtent();r=c(this.spatialReference,t,e)}catch{}const a=await b(e.items.map((e=>j(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t,r);return e.items=s(a.map(((t,s)=>i.cloneWithGeometry(e.items[s],R(t,this.hasZ,this.hasM))))),e}async searchFeatures(e){const t=new Set;await Promise.all(e.map((e=>this.featureStore.forEachInBounds(e,(e=>t.add(e))))));const s=Array.from(t.values());return t.clear(),s}async _executeQueryForStatistics(e,t,s){e=a(e);try{e=await this.schedule((()=>z(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>O(e,t,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),r=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(r)),s),await this.reschedule((()=>this.executeObjectIdsQuery(r)),s),await this.reschedule((()=>this.executeTimeQuery(r)),s),await this.reschedule((()=>this.executeAttributesQuery(r)),s),r}catch(i){if(i!==C)throw i;return new v([],e,this)}}get test(){}}function V(e){if(U(e)){if(w(e))return[p(Math.min(e.xmin,e.xmax),Math.min(e.ymin,e.ymax),Math.max(e.xmin,e.xmax),Math.max(e.ymin,e.ymax))];if(F(e))return e.rings.map((e=>p(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[x(g(),e)]}export{N as Feature,L as QueryEngine,V as getQueryBBoxes};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}