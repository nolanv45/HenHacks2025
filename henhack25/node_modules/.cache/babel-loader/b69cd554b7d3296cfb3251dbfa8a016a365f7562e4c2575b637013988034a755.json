{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport t from \"../../../../core/PooledArray.js\";\nimport { create as e, copy as r, area as s, expand as n, contains as o } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { noBudget as i } from \"../../../support/Scheduler.js\";\nconst h = .05;\nclass a {\n  constructor() {\n    this._extents = new t({\n      allocator: t => t || e()\n    }), this._tmpExtent = e(), this._dirty = !1;\n  }\n  get empty() {\n    return 0 === this._extents.length;\n  }\n  get size() {\n    return this._extents.length;\n  }\n  clear() {\n    this._extents.clear();\n  }\n  add(t) {\n    this._contains(t) || (this._removeContained(t), r(this._extents.pushNew(), t), this._dirty = !0);\n  }\n  pop() {\n    return this._dirty && this._mergeTight(), this._extents.pop();\n  }\n  merge(t) {\n    return this._mergeTight(t), t.hasProgressed;\n  }\n  _mergeTight() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : i;\n    const e = this._extents,\n      o = new Set();\n    let a = 0;\n    for (; a !== e.length;) {\n      e.sort((t, e) => t[0] - e[0]), a = e.length, o.clear();\n      for (let i = 0; i < e.length; ++i) {\n        if (t.done) return;\n        const a = e.at(i);\n        if (a) {\n          for (let t = i + 1; t < e.length; ++t) {\n            const r = e.at(t);\n            if (null == r || r[0] >= a[2]) break;\n            o.add(r);\n          }\n          o.forEach(i => {\n            if (a === i) return;\n            if (i[2] <= a[0]) return void o.delete(i);\n            const l = s(a),\n              _ = s(i),\n              c = this._tmpExtent;\n            n(a, i, c);\n            const d = l + _;\n            (s(c) - d) / d < h && (r(a, c), o.delete(i), e.remove(i), t.madeProgress());\n          }), o.add(a);\n        }\n      }\n    }\n    this._dirty = !1;\n  }\n  _contains(t) {\n    return this._extents.some(e => o(e, t));\n  }\n  _removeContained(t) {\n    this._extents.filterInPlace(e => !o(t, e));\n  }\n  get test() {}\n}\nexport { a as ExtentSet };","map":{"version":3,"names":["t","create","e","copy","r","area","s","expand","n","contains","o","noBudget","i","h","a","constructor","_extents","allocator","_tmpExtent","_dirty","empty","length","size","clear","add","_contains","_removeContained","pushNew","pop","_mergeTight","merge","hasProgressed","arguments","undefined","Set","sort","done","at","forEach","delete","l","_","c","d","remove","madeProgress","some","filterInPlace","test","ExtentSet"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as i}from\"../../../support/Scheduler.js\";const h=.05;class a{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=i){const e=this._extents,o=new Set;let a=0;for(;a!==e.length;){e.sort(((t,e)=>t[0]-e[0])),a=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const a=e.at(i);if(a){for(let t=i+1;t<e.length;++t){const r=e.at(t);if(null==r||r[0]>=a[2])break;o.add(r)}o.forEach((i=>{if(a===i)return;if(i[2]<=a[0])return void o.delete(i);const l=s(a),_=s(i),c=this._tmpExtent;n(a,i,c);const d=l+_;(s(c)-d)/d<h&&(r(a,c),o.delete(i),e.remove(i),t.madeProgress())})),o.add(a)}}}this._dirty=!1}_contains(t){return this._extents.some((e=>o(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!o(t,e)))}get test(){}}export{a as ExtentSet};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}