{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport r from \"../../core/Error.js\";\nimport has from \"../../core/has.js\";\nimport { throwIfAbortError as t } from \"../../core/promiseUtils.js\";\nimport { normalize as o, removeFile as s } from \"../../core/urlUtils.js\";\nimport n from \"../../portal/Portal.js\";\nimport l from \"../../portal/PortalQueryParams.js\";\nimport { cachedStyles as a } from \"./styleCache.js\";\nasync function f(e, r) {\n  try {\n    return {\n      data: (await p(e, r)).data,\n      baseUrl: s(e),\n      styleUrl: e\n    };\n  } catch (o) {\n    return t(o), null;\n  }\n}\nfunction u(e, r, t) {\n  const o = null != r.portal ? r.portal : n.getDefault();\n  let s;\n  const l = `${o.url} - ${o.user?.username} - ${e}`,\n    f = a.get(l);\n  if (f) return f;\n  const u = c(e, o, t).then(e => (s = e, e.fetchData())).then(r => ({\n    data: r,\n    baseUrl: s.itemUrl ?? \"\",\n    styleName: e\n  }));\n  return a.set(l, u), u;\n}\nfunction c(e, t, o) {\n  return t.load(o).then(() => {\n    const r = new l({\n      disableExtraQuery: !0,\n      query: `owner:${d} AND type:${w} AND typekeywords:\"${e}\"`\n    });\n    return t.queryItems(r, o);\n  }).then(({\n    results: t\n  }) => {\n    let s = null;\n    const n = e.toLowerCase();\n    if (t && Array.isArray(t)) for (const e of t) {\n      const r = e.typeKeywords?.some(e => e.toLowerCase() === n);\n      if (r && e.type === w && e.owner === d) {\n        s = e;\n        break;\n      }\n    }\n    if (!s) throw new r(\"symbolstyleutils:style-not-found\", `The style '${e}' could not be found`, {\n      styleName: e\n    });\n    return s.load(o);\n  });\n}\nfunction i(e, t, o) {\n  return null != e?.styleUrl ? f(e.styleUrl, o) : null != e?.styleName ? u(e.styleName, t, o) : Promise.reject(new r(\"symbolstyleutils:style-url-and-name-missing\", \"Either styleUrl or styleName is required to resolve a style\"));\n}\nfunction m(e) {\n  return null === e || \"CIMSymbolReference\" === e.type ? e : {\n    type: \"CIMSymbolReference\",\n    symbol: e\n  };\n}\nfunction y(e, r) {\n  for (const t of r) switch (t) {\n    case \"cim\":\n      if (e.cimRef) return {\n        format: t,\n        url: encodeURI(e.cimRef)\n      };\n      break;\n    case \"web-gltf-basisu\":\n      {\n        const r = b(e, \"gltf_basisu\");\n        if (r) return {\n          format: t,\n          url: r\n        };\n        break;\n      }\n    case \"web-gltf\":\n      {\n        const r = b(e, \"gltf\");\n        if (r) return {\n          format: t,\n          url: r\n        };\n        break;\n      }\n    case \"web\":\n      {\n        const r = b(e, \"gltf\");\n        if (r) return {\n          format: \"web-gltf\",\n          url: r\n        };\n        if (e.webRef) return {\n          format: t,\n          url: encodeURI(e.webRef)\n        };\n        break;\n      }\n  }\n}\nfunction b(e, r) {\n  if (!has(\"enable-feature:force-wosr\")) return e.formatInfos?.find(e => e.type === r)?.href;\n}\nfunction p(r, t) {\n  const s = {\n    responseType: \"json\",\n    query: {\n      f: \"json\"\n    },\n    ...t\n  };\n  return e(o(r), s);\n}\nconst d = \"esri_en\",\n  w = \"Style\",\n  h = \"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";\nexport { h as Style2DUrlTemplate, i as fetchStyle, m as makeCIMSymbolRef, p as requestJSON, y as symbolUrlFromStyleItem };","map":{"version":3,"names":["e","r","has","throwIfAbortError","t","normalize","o","removeFile","s","n","l","cachedStyles","a","f","data","p","baseUrl","styleUrl","u","portal","getDefault","url","user","username","get","c","then","fetchData","itemUrl","styleName","set","load","disableExtraQuery","query","d","w","queryItems","results","toLowerCase","Array","isArray","typeKeywords","some","type","owner","i","Promise","reject","m","symbol","y","cimRef","format","encodeURI","b","webRef","formatInfos","find","href","responseType","h","Style2DUrlTemplate","fetchStyle","makeCIMSymbolRef","requestJSON","symbolUrlFromStyleItem"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/support/styleUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import has from\"../../core/has.js\";import{throwIfAbortError as t}from\"../../core/promiseUtils.js\";import{normalize as o,removeFile as s}from\"../../core/urlUtils.js\";import n from\"../../portal/Portal.js\";import l from\"../../portal/PortalQueryParams.js\";import{cachedStyles as a}from\"./styleCache.js\";async function f(e,r){try{return{data:(await p(e,r)).data,baseUrl:s(e),styleUrl:e}}catch(o){return t(o),null}}function u(e,r,t){const o=null!=r.portal?r.portal:n.getDefault();let s;const l=`${o.url} - ${o.user?.username} - ${e}`,f=a.get(l);if(f)return f;const u=c(e,o,t).then((e=>(s=e,e.fetchData()))).then((r=>({data:r,baseUrl:s.itemUrl??\"\",styleName:e})));return a.set(l,u),u}function c(e,t,o){return t.load(o).then((()=>{const r=new l({disableExtraQuery:!0,query:`owner:${d} AND type:${w} AND typekeywords:\"${e}\"`});return t.queryItems(r,o)})).then((({results:t})=>{let s=null;const n=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){const r=e.typeKeywords?.some((e=>e.toLowerCase()===n));if(r&&e.type===w&&e.owner===d){s=e;break}}if(!s)throw new r(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}function i(e,t,o){return null!=e?.styleUrl?f(e.styleUrl,o):null!=e?.styleName?u(e.styleName,t,o):Promise.reject(new r(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function m(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function y(e,r){for(const t of r)switch(t){case\"cim\":if(e.cimRef)return{format:t,url:encodeURI(e.cimRef)};break;case\"web-gltf-basisu\":{const r=b(e,\"gltf_basisu\");if(r)return{format:t,url:r};break}case\"web-gltf\":{const r=b(e,\"gltf\");if(r)return{format:t,url:r};break}case\"web\":{const r=b(e,\"gltf\");if(r)return{format:\"web-gltf\",url:r};if(e.webRef)return{format:t,url:encodeURI(e.webRef)};break}}}function b(e,r){if(!has(\"enable-feature:force-wosr\"))return e.formatInfos?.find((e=>e.type===r))?.href}function p(r,t){const s={responseType:\"json\",query:{f:\"json\"},...t};return e(o(r),s)}const d=\"esri_en\",w=\"Style\",h=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{h as Style2DUrlTemplate,i as fetchStyle,m as makeCIMSymbolRef,p as requestJSON,y as symbolUrlFromStyleItem};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}