{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t, a as e } from \"../../../../../../../chunks/tslib.es6.js\";\nimport has from \"../../../../../../../core/has.js\";\nimport { location as i, uniform as o, UniformGroup as s, input as r } from \"../../GraphShaderModule.js\";\nimport { ifElse as n, greaterThan as a, Float as d, dot as l, mix as p, Vec2 as m, clamp as c, texture2D as h, step as u, length as y, Vec4 as g } from \"../../graph/glsl.js\";\nimport { bitset as v } from \"../line/gradientStrokeConstants.js\";\nimport { BaseHittestVertexInput as f } from \"./AFeatureShader.js\";\nimport { LineVertexInput as w, LineFragmentInput as b, LineShader as x, getLineVertexData as S, getLineAntialiasing as j } from \"./LineShader.js\";\nimport { MosaicInfo as L } from \"./MosaicInfo.js\";\nimport { getBit as A, getBitBool as D, oneMinus as z } from \"./utils.js\";\nclass F extends w {}\nt([i(9, d)], F.prototype, \"accumulatedDistance\", void 0), t([i(10, d)], F.prototype, \"totalLength\", void 0), t([i(11, d)], F.prototype, \"gradientSize\", void 0), t([i(12, m)], F.prototype, \"segmentDirection\", void 0), t([i(13, g)], F.prototype, \"tlbr\", void 0);\nclass C extends b {}\nclass G extends s {}\nt([o(d)], G.prototype, \"isColorPass\", void 0);\nclass I extends x {\n  constructor() {\n    super(...arguments), this.type = \"GradientStrokeShader\";\n  }\n  vertex(t, e) {\n    const {\n        totalLength: i,\n        gradientSize: o,\n        segmentDirection: s,\n        tlbr: r\n      } = t,\n      p = S(this, t),\n      m = A(t.bitset, v.isAlongLine),\n      c = i.divide(this.view.displayZoomFactor),\n      h = n(D(t.bitset, v.isAbsoluteSize), () => {\n        const t = n(a(m, new d(.5)), c, p.halfWidth);\n        return o.divide(t);\n      }, o),\n      u = t.accumulatedDistance.divide(this.view.displayZoomFactor).add(l(s, p.scaledOffset)).divide(c),\n      y = r.divide(this.mosaicInfo.size.xyxy);\n    return {\n      ...p,\n      tlbr: y,\n      relativePositionAlongLine: u,\n      relativeGradientSize: h,\n      isAlongLine: A(t.bitset, v.isAlongLine),\n      isDiscrete: A(t.bitset, v.isDiscrete),\n      ...this.maybeRunHittest(t, e, p.halfWidth)\n    };\n  }\n  fragment(t) {\n    const {\n        isAlongLine: e,\n        isDiscrete: i,\n        relativePositionAlongLine: o,\n        relativeGradientSize: s,\n        normal: r,\n        tlbr: l\n      } = t,\n      g = j(t, this.antialiasingControls.blur),\n      v = new d(.5).multiply(r.y).add(new d(.5)),\n      f = n(a(e, new d(.5)), o, v),\n      w = n(a(i, new d(.5)), s.subtract(1), new d(0)),\n      b = z(f.add(w).divide(s)),\n      x = p(l.xy, l.zw, new m(c(b, new d(0), new d(1)), .5)),\n      S = h(this.mosaicInfo.texture, x),\n      L = t.opacity.multiply(g),\n      A = this.getFragmentOutput(S.multiply(L), t),\n      D = u(new d(.5), this.technique.isColorPass).multiply(has(\"gradient-depth-epsilon\")),\n      F = u(new d(0), r.y).multiply(new d(has(\"gradient-depth-bias\")).subtract(D));\n    return A.glFragDepth = c(y(r).add(F), new d(0), new d(1)), A;\n  }\n}\nt([o(L)], I.prototype, \"mosaicInfo\", void 0), t([o(G)], I.prototype, \"technique\", void 0), t([e(0, r(F)), e(1, r(f))], I.prototype, \"vertex\", null);\nexport { C as GradientStrokeFragmentInput, I as GradientStrokeShader, F as GradientStrokeVertexInput };","map":{"version":3,"names":["_","t","a","e","has","location","i","uniform","o","UniformGroup","s","input","r","ifElse","n","greaterThan","Float","d","dot","l","mix","p","Vec2","m","clamp","c","texture2D","h","step","u","length","y","Vec4","g","bitset","v","BaseHittestVertexInput","f","LineVertexInput","w","LineFragmentInput","b","LineShader","x","getLineVertexData","S","getLineAntialiasing","j","MosaicInfo","L","getBit","A","getBitBool","D","oneMinus","z","F","prototype","C","G","I","constructor","arguments","type","vertex","totalLength","gradientSize","segmentDirection","tlbr","isAlongLine","divide","view","displayZoomFactor","isAbsoluteSize","halfWidth","accumulatedDistance","add","scaledOffset","mosaicInfo","size","xyxy","relativePositionAlongLine","relativeGradientSize","isDiscrete","maybeRunHittest","fragment","normal","antialiasingControls","blur","multiply","subtract","xy","zw","texture","opacity","getFragmentOutput","technique","isColorPass","glFragDepth","GradientStrokeFragmentInput","GradientStrokeShader","GradientStrokeVertexInput"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/GradientStrokeShader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t,a as e}from\"../../../../../../../chunks/tslib.es6.js\";import has from\"../../../../../../../core/has.js\";import{location as i,uniform as o,UniformGroup as s,input as r}from\"../../GraphShaderModule.js\";import{ifElse as n,greaterThan as a,Float as d,dot as l,mix as p,Vec2 as m,clamp as c,texture2D as h,step as u,length as y,Vec4 as g}from\"../../graph/glsl.js\";import{bitset as v}from\"../line/gradientStrokeConstants.js\";import{BaseHittestVertexInput as f}from\"./AFeatureShader.js\";import{LineVertexInput as w,LineFragmentInput as b,LineShader as x,getLineVertexData as S,getLineAntialiasing as j}from\"./LineShader.js\";import{MosaicInfo as L}from\"./MosaicInfo.js\";import{getBit as A,getBitBool as D,oneMinus as z}from\"./utils.js\";class F extends w{}t([i(9,d)],F.prototype,\"accumulatedDistance\",void 0),t([i(10,d)],F.prototype,\"totalLength\",void 0),t([i(11,d)],F.prototype,\"gradientSize\",void 0),t([i(12,m)],F.prototype,\"segmentDirection\",void 0),t([i(13,g)],F.prototype,\"tlbr\",void 0);class C extends b{}class G extends s{}t([o(d)],G.prototype,\"isColorPass\",void 0);class I extends x{constructor(){super(...arguments),this.type=\"GradientStrokeShader\"}vertex(t,e){const{totalLength:i,gradientSize:o,segmentDirection:s,tlbr:r}=t,p=S(this,t),m=A(t.bitset,v.isAlongLine),c=i.divide(this.view.displayZoomFactor),h=n(D(t.bitset,v.isAbsoluteSize),(()=>{const t=n(a(m,new d(.5)),c,p.halfWidth);return o.divide(t)}),o),u=t.accumulatedDistance.divide(this.view.displayZoomFactor).add(l(s,p.scaledOffset)).divide(c),y=r.divide(this.mosaicInfo.size.xyxy);return{...p,tlbr:y,relativePositionAlongLine:u,relativeGradientSize:h,isAlongLine:A(t.bitset,v.isAlongLine),isDiscrete:A(t.bitset,v.isDiscrete),...this.maybeRunHittest(t,e,p.halfWidth)}}fragment(t){const{isAlongLine:e,isDiscrete:i,relativePositionAlongLine:o,relativeGradientSize:s,normal:r,tlbr:l}=t,g=j(t,this.antialiasingControls.blur),v=new d(.5).multiply(r.y).add(new d(.5)),f=n(a(e,new d(.5)),o,v),w=n(a(i,new d(.5)),s.subtract(1),new d(0)),b=z(f.add(w).divide(s)),x=p(l.xy,l.zw,new m(c(b,new d(0),new d(1)),.5)),S=h(this.mosaicInfo.texture,x),L=t.opacity.multiply(g),A=this.getFragmentOutput(S.multiply(L),t),D=u(new d(.5),this.technique.isColorPass).multiply(has(\"gradient-depth-epsilon\")),F=u(new d(0),r.y).multiply(new d(has(\"gradient-depth-bias\")).subtract(D));return A.glFragDepth=c(y(r).add(F),new d(0),new d(1)),A}}t([o(L)],I.prototype,\"mosaicInfo\",void 0),t([o(G)],I.prototype,\"technique\",void 0),t([e(0,r(F)),e(1,r(f))],I.prototype,\"vertex\",null);export{C as GradientStrokeFragmentInput,I as GradientStrokeShader,F as GradientStrokeVertexInput};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAC,EAACC,CAAC,IAAIC,CAAC,QAAK,0CAA0C;AAAC,OAAOC,GAAG,MAAK,kCAAkC;AAAC,SAAOC,QAAQ,IAAIC,CAAC,EAACC,OAAO,IAAIC,CAAC,EAACC,YAAY,IAAIC,CAAC,EAACC,KAAK,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,MAAM,IAAIC,CAAC,EAACC,WAAW,IAAIb,CAAC,EAACc,KAAK,IAAIC,CAAC,EAACC,GAAG,IAAIC,CAAC,EAACC,GAAG,IAAIC,CAAC,EAACC,IAAI,IAAIC,CAAC,EAACC,KAAK,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,EAACC,IAAI,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,EAACC,IAAI,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,oCAAoC;AAAC,SAAOC,sBAAsB,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,eAAe,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,mBAAmB,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,MAAM,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,EAACC,QAAQ,IAAIC,CAAC,QAAK,YAAY;AAAC,MAAMC,CAAC,SAASjB,CAAC;AAAEtC,CAAC,CAAC,CAACK,CAAC,CAAC,CAAC,EAACW,CAAC,CAAC,CAAC,EAACuC,CAAC,CAACC,SAAS,EAAC,qBAAqB,EAAC,KAAK,CAAC,CAAC,EAACxD,CAAC,CAAC,CAACK,CAAC,CAAC,EAAE,EAACW,CAAC,CAAC,CAAC,EAACuC,CAAC,CAACC,SAAS,EAAC,aAAa,EAAC,KAAK,CAAC,CAAC,EAACxD,CAAC,CAAC,CAACK,CAAC,CAAC,EAAE,EAACW,CAAC,CAAC,CAAC,EAACuC,CAAC,CAACC,SAAS,EAAC,cAAc,EAAC,KAAK,CAAC,CAAC,EAACxD,CAAC,CAAC,CAACK,CAAC,CAAC,EAAE,EAACiB,CAAC,CAAC,CAAC,EAACiC,CAAC,CAACC,SAAS,EAAC,kBAAkB,EAAC,KAAK,CAAC,CAAC,EAACxD,CAAC,CAAC,CAACK,CAAC,CAAC,EAAE,EAAC2B,CAAC,CAAC,CAAC,EAACuB,CAAC,CAACC,SAAS,EAAC,MAAM,EAAC,KAAK,CAAC,CAAC;AAAC,MAAMC,CAAC,SAASjB,CAAC;AAAE,MAAMkB,CAAC,SAASjD,CAAC;AAAET,CAAC,CAAC,CAACO,CAAC,CAACS,CAAC,CAAC,CAAC,EAAC0C,CAAC,CAACF,SAAS,EAAC,aAAa,EAAC,KAAK,CAAC,CAAC;AAAC,MAAMG,CAAC,SAASjB,CAAC;EAACkB,WAAWA,CAAA,EAAE;IAAC,KAAK,CAAC,GAAGC,SAAS,CAAC,EAAC,IAAI,CAACC,IAAI,GAAC,sBAAsB;EAAA;EAACC,MAAMA,CAAC/D,CAAC,EAACE,CAAC,EAAC;IAAC,MAAK;QAAC8D,WAAW,EAAC3D,CAAC;QAAC4D,YAAY,EAAC1D,CAAC;QAAC2D,gBAAgB,EAACzD,CAAC;QAAC0D,IAAI,EAACxD;MAAC,CAAC,GAACX,CAAC;MAACoB,CAAC,GAACwB,CAAC,CAAC,IAAI,EAAC5C,CAAC,CAAC;MAACsB,CAAC,GAAC4B,CAAC,CAAClD,CAAC,CAACiC,MAAM,EAACC,CAAC,CAACkC,WAAW,CAAC;MAAC5C,CAAC,GAACnB,CAAC,CAACgE,MAAM,CAAC,IAAI,CAACC,IAAI,CAACC,iBAAiB,CAAC;MAAC7C,CAAC,GAACb,CAAC,CAACuC,CAAC,CAACpD,CAAC,CAACiC,MAAM,EAACC,CAAC,CAACsC,cAAc,CAAC,EAAE,MAAI;QAAC,MAAMxE,CAAC,GAACa,CAAC,CAACZ,CAAC,CAACqB,CAAC,EAAC,IAAIN,CAAC,CAAC,EAAE,CAAC,CAAC,EAACQ,CAAC,EAACJ,CAAC,CAACqD,SAAS,CAAC;QAAC,OAAOlE,CAAC,CAAC8D,MAAM,CAACrE,CAAC,CAAC;MAAA,CAAC,EAAEO,CAAC,CAAC;MAACqB,CAAC,GAAC5B,CAAC,CAAC0E,mBAAmB,CAACL,MAAM,CAAC,IAAI,CAACC,IAAI,CAACC,iBAAiB,CAAC,CAACI,GAAG,CAACzD,CAAC,CAACT,CAAC,EAACW,CAAC,CAACwD,YAAY,CAAC,CAAC,CAACP,MAAM,CAAC7C,CAAC,CAAC;MAACM,CAAC,GAACnB,CAAC,CAAC0D,MAAM,CAAC,IAAI,CAACQ,UAAU,CAACC,IAAI,CAACC,IAAI,CAAC;IAAC,OAAM;MAAC,GAAG3D,CAAC;MAAC+C,IAAI,EAACrC,CAAC;MAACkD,yBAAyB,EAACpD,CAAC;MAACqD,oBAAoB,EAACvD,CAAC;MAAC0C,WAAW,EAAClB,CAAC,CAAClD,CAAC,CAACiC,MAAM,EAACC,CAAC,CAACkC,WAAW,CAAC;MAACc,UAAU,EAAChC,CAAC,CAAClD,CAAC,CAACiC,MAAM,EAACC,CAAC,CAACgD,UAAU,CAAC;MAAC,GAAG,IAAI,CAACC,eAAe,CAACnF,CAAC,EAACE,CAAC,EAACkB,CAAC,CAACqD,SAAS;IAAC,CAAC;EAAA;EAACW,QAAQA,CAACpF,CAAC,EAAC;IAAC,MAAK;QAACoE,WAAW,EAAClE,CAAC;QAACgF,UAAU,EAAC7E,CAAC;QAAC2E,yBAAyB,EAACzE,CAAC;QAAC0E,oBAAoB,EAACxE,CAAC;QAAC4E,MAAM,EAAC1E,CAAC;QAACwD,IAAI,EAACjD;MAAC,CAAC,GAAClB,CAAC;MAACgC,CAAC,GAACc,CAAC,CAAC9C,CAAC,EAAC,IAAI,CAACsF,oBAAoB,CAACC,IAAI,CAAC;MAACrD,CAAC,GAAC,IAAIlB,CAAC,CAAC,EAAE,CAAC,CAACwE,QAAQ,CAAC7E,CAAC,CAACmB,CAAC,CAAC,CAAC6C,GAAG,CAAC,IAAI3D,CAAC,CAAC,EAAE,CAAC,CAAC;MAACoB,CAAC,GAACvB,CAAC,CAACZ,CAAC,CAACC,CAAC,EAAC,IAAIc,CAAC,CAAC,EAAE,CAAC,CAAC,EAACT,CAAC,EAAC2B,CAAC,CAAC;MAACI,CAAC,GAACzB,CAAC,CAACZ,CAAC,CAACI,CAAC,EAAC,IAAIW,CAAC,CAAC,EAAE,CAAC,CAAC,EAACP,CAAC,CAACgF,QAAQ,CAAC,CAAC,CAAC,EAAC,IAAIzE,CAAC,CAAC,CAAC,CAAC,CAAC;MAACwB,CAAC,GAACc,CAAC,CAAClB,CAAC,CAACuC,GAAG,CAACrC,CAAC,CAAC,CAAC+B,MAAM,CAAC5D,CAAC,CAAC,CAAC;MAACiC,CAAC,GAACtB,CAAC,CAACF,CAAC,CAACwE,EAAE,EAACxE,CAAC,CAACyE,EAAE,EAAC,IAAIrE,CAAC,CAACE,CAAC,CAACgB,CAAC,EAAC,IAAIxB,CAAC,CAAC,CAAC,CAAC,EAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;MAAC4B,CAAC,GAAClB,CAAC,CAAC,IAAI,CAACmD,UAAU,CAACe,OAAO,EAAClD,CAAC,CAAC;MAACM,CAAC,GAAChD,CAAC,CAAC6F,OAAO,CAACL,QAAQ,CAACxD,CAAC,CAAC;MAACkB,CAAC,GAAC,IAAI,CAAC4C,iBAAiB,CAAClD,CAAC,CAAC4C,QAAQ,CAACxC,CAAC,CAAC,EAAChD,CAAC,CAAC;MAACoD,CAAC,GAACxB,CAAC,CAAC,IAAIZ,CAAC,CAAC,EAAE,CAAC,EAAC,IAAI,CAAC+E,SAAS,CAACC,WAAW,CAAC,CAACR,QAAQ,CAACrF,GAAG,CAAC,wBAAwB,CAAC,CAAC;MAACoD,CAAC,GAAC3B,CAAC,CAAC,IAAIZ,CAAC,CAAC,CAAC,CAAC,EAACL,CAAC,CAACmB,CAAC,CAAC,CAAC0D,QAAQ,CAAC,IAAIxE,CAAC,CAACb,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAACsF,QAAQ,CAACrC,CAAC,CAAC,CAAC;IAAC,OAAOF,CAAC,CAAC+C,WAAW,GAACzE,CAAC,CAACM,CAAC,CAACnB,CAAC,CAAC,CAACgE,GAAG,CAACpB,CAAC,CAAC,EAAC,IAAIvC,CAAC,CAAC,CAAC,CAAC,EAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,EAACkC,CAAC;EAAA;AAAC;AAAClD,CAAC,CAAC,CAACO,CAAC,CAACyC,CAAC,CAAC,CAAC,EAACW,CAAC,CAACH,SAAS,EAAC,YAAY,EAAC,KAAK,CAAC,CAAC,EAACxD,CAAC,CAAC,CAACO,CAAC,CAACmD,CAAC,CAAC,CAAC,EAACC,CAAC,CAACH,SAAS,EAAC,WAAW,EAAC,KAAK,CAAC,CAAC,EAACxD,CAAC,CAAC,CAACE,CAAC,CAAC,CAAC,EAACS,CAAC,CAAC4C,CAAC,CAAC,CAAC,EAACrD,CAAC,CAAC,CAAC,EAACS,CAAC,CAACyB,CAAC,CAAC,CAAC,CAAC,EAACuB,CAAC,CAACH,SAAS,EAAC,QAAQ,EAAC,IAAI,CAAC;AAAC,SAAOC,CAAC,IAAIyC,2BAA2B,EAACvC,CAAC,IAAIwC,oBAAoB,EAAC5C,CAAC,IAAI6C,yBAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}