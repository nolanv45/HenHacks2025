{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../../../core/Accessor.js\";\nimport { watch as i, sync as r } from \"../../../../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../../core/has.js\";\nimport \"../../../../../../core/Logger.js\";\nimport \"../../../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { TileKey as l } from \"../../../../../../layers/support/TileKey.js\";\nimport { distanceToTile as n } from \"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";\nimport { scaleBoundsPredicate as a } from \"../../../../../support/layerViewUtils.js\";\nlet p = class extends t {\n  get tiles() {\n    const e = this.tilesCoveringView,\n      t = null != this.pointOfInterest ? this.pointOfInterest : this.view.center;\n    return e.sort((e, i) => n(t, e) - n(t, i)), e;\n  }\n  _scaleEnabled() {\n    return a(this.view.scale, this.layer.minScale || 0, this.layer.maxScale || 0);\n  }\n  get tilesCoveringView() {\n    if (!this.view.ready || !this.view.featuresTilingScheme || !this.view.state || null == this.tileInfo) return [];\n    if (!this._scaleEnabled) return [];\n    const {\n        spans: e,\n        lodInfo: t\n      } = this.view.featuresTilingScheme.getTileCoverage(this.view.state, 0),\n      {\n        level: i\n      } = t,\n      r = [];\n    for (const {\n      row: o,\n      colFrom: s,\n      colTo: n\n    } of e) for (let e = s; e <= n; e++) {\n      const s = t.normalizeCol(e),\n        n = new l(null, i, o, s);\n      this.tileInfo.updateTileInfo(n), r.push(n);\n    }\n    return r;\n  }\n  get tileInfo() {\n    return this.view.featuresTilingScheme?.tileInfo ?? null;\n  }\n  get tileSize() {\n    return null != this.tileInfo ? this.tileInfo.size[0] : 256;\n  }\n  constructor(e) {\n    super(e), this.pointOfInterest = null;\n  }\n  initialize() {\n    this.addHandles(i(() => this.view?.state?.viewpoint, () => this.notifyChange(\"tilesCoveringView\"), r));\n  }\n};\ne([o({\n  readOnly: !0\n})], p.prototype, \"tiles\", null), e([o({\n  readOnly: !0\n})], p.prototype, \"_scaleEnabled\", null), e([o({\n  readOnly: !0\n})], p.prototype, \"tilesCoveringView\", null), e([o({\n  readOnly: !0\n})], p.prototype, \"tileInfo\", null), e([o({\n  readOnly: !0\n})], p.prototype, \"tileSize\", null), e([o({\n  constructOnly: !0\n})], p.prototype, \"view\", void 0), e([o({\n  constructOnly: !0\n})], p.prototype, \"layer\", void 0), e([o()], p.prototype, \"pointOfInterest\", void 0), p = e([s(\"esri.views.2d.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")], p);\nexport { p as FeatureServiceTiles2D };","map":{"version":3,"names":["_","e","t","watch","i","sync","r","property","o","subclass","s","TileKey","l","distanceToTile","n","scaleBoundsPredicate","a","p","tiles","tilesCoveringView","pointOfInterest","view","center","sort","_scaleEnabled","scale","layer","minScale","maxScale","ready","featuresTilingScheme","state","tileInfo","spans","lodInfo","getTileCoverage","level","row","colFrom","colTo","normalizeCol","updateTileInfo","push","tileSize","size","constructor","initialize","addHandles","viewpoint","notifyChange","readOnly","prototype","constructOnly","FeatureServiceTiles2D"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import t from\"../../../../../../core/Accessor.js\";import{watch as i,sync as r}from\"../../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/has.js\";import\"../../../../../../core/Logger.js\";import\"../../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{TileKey as l}from\"../../../../../../layers/support/TileKey.js\";import{distanceToTile as n}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";import{scaleBoundsPredicate as a}from\"../../../../../support/layerViewUtils.js\";let p=class extends t{get tiles(){const e=this.tilesCoveringView,t=null!=this.pointOfInterest?this.pointOfInterest:this.view.center;return e.sort(((e,i)=>n(t,e)-n(t,i))),e}_scaleEnabled(){return a(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||null==this.tileInfo)return[];if(!this._scaleEnabled)return[];const{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:i}=t,r=[];for(const{row:o,colFrom:s,colTo:n}of e)for(let e=s;e<=n;e++){const s=t.normalizeCol(e),n=new l(null,i,o,s);this.tileInfo.updateTileInfo(n),r.push(n)}return r}get tileInfo(){return this.view.featuresTilingScheme?.tileInfo??null}get tileSize(){return null!=this.tileInfo?this.tileInfo.size[0]:256}constructor(e){super(e),this.pointOfInterest=null}initialize(){this.addHandles(i((()=>this.view?.state?.viewpoint),(()=>this.notifyChange(\"tilesCoveringView\")),r))}};e([o({readOnly:!0})],p.prototype,\"tiles\",null),e([o({readOnly:!0})],p.prototype,\"_scaleEnabled\",null),e([o({readOnly:!0})],p.prototype,\"tilesCoveringView\",null),e([o({readOnly:!0})],p.prototype,\"tileInfo\",null),e([o({readOnly:!0})],p.prototype,\"tileSize\",null),e([o({constructOnly:!0})],p.prototype,\"view\",void 0),e([o({constructOnly:!0})],p.prototype,\"layer\",void 0),e([o()],p.prototype,\"pointOfInterest\",void 0),p=e([s(\"esri.views.2d.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")],p);export{p as FeatureServiceTiles2D};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}