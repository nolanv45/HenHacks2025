{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { i as e, l as t, h as i } from \"../../chunks/vec32.js\";\nimport { create as s } from \"../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { FilteredFiniteDifference as n } from \"./FilteredFiniteDifference.js\";\nimport { Momentum as r } from \"./Momentum.js\";\nclass l extends r {\n  constructor(e, t, i, s, n) {\n    super(e, t, i), this._sceneVelocity = s, this.direction = n;\n  }\n  value(e) {\n    return super.valueFromInitialVelocity(this._sceneVelocity, e);\n  }\n}\nclass c {\n  constructor(e = 300, t = 12, i = .84) {\n    this._minimumInitialVelocity = e, this._stopVelocity = t, this._friction = i, this.enabled = !0, this._time = new n(.6), this._screen = [new n(.4), new n(.4)], this._scene = [new n(.6), new n(.6), new n(.6)], this._tmpDirection = s();\n  }\n  add(e, t, i) {\n    if (this.enabled) {\n      if (this._time.hasLastValue()) {\n        if (this._time.computeDelta(i) < .015) return;\n      }\n      this._screen[0].update(e[0]), this._screen[1].update(e[1]), this._scene[0].update(t[0]), this._scene[1].update(t[1]), this._scene[2].update(t[2]), this._time.update(i);\n    }\n  }\n  reset() {\n    this._screen[0].reset(), this._screen[1].reset(), this._scene[0].reset(), this._scene[1].reset(), this._scene[2].reset(), this._time.reset();\n  }\n  evaluateMomentum() {\n    if (!this.enabled || !this._screen[0].hasFilteredDelta() || !this._time.hasFilteredDelta()) return null;\n    const e = this._screen[0].filteredDelta,\n      t = this._screen[1].filteredDelta,\n      i = null == e || null == t ? 0 : Math.sqrt(e * e + t * t),\n      s = this._time.filteredDelta,\n      n = null == s || null == i ? 0 : i / s;\n    return Math.abs(n) < this._minimumInitialVelocity ? null : this.createMomentum(n, this._stopVelocity, this._friction);\n  }\n  createMomentum(s, n, r) {\n    e(this._tmpDirection, this._scene[0].filteredDelta ?? 0, this._scene[1].filteredDelta ?? 0, this._scene[2].filteredDelta ?? 0);\n    const c = t(this._tmpDirection);\n    c > 0 && i(this._tmpDirection, this._tmpDirection, 1 / c);\n    const h = this._time.filteredDelta;\n    return new l(s, n, r, null == h ? 0 : c / h, this._tmpDirection);\n  }\n}\nexport { l as PanPlanarMomentum, c as PanPlanarMomentumEstimator };","map":{"version":3,"names":["i","e","l","t","h","create","s","FilteredFiniteDifference","n","Momentum","r","constructor","_sceneVelocity","direction","value","valueFromInitialVelocity","c","_minimumInitialVelocity","_stopVelocity","_friction","enabled","_time","_screen","_scene","_tmpDirection","add","hasLastValue","computeDelta","update","reset","evaluateMomentum","hasFilteredDelta","filteredDelta","Math","sqrt","abs","createMomentum","PanPlanarMomentum","PanPlanarMomentumEstimator"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/navigation/PanPlanarMomentumEstimator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i as e,l as t,h as i}from\"../../chunks/vec32.js\";import{create as s}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{FilteredFiniteDifference as n}from\"./FilteredFiniteDifference.js\";import{Momentum as r}from\"./Momentum.js\";class l extends r{constructor(e,t,i,s,n){super(e,t,i),this._sceneVelocity=s,this.direction=n}value(e){return super.valueFromInitialVelocity(this._sceneVelocity,e)}}class c{constructor(e=300,t=12,i=.84){this._minimumInitialVelocity=e,this._stopVelocity=t,this._friction=i,this.enabled=!0,this._time=new n(.6),this._screen=[new n(.4),new n(.4)],this._scene=[new n(.6),new n(.6),new n(.6)],this._tmpDirection=s()}add(e,t,i){if(this.enabled){if(this._time.hasLastValue()){if(this._time.computeDelta(i)<.015)return}this._screen[0].update(e[0]),this._screen[1].update(e[1]),this._scene[0].update(t[0]),this._scene[1].update(t[1]),this._scene[2].update(t[2]),this._time.update(i)}}reset(){this._screen[0].reset(),this._screen[1].reset(),this._scene[0].reset(),this._scene[1].reset(),this._scene[2].reset(),this._time.reset()}evaluateMomentum(){if(!this.enabled||!this._screen[0].hasFilteredDelta()||!this._time.hasFilteredDelta())return null;const e=this._screen[0].filteredDelta,t=this._screen[1].filteredDelta,i=null==e||null==t?0:Math.sqrt(e*e+t*t),s=this._time.filteredDelta,n=null==s||null==i?0:i/s;return Math.abs(n)<this._minimumInitialVelocity?null:this.createMomentum(n,this._stopVelocity,this._friction)}createMomentum(s,n,r){e(this._tmpDirection,this._scene[0].filteredDelta??0,this._scene[1].filteredDelta??0,this._scene[2].filteredDelta??0);const c=t(this._tmpDirection);c>0&&i(this._tmpDirection,this._tmpDirection,1/c);const h=this._time.filteredDelta;return new l(s,n,r,null==h?0:c/h,this._tmpDirection)}}export{l as PanPlanarMomentum,c as PanPlanarMomentumEstimator};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}