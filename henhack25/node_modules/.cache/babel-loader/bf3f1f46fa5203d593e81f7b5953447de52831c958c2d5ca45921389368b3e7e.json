{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { PathTransformationCursor as t } from \"../CIMCursor.js\";\nimport { PlacementEndings as e } from \"../enums.js\";\nimport { GeometryWalker as s, DashPattern as i, Pos as n } from \"../GeometryWalker.js\";\nclass a {\n  static local() {\n    return null === a.instance && (a.instance = new a()), a.instance;\n  }\n  execute(t, e, s, i, n) {\n    return new r(t, e, s);\n  }\n}\na.instance = null;\nclass r extends t {\n  constructor(t, e, n) {\n    super(t), this._geometryWalker = new s(), this._geometryWalker.updateTolerance(n), this._angleToLine = e.angleToLine ?? !0, this._offset = (e.offset ? e.offset : 0) * n, this._originalEndings = e.endings, this._offsetAtEnd = (e.customEndingOffset ? e.customEndingOffset : 0) * n, this._position = -(e.offsetAlongLine ? e.offsetAlongLine : 0) * n, this._pattern = new i(), this._pattern.init(e.placementTemplate, !1), this._pattern.scale(n), this._endings = this._originalEndings;\n  }\n  processPath(t) {\n    if (this._pattern.isEmpty()) return null;\n    let s;\n    if (this.iteratePath) s = this._pattern.nextValue();else {\n      this._originalEndings === e.WithFullGap && this.isClosed ? this._endings = e.WithMarkers : this._endings = this._originalEndings, this._pattern.extPtGap = 0;\n      let i,\n        n = !0;\n      switch (this._endings) {\n        case e.NoConstraint:\n          i = -this._position, i = this._adjustPosition(i), n = !1;\n          break;\n        case e.WithHalfGap:\n        default:\n          i = -this._pattern.lastValue() / 2;\n          break;\n        case e.WithFullGap:\n          i = -this._pattern.lastValue(), this._pattern.extPtGap = this._pattern.lastValue();\n          break;\n        case e.WithMarkers:\n          i = 0;\n          break;\n        case e.Custom:\n          i = -this._position, i = this._adjustPosition(i), this._pattern.extPtGap = .5 * this._offsetAtEnd;\n      }\n      if (!this._geometryWalker.init(t, this._pattern, n)) return null;\n      this._pattern.reset();\n      let a = 0;\n      for (; i > a;) i -= a, a = this._pattern.nextValue();\n      a -= i, s = a, this.iteratePath = !0;\n    }\n    const i = new n();\n    return this._geometryWalker.nextPointAndAngle(s, i) ? this._endings === e.WithFullGap && this._geometryWalker.isPathEnd() ? (this.iteratePath = !1, null) : this._endings === e.WithMarkers && this._geometryWalker.isPathEnd() && (this.iteratePath = !1, this.isClosed) ? null : (this.internalPlacement.setTranslate(i.pt[0] - this._offset * i.sa, i.pt[1] + this._offset * i.ca), this._angleToLine && this.internalPlacement.setRotateCS(i.ca, i.sa), this.internalPlacement) : (this.iteratePath = !1, null);\n  }\n  _adjustPosition(t) {\n    let e = t / this._pattern.length();\n    return e -= Math.floor(e), e * this._pattern.length();\n  }\n}\nexport { a as PlacementAlongLineSameSize };","map":{"version":3,"names":["PathTransformationCursor","t","PlacementEndings","e","GeometryWalker","s","DashPattern","i","Pos","n","a","local","instance","execute","r","constructor","_geometryWalker","updateTolerance","_angleToLine","angleToLine","_offset","offset","_originalEndings","endings","_offsetAtEnd","customEndingOffset","_position","offsetAlongLine","_pattern","init","placementTemplate","scale","_endings","processPath","isEmpty","iteratePath","nextValue","WithFullGap","isClosed","WithMarkers","extPtGap","NoConstraint","_adjustPosition","WithHalfGap","lastValue","Custom","reset","nextPointAndAngle","isPathEnd","internalPlacement","setTranslate","pt","sa","ca","setRotateCS","length","Math","floor","PlacementAlongLineSameSize"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/cim/placements/PlacementAlongLineSameSize.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{PathTransformationCursor as t}from\"../CIMCursor.js\";import{PlacementEndings as e}from\"../enums.js\";import{GeometryWalker as s,DashPattern as i,Pos as n}from\"../GeometryWalker.js\";class a{static local(){return null===a.instance&&(a.instance=new a),a.instance}execute(t,e,s,i,n){return new r(t,e,s)}}a.instance=null;class r extends t{constructor(t,e,n){super(t),this._geometryWalker=new s,this._geometryWalker.updateTolerance(n),this._angleToLine=e.angleToLine??!0,this._offset=(e.offset?e.offset:0)*n,this._originalEndings=e.endings,this._offsetAtEnd=(e.customEndingOffset?e.customEndingOffset:0)*n,this._position=-(e.offsetAlongLine?e.offsetAlongLine:0)*n,this._pattern=new i,this._pattern.init(e.placementTemplate,!1),this._pattern.scale(n),this._endings=this._originalEndings}processPath(t){if(this._pattern.isEmpty())return null;let s;if(this.iteratePath)s=this._pattern.nextValue();else{this._originalEndings===e.WithFullGap&&this.isClosed?this._endings=e.WithMarkers:this._endings=this._originalEndings,this._pattern.extPtGap=0;let i,n=!0;switch(this._endings){case e.NoConstraint:i=-this._position,i=this._adjustPosition(i),n=!1;break;case e.WithHalfGap:default:i=-this._pattern.lastValue()/2;break;case e.WithFullGap:i=-this._pattern.lastValue(),this._pattern.extPtGap=this._pattern.lastValue();break;case e.WithMarkers:i=0;break;case e.Custom:i=-this._position,i=this._adjustPosition(i),this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._geometryWalker.init(t,this._pattern,n))return null;this._pattern.reset();let a=0;for(;i>a;)i-=a,a=this._pattern.nextValue();a-=i,s=a,this.iteratePath=!0}const i=new n;return this._geometryWalker.nextPointAndAngle(s,i)?this._endings===e.WithFullGap&&this._geometryWalker.isPathEnd()?(this.iteratePath=!1,null):this._endings===e.WithMarkers&&this._geometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed)?null:(this.internalPlacement.setTranslate(i.pt[0]-this._offset*i.sa,i.pt[1]+this._offset*i.ca),this._angleToLine&&this.internalPlacement.setRotateCS(i.ca,i.sa),this.internalPlacement):(this.iteratePath=!1,null)}_adjustPosition(t){let e=t/this._pattern.length();return e-=Math.floor(e),e*this._pattern.length()}}export{a as PlacementAlongLineSameSize};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}