{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../request.js\";\nimport { binaryIndexOf as t, splitIntoChunks as r } from \"../../../../core/arrayUtils.js\";\nimport o from \"../../../../core/Error.js\";\nimport has from \"../../../../core/has.js\";\nimport { isInt16Array as n, isInt32Array as s } from \"../../../../core/typedArrayUtil.js\";\nimport { invert as a } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as i } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { i as l, t as c, c as u } from \"../../../../chunks/vec32.js\";\nimport { create as f } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { canProjectWithoutEngine as p } from \"../../../../geometry/projection.js\";\nimport m from \"../../../../geometry/SpatialReference.js\";\nimport { projectVectorToVector as d } from \"../../../../geometry/projection/projectVectorToVector.js\";\nimport { create as y, empty as h, expandPointInPlace as g, intersects as S } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { a as b } from \"../../../../chunks/sphere.js\";\nimport w from \"../../../../rest/support/Query.js\";\nimport { readBinaryAttribute as I } from \"./I3SBinaryReader.js\";\nimport { computeGlobalTransformation as T } from \"./I3SProjectionUtil.js\";\nimport { createSolidEdgeMaterial as E, createMaterialFromEdges as R } from \"../support/edgeUtils.js\";\nimport { parseColorMixMode as x, ColorMixModeEnum as v } from \"../support/symbolColorUtils.js\";\nimport { Obb as M, compute as j } from \"../../support/orientedBoundingBox.js\";\nimport { spatialReferenceIncompatibleError as C } from \"../../../support/layerViewUtils.js\";\nfunction U(e) {\n  return e ? parseInt(e.slice(e.lastIndexOf(\"/\") + 1), 10) : void 0;\n}\nfunction k(e) {\n  if (has(\"disable-feature:i3s-draco\") || !e) return !1;\n  for (const t of e) for (const e of t.geometryBuffers) if (\"draco\" === e.compressedAttributes?.encoding) return !0;\n  return !1;\n}\nfunction N(e, t, r, o) {\n  r.traverse(t, t => {\n    const r = t.serviceMbsInIndexSR;\n    return (null != r && F(e, r)) !== q.OUTSIDE && (o(t), !0);\n  });\n}\nfunction D(e, t, r) {\n  let o = 0,\n    n = 0;\n  for (let s = 0; s < t.length && o < e.length; s++) e[o] === t[s] && (r(s) && (e[n] = e[o], n++), o++);\n  e.length = n;\n}\nfunction W(e, r, o) {\n  let n = 0,\n    s = 0;\n  for (; n < o.length;) {\n    t(e, o[n]) >= 0 === r && (o[s] = o[n], s++), n++;\n  }\n  o.length = s;\n}\nfunction _(e, t) {\n  if (0 === t.rotationScale[1] && 0 === t.rotationScale[2] && 0 === t.rotationScale[3] && 0 === t.rotationScale[5] && 0 === t.rotationScale[6] && 0 === t.rotationScale[7]) return O[0] = (e[0] - t.position[0]) / t.rotationScale[0], O[1] = (e[1] - t.position[1]) / t.rotationScale[4], O[2] = (e[2] - t.position[0]) / t.rotationScale[0], O[3] = (e[3] - t.position[1]) / t.rotationScale[4], O;\n}\nconst O = y();\nvar q;\nfunction F(e, t) {\n  const r = t[0],\n    o = t[1],\n    n = t[3],\n    s = e[0] - r,\n    a = r - e[2],\n    i = e[1] - o,\n    l = o - e[3],\n    c = Math.max(s, a, 0),\n    u = Math.max(i, l, 0),\n    f = c * c + u * u;\n  if (f > n * n) return q.OUTSIDE;\n  if (f > 0) return q.INTERSECTS_CENTER_OUTSIDE;\n  return -Math.max(s, a, i, l) > n ? q.INSIDE : q.INTERSECTS_CENTER_INSIDE;\n}\nfunction L(e, t, r) {\n  const o = [],\n    n = r?.missingFields,\n    s = r?.originalFields;\n  for (const a of e) {\n    const e = a.toLowerCase();\n    let r = !1;\n    for (const n of t) if (e === n.name.toLowerCase()) {\n      o.push(n.name), r = !0, s && s.push(a);\n      break;\n    }\n    !r && n && n.push(a);\n  }\n  return o;\n}\nasync function A(e, t, r, n, s, a) {\n  if (0 === t.length) return [];\n  const i = e.attributeStorageInfo;\n  if (null != e.associatedLayer) try {\n    return await P(e.associatedLayer, t, r, n, a);\n  } catch (l) {\n    if (e.associatedLayer.loaded) throw l;\n  }\n  if (i) {\n    const l = K(t, r, s);\n    if (null == l) throw new o(\"scenelayer:features-not-loaded\", \"Tried to query attributes for unloaded features\");\n    const c = e.parsedUrl.path;\n    return (await Promise.all(l.map(t => G(c, i, t.node, t.indices, n, e.apiKey, e.customParameters, a).then(e => {\n      for (let r = 0; r < t.graphics.length; r++) {\n        const o = t.graphics[r],\n          n = e[r];\n        if (o.attributes) for (const e in o.attributes) e in n || (n[e] = o.attributes[e]);\n        o.attributes = n;\n      }\n      return t.graphics;\n    })))).flat();\n  }\n  throw new o(\"scenelayer:no-attribute-source\", \"This scene layer does not have a source for attributes available\");\n}\nfunction K(e, t, r) {\n  const o = new Map(),\n    n = [],\n    s = r();\n  for (const a of e) {\n    const e = a.attributes[t];\n    for (let t = 0; t < s.length; t++) {\n      const r = s[t],\n        i = r.featureIds.indexOf(e);\n      if (i >= 0) {\n        let e = o.get(r.node);\n        e || (e = {\n          node: r.node,\n          indices: [],\n          graphics: []\n        }, n.push(e), o.set(r.node, e)), e.indices.push(i), e.graphics.push(a);\n        for (let r = t; r > 0; r--) s[r] = s[r - 1];\n        s[0] = r;\n        break;\n      }\n    }\n  }\n  return n;\n}\nasync function P(e, t, r, o, n) {\n  t.sort((e, t) => e.attributes[r] - t.attributes[r]);\n  const s = t.map(e => e.attributes[r]),\n    a = [],\n    i = L(o, e.fields, {\n      originalFields: a\n    }),\n    l = await B(e, s, i, n);\n  for (let c = 0; c < t.length; c++) {\n    const e = t[c],\n      r = l[c],\n      o = {};\n    if (e.attributes) for (const t in e.attributes) o[t] = e.attributes[t];\n    for (let t = 0; t < a.length; t++) o[a[t]] = r[i[t]];\n    e.attributes = o;\n  }\n  return t;\n}\nfunction B(e, t, n, s) {\n  const a = e.capabilities.query.maxRecordCount;\n  if (null != a && t.length > a) {\n    const o = r(t, a);\n    return Promise.all(o.map(t => B(e, t, n, s))).then(e => e.flat());\n  }\n  const i = new w({\n    objectIds: t,\n    outFields: n,\n    orderByFields: [e.objectIdField]\n  });\n  return e.queryFeatures(i, s).then(e => {\n    if (e && e.features && e.features.length === t.length) return e.features.map(e => e.attributes);\n    throw new o(\"scenelayer:feature-not-in-associated-layer\", \"Feature not found in associated feature layer\");\n  });\n}\nfunction G(e, t, r, o, n, s, a, i) {\n  return V(e, t, r.resources.attributes, o, n, s, a, i);\n}\nasync function V(t, r, o, n, s, a, i, l) {\n  const c = [];\n  for (const e of r) if (e && s.includes(e.name)) {\n    const r = `${t}/nodes/${o}/attributes/${e.key}/0`;\n    c.push({\n      url: r,\n      storageInfo: e\n    });\n  }\n  const u = await Promise.allSettled(c.map(t => e(t.url, {\n      responseType: \"array-buffer\",\n      query: {\n        ...i,\n        token: a\n      },\n      signal: l?.signal\n    }).then(e => I(t.storageInfo, e.data)))),\n    f = [];\n  for (const e of n) {\n    const t = {};\n    for (let r = 0; r < u.length; r++) {\n      const o = u[r];\n      if (\"fulfilled\" === o.status) {\n        const n = o.value;\n        t[c[r].storageInfo.name] = Q(n, e);\n      }\n    }\n    f.push(t);\n  }\n  return f;\n}\n!function (e) {\n  e[e.OUTSIDE = 0] = \"OUTSIDE\", e[e.INTERSECTS_CENTER_OUTSIDE = 1] = \"INTERSECTS_CENTER_OUTSIDE\", e[e.INTERSECTS_CENTER_INSIDE = 2] = \"INTERSECTS_CENTER_INSIDE\", e[e.INSIDE = 3] = \"INSIDE\";\n}(q || (q = {}));\nconst $ = -32768,\n  z = -2147483648;\nfunction Q(e, t) {\n  if (!e) return null;\n  const r = e[t];\n  if (n(e)) return r === $ ? null : r;\n  if (s(e)) return r === z ? null : r;\n  return r != r ? null : r;\n}\nfunction Z(e) {\n  const t = e.store,\n    r = t.indexCRS || t.geographicCRS,\n    n = void 0 === r ? t.indexWKT : void 0;\n  if (n) {\n    if (!e.spatialReference) throw new o(\"layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference\", \"Found indexWKT in the scene layer store but no layer spatial reference\", {});\n    if (n !== e.spatialReference.wkt) throw new o(\"layerview:store-spatial-reference-wkt-index-incompatible\", \"The indexWKT of the scene layer store does not match the WKT of the layer spatial reference\", {});\n  }\n  const s = r ? new m(U(r)) : e.spatialReference;\n  return s.equals(e.spatialReference) ? e.spatialReference : s;\n}\nfunction H(e) {\n  const t = e.store,\n    r = t.vertexCRS || t.projectedCRS,\n    n = void 0 === r ? t.vertexWKT : void 0;\n  if (n) {\n    if (!e.spatialReference) throw new o(\"layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference\", \"Found vertexWKT in the scene layer store but no layer spatial reference\", {});\n    if (n !== e.spatialReference.wkt) throw new o(\"layerview:store-spatial-reference-wkt-vertex-incompatible\", \"The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference\", {});\n  }\n  const s = r ? new m(U(r)) : e.spatialReference;\n  return s.equals(e.spatialReference) ? e.spatialReference : s;\n}\nfunction J(e, t, r) {\n  if (!p(e, t)) throw C(\"scene layer\", e?.wkid, t?.wkid);\n  if (\"local\" === r && !Y(e, t)) throw C(\"scene layer\", e?.wkid, t?.wkid);\n}\nfunction X(e, t, r) {\n  if (e.serviceUpdateTimeStamp?.lastUpdate !== t.serviceUpdateTimeStamp?.lastUpdate || !r.isEmpty || e.associatedLayer?.url !== t.associatedLayer?.url) throw new o(\"layerview:recycle-failed\");\n}\nfunction Y(e, t) {\n  return e.equals(t) || e.isWGS84 && t.isWebMercator || e.isWebMercator && t.isWGS84;\n}\nfunction ee(e, t, r) {\n  const o = Z(e),\n    n = H(e);\n  J(o, t, r), J(n, t, r);\n}\nfunction te(e) {\n  return (null == e.geometryType || \"triangles\" === e.geometryType) && (null == e.topology || \"PerAttributeArray\" === e.topology) && null != e.vertexAttributes?.position;\n}\nfunction re(e) {\n  if (null == e.store?.defaultGeometrySchema || !te(e.store.defaultGeometrySchema)) throw new o(\"scenelayer:unsupported-geometry-schema\", \"The geometry schema of this scene layer is not supported.\", {\n    url: e.parsedUrl.path\n  });\n}\nfunction oe(e, t) {\n  ee(e, t.spatialReference, t.viewingMode);\n}\nfunction ne(e) {\n  return null != e.geometryType && \"points\" === e.geometryType && (null == e.topology || \"PerAttributeArray\" === e.topology) && (null == e.encoding || \"\" === e.encoding || \"lepcc-xyz\" === e.encoding) && null != e.vertexAttributes?.position;\n}\nfunction se(e) {\n  if (null == e.store?.defaultGeometrySchema || !ne(e.store.defaultGeometrySchema)) throw new o(\"pointcloud:unsupported-geometry-schema\", \"The geometry schema of this point cloud scene layer is not supported.\", {});\n}\nfunction ae(e, t) {\n  J(e.spatialReference, t.spatialReference, t.viewingMode);\n}\nfunction ie(e) {\n  return \"simple\" === e.type || \"class-breaks\" === e.type || \"unique-value\" === e.type;\n}\nfunction le(e) {\n  return \"mesh-3d\" === e.type;\n}\nfunction ce(e) {\n  if (null == e || !ie(e)) return !0;\n  if ((\"unique-value\" === e.type || \"class-breaks\" === e.type) && null == e.defaultSymbol) return !0;\n  const t = e.symbols;\n  if (0 === t.length) return !0;\n  for (const r of t) {\n    if (!le(r) || 0 === r.symbolLayers.length) return !0;\n    for (const e of r.symbolLayers.items) if (\"fill\" !== e.type || null == e.material?.color || \"replace\" !== e.material.colorMixMode) return !0;\n  }\n  return !1;\n}\nconst ue = E({\n  color: [0, 0, 0, 0],\n  opacity: 0\n});\nclass fe {\n  constructor() {\n    this.edgeMaterial = null, this.material = null, this.castShadows = !0;\n  }\n}\nfunction pe(e) {\n  const t = new fe();\n  let r = !1,\n    o = !1;\n  for (const n of e.symbolLayers.items) if (\"fill\" === n.type && n.enabled) {\n    const e = n.material,\n      s = n.edges;\n    if (null != e && !r) {\n      const o = e.color,\n        s = x(e.colorMixMode);\n      t.material = null != o ? {\n        color: [o.r / 255, o.g / 255, o.b / 255],\n        alpha: o.a,\n        colorMixMode: s\n      } : {\n        color: [1, 1, 1],\n        alpha: 1,\n        colorMixMode: v.Multiply\n      }, t.castShadows = n.castShadows, r = !0;\n    }\n    null == s || o || (t.edgeMaterial = R(s, {}), o = !0);\n  }\n  return t.material || (t.material = {\n    color: [1, 1, 1],\n    alpha: 1,\n    colorMixMode: v.Multiply\n  }), t;\n}\nfunction me(e, t) {\n  return (0 | e) + (0 | t) | 0;\n}\nfunction de(e, t, r, o, n, s, i) {\n  if (!s || 0 === s.length || null == t || !e.serviceMbsInIndexSR) return null;\n  const f = T(e.serviceMbsInIndexSR, n, \"none\", r, t);\n  a(Ee, f);\n  let p = null;\n  const m = () => {\n    if (!p) if (p = ge, h(be), null != e.serviceObbInIndexSR) {\n      e.serviceObbInIndexSR.transform(we, r, t, n, i), we.getCorners(p);\n      for (const e of p) c(e, e, Ee), g(be, e);\n    } else {\n      const o = e.serviceMbsInIndexSR;\n      if (!o) return;\n      const s = o[3];\n      d(b(o), r, Ie, t), c(Ie, Ie, Ee), Ie[2] += n;\n      for (let e = 0; e < 8; ++e) {\n        const t = 1 & e ? s : -s,\n          r = 2 & e ? s : -s,\n          o = 4 & e ? s : -s,\n          n = p[e];\n        u(n, [Ie[0] + t, Ie[1] + r, Ie[2] + o]), g(be, n);\n      }\n    }\n  };\n  let y = 1 / 0,\n    w = -1 / 0;\n  const I = e => {\n    if (\"replace\" !== e.type) return;\n    const r = e.geometry;\n    if (!r?.hasZ) return;\n    h(Se);\n    const n = r.spatialReference || o,\n      s = r.rings.reduce((e, r) => r.reduce((e, r) => (l(Ie, r[0], r[1], r[2]), d(Ie, n, Ie, t), c(Ie, Ie, Ee), g(Se, Ie), Math.min(Ie[2], e)), e), 1 / 0);\n    m(), S(be, Se) && (y = Math.min(y, s), w = Math.max(w, s));\n  };\n  if (s.forEach(e => I(e)), y === 1 / 0) return null;\n  const E = (e, t, r) => {\n    c(Ie, r, f), e[t] = Ie[0], e[t + 1] = Ie[1], e[t + 2] = Ie[2], t += 24, r[2] = y, c(Ie, r, f), e[t] = Ie[0], e[t + 1] = Ie[1], e[t + 2] = Ie[2], t += 24, r[2] = w, c(Ie, r, f), e[t] = Ie[0], e[t + 1] = Ie[1], e[t + 2] = Ie[2];\n  };\n  for (let a = 0; a < 8; ++a) E(Te.data, 3 * a, p[a]);\n  return j(Te);\n}\nfunction ye(e) {\n  return e[3] >= 0;\n}\nfunction he(e) {\n  null != e && (e[3] = -1);\n}\nconst ge = [f(), f(), f(), f(), f(), f(), f(), f()],\n  Se = y(),\n  be = y(),\n  we = new M(),\n  Ie = f(),\n  Te = {\n    data: new Array(72),\n    size: 3,\n    exclusive: !0,\n    stride: 3\n  },\n  Ee = i();\nexport { q as MbsIntersectResult, fe as SymbolInfo, me as addWraparound, ae as checkPointCloudLayerCompatibleWithView, se as checkPointCloudLayerValid, X as checkRecyclable, oe as checkSceneLayerCompatibleWithView, re as checkSceneLayerValid, J as checkSpatialReference, ee as checkSpatialReferences, de as computeVisibilityObb, k as containsDraco, U as extractWkid, D as filterInPlace, L as findFieldsCaseInsensitive, N as findIntersectingNodes, Q as getCachedAttributeValue, _ as getClipRect, Z as getIndexCrs, pe as getSymbolInfo, H as getVertexCrs, F as intersectBoundingRectWithMbs, he as invalidateMbs, Y as isSupportedLocalModeProjection, ye as isValidMbs, W as objectIdFilter, V as queryAttributesFromCachedAttributesId, ce as rendererNeedsTextures, ue as transparentEdgeMaterial, A as whenGraphicAttributes };","map":{"version":3,"names":["e","binaryIndexOf","t","splitIntoChunks","r","o","has","isInt16Array","n","isInt32Array","s","invert","a","create","i","l","c","u","f","canProjectWithoutEngine","p","m","projectVectorToVector","d","y","empty","h","expandPointInPlace","g","intersects","S","b","w","readBinaryAttribute","I","computeGlobalTransformation","T","createSolidEdgeMaterial","E","createMaterialFromEdges","R","parseColorMixMode","x","ColorMixModeEnum","v","Obb","M","compute","j","spatialReferenceIncompatibleError","C","U","parseInt","slice","lastIndexOf","k","geometryBuffers","compressedAttributes","encoding","N","traverse","serviceMbsInIndexSR","F","q","OUTSIDE","D","length","W","_","rotationScale","O","position","Math","max","INTERSECTS_CENTER_OUTSIDE","INSIDE","INTERSECTS_CENTER_INSIDE","L","missingFields","originalFields","toLowerCase","name","push","A","attributeStorageInfo","associatedLayer","P","loaded","K","parsedUrl","path","Promise","all","map","G","node","indices","apiKey","customParameters","then","graphics","attributes","flat","Map","featureIds","indexOf","get","set","sort","fields","B","capabilities","query","maxRecordCount","objectIds","outFields","orderByFields","objectIdField","queryFeatures","features","V","resources","includes","key","url","storageInfo","allSettled","responseType","token","signal","data","status","value","Q","$","z","Z","store","indexCRS","geographicCRS","indexWKT","spatialReference","wkt","equals","H","vertexCRS","projectedCRS","vertexWKT","J","wkid","Y","X","serviceUpdateTimeStamp","lastUpdate","isEmpty","isWGS84","isWebMercator","ee","te","geometryType","topology","vertexAttributes","re","defaultGeometrySchema","oe","viewingMode","ne","se","ae","ie","type","le","ce","defaultSymbol","symbols","symbolLayers","items","material","color","colorMixMode","ue","opacity","fe","constructor","edgeMaterial","castShadows","pe","enabled","edges","alpha","Multiply","me","de","Ee","ge","be","serviceObbInIndexSR","transform","we","getCorners","Ie","geometry","hasZ","Se","rings","reduce","min","forEach","Te","ye","he","Array","size","exclusive","stride","MbsIntersectResult","SymbolInfo","addWraparound","checkPointCloudLayerCompatibleWithView","checkPointCloudLayerValid","checkRecyclable","checkSceneLayerCompatibleWithView","checkSceneLayerValid","checkSpatialReference","checkSpatialReferences","computeVisibilityObb","containsDraco","extractWkid","filterInPlace","findFieldsCaseInsensitive","findIntersectingNodes","getCachedAttributeValue","getClipRect","getIndexCrs","getSymbolInfo","getVertexCrs","intersectBoundingRectWithMbs","invalidateMbs","isSupportedLocalModeProjection","isValidMbs","objectIdFilter","queryAttributesFromCachedAttributesId","rendererNeedsTextures","transparentEdgeMaterial","whenGraphicAttributes"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{binaryIndexOf as t,splitIntoChunks as r}from\"../../../../core/arrayUtils.js\";import o from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{isInt16Array as n,isInt32Array as s}from\"../../../../core/typedArrayUtil.js\";import{invert as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as l,t as c,c as u}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as p}from\"../../../../geometry/projection.js\";import m from\"../../../../geometry/SpatialReference.js\";import{projectVectorToVector as d}from\"../../../../geometry/projection/projectVectorToVector.js\";import{create as y,empty as h,expandPointInPlace as g,intersects as S}from\"../../../../geometry/support/aaBoundingRect.js\";import{a as b}from\"../../../../chunks/sphere.js\";import w from\"../../../../rest/support/Query.js\";import{readBinaryAttribute as I}from\"./I3SBinaryReader.js\";import{computeGlobalTransformation as T}from\"./I3SProjectionUtil.js\";import{createSolidEdgeMaterial as E,createMaterialFromEdges as R}from\"../support/edgeUtils.js\";import{parseColorMixMode as x,ColorMixModeEnum as v}from\"../support/symbolColorUtils.js\";import{Obb as M,compute as j}from\"../../support/orientedBoundingBox.js\";import{spatialReferenceIncompatibleError as C}from\"../../../support/layerViewUtils.js\";function U(e){return e?parseInt(e.slice(e.lastIndexOf(\"/\")+1),10):void 0}function k(e){if(has(\"disable-feature:i3s-draco\")||!e)return!1;for(const t of e)for(const e of t.geometryBuffers)if(\"draco\"===e.compressedAttributes?.encoding)return!0;return!1}function N(e,t,r,o){r.traverse(t,(t=>{const r=t.serviceMbsInIndexSR;return(null!=r&&F(e,r))!==q.OUTSIDE&&(o(t),!0)}))}function D(e,t,r){let o=0,n=0;for(let s=0;s<t.length&&o<e.length;s++)e[o]===t[s]&&(r(s)&&(e[n]=e[o],n++),o++);e.length=n}function W(e,r,o){let n=0,s=0;for(;n<o.length;){t(e,o[n])>=0===r&&(o[s]=o[n],s++),n++}o.length=s}function _(e,t){if(0===t.rotationScale[1]&&0===t.rotationScale[2]&&0===t.rotationScale[3]&&0===t.rotationScale[5]&&0===t.rotationScale[6]&&0===t.rotationScale[7])return O[0]=(e[0]-t.position[0])/t.rotationScale[0],O[1]=(e[1]-t.position[1])/t.rotationScale[4],O[2]=(e[2]-t.position[0])/t.rotationScale[0],O[3]=(e[3]-t.position[1])/t.rotationScale[4],O}const O=y();var q;function F(e,t){const r=t[0],o=t[1],n=t[3],s=e[0]-r,a=r-e[2],i=e[1]-o,l=o-e[3],c=Math.max(s,a,0),u=Math.max(i,l,0),f=c*c+u*u;if(f>n*n)return q.OUTSIDE;if(f>0)return q.INTERSECTS_CENTER_OUTSIDE;return-Math.max(s,a,i,l)>n?q.INSIDE:q.INTERSECTS_CENTER_INSIDE}function L(e,t,r){const o=[],n=r?.missingFields,s=r?.originalFields;for(const a of e){const e=a.toLowerCase();let r=!1;for(const n of t)if(e===n.name.toLowerCase()){o.push(n.name),r=!0,s&&s.push(a);break}!r&&n&&n.push(a)}return o}async function A(e,t,r,n,s,a){if(0===t.length)return[];const i=e.attributeStorageInfo;if(null!=e.associatedLayer)try{return await P(e.associatedLayer,t,r,n,a)}catch(l){if(e.associatedLayer.loaded)throw l}if(i){const l=K(t,r,s);if(null==l)throw new o(\"scenelayer:features-not-loaded\",\"Tried to query attributes for unloaded features\");const c=e.parsedUrl.path;return(await Promise.all(l.map((t=>G(c,i,t.node,t.indices,n,e.apiKey,e.customParameters,a).then((e=>{for(let r=0;r<t.graphics.length;r++){const o=t.graphics[r],n=e[r];if(o.attributes)for(const e in o.attributes)e in n||(n[e]=o.attributes[e]);o.attributes=n}return t.graphics})))))).flat()}throw new o(\"scenelayer:no-attribute-source\",\"This scene layer does not have a source for attributes available\")}function K(e,t,r){const o=new Map,n=[],s=r();for(const a of e){const e=a.attributes[t];for(let t=0;t<s.length;t++){const r=s[t],i=r.featureIds.indexOf(e);if(i>=0){let e=o.get(r.node);e||(e={node:r.node,indices:[],graphics:[]},n.push(e),o.set(r.node,e)),e.indices.push(i),e.graphics.push(a);for(let r=t;r>0;r--)s[r]=s[r-1];s[0]=r;break}}}return n}async function P(e,t,r,o,n){t.sort(((e,t)=>e.attributes[r]-t.attributes[r]));const s=t.map((e=>e.attributes[r])),a=[],i=L(o,e.fields,{originalFields:a}),l=await B(e,s,i,n);for(let c=0;c<t.length;c++){const e=t[c],r=l[c],o={};if(e.attributes)for(const t in e.attributes)o[t]=e.attributes[t];for(let t=0;t<a.length;t++)o[a[t]]=r[i[t]];e.attributes=o}return t}function B(e,t,n,s){const a=e.capabilities.query.maxRecordCount;if(null!=a&&t.length>a){const o=r(t,a);return Promise.all(o.map((t=>B(e,t,n,s)))).then((e=>e.flat()))}const i=new w({objectIds:t,outFields:n,orderByFields:[e.objectIdField]});return e.queryFeatures(i,s).then((e=>{if(e&&e.features&&e.features.length===t.length)return e.features.map((e=>e.attributes));throw new o(\"scenelayer:feature-not-in-associated-layer\",\"Feature not found in associated feature layer\")}))}function G(e,t,r,o,n,s,a,i){return V(e,t,r.resources.attributes,o,n,s,a,i)}async function V(t,r,o,n,s,a,i,l){const c=[];for(const e of r)if(e&&s.includes(e.name)){const r=`${t}/nodes/${o}/attributes/${e.key}/0`;c.push({url:r,storageInfo:e})}const u=await Promise.allSettled(c.map((t=>e(t.url,{responseType:\"array-buffer\",query:{...i,token:a},signal:l?.signal}).then((e=>I(t.storageInfo,e.data)))))),f=[];for(const e of n){const t={};for(let r=0;r<u.length;r++){const o=u[r];if(\"fulfilled\"===o.status){const n=o.value;t[c[r].storageInfo.name]=Q(n,e)}}f.push(t)}return f}!function(e){e[e.OUTSIDE=0]=\"OUTSIDE\",e[e.INTERSECTS_CENTER_OUTSIDE=1]=\"INTERSECTS_CENTER_OUTSIDE\",e[e.INTERSECTS_CENTER_INSIDE=2]=\"INTERSECTS_CENTER_INSIDE\",e[e.INSIDE=3]=\"INSIDE\"}(q||(q={}));const $=-32768,z=-2147483648;function Q(e,t){if(!e)return null;const r=e[t];if(n(e))return r===$?null:r;if(s(e))return r===z?null:r;return r!=r?null:r}function Z(e){const t=e.store,r=t.indexCRS||t.geographicCRS,n=void 0===r?t.indexWKT:void 0;if(n){if(!e.spatialReference)throw new o(\"layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference\",\"Found indexWKT in the scene layer store but no layer spatial reference\",{});if(n!==e.spatialReference.wkt)throw new o(\"layerview:store-spatial-reference-wkt-index-incompatible\",\"The indexWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const s=r?new m(U(r)):e.spatialReference;return s.equals(e.spatialReference)?e.spatialReference:s}function H(e){const t=e.store,r=t.vertexCRS||t.projectedCRS,n=void 0===r?t.vertexWKT:void 0;if(n){if(!e.spatialReference)throw new o(\"layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference\",\"Found vertexWKT in the scene layer store but no layer spatial reference\",{});if(n!==e.spatialReference.wkt)throw new o(\"layerview:store-spatial-reference-wkt-vertex-incompatible\",\"The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const s=r?new m(U(r)):e.spatialReference;return s.equals(e.spatialReference)?e.spatialReference:s}function J(e,t,r){if(!p(e,t))throw C(\"scene layer\",e?.wkid,t?.wkid);if(\"local\"===r&&!Y(e,t))throw C(\"scene layer\",e?.wkid,t?.wkid)}function X(e,t,r){if(e.serviceUpdateTimeStamp?.lastUpdate!==t.serviceUpdateTimeStamp?.lastUpdate||!r.isEmpty||e.associatedLayer?.url!==t.associatedLayer?.url)throw new o(\"layerview:recycle-failed\")}function Y(e,t){return e.equals(t)||e.isWGS84&&t.isWebMercator||e.isWebMercator&&t.isWGS84}function ee(e,t,r){const o=Z(e),n=H(e);J(o,t,r),J(n,t,r)}function te(e){return(null==e.geometryType||\"triangles\"===e.geometryType)&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&null!=e.vertexAttributes?.position)}function re(e){if(null==e.store?.defaultGeometrySchema||!te(e.store.defaultGeometrySchema))throw new o(\"scenelayer:unsupported-geometry-schema\",\"The geometry schema of this scene layer is not supported.\",{url:e.parsedUrl.path})}function oe(e,t){ee(e,t.spatialReference,t.viewingMode)}function ne(e){return null!=e.geometryType&&\"points\"===e.geometryType&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&((null==e.encoding||\"\"===e.encoding||\"lepcc-xyz\"===e.encoding)&&null!=e.vertexAttributes?.position))}function se(e){if(null==e.store?.defaultGeometrySchema||!ne(e.store.defaultGeometrySchema))throw new o(\"pointcloud:unsupported-geometry-schema\",\"The geometry schema of this point cloud scene layer is not supported.\",{})}function ae(e,t){J(e.spatialReference,t.spatialReference,t.viewingMode)}function ie(e){return\"simple\"===e.type||\"class-breaks\"===e.type||\"unique-value\"===e.type}function le(e){return\"mesh-3d\"===e.type}function ce(e){if(null==e||!ie(e))return!0;if((\"unique-value\"===e.type||\"class-breaks\"===e.type)&&null==e.defaultSymbol)return!0;const t=e.symbols;if(0===t.length)return!0;for(const r of t){if(!le(r)||0===r.symbolLayers.length)return!0;for(const e of r.symbolLayers.items)if(\"fill\"!==e.type||null==e.material?.color||\"replace\"!==e.material.colorMixMode)return!0}return!1}const ue=E({color:[0,0,0,0],opacity:0});class fe{constructor(){this.edgeMaterial=null,this.material=null,this.castShadows=!0}}function pe(e){const t=new fe;let r=!1,o=!1;for(const n of e.symbolLayers.items)if(\"fill\"===n.type&&n.enabled){const e=n.material,s=n.edges;if(null!=e&&!r){const o=e.color,s=x(e.colorMixMode);t.material=null!=o?{color:[o.r/255,o.g/255,o.b/255],alpha:o.a,colorMixMode:s}:{color:[1,1,1],alpha:1,colorMixMode:v.Multiply},t.castShadows=n.castShadows,r=!0}null==s||o||(t.edgeMaterial=R(s,{}),o=!0)}return t.material||(t.material={color:[1,1,1],alpha:1,colorMixMode:v.Multiply}),t}function me(e,t){return(0|e)+(0|t)|0}function de(e,t,r,o,n,s,i){if(!s||0===s.length||null==t||!e.serviceMbsInIndexSR)return null;const f=T(e.serviceMbsInIndexSR,n,\"none\",r,t);a(Ee,f);let p=null;const m=()=>{if(!p)if(p=ge,h(be),null!=e.serviceObbInIndexSR){e.serviceObbInIndexSR.transform(we,r,t,n,i),we.getCorners(p);for(const e of p)c(e,e,Ee),g(be,e)}else{const o=e.serviceMbsInIndexSR;if(!o)return;const s=o[3];d(b(o),r,Ie,t),c(Ie,Ie,Ee),Ie[2]+=n;for(let e=0;e<8;++e){const t=1&e?s:-s,r=2&e?s:-s,o=4&e?s:-s,n=p[e];u(n,[Ie[0]+t,Ie[1]+r,Ie[2]+o]),g(be,n)}}};let y=1/0,w=-1/0;const I=e=>{if(\"replace\"!==e.type)return;const r=e.geometry;if(!r?.hasZ)return;h(Se);const n=r.spatialReference||o,s=r.rings.reduce(((e,r)=>r.reduce(((e,r)=>(l(Ie,r[0],r[1],r[2]),d(Ie,n,Ie,t),c(Ie,Ie,Ee),g(Se,Ie),Math.min(Ie[2],e))),e)),1/0);m(),S(be,Se)&&(y=Math.min(y,s),w=Math.max(w,s))};if(s.forEach((e=>I(e))),y===1/0)return null;const E=(e,t,r)=>{c(Ie,r,f),e[t]=Ie[0],e[t+1]=Ie[1],e[t+2]=Ie[2],t+=24,r[2]=y,c(Ie,r,f),e[t]=Ie[0],e[t+1]=Ie[1],e[t+2]=Ie[2],t+=24,r[2]=w,c(Ie,r,f),e[t]=Ie[0],e[t+1]=Ie[1],e[t+2]=Ie[2]};for(let a=0;a<8;++a)E(Te.data,3*a,p[a]);return j(Te)}function ye(e){return e[3]>=0}function he(e){null!=e&&(e[3]=-1)}const ge=[f(),f(),f(),f(),f(),f(),f(),f()],Se=y(),be=y(),we=new M,Ie=f(),Te={data:new Array(72),size:3,exclusive:!0,stride:3},Ee=i();export{q as MbsIntersectResult,fe as SymbolInfo,me as addWraparound,ae as checkPointCloudLayerCompatibleWithView,se as checkPointCloudLayerValid,X as checkRecyclable,oe as checkSceneLayerCompatibleWithView,re as checkSceneLayerValid,J as checkSpatialReference,ee as checkSpatialReferences,de as computeVisibilityObb,k as containsDraco,U as extractWkid,D as filterInPlace,L as findFieldsCaseInsensitive,N as findIntersectingNodes,Q as getCachedAttributeValue,_ as getClipRect,Z as getIndexCrs,pe as getSymbolInfo,H as getVertexCrs,F as intersectBoundingRectWithMbs,he as invalidateMbs,Y as isSupportedLocalModeProjection,ye as isValidMbs,W as objectIdFilter,V as queryAttributesFromCachedAttributesId,ce as rendererNeedsTextures,ue as transparentEdgeMaterial,A as whenGraphicAttributes};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}