{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { setSingleImageTextures as e, setCoordsAndTransforms as t } from \"./utils.js\";\nconst s = {\n  vsPath: \"raster/rfx/vs\",\n  fsPath: \"raster/hillshade\",\n  attributes: new Map([[\"a_position\", 0], [\"a_texcoord\", 1]])\n};\nfunction r(e, t) {\n  const {\n      indexedColormap: r\n    } = e.rasterFunction.parameters,\n    o = [];\n  return r?.length && o.push(\"applyColormap\"), e.painter.materialManager.getProgram(s, o);\n}\nfunction o(s, r, o) {\n  const i = s.rasterFunction.parameters,\n    {\n      indexedColormap: n\n    } = i;\n  e(s, r, o, n), t(r);\n  const a = o.getRasterTextureSize();\n  r.setUniform2fv(\"u_srcImageSize\", a);\n  const f = o.getRasterCellSize();\n  r.setUniform2fv(\"u_cellSize\", f);\n  const {\n    pixelSizeFactor: m\n  } = i;\n  if (0 === m) r.setUniform2fv(\"u_factor\", [i.factor[0] / f[0], i.factor[1] / f[1]]);else {\n    const {\n        zFactor: e,\n        pixelSizePower: t,\n        gcsFactor: s\n      } = i,\n      o = f[0] * s,\n      n = f[1] * s,\n      a = (e + o ** t * m) / (8 * o),\n      c = (e + n ** t * m) / (8 * n);\n    r.setUniform2fv(\"u_factor\", [a, c]);\n  }\n  r.setUniform1i(\"u_hillshadeType\", i.hillshadeType), r.setUniform1fv(\"u_sinZcosAs\", i.sinZcosAs), r.setUniform1fv(\"u_sinZsinAs\", i.sinZsinAs), r.setUniform1fv(\"u_cosZs\", i.cosZs), r.setUniform1fv(\"u_weights\", i.weights), r.setUniform1f(\"u_opacity\", 1), r.setUniform1i(\"u_flipY\", 0), r.setUniform1f(\"u_scaling\", 255), r.setUniform1f(\"u_minValue\", i.minValue), r.setUniform1f(\"u_maxValue\", i.maxValue), n && (r.setUniform1f(\"u_colormapOffset\", i.offset), r.setUniform1f(\"u_colormapMaxIndex\", n.length / 4 - 1));\n}\nconst i = {\n  createProgram: r,\n  bindTextureAndUniforms: o\n};\nexport { i as default };","map":{"version":3,"names":["setSingleImageTextures","e","setCoordsAndTransforms","t","s","vsPath","fsPath","attributes","Map","r","indexedColormap","rasterFunction","parameters","o","length","push","painter","materialManager","getProgram","i","n","a","getRasterTextureSize","setUniform2fv","f","getRasterCellSize","pixelSizeFactor","m","factor","zFactor","pixelSizePower","gcsFactor","c","setUniform1i","hillshadeType","setUniform1fv","sinZcosAs","sinZsinAs","cosZs","weights","setUniform1f","minValue","maxValue","offset","createProgram","bindTextureAndUniforms","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/imagery/processor/hillshadeProcessor.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{setSingleImageTextures as e,setCoordsAndTransforms as t}from\"./utils.js\";const s={vsPath:\"raster/rfx/vs\",fsPath:\"raster/hillshade\",attributes:new Map([[\"a_position\",0],[\"a_texcoord\",1]])};function r(e,t){const{indexedColormap:r}=e.rasterFunction.parameters,o=[];return r?.length&&o.push(\"applyColormap\"),e.painter.materialManager.getProgram(s,o)}function o(s,r,o){const i=s.rasterFunction.parameters,{indexedColormap:n}=i;e(s,r,o,n),t(r);const a=o.getRasterTextureSize();r.setUniform2fv(\"u_srcImageSize\",a);const f=o.getRasterCellSize();r.setUniform2fv(\"u_cellSize\",f);const{pixelSizeFactor:m}=i;if(0===m)r.setUniform2fv(\"u_factor\",[i.factor[0]/f[0],i.factor[1]/f[1]]);else{const{zFactor:e,pixelSizePower:t,gcsFactor:s}=i,o=f[0]*s,n=f[1]*s,a=(e+o**t*m)/(8*o),c=(e+n**t*m)/(8*n);r.setUniform2fv(\"u_factor\",[a,c])}r.setUniform1i(\"u_hillshadeType\",i.hillshadeType),r.setUniform1fv(\"u_sinZcosAs\",i.sinZcosAs),r.setUniform1fv(\"u_sinZsinAs\",i.sinZsinAs),r.setUniform1fv(\"u_cosZs\",i.cosZs),r.setUniform1fv(\"u_weights\",i.weights),r.setUniform1f(\"u_opacity\",1),r.setUniform1i(\"u_flipY\",0),r.setUniform1f(\"u_scaling\",255),r.setUniform1f(\"u_minValue\",i.minValue),r.setUniform1f(\"u_maxValue\",i.maxValue),n&&(r.setUniform1f(\"u_colormapOffset\",i.offset),r.setUniform1f(\"u_colormapMaxIndex\",n.length/4-1))}const i={createProgram:r,bindTextureAndUniforms:o};export{i as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}