{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport \"../../../../../core/has.js\";\nimport { baseObjectMemory as e } from \"../../../../../core/memoryEstimations.js\";\nimport t from \"../../../../../layers/graphics/OptimizedGeometry.js\";\nimport { FeatureSetReader as r } from \"./FeatureSetReader.js\";\nclass n extends r {\n  constructor(t, r, n, s, i) {\n    let d = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : new Uint32Array(s.size());\n    super(t), this._fields = r, this._geometryInfo = n, this._inner = s, this._chunkId = i, this._displayIds = d, this._index = -1, this.usedMemory = e, this._size = this._inner.size(), null != t.objectIdField && (this._objectIdFieldIndex = this._fields.get(t.objectIdField)?.index), this._chunkId > 65535 && console.error(\"Exceeded max allowed parquet reader size\");\n  }\n  destroy() {\n    super.destroy(), this._inner.free();\n  }\n  get fields() {\n    return this._fields;\n  }\n  get geometryType() {\n    return this._geometryInfo.geometryType;\n  }\n  get hasFeatures() {\n    return !0;\n  }\n  get hasNext() {\n    throw new Error(\"Method not implemented.\");\n  }\n  get exceededTransferLimit() {\n    return !1;\n  }\n  get hasZ() {\n    return !1;\n  }\n  get hasM() {\n    return !1;\n  }\n  getInTransform() {\n    return null;\n  }\n  getSize() {\n    return this._size;\n  }\n  getCursor() {\n    return this.copy();\n  }\n  getAttributeHash() {\n    let e = \"\";\n    for (const t of this.fields.fields) e += this._readAttribute(t.name, !1) + \".\";\n    return e;\n  }\n  getObjectId() {\n    return null != this._objectIdFieldIndex ? this._inner.readAttribute(this._index, this._objectIdFieldIndex) : this._index << 16 | this._chunkId;\n  }\n  getDisplayId() {\n    return this._displayIds[this._index];\n  }\n  setDisplayId(e) {\n    this._displayIds[this._index] = e;\n  }\n  setIndex(e) {\n    this._index = e;\n  }\n  getBoundsXMin() {\n    return this._inner.boundsXMin(this._index);\n  }\n  getBoundsYMin() {\n    return this._inner.boundsYMin(this._index);\n  }\n  getBoundsXMax() {\n    return this._inner.boundsXMax(this._index);\n  }\n  getBoundsYMax() {\n    return this._inner.boundsYMax(this._index);\n  }\n  setBoundsXMin(e) {\n    throw new Error(\"InternalError: Setting bounds is unsupported\");\n  }\n  setBoundsYMin(e) {\n    throw new Error(\"InternalError: Setting bounds is unsupported\");\n  }\n  setBoundsXMax(e) {\n    throw new Error(\"InternalError: Setting bounds is unsupported\");\n  }\n  setBoundsYMax(e) {\n    throw new Error(\"InternalError: Setting bounds is unsupported\");\n  }\n  getIndex() {\n    return this._index;\n  }\n  next() {\n    for (; ++this._index < this._size && !this._getExists(););\n    return this._index < this._size;\n  }\n  readGeometryArea() {\n    return this.readGeometryForDisplay()?.area() ?? 0;\n  }\n  copy() {\n    const e = new n(this.metadata, this._fields, this._geometryInfo, this._inner, this._chunkId, this._displayIds);\n    return this.copyInto(e), e;\n  }\n  copyInto(e) {\n    super.copyInto(e), e._index = this._index;\n  }\n  readGeometryForDisplayTransformed(e) {\n    const [r, n] = e.translate,\n      [s, i] = e.scale,\n      d = this._inner.readGeometryTransformed(this._index, r, n, s, i);\n    return d ? new t(d.readLengthsUnsafe(), d.readCoordsUnsafe()) : null;\n  }\n  _readGeometry(e) {\n    const r = this._inner.readCoords(this._index),\n      n = this._inner.readLengths(this._index);\n    return r && n ? new t(n, r) : null;\n  }\n  _readX() {\n    return this._readGeometry()?.coords[0];\n  }\n  _readY() {\n    return this._readGeometry()?.coords[1];\n  }\n  _readServerCentroid() {\n    return null;\n  }\n  _readAttribute(e, t) {\n    const r = this.fields.get(e);\n    if (!r) return;\n    if (null == r.index) return this.getObjectId();\n    const n = this._inner.readAttribute(this._index, r.index);\n    if (null == n) return n;\n    const s = this.fields.isDateField(r.name);\n    return t ? null == n ? n : s ? new Date(n) : n : n;\n  }\n  _readAttributes() {\n    const e = {};\n    for (const t of this._fields.fields) null != t.index ? this._inner.hasField(t.index) && (e[t.name] = this._readAttribute(t.name, !1)) : e.__OBJECTID = this.getObjectId();\n    return e;\n  }\n}\nexport { n as FeatureSetReaderParquet };","map":{"version":3,"names":["baseObjectMemory","e","t","FeatureSetReader","r","n","constructor","s","i","d","arguments","length","undefined","Uint32Array","size","_fields","_geometryInfo","_inner","_chunkId","_displayIds","_index","usedMemory","_size","objectIdField","_objectIdFieldIndex","get","index","console","error","destroy","free","fields","geometryType","hasFeatures","hasNext","Error","exceededTransferLimit","hasZ","hasM","getInTransform","getSize","getCursor","copy","getAttributeHash","_readAttribute","name","getObjectId","readAttribute","getDisplayId","setDisplayId","setIndex","getBoundsXMin","boundsXMin","getBoundsYMin","boundsYMin","getBoundsXMax","boundsXMax","getBoundsYMax","boundsYMax","setBoundsXMin","setBoundsYMin","setBoundsXMax","setBoundsYMax","getIndex","next","_getExists","readGeometryArea","readGeometryForDisplay","area","metadata","copyInto","readGeometryForDisplayTransformed","translate","scale","readGeometryTransformed","readLengthsUnsafe","readCoordsUnsafe","_readGeometry","readCoords","readLengths","_readX","coords","_readY","_readServerCentroid","isDateField","Date","_readAttributes","hasField","__OBJECTID","FeatureSetReaderParquet"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderParquet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{baseObjectMemory as e}from\"../../../../../core/memoryEstimations.js\";import t from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{FeatureSetReader as r}from\"./FeatureSetReader.js\";class n extends r{constructor(t,r,n,s,i,d=new Uint32Array(s.size())){super(t),this._fields=r,this._geometryInfo=n,this._inner=s,this._chunkId=i,this._displayIds=d,this._index=-1,this.usedMemory=e,this._size=this._inner.size(),null!=t.objectIdField&&(this._objectIdFieldIndex=this._fields.get(t.objectIdField)?.index),this._chunkId>65535&&console.error(\"Exceeded max allowed parquet reader size\")}destroy(){super.destroy(),this._inner.free()}get fields(){return this._fields}get geometryType(){return this._geometryInfo.geometryType}get hasFeatures(){return!0}get hasNext(){throw new Error(\"Method not implemented.\")}get exceededTransferLimit(){return!1}get hasZ(){return!1}get hasM(){return!1}getInTransform(){return null}getSize(){return this._size}getCursor(){return this.copy()}getAttributeHash(){let e=\"\";for(const t of this.fields.fields)e+=this._readAttribute(t.name,!1)+\".\";return e}getObjectId(){return null!=this._objectIdFieldIndex?this._inner.readAttribute(this._index,this._objectIdFieldIndex):this._index<<16|this._chunkId}getDisplayId(){return this._displayIds[this._index]}setDisplayId(e){this._displayIds[this._index]=e}setIndex(e){this._index=e}getBoundsXMin(){return this._inner.boundsXMin(this._index)}getBoundsYMin(){return this._inner.boundsYMin(this._index)}getBoundsXMax(){return this._inner.boundsXMax(this._index)}getBoundsYMax(){return this._inner.boundsYMax(this._index)}setBoundsXMin(e){throw new Error(\"InternalError: Setting bounds is unsupported\")}setBoundsYMin(e){throw new Error(\"InternalError: Setting bounds is unsupported\")}setBoundsXMax(e){throw new Error(\"InternalError: Setting bounds is unsupported\")}setBoundsYMax(e){throw new Error(\"InternalError: Setting bounds is unsupported\")}getIndex(){return this._index}next(){for(;++this._index<this._size&&!this._getExists(););return this._index<this._size}readGeometryArea(){return this.readGeometryForDisplay()?.area()??0}copy(){const e=new n(this.metadata,this._fields,this._geometryInfo,this._inner,this._chunkId,this._displayIds);return this.copyInto(e),e}copyInto(e){super.copyInto(e),e._index=this._index}readGeometryForDisplayTransformed(e){const[r,n]=e.translate,[s,i]=e.scale,d=this._inner.readGeometryTransformed(this._index,r,n,s,i);return d?new t(d.readLengthsUnsafe(),d.readCoordsUnsafe()):null}_readGeometry(e){const r=this._inner.readCoords(this._index),n=this._inner.readLengths(this._index);return r&&n?new t(n,r):null}_readX(){return this._readGeometry()?.coords[0]}_readY(){return this._readGeometry()?.coords[1]}_readServerCentroid(){return null}_readAttribute(e,t){const r=this.fields.get(e);if(!r)return;if(null==r.index)return this.getObjectId();const n=this._inner.readAttribute(this._index,r.index);if(null==n)return n;const s=this.fields.isDateField(r.name);return t?null==n?n:s?new Date(n):n:n}_readAttributes(){const e={};for(const t of this._fields.fields)null!=t.index?this._inner.hasField(t.index)&&(e[t.name]=this._readAttribute(t.name,!1)):e.__OBJECTID=this.getObjectId();return e}}export{n as FeatureSetReaderParquet};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}