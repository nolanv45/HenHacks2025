{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Graphic.js\";\nimport { getOrCreateMapValue as t } from \"../../../../core/MapUtils.js\";\nimport s from \"../../../../core/pbf.js\";\nimport { PooledRBush as r } from \"../../../../core/libs/rbush/PooledRBush.js\";\nimport { BucketType as i } from \"./enums.js\";\nimport o from \"./Feature.js\";\nimport { getTileMargins as l } from \"./GeometryUtils.js\";\nimport a from \"./SourceLayerData.js\";\nimport { IndexItem as n } from \"./style/StyleLayer.js\";\nconst y = 8,\n  c = 512,\n  u = 4096,\n  h = (e, t) => {\n    const s = e.vtlSymbol.sourceTile,\n      r = t.vtlSymbol.sourceTile;\n    return s.level !== r.level ? s.level - r.level : s.row !== r.row ? s.row - r.row : s.col !== r.col ? s.col - r.col : e.styleLayerUID - t.styleLayerUID;\n  };\nclass d {\n  constructor(e, t, s, r, i) {\n    this.tileKey = e, this._tileLayerData = t, this._styleRepository = s, this._tileHandler = r, this._parentLayer = i, this._index = null, this._tileKeyToPBF = new Map();\n  }\n  static create(e, t, s, r, i) {\n    return new d(e, t, s, r, i);\n  }\n  clear() {\n    this._index?.clear(), this._tileKeyToPBF.clear();\n  }\n  async queryAttributes(e, t, s, i, o) {\n    if (0 === this._tileLayerData.size || !this._styleRepository || !this._tileHandler) return [];\n    null === this._index && (this._index = new r(100, m), await this._indexLayers());\n    const l = [];\n    return this._queryIndex(l, e, t, s, this.tileKey.level, i), o && o?.length > 0 && (await this._getSymbolsAttributes(l, o)), l;\n  }\n  async _indexLayers() {\n    const e = this.tileKey,\n      t = this._styleRepository.layers,\n      s = await this._getTilePayload(e);\n    for (const [r, o] of this._tileLayerData) {\n      const l = t[r],\n        a = s.find(e => e.sourceName === l.source);\n      if (!a) continue;\n      const {\n        protobuff: n,\n        key: y\n      } = a;\n      if (o.type !== i.SYMBOL) {\n        const t = 1 << e.level - y.level,\n          s = e.row - y.row * t,\n          r = e.col - y.col * t;\n        this._indexLayer(l, n, e.level, t, s, r);\n      }\n    }\n  }\n  _indexLayer(e, t, r, i, y, h) {\n    const d = e.sourceLayer,\n      m = e.getFeatureFilter(),\n      f = r,\n      _ = r + 1,\n      p = l(f),\n      g = new s(new Uint8Array(t), new DataView(t));\n    for (; g.next();) switch (g.tag()) {\n      case 3:\n        {\n          const t = g.getMessage(),\n            s = new a(t);\n          if (t.release(), s.name !== d) continue;\n          const l = s.getData(),\n            w = s.extent / i,\n            x = w * h - p,\n            b = w * y - p,\n            I = x + w + 2 * p,\n            L = b + w + 2 * p,\n            v = w / c,\n            D = u / w,\n            T = w * h,\n            S = w * y;\n          for (; l.nextTag(2);) {\n            const t = l.getMessage(),\n              i = new o(t, s);\n            if (t.release(), m && !m.filter(i, r)) continue;\n            const a = i.values || {},\n              y = a._minzoom,\n              c = a._maxzoom;\n            if (y && y >= 10 * _ || c && c <= 10 * f) continue;\n            const u = e.getFeatureInflatedBounds(i, f, s.extent, v);\n            null == u || u[0] > I || u[1] > L || u[2] < x || u[3] < b || (u[0] = (u[0] - T) * D, u[1] = (u[1] - S) * D, u[2] = (u[2] - T) * D, u[3] = (u[3] - S) * D, this._index.insert(new n(e, i, u, D, T, S)));\n          }\n          break;\n        }\n      default:\n        g.skip();\n    }\n  }\n  async _getSymbolsAttributes(e, t) {\n    if (!t || 0 === t.length) return e;\n    const s = [];\n    t.sort(h);\n    let r = t[0].styleLayerUID,\n      i = 0;\n    for (let l = 0; l < t.length; l++) r !== t[l].styleLayerUID && (s.push({\n      from: i,\n      to: l,\n      styleLayerUID: r,\n      sourceTileKey: t[l].vtlSymbol.sourceTile\n    }), i = l, r = t[l].styleLayerUID);\n    s.push({\n      from: i,\n      to: t.length,\n      styleLayerUID: r,\n      sourceTileKey: t[t.length - 1].vtlSymbol.sourceTile\n    });\n    const o = this._styleRepository.layers;\n    for (const l of s) {\n      const s = await this._getTilePayload(l.sourceTileKey),\n        i = o[l.styleLayerUID],\n        a = !!i && s.find(e => e.sourceName === i.source);\n      a && this._addSymbolsAttributes(e, t.slice(l.from, l.to).map(e => e.vtlSymbol), r, a);\n    }\n    return e;\n  }\n  _addSymbolsAttributes(t, s, r, i) {\n    const o = this._styleRepository.layers,\n      l = i.key,\n      a = this.tileKey,\n      n = 1 << a.level - l.level,\n      y = a.row - l.row * n,\n      c = a.col - l.col * n;\n    this._getSymbolAttributes(i.protobuff, s, r, n, y, c).forEach(s => {\n      const {\n        attributes: i,\n        tilePoint: l\n      } = s;\n      t.push({\n        layerId: o[r].id,\n        layerIndex: r,\n        graphic: new e({\n          attributes: i,\n          origin: {\n            type: \"vector-tile\",\n            layerId: o[r].id,\n            layerIndex: r,\n            layer: this._parentLayer\n          }\n        }),\n        tilePoint: l\n      });\n    });\n  }\n  _getSymbolAttributes(e, t, r, i, l, n) {\n    const y = [],\n      c = this._styleRepository.layers;\n    let h = 0;\n    t.sort((e, t) => e.featureIndex - t.featureIndex);\n    const d = new s(new Uint8Array(e), new DataView(e));\n    for (; d.next();) switch (d.tag()) {\n      case 3:\n        {\n          const e = d.getMessage(),\n            s = new a(e);\n          if (e.release(), s.name !== c[r].sourceLayer) continue;\n          const m = s.getData(),\n            f = s.extent / i,\n            _ = u / f,\n            p = f * n,\n            g = f * l;\n          let w = 0;\n          for (; m.nextTag(2);) {\n            const e = m.getMessage();\n            if (w++ === t[h].featureIndex) {\n              const t = new o(e, s),\n                r = t.values,\n                i = t.getGeometry(),\n                l = null != i ? [_ * (i[0][0].x - p), _ * (i[0][0].y - g)] : null;\n              y.push({\n                attributes: r,\n                tilePoint: l\n              }), h++;\n            }\n            if (e.release(), h === t.length) return y;\n          }\n          break;\n        }\n      default:\n        d.skip();\n    }\n    return y;\n  }\n  _queryIndex(t, s, r, i, o, l) {\n    const a = y * i * (window.devicePixelRatio || 1);\n    return this._index?.search({\n      minX: s - a,\n      minY: r - a,\n      maxX: s + a,\n      maxY: r + a\n    }, a => {\n      const {\n        layer: n,\n        feature: y\n      } = a;\n      n.isIntersectingFeature(s, r, i, y, o, l, a) && t.push({\n        layerId: n.id,\n        layerIndex: n.uid,\n        tilePoint: null,\n        graphic: new e({\n          attributes: y.values,\n          origin: {\n            type: \"vector-tile\",\n            layerId: a.layer.id,\n            layerIndex: a.layer.uid,\n            layer: this._parentLayer\n          }\n        })\n      });\n    }), t;\n  }\n  async _getTilePayload(e) {\n    return t(this._tileKeyToPBF, e.id, () => this._tileHandler.fetchTilePBFs(e)).then(e => e);\n  }\n}\nconst m = e => ({\n  minX: e.bounds[0],\n  minY: e.bounds[1],\n  maxX: e.bounds[2],\n  maxY: e.bounds[3]\n});\nexport { d as default };","map":{"version":3,"names":["e","getOrCreateMapValue","t","s","PooledRBush","r","BucketType","i","o","getTileMargins","l","a","IndexItem","n","y","c","u","h","vtlSymbol","sourceTile","level","row","col","styleLayerUID","d","constructor","tileKey","_tileLayerData","_styleRepository","_tileHandler","_parentLayer","_index","_tileKeyToPBF","Map","create","clear","queryAttributes","size","m","_indexLayers","_queryIndex","length","_getSymbolsAttributes","layers","_getTilePayload","find","sourceName","source","protobuff","key","type","SYMBOL","_indexLayer","sourceLayer","getFeatureFilter","f","_","p","g","Uint8Array","DataView","next","tag","getMessage","release","name","getData","w","extent","x","b","I","L","v","D","T","S","nextTag","filter","values","_minzoom","_maxzoom","getFeatureInflatedBounds","insert","skip","sort","push","from","to","sourceTileKey","_addSymbolsAttributes","slice","map","_getSymbolAttributes","forEach","attributes","tilePoint","layerId","id","layerIndex","graphic","origin","layer","featureIndex","getGeometry","window","devicePixelRatio","search","minX","minY","maxX","maxY","feature","isIntersectingFeature","uid","fetchTilePBFs","then","bounds","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileFeatureIndex.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import{getOrCreateMapValue as t}from\"../../../../core/MapUtils.js\";import s from\"../../../../core/pbf.js\";import{PooledRBush as r}from\"../../../../core/libs/rbush/PooledRBush.js\";import{BucketType as i}from\"./enums.js\";import o from\"./Feature.js\";import{getTileMargins as l}from\"./GeometryUtils.js\";import a from\"./SourceLayerData.js\";import{IndexItem as n}from\"./style/StyleLayer.js\";const y=8,c=512,u=4096,h=(e,t)=>{const s=e.vtlSymbol.sourceTile,r=t.vtlSymbol.sourceTile;return s.level!==r.level?s.level-r.level:s.row!==r.row?s.row-r.row:s.col!==r.col?s.col-r.col:e.styleLayerUID-t.styleLayerUID};class d{constructor(e,t,s,r,i){this.tileKey=e,this._tileLayerData=t,this._styleRepository=s,this._tileHandler=r,this._parentLayer=i,this._index=null,this._tileKeyToPBF=new Map}static create(e,t,s,r,i){return new d(e,t,s,r,i)}clear(){this._index?.clear(),this._tileKeyToPBF.clear()}async queryAttributes(e,t,s,i,o){if(0===this._tileLayerData.size||!this._styleRepository||!this._tileHandler)return[];null===this._index&&(this._index=new r(100,m),await this._indexLayers());const l=[];return this._queryIndex(l,e,t,s,this.tileKey.level,i),o&&o?.length>0&&await this._getSymbolsAttributes(l,o),l}async _indexLayers(){const e=this.tileKey,t=this._styleRepository.layers,s=await this._getTilePayload(e);for(const[r,o]of this._tileLayerData){const l=t[r],a=s.find((e=>e.sourceName===l.source));if(!a)continue;const{protobuff:n,key:y}=a;if(o.type!==i.SYMBOL){const t=1<<e.level-y.level,s=e.row-y.row*t,r=e.col-y.col*t;this._indexLayer(l,n,e.level,t,s,r)}}}_indexLayer(e,t,r,i,y,h){const d=e.sourceLayer,m=e.getFeatureFilter(),f=r,_=r+1,p=l(f),g=new s(new Uint8Array(t),new DataView(t));for(;g.next();)switch(g.tag()){case 3:{const t=g.getMessage(),s=new a(t);if(t.release(),s.name!==d)continue;const l=s.getData(),w=s.extent/i,x=w*h-p,b=w*y-p,I=x+w+2*p,L=b+w+2*p,v=w/c,D=u/w,T=w*h,S=w*y;for(;l.nextTag(2);){const t=l.getMessage(),i=new o(t,s);if(t.release(),m&&!m.filter(i,r))continue;const a=i.values||{},y=a._minzoom,c=a._maxzoom;if(y&&y>=10*_||c&&c<=10*f)continue;const u=e.getFeatureInflatedBounds(i,f,s.extent,v);null==u||u[0]>I||u[1]>L||u[2]<x||u[3]<b||(u[0]=(u[0]-T)*D,u[1]=(u[1]-S)*D,u[2]=(u[2]-T)*D,u[3]=(u[3]-S)*D,this._index.insert(new n(e,i,u,D,T,S)))}break}default:g.skip()}}async _getSymbolsAttributes(e,t){if(!t||0===t.length)return e;const s=[];t.sort(h);let r=t[0].styleLayerUID,i=0;for(let l=0;l<t.length;l++)r!==t[l].styleLayerUID&&(s.push({from:i,to:l,styleLayerUID:r,sourceTileKey:t[l].vtlSymbol.sourceTile}),i=l,r=t[l].styleLayerUID);s.push({from:i,to:t.length,styleLayerUID:r,sourceTileKey:t[t.length-1].vtlSymbol.sourceTile});const o=this._styleRepository.layers;for(const l of s){const s=await this._getTilePayload(l.sourceTileKey),i=o[l.styleLayerUID],a=!!i&&s.find((e=>e.sourceName===i.source));a&&this._addSymbolsAttributes(e,t.slice(l.from,l.to).map((e=>e.vtlSymbol)),r,a)}return e}_addSymbolsAttributes(t,s,r,i){const o=this._styleRepository.layers,l=i.key,a=this.tileKey,n=1<<a.level-l.level,y=a.row-l.row*n,c=a.col-l.col*n;this._getSymbolAttributes(i.protobuff,s,r,n,y,c).forEach((s=>{const{attributes:i,tilePoint:l}=s;t.push({layerId:o[r].id,layerIndex:r,graphic:new e({attributes:i,origin:{type:\"vector-tile\",layerId:o[r].id,layerIndex:r,layer:this._parentLayer}}),tilePoint:l})}))}_getSymbolAttributes(e,t,r,i,l,n){const y=[],c=this._styleRepository.layers;let h=0;t.sort(((e,t)=>e.featureIndex-t.featureIndex));const d=new s(new Uint8Array(e),new DataView(e));for(;d.next();)switch(d.tag()){case 3:{const e=d.getMessage(),s=new a(e);if(e.release(),s.name!==c[r].sourceLayer)continue;const m=s.getData(),f=s.extent/i,_=u/f,p=f*n,g=f*l;let w=0;for(;m.nextTag(2);){const e=m.getMessage();if(w++===t[h].featureIndex){const t=new o(e,s),r=t.values,i=t.getGeometry(),l=null!=i?[_*(i[0][0].x-p),_*(i[0][0].y-g)]:null;y.push({attributes:r,tilePoint:l}),h++}if(e.release(),h===t.length)return y}break}default:d.skip()}return y}_queryIndex(t,s,r,i,o,l){const a=y*i*(window.devicePixelRatio||1);return this._index?.search({minX:s-a,minY:r-a,maxX:s+a,maxY:r+a},(a=>{const{layer:n,feature:y}=a;n.isIntersectingFeature(s,r,i,y,o,l,a)&&t.push({layerId:n.id,layerIndex:n.uid,tilePoint:null,graphic:new e({attributes:y.values,origin:{type:\"vector-tile\",layerId:a.layer.id,layerIndex:a.layer.uid,layer:this._parentLayer}})})})),t}async _getTilePayload(e){return t(this._tileKeyToPBF,e.id,(()=>this._tileHandler.fetchTilePBFs(e))).then((e=>e))}}const m=e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]});export{d as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}