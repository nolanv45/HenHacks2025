{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { generateGlobalId as t } from \"../../../editing/sharedTemplates/executor/support/createServiceEdit.js\";\nimport { formatNumber as e } from \"../../../intl/number.js\";\nimport { isSubtypeSublayer as n } from \"../../../layers/support/layerUtils.js\";\nimport o from \"../../../rest/networks/support/Association.js\";\nimport i from \"../../../rest/networks/support/NetworkElement.js\";\nfunction r(t) {\n  const {\n    percentAlong: n\n  } = t;\n  return null == n ? \"\" : e(n, {\n    style: \"percent\",\n    maximumFractionDigits: 2\n  });\n}\nfunction c(t) {\n  const {\n    associationType: e\n  } = t;\n  return \"connectivity\" === e || \"junction-junction-connectivity\" === e || \"junction-edge-from-connectivity\" === e || \"junction-edge-midspan-connectivity\" === e || \"junction-edge-to-connectivity\" === e;\n}\nfunction a(t) {\n  return \"junction-edge-midspan-connectivity\" === t.associationType;\n}\nfunction s(t) {\n  const {\n      attributes: e,\n      sourceLayer: n\n    } = t ?? {},\n    o = n && \"displayField\" in n ? n.displayField : null,\n    i = o ? e?.[o] : null,\n    r = null != i ? JSON.stringify(i) : null,\n    c = t?.getObjectId()?.toString();\n  return r || c || \"\";\n}\nfunction l(t, e, n) {\n  const {\n    associationType: o\n  } = t;\n  switch (o) {\n    case \"attachment\":\n      return \"to\" === e ? n.attachment : n.structure;\n    case \"containment\":\n      return \"to\" === e ? n.content : n.container;\n    case \"junction-edge-from-connectivity\":\n    case \"junction-edge-to-connectivity\":\n    case \"junction-edge-midspan-connectivity\":\n    case \"junction-junction-connectivity\":\n    case \"connectivity\":\n      return n.connectivity;\n  }\n}\nfunction u(t, e) {\n  return !!(t.layer && \"globalIdField\" in t.layer && t.layer.globalIdField && e.fromNetworkElement) && t.attributes[t.layer.globalIdField] === e.fromNetworkElement.globalId;\n}\nfunction d(t, e) {\n  const o = n(t.sourceLayer) ? t.sourceLayer.parent : t.sourceLayer;\n  if (o && \"globalIdField\" in o && \"layerId\" in o && o.globalIdField) {\n    const n = e.getSourceIdByLayerId(o.layerId),\n      r = \"junction\" === e.getSourceTypeById(n) ? e.getTerminalConfiguration(t) : void 0,\n      c = r?.terminals.at(0)?.id,\n      a = o.fieldsIndex.get(\"assetGroup\").name,\n      s = o.fieldsIndex.get(\"assetType\").name,\n      l = t.attributes[a],\n      u = t.attributes[s],\n      d = t.attributes[o.globalIdField];\n    if (d && null != n) return new i({\n      globalId: d,\n      networkSourceId: n,\n      assetGroupCode: l,\n      assetTypeCode: u,\n      terminalId: c\n    });\n  }\n}\nfunction y(e) {\n  return new o({\n    fromNetworkElement: d(e.fromFeature, e.utilityNetwork),\n    toNetworkElement: d(e.toFeature, e.utilityNetwork),\n    associationType: e.associationType,\n    globalId: t()\n  });\n}\nexport { y as createAssociation, r as formatPercentAlong, l as getAssociationTitle, s as getFeatureTitle, c as isConnectivity, a as isConnectivityMidspan, u as isFromElement };","map":{"version":3,"names":["generateGlobalId","t","formatNumber","e","isSubtypeSublayer","n","o","i","r","percentAlong","style","maximumFractionDigits","c","associationType","a","s","attributes","sourceLayer","displayField","JSON","stringify","getObjectId","toString","l","attachment","structure","content","container","connectivity","u","layer","globalIdField","fromNetworkElement","globalId","d","parent","getSourceIdByLayerId","layerId","getSourceTypeById","getTerminalConfiguration","terminals","at","id","fieldsIndex","get","name","networkSourceId","assetGroupCode","assetTypeCode","terminalId","y","fromFeature","utilityNetwork","toNetworkElement","toFeature","createAssociation","formatPercentAlong","getAssociationTitle","getFeatureTitle","isConnectivity","isConnectivityMidspan","isFromElement"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/widgets/support/UtilityNetworkAssociations/utilityNetworkUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{generateGlobalId as t}from\"../../../editing/sharedTemplates/executor/support/createServiceEdit.js\";import{formatNumber as e}from\"../../../intl/number.js\";import{isSubtypeSublayer as n}from\"../../../layers/support/layerUtils.js\";import o from\"../../../rest/networks/support/Association.js\";import i from\"../../../rest/networks/support/NetworkElement.js\";function r(t){const{percentAlong:n}=t;return null==n?\"\":e(n,{style:\"percent\",maximumFractionDigits:2})}function c(t){const{associationType:e}=t;return\"connectivity\"===e||\"junction-junction-connectivity\"===e||\"junction-edge-from-connectivity\"===e||\"junction-edge-midspan-connectivity\"===e||\"junction-edge-to-connectivity\"===e}function a(t){return\"junction-edge-midspan-connectivity\"===t.associationType}function s(t){const{attributes:e,sourceLayer:n}=t??{},o=n&&\"displayField\"in n?n.displayField:null,i=o?e?.[o]:null,r=null!=i?JSON.stringify(i):null,c=t?.getObjectId()?.toString();return r||c||\"\"}function l(t,e,n){const{associationType:o}=t;switch(o){case\"attachment\":return\"to\"===e?n.attachment:n.structure;case\"containment\":return\"to\"===e?n.content:n.container;case\"junction-edge-from-connectivity\":case\"junction-edge-to-connectivity\":case\"junction-edge-midspan-connectivity\":case\"junction-junction-connectivity\":case\"connectivity\":return n.connectivity}}function u(t,e){return!!(t.layer&&\"globalIdField\"in t.layer&&t.layer.globalIdField&&e.fromNetworkElement)&&t.attributes[t.layer.globalIdField]===e.fromNetworkElement.globalId}function d(t,e){const o=n(t.sourceLayer)?t.sourceLayer.parent:t.sourceLayer;if(o&&\"globalIdField\"in o&&\"layerId\"in o&&o.globalIdField){const n=e.getSourceIdByLayerId(o.layerId),r=\"junction\"===e.getSourceTypeById(n)?e.getTerminalConfiguration(t):void 0,c=r?.terminals.at(0)?.id,a=o.fieldsIndex.get(\"assetGroup\").name,s=o.fieldsIndex.get(\"assetType\").name,l=t.attributes[a],u=t.attributes[s],d=t.attributes[o.globalIdField];if(d&&null!=n)return new i({globalId:d,networkSourceId:n,assetGroupCode:l,assetTypeCode:u,terminalId:c})}}function y(e){return new o({fromNetworkElement:d(e.fromFeature,e.utilityNetwork),toNetworkElement:d(e.toFeature,e.utilityNetwork),associationType:e.associationType,globalId:t()})}export{y as createAssociation,r as formatPercentAlong,l as getAssociationTitle,s as getFeatureTitle,c as isConnectivity,a as isConnectivityMidspan,u as isFromElement};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}