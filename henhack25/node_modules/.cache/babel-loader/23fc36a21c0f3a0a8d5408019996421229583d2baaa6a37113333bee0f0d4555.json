{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from \"../../../../../core/has.js\";\nimport { ASendState as e, AProcessorStrategy as t } from \"./AProcessorStrategy.js\";\nimport { FeatureTileUpdateMessage as s, FeatureTileAppendMessage as r } from \"../sources/FeatureSourceMessage.js\";\nimport { OverrideChunk as o } from \"../sources/strategies/chunks/Overrides.js\";\nimport { createArcadeEvaluationOptions as a } from \"../support/arcadeUtils.js\";\nimport { FeatureSetReaderJSON as n } from \"../support/FeatureSetReaderJSON.js\";\nclass d extends e {}\nclass i extends t {\n  constructor(e, t, s, r) {\n    super(e, t, r), this._arcadeContextInfo = s, this.handledChunks = new Set(), this.handledChunksForIdCreation = new Set(), this.handledChunksForAttributeData = new Set(), this._streamLayerDeferredObjectIdsToRemove = [];\n  }\n  destroy() {\n    super.destroy();\n    for (const e of this._source.chunks()) this._cleanupChunkIds(e);\n  }\n  invalidateAttributeData(e) {\n    this.handledChunksForAttributeData.clear(), this._arcadeContextInfo = e, null != this._evalOptions && (this._evalOptions = a(this._evalOptions.$view.scale, e));\n  }\n  onSubscribe(e) {\n    super.onSubscribe(e), this._evalOptions = e.tile.createArcadeEvaluationOptions(this._arcadeContextInfo);\n  }\n  createState(e) {\n    return new d(e);\n  }\n  get aggregateQueryEngine() {\n    return null;\n  }\n  displayMap(e, t, s) {\n    const r = new Map(e.map(e => [t(e), e])),\n      o = [];\n    for (const a of this._source.chunks()) {\n      const e = a.reader.getCursor();\n      for (; e.next();) {\n        const t = e.getObjectId(),\n          a = e.getDisplayId(),\n          n = r.get(t);\n        if (null != n) {\n          const e = s(a, n, t);\n          o.push(e), r.delete(t);\n        }\n      }\n    }\n    return o;\n  }\n  getDisplayFeatures(e) {\n    const t = new Set(e),\n      s = new Set(),\n      r = [];\n    for (const o of this._source.chunks()) {\n      const e = o.reader.getCursor();\n      for (; e.next();) {\n        const o = e.getObjectId(),\n          a = e.getDisplayId();\n        t.has(a) && !s.has(o) && (r.push({\n          ...e.readLegacyFeatureWorldSpace(),\n          displayId: a\n        }), s.add(o));\n      }\n    }\n    return {\n      features: r,\n      aggregates: [],\n      tracks: []\n    };\n  }\n  async *applyOverrideUpdate(e) {\n    const t = [];\n    for (const s of e.modified) {\n      const e = this._attributeStore.createDisplayIdForObjectId(s.objectId);\n      s.displayId = e, t.push(e);\n    }\n    const r = n.fromOptimizedFeatures(e.modified, this._source.metadata).getCursor();\n    for (; r.next();) this._attributeStore.setAttributeData(r.getDisplayId(), r, this._evalOptions, this._sqlOptions);\n    const a = [];\n    for (const s of e.removed) {\n      const e = this._attributeStore.getDisplayIdForObjectId(s);\n      null != e && a.push(e);\n    }\n    has(\"esri-2d-update-debug\") && console.debug(\"FeatureUpdateStrategy.applyLocalEdit\", {\n      message: e,\n      modifiedDisplayIds: t,\n      removedDisplayIds: a\n    });\n    const d = o.fromFeatures(e.modified, this._source.metadata);\n    this.handledChunks.add(d.chunkId), this.handledChunksForAttributeData.add(d.chunkId), this.handledChunksForIdCreation.add(d.chunkId);\n    for (const o of this._sendStates.values()) o.handledChunks.add(d.chunkId), yield new s(o.subscription, null, t, !1, d.queryInfo);\n    for (const o of this._sendStates.values()) {\n      const e = d.getTileReader(o.subscription.tile);\n      yield new s(o.subscription, e, a, !1, d.queryInfo);\n    }\n    for (const s of e.removed) this._attributeStore.releaseDisplayIdForObjectId(s);\n  }\n  async *updateChunks() {\n    if (this._source.chunks().length) {\n      await this._updateAttributeData();\n      for (const e of this._sendStates.values()) yield* this._update(e);\n    }\n  }\n  removeChunks(e) {\n    for (const t of e) this.handledChunks.delete(t.chunkId), this.handledChunksForAttributeData.delete(t.chunkId), this._cleanupChunkIds(t);\n  }\n  afterUpdateChunks() {\n    for (const e of this._streamLayerDeferredObjectIdsToRemove) this._attributeStore.releaseDisplayIdForObjectId(e);\n    this._streamLayerDeferredObjectIdsToRemove = [];\n  }\n  _cleanupChunkIds(e) {\n    if (this.handledChunksForIdCreation.has(e.chunkId)) {\n      const t = e.reader.getCursor();\n      for (; t.next();) {\n        const e = t.getObjectId();\n        this._source.isStream ? this._streamLayerDeferredObjectIdsToRemove.push(e) : this._attributeStore.releaseDisplayIdForObjectId(e);\n      }\n      this.handledChunksForIdCreation.delete(e.chunkId);\n    }\n  }\n  async _updateAttributeData() {\n    for (const e of this._source.chunks()) {\n      const {\n        chunkId: t,\n        reader: s\n      } = e;\n      if (!this.handledChunksForIdCreation.has(t)) {\n        this.handledChunksForIdCreation.add(t);\n        const e = s.getCursor();\n        for (; e.next();) {\n          const t = this._attributeStore.createDisplayIdForObjectId(e.getObjectId());\n          e.setDisplayId(t);\n        }\n      }\n    }\n    for (const e of this._source.chunks()) if (!this.handledChunksForAttributeData.has(e.chunkId)) {\n      this.handledChunksForAttributeData.add(e.chunkId);\n      const t = e.reader.getCursor();\n      for (; t.next();) {\n        const e = t.getDisplayId();\n        this._attributeStore.setAttributeData(e, t, this._evalOptions, this._sqlOptions);\n      }\n    }\n  }\n  *_update(e) {\n    const {\n      subscription: t,\n      handledChunks: s\n    } = e;\n    for (const o of this._source.chunks()) {\n      const {\n        chunkId: a\n      } = o;\n      if (s.has(a)) continue;\n      s.add(a);\n      const n = o.getTileReader(t.tile);\n      n && (yield new r(e.subscription, n, !1, o.end, o.queryInfo));\n    }\n  }\n}\nexport { d as DefaultSendState, i as FeatureUpdateStrategy };","map":{"version":3,"names":["has","ASendState","e","AProcessorStrategy","t","FeatureTileUpdateMessage","s","FeatureTileAppendMessage","r","OverrideChunk","o","createArcadeEvaluationOptions","a","FeatureSetReaderJSON","n","d","i","constructor","_arcadeContextInfo","handledChunks","Set","handledChunksForIdCreation","handledChunksForAttributeData","_streamLayerDeferredObjectIdsToRemove","destroy","_source","chunks","_cleanupChunkIds","invalidateAttributeData","clear","_evalOptions","$view","scale","onSubscribe","tile","createState","aggregateQueryEngine","displayMap","Map","map","reader","getCursor","next","getObjectId","getDisplayId","get","push","delete","getDisplayFeatures","readLegacyFeatureWorldSpace","displayId","add","features","aggregates","tracks","applyOverrideUpdate","modified","_attributeStore","createDisplayIdForObjectId","objectId","fromOptimizedFeatures","metadata","setAttributeData","_sqlOptions","removed","getDisplayIdForObjectId","console","debug","message","modifiedDisplayIds","removedDisplayIds","fromFeatures","chunkId","_sendStates","values","subscription","queryInfo","getTileReader","releaseDisplayIdForObjectId","updateChunks","length","_updateAttributeData","_update","removeChunks","afterUpdateChunks","isStream","setDisplayId","end","DefaultSendState","FeatureUpdateStrategy"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/processor/FeatureUpdateStrategy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import{ASendState as e,AProcessorStrategy as t}from\"./AProcessorStrategy.js\";import{FeatureTileUpdateMessage as s,FeatureTileAppendMessage as r}from\"../sources/FeatureSourceMessage.js\";import{OverrideChunk as o}from\"../sources/strategies/chunks/Overrides.js\";import{createArcadeEvaluationOptions as a}from\"../support/arcadeUtils.js\";import{FeatureSetReaderJSON as n}from\"../support/FeatureSetReaderJSON.js\";class d extends e{}class i extends t{constructor(e,t,s,r){super(e,t,r),this._arcadeContextInfo=s,this.handledChunks=new Set,this.handledChunksForIdCreation=new Set,this.handledChunksForAttributeData=new Set,this._streamLayerDeferredObjectIdsToRemove=[]}destroy(){super.destroy();for(const e of this._source.chunks())this._cleanupChunkIds(e)}invalidateAttributeData(e){this.handledChunksForAttributeData.clear(),this._arcadeContextInfo=e,null!=this._evalOptions&&(this._evalOptions=a(this._evalOptions.$view.scale,e))}onSubscribe(e){super.onSubscribe(e),this._evalOptions=e.tile.createArcadeEvaluationOptions(this._arcadeContextInfo)}createState(e){return new d(e)}get aggregateQueryEngine(){return null}displayMap(e,t,s){const r=new Map(e.map((e=>[t(e),e]))),o=[];for(const a of this._source.chunks()){const e=a.reader.getCursor();for(;e.next();){const t=e.getObjectId(),a=e.getDisplayId(),n=r.get(t);if(null!=n){const e=s(a,n,t);o.push(e),r.delete(t)}}}return o}getDisplayFeatures(e){const t=new Set(e),s=new Set,r=[];for(const o of this._source.chunks()){const e=o.reader.getCursor();for(;e.next();){const o=e.getObjectId(),a=e.getDisplayId();t.has(a)&&!s.has(o)&&(r.push({...e.readLegacyFeatureWorldSpace(),displayId:a}),s.add(o))}}return{features:r,aggregates:[],tracks:[]}}async*applyOverrideUpdate(e){const t=[];for(const s of e.modified){const e=this._attributeStore.createDisplayIdForObjectId(s.objectId);s.displayId=e,t.push(e)}const r=n.fromOptimizedFeatures(e.modified,this._source.metadata).getCursor();for(;r.next();)this._attributeStore.setAttributeData(r.getDisplayId(),r,this._evalOptions,this._sqlOptions);const a=[];for(const s of e.removed){const e=this._attributeStore.getDisplayIdForObjectId(s);null!=e&&a.push(e)}has(\"esri-2d-update-debug\")&&console.debug(\"FeatureUpdateStrategy.applyLocalEdit\",{message:e,modifiedDisplayIds:t,removedDisplayIds:a});const d=o.fromFeatures(e.modified,this._source.metadata);this.handledChunks.add(d.chunkId),this.handledChunksForAttributeData.add(d.chunkId),this.handledChunksForIdCreation.add(d.chunkId);for(const o of this._sendStates.values())o.handledChunks.add(d.chunkId),yield new s(o.subscription,null,t,!1,d.queryInfo);for(const o of this._sendStates.values()){const e=d.getTileReader(o.subscription.tile);yield new s(o.subscription,e,a,!1,d.queryInfo)}for(const s of e.removed)this._attributeStore.releaseDisplayIdForObjectId(s)}async*updateChunks(){if(this._source.chunks().length){await this._updateAttributeData();for(const e of this._sendStates.values())yield*this._update(e)}}removeChunks(e){for(const t of e)this.handledChunks.delete(t.chunkId),this.handledChunksForAttributeData.delete(t.chunkId),this._cleanupChunkIds(t)}afterUpdateChunks(){for(const e of this._streamLayerDeferredObjectIdsToRemove)this._attributeStore.releaseDisplayIdForObjectId(e);this._streamLayerDeferredObjectIdsToRemove=[]}_cleanupChunkIds(e){if(this.handledChunksForIdCreation.has(e.chunkId)){const t=e.reader.getCursor();for(;t.next();){const e=t.getObjectId();this._source.isStream?this._streamLayerDeferredObjectIdsToRemove.push(e):this._attributeStore.releaseDisplayIdForObjectId(e)}this.handledChunksForIdCreation.delete(e.chunkId)}}async _updateAttributeData(){for(const e of this._source.chunks()){const{chunkId:t,reader:s}=e;if(!this.handledChunksForIdCreation.has(t)){this.handledChunksForIdCreation.add(t);const e=s.getCursor();for(;e.next();){const t=this._attributeStore.createDisplayIdForObjectId(e.getObjectId());e.setDisplayId(t)}}}for(const e of this._source.chunks())if(!this.handledChunksForAttributeData.has(e.chunkId)){this.handledChunksForAttributeData.add(e.chunkId);const t=e.reader.getCursor();for(;t.next();){const e=t.getDisplayId();this._attributeStore.setAttributeData(e,t,this._evalOptions,this._sqlOptions)}}}*_update(e){const{subscription:t,handledChunks:s}=e;for(const o of this._source.chunks()){const{chunkId:a}=o;if(s.has(a))continue;s.add(a);const n=o.getTileReader(t.tile);n&&(yield new r(e.subscription,n,!1,o.end,o.queryInfo))}}}export{d as DefaultSendState,i as FeatureUpdateStrategy};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}