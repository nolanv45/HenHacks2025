{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass e {\n  static local() {\n    return null === e.instance && (e.instance = new e()), e.instance;\n  }\n  execute(e, s, n, i, o) {\n    return new t(e, s, n);\n  }\n}\ne.instance = null;\nclass t {\n  constructor(e, t, s) {\n    this._inputGeometries = e, this._angleTolerance = void 0 !== t.angleTolerance ? t.angleTolerance : 120, this._maxCosAngle = Math.cos((1 - Math.abs(this._angleTolerance) / 180) * Math.PI);\n  }\n  next() {\n    let e = this._inputGeometries.next();\n    for (; e;) {\n      if (\"esriGeometryPolygon\" === e.geometryType) this._isClosed = !0;else if (\"esriGeometryPolyline\" === e.geometryType) this._isClosed = !1;else {\n        if (\"esriGeometryEnvelope\" !== e.geometryType) {\n          e = this._inputGeometries.next();\n          continue;\n        }\n        if (this._maxCosAngle) return e;\n        this._isClosed = !0;\n      }\n      for (; e.nextPath();) this._processPath(e);\n      return e.reset(), e;\n    }\n    return null;\n  }\n  _processPath(e) {\n    if (e.nextPoint()) {\n      const t = e.x,\n        s = e.y;\n      let n = t,\n        i = s,\n        o = e.pathSize,\n        l = 0,\n        r = 0,\n        a = 0,\n        h = 0,\n        c = 0,\n        _ = 0;\n      this._isClosed && ++o;\n      for (let u = 1; e.nextPoint() || u < o; ++u) {\n        let x, m;\n        this._isClosed && u === o - 1 ? (x = t, m = s) : (x = e.x, m = e.y);\n        const y = x - n,\n          g = m - i,\n          C = Math.sqrt(y * y + g * g);\n        if (u > 1 && C > 0 && a > 0) {\n          (l * y + r * g) / C / a <= this._maxCosAngle && e.setControlPointAt(u - 1);\n        }\n        1 === u && (h = y, c = g, _ = C), C > 0 && (n = x, i = m, l = y, r = g, a = C);\n      }\n      if (this._isClosed && a > 0 && _ > 0) {\n        (l * h + r * c) / _ / a <= this._maxCosAngle && e.setControlPointAt(0);\n      }\n    }\n  }\n}\nexport { e as EffectAddControlPoints };","map":{"version":3,"names":["e","local","instance","execute","s","n","i","o","t","constructor","_inputGeometries","_angleTolerance","angleTolerance","_maxCosAngle","Math","cos","abs","PI","next","geometryType","_isClosed","nextPath","_processPath","reset","nextPoint","x","y","pathSize","l","r","a","h","c","_","u","m","g","C","sqrt","setControlPointAt","EffectAddControlPoints"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/cim/effects/EffectAddControlPoints.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass e{static local(){return null===e.instance&&(e.instance=new e),e.instance}execute(e,s,n,i,o){return new t(e,s,n)}}e.instance=null;class t{constructor(e,t,s){this._inputGeometries=e,this._angleTolerance=void 0!==t.angleTolerance?t.angleTolerance:120,this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}next(){let e=this._inputGeometries.next();for(;e;){if(\"esriGeometryPolygon\"===e.geometryType)this._isClosed=!0;else if(\"esriGeometryPolyline\"===e.geometryType)this._isClosed=!1;else{if(\"esriGeometryEnvelope\"!==e.geometryType){e=this._inputGeometries.next();continue}if(this._maxCosAngle)return e;this._isClosed=!0}for(;e.nextPath();)this._processPath(e);return e.reset(),e}return null}_processPath(e){if(e.nextPoint()){const t=e.x,s=e.y;let n=t,i=s,o=e.pathSize,l=0,r=0,a=0,h=0,c=0,_=0;this._isClosed&&++o;for(let u=1;e.nextPoint()||u<o;++u){let x,m;this._isClosed&&u===o-1?(x=t,m=s):(x=e.x,m=e.y);const y=x-n,g=m-i,C=Math.sqrt(y*y+g*g);if(u>1&&C>0&&a>0){(l*y+r*g)/C/a<=this._maxCosAngle&&e.setControlPointAt(u-1)}1===u&&(h=y,c=g,_=C),C>0&&(n=x,i=m,l=y,r=g,a=C)}if(this._isClosed&&a>0&&_>0){(l*h+r*c)/_/a<=this._maxCosAngle&&e.setControlPointAt(0)}}}}export{e as EffectAddControlPoints};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}