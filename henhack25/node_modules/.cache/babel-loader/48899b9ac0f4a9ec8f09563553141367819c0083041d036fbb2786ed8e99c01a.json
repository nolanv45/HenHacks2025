{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { makeHandle as t } from \"../../../../../core/handleUtils.js\";\nimport { Milliseconds as e } from \"../../../../../core/time.js\";\nimport { AnimatedSymbolRepeatType as r } from \"../../../../../symbols/cim/enums.js\";\nimport { getRandomValue as i } from \"../grouping.js\";\nfunction a(t) {\n  return e(t.frameDurations.reduce((t, e) => t + e, 0));\n}\nfunction n(t) {\n  const {\n      width: e,\n      height: r\n    } = t,\n    i = t.frameDurations.reverse(),\n    a = e => {\n      const r = t.frameDurations.length - 1 - e;\n      return t.getFrame(r);\n    };\n  return {\n    frameCount: t.frameCount,\n    duration: t.duration,\n    frameDurations: i,\n    getFrame: a,\n    width: e,\n    height: r\n  };\n}\nfunction o(t, r) {\n  const {\n      width: i,\n      height: a,\n      getFrame: n\n    } = t,\n    o = r / t.duration,\n    s = t.frameDurations.map(t => e(t * o));\n  return {\n    frameCount: t.frameCount,\n    duration: t.duration,\n    frameDurations: s,\n    getFrame: n,\n    width: i,\n    height: a\n  };\n}\nfunction s(t, r) {\n  const {\n      width: i,\n      height: a,\n      getFrame: n\n    } = t,\n    o = t.frameDurations.slice(),\n    s = o.shift();\n  return o.unshift(e(s + r)), {\n    frameCount: t.frameCount,\n    duration: t.duration + r,\n    frameDurations: o,\n    getFrame: n,\n    width: i,\n    height: a\n  };\n}\nfunction m(t, r) {\n  const {\n      width: i,\n      height: a,\n      getFrame: n\n    } = t,\n    o = t.frameDurations.slice(),\n    s = o.pop();\n  return o.push(e(s + r)), {\n    frameCount: t.frameCount,\n    duration: t.duration + r,\n    frameDurations: o,\n    getFrame: n,\n    width: i,\n    height: a\n  };\n}\nclass u {\n  constructor(t, e, r, i) {\n    this._animation = t, this._repeatType = r, this._onFrameData = i, this._direction = 1, this._currentFrame = 0, this.timeToFrame = this._animation.frameDurations[this._currentFrame];\n    let a = 0;\n    for (; e > a;) a += this.timeToFrame, this.nextFrame();\n    const n = this._animation.getFrame(this._currentFrame);\n    this._onFrameData(n);\n  }\n  nextFrame() {\n    if (this._currentFrame += this._direction, this._direction > 0) {\n      if (this._currentFrame === this._animation.frameDurations.length) switch (this._repeatType) {\n        case r.None:\n          this._currentFrame -= this._direction;\n          break;\n        case r.Loop:\n          this._currentFrame = 0;\n          break;\n        case r.Oscillate:\n          this._currentFrame -= this._direction, this._direction = -1;\n      }\n    } else if (-1 === this._currentFrame) switch (this._repeatType) {\n      case r.None:\n        this._currentFrame -= this._direction;\n        break;\n      case r.Loop:\n        this._currentFrame = this._animation.frameDurations.length - 1;\n        break;\n      case r.Oscillate:\n        this._currentFrame -= this._direction, this._direction = 1;\n    }\n    this.timeToFrame = this._animation.frameDurations[this._currentFrame];\n    const t = this._animation.getFrame(this._currentFrame);\n    this._onFrameData(t);\n  }\n}\nfunction h(t, h, c, f) {\n  let l,\n    {\n      repeatType: d\n    } = h;\n  if (null == d && (d = r.Loop), !0 === h.reverseAnimation && (t = n(t)), null != h.duration && (t = o(t, e(1e3 * h.duration))), null != h.repeatDelay) {\n    const i = 1e3 * h.repeatDelay;\n    d === r.Loop ? t = m(t, e(i)) : d === r.Oscillate && (t = s(m(t, e(i / 2)), e(i / 2)));\n  }\n  if (null != h.startTimeOffset) l = e(1e3 * h.startTimeOffset);else if (null != h.randomizeStartTime) {\n    const r = 82749913,\n      n = null != h.randomizeStartSeed ? h.randomizeStartSeed : r,\n      o = i(c, n);\n    l = e(o * a(t));\n  } else l = e(0);\n  return new u(t, l, d, f);\n}\nfunction c(e, r, i, a) {\n  const n = null == r.playAnimation || r.playAnimation,\n    o = h(e, r, i, a);\n  let s,\n    m = o.timeToFrame;\n  function u() {\n    s = n ? setTimeout(() => {\n      o.nextFrame(), m = o.timeToFrame, u();\n    }, m) : void 0;\n  }\n  return u(), t(() => n && clearTimeout(s));\n}\nexport { u as Player, o as adjustDuration, m as appendDelay, h as createPlayer, a as getDuration, c as play, s as prependDelay, n as reverse };","map":{"version":3,"names":["makeHandle","t","Milliseconds","e","AnimatedSymbolRepeatType","r","getRandomValue","i","a","frameDurations","reduce","n","width","height","reverse","length","getFrame","frameCount","duration","o","s","map","slice","shift","unshift","m","pop","push","u","constructor","_animation","_repeatType","_onFrameData","_direction","_currentFrame","timeToFrame","nextFrame","None","Loop","Oscillate","h","c","f","l","repeatType","d","reverseAnimation","repeatDelay","startTimeOffset","randomizeStartTime","randomizeStartSeed","playAnimation","setTimeout","clearTimeout","Player","adjustDuration","appendDelay","createPlayer","getDuration","play","prependDelay"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/animatedFormats/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../../core/handleUtils.js\";import{Milliseconds as e}from\"../../../../../core/time.js\";import{AnimatedSymbolRepeatType as r}from\"../../../../../symbols/cim/enums.js\";import{getRandomValue as i}from\"../grouping.js\";function a(t){return e(t.frameDurations.reduce(((t,e)=>t+e),0))}function n(t){const{width:e,height:r}=t,i=t.frameDurations.reverse(),a=e=>{const r=t.frameDurations.length-1-e;return t.getFrame(r)};return{frameCount:t.frameCount,duration:t.duration,frameDurations:i,getFrame:a,width:e,height:r}}function o(t,r){const{width:i,height:a,getFrame:n}=t,o=r/t.duration,s=t.frameDurations.map((t=>e(t*o)));return{frameCount:t.frameCount,duration:t.duration,frameDurations:s,getFrame:n,width:i,height:a}}function s(t,r){const{width:i,height:a,getFrame:n}=t,o=t.frameDurations.slice(),s=o.shift();return o.unshift(e(s+r)),{frameCount:t.frameCount,duration:t.duration+r,frameDurations:o,getFrame:n,width:i,height:a}}function m(t,r){const{width:i,height:a,getFrame:n}=t,o=t.frameDurations.slice(),s=o.pop();return o.push(e(s+r)),{frameCount:t.frameCount,duration:t.duration+r,frameDurations:o,getFrame:n,width:i,height:a}}class u{constructor(t,e,r,i){this._animation=t,this._repeatType=r,this._onFrameData=i,this._direction=1,this._currentFrame=0,this.timeToFrame=this._animation.frameDurations[this._currentFrame];let a=0;for(;e>a;)a+=this.timeToFrame,this.nextFrame();const n=this._animation.getFrame(this._currentFrame);this._onFrameData(n)}nextFrame(){if(this._currentFrame+=this._direction,this._direction>0){if(this._currentFrame===this._animation.frameDurations.length)switch(this._repeatType){case r.None:this._currentFrame-=this._direction;break;case r.Loop:this._currentFrame=0;break;case r.Oscillate:this._currentFrame-=this._direction,this._direction=-1}}else if(-1===this._currentFrame)switch(this._repeatType){case r.None:this._currentFrame-=this._direction;break;case r.Loop:this._currentFrame=this._animation.frameDurations.length-1;break;case r.Oscillate:this._currentFrame-=this._direction,this._direction=1}this.timeToFrame=this._animation.frameDurations[this._currentFrame];const t=this._animation.getFrame(this._currentFrame);this._onFrameData(t)}}function h(t,h,c,f){let l,{repeatType:d}=h;if(null==d&&(d=r.Loop),!0===h.reverseAnimation&&(t=n(t)),null!=h.duration&&(t=o(t,e(1e3*h.duration))),null!=h.repeatDelay){const i=1e3*h.repeatDelay;d===r.Loop?t=m(t,e(i)):d===r.Oscillate&&(t=s(m(t,e(i/2)),e(i/2)))}if(null!=h.startTimeOffset)l=e(1e3*h.startTimeOffset);else if(null!=h.randomizeStartTime){const r=82749913,n=null!=h.randomizeStartSeed?h.randomizeStartSeed:r,o=i(c,n);l=e(o*a(t))}else l=e(0);return new u(t,l,d,f)}function c(e,r,i,a){const n=null==r.playAnimation||r.playAnimation,o=h(e,r,i,a);let s,m=o.timeToFrame;function u(){s=n?setTimeout((()=>{o.nextFrame(),m=o.timeToFrame,u()}),m):void 0}return u(),t((()=>n&&clearTimeout(s)))}export{u as Player,o as adjustDuration,m as appendDelay,h as createPlayer,a as getDuration,c as play,s as prependDelay,n as reverse};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}