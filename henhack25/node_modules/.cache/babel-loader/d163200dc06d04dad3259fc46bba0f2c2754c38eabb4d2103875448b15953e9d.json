{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../../core/Accessor.js\";\nimport { removeUnordered as i } from \"../../../../../core/arrayUtils.js\";\nimport { unitRGBAFromColor as n } from \"../../../../../core/colorUtils.js\";\nimport \"../../../../../core/has.js\";\nimport a from \"../../../../../core/Evented.js\";\nimport o from \"../../../../../core/Handles.js\";\nimport { handlesGroup as s, makeHandle as r, destroyHandle as l } from \"../../../../../core/handleUtils.js\";\nimport { destroyMaybe as p, removeMaybe as d } from \"../../../../../core/maybe.js\";\nimport { watch as h, initial as u, on as c, syncAndInitial as m, when as f, sync as g } from \"../../../../../core/reactiveUtils.js\";\nimport { property as _ } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport { subclass as v } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { IDENTITY as M } from \"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { l as b, d as x, m as E, i as O, g as y, h as j } from \"../../../../../chunks/vec32.js\";\nimport { fromValues as I, create as S } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { UpdatingHandles as H } from \"../../../../../core/support/UpdatingHandles.js\";\nimport w from \"../../../../../geometry/Point.js\";\nimport V from \"../../../../../geometry/Polyline.js\";\nimport T from \"../../../../../geometry/SpatialReference.js\";\nimport { makeDehydratedPoint as A } from \"../../../../../layers/graphics/dehydratedPoint.js\";\nimport { isVolumetricSymbol as G } from \"../../../../../symbols/support/utils.js\";\nimport { Manipulator3D as D } from \"../../Manipulator3D.js\";\nimport { createManipulatorMaterial as P, createManipulatorOutlineMaterial as L, placeAtObject as C } from \"../../manipulatorUtils.js\";\nimport { RenderObject as N } from \"../../RenderObject.js\";\nimport { SegmentLabels3D as U } from \"../../SegmentLabels3D.js\";\nimport { SnappingVisualizer3D as k } from \"../../SnappingVisualizer3D.js\";\nimport { screenToMapXYAtLocation as R, screenToRenderPlaneFromEvent as z, convertToMapCoordinates as F } from \"../dragEventPipeline3D.js\";\nimport { orientation as Z } from \"../geometryUtils.js\";\nimport { ManipulatorType as X } from \"../ManipulatorType.js\";\nimport { canMoveZOperations as Y } from \"../manipulatorUtils.js\";\nimport { Settings as q } from \"../settings.js\";\nimport { createVisualElements as B } from \"../visualElementUtils.js\";\nimport { discRadiusSmall as W } from \"../manipulations/config.js\";\nimport { ManipulationType as K, MoveManipulation as J } from \"../manipulations/MoveManipulation.js\";\nimport { MoveXYObjectManipulation as Q } from \"../manipulations/MoveXYObjectManipulation.js\";\nimport { getMapPointAtEdgeOffsetManipulatorElevation as $, createEdgeOffsetIntersectionPlane as ee, createEdgeOffsetOperation as te, edgeOffsetRotationMatrix as ie, screenEdgeLengthSquared as ne, getDistanceInGeometrySR as ae } from \"./edgeOffsetUtils.js\";\nimport { createTooltipInfos as oe, connectTooltipToManipulatedObject as se, getUpdatedTranslateObjectTooltipInfo as re, getUpdatedEdgeOffsetTooltipInfo as le } from \"./reshapeTooltipUtils3D.js\";\nimport { OutlineVisualElement as pe } from \"../../visualElements/OutlineVisualElement.js\";\nimport { createExtrudedTriangle as de, createSphereGeometry as he } from \"../../../webgl-engine/lib/GeometryUtil.js\";\nimport { MouseButton as ue } from \"../../../../input/IViewEvents.js\";\nimport { sceneSnappingAtLocation as ce, addMapDelta as me, createManipulatorDragEventPipeline as fe, dragAtLocation as ge, addScreenDelta as _e } from \"../../../../interactive/dragEventPipeline.js\";\nimport { ManipulatorStateCustomFlags as ve, ManipulatorStateFlags as Me } from \"../../../../interactive/interfaces.js\";\nimport { tooltipKeys as be } from \"../../../../interactive/keybindings.js\";\nimport { AccumulationBehavior as xe } from \"../../../../interactive/editGeometry/interfaces.js\";\nimport { SnappingContext as Ee } from \"../../../../interactive/snapping/SnappingContext.js\";\nimport { createSnapDragEventPipelineStep as Oe } from \"../../../../interactive/snapping/SnappingDragPipelineStep.js\";\nimport { makeTooltip as ye, enterInputModeIfAvailable as je } from \"../../../../interactive/tooltip/tooltipCommonUtils.js\";\nconst Ie = Symbol();\nlet Se = class extends t {\n  get _operations() {\n    return this.object.operations;\n  }\n  constructor(e) {\n    super(e), this._selectedIndex = 0, this._manipulatorHandles = new o(), this._manipulatorInfos = [], this._numGrabbing = 0, this._numDragging = 0, this._reshapeEventState = Ce.NONE, this._pendingEdgeOffsetInfo = null, this._updatingHandles = new H(), this._recreatingManipulators = !1, this._settings = new q({\n      getTheme: () => this.view.effectiveTheme\n    }), this.events = new a(), this.activeTooltipInfo = null, this._vertexLaserLineVisualElement = null, this._tooltipCallbacks = {\n      onBeforeReshape: () => this.tool.endDrag(),\n      onReshapeStart: () => this._updateEventState(Ce.RESHAPING),\n      onReshape: () => this.events.emit(\"reshape\", {\n        type: \"reshape\",\n        object: this.object\n      }),\n      onReshapeStop: () => this._updateEventState(Ce.NONE, {\n        forceEnd: !0\n      }),\n      onMoveStart: () => this._updateEventState(Ce.MOVING),\n      onMove: () => this.events.emit(\"move\", {\n        type: \"move\",\n        object: this.object,\n        dx: 0,\n        dy: 0\n      }),\n      onMoveStop: () => this._updateEventState(Ce.NONE, {\n        forceEnd: !0\n      })\n    };\n  }\n  initialize() {\n    const {\n        view: e\n      } = this,\n      t = this._settings.manipulators,\n      i = t.vertex;\n    this.tooltipInfos = oe(this._sketchOptions, e), this._vertexManipulatorMaterial = P(n(i.color), i.renderOccluded), this._vertexManipulatorOutlineMaterial = L(n(i.outlineColor), i.renderOccluded), this._vertexManipulatorHoverOutlineMaterial = L(n(i.hoverOutlineColor), i.renderOccluded);\n    const a = t.edge;\n    this._edgeManipulatorMaterial = P(n(a.color), a.renderOccluded), this._edgeManipulatorOutlineMaterial = L(n(a.outlineColor), a.renderOccluded);\n    const o = t.edgeOffset;\n    this._edgeOffsetManipulatorMaterial = P(n(o.color), o.renderOccluded, !1), this._edgeOffsetManipulatorHoverMaterial = P(n(o.hoverColor), o.renderOccluded, !1);\n    const s = t.selected;\n    this._selectedManipulatorMaterial = P(n(s.color), s.renderOccluded), this._selectedManipulatorOutlineMaterial = L(n(s.outlineColor), s.renderOccluded), this._selectedManipulatorHoverOutlineMaterial = L(n(s.hoverOutlineColor), s.renderOccluded), this.tooltip = ye(() => ({\n      view: e,\n      options: this._sketchOptions.tooltips\n    })), this.addHandles([h(() => {\n      const e = this._settings.manipulators;\n      return {\n        vertexSettings: e.vertex,\n        edgeSettings: e.edge,\n        edgeOffsetSettings: e.edgeOffset,\n        selectedSettings: e.selected\n      };\n    }, ({\n      vertexSettings: e,\n      edgeSettings: t,\n      edgeOffsetSettings: i,\n      selectedSettings: n\n    }) => {\n      e.applyColor(this._vertexManipulatorMaterial), e.applyOutline(this._vertexManipulatorOutlineMaterial), e.applyHoverOutline(this._vertexManipulatorHoverOutlineMaterial), t.applyColor(this._edgeManipulatorMaterial), t.applyOutline(this._edgeManipulatorOutlineMaterial), i.applyColor(this._edgeOffsetManipulatorMaterial), i.applyHover(this._edgeOffsetManipulatorHoverMaterial), n.applyColor(this._selectedManipulatorMaterial), n.applyOutline(this._selectedManipulatorOutlineMaterial), n.applyHoverOutline(this._selectedManipulatorHoverOutlineMaterial);\n    }), h(() => this.object.visible, e => {\n      for (const t of this._manipulatorInfos) t.manipulator.available = e, Ae(t) && (t.edgeManipulator.available = e);\n    }), h(() => this._numGrabbing + this._numDragging === 0, e => this._toggleAutoHideManipulators(e)), h(() => ({\n      labels: this._segmentLabels,\n      enabled: this._sketchOptions.labels.enabled,\n      edgeOffsetEnabled: this.enableEdgeOffset\n    }), ({\n      labels: e,\n      enabled: t,\n      edgeOffsetEnabled: i\n    }) => {\n      null != e && (e.visible = t, e.edgeDistance = i ? \"far\" : \"default\");\n    }, u), se(this.tooltip, this.object, () => this._tooltipsContext), h(() => this.tooltip.mode, (e, t) => {\n      \"input\" === t && \"input\" !== e && this._resetTooltip();\n    }), c(() => this._operations, \"vertex-update\", e => this._updateManipulatorPositions(e.vertices), {\n      onListenerAdd: () => this._recreateManipulators()\n    }), c(() => this._operations?.data, \"change\", e => {\n      \"undo\" !== e.operation && \"redo\" !== e.operation || this._recreateManipulators();\n    })]);\n  }\n  destroy() {\n    this._removeManipulators(), this._updatingHandles.destroy(), this._segmentLabels = p(this._segmentLabels), this.tooltip = p(this.tooltip);\n  }\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get manipulators() {\n    return this.tool.manipulators;\n  }\n  get view() {\n    return this.tool.view;\n  }\n  get object() {\n    return this.tool.object;\n  }\n  get enableZShape() {\n    return this.tool.enableZShape;\n  }\n  get enableDeleteVertices() {\n    return this.tool.enableDeleteVertices;\n  }\n  get enableZVertex() {\n    return this.tool.enableZVertex;\n  }\n  get autoHideManipulators() {\n    return this.tool.autoHideManipulators;\n  }\n  get enableMoveObject() {\n    return this.tool.enableMoveObject;\n  }\n  get enableMidpoints() {\n    return this.tool.enableMidpoints;\n  }\n  get enableEdgeOffset() {\n    return this.tool.enableEdgeOffset;\n  }\n  get _sketchOptions() {\n    return this.tool.sketchOptions;\n  }\n  get _accentColor() {\n    return this.view.effectiveTheme.accentColor;\n  }\n  enterInputModeIfAvailable(e) {\n    return \"key-down\" === e.type && e.key === be.enterInputMode && (\"reshape-edge-offset\" === this.activeTooltipInfo?.type ? this._enterInputModeDuringEdgeOffset(e) : !!je(e, this.tooltip) && (this.tool.endDrag(), !0));\n  }\n  removeSelectedVertices() {\n    const e = this._manipulatorInfos.filter(e => e.manipulator.selected && \"vertex\" === e.type);\n    return this._removeVertices(e), e.length;\n  }\n  onManipulatorSelectionChanged() {\n    this.events.emit(\"manipulators-changed\");\n  }\n  _removeManipulators() {\n    this._manipulatorHandles.removeAll(), this._moveManipulation = p(this._moveManipulation), this._objectMoveManipulation = p(this._objectMoveManipulation), this.manipulators.removeAll(), this._manipulatorInfos = [], this._numGrabbing = 0, this._numDragging = 0;\n  }\n  _createManipulators(e) {\n    if (null == this._operations) return;\n    const t = this.object.elevationInfo;\n    for (const i of this._operations.data.components) {\n      const n = e?.byComponentIndex.get(i.index);\n      for (const e of i.vertices) {\n        const i = n?.has(e.index);\n        this._createVertexOrEdgeManipulator(e, t, i);\n      }\n      for (const e of i.edges) this._createVertexOrEdgeManipulator(e, t);\n    }\n    this._createObjectMoveManipulation(), this._createMoveManipulation(t), this._createVisualElements();\n  }\n  get canRedo() {\n    return null != this._operations && this._operations.canRedo;\n  }\n  get canUndo() {\n    return null != this._operations && this._operations.canUndo;\n  }\n  redo() {\n    return this._operations?.redo();\n  }\n  undo() {\n    return this.events.emit(\"undo\"), this._operations?.undo();\n  }\n  _recreateManipulators() {\n    if (!this._recreatingManipulators) {\n      if (this._recreatingManipulators = !0, this._removeManipulators(), this._resetTooltip(), this._operations && this._segmentLabels?.context?.editGeometryOperations === this._operations || (this._segmentLabels = p(this._segmentLabels)), this._createManipulators(), !this._segmentLabels && this._operations) {\n        const e = this._sketchOptions.labels;\n        this._segmentLabels = new U({\n          context: {\n            view: this.view,\n            editGeometryOperations: this._operations,\n            elevationInfo: this.object.elevationInfo,\n            labelOptions: e\n          },\n          visible: e.enabled\n        });\n      }\n      this._recreatingManipulators = !1;\n    }\n  }\n  _perObjectManipulatorDragAction(e, t) {\n    if (\"end\" === t.action) return t;\n    let i = 0;\n    const n = [],\n      a = this._manipulatorInfos.some(e => \"vertex\" === e.type && e.manipulator.selected),\n      o = e === Ne.SELECTED_OR_ALL && a;\n    for (const s of this._manipulatorInfos) \"vertex\" === s.type && (s.manipulator.grabbing || o && !s.manipulator.selected || n.push(s), i++);\n    this._moveVertices(n, t);\n    if (n.length === i) {\n      if (this._updateEventState(Ce.MOVING), this.destroyed) return t;\n      this.events.emit(\"move\", {\n        type: \"move\",\n        dx: t.screenDeltaX,\n        dy: t.screenDeltaY,\n        object: this.object\n      });\n    } else {\n      if (this._updateEventState(Ce.RESHAPING), this.destroyed) return t;\n      this.events.emit(\"reshape\", {\n        type: \"reshape\",\n        object: this.object\n      });\n    }\n    return t;\n  }\n  _toggleAutoHideManipulators(e) {\n    this.autoHideManipulators && (e ? this.removeHandles(Ie) : this.tool.manipulators.forEach(({\n      manipulator: e\n    }) => {\n      const t = e.disableDisplay?.();\n      t && this.addHandles(t, Ie);\n    }));\n  }\n  _isMultiVertexSelection() {\n    return this._manipulatorInfos.reduce((e, t) => \"vertex\" === t.type && t.manipulator.selected ? e + 1 : e, 0) > 1;\n  }\n  _perVertexManipulatorDragAction(e) {\n    if (this._updateEventState(Ce.RESHAPING), this.destroyed) return;\n    const {\n      mapDeltaX: t,\n      mapDeltaY: i,\n      mapDeltaZ: n\n    } = e;\n    if (!t && !i && !n) return;\n    const a = [];\n    for (const o of this._manipulatorInfos) \"vertex\" === o.type && (o.manipulator.selected && !o.manipulator.grabbing || o === e.info) && a.push(o);\n    this._moveVertices(a, e, xe.ACCUMULATE_STEPS), this.events.emit(\"reshape\", {\n      type: \"reshape\",\n      object: this.object\n    });\n  }\n  _updateEventState(e, t = {}) {\n    if (e === this._reshapeEventState) return !1;\n    switch (e) {\n      case Ce.NONE:\n        if (!t.forceEnd && (0 !== this._numGrabbing || 0 !== this._numDragging)) return !1;\n        switch (this._reshapeEventState) {\n          case Ce.MOVING:\n            this.events.emit(\"move\", {\n              type: \"move-stop\",\n              dx: 0,\n              dy: 0,\n              object: this.object\n            });\n            break;\n          case Ce.RESHAPING:\n            this.events.emit(\"reshape\", {\n              type: \"reshape-stop\",\n              object: this.object\n            });\n        }\n        break;\n      case Ce.MOVING:\n        switch (this._reshapeEventState) {\n          case Ce.NONE:\n            this.events.emit(\"move\", {\n              type: \"move-start\",\n              dx: 0,\n              dy: 0,\n              object: this.object\n            });\n            break;\n          case Ce.RESHAPING:\n            this.events.emit(\"reshape\", {\n              type: \"reshape-stop\",\n              object: this.object\n            }), this.destroyed || this.events.emit(\"move\", {\n              type: \"move-start\",\n              dx: 0,\n              dy: 0,\n              object: this.object\n            });\n        }\n        break;\n      case Ce.RESHAPING:\n        switch (this._reshapeEventState) {\n          case Ce.NONE:\n            this.events.emit(\"reshape\", {\n              type: \"reshape-start\",\n              object: this.object\n            });\n            break;\n          case Ce.MOVING:\n            this.events.emit(\"move\", {\n              type: \"move-stop\",\n              dx: 0,\n              dy: 0,\n              object: this.object\n            }), this.destroyed || this.events.emit(\"reshape\", {\n              type: \"reshape-start\",\n              object: this.object\n            });\n        }\n    }\n    if (this.destroyed) return !1;\n    const i = this._reshapeEventState !== e;\n    return this._reshapeEventState = e, i;\n  }\n  _createObjectMoveManipulation() {\n    const {\n      tool: e,\n      view: t,\n      object: i,\n      _operations: n\n    } = this;\n    if (n) {\n      if (this._objectMoveManipulation = new Q({\n        tool: e,\n        view: t,\n        object: i\n      }), this.enableMoveObject) {\n        let e = null;\n        this._manipulatorHandles.add(this._objectMoveManipulation.createDragPipeline((t, i, a) => {\n          i.next(e => this._trackNumDragging(e)).next(t => (\"start\" === t.action && (e = n.createUndoGroup()), t)).next(e => this._perObjectManipulatorDragAction(Ne.ALL, e)).next(e => (this._updateTranslateObjectTooltip(K.XY, e), e)).next(t => {\n            \"end\" === t.action && (this._resetTooltip(), e = d(e));\n          }), a.next(() => this._onDragCancel(!0, () => e = d(e)));\n        })), this._objectMoveManipulation.forEachManipulator(e => this._manipulatorHandles.add(this._watchAndUpdateGrabState(e, !1)));\n      } else this._objectMoveManipulation.forEachManipulator(e => {\n        e.grabbable = !1, e.cursor = null;\n      });\n      this._objectMoveManipulation.forEachManipulator(e => this._manipulatorHandles.add(e.events.on(\"immediate-click\", e => {\n        this._manipulatorInfos.some(e => e.manipulator.selected) ? this._clearSelection() : this.events.emit(\"immediate-click\", {\n          ...e,\n          object: this.object\n        }), e.stopPropagation();\n      })));\n    }\n  }\n  _createMoveManipulation(e) {\n    const {\n      object: t,\n      tool: i,\n      view: n,\n      _operations: a\n    } = this;\n    if (!a) return;\n    this._moveManipulation = new J({\n      tool: i,\n      view: n,\n      xyAvailable: !0,\n      xyAxisAvailable: !0,\n      zAvailable: this.enableZShape && Y(t.operations, t.elevationInfo),\n      snapToScene: !1,\n      radius: J.radiusForSymbol(t.graphic?.symbol)\n    }), this._moveManipulation.forEachManipulator(e => this.addHandles([e.events.on(\"immediate-click\", t => {\n      this._moveManipulation.zManipulation.hasManipulator(e) || this._manipulatorInfos.some(e => e.manipulator.selected) || this.events.emit(\"immediate-click\", {\n        ...t,\n        object: this.object\n      }), t.stopPropagation();\n    }), this._watchAndUpdateGrabState(e, !1)]));\n    const o = e => t => {\n      this.addHandles([t.events.on(\"focus-changed\", ({\n        action: t\n      }) => {\n        \"focus\" === t ? this._updateTranslateTooltip(e) : this._resetTooltip();\n      })]);\n    };\n    this._moveManipulation.xyManipulation.forEachManipulator(o(K.XY)), this._moveManipulation.xyAxisManipulation.forEachManipulator(o(K.XY_AXIS)), this._moveManipulation.zManipulation.forEachManipulator(o(K.Z)), this._moveManipulation.elevationInfo = {\n      mode: \"absolute-height\",\n      offset: 0\n    };\n    const s = a.data.spatialReference;\n    this.addHandles([this._moveManipulation.createDragPipeline((n, o, s, r, l) => {\n      const {\n        snappingStep: p,\n        cancelSnapping: d\n      } = Oe({\n        predicate: e => !!e.info,\n        snappingManager: i.snappingManager,\n        snappingContext: new Ee({\n          editGeometryOperations: a,\n          elevationInfo: e,\n          pointer: l,\n          excludeFeature: t.graphic,\n          visualizer: new k()\n        }),\n        updatingHandles: this._updatingHandles,\n        useZ: !1\n      });\n      return r = r.next(e => (this._onDragCancel(), e)).next(d), {\n        steps: s = s.next(e => this._trackNumDragging(e)).next(e => {\n          const t = this._manipulatorInfos.filter(e => \"vertex\" === e.type && e.manipulator.selected);\n          return e.manipulatorType === X.TRANSLATE_XY && 1 === t.length ? {\n            ...e,\n            info: t[0],\n            snapOrigin: t[0].handle.pos\n          } : e;\n        }).next(ce(this.view, e, t.graphic ?? void 0)).next(...p).next(me()).next(e => this._perObjectManipulatorDragAction(Ne.SELECTED_OR_ALL, e)).next(e => (this._updateTranslateTooltip(n, e), e)),\n        cancel: r\n      };\n    }, e, s, t.graphic), h(() => t.visible, () => this._updateMoveManipulationPosition(), u), t.on(\"committed\", () => {\n      this._recreatingManipulators || this._updateMoveManipulationPosition();\n    }), h(() => t.isDraped, e => {\n      this._updateMoveManipulationPosition();\n      const t = \"align-move-manipulation\";\n      e ? this.addHandles(this.view.elevationProvider.on(\"elevation-change\", () => this._updateMoveManipulationPosition()), t) : this.removeHandles(t);\n    }, u)]);\n  }\n  _createVisualElements() {\n    const {\n        object: e,\n        view: t\n      } = this,\n      i = B({\n        view: t,\n        object: e,\n        forEachManipulator: e => {\n          if (!this.destroyed && !this._recreatingManipulators) {\n            this._objectMoveManipulation.forEachManipulator(e), this._moveManipulation.forEachManipulator(e);\n            for (const t of this._manipulatorInfos) e(t.manipulator, X.TRANSLATE_XY);\n          }\n        },\n        onManipulatorsChanged: e => this.events.on(\"manipulators-changed\", e)\n      });\n    null != i && (this._outlineVisualElement = i.visualElement instanceof pe ? i.visualElement : null);\n    const n = this._outlineVisualElement;\n    if (null != n) {\n      const t = () => {\n        e.isDraped || this._updateMoveManipulationPosition();\n      };\n      this._manipulatorHandles.add(c(() => n.events, \"attachment-origin-changed\", t, {\n        onListenerAdd: t\n      }));\n    }\n    this._manipulatorHandles.add(i);\n  }\n  _createEdgeOffsetManipulator(e, t = this.object.elevationInfo) {\n    const i = this.view,\n      n = this._operations;\n    if (e.component.vertices.length <= 2 || !n) return null;\n    const a = n.data.spatialReference,\n      o = this._settings.manipulators.edgeOffset,\n      r = o.size / 2,\n      l = r + o.collisionPadding,\n      p = r / l,\n      d = p / 2,\n      h = p * Math.sqrt(3) / 2,\n      {\n        height: u,\n        offset: c\n      } = o,\n      m = this._edgeOffsetManipulatorMaterial;\n    if (!this._edgeOffsetManipulatorGeometryInside) {\n      const e = de(m, h, d, d, u, c);\n      this._edgeOffsetManipulatorGeometryInside = e;\n    }\n    if (!this._edgeOffsetManipulatorGeometryOutside) {\n      const e = de(m, -h, d, d, u, -c);\n      this._edgeOffsetManipulatorGeometryOutside = e;\n    }\n    const f = [new N(this._edgeOffsetManipulatorGeometryInside.instantiate(), Me.Unfocused), new N(this._edgeOffsetManipulatorGeometryInside.instantiate({\n        material: this._edgeOffsetManipulatorHoverMaterial\n      }), Me.Focused), new N(this._edgeOffsetManipulatorGeometryOutside.instantiate(), Me.Unfocused), new N(this._edgeOffsetManipulatorGeometryOutside.instantiate({\n        material: this._edgeOffsetManipulatorHoverMaterial\n      }), Me.Focused)],\n      g = new D({\n        view: i,\n        renderObjects: f,\n        elevationInfo: \"on-the-ground\" !== t.mode || G(this.object.graphic?.symbol) ? {\n          mode: \"absolute-height\",\n          offset: 0\n        } : t,\n        worldOriented: !1,\n        focusMultiplier: 1,\n        radius: l,\n        available: this.object.visible,\n        collisionType: {\n          type: \"disc\",\n          direction: I(0, 0, 1)\n        },\n        collisionPriority: 1,\n        metadata: {\n          deleting: !1\n        },\n        location: Te(a)\n      }),\n      _ = new D({\n        view: i,\n        worldSized: !0,\n        worldOriented: !1,\n        available: this.object.visible,\n        collisionPriority: -10,\n        cursor: this.enableMoveObject ? \"move\" : \"default\",\n        metadata: {\n          deleting: !1\n        },\n        location: Te(a)\n      }),\n      v = {\n        manipulator: g,\n        handle: e,\n        locationUpdateHandle: null,\n        type: \"edge\",\n        selectedIndex: 0,\n        edgeManipulator: _,\n        visibilityHandle: null\n      };\n    this._autoHideEdgeOffsetManipulator(v, o.minSquaredEdgeLength);\n    const M = () => this._updateEdgeOffsetManipulator(v);\n    M(), v.locationUpdateHandle = s([e.leftVertex, e.rightVertex].map(e => {\n      const t = this._getManipulatorInfoFromHandle(e);\n      return t?.manipulator.events.on(\"location-update\", M);\n    }));\n    const b = e => {\n      this._manipulatorInfos.some(e => e.manipulator.selected) ? this._clearSelection() : this.events.emit(\"immediate-click\", {\n        ...e,\n        object: this.object\n      }), e.stopPropagation();\n    };\n    return this._manipulatorHandles.add([v.locationUpdateHandle, this._watchAndUpdateGrabState(g, !0), this._watchAndUpdateGrabState(_, !0), fe(g, this._createEdgeOffsetPipeline(v, t, n)), fe(_, this._createEdgePipeline(v, t, n)), _.events.on(\"immediate-click\", b), g.events.on(\"immediate-click\", b), g.events.on(\"focus-changed\", () => this._resetTooltip()), g.events.on(\"grab-changed\", ({\n      screenPoint: e,\n      action: t\n    }) => {\n      v.grabMapPoint = \"start\" === t ? $(e, this.view, this.object, v) : null;\n    })], g), this._manipulatorInfos.push(v), this.manipulators.addMany([g, _]), this.events.emit(\"manipulators-changed\"), v;\n  }\n  _autoHideEdgeOffsetManipulator(e, t) {\n    const i = e.manipulator,\n      n = e.edgeManipulator,\n      a = () => {\n        e.visibilityHandle = d(e.visibilityHandle);\n        const a = this._getManipulatorInfoFromHandle(e.handle.leftVertex),\n          o = this._getManipulatorInfoFromHandle(e.handle.rightVertex),\n          l = null != a && null != o && ne(a.manipulator.renderLocation, o.manipulator.renderLocation, this.view.state.camera) < t;\n        (!i.focused && !n.focused || l) && (i.grabbable = !l, n.grabbable = !l, e.visibilityHandle = s([i.disableDisplay(), r(() => {\n          i.grabbable = !0, n.grabbable = this.enableMoveObject;\n        })]));\n      };\n    this._manipulatorHandles.add([i.events.on(\"focus-changed\", a), n.events.on(\"focus-changed\", a), r(() => {\n      d(e.visibilityHandle), n.metadata.deleting = !0, this.manipulators.remove(n);\n    })], i), a();\n  }\n  _updateEdgeOffsetManipulator(e) {\n    if (!this._operations) return;\n    this._updateManipulatorPosition(e);\n    const {\n        coordinateHelper: t\n      } = this._operations.data,\n      i = ee(this.view, e.manipulator.elevationAlignedLocation, te(t, e.handle, e.manipulator.elevationInfo)),\n      n = this._getManipulatorInfoFromHandle(e.handle.leftVertex),\n      a = this._getManipulatorInfoFromHandle(e.handle.rightVertex);\n    if (null == n || null == a) return;\n    const o = n.manipulator.renderLocation,\n      s = a.manipulator.renderLocation,\n      r = null != i ? ie(i, o, s) : M;\n    e.manipulator.modelTransform = r, e.edgeManipulator.elevationAlignedLocation = e.manipulator.elevationAlignedLocation, e.edgeManipulator.modelTransform = r;\n    const l = b(x(De, o, s)) / 2;\n    e.edgeManipulator.collisionType = {\n      type: \"line\",\n      paths: [[[-l, 0, 0], [l, 0, 0]]]\n    };\n  }\n  _createEdgePipeline(e, t, i) {\n    return (n, a, o, s) => {\n      if (\"touch\" === s) {\n        this._createEdgeOffsetPipeline(e, t, i)(n, a, o);\n      } else if (this.enableMoveObject) {\n        const e = this.object.graphic,\n          s = i.data.spatialReference,\n          {\n            elevationAlignedLocation: r\n          } = n;\n        a.next(e => this._trackNumDragging(e)).next(ge(this.view, r)).next(R(this.view, r, t, s, e)).next(_e()).next(me()).next(e => this._perObjectManipulatorDragAction(Ne.ALL, e)).next(e => (this._updateTranslateObjectTooltip(K.XY, e), e)).next(e => {\n          \"end\" === e.action && this._resetTooltip();\n        }), o.next(() => this._onDragCancel(!n.metadata.deleting));\n      }\n    };\n  }\n  _createEdgeOffsetPipeline(e, t, i) {\n    return (n, a, o) => {\n      const s = this._pendingEdgeOffsetInfo;\n      if (s?.manipulatorInfo === e && \"drag\" !== s.mode) return void o.execute({\n        action: \"cancel\"\n      });\n      this._clearSelection();\n      const {\n          initializeStep: r,\n          cleanup: l\n        } = this._initializeEdgeOffset(e, t, i, o),\n        p = this._applyEdgeOffsetStep(e);\n      a.next(e => this._trackNumDragging(e)).next(ge(this.view, n.elevationAlignedLocation)).next(r).next(z(this.view)).next(F(this.view, i.data.spatialReference)).next(me()).next(He()).next(e => this._pendingEdgeOffsetInfo ? e : p(e)).next(e => {\n        \"end\" !== e.action || this._pendingEdgeOffsetInfo || l();\n      }), o.next(() => {\n        this._exitEdgeOffsetInputMode(), n.metadata.deleting || (l(), this._onDragCancel());\n      });\n    };\n  }\n  _initializeEdgeOffset(e, t, i, n) {\n    const {\n        view: a,\n        object: o\n      } = this,\n      r = te(i.data.coordinateHelper, e.handle, t),\n      l = i.createUndoGroup(),\n      p = ee(a, e.manipulator.elevationAlignedLocation, r);\n    let h;\n    this._splitEdgesBeforeEdgeOffset(e, r), this._selectEdgeOffsetArrow(e, r);\n    const u = () => {\n        this._cleanEdgeOffsetCollapsedEdges(e, i), h = d(h);\n      },\n      c = this.events.on(\"undo\", u);\n    return h = s([this._initializeEdgeOffsetVisualElement(e, o, t, i), l, c, this._connectEdgeOffsetTooltip(e, r, i, () => {\n      n.execute({\n        action: \"cancel\"\n      });\n    })]), {\n      initializeStep: e => null == r || null == p ? (u(), null) : {\n        ...e,\n        operation: r,\n        plane: p\n      },\n      cleanup: u\n    };\n  }\n  _initializeEdgeOffsetVisualElement(e, t, i, a) {\n    const o = () => new V({\n        paths: [[e.handle.leftVertex.pos, e.handle.rightVertex.pos]],\n        spatialReference: a.data.spatialReference\n      }),\n      r = new pe({\n        view: this.view,\n        isDraped: t.isDraped,\n        geometry: o(),\n        elevationInfo: i,\n        width: this._settings.visualElements.lineObjects.outline.width,\n        attached: !1,\n        isDecoration: !0\n      }),\n      p = s([h(() => ({\n        color: this._accentColor,\n        draped: t.isDraped\n      }), ({\n        color: e,\n        draped: t\n      }) => {\n        r.color = n(e), r.isDraped = t;\n      }, m), t.on(\"committed\", () => {\n        r.geometry = o();\n      }), l(r)]);\n    return r.attached = !0, p;\n  }\n  _applyEdgeOffsetStep(e) {\n    return t => (this.destroyed || null == t.operation || !this._operations || (this._updateEventState(Ce.RESHAPING), null == t.signedDistance ? this._resetTooltip() : ((t.mapDeltaX || t.mapDeltaY || t.mapDeltaZ) && (this._offsetEdge(e, t.operation, t.signedDistance), this.events.emit(\"reshape\", {\n      type: \"reshape\",\n      object: this.object\n    })), this._updateEdgeOffsetTooltip(t))), t);\n  }\n  _cleanEdgeOffsetCollapsedEdges(e, t) {\n    const i = e.handle.leftVertex.leftEdge?.leftVertex,\n      n = e.handle.leftVertex,\n      a = e.handle.rightVertex.rightEdge?.rightVertex,\n      o = e.handle.rightVertex,\n      s = t.data.coordinateHelper,\n      r = this.view.pixelSizeAt(s.vectorToDehydratedPoint(n.pos), s.spatialReference),\n      l = [];\n    if (i && s.distance(i.pos, n.pos) < Pe) {\n      const e = this._getManipulatorInfoFromHandle(n);\n      null != e && l.push(e);\n    }\n    if (s.distance(n.pos, o.pos) < r || a && s.distance(a.pos, o.pos) < Pe) {\n      const e = this._getManipulatorInfoFromHandle(o);\n      null != e && l.push(e);\n    }\n    l.length && this._removeVertices(l);\n  }\n  _enterInputModeDuringEdgeOffset(e) {\n    const t = this._findActiveEdgeOffsetManipulatorInfo();\n    return !!t && !!je(e, this.tooltip) && (t.manipulator.dragging ? (this._pendingEdgeOffsetInfo = {\n      manipulatorInfo: t,\n      mode: \"drag\"\n    }, !0) : (this._clearSelection(), this._pendingEdgeOffsetInfo = {\n      manipulatorInfo: t,\n      mode: \"hover\"\n    }, this._connectEdgeOffsetTooltipOnHover(t), !0));\n  }\n  _exitEdgeOffsetInputMode() {\n    this.tooltip && (this._pendingEdgeOffsetInfo = null, this._resetTooltip(), this.tooltip.exitInputMode());\n  }\n  _findActiveEdgeOffsetManipulatorInfo() {\n    return this._manipulatorInfos.filter(Ae).find(({\n      manipulator: e\n    }) => e.hovering || e.grabbing || e.dragging);\n  }\n  _connectEdgeOffsetTooltipOnHover(e) {\n    const {\n      _operations: t,\n      object: i\n    } = this;\n    if (!t) return;\n    const {\n        elevationInfo: n\n      } = i,\n      a = te(t.data.coordinateHelper, e.handle, n);\n    this._selectEdgeOffsetArrow(e, a), this.addHandles([this._initializeEdgeOffsetVisualElement(e, i, n, t), this._connectEdgeOffsetTooltip(e, a, t, () => {\n      this.removeHandles(a), this._exitEdgeOffsetInputMode();\n    })], a);\n  }\n  _splitEdgesBeforeEdgeOffset(e, t) {\n    if (t.requiresSplitEdgeLeft) {\n      const t = this._getManipulatorInfoFromHandle(e.handle.leftVertex.leftEdge);\n      null != t && this._splitEdgeManipulator(t, 1);\n    }\n    if (t.requiresSplitEdgeRight) {\n      const t = this._getManipulatorInfoFromHandle(e.handle.rightVertex.rightEdge);\n      null != t && this._splitEdgeManipulator(t, 0);\n    }\n  }\n  _selectEdgeOffsetArrow(e, t) {\n    const i = e.grabMapPoint ?? $(this.view.inputManager?.latestPointerLocation, this.view, this.object, e);\n    i && t.selectArrowFromStartPoint(i);\n  }\n  _connectEdgeOffsetTooltip(e, t, i, n) {\n    const a = () => this.tooltipInfos.edgeOffset.distance.actual,\n      o = a => {\n        n(), queueMicrotask(() => {\n          this.view.focus();\n          const n = i.createUndoGroup();\n          this._tooltipCallbacks.onReshapeStart?.(), this._splitEdgesBeforeEdgeOffset(e, t), this._offsetEdge(e, t, ae(a, e.manipulator.location, t, i)), this._tooltipCallbacks.onReshape?.(), this._tooltipCallbacks.onReshapeStop?.(), this._cleanEdgeOffsetCollapsedEdges(e, i), n.remove();\n        });\n      },\n      r = () => {\n        const e = a();\n        null != e ? o(e) : n();\n      };\n    return s([f(() => this.tooltip && !this.tooltip.focused, () => r(), g), this.tooltip.on(\"discard\", n), this.tooltip.on(\"commit\", e => {\n      \"commit-and-exit\" === e.type && r();\n    })]);\n  }\n  _createVertexOrEdgeManipulator(e, t = this.object.elevationInfo, i = !1) {\n    const n = this.view,\n      a = this._operations,\n      o = this._settings;\n    if (!a) return null;\n    const r = a.data.type,\n      l = a.data.spatialReference;\n    if (\"edge\" === e.type) {\n      if (this.enableEdgeOffset) return this._createEdgeOffsetManipulator(e, t);\n      if (!this.enableMidpoints) return null;\n    }\n    if (null == this._vertexManipulatorGeometry || null == this._vertexManipulatorOutlineGeometry) {\n      const {\n        size: e,\n        outlineSize: t\n      } = we(o.manipulators.vertex);\n      this._vertexManipulatorGeometry = he(this._vertexManipulatorMaterial, e, 16, 16), this._vertexManipulatorOutlineGeometry = he(this._vertexManipulatorOutlineMaterial, t, 16, 16);\n    }\n    if (null == this._edgeManipulatorGeometry || null == this._edgeManipulatorOutlineGeometry) {\n      const {\n        size: e,\n        outlineSize: t\n      } = we(o.manipulators.edge);\n      this._edgeManipulatorGeometry = he(this._edgeManipulatorMaterial, e, 16, 16), this._edgeManipulatorOutlineGeometry = he(this._edgeManipulatorOutlineMaterial, t, 16, 16);\n    }\n    const p = \"point\" === r || \"mesh\" === r ? [] : [new N(this._vertexManipulatorGeometry.instantiate(), Le.Vertex | Me.Unselected), new N(this._vertexManipulatorOutlineGeometry.instantiate(), Le.Vertex | Me.Unfocused | Me.Unselected), new N(this._vertexManipulatorOutlineGeometry.instantiate({\n      material: this._vertexManipulatorHoverOutlineMaterial\n    }), Le.Vertex | Me.Focused | Me.Unselected), new N(this._vertexManipulatorGeometry.instantiate({\n      material: this._selectedManipulatorMaterial\n    }), Me.Selected), new N(this._vertexManipulatorOutlineGeometry.instantiate({\n      material: this._selectedManipulatorOutlineMaterial\n    }), Me.Selected | Me.Unfocused), new N(this._vertexManipulatorOutlineGeometry.instantiate({\n      material: this._selectedManipulatorHoverOutlineMaterial\n    }), Me.Selected | Me.Focused)];\n    this.enableMidpoints && p.push(new N(this._edgeManipulatorGeometry.instantiate({\n      material: this._vertexManipulatorMaterial\n    }), Le.Edge | Me.Focused | Me.Unselected), new N(this._edgeManipulatorOutlineGeometry.instantiate({\n      material: this._vertexManipulatorHoverOutlineMaterial\n    }), Le.Edge | Me.Focused | Me.Unselected), new N(this._edgeManipulatorGeometry.instantiate(), Le.Edge | Me.Unfocused | Me.Unselected), new N(this._edgeManipulatorOutlineGeometry.instantiate(), Le.Edge | Me.Unfocused | Me.Unselected));\n    const h = new D({\n      view: n,\n      renderObjects: p,\n      elevationInfo: t,\n      focusMultiplier: 1,\n      touchMultiplier: 1,\n      available: this.object.visible,\n      metadata: {\n        deleting: !1\n      },\n      location: Te(l)\n    });\n    h.selected = i, this._setTypeSpecificManipulatorSettings(h, e, t);\n    const u = \"edge\" === e.type ? {\n      manipulator: h,\n      handle: e,\n      locationUpdateHandle: null,\n      type: \"edge\",\n      selectedIndex: 0\n    } : {\n      manipulator: h,\n      handle: e,\n      type: \"vertex\",\n      selectedIndex: 0\n    };\n    if (this._manipulatorInfos.push(u), this.manipulators.add(h), this._updateManipulatorPosition(u), \"edge\" === u.type) {\n      const e = [];\n      for (const t of [u.handle.leftVertex, u.handle.rightVertex]) {\n        const i = this._getManipulatorInfoFromHandle(t);\n        null != i && e.push(i.manipulator.events.on(\"location-update\", () => this._updateManipulatorPosition(u)));\n      }\n      u.locationUpdateHandle = s(e), this._manipulatorHandles.add(u.locationUpdateHandle, h);\n    }\n    this._manipulatorHandles.add(this._watchAndUpdateGrabState(h, !0), h);\n    const c = fe(h, (e, i, o, s) => {\n      let r = null;\n      const {\n        snappingStep: p,\n        cancelSnapping: h\n      } = Oe({\n        predicate: () => !this._isMultiVertexSelection(),\n        snappingManager: this.tool.snappingManager,\n        snappingContext: new Ee({\n          editGeometryOperations: a,\n          elevationInfo: t,\n          pointer: s,\n          excludeFeature: this.object.graphic,\n          visualizer: new k()\n        }),\n        updatingHandles: this._updatingHandles,\n        useZ: !1\n      });\n      o = o.next(t => (this._onDragCancel(!e.metadata.deleting, () => r = d(r)), t)).next(h);\n      const {\n          elevationAlignedLocation: c\n        } = e,\n        m = this.object.graphic ?? void 0;\n      i.next(e => this._trackNumDragging(e)).next(e => {\n        if (\"start\" === e.action && a && (r = a.createUndoGroup()), \"edge\" === u.type) {\n          const t = this._splitEdgeManipulator(u);\n          return {\n            ...e,\n            info: t,\n            snapOrigin: t.handle.pos\n          };\n        }\n        return {\n          ...e,\n          info: u,\n          snapOrigin: u.handle.pos\n        };\n      }).next(ge(n, c)).next(R(n, c, t, l, m)).next(ce(n, t, m)).next(...p).next(me()).next(e => {\n        this._perVertexManipulatorDragAction(e), \"end\" === e.action && (r = d(r)), this._resetTooltip();\n      });\n    });\n    return this._manipulatorHandles.add([c, h.events.on(\"immediate-click\", e => this._manipulatorClickCallback(e, u)), h.events.on(\"select-changed\", () => {\n      u.selectedIndex = ++this._selectedIndex, this._updateMoveManipulationPosition(), this._resetTooltip();\n    }), h.events.on(\"focus-changed\", () => {\n      this._resetTooltip();\n    })], h), this.events.emit(\"manipulators-changed\"), u;\n  }\n  _trackNumDragging(e) {\n    switch (e.action) {\n      case \"start\":\n        this._numDragging++;\n        break;\n      case \"end\":\n        this._numDragging--;\n    }\n    return e;\n  }\n  _onDragCancel(e = !0, t) {\n    switch (this._numDragging--, e && this.undo(), this.tool.snappingManager?.doneSnapping(), this._resetTooltip(), this._reshapeEventState) {\n      case Ce.NONE:\n        break;\n      case Ce.MOVING:\n        this.events.emit(\"move\", {\n          type: \"move\",\n          dx: 0,\n          dy: 0,\n          object: this.object\n        });\n        break;\n      case Ce.RESHAPING:\n        this.events.emit(\"reshape\", {\n          type: \"reshape\",\n          object: this.object\n        });\n    }\n    t?.(), this.destroyed || this._updateEventState(Ce.NONE);\n  }\n  _setTypeSpecificManipulatorSettings(e, t, i) {\n    const n = this._settings;\n    switch (t.type) {\n      case \"vertex\":\n        {\n          e.state = Le.Vertex, e.selectable = !0, e.cursor = \"move\", e.collisionPriority = 2;\n          const {\n            size: t,\n            collisionPadding: a\n          } = n.manipulators.vertex;\n          e.radius = t / 2 + a, e.elevationInfo = i;\n          const o = this._operations?.data.type;\n          e.interactive = null != o && \"point\" !== o && \"mesh\" !== o;\n          break;\n        }\n      case \"edge\":\n        {\n          e.state = Le.Edge, e.selectable = !1, e.cursor = \"copy\", e.collisionPriority = -1;\n          const {\n            size: t,\n            collisionPadding: a\n          } = n.manipulators.edge;\n          e.radius = t / 2 + a, e.elevationInfo = \"on-the-ground\" !== i.mode || G(this.object.graphic?.symbol) ? {\n            mode: \"absolute-height\",\n            offset: 0\n          } : i;\n          break;\n        }\n    }\n  }\n  _watchAndUpdateGrabState(e, t) {\n    return e.events.on(\"grab-changed\", i => {\n      this._onGrabStateChanged(e, t, i.action, i.pointerType);\n    });\n  }\n  _onGrabStateChanged(e, t, i, n = \"mouse\") {\n    if (!this._recreatingManipulators) {\n      if (\"start\" === i) t && this._updateSelection(e), this._numGrabbing++;else if (this._numGrabbing--, this._updateEventState(Ce.NONE), this.destroyed) return;\n      this._moveManipulation.interactive = !this._numGrabbing, (\"touch\" !== n || this.enableEdgeOffset) && (this._manipulatorInfos.forEach(e => {\n        const {\n            manipulator: t\n          } = e,\n          i = this._operations?.data.type;\n        t.interactive = t.grabbing || !this._numGrabbing && null != i && \"point\" !== i && \"mesh\" !== i, Ae(e) && (e.edgeManipulator.interactive = e.edgeManipulator.grabbing || !this._numGrabbing);\n      }), this._objectMoveManipulation.forEachManipulator(e => {\n        e.interactive = e.grabbing || !this._numGrabbing;\n      }));\n    }\n  }\n  _clearSelection() {\n    for (const e of this._manipulatorInfos) e.manipulator.grabbing || (e.manipulator.selected = !1);\n    this._pendingEdgeOffsetInfo = null;\n  }\n  _updateSelection(e) {\n    e.grabbing && !e.selected && e.selectable && (this._clearSelection(), e.selected = !0, this.events.emit(\"manipulators-changed\"));\n  }\n  _removeManipulator(e) {\n    null != e && (e.manipulator.metadata.deleting = !0, this.manipulators.remove(e.manipulator), this._manipulatorHandles.remove(e.manipulator), i(this._manipulatorInfos, e), this.events.emit(\"manipulators-changed\"), this._resetTooltip());\n  }\n  _getManipulatorInfoFromHandle(e) {\n    if (e) for (const t of this._manipulatorInfos) if (e === t.handle) return t;\n    return null;\n  }\n  _updateManipulatorPositions(e) {\n    for (const t of e) this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(t));\n  }\n  _updateManipulatorPosition(e) {\n    const t = this._operations;\n    if (null != e && t) if (\"vertex\" === e.type) e.manipulator.location = t.data.coordinateHelper.vectorToDehydratedPoint(e.handle.pos, Ge), e.manipulator.grabbing && null != this._vertexLaserLineVisualElement && (this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation = e.manipulator.renderLocation);else if (\"edge\" === e.type) {\n      const i = this._getManipulatorInfoFromHandle(e.handle.leftVertex),\n        n = this._getManipulatorInfoFromHandle(e.handle.rightVertex);\n      if (null == i || null == n) return;\n      const a = i.manipulator,\n        o = n.manipulator;\n      if (\"on-the-ground\" === e.manipulator.elevationInfo?.mode) {\n        const i = a.location,\n          n = o.location,\n          s = .5,\n          r = i.x + s * (n.x - i.x),\n          l = i.y + s * (n.y - i.y),\n          p = i.hasZ && n.hasZ ? 0 : void 0;\n        e.manipulator.location = A(r, l, p, t.data.spatialReference);\n      } else E(De, a.renderLocation, o.renderLocation, .5), e.manipulator.renderLocation = De;\n    }\n  }\n  _splitEdgeManipulator(e, t = .5) {\n    const i = this._operations,\n      n = i.splitEdge(e.handle, t).createdVertex;\n    e.locationUpdateHandle = d(e.locationUpdateHandle);\n    const a = this.object.elevationInfo;\n    let o;\n    this.enableEdgeOffset ? (this._removeManipulator(e), o = this._createVertexOrEdgeManipulator(n)) : (o = e, o.handle = n, o.type = \"vertex\", this._setTypeSpecificManipulatorSettings(e.manipulator, e.handle, a)), n.leftEdge && this._createVertexOrEdgeManipulator(n.leftEdge), n.rightEdge && this._createVertexOrEdgeManipulator(n.rightEdge), this._updateManipulatorPosition(o), this.enableEdgeOffset || this._resetTooltip(), this._updateSelection(e.manipulator);\n    const s = this._updateEventState(Ce.RESHAPING),\n      r = i.data.coordinateHelper.vectorToArray(o.handle.pos),\n      l = i.data.components.indexOf(n.component);\n    return this.events.emit(\"vertex-add\", {\n      type: \"vertex-add\",\n      object: this.object,\n      vertices: [{\n        coordinates: r,\n        componentIndex: l,\n        vertexIndex: n.index\n      }],\n      added: r\n    }), s && this._updateEventState(Ce.NONE), o;\n  }\n  _updateMoveManipulationPosition() {\n    const e = O(De, 0, 0, 0);\n    let t = 0,\n      i = !1,\n      n = null,\n      a = null;\n    for (const r of this._manipulatorInfos) \"vertex\" === r.type && (r.manipulator.selected ? (t++, y(e, e, r.manipulator.renderLocation), null == n || r.selectedIndex > n.selectedIndex ? (a = n, n = r) : (null == a || r.selectedIndex > a.selectedIndex) && (a = r)) : i = !0);\n    const o = this.object,\n      s = this._operations?.data.geometry;\n    if (0 === t) {\n      const e = o.visible && this.enableMoveObject;\n      this._moveManipulation.xyManipulation.available = e, this._moveManipulation.xyAxisManipulation.available = e, this._moveManipulation.xyAxisManipulation.orthogonalAvailable = e, this._moveManipulation.zManipulation.available = e && this.enableZShape && Y(this._operations, o.elevationInfo), this._moveManipulation.angle = Z(s), this._moveManipulation.radius = J.radiusForSymbol(o.graphic?.symbol);\n    } else {\n      const e = o.visible;\n      this._moveManipulation.xyManipulation.available = e, this._moveManipulation.xyAxisManipulation.available = e, this._moveManipulation.zManipulation.available = e && this.enableZVertex && Y(this._operations, this.object.elevationInfo), this._moveManipulation.xyAxisManipulation.orthogonalAvailable = e && 1 !== t;\n      let i = 0;\n      if (null != n) {\n        const e = n.handle.pos,\n          t = null != a ? a.handle.pos : n.handle.leftEdge?.leftVertex ? n.handle.leftEdge.leftVertex.pos : null,\n          o = null == a && n.handle.rightEdge?.rightVertex ? n.handle.rightEdge.rightVertex.pos : null;\n        t && o ? this._moveManipulation.xyAxisManipulation.available = !1 : t ? i = Ve(t, e) : o && (i = Ve(e, o));\n      }\n      this._moveManipulation.angle = i, this._moveManipulation.radius = W;\n    }\n    0 !== t && i ? (j(e, e, 1 / t), Ge.spatialReference = this._operations.data.spatialReference, Ge.hasZ = !0, this.view.renderCoordsHelper.fromRenderCoords(e, Ge), this._moveManipulation.elevationAlignedLocation = Ge) : null == this._outlineVisualElement || this.object.isDraped || null == this._outlineVisualElement.attachmentOrigin ? C(this._moveManipulation, this.object) : this._moveManipulation.elevationAlignedLocation = this._outlineVisualElement.attachmentOrigin;\n  }\n  _removeVertices(e) {\n    const t = new Array(),\n      i = this._operations;\n    if (i) {\n      for (const n of e) {\n        const e = n.handle.component;\n        if (\"vertex\" === n.type && i.canRemoveVertex(e)) {\n          t.push(n.handle), this._removeManipulator(n), this._removeManipulator(this._getManipulatorInfoFromHandle(n.handle.leftEdge)), this._removeManipulator(this._getManipulatorInfoFromHandle(n.handle.rightEdge));\n          const a = i.removeVertices([n.handle]),\n            o = a.removedVertices?.[0].createdEdge;\n          o ? this._createVertexOrEdgeManipulator(o) : this.enableEdgeOffset && e.vertices.length <= 2 && this._removeManipulator(this._getManipulatorInfoFromHandle(e.edges[0]));\n        }\n      }\n      if (t.length > 0) {\n        const e = t.map(e => {\n            const t = i.data.components.indexOf(e.component);\n            return {\n              coordinates: i.data.coordinateHelper.vectorToArray(e.pos),\n              componentIndex: t,\n              vertexIndex: e.index\n            };\n          }),\n          n = this._updateEventState(Ce.RESHAPING);\n        if (this.destroyed) return;\n        if (this.events.emit(\"vertex-remove\", {\n          type: \"vertex-remove\",\n          object: this.object,\n          removed: e.map(e => e.coordinates),\n          vertices: e\n        }), this.destroyed) return;\n        if (n && (this._updateEventState(Ce.NONE), this.destroyed)) return;\n        this._updateMoveManipulationPosition();\n      }\n    }\n  }\n  _moveVertices(e, t, i = \"start\" === t.action ? xe.NEW_STEP : xe.ACCUMULATE_STEPS) {\n    const n = this._operations;\n    if (n) {\n      e.length > 0 && n.moveVertices(e.map(e => e.handle), t.mapDeltaX, t.mapDeltaY, t.mapDeltaZ, i);\n      for (const t of e) this._updateManipulatorPosition(t);\n    }\n  }\n  _offsetEdge(e, t, i) {\n    if (!this._operations) return;\n    const n = t.clone();\n    n.distance = i, this._operations.updateVertices([e.handle.leftVertex, e.handle.rightVertex], n), this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.leftVertex)), this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.rightVertex));\n  }\n  _manipulatorClickCallback(e, t) {\n    e.shiftKey || this._clearSelection(), \"vertex\" === t.type && (t.manipulator.selected = !t.manipulator.selected, this.enableDeleteVertices && e.button === ue.Right && this._removeVertices([t])), \"edge\" === t.type && e.button === ue.Left && this._splitEdgeManipulator(t), e.stopPropagation();\n  }\n  _updateTranslateTooltip(e, t) {\n    null != this._defaultTooltipInfo ? this._resetTooltip() : this._updateTranslateObjectTooltip(e, t);\n  }\n  _updateTranslateObjectTooltip(e, t) {\n    this._pendingEdgeOffsetInfo || (this.activeTooltipInfo = re(e, t, this._tooltipsContext));\n  }\n  _updateEdgeOffsetTooltip(e) {\n    this._pendingEdgeOffsetInfo || (this.activeTooltipInfo = le(this.object, e, this._tooltipsContext));\n  }\n  _resetTooltip() {\n    const e = this.activeTooltipInfo;\n    if (this._pendingEdgeOffsetInfo && \"reshape-edge-offset\" === e?.type) return;\n    let t = null;\n    t = this._pendingEdgeOffsetInfo || null != this._findActiveEdgeOffsetManipulatorInfo() ? le(this.object, null, this._tooltipsContext) : this._defaultTooltipInfo, t !== e && (null != e && null != t && \"input\" === this.tooltip.mode || (this.activeTooltipInfo = t));\n  }\n  get _defaultTooltipInfo() {\n    const e = this._operations?.data.type;\n    switch (e) {\n      case \"polyline\":\n      case \"polygon\":\n        return this._selectedVertexManipulatorInfo ? this.tooltipInfos.selectedVertex : null;\n      case \"point\":\n      case \"mesh\":\n        return this.tooltipInfos.movePoint;\n      default:\n        return null;\n    }\n  }\n  get _selectedVertexManipulatorInfo() {\n    const e = this._manipulatorInfos.filter(e => \"vertex\" === e.type && e.manipulator.selected);\n    return 1 === e.length ? e[0] : null;\n  }\n  get _tooltipsContext() {\n    return {\n      sketchOptions: this._sketchOptions,\n      tooltipInfos: this.tooltipInfos,\n      activeTooltipInfo: this.activeTooltipInfo,\n      selectedVertexManipulatorInfo: this._selectedVertexManipulatorInfo,\n      callbacks: this._tooltipCallbacks\n    };\n  }\n  get test() {}\n};\nfunction He() {\n  return e => {\n    const {\n      operation: t,\n      mapEnd: i\n    } = e;\n    return null == t || null == i ? e : {\n      ...e,\n      signedDistance: t.signedDistanceToPoint(i)\n    };\n  };\n}\nfunction we(e) {\n  const t = e.size / 2,\n    i = t + e.collisionPadding;\n  return {\n    size: t / i,\n    outlineSize: (t + e.outlineSize) / i\n  };\n}\nfunction Ve(e, t) {\n  return Math.atan2(t[1] - e[1], t[0] - e[0]) + Math.PI / 2;\n}\nfunction Te(e) {\n  return new w({\n    x: 0,\n    y: 0,\n    z: 0,\n    spatialReference: e\n  });\n}\nfunction Ae(e) {\n  return \"edge\" === e.type && \"edgeManipulator\" in e;\n}\ne([_()], Se.prototype, \"_numGrabbing\", void 0), e([_()], Se.prototype, \"_numDragging\", void 0), e([_()], Se.prototype, \"_pendingEdgeOffsetInfo\", void 0), e([_()], Se.prototype, \"_operations\", null), e([_()], Se.prototype, \"_segmentLabels\", void 0), e([_({\n  constructOnly: !0\n})], Se.prototype, \"tool\", void 0), e([_()], Se.prototype, \"tooltip\", void 0), e([_()], Se.prototype, \"activeTooltipInfo\", void 0), e([_({\n  readOnly: !0\n})], Se.prototype, \"updating\", null), e([_()], Se.prototype, \"manipulators\", null), e([_()], Se.prototype, \"view\", null), e([_()], Se.prototype, \"object\", null), e([_()], Se.prototype, \"enableZShape\", null), e([_()], Se.prototype, \"enableDeleteVertices\", null), e([_()], Se.prototype, \"enableZVertex\", null), e([_()], Se.prototype, \"autoHideManipulators\", null), e([_()], Se.prototype, \"enableMoveObject\", null), e([_()], Se.prototype, \"enableMidpoints\", null), e([_()], Se.prototype, \"enableEdgeOffset\", null), e([_()], Se.prototype, \"_sketchOptions\", null), e([_()], Se.prototype, \"_accentColor\", null), e([_()], Se.prototype, \"_tooltipsContext\", null), Se = e([v(\"esri.views.3d.interactive.editingTools.reshape.ReshapeOperation\")], Se);\nconst Ge = A(0, 0, void 0, T.WGS84),\n  De = S(),\n  Pe = 1e-6;\nvar Le, Ce, Ne;\n!function (e) {\n  e.Vertex = ve.Custom1, e.Edge = ve.Custom2;\n}(Le || (Le = {})), function (e) {\n  e[e.NONE = 0] = \"NONE\", e[e.MOVING = 1] = \"MOVING\", e[e.RESHAPING = 2] = \"RESHAPING\";\n}(Ce || (Ce = {})), function (e) {\n  e[e.ALL = 0] = \"ALL\", e[e.SELECTED_OR_ALL = 1] = \"SELECTED_OR_ALL\";\n}(Ne || (Ne = {}));\nexport { Se as ReshapeOperation };","map":{"version":3,"names":["_","e","t","removeUnordered","i","unitRGBAFromColor","n","a","o","handlesGroup","s","makeHandle","r","destroyHandle","l","destroyMaybe","p","removeMaybe","d","watch","h","initial","u","on","c","syncAndInitial","m","when","f","sync","g","property","subclass","v","IDENTITY","M","b","x","E","O","y","j","fromValues","I","create","S","UpdatingHandles","H","w","V","T","makeDehydratedPoint","A","isVolumetricSymbol","G","Manipulator3D","D","createManipulatorMaterial","P","createManipulatorOutlineMaterial","L","placeAtObject","C","RenderObject","N","SegmentLabels3D","U","SnappingVisualizer3D","k","screenToMapXYAtLocation","R","screenToRenderPlaneFromEvent","z","convertToMapCoordinates","F","orientation","Z","ManipulatorType","X","canMoveZOperations","Y","Settings","q","createVisualElements","B","discRadiusSmall","W","ManipulationType","K","MoveManipulation","J","MoveXYObjectManipulation","Q","getMapPointAtEdgeOffsetManipulatorElevation","$","createEdgeOffsetIntersectionPlane","ee","createEdgeOffsetOperation","te","edgeOffsetRotationMatrix","ie","screenEdgeLengthSquared","ne","getDistanceInGeometrySR","ae","createTooltipInfos","oe","connectTooltipToManipulatedObject","se","getUpdatedTranslateObjectTooltipInfo","re","getUpdatedEdgeOffsetTooltipInfo","le","OutlineVisualElement","pe","createExtrudedTriangle","de","createSphereGeometry","he","MouseButton","ue","sceneSnappingAtLocation","ce","addMapDelta","me","createManipulatorDragEventPipeline","fe","dragAtLocation","ge","addScreenDelta","_e","ManipulatorStateCustomFlags","ve","ManipulatorStateFlags","Me","tooltipKeys","be","AccumulationBehavior","xe","SnappingContext","Ee","createSnapDragEventPipelineStep","Oe","makeTooltip","ye","enterInputModeIfAvailable","je","Ie","Symbol","Se","_operations","object","operations","constructor","_selectedIndex","_manipulatorHandles","_manipulatorInfos","_numGrabbing","_numDragging","_reshapeEventState","Ce","NONE","_pendingEdgeOffsetInfo","_updatingHandles","_recreatingManipulators","_settings","getTheme","view","effectiveTheme","events","activeTooltipInfo","_vertexLaserLineVisualElement","_tooltipCallbacks","onBeforeReshape","tool","endDrag","onReshapeStart","_updateEventState","RESHAPING","onReshape","emit","type","onReshapeStop","forceEnd","onMoveStart","MOVING","onMove","dx","dy","onMoveStop","initialize","manipulators","vertex","tooltipInfos","_sketchOptions","_vertexManipulatorMaterial","color","renderOccluded","_vertexManipulatorOutlineMaterial","outlineColor","_vertexManipulatorHoverOutlineMaterial","hoverOutlineColor","edge","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","edgeOffset","_edgeOffsetManipulatorMaterial","_edgeOffsetManipulatorHoverMaterial","hoverColor","selected","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","tooltip","options","tooltips","addHandles","vertexSettings","edgeSettings","edgeOffsetSettings","selectedSettings","applyColor","applyOutline","applyHoverOutline","applyHover","visible","manipulator","available","Ae","edgeManipulator","_toggleAutoHideManipulators","labels","_segmentLabels","enabled","edgeOffsetEnabled","enableEdgeOffset","edgeDistance","_tooltipsContext","mode","_resetTooltip","_updateManipulatorPositions","vertices","onListenerAdd","_recreateManipulators","data","operation","destroy","_removeManipulators","updating","enableZShape","enableDeleteVertices","enableZVertex","autoHideManipulators","enableMoveObject","enableMidpoints","sketchOptions","_accentColor","accentColor","key","enterInputMode","_enterInputModeDuringEdgeOffset","removeSelectedVertices","filter","_removeVertices","length","onManipulatorSelectionChanged","removeAll","_moveManipulation","_objectMoveManipulation","_createManipulators","elevationInfo","components","byComponentIndex","get","index","has","_createVertexOrEdgeManipulator","edges","_createObjectMoveManipulation","_createMoveManipulation","_createVisualElements","canRedo","canUndo","redo","undo","context","editGeometryOperations","labelOptions","_perObjectManipulatorDragAction","action","some","Ne","SELECTED_OR_ALL","grabbing","push","_moveVertices","destroyed","screenDeltaX","screenDeltaY","removeHandles","forEach","disableDisplay","_isMultiVertexSelection","reduce","_perVertexManipulatorDragAction","mapDeltaX","mapDeltaY","mapDeltaZ","info","ACCUMULATE_STEPS","add","createDragPipeline","next","_trackNumDragging","createUndoGroup","ALL","_updateTranslateObjectTooltip","XY","_onDragCancel","forEachManipulator","_watchAndUpdateGrabState","grabbable","cursor","_clearSelection","stopPropagation","xyAvailable","xyAxisAvailable","zAvailable","snapToScene","radius","radiusForSymbol","graphic","symbol","zManipulation","hasManipulator","_updateTranslateTooltip","xyManipulation","xyAxisManipulation","XY_AXIS","offset","spatialReference","snappingStep","cancelSnapping","predicate","snappingManager","snappingContext","pointer","excludeFeature","visualizer","updatingHandles","useZ","steps","manipulatorType","TRANSLATE_XY","snapOrigin","handle","pos","cancel","_updateMoveManipulationPosition","isDraped","elevationProvider","onManipulatorsChanged","_outlineVisualElement","visualElement","_createEdgeOffsetManipulator","component","size","collisionPadding","Math","sqrt","height","_edgeOffsetManipulatorGeometryInside","_edgeOffsetManipulatorGeometryOutside","instantiate","Unfocused","material","Focused","renderObjects","worldOriented","focusMultiplier","collisionType","direction","collisionPriority","metadata","deleting","location","Te","worldSized","locationUpdateHandle","selectedIndex","visibilityHandle","_autoHideEdgeOffsetManipulator","minSquaredEdgeLength","_updateEdgeOffsetManipulator","leftVertex","rightVertex","map","_getManipulatorInfoFromHandle","_createEdgeOffsetPipeline","_createEdgePipeline","screenPoint","grabMapPoint","addMany","renderLocation","state","camera","focused","remove","_updateManipulatorPosition","coordinateHelper","elevationAlignedLocation","modelTransform","De","paths","manipulatorInfo","execute","initializeStep","cleanup","_initializeEdgeOffset","_applyEdgeOffsetStep","He","_exitEdgeOffsetInputMode","_splitEdgesBeforeEdgeOffset","_selectEdgeOffsetArrow","_cleanEdgeOffsetCollapsedEdges","_initializeEdgeOffsetVisualElement","_connectEdgeOffsetTooltip","plane","geometry","width","visualElements","lineObjects","outline","attached","isDecoration","draped","signedDistance","_offsetEdge","_updateEdgeOffsetTooltip","leftEdge","rightEdge","pixelSizeAt","vectorToDehydratedPoint","distance","Pe","_findActiveEdgeOffsetManipulatorInfo","dragging","_connectEdgeOffsetTooltipOnHover","exitInputMode","find","hovering","requiresSplitEdgeLeft","_splitEdgeManipulator","requiresSplitEdgeRight","inputManager","latestPointerLocation","selectArrowFromStartPoint","actual","queueMicrotask","focus","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","outlineSize","we","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","Le","Vertex","Unselected","Selected","Edge","touchMultiplier","_setTypeSpecificManipulatorSettings","_manipulatorClickCallback","doneSnapping","selectable","interactive","_onGrabStateChanged","pointerType","_updateSelection","_removeManipulator","Ge","intersectsWorldUpAtLocation","hasZ","splitEdge","createdVertex","vectorToArray","indexOf","coordinates","componentIndex","vertexIndex","added","orthogonalAvailable","angle","Ve","renderCoordsHelper","fromRenderCoords","attachmentOrigin","Array","canRemoveVertex","removeVertices","removedVertices","createdEdge","removed","NEW_STEP","moveVertices","clone","updateVertices","shiftKey","button","Right","Left","_defaultTooltipInfo","_selectedVertexManipulatorInfo","selectedVertex","movePoint","selectedVertexManipulatorInfo","callbacks","test","mapEnd","signedDistanceToPoint","atan2","PI","prototype","constructOnly","readOnly","WGS84","Custom1","Custom2","ReshapeOperation"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/interactive/editingTools/reshape/ReshapeOperation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{removeUnordered as i}from\"../../../../../core/arrayUtils.js\";import{unitRGBAFromColor as n}from\"../../../../../core/colorUtils.js\";import\"../../../../../core/has.js\";import a from\"../../../../../core/Evented.js\";import o from\"../../../../../core/Handles.js\";import{handlesGroup as s,makeHandle as r,destroyHandle as l}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as p,removeMaybe as d}from\"../../../../../core/maybe.js\";import{watch as h,initial as u,on as c,syncAndInitial as m,when as f,sync as g}from\"../../../../../core/reactiveUtils.js\";import{property as _}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import{subclass as v}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{IDENTITY as M}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{l as b,d as x,m as E,i as O,g as y,h as j}from\"../../../../../chunks/vec32.js\";import{fromValues as I,create as S}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as H}from\"../../../../../core/support/UpdatingHandles.js\";import w from\"../../../../../geometry/Point.js\";import V from\"../../../../../geometry/Polyline.js\";import T from\"../../../../../geometry/SpatialReference.js\";import{makeDehydratedPoint as A}from\"../../../../../layers/graphics/dehydratedPoint.js\";import{isVolumetricSymbol as G}from\"../../../../../symbols/support/utils.js\";import{Manipulator3D as D}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as P,createManipulatorOutlineMaterial as L,placeAtObject as C}from\"../../manipulatorUtils.js\";import{RenderObject as N}from\"../../RenderObject.js\";import{SegmentLabels3D as U}from\"../../SegmentLabels3D.js\";import{SnappingVisualizer3D as k}from\"../../SnappingVisualizer3D.js\";import{screenToMapXYAtLocation as R,screenToRenderPlaneFromEvent as z,convertToMapCoordinates as F}from\"../dragEventPipeline3D.js\";import{orientation as Z}from\"../geometryUtils.js\";import{ManipulatorType as X}from\"../ManipulatorType.js\";import{canMoveZOperations as Y}from\"../manipulatorUtils.js\";import{Settings as q}from\"../settings.js\";import{createVisualElements as B}from\"../visualElementUtils.js\";import{discRadiusSmall as W}from\"../manipulations/config.js\";import{ManipulationType as K,MoveManipulation as J}from\"../manipulations/MoveManipulation.js\";import{MoveXYObjectManipulation as Q}from\"../manipulations/MoveXYObjectManipulation.js\";import{getMapPointAtEdgeOffsetManipulatorElevation as $,createEdgeOffsetIntersectionPlane as ee,createEdgeOffsetOperation as te,edgeOffsetRotationMatrix as ie,screenEdgeLengthSquared as ne,getDistanceInGeometrySR as ae}from\"./edgeOffsetUtils.js\";import{createTooltipInfos as oe,connectTooltipToManipulatedObject as se,getUpdatedTranslateObjectTooltipInfo as re,getUpdatedEdgeOffsetTooltipInfo as le}from\"./reshapeTooltipUtils3D.js\";import{OutlineVisualElement as pe}from\"../../visualElements/OutlineVisualElement.js\";import{createExtrudedTriangle as de,createSphereGeometry as he}from\"../../../webgl-engine/lib/GeometryUtil.js\";import{MouseButton as ue}from\"../../../../input/IViewEvents.js\";import{sceneSnappingAtLocation as ce,addMapDelta as me,createManipulatorDragEventPipeline as fe,dragAtLocation as ge,addScreenDelta as _e}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as ve,ManipulatorStateFlags as Me}from\"../../../../interactive/interfaces.js\";import{tooltipKeys as be}from\"../../../../interactive/keybindings.js\";import{AccumulationBehavior as xe}from\"../../../../interactive/editGeometry/interfaces.js\";import{SnappingContext as Ee}from\"../../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as Oe}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{makeTooltip as ye,enterInputModeIfAvailable as je}from\"../../../../interactive/tooltip/tooltipCommonUtils.js\";const Ie=Symbol();let Se=class extends t{get _operations(){return this.object.operations}constructor(e){super(e),this._selectedIndex=0,this._manipulatorHandles=new o,this._manipulatorInfos=[],this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=Ce.NONE,this._pendingEdgeOffsetInfo=null,this._updatingHandles=new H,this._recreatingManipulators=!1,this._settings=new q({getTheme:()=>this.view.effectiveTheme}),this.events=new a,this.activeTooltipInfo=null,this._vertexLaserLineVisualElement=null,this._tooltipCallbacks={onBeforeReshape:()=>this.tool.endDrag(),onReshapeStart:()=>this._updateEventState(Ce.RESHAPING),onReshape:()=>this.events.emit(\"reshape\",{type:\"reshape\",object:this.object}),onReshapeStop:()=>this._updateEventState(Ce.NONE,{forceEnd:!0}),onMoveStart:()=>this._updateEventState(Ce.MOVING),onMove:()=>this.events.emit(\"move\",{type:\"move\",object:this.object,dx:0,dy:0}),onMoveStop:()=>this._updateEventState(Ce.NONE,{forceEnd:!0})}}initialize(){const{view:e}=this,t=this._settings.manipulators,i=t.vertex;this.tooltipInfos=oe(this._sketchOptions,e),this._vertexManipulatorMaterial=P(n(i.color),i.renderOccluded),this._vertexManipulatorOutlineMaterial=L(n(i.outlineColor),i.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=L(n(i.hoverOutlineColor),i.renderOccluded);const a=t.edge;this._edgeManipulatorMaterial=P(n(a.color),a.renderOccluded),this._edgeManipulatorOutlineMaterial=L(n(a.outlineColor),a.renderOccluded);const o=t.edgeOffset;this._edgeOffsetManipulatorMaterial=P(n(o.color),o.renderOccluded,!1),this._edgeOffsetManipulatorHoverMaterial=P(n(o.hoverColor),o.renderOccluded,!1);const s=t.selected;this._selectedManipulatorMaterial=P(n(s.color),s.renderOccluded),this._selectedManipulatorOutlineMaterial=L(n(s.outlineColor),s.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=L(n(s.hoverOutlineColor),s.renderOccluded),this.tooltip=ye((()=>({view:e,options:this._sketchOptions.tooltips}))),this.addHandles([h((()=>{const e=this._settings.manipulators;return{vertexSettings:e.vertex,edgeSettings:e.edge,edgeOffsetSettings:e.edgeOffset,selectedSettings:e.selected}}),(({vertexSettings:e,edgeSettings:t,edgeOffsetSettings:i,selectedSettings:n})=>{e.applyColor(this._vertexManipulatorMaterial),e.applyOutline(this._vertexManipulatorOutlineMaterial),e.applyHoverOutline(this._vertexManipulatorHoverOutlineMaterial),t.applyColor(this._edgeManipulatorMaterial),t.applyOutline(this._edgeManipulatorOutlineMaterial),i.applyColor(this._edgeOffsetManipulatorMaterial),i.applyHover(this._edgeOffsetManipulatorHoverMaterial),n.applyColor(this._selectedManipulatorMaterial),n.applyOutline(this._selectedManipulatorOutlineMaterial),n.applyHoverOutline(this._selectedManipulatorHoverOutlineMaterial)})),h((()=>this.object.visible),(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e,Ae(t)&&(t.edgeManipulator.available=e)})),h((()=>this._numGrabbing+this._numDragging===0),(e=>this._toggleAutoHideManipulators(e))),h((()=>({labels:this._segmentLabels,enabled:this._sketchOptions.labels.enabled,edgeOffsetEnabled:this.enableEdgeOffset})),(({labels:e,enabled:t,edgeOffsetEnabled:i})=>{null!=e&&(e.visible=t,e.edgeDistance=i?\"far\":\"default\")}),u),se(this.tooltip,this.object,(()=>this._tooltipsContext)),h((()=>this.tooltip.mode),((e,t)=>{\"input\"===t&&\"input\"!==e&&this._resetTooltip()})),c((()=>this._operations),\"vertex-update\",(e=>this._updateManipulatorPositions(e.vertices)),{onListenerAdd:()=>this._recreateManipulators()}),c((()=>this._operations?.data),\"change\",(e=>{\"undo\"!==e.operation&&\"redo\"!==e.operation||this._recreateManipulators()}))])}destroy(){this._removeManipulators(),this._updatingHandles.destroy(),this._segmentLabels=p(this._segmentLabels),this.tooltip=p(this.tooltip)}get updating(){return this._updatingHandles.updating}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get object(){return this.tool.object}get enableZShape(){return this.tool.enableZShape}get enableDeleteVertices(){return this.tool.enableDeleteVertices}get enableZVertex(){return this.tool.enableZVertex}get autoHideManipulators(){return this.tool.autoHideManipulators}get enableMoveObject(){return this.tool.enableMoveObject}get enableMidpoints(){return this.tool.enableMidpoints}get enableEdgeOffset(){return this.tool.enableEdgeOffset}get _sketchOptions(){return this.tool.sketchOptions}get _accentColor(){return this.view.effectiveTheme.accentColor}enterInputModeIfAvailable(e){return\"key-down\"===e.type&&e.key===be.enterInputMode&&(\"reshape-edge-offset\"===this.activeTooltipInfo?.type?this._enterInputModeDuringEdgeOffset(e):!!je(e,this.tooltip)&&(this.tool.endDrag(),!0))}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.type));return this._removeVertices(e),e.length}onManipulatorSelectionChanged(){this.events.emit(\"manipulators-changed\")}_removeManipulators(){this._manipulatorHandles.removeAll(),this._moveManipulation=p(this._moveManipulation),this._objectMoveManipulation=p(this._objectMoveManipulation),this.manipulators.removeAll(),this._manipulatorInfos=[],this._numGrabbing=0,this._numDragging=0}_createManipulators(e){if(null==this._operations)return;const t=this.object.elevationInfo;for(const i of this._operations.data.components){const n=e?.byComponentIndex.get(i.index);for(const e of i.vertices){const i=n?.has(e.index);this._createVertexOrEdgeManipulator(e,t,i)}for(const e of i.edges)this._createVertexOrEdgeManipulator(e,t)}this._createObjectMoveManipulation(),this._createMoveManipulation(t),this._createVisualElements()}get canRedo(){return null!=this._operations&&this._operations.canRedo}get canUndo(){return null!=this._operations&&this._operations.canUndo}redo(){return this._operations?.redo()}undo(){return this.events.emit(\"undo\"),this._operations?.undo()}_recreateManipulators(){if(!this._recreatingManipulators){if(this._recreatingManipulators=!0,this._removeManipulators(),this._resetTooltip(),this._operations&&this._segmentLabels?.context?.editGeometryOperations===this._operations||(this._segmentLabels=p(this._segmentLabels)),this._createManipulators(),!this._segmentLabels&&this._operations){const e=this._sketchOptions.labels;this._segmentLabels=new U({context:{view:this.view,editGeometryOperations:this._operations,elevationInfo:this.object.elevationInfo,labelOptions:e},visible:e.enabled})}this._recreatingManipulators=!1}}_perObjectManipulatorDragAction(e,t){if(\"end\"===t.action)return t;let i=0;const n=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.type&&e.manipulator.selected)),o=e===Ne.SELECTED_OR_ALL&&a;for(const s of this._manipulatorInfos)\"vertex\"===s.type&&(s.manipulator.grabbing||o&&!s.manipulator.selected||n.push(s),i++);this._moveVertices(n,t);if(n.length===i){if(this._updateEventState(Ce.MOVING),this.destroyed)return t;this.events.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,object:this.object})}else{if(this._updateEventState(Ce.RESHAPING),this.destroyed)return t;this.events.emit(\"reshape\",{type:\"reshape\",object:this.object})}return t}_toggleAutoHideManipulators(e){this.autoHideManipulators&&(e?this.removeHandles(Ie):this.tool.manipulators.forEach((({manipulator:e})=>{const t=e.disableDisplay?.();t&&this.addHandles(t,Ie)})))}_isMultiVertexSelection(){return this._manipulatorInfos.reduce(((e,t)=>\"vertex\"===t.type&&t.manipulator.selected?e+1:e),0)>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(Ce.RESHAPING),this.destroyed)return;const{mapDeltaX:t,mapDeltaY:i,mapDeltaZ:n}=e;if(!t&&!i&&!n)return;const a=[];for(const o of this._manipulatorInfos)\"vertex\"===o.type&&(o.manipulator.selected&&!o.manipulator.grabbing||o===e.info)&&a.push(o);this._moveVertices(a,e,xe.ACCUMULATE_STEPS),this.events.emit(\"reshape\",{type:\"reshape\",object:this.object})}_updateEventState(e,t={}){if(e===this._reshapeEventState)return!1;switch(e){case Ce.NONE:if(!t.forceEnd&&(0!==this._numGrabbing||0!==this._numDragging))return!1;switch(this._reshapeEventState){case Ce.MOVING:this.events.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,object:this.object});break;case Ce.RESHAPING:this.events.emit(\"reshape\",{type:\"reshape-stop\",object:this.object})}break;case Ce.MOVING:switch(this._reshapeEventState){case Ce.NONE:this.events.emit(\"move\",{type:\"move-start\",dx:0,dy:0,object:this.object});break;case Ce.RESHAPING:this.events.emit(\"reshape\",{type:\"reshape-stop\",object:this.object}),this.destroyed||this.events.emit(\"move\",{type:\"move-start\",dx:0,dy:0,object:this.object})}break;case Ce.RESHAPING:switch(this._reshapeEventState){case Ce.NONE:this.events.emit(\"reshape\",{type:\"reshape-start\",object:this.object});break;case Ce.MOVING:this.events.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,object:this.object}),this.destroyed||this.events.emit(\"reshape\",{type:\"reshape-start\",object:this.object})}}if(this.destroyed)return!1;const i=this._reshapeEventState!==e;return this._reshapeEventState=e,i}_createObjectMoveManipulation(){const{tool:e,view:t,object:i,_operations:n}=this;if(n){if(this._objectMoveManipulation=new Q({tool:e,view:t,object:i}),this.enableMoveObject){let e=null;this._manipulatorHandles.add(this._objectMoveManipulation.createDragPipeline(((t,i,a)=>{i.next((e=>this._trackNumDragging(e))).next((t=>(\"start\"===t.action&&(e=n.createUndoGroup()),t))).next((e=>this._perObjectManipulatorDragAction(Ne.ALL,e))).next((e=>(this._updateTranslateObjectTooltip(K.XY,e),e))).next((t=>{\"end\"===t.action&&(this._resetTooltip(),e=d(e))})),a.next((()=>this._onDragCancel(!0,(()=>e=d(e)))))}))),this._objectMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add(this._watchAndUpdateGrabState(e,!1))))}else this._objectMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null}));this._objectMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add(e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.events.emit(\"immediate-click\",{...e,object:this.object}),e.stopPropagation()})))))}}_createMoveManipulation(e){const{object:t,tool:i,view:n,_operations:a}=this;if(!a)return;this._moveManipulation=new J({tool:i,view:n,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&Y(t.operations,t.elevationInfo),snapToScene:!1,radius:J.radiusForSymbol(t.graphic?.symbol)}),this._moveManipulation.forEachManipulator((e=>this.addHandles([e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.events.emit(\"immediate-click\",{...t,object:this.object}),t.stopPropagation()})),this._watchAndUpdateGrabState(e,!1)])));const o=e=>t=>{this.addHandles([t.events.on(\"focus-changed\",(({action:t})=>{\"focus\"===t?this._updateTranslateTooltip(e):this._resetTooltip()}))])};this._moveManipulation.xyManipulation.forEachManipulator(o(K.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(o(K.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(o(K.Z)),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const s=a.data.spatialReference;this.addHandles([this._moveManipulation.createDragPipeline(((n,o,s,r,l)=>{const{snappingStep:p,cancelSnapping:d}=Oe({predicate:e=>!!e.info,snappingManager:i.snappingManager,snappingContext:new Ee({editGeometryOperations:a,elevationInfo:e,pointer:l,excludeFeature:t.graphic,visualizer:new k}),updatingHandles:this._updatingHandles,useZ:!1});return r=r.next((e=>(this._onDragCancel(),e))).next(d),{steps:s=s.next((e=>this._trackNumDragging(e))).next((e=>{const t=this._manipulatorInfos.filter((e=>\"vertex\"===e.type&&e.manipulator.selected));return e.manipulatorType===X.TRANSLATE_XY&&1===t.length?{...e,info:t[0],snapOrigin:t[0].handle.pos}:e})).next(ce(this.view,e,t.graphic??void 0)).next(...p).next(me()).next((e=>this._perObjectManipulatorDragAction(Ne.SELECTED_OR_ALL,e))).next((e=>(this._updateTranslateTooltip(n,e),e))),cancel:r}}),e,s,t.graphic),h((()=>t.visible),(()=>this._updateMoveManipulationPosition()),u),t.on(\"committed\",(()=>{this._recreatingManipulators||this._updateMoveManipulationPosition()})),h((()=>t.isDraped),(e=>{this._updateMoveManipulationPosition();const t=\"align-move-manipulation\";e?this.addHandles(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),t):this.removeHandles(t)}),u)])}_createVisualElements(){const{object:e,view:t}=this,i=B({view:t,object:e,forEachManipulator:e=>{if(!this.destroyed&&!this._recreatingManipulators){this._objectMoveManipulation.forEachManipulator(e),this._moveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,X.TRANSLATE_XY)}},onManipulatorsChanged:e=>this.events.on(\"manipulators-changed\",e)});null!=i&&(this._outlineVisualElement=i.visualElement instanceof pe?i.visualElement:null);const n=this._outlineVisualElement;if(null!=n){const t=()=>{e.isDraped||this._updateMoveManipulationPosition()};this._manipulatorHandles.add(c((()=>n.events),\"attachment-origin-changed\",t,{onListenerAdd:t}))}this._manipulatorHandles.add(i)}_createEdgeOffsetManipulator(e,t=this.object.elevationInfo){const i=this.view,n=this._operations;if(e.component.vertices.length<=2||!n)return null;const a=n.data.spatialReference,o=this._settings.manipulators.edgeOffset,r=o.size/2,l=r+o.collisionPadding,p=r/l,d=p/2,h=p*Math.sqrt(3)/2,{height:u,offset:c}=o,m=this._edgeOffsetManipulatorMaterial;if(!this._edgeOffsetManipulatorGeometryInside){const e=de(m,h,d,d,u,c);this._edgeOffsetManipulatorGeometryInside=e}if(!this._edgeOffsetManipulatorGeometryOutside){const e=de(m,-h,d,d,u,-c);this._edgeOffsetManipulatorGeometryOutside=e}const f=[new N(this._edgeOffsetManipulatorGeometryInside.instantiate(),Me.Unfocused),new N(this._edgeOffsetManipulatorGeometryInside.instantiate({material:this._edgeOffsetManipulatorHoverMaterial}),Me.Focused),new N(this._edgeOffsetManipulatorGeometryOutside.instantiate(),Me.Unfocused),new N(this._edgeOffsetManipulatorGeometryOutside.instantiate({material:this._edgeOffsetManipulatorHoverMaterial}),Me.Focused)],g=new D({view:i,renderObjects:f,elevationInfo:\"on-the-ground\"!==t.mode||G(this.object.graphic?.symbol)?{mode:\"absolute-height\",offset:0}:t,worldOriented:!1,focusMultiplier:1,radius:l,available:this.object.visible,collisionType:{type:\"disc\",direction:I(0,0,1)},collisionPriority:1,metadata:{deleting:!1},location:Te(a)}),_=new D({view:i,worldSized:!0,worldOriented:!1,available:this.object.visible,collisionPriority:-10,cursor:this.enableMoveObject?\"move\":\"default\",metadata:{deleting:!1},location:Te(a)}),v={manipulator:g,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0,edgeManipulator:_,visibilityHandle:null};this._autoHideEdgeOffsetManipulator(v,o.minSquaredEdgeLength);const M=()=>this._updateEdgeOffsetManipulator(v);M(),v.locationUpdateHandle=s([e.leftVertex,e.rightVertex].map((e=>{const t=this._getManipulatorInfoFromHandle(e);return t?.manipulator.events.on(\"location-update\",M)})));const b=e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.events.emit(\"immediate-click\",{...e,object:this.object}),e.stopPropagation()};return this._manipulatorHandles.add([v.locationUpdateHandle,this._watchAndUpdateGrabState(g,!0),this._watchAndUpdateGrabState(_,!0),fe(g,this._createEdgeOffsetPipeline(v,t,n)),fe(_,this._createEdgePipeline(v,t,n)),_.events.on(\"immediate-click\",b),g.events.on(\"immediate-click\",b),g.events.on(\"focus-changed\",(()=>this._resetTooltip())),g.events.on(\"grab-changed\",(({screenPoint:e,action:t})=>{v.grabMapPoint=\"start\"===t?$(e,this.view,this.object,v):null}))],g),this._manipulatorInfos.push(v),this.manipulators.addMany([g,_]),this.events.emit(\"manipulators-changed\"),v}_autoHideEdgeOffsetManipulator(e,t){const i=e.manipulator,n=e.edgeManipulator,a=()=>{e.visibilityHandle=d(e.visibilityHandle);const a=this._getManipulatorInfoFromHandle(e.handle.leftVertex),o=this._getManipulatorInfoFromHandle(e.handle.rightVertex),l=null!=a&&null!=o&&ne(a.manipulator.renderLocation,o.manipulator.renderLocation,this.view.state.camera)<t;(!i.focused&&!n.focused||l)&&(i.grabbable=!l,n.grabbable=!l,e.visibilityHandle=s([i.disableDisplay(),r((()=>{i.grabbable=!0,n.grabbable=this.enableMoveObject}))]))};this._manipulatorHandles.add([i.events.on(\"focus-changed\",a),n.events.on(\"focus-changed\",a),r((()=>{d(e.visibilityHandle),n.metadata.deleting=!0,this.manipulators.remove(n)}))],i),a()}_updateEdgeOffsetManipulator(e){if(!this._operations)return;this._updateManipulatorPosition(e);const{coordinateHelper:t}=this._operations.data,i=ee(this.view,e.manipulator.elevationAlignedLocation,te(t,e.handle,e.manipulator.elevationInfo)),n=this._getManipulatorInfoFromHandle(e.handle.leftVertex),a=this._getManipulatorInfoFromHandle(e.handle.rightVertex);if(null==n||null==a)return;const o=n.manipulator.renderLocation,s=a.manipulator.renderLocation,r=null!=i?ie(i,o,s):M;e.manipulator.modelTransform=r,e.edgeManipulator.elevationAlignedLocation=e.manipulator.elevationAlignedLocation,e.edgeManipulator.modelTransform=r;const l=b(x(De,o,s))/2;e.edgeManipulator.collisionType={type:\"line\",paths:[[[-l,0,0],[l,0,0]]]}}_createEdgePipeline(e,t,i){return(n,a,o,s)=>{if(\"touch\"===s){this._createEdgeOffsetPipeline(e,t,i)(n,a,o)}else if(this.enableMoveObject){const e=this.object.graphic,s=i.data.spatialReference,{elevationAlignedLocation:r}=n;a.next((e=>this._trackNumDragging(e))).next(ge(this.view,r)).next(R(this.view,r,t,s,e)).next(_e()).next(me()).next((e=>this._perObjectManipulatorDragAction(Ne.ALL,e))).next((e=>(this._updateTranslateObjectTooltip(K.XY,e),e))).next((e=>{\"end\"===e.action&&this._resetTooltip()})),o.next((()=>this._onDragCancel(!n.metadata.deleting)))}}}_createEdgeOffsetPipeline(e,t,i){return(n,a,o)=>{const s=this._pendingEdgeOffsetInfo;if(s?.manipulatorInfo===e&&\"drag\"!==s.mode)return void o.execute({action:\"cancel\"});this._clearSelection();const{initializeStep:r,cleanup:l}=this._initializeEdgeOffset(e,t,i,o),p=this._applyEdgeOffsetStep(e);a.next((e=>this._trackNumDragging(e))).next(ge(this.view,n.elevationAlignedLocation)).next(r).next(z(this.view)).next(F(this.view,i.data.spatialReference)).next(me()).next(He()).next((e=>this._pendingEdgeOffsetInfo?e:p(e))).next((e=>{\"end\"!==e.action||this._pendingEdgeOffsetInfo||l()})),o.next((()=>{this._exitEdgeOffsetInputMode(),n.metadata.deleting||(l(),this._onDragCancel())}))}}_initializeEdgeOffset(e,t,i,n){const{view:a,object:o}=this,r=te(i.data.coordinateHelper,e.handle,t),l=i.createUndoGroup(),p=ee(a,e.manipulator.elevationAlignedLocation,r);let h;this._splitEdgesBeforeEdgeOffset(e,r),this._selectEdgeOffsetArrow(e,r);const u=()=>{this._cleanEdgeOffsetCollapsedEdges(e,i),h=d(h)},c=this.events.on(\"undo\",u);return h=s([this._initializeEdgeOffsetVisualElement(e,o,t,i),l,c,this._connectEdgeOffsetTooltip(e,r,i,(()=>{n.execute({action:\"cancel\"})}))]),{initializeStep:e=>null==r||null==p?(u(),null):{...e,operation:r,plane:p},cleanup:u}}_initializeEdgeOffsetVisualElement(e,t,i,a){const o=()=>new V({paths:[[e.handle.leftVertex.pos,e.handle.rightVertex.pos]],spatialReference:a.data.spatialReference}),r=new pe({view:this.view,isDraped:t.isDraped,geometry:o(),elevationInfo:i,width:this._settings.visualElements.lineObjects.outline.width,attached:!1,isDecoration:!0}),p=s([h((()=>({color:this._accentColor,draped:t.isDraped})),(({color:e,draped:t})=>{r.color=n(e),r.isDraped=t}),m),t.on(\"committed\",(()=>{r.geometry=o()})),l(r)]);return r.attached=!0,p}_applyEdgeOffsetStep(e){return t=>(this.destroyed||null==t.operation||!this._operations||(this._updateEventState(Ce.RESHAPING),null==t.signedDistance?this._resetTooltip():((t.mapDeltaX||t.mapDeltaY||t.mapDeltaZ)&&(this._offsetEdge(e,t.operation,t.signedDistance),this.events.emit(\"reshape\",{type:\"reshape\",object:this.object})),this._updateEdgeOffsetTooltip(t))),t)}_cleanEdgeOffsetCollapsedEdges(e,t){const i=e.handle.leftVertex.leftEdge?.leftVertex,n=e.handle.leftVertex,a=e.handle.rightVertex.rightEdge?.rightVertex,o=e.handle.rightVertex,s=t.data.coordinateHelper,r=this.view.pixelSizeAt(s.vectorToDehydratedPoint(n.pos),s.spatialReference),l=[];if(i&&s.distance(i.pos,n.pos)<Pe){const e=this._getManipulatorInfoFromHandle(n);null!=e&&l.push(e)}if(s.distance(n.pos,o.pos)<r||a&&s.distance(a.pos,o.pos)<Pe){const e=this._getManipulatorInfoFromHandle(o);null!=e&&l.push(e)}l.length&&this._removeVertices(l)}_enterInputModeDuringEdgeOffset(e){const t=this._findActiveEdgeOffsetManipulatorInfo();return!!t&&(!!je(e,this.tooltip)&&(t.manipulator.dragging?(this._pendingEdgeOffsetInfo={manipulatorInfo:t,mode:\"drag\"},!0):(this._clearSelection(),this._pendingEdgeOffsetInfo={manipulatorInfo:t,mode:\"hover\"},this._connectEdgeOffsetTooltipOnHover(t),!0)))}_exitEdgeOffsetInputMode(){this.tooltip&&(this._pendingEdgeOffsetInfo=null,this._resetTooltip(),this.tooltip.exitInputMode())}_findActiveEdgeOffsetManipulatorInfo(){return this._manipulatorInfos.filter(Ae).find((({manipulator:e})=>e.hovering||e.grabbing||e.dragging))}_connectEdgeOffsetTooltipOnHover(e){const{_operations:t,object:i}=this;if(!t)return;const{elevationInfo:n}=i,a=te(t.data.coordinateHelper,e.handle,n);this._selectEdgeOffsetArrow(e,a),this.addHandles([this._initializeEdgeOffsetVisualElement(e,i,n,t),this._connectEdgeOffsetTooltip(e,a,t,(()=>{this.removeHandles(a),this._exitEdgeOffsetInputMode()}))],a)}_splitEdgesBeforeEdgeOffset(e,t){if(t.requiresSplitEdgeLeft){const t=this._getManipulatorInfoFromHandle(e.handle.leftVertex.leftEdge);null!=t&&this._splitEdgeManipulator(t,1)}if(t.requiresSplitEdgeRight){const t=this._getManipulatorInfoFromHandle(e.handle.rightVertex.rightEdge);null!=t&&this._splitEdgeManipulator(t,0)}}_selectEdgeOffsetArrow(e,t){const i=e.grabMapPoint??$(this.view.inputManager?.latestPointerLocation,this.view,this.object,e);i&&t.selectArrowFromStartPoint(i)}_connectEdgeOffsetTooltip(e,t,i,n){const a=()=>this.tooltipInfos.edgeOffset.distance.actual,o=a=>{n(),queueMicrotask((()=>{this.view.focus();const n=i.createUndoGroup();this._tooltipCallbacks.onReshapeStart?.(),this._splitEdgesBeforeEdgeOffset(e,t),this._offsetEdge(e,t,ae(a,e.manipulator.location,t,i)),this._tooltipCallbacks.onReshape?.(),this._tooltipCallbacks.onReshapeStop?.(),this._cleanEdgeOffsetCollapsedEdges(e,i),n.remove()}))},r=()=>{const e=a();null!=e?o(e):n()};return s([f((()=>this.tooltip&&!this.tooltip.focused),(()=>r()),g),this.tooltip.on(\"discard\",n),this.tooltip.on(\"commit\",(e=>{\"commit-and-exit\"===e.type&&r()}))])}_createVertexOrEdgeManipulator(e,t=this.object.elevationInfo,i=!1){const n=this.view,a=this._operations,o=this._settings;if(!a)return null;const r=a.data.type,l=a.data.spatialReference;if(\"edge\"===e.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(e,t);if(!this.enableMidpoints)return null}if(null==this._vertexManipulatorGeometry||null==this._vertexManipulatorOutlineGeometry){const{size:e,outlineSize:t}=we(o.manipulators.vertex);this._vertexManipulatorGeometry=he(this._vertexManipulatorMaterial,e,16,16),this._vertexManipulatorOutlineGeometry=he(this._vertexManipulatorOutlineMaterial,t,16,16)}if(null==this._edgeManipulatorGeometry||null==this._edgeManipulatorOutlineGeometry){const{size:e,outlineSize:t}=we(o.manipulators.edge);this._edgeManipulatorGeometry=he(this._edgeManipulatorMaterial,e,16,16),this._edgeManipulatorOutlineGeometry=he(this._edgeManipulatorOutlineMaterial,t,16,16)}const p=\"point\"===r||\"mesh\"===r?[]:[new N(this._vertexManipulatorGeometry.instantiate(),Le.Vertex|Me.Unselected),new N(this._vertexManipulatorOutlineGeometry.instantiate(),Le.Vertex|Me.Unfocused|Me.Unselected),new N(this._vertexManipulatorOutlineGeometry.instantiate({material:this._vertexManipulatorHoverOutlineMaterial}),Le.Vertex|Me.Focused|Me.Unselected),new N(this._vertexManipulatorGeometry.instantiate({material:this._selectedManipulatorMaterial}),Me.Selected),new N(this._vertexManipulatorOutlineGeometry.instantiate({material:this._selectedManipulatorOutlineMaterial}),Me.Selected|Me.Unfocused),new N(this._vertexManipulatorOutlineGeometry.instantiate({material:this._selectedManipulatorHoverOutlineMaterial}),Me.Selected|Me.Focused)];this.enableMidpoints&&p.push(new N(this._edgeManipulatorGeometry.instantiate({material:this._vertexManipulatorMaterial}),Le.Edge|Me.Focused|Me.Unselected),new N(this._edgeManipulatorOutlineGeometry.instantiate({material:this._vertexManipulatorHoverOutlineMaterial}),Le.Edge|Me.Focused|Me.Unselected),new N(this._edgeManipulatorGeometry.instantiate(),Le.Edge|Me.Unfocused|Me.Unselected),new N(this._edgeManipulatorOutlineGeometry.instantiate(),Le.Edge|Me.Unfocused|Me.Unselected));const h=new D({view:n,renderObjects:p,elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:this.object.visible,metadata:{deleting:!1},location:Te(l)});h.selected=i,this._setTypeSpecificManipulatorSettings(h,e,t);const u=\"edge\"===e.type?{manipulator:h,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:h,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(u),this.manipulators.add(h),this._updateManipulatorPosition(u),\"edge\"===u.type){const e=[];for(const t of[u.handle.leftVertex,u.handle.rightVertex]){const i=this._getManipulatorInfoFromHandle(t);null!=i&&e.push(i.manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(u))))}u.locationUpdateHandle=s(e),this._manipulatorHandles.add(u.locationUpdateHandle,h)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(h,!0),h);const c=fe(h,((e,i,o,s)=>{let r=null;const{snappingStep:p,cancelSnapping:h}=Oe({predicate:()=>!this._isMultiVertexSelection(),snappingManager:this.tool.snappingManager,snappingContext:new Ee({editGeometryOperations:a,elevationInfo:t,pointer:s,excludeFeature:this.object.graphic,visualizer:new k}),updatingHandles:this._updatingHandles,useZ:!1});o=o.next((t=>(this._onDragCancel(!e.metadata.deleting,(()=>r=d(r))),t))).next(h);const{elevationAlignedLocation:c}=e,m=this.object.graphic??void 0;i.next((e=>this._trackNumDragging(e))).next((e=>{if(\"start\"===e.action&&a&&(r=a.createUndoGroup()),\"edge\"===u.type){const t=this._splitEdgeManipulator(u);return{...e,info:t,snapOrigin:t.handle.pos}}return{...e,info:u,snapOrigin:u.handle.pos}})).next(ge(n,c)).next(R(n,c,t,l,m)).next(ce(n,t,m)).next(...p).next(me()).next((e=>{this._perVertexManipulatorDragAction(e),\"end\"===e.action&&(r=d(r)),this._resetTooltip()}))}));return this._manipulatorHandles.add([c,h.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,u))),h.events.on(\"select-changed\",(()=>{u.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition(),this._resetTooltip()})),h.events.on(\"focus-changed\",(()=>{this._resetTooltip()}))],h),this.events.emit(\"manipulators-changed\"),u}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_onDragCancel(e=!0,t){switch(this._numDragging--,e&&this.undo(),this.tool.snappingManager?.doneSnapping(),this._resetTooltip(),this._reshapeEventState){case Ce.NONE:break;case Ce.MOVING:this.events.emit(\"move\",{type:\"move\",dx:0,dy:0,object:this.object});break;case Ce.RESHAPING:this.events.emit(\"reshape\",{type:\"reshape\",object:this.object})}t?.(),this.destroyed||this._updateEventState(Ce.NONE)}_setTypeSpecificManipulatorSettings(e,t,i){const n=this._settings;switch(t.type){case\"vertex\":{e.state=Le.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2;const{size:t,collisionPadding:a}=n.manipulators.vertex;e.radius=t/2+a,e.elevationInfo=i;const o=this._operations?.data.type;e.interactive=null!=o&&\"point\"!==o&&\"mesh\"!==o;break}case\"edge\":{e.state=Le.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1;const{size:t,collisionPadding:a}=n.manipulators.edge;e.radius=t/2+a,e.elevationInfo=\"on-the-ground\"!==i.mode||G(this.object.graphic?.symbol)?{mode:\"absolute-height\",offset:0}:i;break}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{this._onGrabStateChanged(e,t,i.action,i.pointerType)}))}_onGrabStateChanged(e,t,i,n=\"mouse\"){if(!this._recreatingManipulators){if(\"start\"===i)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(Ce.NONE),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing,(\"touch\"!==n||this.enableEdgeOffset)&&(this._manipulatorInfos.forEach((e=>{const{manipulator:t}=e,i=this._operations?.data.type;t.interactive=t.grabbing||!this._numGrabbing&&null!=i&&\"point\"!==i&&\"mesh\"!==i,Ae(e)&&(e.edgeManipulator.interactive=e.edgeManipulator.grabbing||!this._numGrabbing)})),this._objectMoveManipulation.forEachManipulator((e=>{e.interactive=e.grabbing||!this._numGrabbing})))}}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1);this._pendingEdgeOffsetInfo=null}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.events.emit(\"manipulators-changed\"))}_removeManipulator(e){null!=e&&(e.manipulator.metadata.deleting=!0,this.manipulators.remove(e.manipulator),this._manipulatorHandles.remove(e.manipulator),i(this._manipulatorInfos,e),this.events.emit(\"manipulators-changed\"),this._resetTooltip())}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPositions(e){for(const t of e)this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(t))}_updateManipulatorPosition(e){const t=this._operations;if(null!=e&&t)if(\"vertex\"===e.type)e.manipulator.location=t.data.coordinateHelper.vectorToDehydratedPoint(e.handle.pos,Ge),e.manipulator.grabbing&&null!=this._vertexLaserLineVisualElement&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.type){const i=this._getManipulatorInfoFromHandle(e.handle.leftVertex),n=this._getManipulatorInfoFromHandle(e.handle.rightVertex);if(null==i||null==n)return;const a=i.manipulator,o=n.manipulator;if(\"on-the-ground\"===e.manipulator.elevationInfo?.mode){const i=a.location,n=o.location,s=.5,r=i.x+s*(n.x-i.x),l=i.y+s*(n.y-i.y),p=i.hasZ&&n.hasZ?0:void 0;e.manipulator.location=A(r,l,p,t.data.spatialReference)}else E(De,a.renderLocation,o.renderLocation,.5),e.manipulator.renderLocation=De}}_splitEdgeManipulator(e,t=.5){const i=this._operations,n=i.splitEdge(e.handle,t).createdVertex;e.locationUpdateHandle=d(e.locationUpdateHandle);const a=this.object.elevationInfo;let o;this.enableEdgeOffset?(this._removeManipulator(e),o=this._createVertexOrEdgeManipulator(n)):(o=e,o.handle=n,o.type=\"vertex\",this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,a)),n.leftEdge&&this._createVertexOrEdgeManipulator(n.leftEdge),n.rightEdge&&this._createVertexOrEdgeManipulator(n.rightEdge),this._updateManipulatorPosition(o),this.enableEdgeOffset||this._resetTooltip(),this._updateSelection(e.manipulator);const s=this._updateEventState(Ce.RESHAPING),r=i.data.coordinateHelper.vectorToArray(o.handle.pos),l=i.data.components.indexOf(n.component);return this.events.emit(\"vertex-add\",{type:\"vertex-add\",object:this.object,vertices:[{coordinates:r,componentIndex:l,vertexIndex:n.index}],added:r}),s&&this._updateEventState(Ce.NONE),o}_updateMoveManipulationPosition(){const e=O(De,0,0,0);let t=0,i=!1,n=null,a=null;for(const r of this._manipulatorInfos)\"vertex\"===r.type&&(r.manipulator.selected?(t++,y(e,e,r.manipulator.renderLocation),null==n||r.selectedIndex>n.selectedIndex?(a=n,n=r):(null==a||r.selectedIndex>a.selectedIndex)&&(a=r)):i=!0);const o=this.object,s=this._operations?.data.geometry;if(0===t){const e=o.visible&&this.enableMoveObject;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZShape&&Y(this._operations,o.elevationInfo),this._moveManipulation.angle=Z(s),this._moveManipulation.radius=J.radiusForSymbol(o.graphic?.symbol)}else{const e=o.visible;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZVertex&&Y(this._operations,this.object.elevationInfo),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==t;let i=0;if(null!=n){const e=n.handle.pos,t=null!=a?a.handle.pos:n.handle.leftEdge?.leftVertex?n.handle.leftEdge.leftVertex.pos:null,o=null==a&&n.handle.rightEdge?.rightVertex?n.handle.rightEdge.rightVertex.pos:null;t&&o?this._moveManipulation.xyAxisManipulation.available=!1:t?i=Ve(t,e):o&&(i=Ve(e,o))}this._moveManipulation.angle=i,this._moveManipulation.radius=W}0!==t&&i?(j(e,e,1/t),Ge.spatialReference=this._operations.data.spatialReference,Ge.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,Ge),this._moveManipulation.elevationAlignedLocation=Ge):null==this._outlineVisualElement||this.object.isDraped||null==this._outlineVisualElement.attachmentOrigin?C(this._moveManipulation,this.object):this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin}_removeVertices(e){const t=new Array,i=this._operations;if(i){for(const n of e){const e=n.handle.component;if(\"vertex\"===n.type&&i.canRemoveVertex(e)){t.push(n.handle),this._removeManipulator(n),this._removeManipulator(this._getManipulatorInfoFromHandle(n.handle.leftEdge)),this._removeManipulator(this._getManipulatorInfoFromHandle(n.handle.rightEdge));const a=i.removeVertices([n.handle]),o=a.removedVertices?.[0].createdEdge;o?this._createVertexOrEdgeManipulator(o):this.enableEdgeOffset&&e.vertices.length<=2&&this._removeManipulator(this._getManipulatorInfoFromHandle(e.edges[0]))}}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.vectorToArray(e.pos),componentIndex:t,vertexIndex:e.index}})),n=this._updateEventState(Ce.RESHAPING);if(this.destroyed)return;if(this.events.emit(\"vertex-remove\",{type:\"vertex-remove\",object:this.object,removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(n&&(this._updateEventState(Ce.NONE),this.destroyed))return;this._updateMoveManipulationPosition()}}}_moveVertices(e,t,i=(\"start\"===t.action?xe.NEW_STEP:xe.ACCUMULATE_STEPS)){const n=this._operations;if(n){e.length>0&&n.moveVertices(e.map((e=>e.handle)),t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i);for(const t of e)this._updateManipulatorPosition(t)}}_offsetEdge(e,t,i){if(!this._operations)return;const n=t.clone();n.distance=i,this._operations.updateVertices([e.handle.leftVertex,e.handle.rightVertex],n),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.leftVertex)),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.rightVertex))}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.type&&(t.manipulator.selected=!t.manipulator.selected,this.enableDeleteVertices&&e.button===ue.Right&&this._removeVertices([t])),\"edge\"===t.type&&e.button===ue.Left&&this._splitEdgeManipulator(t),e.stopPropagation()}_updateTranslateTooltip(e,t){null!=this._defaultTooltipInfo?this._resetTooltip():this._updateTranslateObjectTooltip(e,t)}_updateTranslateObjectTooltip(e,t){this._pendingEdgeOffsetInfo||(this.activeTooltipInfo=re(e,t,this._tooltipsContext))}_updateEdgeOffsetTooltip(e){this._pendingEdgeOffsetInfo||(this.activeTooltipInfo=le(this.object,e,this._tooltipsContext))}_resetTooltip(){const e=this.activeTooltipInfo;if(this._pendingEdgeOffsetInfo&&\"reshape-edge-offset\"===e?.type)return;let t=null;t=this._pendingEdgeOffsetInfo||null!=this._findActiveEdgeOffsetManipulatorInfo()?le(this.object,null,this._tooltipsContext):this._defaultTooltipInfo,t!==e&&(null!=e&&null!=t&&\"input\"===this.tooltip.mode||(this.activeTooltipInfo=t))}get _defaultTooltipInfo(){const e=this._operations?.data.type;switch(e){case\"polyline\":case\"polygon\":return this._selectedVertexManipulatorInfo?this.tooltipInfos.selectedVertex:null;case\"point\":case\"mesh\":return this.tooltipInfos.movePoint;default:return null}}get _selectedVertexManipulatorInfo(){const e=this._manipulatorInfos.filter((e=>\"vertex\"===e.type&&e.manipulator.selected));return 1===e.length?e[0]:null}get _tooltipsContext(){return{sketchOptions:this._sketchOptions,tooltipInfos:this.tooltipInfos,activeTooltipInfo:this.activeTooltipInfo,selectedVertexManipulatorInfo:this._selectedVertexManipulatorInfo,callbacks:this._tooltipCallbacks}}get test(){}};function He(){return e=>{const{operation:t,mapEnd:i}=e;return null==t||null==i?e:{...e,signedDistance:t.signedDistanceToPoint(i)}}}function we(e){const t=e.size/2,i=t+e.collisionPadding;return{size:t/i,outlineSize:(t+e.outlineSize)/i}}function Ve(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function Te(e){return new w({x:0,y:0,z:0,spatialReference:e})}function Ae(e){return\"edge\"===e.type&&\"edgeManipulator\"in e}e([_()],Se.prototype,\"_numGrabbing\",void 0),e([_()],Se.prototype,\"_numDragging\",void 0),e([_()],Se.prototype,\"_pendingEdgeOffsetInfo\",void 0),e([_()],Se.prototype,\"_operations\",null),e([_()],Se.prototype,\"_segmentLabels\",void 0),e([_({constructOnly:!0})],Se.prototype,\"tool\",void 0),e([_()],Se.prototype,\"tooltip\",void 0),e([_()],Se.prototype,\"activeTooltipInfo\",void 0),e([_({readOnly:!0})],Se.prototype,\"updating\",null),e([_()],Se.prototype,\"manipulators\",null),e([_()],Se.prototype,\"view\",null),e([_()],Se.prototype,\"object\",null),e([_()],Se.prototype,\"enableZShape\",null),e([_()],Se.prototype,\"enableDeleteVertices\",null),e([_()],Se.prototype,\"enableZVertex\",null),e([_()],Se.prototype,\"autoHideManipulators\",null),e([_()],Se.prototype,\"enableMoveObject\",null),e([_()],Se.prototype,\"enableMidpoints\",null),e([_()],Se.prototype,\"enableEdgeOffset\",null),e([_()],Se.prototype,\"_sketchOptions\",null),e([_()],Se.prototype,\"_accentColor\",null),e([_()],Se.prototype,\"_tooltipsContext\",null),Se=e([v(\"esri.views.3d.interactive.editingTools.reshape.ReshapeOperation\")],Se);const Ge=A(0,0,void 0,T.WGS84),De=S(),Pe=1e-6;var Le,Ce,Ne;!function(e){e.Vertex=ve.Custom1,e.Edge=ve.Custom2}(Le||(Le={})),function(e){e[e.NONE=0]=\"NONE\",e[e.MOVING=1]=\"MOVING\",e[e.RESHAPING=2]=\"RESHAPING\"}(Ce||(Ce={})),function(e){e[e.ALL=0]=\"ALL\",e[e.SELECTED_OR_ALL=1]=\"SELECTED_OR_ALL\"}(Ne||(Ne={}));export{Se as ReshapeOperation};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}