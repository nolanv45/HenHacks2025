{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { isRGB as e } from \"../../core/colorUtils.js\";\nimport { getFontFamily as r } from \"../../core/fontUtils.js\";\nimport { clone as t } from \"../../core/lang.js\";\nimport i from \"../../core/Logger.js\";\nimport { pt2px as o, px2pt as a } from \"../../core/screenUtils.js\";\nimport { numericHash as s } from \"../../core/string.js\";\nimport { checkForAnimations as l, getAnimationParams as n, handleAbsoluteAnchor as p, handleMarker as c, handleRelativeAnchor as m, getFrameTranslation as y, translate as d, getStaticParam as h, shouldUseAnimatedPath as f } from \"./animationUtils.js\";\nimport { CIMSymbolHelper as u } from \"./CIMSymbolHelper.js\";\nimport { defaultCIMValues as v } from \"./defaultCIMValues.js\";\nimport { Alignment as O, SymbolUnits as g } from \"./enums.js\";\nimport { fitVectorMarker as _ } from \"./fitVectorMarker.js\";\nimport { OverrideHelper as M } from \"./OverrideHelper.js\";\nimport { getExtent as S, getSDFMetrics as k, getSDFDimensions as b } from \"./SDFHelper.js\";\nimport { colorToArray as C, normalizeAlpha as P, getSize as z, isCIMMarkerStrokePlacement as x, getTintColor as E, getNumericValue as I, normalizePrimitiveOverrideProps as L, getDefaultCIMValue as V, getEnum as N, getStrokeWidth as R, getFillColor as A, getStrokeColor as w, fromCIMFontDecoration as G, fromCIMFontStyle as F, fromCIMHorizontalAlignment as T, fromCIMVerticalAlignment as X, isValidCIMValue as Y, uncapitalize as j } from \"./utils.js\";\nimport { CIMEffectHelper as W } from \"./effects/CIMEffectHelper.js\";\nimport { rasterizedVectorMarkerMinSize as U, randomInsidePolygonTextureSize as D } from \"../../views/2d/engine/webgl/definitions.js\";\nconst H = () => i.getLogger(\"esri.symbols.cim.cimAnalyzer\");\nfunction J(e) {\n  const r = e.markerPlacement;\n  return r && r.angleToLine ? O.MAP : O.SCREEN;\n}\nclass B {\n  constructor(e) {\n    this._cimLayers = [], this._poMap = {}, this._primitiveOverrides = [], e && (this._resourceManager = e);\n  }\n  analyzeSymbolReference(r, t, i) {\n    if (this._cimLayers = i ?? [], !r) return this._cimLayers;\n    if (this._reset(), r.primitiveOverrides) {\n      this._primitiveOverrides = r.primitiveOverrides;\n      for (const r of this._primitiveOverrides) {\n        const t = r.valueExpressionInfo;\n        if (t) this._setPoMap(r.primitiveName, r.propertyName, t);else if (null != r.value) {\n          let t = r.value;\n          r.propertyName.includes(\"Color\") && (e(t) && (t = C(t)), t = P(t)), this._setPoMap(r.primitiveName, r.propertyName, t);\n        }\n      }\n    }\n    return this._analyzeSymbol(r.symbol, t), this._cimLayers;\n  }\n  _reset() {\n    this._cimLayers = [], this._poMap = {}, this._primitiveOverrides = [];\n  }\n  _analyzeSymbol(e, r) {\n    switch (e?.type) {\n      case \"CIMPointSymbol\":\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n        this._analyzeMultiLayerSymbol(e, r);\n    }\n  }\n  _analyzeMultiLayerSymbol(e, r) {\n    const t = e?.symbolLayers;\n    if (!t) return;\n    for (let l = 0; l < t.length; l++) {\n      const e = t[l];\n      \"CIMVectorMarker\" === e.type && (t[l] = _(e, this._resourceManager.geometryEngine));\n    }\n    const i = e.effects;\n    let o = O.SCREEN;\n    const a = z(e) ?? 0;\n    \"CIMPointSymbol\" === e.type && \"Map\" === e.angleAlignment && (o = O.MAP);\n    let s = {\n      transform: [0, 0, 0, 1],\n      fromColor: [1, 1, 1, 1],\n      toColor: [1, 1, 1, 1],\n      colorMix: [0, 0, 0, 0],\n      toOpacity: [1, 1, 1, 1],\n      opacityMix: [0, 0, 0, 0],\n      hasAnimations: l(e)\n    };\n    s = n(this._poMap, e, s);\n    const p = \"CIMPolygonSymbol\" === e.type;\n    let c = t.length;\n    for (; c--;) {\n      const l = t[c];\n      if (!l || !1 === l.enable) continue;\n      let n;\n      i?.length && (n = [...i]);\n      const m = l.effects;\n      m?.length && (i ? n.push(...m) : n = [...m]);\n      let y = null;\n      if (n) {\n        y = [];\n        for (const e of n) {\n          const r = M.findEffectOverrides(e, this._primitiveOverrides);\n          r && y.push(r);\n        }\n      }\n      const d = [];\n      switch (M.findApplicableOverrides(l, this._primitiveOverrides, d), l.type) {\n        case \"CIMSolidFill\":\n          this._analyzeSolidFill(l, y);\n          break;\n        case \"CIMPictureFill\":\n          this._analyzePictureFill(l, y);\n          break;\n        case \"CIMHatchFill\":\n          this._analyzeHatchFill(l, y);\n          break;\n        case \"CIMGradientFill\":\n          this._analyzeGradientFill(l, y);\n          break;\n        case \"CIMSolidStroke\":\n          this._analyzeSolidStroke(l, y, p, a);\n          break;\n        case \"CIMPictureStroke\":\n          this._analyzePictureStroke(l, y, p, a);\n          break;\n        case \"CIMGradientStroke\":\n          this._analyzeGradientStroke(l, y, p, a);\n          break;\n        case \"CIMCharacterMarker\":\n        case \"CIMPictureMarker\":\n        case \"CIMVectorMarker\":\n          {\n            \"CIMLineSymbol\" !== e.type && \"CIMPolygonSymbol\" !== e.type || (o = J(l));\n            const t = [],\n              i = l.primitiveName;\n            i && t.push(i);\n            const n = p && x(l.markerPlacement);\n            this._analyzeMarker(l, y, null, t, o, a, r, [], s, !1, n);\n            break;\n          }\n        default:\n          H().error(\"Cannot analyze CIM layer\", l.type);\n      }\n    }\n  }\n  _analyzeSolidFill(e, r) {\n    const {\n        primitiveName: t,\n        type: i\n      } = e,\n      o = P(e.color);\n    this._cimLayers.push({\n      type: \"fill\",\n      spriteRasterizationParam: null,\n      colorLocked: !!e.colorLocked,\n      color: this._getValueOrOverrideExpression(i, t, \"Color\", o),\n      height: 0,\n      angle: 0,\n      offsetX: 0,\n      offsetY: 0,\n      scaleX: 1,\n      effects: r,\n      applyRandomOffset: !1,\n      sampleAlphaOnly: !0,\n      hasUnresolvedReplacementColor: !1\n    });\n  }\n  _analyzePictureFill(e, r) {\n    const {\n        primitiveName: t,\n        type: i\n      } = e,\n      o = E(e),\n      a = I(e.height, v.CIMPictureFill.height);\n    let s = I(e.scaleX, 1);\n    if (\"width\" in e && \"number\" == typeof e.width) {\n      const r = e.width;\n      let t = 1;\n      const i = this._resourceManager.getResource(e.url);\n      null != i && (t = i.width / i.height), s /= t * (a / r);\n    }\n    const l = {\n      type: \"sprite-rasterization-param\",\n      resource: e,\n      overrides: this._getPrimitiveMaterialOverrides(t, i)\n    };\n    this._cimLayers.push({\n      type: \"fill\",\n      spriteRasterizationParam: l,\n      colorLocked: !!e.colorLocked,\n      effects: r,\n      color: this._getValueOrOverrideExpression(i, t, \"TintColor\", o),\n      height: this._getValueOrOverrideExpression(i, t, \"Height\", a),\n      scaleX: this._getValueOrOverrideExpression(i, t, \"ScaleX\", s),\n      angle: this._getValueOrOverrideExpression(i, t, \"Rotation\", I(e.rotation)),\n      offsetX: this._getValueOrOverrideExpression(i, t, \"OffsetX\", I(e.offsetX)),\n      offsetY: this._getValueOrOverrideExpression(i, t, \"OffsetY\", I(e.offsetY)),\n      applyRandomOffset: !1,\n      sampleAlphaOnly: !1,\n      hasUnresolvedReplacementColor: !1\n    });\n  }\n  _analyzeHatchFill(e, r) {\n    const {\n        primitiveName: t,\n        type: i\n      } = e,\n      o = this._analyzeMaterialOverrides(t, [\"Rotation\", \"OffsetX\", \"OffsetY\"]),\n      a = L(o);\n    let s = [255, 255, 255, 1],\n      l = !1;\n    if (e.lineSymbol?.symbolLayers) for (const p of e.lineSymbol.symbolLayers) {\n      if (\"CIMSolidStroke\" !== p.type) continue;\n      const e = p.primitiveName ?? t;\n      l || !e || p.colorLocked || null == this._poMap[e]?.Color && null == this._poMap[e]?.StrokeColor || (s = P(p.color), s = this._maybeGetValueOrOverrideExpression(e, \"StrokeColor\") ?? this._getValueOrOverrideExpression(i, e, \"Color\", s), l = !0);\n      const r = this._maybeGetValueOrOverrideExpression(e, \"StrokeWidth\");\n      if (r) {\n        let t = null,\n          o = null;\n        \"number\" == typeof r ? t = r : o = r.valueExpressionInfo;\n        let s = a.find(e => \"strokeWidth\" === e.propertyName);\n        s ? s.propertyName = \"width\" : (s = {\n          type: \"CIMPrimitiveOverride\",\n          primitiveName: e,\n          propertyName: \"width\",\n          valueExpressionInfo: o,\n          value: t,\n          defaultValue: V(i, \"width\")\n        }, a.push(s));\n      }\n    }\n    const n = {\n      type: \"sprite-rasterization-param\",\n      resource: e,\n      overrides: a\n    };\n    this._cimLayers.push({\n      type: \"fill\",\n      spriteRasterizationParam: n,\n      colorLocked: !!e.colorLocked,\n      effects: r,\n      color: s,\n      height: this._getValueOrOverrideExpression(i, t, \"Separation\", I(e.separation, v.CIMHatchFill.separation)),\n      scaleX: 1,\n      angle: this._getValueOrOverrideExpression(i, t, \"Rotation\", I(e.rotation)),\n      offsetX: this._getValueOrOverrideExpression(i, t, \"OffsetX\", I(e.offsetX)),\n      offsetY: this._getValueOrOverrideExpression(i, t, \"OffsetY\", I(e.offsetY)),\n      applyRandomOffset: !1,\n      sampleAlphaOnly: !0,\n      hasUnresolvedReplacementColor: !l\n    });\n  }\n  _analyzeGradientFill(e, r) {\n    const {\n        angle: t,\n        gradientMethod: i,\n        gradientSize: o,\n        gradientSizeUnits: a,\n        gradientType: s,\n        interval: l,\n        primitiveName: n,\n        type: p\n      } = e,\n      c = v.CIMGradientFill,\n      m = e.colorRamp;\n    this._cimLayers.push({\n      type: \"gradientFill\",\n      spriteRasterizationParam: {\n        type: \"sprite-rasterization-param\",\n        resource: e,\n        overrides: this._getPrimitiveMaterialOverrides(n, p)\n      },\n      colorLocked: !1,\n      effects: r,\n      color: [255, 255, 255, 1],\n      gradientMethod: this._getValueOrOverrideExpression(p, n, \"GradientMethod\", i ?? \"Linear\"),\n      angle: this._getValueOrOverrideExpression(p, n, \"Angle\", I(t, c.angle)),\n      gradientType: this._getValueOrOverrideExpression(p, n, \"GradientType\", s ?? c.gradientType),\n      interval: this._getValueOrOverrideExpression(p, n, \"Interval\", I(l, \"CIMFixedColorRamp\" === m.type ? m.colors.length : c.interval)),\n      gradientSize: this._getValueOrOverrideExpression(p, n, \"GradientSize\", I(o, c.gradientSize)),\n      gradientSizeUnits: \"Absolute\" === a ? g.Absolute : \"Relative\" === a ? g.Relative : c.gradientSizeUnits\n    });\n  }\n  _analyzeSolidStroke(e, r, t, i) {\n    const {\n        primitiveName: o,\n        type: a\n      } = e,\n      s = P(e.color),\n      l = I(e.width, v.CIMSolidStroke.width),\n      n = N(e.capStyle, v.CIMSolidStroke.capstyle),\n      p = N(e.joinStyle, v.CIMSolidStroke.joinstyle),\n      c = e.miterLimit;\n    let m,\n      y,\n      d,\n      h,\n      f = [];\n    if (this._analyzePrimitiveOverrides(o, r, null, null) && (f = this._getPrimitiveMaterialOverrides(o, a)), r && Array.isArray(r) && r.length > 0) {\n      const e = r[r.length - 1].effect;\n      e && \"CIMGeometricEffectDashes\" === e.type && \"NoConstraint\" === e.lineDashEnding && (m = e.dashTemplate, y = e.scaleDash, d = e.offsetAlongLine, h = e.primitiveName, (r = [...r]).pop());\n    }\n    null != h && f.push(...this._getPrimitiveMaterialOverrides(h, a).filter(e => \"dashTemplate\" === e.propertyName));\n    const u = void 0 !== m ? {\n      type: \"sprite-rasterization-param\",\n      resource: {\n        type: \"dash\",\n        dashTemplate: m,\n        primitiveName: h\n      },\n      overrides: f\n    } : null;\n    this._cimLayers.push({\n      type: \"line\",\n      spriteRasterizationParam: u,\n      isOutline: t,\n      colorLocked: !!e.colorLocked,\n      effects: r,\n      color: this._getValueOrOverrideExpression(a, o, \"Color\", s),\n      width: this._getValueOrOverrideExpression(a, o, \"Width\", l),\n      cap: this._getValueOrOverrideExpression(a, o, \"CapStyle\", n),\n      join: this._getValueOrOverrideExpression(a, o, \"JoinStyle\", p),\n      miterLimit: c && this._getValueOrOverrideExpression(a, o, \"MiterLimit\", c),\n      referenceWidth: i,\n      zOrder: K(e.name),\n      dashTemplate: this._maybeGetValueOrOverrideExpression(h, \"DashTemplate\") ?? m,\n      offsetAlongLine: this._getValueOrOverrideExpression(a, h, \"OffsetAlongLine\", d ?? 0),\n      scaleDash: y,\n      sampleAlphaOnly: !0\n    });\n  }\n  _analyzePictureStroke(e, r, t, i) {\n    const {\n        primitiveName: o,\n        type: a\n      } = e,\n      s = E(e),\n      l = I(e.width, v.CIMPictureStroke.width),\n      n = N(e.capStyle, v.CIMPictureStroke.capstyle),\n      p = N(e.joinStyle, v.CIMPictureStroke.joinstyle),\n      c = e.miterLimit,\n      m = {\n        type: \"sprite-rasterization-param\",\n        resource: e,\n        overrides: this._getPrimitiveMaterialOverrides(o, a)\n      };\n    this._cimLayers.push({\n      type: \"line\",\n      spriteRasterizationParam: m,\n      isOutline: t,\n      colorLocked: !!e.colorLocked,\n      effects: r,\n      color: this._getValueOrOverrideExpression(a, o, \"TintColor\", s),\n      width: this._getValueOrOverrideExpression(a, o, \"Width\", l),\n      cap: this._getValueOrOverrideExpression(a, o, \"CapStyle\", n),\n      join: this._getValueOrOverrideExpression(a, o, \"JoinStyle\", p),\n      miterLimit: c && this._getValueOrOverrideExpression(a, o, \"MiterLimit\", c),\n      referenceWidth: i,\n      zOrder: K(e.name),\n      dashTemplate: null,\n      scaleDash: !1,\n      sampleAlphaOnly: !1\n    });\n  }\n  _analyzeGradientStroke(e, r, t, i) {\n    const {\n        gradientMethod: o,\n        gradientSize: a,\n        gradientSizeUnits: s,\n        gradientType: l,\n        interval: n,\n        primitiveName: p,\n        type: c\n      } = e,\n      m = v.CIMGradientStroke,\n      y = I(e.width, m.width),\n      d = N(e.capStyle, m.capstyle),\n      h = N(e.joinStyle, m.joinstyle),\n      f = e.miterLimit,\n      u = e.colorRamp;\n    this._cimLayers.push({\n      type: \"gradientStroke\",\n      spriteRasterizationParam: {\n        type: \"sprite-rasterization-param\",\n        resource: e,\n        overrides: this._getPrimitiveMaterialOverrides(p, c)\n      },\n      colorLocked: !!e.colorLocked,\n      effects: r,\n      color: [255, 255, 255, 1],\n      width: this._getValueOrOverrideExpression(c, p, \"Width\", y),\n      cap: this._getValueOrOverrideExpression(c, p, \"CapStyle\", d),\n      join: this._getValueOrOverrideExpression(c, p, \"JoinStyle\", h),\n      miterLimit: f && this._getValueOrOverrideExpression(c, p, \"MiterLimit\", f),\n      referenceWidth: i,\n      isOutline: t,\n      gradientMethod: this._getValueOrOverrideExpression(c, p, \"GradientMethod\", o ?? m.gradientMethod),\n      gradientType: this._getValueOrOverrideExpression(c, p, \"GradientType\", l ?? m.gradientType),\n      interval: this._getValueOrOverrideExpression(c, p, \"Interval\", I(n, \"CIMFixedColorRamp\" === u.type ? u.colors.length : m.interval)),\n      gradientSize: this._getValueOrOverrideExpression(c, p, \"GradientSize\", I(a, m.gradientSize)),\n      gradientSizeUnits: \"Absolute\" === s ? g.Absolute : \"Relative\" === s ? g.Relative : m.gradientSizeUnits\n    });\n  }\n  _analyzeMarker(e, r, t, i, o, a, s, l, y, d = !1, h = !1) {\n    if (d ||= !!e.colorLocked, this._analyzeMarkerInsidePolygon(e, r, d)) return;\n    const f = I(e.size, v.CIMVectorMarker.size),\n      u = I(e.rotation),\n      O = I(e.offsetX),\n      g = I(e.offsetY),\n      {\n        primitiveName: _,\n        type: M\n      } = e,\n      S = this._getValueOrOverrideExpression(M, _, \"Size\", f),\n      k = this._getValueOrOverrideExpression(M, _, \"Rotation\", u),\n      b = this._getValueOrOverrideExpression(M, _, \"OffsetX\", O),\n      C = this._getValueOrOverrideExpression(M, _, \"OffsetY\", g);\n    let P = y;\n    switch (P = n(this._poMap, e, P), P = p(e, P), P = c(this._poMap, e, P), P = m(e, P), e.type) {\n      case \"CIMPictureMarker\":\n        this._analyzePictureMarker(e, r, t, i, o, a, S, k, b, C, l, P, d, h);\n        break;\n      case \"CIMVectorMarker\":\n        this._analyzeVectorMarker(e, r, t, i, o, a, S, k, b, C, l, P, s, d, h);\n    }\n  }\n  _analyzeMarkerInsidePolygon(e, r, t) {\n    const {\n      markerPlacement: i,\n      type: o\n    } = e;\n    if (!i || \"CIMMarkerPlacementInsidePolygon\" !== i.type) return !1;\n    if (\"CIMVectorMarker\" === o || \"CIMPictureMarker\" === o) {\n      const t = e.primitiveName;\n      if (t && this._analyzePrimitiveOverrides([t], r, null, null)) return !1;\n      const a = i.primitiveName;\n      if (a && this._analyzePrimitiveOverrides([a], r, null, null)) return !1;\n      if (\"CIMVectorMarker\" === o) {\n        const {\n          markerGraphics: r\n        } = e;\n        if (r) for (const e of r) {\n          const {\n            symbol: r\n          } = e;\n          if (\"CIMPolygonSymbol\" === r?.type && r.symbolLayers) {\n            const {\n              symbolLayers: e\n            } = r;\n            for (const r of e) if (\"CIMSolidStroke\" === r.type) return !1;\n          }\n        }\n      } else {\n        const {\n          animatedSymbolProperties: r\n        } = e;\n        if (r) return !1;\n      }\n    }\n    const s = Math.abs(i.stepX),\n      l = Math.abs(i.stepY);\n    if (0 === s || 0 === l) return !0;\n    let n, p;\n    if (\"Random\" === i.gridType) {\n      const e = a(D),\n        r = Math.max(Math.floor(e / s), 1);\n      n = l * Math.max(Math.floor(e / l), 1);\n      p = r * s / n;\n    } else i.shiftOddRows ? (n = 2 * l, p = s / l * .5) : (n = l, p = s / l);\n    const c = E(e),\n      m = \"CIMCharacterMarker\" === e.type ? null : {\n        type: \"sprite-rasterization-param\",\n        resource: e,\n        overrides: []\n      };\n    return this._cimLayers.push({\n      type: \"fill\",\n      spriteRasterizationParam: m,\n      colorLocked: t,\n      effects: r,\n      color: c,\n      height: n,\n      scaleX: p,\n      angle: i.gridAngle,\n      offsetX: I(i.offsetX),\n      offsetY: I(i.offsetY),\n      applyRandomOffset: \"Random\" === i.gridType,\n      sampleAlphaOnly: \"CIMPictureMarker\" !== e.type,\n      hasUnresolvedReplacementColor: !0\n    }), !0;\n  }\n  _analyzePictureMarker(e, r, i, o, a, l, n, p, c, m, y, d, h, f) {\n    const {\n      animatedSymbolProperties: u,\n      primitiveName: v,\n      type: O\n    } = e;\n    let g = I(e.scaleX, 1);\n    const _ = E(e);\n    i || (i = this._createMarkerPlacementOverrideExpression(e.markerPlacement));\n    const M = this._createGIFAnimatedSymbolPropertiesOverrideExpression(u),\n      S = e.anchorPoint ?? {\n        x: 0,\n        y: 0\n      };\n    if (\"width\" in e && \"number\" == typeof e.width) {\n      const r = e.width;\n      let t = 1;\n      const i = this._resourceManager.getResource(e.url);\n      null != i && (t = i.width / i.height);\n      g /= t * (I(e.size) / r);\n    }\n    const k = [...o];\n    let b;\n    e.primitiveName && k.push(e.primitiveName), u || M ? b = {\n      type: \"animated\",\n      url: e.url,\n      urlHash: \"H\" + s(e.url),\n      playAnimation: e.animatedSymbolProperties?.playAnimation,\n      reverseAnimation: e.animatedSymbolProperties?.reverseAnimation,\n      randomizeStartTime: e.animatedSymbolProperties?.randomizeStartTime,\n      randomizeStartSeed: e.animatedSymbolProperties?.randomizeStartSeed,\n      startTimeOffset: e.animatedSymbolProperties?.startTimeOffset,\n      duration: e.animatedSymbolProperties?.duration,\n      repeatType: e.animatedSymbolProperties?.repeatType,\n      repeatDelay: e.animatedSymbolProperties?.repeatDelay\n    } : (b = t(e), b.markerPlacement = null);\n    const C = {\n      type: \"sprite-rasterization-param\",\n      resource: b,\n      overrides: this._getMaterialOverrides(k, O)\n    };\n    M && C.overrides.push(...M.overrides);\n    const P = n;\n    this._cimLayers.push({\n      type: \"marker\",\n      spriteRasterizationParam: C,\n      colorLocked: h,\n      effects: r,\n      scaleSymbolsProportionally: !1,\n      alignment: a,\n      size: n,\n      scaleX: this._getValueOrOverrideExpression(O, v, \"ScaleX\", g),\n      rotation: p,\n      offsetX: c,\n      offsetY: m,\n      transform: {\n        type: \"cim-marker-transform-param\",\n        params: y\n      },\n      color: this._getValueOrOverrideExpression(O, v, \"TintColor\", _),\n      anchorPoint: {\n        x: S.x,\n        y: S.y\n      },\n      isAbsoluteAnchorPoint: \"Relative\" !== e.anchorPointUnits,\n      outlineColor: [0, 0, 0, 0],\n      outlineWidth: 0,\n      frameHeight: 0,\n      widthRatio: 1,\n      rotateClockwise: !!e.rotateClockwise,\n      referenceSize: l,\n      sizeRatio: 1,\n      isOutline: f,\n      markerPlacement: i,\n      animationParams: te(d),\n      baseSize: P\n    });\n  }\n  _analyzeVectorMarker(e, r, t, i, o, a, s, l, p, c, m, f, u, v, O) {\n    const g = e.markerGraphics;\n    if (!g) return;\n    const _ = e.frame;\n    let M = 0;\n    M = _ ? _.ymax - _.ymin : a;\n    const S = !!e.scaleSymbolsProportionally;\n    if (M) {\n      const r = {\n        offsetX: p,\n        offsetY: c,\n        rotation: l,\n        size: s,\n        frameHeight: M,\n        rotateClockWise: !!e.rotateClockwise,\n        absoluteAnchorPoint: !1,\n        scaleSymbolsProportionally: S\n      };\n      m = [...m, r];\n    }\n    t || (t = this._createMarkerPlacementOverrideExpression(e.markerPlacement));\n    for (const k of g) if (k) {\n      const s = k.symbol;\n      if (!s) continue;\n      const l = k.primitiveName;\n      l && i.push(l);\n      let p,\n        c = f;\n      if ((\"CIMPointSymbol\" === s.type || \"CIMTextSymbol\" === s.type) && _) {\n        let r = 0,\n          t = 0;\n        const i = k.geometry;\n        \"x\" in i && \"y\" in i && (r += i.x - .5 * (_.xmin + _.xmax), t += i.y - .5 * (_.ymin + _.ymax));\n        const o = e.anchorPoint;\n        let a = !1;\n        o && (\"Absolute\" === e.anchorPointUnits ? (r -= o.x, t -= o.y, a = !0) : _ && (r -= (_.xmax - _.xmin) * o.x, t -= (_.ymax - _.ymin) * o.y));\n        const s = {\n          offsetX: r,\n          offsetY: t,\n          rotation: 0,\n          size: 0,\n          frameHeight: 0,\n          rotateClockWise: !1,\n          absoluteAnchorPoint: a,\n          scaleSymbolsProportionally: S\n        };\n        p = [...m, s];\n      }\n      const g = k.geometry,\n        [b, C] = y(g, _);\n      switch (0 === b && 0 === C || (c = d(c, b, C)), \"CIMPointSymbol\" === s.type && (c = n(this._poMap, s, c)), s.type) {\n        case \"CIMPointSymbol\":\n        case \"CIMLineSymbol\":\n        case \"CIMPolygonSymbol\":\n          u || $(s) ? (c = {\n            ...c,\n            transform: {\n              type: \"AnimatedTransform\",\n              relativeTranslation: !1,\n              absoluteScale: !0,\n              translation: h([0, 0]),\n              rotation: h(0),\n              scale: h(M),\n              parent: f.transform\n            }\n          }, this._analyzeMultiLayerGraphicNonSDF(e, r, t, k, i, o, a, p ?? m, c, M, v, O)) : this._analyzeMultiLayerGraphic(e, r, t, k, i, o, a, p ?? m, c, M, v, O);\n          break;\n        case \"CIMTextSymbol\":\n          this._analyzeTextGraphic(r, t, k, i, o, a, p ?? m, v);\n      }\n      l && i.pop();\n    }\n  }\n  _analyzeMultiLayerGraphic(e, r, t, i, o, a, s, l, n, p, c, m) {\n    const y = i.symbol.symbolLayers;\n    y && (!Z(y) || f(n) ? ee(y) ? this._analyzeMultiLayerGraphicNonSDF(e, r, t, i, o, a, s, l, n, p, !!c, m) : this._analyzeMarkerGraphicSymbolLayers(e, r, t, i, o, a, s, l, n, p, c, m) : this._analyzeCompositeMarkerGraphic(e, r, t, i, y, a, s, l, p, c, m));\n  }\n  _analyzeMarkerGraphicSymbolLayers(e, r, t, i, o, a, s, l, p, c, m, y) {\n    const d = i.symbol,\n      h = d.symbolLayers;\n    if (!h) return;\n    const f = this._resourceManager.geometryEngine,\n      u = W.applyEffects(d.effects, i.geometry, f);\n    if (!u) return;\n    let O = h.length;\n    for (; O--;) {\n      const d = h[O];\n      if (!d || !1 === d.enable) continue;\n      const g = d.primitiveName;\n      switch (g && o.push(g), d.type) {\n        case \"CIMSolidFill\":\n        case \"CIMSolidStroke\":\n          {\n            const o = W.applyEffects(d.effects, u, f),\n              h = S(o);\n            if (!h) continue;\n            const O = \"Relative\" !== e.anchorPointUnits,\n              _ = R(d) ?? 0,\n              {\n                frameSizeRatio: M,\n                anchorX: C,\n                anchorY: z,\n                widthRatio: x,\n                sdfPaddingRatio: E\n              } = k(h, e.frame, e.size, e.anchorPoint, O, _, e.scaleSymbolsProportionally),\n              L = \"CIMSolidFill\" === d.type,\n              V = {\n                type: \"sdf\",\n                geom: o,\n                sdfPaddingRatio: E,\n                asFill: L\n              },\n              {\n                path: N\n              } = d,\n              G = L ? P(A(d)) : null == N ? P(w(d)) : [0, 0, 0, 0],\n              F = L ? [0, 0, 0, 0] : P(w(d));\n            if (!L && !_) break;\n            const T = i.primitiveName;\n            let X = null;\n            L && !d.colorLocked && (X = this._maybeGetValueOrOverrideExpression(T, \"FillColor\"));\n            let Y = null;\n            L || d.colorLocked || (Y = this._maybeGetValueOrOverrideExpression(T, \"StrokeColor\"));\n            const j = X ?? this._getValueOrOverrideExpression(d.type, g, \"Color\", G),\n              U = Y ?? this._getValueOrOverrideExpression(d.type, g, \"Color\", F),\n              D = this._maybeGetValueOrOverrideExpression(T, \"StrokeWidth\") ?? this._getValueOrOverrideExpression(d.type, g, \"Width\", _),\n              H = N ? {\n                type: \"sprite-rasterization-param\",\n                resource: {\n                  type: \"path\",\n                  path: N,\n                  asFill: L\n                },\n                overrides: []\n              } : {\n                type: \"sprite-rasterization-param\",\n                resource: V,\n                overrides: []\n              },\n              J = n(this._poMap, d, p),\n              B = I(e.size, v.CIMVectorMarker.size),\n              q = this._getValueOrOverrideExpression(e.type, e.primitiveName, \"Size\", B);\n            this._cimLayers.push({\n              type: \"marker\",\n              spriteRasterizationParam: H,\n              colorLocked: !!d.colorLocked || !!m,\n              effects: r,\n              scaleSymbolsProportionally: !!e.scaleSymbolsProportionally,\n              alignment: a,\n              anchorPoint: {\n                x: C,\n                y: z\n              },\n              isAbsoluteAnchorPoint: O,\n              size: c,\n              rotation: 0,\n              offsetX: 0,\n              offsetY: 0,\n              scaleX: 1,\n              transform: {\n                type: \"cim-marker-transform-param\",\n                params: l\n              },\n              frameHeight: c,\n              widthRatio: x,\n              rotateClockwise: !1,\n              referenceSize: s,\n              sizeRatio: M,\n              color: j,\n              outlineColor: U,\n              outlineWidth: D,\n              isOutline: y,\n              markerPlacement: t,\n              animationParams: te(J),\n              isStroke: \"CIMSolidFill\" !== d.type,\n              baseSize: q,\n              ...b(o, E)\n            });\n            break;\n          }\n        case \"CIMPictureMarker\":\n        case \"CIMVectorMarker\":\n          if (d.markerPlacement) {\n            H().error(\"Error analyzing CIM, got unexpected marker placement\");\n            break;\n          }\n          this._analyzeMarker(d, r, t, o, a, s, !1, l, p, m, y);\n      }\n      g && o.pop();\n    }\n  }\n  _analyzeTextGraphic(e, t, i, o, a, s, l, n) {\n    const p = [];\n    M.findApplicableOverrides(i, this._primitiveOverrides, p);\n    const c = i.geometry;\n    if (!(\"x\" in c) || !(\"y\" in c)) return;\n    const m = i.symbol,\n      y = G(m),\n      d = F(m.fontStyleName),\n      h = r(m.fontFamilyName);\n    m.font = {\n      family: h,\n      decoration: y,\n      ...d\n    };\n    const f = I(m.height, v.CIMTextSymbol.height),\n      u = I(m.angle),\n      O = I(m.offsetX),\n      g = I(m.offsetY),\n      {\n        haloSymbol: _\n      } = m,\n      S = I(m.haloSize, 0);\n    let k = [0, 0, 0, 0];\n    if (_?.symbolLayers?.length) {\n      const e = _.symbolLayers;\n      for (const r of e) if (r.color) {\n        k = this._getValueOrOverrideExpression(m?.haloSymbol?.type ?? \"CIMPolygonSymbol\", r.primitiveName, \"Color\", P(r.color));\n        break;\n      }\n    }\n    const b = i.primitiveName;\n    let C = [0, 0, 0, 1],\n      z = [0, 0, 0, 0],\n      x = 0,\n      E = !1;\n    if (m.symbol?.symbolLayers) for (const r of m.symbol.symbolLayers) {\n      const e = r.primitiveName;\n      if (\"CIMSolidStroke\" === r.type) z = this._getValueOrOverrideExpression(\"CIMSolidStroke\", e, \"Color\", P(r.color)), x = this._getValueOrOverrideExpression(\"CIMSolidStroke\", e, \"Width\", R(r) ?? 0);else if (\"CIMSolidFill\" === r.type) {\n        const t = P(r.color);\n        E = E ?? !!r.colorLocked, C = this._getValueOrOverrideExpression(\"CIMSolidFill\", e ?? b, \"Color\", t);\n      }\n    }\n    let L = null,\n      V = null,\n      N = null,\n      A = null,\n      w = null;\n    b && (L = this._maybeGetValueOrOverrideExpression(b, \"TextSize\"), V = this._maybeGetValueOrOverrideExpression(b, \"TextAngle\"), N = this._maybeGetValueOrOverrideExpression(b, \"TextOffsetX\"), A = this._maybeGetValueOrOverrideExpression(b, \"TextOffsetY\"), E || (w = this._maybeGetValueOrOverrideExpression(b, \"FillColor\")));\n    const Y = w ?? C;\n    let j = null,\n      W = null,\n      U = 0;\n    if (m.callout && \"CIMBackgroundCallout\" === m.callout.type) {\n      const e = m.callout;\n      if (e.backgroundSymbol) {\n        const r = e.backgroundSymbol.symbolLayers;\n        if (r) for (const e of r) \"CIMSolidFill\" === e.type ? j = P(e.color) : \"CIMSolidStroke\" === e.type && (W = P(e.color), U = I(e.width, v.CIMSolidStroke.width));\n      }\n    }\n    const D = this._getValueOrOverrideExpression(m.type, i.primitiveName, \"TextString\", i.textString ?? \"\");\n    if (null == D) return;\n    const {\n        fontStyleName: H\n      } = m,\n      J = h + (H ? \"-\" + H.toLowerCase() : \"-regular\"),\n      B = this._getMaterialOverrides(o, m.type);\n    B.push(...this._getPrimitiveMaterialOverrides(i.primitiveName, m.type));\n    const q = {\n      type: \"text-rasterization-param\",\n      resource: {\n        type: \"text\",\n        textString: i.textString ?? \"\",\n        font: m.font,\n        symbol: m,\n        primitiveName: i.primitiveName\n      },\n      overrides: B\n    };\n    this._cimLayers.push({\n      type: \"text\",\n      lineWidth: m.lineWidth,\n      textRasterizationParam: q,\n      colorLocked: !!n || !!E,\n      effects: e,\n      alignment: a,\n      anchorPoint: {\n        x: 0,\n        y: 0\n      },\n      isAbsoluteAnchorPoint: !1,\n      fontName: J,\n      decoration: y,\n      haloSize: S,\n      haloColor: k,\n      weight: d.weight,\n      style: d.style,\n      size: L ?? f,\n      angle: V ?? u,\n      offsetX: N ?? O,\n      offsetY: A ?? g,\n      transform: {\n        type: \"cim-marker-transform-param\",\n        params: l\n      },\n      horizontalAlignment: T(m.horizontalAlignment),\n      verticalAlignment: X(m.verticalAlignment),\n      text: D,\n      color: Y,\n      outlineColor: z,\n      outlineSize: x,\n      backgroundColor: j,\n      borderLineColor: W,\n      borderLineWidth: U,\n      referenceSize: s,\n      sizeRatio: 1,\n      markerPlacement: t\n    });\n  }\n  _analyzeMultiLayerGraphicNonSDF(e, r, t, i, a, s, l, n, p, c, m, y) {\n    const d = q(e, i),\n      h = e.primitiveName,\n      f = this._analyzeMaterialOverrides(h, [\"Rotation\", \"OffsetX\", \"OffsetY\"]),\n      O = L(f),\n      [g, _, M] = u.getTextureAnchor(d, this._resourceManager, U),\n      S = this._getMaterialOverrides(a, e.type);\n    S.push(...O);\n    const k = {\n        type: \"sprite-rasterization-param\",\n        resource: {\n          ...d,\n          avoidSDFRasterization: !0\n        },\n        overrides: S\n      },\n      b = I(e.size, v.CIMVectorMarker.size),\n      C = this._getValueOrOverrideExpression(e.type, h, \"Size\", b);\n    this._cimLayers.push({\n      type: \"marker\",\n      spriteRasterizationParam: k,\n      colorLocked: m,\n      effects: r,\n      scaleSymbolsProportionally: !!e.scaleSymbolsProportionally,\n      alignment: s,\n      anchorPoint: {\n        x: g,\n        y: _\n      },\n      isAbsoluteAnchorPoint: !1,\n      size: c,\n      rotation: 0,\n      offsetX: 0,\n      offsetY: 0,\n      transform: {\n        type: \"cim-marker-transform-param\",\n        params: n\n      },\n      color: [255, 255, 255, 1],\n      outlineColor: [0, 0, 0, 0],\n      outlineWidth: 0,\n      scaleX: 1,\n      frameHeight: c,\n      widthRatio: 1,\n      rotateClockwise: !!e.rotateClockwise,\n      referenceSize: l,\n      sizeRatio: M / o(e.size),\n      isOutline: y,\n      markerPlacement: t,\n      animationParams: te(p),\n      baseSize: C\n    });\n  }\n  _createMarkerPlacementOverrideExpression(e) {\n    if (!e) return null;\n    const r = [];\n    return M.findApplicableOverrides(e, this._primitiveOverrides, r), {\n      type: \"cim-marker-placement-param\",\n      placement: e,\n      overrides: re(r)\n    };\n  }\n  _createGIFAnimatedSymbolPropertiesOverrideExpression(e) {\n    if (!e) return null;\n    const r = [];\n    return M.findApplicableOverrides(e, this._primitiveOverrides, r), {\n      type: \"cim-gif-animation-params\",\n      animation: e,\n      overrides: re(r)\n    };\n  }\n  _analyzeCompositeMarkerGraphic(e, r, t, i, o, a, s, l, n, p, c) {\n    const m = i.geometry,\n      y = o[0],\n      d = o[1],\n      h = S(m);\n    if (!h) return;\n    const f = \"Relative\" !== e.anchorPointUnits,\n      u = I(y.width, v.CIMSolidStroke.width),\n      {\n        frameSizeRatio: O,\n        anchorX: g,\n        anchorY: _,\n        widthRatio: M,\n        sdfPaddingRatio: b\n      } = k(h, e.frame, e.size, e.anchorPoint, f, u, e.scaleSymbolsProportionally),\n      {\n        path: C\n      } = d,\n      z = d.primitiveName,\n      x = y.primitiveName,\n      E = i.primitiveName;\n    let L = null;\n    d.colorLocked || p || (L = this._maybeGetValueOrOverrideExpression(E, \"FillColor\"));\n    const V = L ?? this._getValueOrOverrideExpression(d.type, z, \"Color\", P(d.color));\n    let N = null;\n    y.colorLocked || p || (N = this._maybeGetValueOrOverrideExpression(E, \"StrokeColor\"));\n    const R = N ?? this._getValueOrOverrideExpression(y.type, x, \"Color\", P(y.color)),\n      A = this._maybeGetValueOrOverrideExpression(E, \"StrokeWidth\") ?? this._getValueOrOverrideExpression(y.type, x, \"Width\", u),\n      w = {\n        type: \"sprite-rasterization-param\",\n        resource: C ? {\n          type: \"path\",\n          path: C,\n          asFill: !0\n        } : {\n          type: \"sdf\",\n          geom: m,\n          sdfPaddingRatio: b,\n          asFill: !0\n        },\n        overrides: []\n      };\n    this._cimLayers.push({\n      type: \"marker\",\n      spriteRasterizationParam: w,\n      colorLocked: p,\n      effects: r,\n      scaleSymbolsProportionally: !!e.scaleSymbolsProportionally,\n      alignment: a,\n      anchorPoint: {\n        x: g,\n        y: _\n      },\n      isAbsoluteAnchorPoint: f,\n      size: n,\n      rotation: 0,\n      offsetX: 0,\n      offsetY: 0,\n      scaleX: 1,\n      transform: {\n        type: \"cim-marker-transform-param\",\n        params: l\n      },\n      frameHeight: n,\n      widthRatio: M,\n      rotateClockwise: !1,\n      referenceSize: s,\n      sizeRatio: O,\n      color: V,\n      outlineColor: R,\n      outlineWidth: A,\n      isOutline: c,\n      markerPlacement: t\n    });\n  }\n  _setPoMap(e, r, t) {\n    let i;\n    this._poMap[e] ? i = this._poMap[e] : (i = {}, this._poMap[e] = i), i[r] = t;\n  }\n  _maybeGetValueOrOverrideExpression(e, r, t) {\n    return this._getValueOrOverrideExpression(\"\", e, r, t, !1);\n  }\n  _getValueOrOverrideExpression(e, r, t, i, o = !0) {\n    if (o && !Y(i) && (i = V(e, t.toLowerCase())), null == r) return i;\n    const a = this._poMap[r];\n    if (null == a) return i;\n    const s = a[t];\n    return \"string\" == typeof s || \"number\" == typeof s || Array.isArray(s) ? s : s ? {\n      valueExpressionInfo: s,\n      defaultValue: i\n    } : i;\n  }\n  _analyzePrimitiveOverrides(e, r, t, i) {\n    if (null == e) return !1;\n    \"string\" == typeof e && (e = [e]);\n    for (const o of this._primitiveOverrides) if (e.includes(o.primitiveName) && o.valueExpressionInfo) return !0;\n    if (null != r) for (const o of r) if (o?.overrides.length > 0) return !0;\n    if (null != t) for (const o of t) if (o?.overrides.length > 0) return !0;\n    if (null != i) for (const o of i) if (o?.overrides.length > 0) return !0;\n    return !1;\n  }\n  _getMaterialOverrides(e, r) {\n    if (!e) return [];\n    const t = [];\n    for (const i of e) t.push(...this._getPrimitiveMaterialOverrides(i, r));\n    return t;\n  }\n  _getPrimitiveMaterialOverrides(e, r) {\n    if (!e) return [];\n    const t = L(this._primitiveOverrides.filter(r => r.primitiveName === e));\n    return t.forEach(e => e.defaultValue = V(r, e.propertyName.toLowerCase())), t;\n  }\n  _analyzeMaterialOverrides(e, r) {\n    return this._primitiveOverrides.filter(t => t.primitiveName !== e || !r.includes(t.propertyName));\n  }\n}\nfunction q(e, r) {\n  return {\n    type: e.type,\n    enable: !0,\n    name: e.name,\n    colorLocked: e.colorLocked,\n    primitiveName: e.primitiveName,\n    anchorPoint: e.anchorPoint,\n    anchorPointUnits: e.anchorPointUnits,\n    offsetX: 0,\n    offsetY: 0,\n    rotateClockwise: e.rotateClockwise,\n    rotation: 0,\n    size: e.size,\n    billboardMode3D: e.billboardMode3D,\n    depth3D: e.depth3D,\n    frame: e.frame,\n    markerGraphics: [r],\n    scaleSymbolsProportionally: e.scaleSymbolsProportionally,\n    respectFrame: e.respectFrame,\n    clippingPath: e.clippingPath\n  };\n}\nfunction K(e) {\n  if (e && 0 === e.indexOf(\"Level_\")) {\n    const r = parseInt(e.slice(6), 10);\n    if (!isNaN(r)) return r;\n  }\n  return 0;\n}\nfunction Q(e, r) {\n  if (!r || 0 === r.length) return e;\n  const i = t(e);\n  return M.applyOverrides(i, r), i;\n}\nconst Z = e => e && 2 === e.length && e[0].enable && e[1].enable && \"CIMSolidStroke\" === e[0].type && \"CIMSolidFill\" === e[1].type && null == e[0].path && null == e[1].path && !e[0].effects && !e[1].effects && !e[0].animations && !e[1].animations;\nfunction $(e) {\n  const r = e.symbolLayers;\n  if (!r) return !1;\n  const t = r.find(e => e.effects?.find(e => \"CIMGeometricEffectDashes\" === e.type && null != e.dashTemplate)),\n    i = r.find(e => e.effects?.find(e => \"CIMGeometricEffectAddControlPoints\" === e.type));\n  return !!t || !!i;\n}\nfunction ee(e) {\n  return e.some(e => \"CIMSolidFill\" !== e.type && \"CIMSolidStroke\" !== e.type && (\"CIMVectorMarker\" !== e.type && \"CIMPictureMarker\" !== e.type || null != e.markerPlacement));\n}\nfunction re(e) {\n  return t(e).map(e => ({\n    ...e,\n    propertyName: j(e.propertyName)\n  }));\n}\nfunction te(e) {\n  return f(e) ? {\n    type: \"animation-params\",\n    params: e\n  } : null;\n}\nexport { B as CIMAnalyzer, Q as analyzeCIMResource };","map":{"version":3,"names":["isRGB","e","getFontFamily","r","clone","t","i","pt2px","o","px2pt","a","numericHash","s","checkForAnimations","l","getAnimationParams","n","handleAbsoluteAnchor","p","handleMarker","c","handleRelativeAnchor","m","getFrameTranslation","y","translate","d","getStaticParam","h","shouldUseAnimatedPath","f","CIMSymbolHelper","u","defaultCIMValues","v","Alignment","O","SymbolUnits","g","fitVectorMarker","_","OverrideHelper","M","getExtent","S","getSDFMetrics","k","getSDFDimensions","b","colorToArray","C","normalizeAlpha","P","getSize","z","isCIMMarkerStrokePlacement","x","getTintColor","E","getNumericValue","I","normalizePrimitiveOverrideProps","L","getDefaultCIMValue","V","getEnum","N","getStrokeWidth","R","getFillColor","A","getStrokeColor","w","fromCIMFontDecoration","G","fromCIMFontStyle","F","fromCIMHorizontalAlignment","T","fromCIMVerticalAlignment","X","isValidCIMValue","Y","uncapitalize","j","CIMEffectHelper","W","rasterizedVectorMarkerMinSize","U","randomInsidePolygonTextureSize","D","H","getLogger","J","markerPlacement","angleToLine","MAP","SCREEN","B","constructor","_cimLayers","_poMap","_primitiveOverrides","_resourceManager","analyzeSymbolReference","_reset","primitiveOverrides","valueExpressionInfo","_setPoMap","primitiveName","propertyName","value","includes","_analyzeSymbol","symbol","type","_analyzeMultiLayerSymbol","symbolLayers","length","geometryEngine","effects","angleAlignment","transform","fromColor","toColor","colorMix","toOpacity","opacityMix","hasAnimations","enable","push","findEffectOverrides","findApplicableOverrides","_analyzeSolidFill","_analyzePictureFill","_analyzeHatchFill","_analyzeGradientFill","_analyzeSolidStroke","_analyzePictureStroke","_analyzeGradientStroke","_analyzeMarker","error","color","spriteRasterizationParam","colorLocked","_getValueOrOverrideExpression","height","angle","offsetX","offsetY","scaleX","applyRandomOffset","sampleAlphaOnly","hasUnresolvedReplacementColor","CIMPictureFill","width","getResource","url","resource","overrides","_getPrimitiveMaterialOverrides","rotation","_analyzeMaterialOverrides","lineSymbol","Color","StrokeColor","_maybeGetValueOrOverrideExpression","find","defaultValue","separation","CIMHatchFill","gradientMethod","gradientSize","gradientSizeUnits","gradientType","interval","CIMGradientFill","colorRamp","colors","Absolute","Relative","CIMSolidStroke","capStyle","capstyle","joinStyle","joinstyle","miterLimit","_analyzePrimitiveOverrides","Array","isArray","effect","lineDashEnding","dashTemplate","scaleDash","offsetAlongLine","pop","filter","isOutline","cap","join","referenceWidth","zOrder","K","name","CIMPictureStroke","CIMGradientStroke","_analyzeMarkerInsidePolygon","size","CIMVectorMarker","_analyzePictureMarker","_analyzeVectorMarker","markerGraphics","animatedSymbolProperties","Math","abs","stepX","stepY","gridType","max","floor","shiftOddRows","gridAngle","_createMarkerPlacementOverrideExpression","_createGIFAnimatedSymbolPropertiesOverrideExpression","anchorPoint","urlHash","playAnimation","reverseAnimation","randomizeStartTime","randomizeStartSeed","startTimeOffset","duration","repeatType","repeatDelay","_getMaterialOverrides","scaleSymbolsProportionally","alignment","params","isAbsoluteAnchorPoint","anchorPointUnits","outlineColor","outlineWidth","frameHeight","widthRatio","rotateClockwise","referenceSize","sizeRatio","animationParams","te","baseSize","frame","ymax","ymin","rotateClockWise","absoluteAnchorPoint","geometry","xmin","xmax","$","relativeTranslation","absoluteScale","translation","scale","parent","_analyzeMultiLayerGraphicNonSDF","_analyzeMultiLayerGraphic","_analyzeTextGraphic","Z","ee","_analyzeMarkerGraphicSymbolLayers","_analyzeCompositeMarkerGraphic","applyEffects","frameSizeRatio","anchorX","anchorY","sdfPaddingRatio","geom","asFill","path","q","isStroke","fontStyleName","fontFamilyName","font","family","decoration","CIMTextSymbol","haloSymbol","haloSize","callout","backgroundSymbol","textString","toLowerCase","lineWidth","textRasterizationParam","fontName","haloColor","weight","style","horizontalAlignment","verticalAlignment","text","outlineSize","backgroundColor","borderLineColor","borderLineWidth","getTextureAnchor","avoidSDFRasterization","placement","re","animation","forEach","billboardMode3D","depth3D","respectFrame","clippingPath","indexOf","parseInt","slice","isNaN","Q","applyOverrides","animations","some","map","CIMAnalyzer","analyzeCIMResource"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isRGB as e}from\"../../core/colorUtils.js\";import{getFontFamily as r}from\"../../core/fontUtils.js\";import{clone as t}from\"../../core/lang.js\";import i from\"../../core/Logger.js\";import{pt2px as o,px2pt as a}from\"../../core/screenUtils.js\";import{numericHash as s}from\"../../core/string.js\";import{checkForAnimations as l,getAnimationParams as n,handleAbsoluteAnchor as p,handleMarker as c,handleRelativeAnchor as m,getFrameTranslation as y,translate as d,getStaticParam as h,shouldUseAnimatedPath as f}from\"./animationUtils.js\";import{CIMSymbolHelper as u}from\"./CIMSymbolHelper.js\";import{defaultCIMValues as v}from\"./defaultCIMValues.js\";import{Alignment as O,SymbolUnits as g}from\"./enums.js\";import{fitVectorMarker as _}from\"./fitVectorMarker.js\";import{OverrideHelper as M}from\"./OverrideHelper.js\";import{getExtent as S,getSDFMetrics as k,getSDFDimensions as b}from\"./SDFHelper.js\";import{colorToArray as C,normalizeAlpha as P,getSize as z,isCIMMarkerStrokePlacement as x,getTintColor as E,getNumericValue as I,normalizePrimitiveOverrideProps as L,getDefaultCIMValue as V,getEnum as N,getStrokeWidth as R,getFillColor as A,getStrokeColor as w,fromCIMFontDecoration as G,fromCIMFontStyle as F,fromCIMHorizontalAlignment as T,fromCIMVerticalAlignment as X,isValidCIMValue as Y,uncapitalize as j}from\"./utils.js\";import{CIMEffectHelper as W}from\"./effects/CIMEffectHelper.js\";import{rasterizedVectorMarkerMinSize as U,randomInsidePolygonTextureSize as D}from\"../../views/2d/engine/webgl/definitions.js\";const H=()=>i.getLogger(\"esri.symbols.cim.cimAnalyzer\");function J(e){const r=e.markerPlacement;return r&&r.angleToLine?O.MAP:O.SCREEN}class B{constructor(e){this._cimLayers=[],this._poMap={},this._primitiveOverrides=[],e&&(this._resourceManager=e)}analyzeSymbolReference(r,t,i){if(this._cimLayers=i??[],!r)return this._cimLayers;if(this._reset(),r.primitiveOverrides){this._primitiveOverrides=r.primitiveOverrides;for(const r of this._primitiveOverrides){const t=r.valueExpressionInfo;if(t)this._setPoMap(r.primitiveName,r.propertyName,t);else if(null!=r.value){let t=r.value;r.propertyName.includes(\"Color\")&&(e(t)&&(t=C(t)),t=P(t)),this._setPoMap(r.primitiveName,r.propertyName,t)}}}return this._analyzeSymbol(r.symbol,t),this._cimLayers}_reset(){this._cimLayers=[],this._poMap={},this._primitiveOverrides=[]}_analyzeSymbol(e,r){switch(e?.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":this._analyzeMultiLayerSymbol(e,r)}}_analyzeMultiLayerSymbol(e,r){const t=e?.symbolLayers;if(!t)return;for(let l=0;l<t.length;l++){const e=t[l];\"CIMVectorMarker\"===e.type&&(t[l]=_(e,this._resourceManager.geometryEngine))}const i=e.effects;let o=O.SCREEN;const a=z(e)??0;\"CIMPointSymbol\"===e.type&&\"Map\"===e.angleAlignment&&(o=O.MAP);let s={transform:[0,0,0,1],fromColor:[1,1,1,1],toColor:[1,1,1,1],colorMix:[0,0,0,0],toOpacity:[1,1,1,1],opacityMix:[0,0,0,0],hasAnimations:l(e)};s=n(this._poMap,e,s);const p=\"CIMPolygonSymbol\"===e.type;let c=t.length;for(;c--;){const l=t[c];if(!l||!1===l.enable)continue;let n;i?.length&&(n=[...i]);const m=l.effects;m?.length&&(i?n.push(...m):n=[...m]);let y=null;if(n){y=[];for(const e of n){const r=M.findEffectOverrides(e,this._primitiveOverrides);r&&y.push(r)}}const d=[];switch(M.findApplicableOverrides(l,this._primitiveOverrides,d),l.type){case\"CIMSolidFill\":this._analyzeSolidFill(l,y);break;case\"CIMPictureFill\":this._analyzePictureFill(l,y);break;case\"CIMHatchFill\":this._analyzeHatchFill(l,y);break;case\"CIMGradientFill\":this._analyzeGradientFill(l,y);break;case\"CIMSolidStroke\":this._analyzeSolidStroke(l,y,p,a);break;case\"CIMPictureStroke\":this._analyzePictureStroke(l,y,p,a);break;case\"CIMGradientStroke\":this._analyzeGradientStroke(l,y,p,a);break;case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":{\"CIMLineSymbol\"!==e.type&&\"CIMPolygonSymbol\"!==e.type||(o=J(l));const t=[],i=l.primitiveName;i&&t.push(i);const n=p&&x(l.markerPlacement);this._analyzeMarker(l,y,null,t,o,a,r,[],s,!1,n);break}default:H().error(\"Cannot analyze CIM layer\",l.type)}}}_analyzeSolidFill(e,r){const{primitiveName:t,type:i}=e,o=P(e.color);this._cimLayers.push({type:\"fill\",spriteRasterizationParam:null,colorLocked:!!e.colorLocked,color:this._getValueOrOverrideExpression(i,t,\"Color\",o),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:r,applyRandomOffset:!1,sampleAlphaOnly:!0,hasUnresolvedReplacementColor:!1})}_analyzePictureFill(e,r){const{primitiveName:t,type:i}=e,o=E(e),a=I(e.height,v.CIMPictureFill.height);let s=I(e.scaleX,1);if(\"width\"in e&&\"number\"==typeof e.width){const r=e.width;let t=1;const i=this._resourceManager.getResource(e.url);null!=i&&(t=i.width/i.height),s/=t*(a/r)}const l={type:\"sprite-rasterization-param\",resource:e,overrides:this._getPrimitiveMaterialOverrides(t,i)};this._cimLayers.push({type:\"fill\",spriteRasterizationParam:l,colorLocked:!!e.colorLocked,effects:r,color:this._getValueOrOverrideExpression(i,t,\"TintColor\",o),height:this._getValueOrOverrideExpression(i,t,\"Height\",a),scaleX:this._getValueOrOverrideExpression(i,t,\"ScaleX\",s),angle:this._getValueOrOverrideExpression(i,t,\"Rotation\",I(e.rotation)),offsetX:this._getValueOrOverrideExpression(i,t,\"OffsetX\",I(e.offsetX)),offsetY:this._getValueOrOverrideExpression(i,t,\"OffsetY\",I(e.offsetY)),applyRandomOffset:!1,sampleAlphaOnly:!1,hasUnresolvedReplacementColor:!1})}_analyzeHatchFill(e,r){const{primitiveName:t,type:i}=e,o=this._analyzeMaterialOverrides(t,[\"Rotation\",\"OffsetX\",\"OffsetY\"]),a=L(o);let s=[255,255,255,1],l=!1;if(e.lineSymbol?.symbolLayers)for(const p of e.lineSymbol.symbolLayers){if(\"CIMSolidStroke\"!==p.type)continue;const e=p.primitiveName??t;l||!e||p.colorLocked||null==this._poMap[e]?.Color&&null==this._poMap[e]?.StrokeColor||(s=P(p.color),s=this._maybeGetValueOrOverrideExpression(e,\"StrokeColor\")??this._getValueOrOverrideExpression(i,e,\"Color\",s),l=!0);const r=this._maybeGetValueOrOverrideExpression(e,\"StrokeWidth\");if(r){let t=null,o=null;\"number\"==typeof r?t=r:o=r.valueExpressionInfo;let s=a.find((e=>\"strokeWidth\"===e.propertyName));s?s.propertyName=\"width\":(s={type:\"CIMPrimitiveOverride\",primitiveName:e,propertyName:\"width\",valueExpressionInfo:o,value:t,defaultValue:V(i,\"width\")},a.push(s))}}const n={type:\"sprite-rasterization-param\",resource:e,overrides:a};this._cimLayers.push({type:\"fill\",spriteRasterizationParam:n,colorLocked:!!e.colorLocked,effects:r,color:s,height:this._getValueOrOverrideExpression(i,t,\"Separation\",I(e.separation,v.CIMHatchFill.separation)),scaleX:1,angle:this._getValueOrOverrideExpression(i,t,\"Rotation\",I(e.rotation)),offsetX:this._getValueOrOverrideExpression(i,t,\"OffsetX\",I(e.offsetX)),offsetY:this._getValueOrOverrideExpression(i,t,\"OffsetY\",I(e.offsetY)),applyRandomOffset:!1,sampleAlphaOnly:!0,hasUnresolvedReplacementColor:!l})}_analyzeGradientFill(e,r){const{angle:t,gradientMethod:i,gradientSize:o,gradientSizeUnits:a,gradientType:s,interval:l,primitiveName:n,type:p}=e,c=v.CIMGradientFill,m=e.colorRamp;this._cimLayers.push({type:\"gradientFill\",spriteRasterizationParam:{type:\"sprite-rasterization-param\",resource:e,overrides:this._getPrimitiveMaterialOverrides(n,p)},colorLocked:!1,effects:r,color:[255,255,255,1],gradientMethod:this._getValueOrOverrideExpression(p,n,\"GradientMethod\",i??\"Linear\"),angle:this._getValueOrOverrideExpression(p,n,\"Angle\",I(t,c.angle)),gradientType:this._getValueOrOverrideExpression(p,n,\"GradientType\",s??c.gradientType),interval:this._getValueOrOverrideExpression(p,n,\"Interval\",I(l,\"CIMFixedColorRamp\"===m.type?m.colors.length:c.interval)),gradientSize:this._getValueOrOverrideExpression(p,n,\"GradientSize\",I(o,c.gradientSize)),gradientSizeUnits:\"Absolute\"===a?g.Absolute:\"Relative\"===a?g.Relative:c.gradientSizeUnits})}_analyzeSolidStroke(e,r,t,i){const{primitiveName:o,type:a}=e,s=P(e.color),l=I(e.width,v.CIMSolidStroke.width),n=N(e.capStyle,v.CIMSolidStroke.capstyle),p=N(e.joinStyle,v.CIMSolidStroke.joinstyle),c=e.miterLimit;let m,y,d,h,f=[];if(this._analyzePrimitiveOverrides(o,r,null,null)&&(f=this._getPrimitiveMaterialOverrides(o,a)),r&&Array.isArray(r)&&r.length>0){const e=r[r.length-1].effect;e&&\"CIMGeometricEffectDashes\"===e.type&&\"NoConstraint\"===e.lineDashEnding&&(m=e.dashTemplate,y=e.scaleDash,d=e.offsetAlongLine,h=e.primitiveName,(r=[...r]).pop())}null!=h&&f.push(...this._getPrimitiveMaterialOverrides(h,a).filter((e=>\"dashTemplate\"===e.propertyName)));const u=void 0!==m?{type:\"sprite-rasterization-param\",resource:{type:\"dash\",dashTemplate:m,primitiveName:h},overrides:f}:null;this._cimLayers.push({type:\"line\",spriteRasterizationParam:u,isOutline:t,colorLocked:!!e.colorLocked,effects:r,color:this._getValueOrOverrideExpression(a,o,\"Color\",s),width:this._getValueOrOverrideExpression(a,o,\"Width\",l),cap:this._getValueOrOverrideExpression(a,o,\"CapStyle\",n),join:this._getValueOrOverrideExpression(a,o,\"JoinStyle\",p),miterLimit:c&&this._getValueOrOverrideExpression(a,o,\"MiterLimit\",c),referenceWidth:i,zOrder:K(e.name),dashTemplate:this._maybeGetValueOrOverrideExpression(h,\"DashTemplate\")??m,offsetAlongLine:this._getValueOrOverrideExpression(a,h,\"OffsetAlongLine\",d??0),scaleDash:y,sampleAlphaOnly:!0})}_analyzePictureStroke(e,r,t,i){const{primitiveName:o,type:a}=e,s=E(e),l=I(e.width,v.CIMPictureStroke.width),n=N(e.capStyle,v.CIMPictureStroke.capstyle),p=N(e.joinStyle,v.CIMPictureStroke.joinstyle),c=e.miterLimit,m={type:\"sprite-rasterization-param\",resource:e,overrides:this._getPrimitiveMaterialOverrides(o,a)};this._cimLayers.push({type:\"line\",spriteRasterizationParam:m,isOutline:t,colorLocked:!!e.colorLocked,effects:r,color:this._getValueOrOverrideExpression(a,o,\"TintColor\",s),width:this._getValueOrOverrideExpression(a,o,\"Width\",l),cap:this._getValueOrOverrideExpression(a,o,\"CapStyle\",n),join:this._getValueOrOverrideExpression(a,o,\"JoinStyle\",p),miterLimit:c&&this._getValueOrOverrideExpression(a,o,\"MiterLimit\",c),referenceWidth:i,zOrder:K(e.name),dashTemplate:null,scaleDash:!1,sampleAlphaOnly:!1})}_analyzeGradientStroke(e,r,t,i){const{gradientMethod:o,gradientSize:a,gradientSizeUnits:s,gradientType:l,interval:n,primitiveName:p,type:c}=e,m=v.CIMGradientStroke,y=I(e.width,m.width),d=N(e.capStyle,m.capstyle),h=N(e.joinStyle,m.joinstyle),f=e.miterLimit,u=e.colorRamp;this._cimLayers.push({type:\"gradientStroke\",spriteRasterizationParam:{type:\"sprite-rasterization-param\",resource:e,overrides:this._getPrimitiveMaterialOverrides(p,c)},colorLocked:!!e.colorLocked,effects:r,color:[255,255,255,1],width:this._getValueOrOverrideExpression(c,p,\"Width\",y),cap:this._getValueOrOverrideExpression(c,p,\"CapStyle\",d),join:this._getValueOrOverrideExpression(c,p,\"JoinStyle\",h),miterLimit:f&&this._getValueOrOverrideExpression(c,p,\"MiterLimit\",f),referenceWidth:i,isOutline:t,gradientMethod:this._getValueOrOverrideExpression(c,p,\"GradientMethod\",o??m.gradientMethod),gradientType:this._getValueOrOverrideExpression(c,p,\"GradientType\",l??m.gradientType),interval:this._getValueOrOverrideExpression(c,p,\"Interval\",I(n,\"CIMFixedColorRamp\"===u.type?u.colors.length:m.interval)),gradientSize:this._getValueOrOverrideExpression(c,p,\"GradientSize\",I(a,m.gradientSize)),gradientSizeUnits:\"Absolute\"===s?g.Absolute:\"Relative\"===s?g.Relative:m.gradientSizeUnits})}_analyzeMarker(e,r,t,i,o,a,s,l,y,d=!1,h=!1){if(d||=!!e.colorLocked,this._analyzeMarkerInsidePolygon(e,r,d))return;const f=I(e.size,v.CIMVectorMarker.size),u=I(e.rotation),O=I(e.offsetX),g=I(e.offsetY),{primitiveName:_,type:M}=e,S=this._getValueOrOverrideExpression(M,_,\"Size\",f),k=this._getValueOrOverrideExpression(M,_,\"Rotation\",u),b=this._getValueOrOverrideExpression(M,_,\"OffsetX\",O),C=this._getValueOrOverrideExpression(M,_,\"OffsetY\",g);let P=y;switch(P=n(this._poMap,e,P),P=p(e,P),P=c(this._poMap,e,P),P=m(e,P),e.type){case\"CIMPictureMarker\":this._analyzePictureMarker(e,r,t,i,o,a,S,k,b,C,l,P,d,h);break;case\"CIMVectorMarker\":this._analyzeVectorMarker(e,r,t,i,o,a,S,k,b,C,l,P,s,d,h)}}_analyzeMarkerInsidePolygon(e,r,t){const{markerPlacement:i,type:o}=e;if(!i||\"CIMMarkerPlacementInsidePolygon\"!==i.type)return!1;if(\"CIMVectorMarker\"===o||\"CIMPictureMarker\"===o){const t=e.primitiveName;if(t&&this._analyzePrimitiveOverrides([t],r,null,null))return!1;const a=i.primitiveName;if(a&&this._analyzePrimitiveOverrides([a],r,null,null))return!1;if(\"CIMVectorMarker\"===o){const{markerGraphics:r}=e;if(r)for(const e of r){const{symbol:r}=e;if(\"CIMPolygonSymbol\"===r?.type&&r.symbolLayers){const{symbolLayers:e}=r;for(const r of e)if(\"CIMSolidStroke\"===r.type)return!1}}}else{const{animatedSymbolProperties:r}=e;if(r)return!1}}const s=Math.abs(i.stepX),l=Math.abs(i.stepY);if(0===s||0===l)return!0;let n,p;if(\"Random\"===i.gridType){const e=a(D),r=Math.max(Math.floor(e/s),1);n=l*Math.max(Math.floor(e/l),1);p=r*s/n}else i.shiftOddRows?(n=2*l,p=s/l*.5):(n=l,p=s/l);const c=E(e),m=\"CIMCharacterMarker\"===e.type?null:{type:\"sprite-rasterization-param\",resource:e,overrides:[]};return this._cimLayers.push({type:\"fill\",spriteRasterizationParam:m,colorLocked:t,effects:r,color:c,height:n,scaleX:p,angle:i.gridAngle,offsetX:I(i.offsetX),offsetY:I(i.offsetY),applyRandomOffset:\"Random\"===i.gridType,sampleAlphaOnly:\"CIMPictureMarker\"!==e.type,hasUnresolvedReplacementColor:!0}),!0}_analyzePictureMarker(e,r,i,o,a,l,n,p,c,m,y,d,h,f){const{animatedSymbolProperties:u,primitiveName:v,type:O}=e;let g=I(e.scaleX,1);const _=E(e);i||(i=this._createMarkerPlacementOverrideExpression(e.markerPlacement));const M=this._createGIFAnimatedSymbolPropertiesOverrideExpression(u),S=e.anchorPoint??{x:0,y:0};if(\"width\"in e&&\"number\"==typeof e.width){const r=e.width;let t=1;const i=this._resourceManager.getResource(e.url);null!=i&&(t=i.width/i.height);g/=t*(I(e.size)/r)}const k=[...o];let b;e.primitiveName&&k.push(e.primitiveName),u||M?b={type:\"animated\",url:e.url,urlHash:\"H\"+s(e.url),playAnimation:e.animatedSymbolProperties?.playAnimation,reverseAnimation:e.animatedSymbolProperties?.reverseAnimation,randomizeStartTime:e.animatedSymbolProperties?.randomizeStartTime,randomizeStartSeed:e.animatedSymbolProperties?.randomizeStartSeed,startTimeOffset:e.animatedSymbolProperties?.startTimeOffset,duration:e.animatedSymbolProperties?.duration,repeatType:e.animatedSymbolProperties?.repeatType,repeatDelay:e.animatedSymbolProperties?.repeatDelay}:(b=t(e),b.markerPlacement=null);const C={type:\"sprite-rasterization-param\",resource:b,overrides:this._getMaterialOverrides(k,O)};M&&C.overrides.push(...M.overrides);const P=n;this._cimLayers.push({type:\"marker\",spriteRasterizationParam:C,colorLocked:h,effects:r,scaleSymbolsProportionally:!1,alignment:a,size:n,scaleX:this._getValueOrOverrideExpression(O,v,\"ScaleX\",g),rotation:p,offsetX:c,offsetY:m,transform:{type:\"cim-marker-transform-param\",params:y},color:this._getValueOrOverrideExpression(O,v,\"TintColor\",_),anchorPoint:{x:S.x,y:S.y},isAbsoluteAnchorPoint:\"Relative\"!==e.anchorPointUnits,outlineColor:[0,0,0,0],outlineWidth:0,frameHeight:0,widthRatio:1,rotateClockwise:!!e.rotateClockwise,referenceSize:l,sizeRatio:1,isOutline:f,markerPlacement:i,animationParams:te(d),baseSize:P})}_analyzeVectorMarker(e,r,t,i,o,a,s,l,p,c,m,f,u,v,O){const g=e.markerGraphics;if(!g)return;const _=e.frame;let M=0;M=_?_.ymax-_.ymin:a;const S=!!e.scaleSymbolsProportionally;if(M){const r={offsetX:p,offsetY:c,rotation:l,size:s,frameHeight:M,rotateClockWise:!!e.rotateClockwise,absoluteAnchorPoint:!1,scaleSymbolsProportionally:S};m=[...m,r]}t||(t=this._createMarkerPlacementOverrideExpression(e.markerPlacement));for(const k of g)if(k){const s=k.symbol;if(!s)continue;const l=k.primitiveName;l&&i.push(l);let p,c=f;if((\"CIMPointSymbol\"===s.type||\"CIMTextSymbol\"===s.type)&&_){let r=0,t=0;const i=k.geometry;\"x\"in i&&\"y\"in i&&(r+=i.x-.5*(_.xmin+_.xmax),t+=i.y-.5*(_.ymin+_.ymax));const o=e.anchorPoint;let a=!1;o&&(\"Absolute\"===e.anchorPointUnits?(r-=o.x,t-=o.y,a=!0):_&&(r-=(_.xmax-_.xmin)*o.x,t-=(_.ymax-_.ymin)*o.y));const s={offsetX:r,offsetY:t,rotation:0,size:0,frameHeight:0,rotateClockWise:!1,absoluteAnchorPoint:a,scaleSymbolsProportionally:S};p=[...m,s]}const g=k.geometry,[b,C]=y(g,_);switch(0===b&&0===C||(c=d(c,b,C)),\"CIMPointSymbol\"===s.type&&(c=n(this._poMap,s,c)),s.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":u||$(s)?(c={...c,transform:{type:\"AnimatedTransform\",relativeTranslation:!1,absoluteScale:!0,translation:h([0,0]),rotation:h(0),scale:h(M),parent:f.transform}},this._analyzeMultiLayerGraphicNonSDF(e,r,t,k,i,o,a,p??m,c,M,v,O)):this._analyzeMultiLayerGraphic(e,r,t,k,i,o,a,p??m,c,M,v,O);break;case\"CIMTextSymbol\":this._analyzeTextGraphic(r,t,k,i,o,a,p??m,v)}l&&i.pop()}}_analyzeMultiLayerGraphic(e,r,t,i,o,a,s,l,n,p,c,m){const y=i.symbol.symbolLayers;y&&(!Z(y)||f(n)?ee(y)?this._analyzeMultiLayerGraphicNonSDF(e,r,t,i,o,a,s,l,n,p,!!c,m):this._analyzeMarkerGraphicSymbolLayers(e,r,t,i,o,a,s,l,n,p,c,m):this._analyzeCompositeMarkerGraphic(e,r,t,i,y,a,s,l,p,c,m))}_analyzeMarkerGraphicSymbolLayers(e,r,t,i,o,a,s,l,p,c,m,y){const d=i.symbol,h=d.symbolLayers;if(!h)return;const f=this._resourceManager.geometryEngine,u=W.applyEffects(d.effects,i.geometry,f);if(!u)return;let O=h.length;for(;O--;){const d=h[O];if(!d||!1===d.enable)continue;const g=d.primitiveName;switch(g&&o.push(g),d.type){case\"CIMSolidFill\":case\"CIMSolidStroke\":{const o=W.applyEffects(d.effects,u,f),h=S(o);if(!h)continue;const O=\"Relative\"!==e.anchorPointUnits,_=R(d)??0,{frameSizeRatio:M,anchorX:C,anchorY:z,widthRatio:x,sdfPaddingRatio:E}=k(h,e.frame,e.size,e.anchorPoint,O,_,e.scaleSymbolsProportionally),L=\"CIMSolidFill\"===d.type,V={type:\"sdf\",geom:o,sdfPaddingRatio:E,asFill:L},{path:N}=d,G=L?P(A(d)):null==N?P(w(d)):[0,0,0,0],F=L?[0,0,0,0]:P(w(d));if(!L&&!_)break;const T=i.primitiveName;let X=null;L&&!d.colorLocked&&(X=this._maybeGetValueOrOverrideExpression(T,\"FillColor\"));let Y=null;L||d.colorLocked||(Y=this._maybeGetValueOrOverrideExpression(T,\"StrokeColor\"));const j=X??this._getValueOrOverrideExpression(d.type,g,\"Color\",G),U=Y??this._getValueOrOverrideExpression(d.type,g,\"Color\",F),D=this._maybeGetValueOrOverrideExpression(T,\"StrokeWidth\")??this._getValueOrOverrideExpression(d.type,g,\"Width\",_),H=N?{type:\"sprite-rasterization-param\",resource:{type:\"path\",path:N,asFill:L},overrides:[]}:{type:\"sprite-rasterization-param\",resource:V,overrides:[]},J=n(this._poMap,d,p),B=I(e.size,v.CIMVectorMarker.size),q=this._getValueOrOverrideExpression(e.type,e.primitiveName,\"Size\",B);this._cimLayers.push({type:\"marker\",spriteRasterizationParam:H,colorLocked:!!d.colorLocked||!!m,effects:r,scaleSymbolsProportionally:!!e.scaleSymbolsProportionally,alignment:a,anchorPoint:{x:C,y:z},isAbsoluteAnchorPoint:O,size:c,rotation:0,offsetX:0,offsetY:0,scaleX:1,transform:{type:\"cim-marker-transform-param\",params:l},frameHeight:c,widthRatio:x,rotateClockwise:!1,referenceSize:s,sizeRatio:M,color:j,outlineColor:U,outlineWidth:D,isOutline:y,markerPlacement:t,animationParams:te(J),isStroke:\"CIMSolidFill\"!==d.type,baseSize:q,...b(o,E)});break}case\"CIMPictureMarker\":case\"CIMVectorMarker\":if(d.markerPlacement){H().error(\"Error analyzing CIM, got unexpected marker placement\");break}this._analyzeMarker(d,r,t,o,a,s,!1,l,p,m,y)}g&&o.pop()}}_analyzeTextGraphic(e,t,i,o,a,s,l,n){const p=[];M.findApplicableOverrides(i,this._primitiveOverrides,p);const c=i.geometry;if(!(\"x\"in c)||!(\"y\"in c))return;const m=i.symbol,y=G(m),d=F(m.fontStyleName),h=r(m.fontFamilyName);m.font={family:h,decoration:y,...d};const f=I(m.height,v.CIMTextSymbol.height),u=I(m.angle),O=I(m.offsetX),g=I(m.offsetY),{haloSymbol:_}=m,S=I(m.haloSize,0);let k=[0,0,0,0];if(_?.symbolLayers?.length){const e=_.symbolLayers;for(const r of e)if(r.color){k=this._getValueOrOverrideExpression(m?.haloSymbol?.type??\"CIMPolygonSymbol\",r.primitiveName,\"Color\",P(r.color));break}}const b=i.primitiveName;let C=[0,0,0,1],z=[0,0,0,0],x=0,E=!1;if(m.symbol?.symbolLayers)for(const r of m.symbol.symbolLayers){const e=r.primitiveName;if(\"CIMSolidStroke\"===r.type)z=this._getValueOrOverrideExpression(\"CIMSolidStroke\",e,\"Color\",P(r.color)),x=this._getValueOrOverrideExpression(\"CIMSolidStroke\",e,\"Width\",R(r)??0);else if(\"CIMSolidFill\"===r.type){const t=P(r.color);E=E??!!r.colorLocked,C=this._getValueOrOverrideExpression(\"CIMSolidFill\",e??b,\"Color\",t)}}let L=null,V=null,N=null,A=null,w=null;b&&(L=this._maybeGetValueOrOverrideExpression(b,\"TextSize\"),V=this._maybeGetValueOrOverrideExpression(b,\"TextAngle\"),N=this._maybeGetValueOrOverrideExpression(b,\"TextOffsetX\"),A=this._maybeGetValueOrOverrideExpression(b,\"TextOffsetY\"),E||(w=this._maybeGetValueOrOverrideExpression(b,\"FillColor\")));const Y=w??C;let j=null,W=null,U=0;if(m.callout&&\"CIMBackgroundCallout\"===m.callout.type){const e=m.callout;if(e.backgroundSymbol){const r=e.backgroundSymbol.symbolLayers;if(r)for(const e of r)\"CIMSolidFill\"===e.type?j=P(e.color):\"CIMSolidStroke\"===e.type&&(W=P(e.color),U=I(e.width,v.CIMSolidStroke.width))}}const D=this._getValueOrOverrideExpression(m.type,i.primitiveName,\"TextString\",i.textString??\"\");if(null==D)return;const{fontStyleName:H}=m,J=h+(H?\"-\"+H.toLowerCase():\"-regular\"),B=this._getMaterialOverrides(o,m.type);B.push(...this._getPrimitiveMaterialOverrides(i.primitiveName,m.type));const q={type:\"text-rasterization-param\",resource:{type:\"text\",textString:i.textString??\"\",font:m.font,symbol:m,primitiveName:i.primitiveName},overrides:B};this._cimLayers.push({type:\"text\",lineWidth:m.lineWidth,textRasterizationParam:q,colorLocked:!!n||!!E,effects:e,alignment:a,anchorPoint:{x:0,y:0},isAbsoluteAnchorPoint:!1,fontName:J,decoration:y,haloSize:S,haloColor:k,weight:d.weight,style:d.style,size:L??f,angle:V??u,offsetX:N??O,offsetY:A??g,transform:{type:\"cim-marker-transform-param\",params:l},horizontalAlignment:T(m.horizontalAlignment),verticalAlignment:X(m.verticalAlignment),text:D,color:Y,outlineColor:z,outlineSize:x,backgroundColor:j,borderLineColor:W,borderLineWidth:U,referenceSize:s,sizeRatio:1,markerPlacement:t})}_analyzeMultiLayerGraphicNonSDF(e,r,t,i,a,s,l,n,p,c,m,y){const d=q(e,i),h=e.primitiveName,f=this._analyzeMaterialOverrides(h,[\"Rotation\",\"OffsetX\",\"OffsetY\"]),O=L(f),[g,_,M]=u.getTextureAnchor(d,this._resourceManager,U),S=this._getMaterialOverrides(a,e.type);S.push(...O);const k={type:\"sprite-rasterization-param\",resource:{...d,avoidSDFRasterization:!0},overrides:S},b=I(e.size,v.CIMVectorMarker.size),C=this._getValueOrOverrideExpression(e.type,h,\"Size\",b);this._cimLayers.push({type:\"marker\",spriteRasterizationParam:k,colorLocked:m,effects:r,scaleSymbolsProportionally:!!e.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:g,y:_},isAbsoluteAnchorPoint:!1,size:c,rotation:0,offsetX:0,offsetY:0,transform:{type:\"cim-marker-transform-param\",params:n},color:[255,255,255,1],outlineColor:[0,0,0,0],outlineWidth:0,scaleX:1,frameHeight:c,widthRatio:1,rotateClockwise:!!e.rotateClockwise,referenceSize:l,sizeRatio:M/o(e.size),isOutline:y,markerPlacement:t,animationParams:te(p),baseSize:C})}_createMarkerPlacementOverrideExpression(e){if(!e)return null;const r=[];return M.findApplicableOverrides(e,this._primitiveOverrides,r),{type:\"cim-marker-placement-param\",placement:e,overrides:re(r)}}_createGIFAnimatedSymbolPropertiesOverrideExpression(e){if(!e)return null;const r=[];return M.findApplicableOverrides(e,this._primitiveOverrides,r),{type:\"cim-gif-animation-params\",animation:e,overrides:re(r)}}_analyzeCompositeMarkerGraphic(e,r,t,i,o,a,s,l,n,p,c){const m=i.geometry,y=o[0],d=o[1],h=S(m);if(!h)return;const f=\"Relative\"!==e.anchorPointUnits,u=I(y.width,v.CIMSolidStroke.width),{frameSizeRatio:O,anchorX:g,anchorY:_,widthRatio:M,sdfPaddingRatio:b}=k(h,e.frame,e.size,e.anchorPoint,f,u,e.scaleSymbolsProportionally),{path:C}=d,z=d.primitiveName,x=y.primitiveName,E=i.primitiveName;let L=null;d.colorLocked||p||(L=this._maybeGetValueOrOverrideExpression(E,\"FillColor\"));const V=L??this._getValueOrOverrideExpression(d.type,z,\"Color\",P(d.color));let N=null;y.colorLocked||p||(N=this._maybeGetValueOrOverrideExpression(E,\"StrokeColor\"));const R=N??this._getValueOrOverrideExpression(y.type,x,\"Color\",P(y.color)),A=this._maybeGetValueOrOverrideExpression(E,\"StrokeWidth\")??this._getValueOrOverrideExpression(y.type,x,\"Width\",u),w={type:\"sprite-rasterization-param\",resource:C?{type:\"path\",path:C,asFill:!0}:{type:\"sdf\",geom:m,sdfPaddingRatio:b,asFill:!0},overrides:[]};this._cimLayers.push({type:\"marker\",spriteRasterizationParam:w,colorLocked:p,effects:r,scaleSymbolsProportionally:!!e.scaleSymbolsProportionally,alignment:a,anchorPoint:{x:g,y:_},isAbsoluteAnchorPoint:f,size:n,rotation:0,offsetX:0,offsetY:0,scaleX:1,transform:{type:\"cim-marker-transform-param\",params:l},frameHeight:n,widthRatio:M,rotateClockwise:!1,referenceSize:s,sizeRatio:O,color:V,outlineColor:R,outlineWidth:A,isOutline:c,markerPlacement:t})}_setPoMap(e,r,t){let i;this._poMap[e]?i=this._poMap[e]:(i={},this._poMap[e]=i),i[r]=t}_maybeGetValueOrOverrideExpression(e,r,t){return this._getValueOrOverrideExpression(\"\",e,r,t,!1)}_getValueOrOverrideExpression(e,r,t,i,o=!0){if(o&&!Y(i)&&(i=V(e,t.toLowerCase())),null==r)return i;const a=this._poMap[r];if(null==a)return i;const s=a[t];return\"string\"==typeof s||\"number\"==typeof s||Array.isArray(s)?s:s?{valueExpressionInfo:s,defaultValue:i}:i}_analyzePrimitiveOverrides(e,r,t,i){if(null==e)return!1;\"string\"==typeof e&&(e=[e]);for(const o of this._primitiveOverrides)if(e.includes(o.primitiveName)&&o.valueExpressionInfo)return!0;if(null!=r)for(const o of r)if(o?.overrides.length>0)return!0;if(null!=t)for(const o of t)if(o?.overrides.length>0)return!0;if(null!=i)for(const o of i)if(o?.overrides.length>0)return!0;return!1}_getMaterialOverrides(e,r){if(!e)return[];const t=[];for(const i of e)t.push(...this._getPrimitiveMaterialOverrides(i,r));return t}_getPrimitiveMaterialOverrides(e,r){if(!e)return[];const t=L(this._primitiveOverrides.filter((r=>r.primitiveName===e)));return t.forEach((e=>e.defaultValue=V(r,e.propertyName.toLowerCase()))),t}_analyzeMaterialOverrides(e,r){return this._primitiveOverrides.filter((t=>t.primitiveName!==e||!r.includes(t.propertyName)))}}function q(e,r){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[r],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath}}function K(e){if(e&&0===e.indexOf(\"Level_\")){const r=parseInt(e.slice(6),10);if(!isNaN(r))return r}return 0}function Q(e,r){if(!r||0===r.length)return e;const i=t(e);return M.applyOverrides(i,r),i}const Z=e=>e&&2===e.length&&e[0].enable&&e[1].enable&&\"CIMSolidStroke\"===e[0].type&&\"CIMSolidFill\"===e[1].type&&null==e[0].path&&null==e[1].path&&!e[0].effects&&!e[1].effects&&!e[0].animations&&!e[1].animations;function $(e){const r=e.symbolLayers;if(!r)return!1;const t=r.find((e=>e.effects?.find((e=>\"CIMGeometricEffectDashes\"===e.type&&null!=e.dashTemplate)))),i=r.find((e=>e.effects?.find((e=>\"CIMGeometricEffectAddControlPoints\"===e.type))));return!!t||!!i}function ee(e){return e.some((e=>\"CIMSolidFill\"!==e.type&&\"CIMSolidStroke\"!==e.type&&(\"CIMVectorMarker\"!==e.type&&\"CIMPictureMarker\"!==e.type||null!=e.markerPlacement)))}function re(e){return t(e).map((e=>({...e,propertyName:j(e.propertyName)})))}function te(e){return f(e)?{type:\"animation-params\",params:e}:null}export{B as CIMAnalyzer,Q as analyzeCIMResource};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}