{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../core/mathUtils.js\";\nimport { px2pt as r, pt2px as o } from \"../../core/screenUtils.js\";\nimport { l as n } from \"../../chunks/vec42.js\";\nimport { create as i } from \"../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nconst c = 2.4;\nfunction e(t) {\n  return r(t * c);\n}\nfunction a(t) {\n  return o(t) / c;\n}\nfunction s(r, o, i, c) {\n  let {\n      color: e,\n      ratio: a\n    } = o,\n    {\n      color: s,\n      ratio: f\n    } = i;\n  if (f === a) {\n    const t = 1e-6;\n    1 === f ? a -= t : f += t;\n  }\n  const l = t((c - a) / (f - a), 0, 1);\n  n(r, e.toArray(), s.toArray(), l);\n}\nfunction f(t) {\n  const r = 512,\n    o = new Uint8ClampedArray(4 * r);\n  if (t = t.filter(({\n    ratio: t\n  }) => t >= 0 && t <= 1).sort((t, r) => t.ratio - r.ratio).map(({\n    color: t,\n    ratio: r\n  }) => ({\n    color: t,\n    ratio: Math.max(r, .001)\n  })), t.length < 1) return o;\n  let n = t[0],\n    c = t[0],\n    e = 1;\n  const a = i();\n  for (let i = 0; i < r; i++) {\n    const f = (i + .5) / r;\n    for (; f > c.ratio && e < t.length;) n = c, c = t[e++];\n    s(a, n, c, f), o.set(a, 4 * i);\n  }\n  return o;\n}\nfunction l(t, r, o) {\n  const n = Math.sqrt(t ** 2 + r ** 2) / o;\n  return n > 1 ? 0 : 3 / (Math.PI * o ** 2) * (1 - n ** 2) ** 2;\n}\nfunction u(t) {\n  return \"function\" == typeof t ? t : t ? r => +r[t] : () => 1;\n}\nexport { u as createValueFunction, l as evaluateDensityKernel, e as gaussianBlurRadiusPxToKernelDensityRadiusPt, f as generateGradient, a as kernelDensityRadiusPtToGaussianBlurRadiusPx, c as magicKernelDensityRadiusInflationFactor };","map":{"version":3,"names":["clamp","t","px2pt","r","pt2px","o","l","n","create","i","c","e","a","s","color","ratio","f","toArray","Uint8ClampedArray","filter","sort","map","Math","max","length","set","sqrt","PI","u","createValueFunction","evaluateDensityKernel","gaussianBlurRadiusPxToKernelDensityRadiusPt","generateGradient","kernelDensityRadiusPtToGaussianBlurRadiusPx","magicKernelDensityRadiusInflationFactor"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/renderers/support/heatmapUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{px2pt as r,pt2px as o}from\"../../core/screenUtils.js\";import{l as n}from\"../../chunks/vec42.js\";import{create as i}from\"../../core/libs/gl-matrix-2/factories/vec4f64.js\";const c=2.4;function e(t){return r(t*c)}function a(t){return o(t)/c}function s(r,o,i,c){let{color:e,ratio:a}=o,{color:s,ratio:f}=i;if(f===a){const t=1e-6;1===f?a-=t:f+=t}const l=t((c-a)/(f-a),0,1);n(r,e.toArray(),s.toArray(),l)}function f(t){const r=512,o=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return o;let n=t[0],c=t[0],e=1;const a=i();for(let i=0;i<r;i++){const f=(i+.5)/r;for(;f>c.ratio&&e<t.length;)n=c,c=t[e++];s(a,n,c,f),o.set(a,4*i)}return o}function l(t,r,o){const n=Math.sqrt(t**2+r**2)/o;return n>1?0:3/(Math.PI*o**2)*(1-n**2)**2}function u(t){return\"function\"==typeof t?t:t?r=>+r[t]:()=>1}export{u as createValueFunction,l as evaluateDensityKernel,e as gaussianBlurRadiusPxToKernelDensityRadiusPt,f as generateGradient,a as kernelDensityRadiusPtToGaussianBlurRadiusPx,c as magicKernelDensityRadiusInflationFactor};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}