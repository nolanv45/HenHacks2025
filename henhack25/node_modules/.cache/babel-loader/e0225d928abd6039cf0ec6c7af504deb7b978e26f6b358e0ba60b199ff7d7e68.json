{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from \"../../core/Error.js\";\nimport \"../../core/has.js\";\nimport e from \"../../core/Logger.js\";\nimport { abortMaybe as i } from \"../../core/maybe.js\";\nimport { isAbortError as r } from \"../../core/promiseUtils.js\";\nimport { signal as s } from \"../../core/signal.js\";\nimport { getTextureCompressionWorker as o, isCompressible as a } from \"../support/TextureCompressionHelper.js\";\nimport { checkWebGLError as n } from \"./checkWebGLError.js\";\nimport { TextureType as l, ResourceType as p, CompressedTextureFormat as m, TextureSamplingMode as h } from \"./enums.js\";\nimport { GLObjectType as _ } from \"./GLObjectType.js\";\nimport { estimateMemory as d } from \"./TextureDescriptor.js\";\nimport { isCompressedData as c, deriveInternalFormat as u, isTexImageSource as g, is3DTarget as T, validateTexture as x, isCompressedFormat as E, getDimensions as M, calcMipmapLevels as A, isSizedPixelFormat as I } from \"./textureUtils.js\";\nimport { ValidatedTextureDescriptor as f } from \"./ValidatedTextureDescriptor.js\";\nconst w = null,\n  D = () => e.getLogger(\"esri/views/webgl/Texture\");\nlet R = class e {\n  constructor(e, i = null, r = null) {\n    if (this.type = _.Texture, this._glName = null, this._samplingModeDirty = !1, this._wrapModeDirty = !1, this._wasImmutablyAllocated = !1, this._compressionAbortController = s(null), \"context\" in e) this._descriptor = e, r = i;else {\n      const r = f.validate(e, i);\n      if (!r) throw new t(\"Texture descriptor invalid\");\n      this._descriptor = r;\n    }\n    this._descriptor.target === l.TEXTURE_CUBE_MAP ? this._setDataCubeMap(r) : this.setData(r);\n  }\n  get glName() {\n    return this._glName;\n  }\n  get descriptor() {\n    return this._descriptor;\n  }\n  get usedMemory() {\n    return d(this._descriptor);\n  }\n  get cachedMemory() {\n    return this.usedMemory;\n  }\n  get isDirty() {\n    return this._samplingModeDirty || this._wrapModeDirty;\n  }\n  get isCompressing() {\n    return null !== this._compressionAbortController.value;\n  }\n  dispose() {\n    this.abortCompression(), this._glName && this._descriptor.context.instanceCounter.decrement(p.Texture, this), this._descriptor.context.gl && this._glName && (this._descriptor.context.unbindTexture(this), this._descriptor.context.gl.deleteTexture(this._glName), this._glName = null);\n  }\n  release() {\n    this.dispose();\n  }\n  resize(e, i) {\n    const r = this._descriptor;\n    if (r.width !== e || r.height !== i) {\n      if (this._wasImmutablyAllocated) throw new t(\"Immutable textures can't be resized!\");\n      r.width = e, r.height = i, this._descriptor.target === l.TEXTURE_CUBE_MAP ? this._setDataCubeMap(null) : this.setData(null);\n    }\n  }\n  enableCompression(t) {\n    this._descriptor.shouldCompress = t;\n  }\n  setData(t) {\n    this.abortCompression(), !c(t) && this._descriptor.internalFormat && this._descriptor.internalFormat in m && (this._descriptor.internalFormat = void 0), this._setData(t), o() && !c(t) && a(t) && this._descriptor.shouldCompress && this.compressOnWorker(t);\n  }\n  updateData(i, r, s, o, a, n, l = 0) {\n    n || D().error(\"An attempt to use uninitialized data!\"), this._glName || D().error(\"An attempt to update uninitialized texture!\");\n    const p = this._descriptor;\n    p.internalFormat = u(p);\n    const {\n      context: m,\n      pixelFormat: h,\n      dataType: _,\n      target: d,\n      isImmutable: T\n    } = p;\n    if (T && !this._wasImmutablyAllocated) throw new t(\"Cannot update immutable texture before allocation!\");\n    const x = m.bindTexture(this, e.TEXTURE_UNIT_FOR_UPDATES, !0);\n    (r < 0 || s < 0 || r + o > p.width || s + a > p.height) && D().error(\"An attempt to update out of bounds of the texture!\"), this._configurePixelStorage();\n    const {\n      gl: E\n    } = m;\n    l && (o && a || D().warn(\"Must pass width and height if `UNPACK_SKIP_ROWS` is used\"), E.pixelStorei(E.UNPACK_SKIP_ROWS, l)), g(n) ? E.texSubImage2D(d, i, r, s, o, a, h, _, n) : c(n) ? E.compressedTexSubImage2D(d, i, r, s, o, a, p.internalFormat, n.levels[i]) : E.texSubImage2D(d, i, r, s, o, a, h, _, n), l && E.pixelStorei(E.UNPACK_SKIP_ROWS, 0), m.bindTexture(x, e.TEXTURE_UNIT_FOR_UPDATES);\n  }\n  updateData3D(i, r, s, o, a, n, l, p) {\n    p || D().error(\"An attempt to use uninitialized data!\"), this._glName || D().error(\"An attempt to update an uninitialized texture!\");\n    const m = this._descriptor;\n    m.internalFormat = u(m);\n    const {\n      context: h,\n      pixelFormat: _,\n      dataType: d,\n      isImmutable: g,\n      target: x\n    } = m;\n    if (g && !this._wasImmutablyAllocated) throw new t(\"Cannot update immutable texture before allocation!\");\n    T(x) || D().warn(\"Attempting to set 3D texture data on a non-3D texture\");\n    const E = h.bindTexture(this, e.TEXTURE_UNIT_FOR_UPDATES);\n    h.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES), (r < 0 || s < 0 || o < 0 || r + a > m.width || s + n > m.height || o + l > m.depth) && D().error(\"An attempt to update out of bounds of the texture!\"), this._configurePixelStorage();\n    const {\n      gl: M\n    } = h;\n    if (c(p)) p = p.levels[i], M.compressedTexSubImage3D(x, i, r, s, o, a, n, l, m.internalFormat, p);else {\n      const t = p;\n      M.texSubImage3D(x, i, r, s, o, a, n, l, _, d, t);\n    }\n    h.bindTexture(E, e.TEXTURE_UNIT_FOR_UPDATES);\n  }\n  generateMipmap() {\n    const i = this._descriptor;\n    if (0 === i.width || 0 === i.height) return;\n    if (!i.hasMipmap) {\n      if (this._wasImmutablyAllocated) throw new t(\"Cannot add mipmaps to immutable texture after allocation\");\n      i.hasMipmap = !0, this._samplingModeDirty = !0, x(i);\n    }\n    i.samplingMode === h.LINEAR ? (this._samplingModeDirty = !0, i.samplingMode = h.LINEAR_MIPMAP_NEAREST) : i.samplingMode === h.NEAREST && (this._samplingModeDirty = !0, i.samplingMode = h.NEAREST_MIPMAP_NEAREST);\n    const r = this._descriptor.context.bindTexture(this, e.TEXTURE_UNIT_FOR_UPDATES);\n    this._descriptor.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES), this._descriptor.context.gl.generateMipmap(i.target), this._descriptor.context.bindTexture(r, e.TEXTURE_UNIT_FOR_UPDATES);\n  }\n  clearMipmap() {\n    const e = this._descriptor;\n    if (e.hasMipmap) {\n      if (this._wasImmutablyAllocated) throw new t(\"Cannot delete mipmaps to immutable texture after allocation\");\n      e.hasMipmap = !1, this._samplingModeDirty = !0, x(e);\n    }\n    e.samplingMode === h.LINEAR_MIPMAP_NEAREST ? (this._samplingModeDirty = !0, e.samplingMode = h.LINEAR) : e.samplingMode === h.NEAREST_MIPMAP_NEAREST && (this._samplingModeDirty = !0, e.samplingMode = h.NEAREST);\n  }\n  setSamplingMode(t) {\n    t !== this._descriptor.samplingMode && (this._descriptor.samplingMode = t, this._samplingModeDirty = !0);\n  }\n  setWrapMode(t) {\n    t !== this._descriptor.wrapMode && (this._descriptor.wrapMode = t, x(this._descriptor), this._wrapModeDirty = !0);\n  }\n  applyChanges() {\n    this._samplingModeDirty && (this._applySamplingMode(), this._samplingModeDirty = !1), this._wrapModeDirty && (this._applyWrapMode(), this._wrapModeDirty = !1);\n  }\n  abortCompression() {\n    this.isCompressing && (this._compressionAbortController.value = i(this._compressionAbortController.value));\n  }\n  _setData(i, r) {\n    const s = this._descriptor,\n      o = s.context?.gl;\n    if (!o) return;\n    n(o), this._glName || (this._glName = o.createTexture(), this._glName && s.context.instanceCounter.increment(p.Texture, this)), x(s);\n    const a = s.context.bindTexture(this, e.TEXTURE_UNIT_FOR_UPDATES);\n    s.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES), this._configurePixelStorage(), n(o);\n    const l = r ?? s.target,\n      m = T(l);\n    if (g(i)) this._setDataFromTexImageSource(i, l);else {\n      const {\n        width: e,\n        height: r,\n        depth: a\n      } = s;\n      if (null == e || null == r) throw new t(\"Width and height must be specified!\");\n      if (m && null == a) throw new t(\"Depth must be specified!\");\n      if (s.internalFormat = u(s), s.isImmutable && !this._wasImmutablyAllocated && this._texStorage(l, s.internalFormat, s.hasMipmap, e, r, a), c(i)) {\n        if (!E(s.internalFormat)) throw new t(\"Attempting to use compressed data with an uncompressed format!\");\n        this._setDataFromCompressedSource(i, s.internalFormat, l);\n      } else this._texImage(l, 0, s.internalFormat, e, r, a, i), n(o), s.hasMipmap && this.generateMipmap();\n    }\n    this._applySamplingMode(), this._applyWrapMode(), this._applyAnisotropicFilteringParameters(), n(o), s.context.bindTexture(a, e.TEXTURE_UNIT_FOR_UPDATES);\n  }\n  _setDataCubeMap(t = null) {\n    for (let e = l.TEXTURE_CUBE_MAP_POSITIVE_X; e <= l.TEXTURE_CUBE_MAP_NEGATIVE_Z; e++) this._setData(t, e);\n  }\n  _configurePixelStorage() {\n    const t = this._descriptor.context.gl,\n      {\n        unpackAlignment: e,\n        flipped: i,\n        preMultiplyAlpha: r\n      } = this._descriptor;\n    t.pixelStorei(t.UNPACK_ALIGNMENT, e), t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, i ? 1 : 0), t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r ? 1 : 0);\n  }\n  _setDataFromTexImageSource(t, e) {\n    const {\n        gl: i\n      } = this._descriptor.context,\n      r = this._descriptor;\n    r.internalFormat = u(r);\n    const s = T(e),\n      {\n        width: o,\n        height: a,\n        depth: l\n      } = M(t);\n    r.width && r.height, r.width || (r.width = o), r.height || (r.height = a), s && r.depth, s && (r.depth = l), r.isImmutable && !this._wasImmutablyAllocated && this._texStorage(e, r.internalFormat, r.hasMipmap, o, a, l), this._texImage(e, 0, r.internalFormat, o, a, l, t), n(i), r.hasMipmap && (this.generateMipmap(), n(i));\n  }\n  _setDataFromCompressedSource(t, e, i) {\n    const r = this._descriptor,\n      {\n        width: s,\n        height: o,\n        depth: a\n      } = r,\n      n = t.levels,\n      l = A(i, s, o, a),\n      p = Math.min(l, n.length) - 1;\n    this._descriptor.context.gl.texParameteri(r.target, r.context.gl.TEXTURE_MAX_LEVEL, p), this._forEachMipmapLevel((t, r, s, o) => {\n      const a = n[Math.min(t, n.length - 1)];\n      this._compressedTexImage(i, t, e, r, s, o, a);\n    }, p);\n  }\n  _texStorage(e, i, r, s, o, a) {\n    const {\n      gl: n\n    } = this._descriptor.context;\n    if (!I(i)) throw new t(\"Immutable textures must have a sized internal format\");\n    if (!this._descriptor.isImmutable) return;\n    const l = r ? A(e, s, o, a) : 1;\n    if (T(e)) {\n      if (null == a) throw new t(\"Missing depth dimension for 3D texture upload\");\n      n.texStorage3D(e, l, i, s, o, a);\n    } else n.texStorage2D(e, l, i, s, o);\n    this._wasImmutablyAllocated = !0;\n  }\n  _texImage(e, i, r, s, o, a, n) {\n    const l = this._descriptor.context.gl,\n      p = T(e),\n      {\n        isImmutable: m,\n        pixelFormat: h,\n        dataType: _\n      } = this._descriptor;\n    if (m) {\n      if (null != n) {\n        const r = n;\n        if (p) {\n          if (null == a) throw new t(\"Missing depth dimension for 3D texture upload\");\n          l.texSubImage3D(e, i, 0, 0, 0, s, o, a, h, _, r);\n        } else l.texSubImage2D(e, i, 0, 0, s, o, h, _, r);\n      }\n    } else {\n      const m = n;\n      if (p) {\n        if (null == a) throw new t(\"Missing depth dimension for 3D texture upload\");\n        l.texImage3D(e, i, r, s, o, a, 0, h, _, m);\n      } else l.texImage2D(e, i, r, s, o, 0, h, _, m);\n    }\n  }\n  _compressedTexImage(e, i, r, s, o, a, n) {\n    const l = this._descriptor.context.gl,\n      p = T(e);\n    if (this._descriptor.isImmutable) {\n      if (null != n) if (p) {\n        if (null == a) throw new t(\"Missing depth dimension for 3D texture upload\");\n        l.compressedTexSubImage3D(e, i, 0, 0, 0, s, o, a, r, n);\n      } else l.compressedTexSubImage2D(e, i, 0, 0, s, o, r, n);\n    } else if (p) {\n      if (null == a) throw new t(\"Missing depth dimension for 3D texture upload\");\n      l.compressedTexImage3D(e, i, r, s, o, a, 0, n);\n    } else l.compressedTexImage2D(e, i, r, s, o, 0, n);\n  }\n  async compressOnWorker(t) {\n    const e = this._descriptor.context?.gl.getExtension(\"WEBGL_compressed_texture_etc\"),\n      i = this._descriptor.context?.gl.getExtension(\"WEBGL_compressed_texture_s3tc\"),\n      s = o();\n    if (s && (e || i)) {\n      const o = new AbortController();\n      this._compressionAbortController.value = o;\n      const a = {\n        data: await createImageBitmap(t),\n        flipped: this.descriptor.flipped,\n        width: t.width,\n        height: t.height,\n        hasMipmap: this._descriptor.hasMipmap,\n        hasETC: !!e,\n        hasS3TC: !!i\n      };\n      s.invoke(a, this._compressionAbortController.value.signal).then(t => {\n        t && this.isCompressing && this.glName && (this._descriptor.internalFormat = t.internalFormat, this._setData(t.compressedTexture)), o === this._compressionAbortController.value && (this._compressionAbortController.value = null);\n      }).catch(t => {\n        r(t) || o !== this._compressionAbortController.value || (this._compressionAbortController.value = null);\n      });\n    }\n  }\n  _forEachMipmapLevel(e, i = 1 / 0) {\n    let {\n      width: r,\n      height: s,\n      depth: o,\n      hasMipmap: a,\n      target: n\n    } = this._descriptor;\n    const p = n === l.TEXTURE_3D;\n    if (null == r || null == s || p && null == o) throw new t(\"Missing texture dimensions for mipmap calculation\");\n    for (let t = 0; e(t, r, s, o), a && (1 !== r || 1 !== s || p && 1 !== o) && !(t >= i); ++t) r = Math.max(1, r >> 1), s = Math.max(1, s >> 1), p && (o = Math.max(1, o >> 1));\n  }\n  _applySamplingMode() {\n    const t = this._descriptor,\n      e = t.context?.gl;\n    let i = t.samplingMode,\n      r = t.samplingMode;\n    i === h.LINEAR_MIPMAP_NEAREST || i === h.LINEAR_MIPMAP_LINEAR ? (i = h.LINEAR, t.hasMipmap || (r = h.LINEAR)) : i !== h.NEAREST_MIPMAP_NEAREST && i !== h.NEAREST_MIPMAP_LINEAR || (i = h.NEAREST, t.hasMipmap || (r = h.NEAREST)), e.texParameteri(t.target, e.TEXTURE_MAG_FILTER, i), e.texParameteri(t.target, e.TEXTURE_MIN_FILTER, r);\n  }\n  _applyWrapMode() {\n    const t = this._descriptor,\n      e = t.context?.gl;\n    \"number\" == typeof t.wrapMode ? (e.texParameteri(t.target, e.TEXTURE_WRAP_S, t.wrapMode), e.texParameteri(t.target, e.TEXTURE_WRAP_T, t.wrapMode)) : (e.texParameteri(t.target, e.TEXTURE_WRAP_S, t.wrapMode.s), e.texParameteri(t.target, e.TEXTURE_WRAP_T, t.wrapMode.t));\n  }\n  _applyAnisotropicFilteringParameters() {\n    const t = this._descriptor,\n      e = t.context.capabilities.textureFilterAnisotropic;\n    if (!e) return;\n    t.context.gl.texParameterf(t.target, e.TEXTURE_MAX_ANISOTROPY, t.maxAnisotropy ?? 1);\n  }\n};\nR.TEXTURE_UNIT_FOR_UPDATES = 0;\nexport { R as Texture, w as tracer };","map":{"version":3,"names":["t","e","abortMaybe","i","isAbortError","r","signal","s","getTextureCompressionWorker","o","isCompressible","a","checkWebGLError","n","TextureType","l","ResourceType","p","CompressedTextureFormat","m","TextureSamplingMode","h","GLObjectType","_","estimateMemory","d","isCompressedData","c","deriveInternalFormat","u","isTexImageSource","g","is3DTarget","T","validateTexture","x","isCompressedFormat","E","getDimensions","M","calcMipmapLevels","A","isSizedPixelFormat","I","ValidatedTextureDescriptor","f","w","D","getLogger","R","constructor","type","Texture","_glName","_samplingModeDirty","_wrapModeDirty","_wasImmutablyAllocated","_compressionAbortController","_descriptor","validate","target","TEXTURE_CUBE_MAP","_setDataCubeMap","setData","glName","descriptor","usedMemory","cachedMemory","isDirty","isCompressing","value","dispose","abortCompression","context","instanceCounter","decrement","gl","unbindTexture","deleteTexture","release","resize","width","height","enableCompression","shouldCompress","internalFormat","_setData","compressOnWorker","updateData","error","pixelFormat","dataType","isImmutable","bindTexture","TEXTURE_UNIT_FOR_UPDATES","_configurePixelStorage","warn","pixelStorei","UNPACK_SKIP_ROWS","texSubImage2D","compressedTexSubImage2D","levels","updateData3D","setActiveTexture","depth","compressedTexSubImage3D","texSubImage3D","generateMipmap","hasMipmap","samplingMode","LINEAR","LINEAR_MIPMAP_NEAREST","NEAREST","NEAREST_MIPMAP_NEAREST","clearMipmap","setSamplingMode","setWrapMode","wrapMode","applyChanges","_applySamplingMode","_applyWrapMode","createTexture","increment","_setDataFromTexImageSource","_texStorage","_setDataFromCompressedSource","_texImage","_applyAnisotropicFilteringParameters","TEXTURE_CUBE_MAP_POSITIVE_X","TEXTURE_CUBE_MAP_NEGATIVE_Z","unpackAlignment","flipped","preMultiplyAlpha","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","Math","min","length","texParameteri","TEXTURE_MAX_LEVEL","_forEachMipmapLevel","_compressedTexImage","texStorage3D","texStorage2D","texImage3D","texImage2D","compressedTexImage3D","compressedTexImage2D","getExtension","AbortController","data","createImageBitmap","hasETC","hasS3TC","invoke","then","compressedTexture","catch","TEXTURE_3D","max","LINEAR_MIPMAP_LINEAR","NEAREST_MIPMAP_LINEAR","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","capabilities","textureFilterAnisotropic","texParameterf","TEXTURE_MAX_ANISOTROPY","maxAnisotropy","tracer"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/webgl/Texture.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Error.js\";import\"../../core/has.js\";import e from\"../../core/Logger.js\";import{abortMaybe as i}from\"../../core/maybe.js\";import{isAbortError as r}from\"../../core/promiseUtils.js\";import{signal as s}from\"../../core/signal.js\";import{getTextureCompressionWorker as o,isCompressible as a}from\"../support/TextureCompressionHelper.js\";import{checkWebGLError as n}from\"./checkWebGLError.js\";import{TextureType as l,ResourceType as p,CompressedTextureFormat as m,TextureSamplingMode as h}from\"./enums.js\";import{GLObjectType as _}from\"./GLObjectType.js\";import{estimateMemory as d}from\"./TextureDescriptor.js\";import{isCompressedData as c,deriveInternalFormat as u,isTexImageSource as g,is3DTarget as T,validateTexture as x,isCompressedFormat as E,getDimensions as M,calcMipmapLevels as A,isSizedPixelFormat as I}from\"./textureUtils.js\";import{ValidatedTextureDescriptor as f}from\"./ValidatedTextureDescriptor.js\";const w=null,D=()=>e.getLogger(\"esri/views/webgl/Texture\");let R=class e{constructor(e,i=null,r=null){if(this.type=_.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,this._compressionAbortController=s(null),\"context\"in e)this._descriptor=e,r=i;else{const r=f.validate(e,i);if(!r)throw new t(\"Texture descriptor invalid\");this._descriptor=r}this._descriptor.target===l.TEXTURE_CUBE_MAP?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return d(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}get isCompressing(){return null!==this._compressionAbortController.value}dispose(){this.abortCompression(),this._glName&&this._descriptor.context.instanceCounter.decrement(p.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(e,i){const r=this._descriptor;if(r.width!==e||r.height!==i){if(this._wasImmutablyAllocated)throw new t(\"Immutable textures can't be resized!\");r.width=e,r.height=i,this._descriptor.target===l.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(t){this._descriptor.shouldCompress=t}setData(t){this.abortCompression(),!c(t)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in m&&(this._descriptor.internalFormat=void 0),this._setData(t),o()&&!c(t)&&a(t)&&this._descriptor.shouldCompress&&this.compressOnWorker(t)}updateData(i,r,s,o,a,n,l=0){n||D().error(\"An attempt to use uninitialized data!\"),this._glName||D().error(\"An attempt to update uninitialized texture!\");const p=this._descriptor;p.internalFormat=u(p);const{context:m,pixelFormat:h,dataType:_,target:d,isImmutable:T}=p;if(T&&!this._wasImmutablyAllocated)throw new t(\"Cannot update immutable texture before allocation!\");const x=m.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES,!0);(r<0||s<0||r+o>p.width||s+a>p.height)&&D().error(\"An attempt to update out of bounds of the texture!\"),this._configurePixelStorage();const{gl:E}=m;l&&(o&&a||D().warn(\"Must pass width and height if `UNPACK_SKIP_ROWS` is used\"),E.pixelStorei(E.UNPACK_SKIP_ROWS,l)),g(n)?E.texSubImage2D(d,i,r,s,o,a,h,_,n):c(n)?E.compressedTexSubImage2D(d,i,r,s,o,a,p.internalFormat,n.levels[i]):E.texSubImage2D(d,i,r,s,o,a,h,_,n),l&&E.pixelStorei(E.UNPACK_SKIP_ROWS,0),m.bindTexture(x,e.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(i,r,s,o,a,n,l,p){p||D().error(\"An attempt to use uninitialized data!\"),this._glName||D().error(\"An attempt to update an uninitialized texture!\");const m=this._descriptor;m.internalFormat=u(m);const{context:h,pixelFormat:_,dataType:d,isImmutable:g,target:x}=m;if(g&&!this._wasImmutablyAllocated)throw new t(\"Cannot update immutable texture before allocation!\");T(x)||D().warn(\"Attempting to set 3D texture data on a non-3D texture\");const E=h.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);h.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),(r<0||s<0||o<0||r+a>m.width||s+n>m.height||o+l>m.depth)&&D().error(\"An attempt to update out of bounds of the texture!\"),this._configurePixelStorage();const{gl:M}=h;if(c(p))p=p.levels[i],M.compressedTexSubImage3D(x,i,r,s,o,a,n,l,m.internalFormat,p);else{const t=p;M.texSubImage3D(x,i,r,s,o,a,n,l,_,d,t)}h.bindTexture(E,e.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const i=this._descriptor;if(0===i.width||0===i.height)return;if(!i.hasMipmap){if(this._wasImmutablyAllocated)throw new t(\"Cannot add mipmaps to immutable texture after allocation\");i.hasMipmap=!0,this._samplingModeDirty=!0,x(i)}i.samplingMode===h.LINEAR?(this._samplingModeDirty=!0,i.samplingMode=h.LINEAR_MIPMAP_NEAREST):i.samplingMode===h.NEAREST&&(this._samplingModeDirty=!0,i.samplingMode=h.NEAREST_MIPMAP_NEAREST);const r=this._descriptor.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(i.target),this._descriptor.context.bindTexture(r,e.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new t(\"Cannot delete mipmaps to immutable texture after allocation\");e.hasMipmap=!1,this._samplingModeDirty=!0,x(e)}e.samplingMode===h.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,e.samplingMode=h.LINEAR):e.samplingMode===h.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=h.NEAREST)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,x(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1)}abortCompression(){this.isCompressing&&(this._compressionAbortController.value=i(this._compressionAbortController.value))}_setData(i,r){const s=this._descriptor,o=s.context?.gl;if(!o)return;n(o),this._glName||(this._glName=o.createTexture(),this._glName&&s.context.instanceCounter.increment(p.Texture,this)),x(s);const a=s.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);s.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),n(o);const l=r??s.target,m=T(l);if(g(i))this._setDataFromTexImageSource(i,l);else{const{width:e,height:r,depth:a}=s;if(null==e||null==r)throw new t(\"Width and height must be specified!\");if(m&&null==a)throw new t(\"Depth must be specified!\");if(s.internalFormat=u(s),s.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(l,s.internalFormat,s.hasMipmap,e,r,a),c(i)){if(!E(s.internalFormat))throw new t(\"Attempting to use compressed data with an uncompressed format!\");this._setDataFromCompressedSource(i,s.internalFormat,l)}else this._texImage(l,0,s.internalFormat,e,r,a,i),n(o),s.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),n(o),s.context.bindTexture(a,e.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(t=null){for(let e=l.TEXTURE_CUBE_MAP_POSITIVE_X;e<=l.TEXTURE_CUBE_MAP_NEGATIVE_Z;e++)this._setData(t,e)}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:e,flipped:i,preMultiplyAlpha:r}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,e),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r?1:0)}_setDataFromTexImageSource(t,e){const{gl:i}=this._descriptor.context,r=this._descriptor;r.internalFormat=u(r);const s=T(e),{width:o,height:a,depth:l}=M(t);r.width&&r.height,r.width||(r.width=o),r.height||(r.height=a),s&&r.depth,s&&(r.depth=l),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(e,r.internalFormat,r.hasMipmap,o,a,l),this._texImage(e,0,r.internalFormat,o,a,l,t),n(i),r.hasMipmap&&(this.generateMipmap(),n(i))}_setDataFromCompressedSource(t,e,i){const r=this._descriptor,{width:s,height:o,depth:a}=r,n=t.levels,l=A(i,s,o,a),p=Math.min(l,n.length)-1;this._descriptor.context.gl.texParameteri(r.target,r.context.gl.TEXTURE_MAX_LEVEL,p),this._forEachMipmapLevel(((t,r,s,o)=>{const a=n[Math.min(t,n.length-1)];this._compressedTexImage(i,t,e,r,s,o,a)}),p)}_texStorage(e,i,r,s,o,a){const{gl:n}=this._descriptor.context;if(!I(i))throw new t(\"Immutable textures must have a sized internal format\");if(!this._descriptor.isImmutable)return;const l=r?A(e,s,o,a):1;if(T(e)){if(null==a)throw new t(\"Missing depth dimension for 3D texture upload\");n.texStorage3D(e,l,i,s,o,a)}else n.texStorage2D(e,l,i,s,o);this._wasImmutablyAllocated=!0}_texImage(e,i,r,s,o,a,n){const l=this._descriptor.context.gl,p=T(e),{isImmutable:m,pixelFormat:h,dataType:_}=this._descriptor;if(m){if(null!=n){const r=n;if(p){if(null==a)throw new t(\"Missing depth dimension for 3D texture upload\");l.texSubImage3D(e,i,0,0,0,s,o,a,h,_,r)}else l.texSubImage2D(e,i,0,0,s,o,h,_,r)}}else{const m=n;if(p){if(null==a)throw new t(\"Missing depth dimension for 3D texture upload\");l.texImage3D(e,i,r,s,o,a,0,h,_,m)}else l.texImage2D(e,i,r,s,o,0,h,_,m)}}_compressedTexImage(e,i,r,s,o,a,n){const l=this._descriptor.context.gl,p=T(e);if(this._descriptor.isImmutable){if(null!=n)if(p){if(null==a)throw new t(\"Missing depth dimension for 3D texture upload\");l.compressedTexSubImage3D(e,i,0,0,0,s,o,a,r,n)}else l.compressedTexSubImage2D(e,i,0,0,s,o,r,n)}else if(p){if(null==a)throw new t(\"Missing depth dimension for 3D texture upload\");l.compressedTexImage3D(e,i,r,s,o,a,0,n)}else l.compressedTexImage2D(e,i,r,s,o,0,n)}async compressOnWorker(t){const e=this._descriptor.context?.gl.getExtension(\"WEBGL_compressed_texture_etc\"),i=this._descriptor.context?.gl.getExtension(\"WEBGL_compressed_texture_s3tc\"),s=o();if(s&&(e||i)){const o=new AbortController;this._compressionAbortController.value=o;const a={data:await createImageBitmap(t),flipped:this.descriptor.flipped,width:t.width,height:t.height,hasMipmap:this._descriptor.hasMipmap,hasETC:!!e,hasS3TC:!!i};s.invoke(a,this._compressionAbortController.value.signal).then((t=>{t&&this.isCompressing&&this.glName&&(this._descriptor.internalFormat=t.internalFormat,this._setData(t.compressedTexture)),o===this._compressionAbortController.value&&(this._compressionAbortController.value=null)})).catch((t=>{r(t)||o!==this._compressionAbortController.value||(this._compressionAbortController.value=null)}))}}_forEachMipmapLevel(e,i=1/0){let{width:r,height:s,depth:o,hasMipmap:a,target:n}=this._descriptor;const p=n===l.TEXTURE_3D;if(null==r||null==s||p&&null==o)throw new t(\"Missing texture dimensions for mipmap calculation\");for(let t=0;e(t,r,s,o),a&&(1!==r||1!==s||p&&1!==o)&&!(t>=i);++t)r=Math.max(1,r>>1),s=Math.max(1,s>>1),p&&(o=Math.max(1,o>>1))}_applySamplingMode(){const t=this._descriptor,e=t.context?.gl;let i=t.samplingMode,r=t.samplingMode;i===h.LINEAR_MIPMAP_NEAREST||i===h.LINEAR_MIPMAP_LINEAR?(i=h.LINEAR,t.hasMipmap||(r=h.LINEAR)):i!==h.NEAREST_MIPMAP_NEAREST&&i!==h.NEAREST_MIPMAP_LINEAR||(i=h.NEAREST,t.hasMipmap||(r=h.NEAREST)),e.texParameteri(t.target,e.TEXTURE_MAG_FILTER,i),e.texParameteri(t.target,e.TEXTURE_MIN_FILTER,r)}_applyWrapMode(){const t=this._descriptor,e=t.context?.gl;\"number\"==typeof t.wrapMode?(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode)):(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode.s),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode.t))}_applyAnisotropicFilteringParameters(){const t=this._descriptor,e=t.context.capabilities.textureFilterAnisotropic;if(!e)return;t.context.gl.texParameterf(t.target,e.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}};R.TEXTURE_UNIT_FOR_UPDATES=0;export{R as Texture,w as tracer};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}