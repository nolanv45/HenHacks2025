{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from \"../../../core/has.js\";\nimport { PooledRBush as e } from \"../../../core/libs/rbush/PooledRBush.js\";\nimport t from \"../MeshGeoreferencedVertexSpace.js\";\nimport { convertVertexSpace as r } from \"./vertexSpaceConversion.js\";\nclass n {\n  async createIndex(t, r) {\n    const n = new Array();\n    if (!t.vertexAttributes?.position) return new e();\n    const o = a(t),\n      s = null != r ? await r.invoke(\"createIndexThread\", o, {\n        transferList: n\n      }) : this.createIndexThread(o).result;\n    return i().fromJSON(s);\n  }\n  createIndexThread(e) {\n    const t = i();\n    if (!e) return {\n      result: t.toJSON()\n    };\n    const r = new Float64Array(e.position);\n    return e.components ? s(t, r, e.components.map(e => new Uint32Array(e))) : o(t, r);\n  }\n}\nfunction o(e, t) {\n  const r = new Array(t.length / 9);\n  let n = 0;\n  for (let o = 0; o < t.length; o += 9) r[n++] = c(t, o, o + 3, o + 6);\n  return e.load(r), {\n    result: e.toJSON()\n  };\n}\nfunction s(e, t, r) {\n  let n = 0;\n  for (const a of r) n += a.length / 3;\n  const o = new Array(n);\n  let s = 0;\n  for (const a of r) for (let e = 0; e < a.length; e += 3) o[s++] = c(t, 3 * a[e], 3 * a[e + 1], 3 * a[e + 2]);\n  return e.load(o), {\n    result: e.toJSON()\n  };\n}\nfunction a(e) {\n  const {\n      vertexAttributes: {\n        position: n\n      },\n      vertexSpace: o,\n      spatialReference: s,\n      transform: a\n    } = e,\n    i = r({\n      vertexAttributes: {\n        position: n\n      },\n      vertexSpace: o,\n      spatialReference: s,\n      transform: a\n    }, t.absolute, {\n      allowBufferReuse: !0\n    })?.position;\n  return i ? !e.components || e.components.some(e => !e.faces) ? {\n    position: i.buffer\n  } : {\n    position: i.buffer,\n    components: e.components.map(e => e.faces)\n  } : null;\n}\nfunction i() {\n  return new e(9, has(\"esri-csp-restrictions\") ? e => e : [\".minX\", \".minY\", \".maxX\", \".maxY\"]);\n}\nfunction c(e, t, r, n) {\n  return {\n    minX: Math.min(e[t], e[r], e[n]),\n    maxX: Math.max(e[t], e[r], e[n]),\n    minY: Math.min(e[t + 1], e[r + 1], e[n + 1]),\n    maxY: Math.max(e[t + 1], e[r + 1], e[n + 1]),\n    p0: [e[t], e[t + 1], e[t + 2]],\n    p1: [e[r], e[r + 1], e[r + 2]],\n    p2: [e[n], e[n + 1], e[n + 2]]\n  };\n}\nexport { n as default };","map":{"version":3,"names":["has","PooledRBush","e","t","convertVertexSpace","r","n","createIndex","Array","vertexAttributes","position","o","a","s","invoke","transferList","createIndexThread","result","i","fromJSON","toJSON","Float64Array","components","map","Uint32Array","length","c","load","vertexSpace","spatialReference","transform","absolute","allowBufferReuse","some","faces","buffer","minX","Math","min","maxX","max","minY","maxY","p0","p1","p2","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/geometry/support/meshUtils/ElevationSamplerWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../core/has.js\";import{PooledRBush as e}from\"../../../core/libs/rbush/PooledRBush.js\";import t from\"../MeshGeoreferencedVertexSpace.js\";import{convertVertexSpace as r}from\"./vertexSpaceConversion.js\";class n{async createIndex(t,r){const n=new Array;if(!t.vertexAttributes?.position)return new e;const o=a(t),s=null!=r?await r.invoke(\"createIndexThread\",o,{transferList:n}):this.createIndexThread(o).result;return i().fromJSON(s)}createIndexThread(e){const t=i();if(!e)return{result:t.toJSON()};const r=new Float64Array(e.position);return e.components?s(t,r,e.components.map((e=>new Uint32Array(e)))):o(t,r)}}function o(e,t){const r=new Array(t.length/9);let n=0;for(let o=0;o<t.length;o+=9)r[n++]=c(t,o,o+3,o+6);return e.load(r),{result:e.toJSON()}}function s(e,t,r){let n=0;for(const a of r)n+=a.length/3;const o=new Array(n);let s=0;for(const a of r)for(let e=0;e<a.length;e+=3)o[s++]=c(t,3*a[e],3*a[e+1],3*a[e+2]);return e.load(o),{result:e.toJSON()}}function a(e){const{vertexAttributes:{position:n},vertexSpace:o,spatialReference:s,transform:a}=e,i=r({vertexAttributes:{position:n},vertexSpace:o,spatialReference:s,transform:a},t.absolute,{allowBufferReuse:!0})?.position;return i?!e.components||e.components.some((e=>!e.faces))?{position:i.buffer}:{position:i.buffer,components:e.components.map((e=>e.faces))}:null}function i(){return new e(9,has(\"esri-csp-restrictions\")?e=>e:[\".minX\",\".minY\",\".maxX\",\".maxY\"])}function c(e,t,r,n){return{minX:Math.min(e[t],e[r],e[n]),maxX:Math.max(e[t],e[r],e[n]),minY:Math.min(e[t+1],e[r+1],e[n+1]),maxY:Math.max(e[t+1],e[r+1],e[n+1]),p0:[e[t],e[t+1],e[t+2]],p1:[e[r],e[r+1],e[r+2]],p2:[e[n],e[n+1],e[n+2]]}}export{n as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}