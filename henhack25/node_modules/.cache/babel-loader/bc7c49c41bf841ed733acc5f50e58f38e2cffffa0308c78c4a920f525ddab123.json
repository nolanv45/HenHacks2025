{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from \"../../../../../../../core/RandomLCG.js\";\nimport { tileSize as e } from \"../../../definitions.js\";\nimport { SimpleMesh as s } from \"../../../meshing/SimpleMesh.js\";\nimport { DataType as o, TextureSamplingMode as r, TextureWrapMode as i, RenderbufferFormat as n, PrimitiveType as h, PixelType as d } from \"../../../../../../webgl/enums.js\";\nimport { FramebufferObject as u } from \"../../../../../../webgl/FramebufferObject.js\";\nimport { Renderbuffer as l } from \"../../../../../../webgl/Renderbuffer.js\";\nimport { RenderbufferDescriptor as _ } from \"../../../../../../webgl/RenderbufferDescriptor.js\";\nimport { Texture as T } from \"../../../../../../webgl/Texture.js\";\nimport { TextureDescriptor as m } from \"../../../../../../webgl/TextureDescriptor.js\";\nconst p = {\n  pos: {\n    count: 2,\n    type: o.UNSIGNED_SHORT\n  }\n};\nclass f {\n  constructor() {\n    this._dotTextureSize = 0, this._dotTextures = null, this._dotMesh = null;\n  }\n  destroy() {\n    this._disposeTextures(), this._dotFBO && this._dotFBO.dispose(), this._dotMesh && this._dotMesh.destroy();\n  }\n  getFBO(t) {\n    if (null == this._dotFBO) {\n      const s = e,\n        o = e,\n        h = new m(s, o);\n      h.samplingMode = r.NEAREST, h.wrapMode = i.CLAMP_TO_EDGE;\n      const d = new l(t, new _(n.DEPTH_STENCIL, s, o));\n      this._dotFBO = new u(t, h, d);\n    }\n    return this._dotFBO;\n  }\n  getDotDensityMesh(t) {\n    if (null == this._dotMesh) {\n      const o = e,\n        r = o * o,\n        i = 2,\n        n = new Int16Array(r * i);\n      for (let t = 0; t < o; t++) for (let e = 0; e < o; e++) n[i * (e + t * o)] = e, n[i * (e + t * o) + 1] = t;\n      this._dotMesh = s.create(t, {\n        primitive: h.POINTS,\n        vertex: n,\n        count: r,\n        layout: p\n      });\n    }\n    return this._dotMesh;\n  }\n  getDotDensityTextures(e, s, o) {\n    if (this._dotTextureSize === s && this._seed === o || (this._disposeTextures(), this._dotTextureSize = s, this._seed = o), null === this._dotTextures) {\n      const r = new t(o);\n      this._dotTextures = [this._allocDotDensityTexture(e, s, r), this._allocDotDensityTexture(e, s, r)];\n    }\n    return this._dotTextures;\n  }\n  _disposeTextures() {\n    if (this._dotTextures) {\n      for (let t = 0; t < this._dotTextures.length; t++) this._dotTextures[t].dispose();\n      this._dotTextures = null;\n    }\n  }\n  _allocDotDensityTexture(t, e, s) {\n    const o = new Float32Array(e * e * 4);\n    for (let r = 0; r < o.length; r++) o[r] = s.getFloat();\n    const i = new m();\n    return i.dataType = d.FLOAT, i.samplingMode = r.NEAREST, i.width = e, i.height = e, new T(t, i, o);\n  }\n}\nexport { f as DotDensityResources };","map":{"version":3,"names":["t","tileSize","e","SimpleMesh","s","DataType","o","TextureSamplingMode","r","TextureWrapMode","i","RenderbufferFormat","n","PrimitiveType","h","PixelType","d","FramebufferObject","u","Renderbuffer","l","RenderbufferDescriptor","_","Texture","T","TextureDescriptor","m","p","pos","count","type","UNSIGNED_SHORT","f","constructor","_dotTextureSize","_dotTextures","_dotMesh","destroy","_disposeTextures","_dotFBO","dispose","getFBO","samplingMode","NEAREST","wrapMode","CLAMP_TO_EDGE","DEPTH_STENCIL","getDotDensityMesh","Int16Array","create","primitive","POINTS","vertex","layout","getDotDensityTextures","_seed","_allocDotDensityTexture","length","Float32Array","getFloat","dataType","FLOAT","width","height","DotDensityResources"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/dotDensity/DotDensityResources.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../../../core/RandomLCG.js\";import{tileSize as e}from\"../../../definitions.js\";import{SimpleMesh as s}from\"../../../meshing/SimpleMesh.js\";import{DataType as o,TextureSamplingMode as r,TextureWrapMode as i,RenderbufferFormat as n,PrimitiveType as h,PixelType as d}from\"../../../../../../webgl/enums.js\";import{FramebufferObject as u}from\"../../../../../../webgl/FramebufferObject.js\";import{Renderbuffer as l}from\"../../../../../../webgl/Renderbuffer.js\";import{RenderbufferDescriptor as _}from\"../../../../../../webgl/RenderbufferDescriptor.js\";import{Texture as T}from\"../../../../../../webgl/Texture.js\";import{TextureDescriptor as m}from\"../../../../../../webgl/TextureDescriptor.js\";const p={pos:{count:2,type:o.UNSIGNED_SHORT}};class f{constructor(){this._dotTextureSize=0,this._dotTextures=null,this._dotMesh=null}destroy(){this._disposeTextures(),this._dotFBO&&this._dotFBO.dispose(),this._dotMesh&&this._dotMesh.destroy()}getFBO(t){if(null==this._dotFBO){const s=e,o=e,h=new m(s,o);h.samplingMode=r.NEAREST,h.wrapMode=i.CLAMP_TO_EDGE;const d=new l(t,new _(n.DEPTH_STENCIL,s,o));this._dotFBO=new u(t,h,d)}return this._dotFBO}getDotDensityMesh(t){if(null==this._dotMesh){const o=e,r=o*o,i=2,n=new Int16Array(r*i);for(let t=0;t<o;t++)for(let e=0;e<o;e++)n[i*(e+t*o)]=e,n[i*(e+t*o)+1]=t;this._dotMesh=s.create(t,{primitive:h.POINTS,vertex:n,count:r,layout:p})}return this._dotMesh}getDotDensityTextures(e,s,o){if(this._dotTextureSize===s&&this._seed===o||(this._disposeTextures(),this._dotTextureSize=s,this._seed=o),null===this._dotTextures){const r=new t(o);this._dotTextures=[this._allocDotDensityTexture(e,s,r),this._allocDotDensityTexture(e,s,r)]}return this._dotTextures}_disposeTextures(){if(this._dotTextures){for(let t=0;t<this._dotTextures.length;t++)this._dotTextures[t].dispose();this._dotTextures=null}}_allocDotDensityTexture(t,e,s){const o=new Float32Array(e*e*4);for(let r=0;r<o.length;r++)o[r]=s.getFloat();const i=new m;return i.dataType=d.FLOAT,i.samplingMode=r.NEAREST,i.width=e,i.height=e,new T(t,i,o)}}export{f as DotDensityResources};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}