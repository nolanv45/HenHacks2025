{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { save as e, saveAs as t } from \"./utils.js\";\nimport { getWGS84ExtentForItem as r, removeTypeKeyword as a, typeKeyword as s, addTypeKeyword as l } from \"../../portal/support/portalItemUtils.js\";\nconst n = \"Stream Service\",\n  i = \"Feed\",\n  o = \"stream-layer-save\",\n  m = \"stream-layer-save-as\";\nfunction u(e) {\n  return {\n    isValid: \"stream\" === e.type && !!e.url && !e.webSocketUrl,\n    errorMessage: \"Stream layer should be created using a url to a stream service\"\n  };\n}\nfunction c(e) {\n  const t = e.layerJSON;\n  return Promise.resolve(t && Object.keys(t).length ? t : null);\n}\nasync function y(e, t) {\n  const {\n    parsedUrl: n,\n    title: i,\n    fullExtent: o\n  } = e;\n  t.url = n.path, t.title ||= i, t.extent = null, null != o && (t.extent = await r(o)), a(t, s.METADATA), l(t, s.SINGLE_LAYER);\n}\nasync function p(t, r) {\n  return e({\n    layer: t,\n    itemType: n,\n    additionalItemType: i,\n    validateLayer: u,\n    createItemData: c,\n    errorNamePrefix: o\n  }, r);\n}\nasync function f(e, r, a) {\n  return t({\n    layer: e,\n    itemType: n,\n    validateLayer: u,\n    createItemData: c,\n    errorNamePrefix: m,\n    newItem: r,\n    setItemProperties: y\n  }, a);\n}\nexport { p as save, f as saveAs };","map":{"version":3,"names":["save","e","saveAs","t","getWGS84ExtentForItem","r","removeTypeKeyword","a","typeKeyword","s","addTypeKeyword","l","n","i","o","m","u","isValid","type","url","webSocketUrl","errorMessage","c","layerJSON","Promise","resolve","Object","keys","length","y","parsedUrl","title","fullExtent","path","extent","METADATA","SINGLE_LAYER","p","layer","itemType","additionalItemType","validateLayer","createItemData","errorNamePrefix","f","newItem","setItemProperties"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/save/streamLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as s,addTypeKeyword as l}from\"../../portal/support/portalItemUtils.js\";const n=\"Stream Service\",i=\"Feed\",o=\"stream-layer-save\",m=\"stream-layer-save-as\";function u(e){return{isValid:\"stream\"===e.type&&!!e.url&&!e.webSocketUrl,errorMessage:\"Stream layer should be created using a url to a stream service\"}}function c(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function y(e,t){const{parsedUrl:n,title:i,fullExtent:o}=e;t.url=n.path,t.title||=i,t.extent=null,null!=o&&(t.extent=await r(o)),a(t,s.METADATA),l(t,s.SINGLE_LAYER)}async function p(t,r){return e({layer:t,itemType:n,additionalItemType:i,validateLayer:u,createItemData:c,errorNamePrefix:o},r)}async function f(e,r,a){return t({layer:e,itemType:n,validateLayer:u,createItemData:c,errorNamePrefix:m,newItem:r,setItemProperties:y},a)}export{p as save,f as saveAs};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,IAAI,IAAIC,CAAC,EAACC,MAAM,IAAIC,CAAC,QAAK,YAAY;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,EAACC,iBAAiB,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,EAACC,cAAc,IAAIC,CAAC,QAAK,yCAAyC;AAAC,MAAMC,CAAC,GAAC,gBAAgB;EAACC,CAAC,GAAC,MAAM;EAACC,CAAC,GAAC,mBAAmB;EAACC,CAAC,GAAC,sBAAsB;AAAC,SAASC,CAACA,CAACf,CAAC,EAAC;EAAC,OAAM;IAACgB,OAAO,EAAC,QAAQ,KAAGhB,CAAC,CAACiB,IAAI,IAAE,CAAC,CAACjB,CAAC,CAACkB,GAAG,IAAE,CAAClB,CAAC,CAACmB,YAAY;IAACC,YAAY,EAAC;EAAgE,CAAC;AAAA;AAAC,SAASC,CAACA,CAACrB,CAAC,EAAC;EAAC,MAAME,CAAC,GAACF,CAAC,CAACsB,SAAS;EAAC,OAAOC,OAAO,CAACC,OAAO,CAACtB,CAAC,IAAEuB,MAAM,CAACC,IAAI,CAACxB,CAAC,CAAC,CAACyB,MAAM,GAACzB,CAAC,GAAC,IAAI,CAAC;AAAA;AAAC,eAAe0B,CAACA,CAAC5B,CAAC,EAACE,CAAC,EAAC;EAAC,MAAK;IAAC2B,SAAS,EAAClB,CAAC;IAACmB,KAAK,EAAClB,CAAC;IAACmB,UAAU,EAAClB;EAAC,CAAC,GAACb,CAAC;EAACE,CAAC,CAACgB,GAAG,GAACP,CAAC,CAACqB,IAAI,EAAC9B,CAAC,CAAC4B,KAAK,KAAGlB,CAAC,EAACV,CAAC,CAAC+B,MAAM,GAAC,IAAI,EAAC,IAAI,IAAEpB,CAAC,KAAGX,CAAC,CAAC+B,MAAM,GAAC,MAAM7B,CAAC,CAACS,CAAC,CAAC,CAAC,EAACP,CAAC,CAACJ,CAAC,EAACM,CAAC,CAAC0B,QAAQ,CAAC,EAACxB,CAAC,CAACR,CAAC,EAACM,CAAC,CAAC2B,YAAY,CAAC;AAAA;AAAC,eAAeC,CAACA,CAAClC,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOJ,CAAC,CAAC;IAACqC,KAAK,EAACnC,CAAC;IAACoC,QAAQ,EAAC3B,CAAC;IAAC4B,kBAAkB,EAAC3B,CAAC;IAAC4B,aAAa,EAACzB,CAAC;IAAC0B,cAAc,EAACpB,CAAC;IAACqB,eAAe,EAAC7B;EAAC,CAAC,EAACT,CAAC,CAAC;AAAA;AAAC,eAAeuC,CAACA,CAAC3C,CAAC,EAACI,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOJ,CAAC,CAAC;IAACmC,KAAK,EAACrC,CAAC;IAACsC,QAAQ,EAAC3B,CAAC;IAAC6B,aAAa,EAACzB,CAAC;IAAC0B,cAAc,EAACpB,CAAC;IAACqB,eAAe,EAAC5B,CAAC;IAAC8B,OAAO,EAACxC,CAAC;IAACyC,iBAAiB,EAACjB;EAAC,CAAC,EAACtB,CAAC,CAAC;AAAA;AAAC,SAAO8B,CAAC,IAAIrC,IAAI,EAAC4C,CAAC,IAAI1C,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}