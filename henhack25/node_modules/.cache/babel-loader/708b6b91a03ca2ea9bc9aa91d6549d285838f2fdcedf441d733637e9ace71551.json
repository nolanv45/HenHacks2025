{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { clone as t } from \"../../../../../core/lang.js\";\nimport { urlToObject as e, isAbsolute as i, join as l, addQueryParameters as s } from \"../../../../../core/urlUtils.js\";\nimport r from \"../../../../../geometry/Extent.js\";\nimport o from \"../../../../../layers/support/TileInfo.js\";\nimport { TilemapCache as n } from \"../../../../../layers/support/TilemapCache.js\";\nimport a from \"../TilemapIndex.js\";\nimport p from \"../TilemapRequest.js\";\nimport { request as h } from \"./VectorTilesRequestManager.js\";\nclass m {\n  constructor(h, m, u) {\n    this.tilemap = null, this.tileInfo = null, this.capabilities = null, this.fullExtent = null, this.initialExtent = null, this.name = h, this.sourceUrl = m;\n    const f = e(this.sourceUrl),\n      c = t(u),\n      x = c.tiles;\n    if (f) for (let t = 0; t < x.length; t++) {\n      const r = e(x[t]);\n      r && (i(r.path) || (r.path = l(f.path, r.path)), x[t] = s(r.path, {\n        ...f.query,\n        ...r.query\n      }));\n    }\n    this.tileServers = x;\n    const d = u.capabilities && u.capabilities.split(\",\").map(t => t.toLowerCase().trim()),\n      y = !0 === u?.exportTilesAllowed,\n      T = !0 === d?.includes(\"tilemap\"),\n      I = y && u.hasOwnProperty(\"maxExportTilesCount\") ? u.maxExportTilesCount : 0;\n    this.capabilities = {\n      operations: {\n        supportsExportTiles: y,\n        supportsTileMap: T\n      },\n      exportTiles: y ? {\n        maxExportTilesCount: +I\n      } : null\n    }, this.tileInfo = o.fromJSON(c.tileInfo);\n    const g = u.tileMap ? s(l(f.path, u.tileMap), f.query ?? {}) : null;\n    T ? (this.type = \"vector-tile\", this.tilemap = new p(new n({\n      layer: {\n        parsedUrl: f,\n        tileInfo: this.tileInfo\n      },\n      minLOD: c.minLOD ?? this.tileInfo.lods[0].level,\n      maxLOD: c.maxLOD ?? this.tileInfo.lods[this.tileInfo.lods.length - 1].level\n    }), g)) : g && (this.tilemap = new a(g)), this.fullExtent = r.fromJSON(u.fullExtent), this.initialExtent = r.fromJSON(u.initialExtent);\n  }\n  destroy() {\n    this.tilemap?.destroy();\n  }\n  async getRefKey(t, e) {\n    return this.tilemap ? this.tilemap.dataKey(t, e) : t;\n  }\n  requestTile(t, e, i, l) {\n    const s = this.tileServers[e % this.tileServers.length];\n    return h(s, t, e, i, l);\n  }\n  isCompatibleWith(t) {\n    const e = this.tileInfo,\n      i = t.tileInfo;\n    if (!e.spatialReference.equals(i.spatialReference)) return !1;\n    if (!e.origin.equals(i.origin)) return !1;\n    if (Math.round(e.dpi) !== Math.round(i.dpi)) return !1;\n    const l = e.lods,\n      s = i.lods,\n      r = Math.min(l.length, s.length);\n    for (let o = 0; o < r; o++) {\n      const t = l[o],\n        e = s[o];\n      if (t.level !== e.level || Math.round(t.scale) !== Math.round(e.scale)) return !1;\n    }\n    return !0;\n  }\n}\nexport { m as default };","map":{"version":3,"names":["clone","t","urlToObject","e","isAbsolute","i","join","l","addQueryParameters","s","r","o","TilemapCache","n","a","p","request","h","m","constructor","u","tilemap","tileInfo","capabilities","fullExtent","initialExtent","name","sourceUrl","f","c","x","tiles","length","path","query","tileServers","d","split","map","toLowerCase","trim","y","exportTilesAllowed","T","includes","I","hasOwnProperty","maxExportTilesCount","operations","supportsExportTiles","supportsTileMap","exportTiles","fromJSON","g","tileMap","type","layer","parsedUrl","minLOD","lods","level","maxLOD","destroy","getRefKey","dataKey","requestTile","isCompatibleWith","spatialReference","equals","origin","Math","round","dpi","min","scale","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/VectorTileSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../../core/lang.js\";import{urlToObject as e,isAbsolute as i,join as l,addQueryParameters as s}from\"../../../../../core/urlUtils.js\";import r from\"../../../../../geometry/Extent.js\";import o from\"../../../../../layers/support/TileInfo.js\";import{TilemapCache as n}from\"../../../../../layers/support/TilemapCache.js\";import a from\"../TilemapIndex.js\";import p from\"../TilemapRequest.js\";import{request as h}from\"./VectorTilesRequestManager.js\";class m{constructor(h,m,u){this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.initialExtent=null,this.name=h,this.sourceUrl=m;const f=e(this.sourceUrl),c=t(u),x=c.tiles;if(f)for(let t=0;t<x.length;t++){const r=e(x[t]);r&&(i(r.path)||(r.path=l(f.path,r.path)),x[t]=s(r.path,{...f.query,...r.query}))}this.tileServers=x;const d=u.capabilities&&u.capabilities.split(\",\").map((t=>t.toLowerCase().trim())),y=!0===u?.exportTilesAllowed,T=!0===d?.includes(\"tilemap\"),I=y&&u.hasOwnProperty(\"maxExportTilesCount\")?u.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:y,supportsTileMap:T},exportTiles:y?{maxExportTilesCount:+I}:null},this.tileInfo=o.fromJSON(c.tileInfo);const g=u.tileMap?s(l(f.path,u.tileMap),f.query??{}):null;T?(this.type=\"vector-tile\",this.tilemap=new p(new n({layer:{parsedUrl:f,tileInfo:this.tileInfo},minLOD:c.minLOD??this.tileInfo.lods[0].level,maxLOD:c.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}),g)):g&&(this.tilemap=new a(g)),this.fullExtent=r.fromJSON(u.fullExtent),this.initialExtent=r.fromJSON(u.initialExtent)}destroy(){this.tilemap?.destroy()}async getRefKey(t,e){return this.tilemap?this.tilemap.dataKey(t,e):t}requestTile(t,e,i,l){const s=this.tileServers[e%this.tileServers.length];return h(s,t,e,i,l)}isCompatibleWith(t){const e=this.tileInfo,i=t.tileInfo;if(!e.spatialReference.equals(i.spatialReference))return!1;if(!e.origin.equals(i.origin))return!1;if(Math.round(e.dpi)!==Math.round(i.dpi))return!1;const l=e.lods,s=i.lods,r=Math.min(l.length,s.length);for(let o=0;o<r;o++){const t=l[o],e=s[o];if(t.level!==e.level||Math.round(t.scale)!==Math.round(e.scale))return!1}return!0}}export{m as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}