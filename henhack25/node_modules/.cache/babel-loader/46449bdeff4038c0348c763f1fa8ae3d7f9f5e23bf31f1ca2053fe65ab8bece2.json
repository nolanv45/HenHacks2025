{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport \"../../../../../core/has.js\";\nimport { releaseMaybe as t, disposeMaybe as i } from \"../../../../../core/maybe.js\";\nimport { watch as r, initial as s } from \"../../../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { set as l } from \"../../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { ZEROS as n } from \"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { InternalRenderCategory as a } from \"../../../webgl.js\";\nimport { ColorFormat as g } from \"../../../webgl/formats.js\";\nimport c from \"../../../webgl/RenderNode.js\";\nimport { HighlightApplyTechnique as u } from \"./HighlightApplyTechnique.js\";\nimport { HighlightDownsampleTechnique as m } from \"./HighlightDownsampleTechnique.js\";\nimport { HighlightPassParameters as p } from \"./HighlightPassParameters.js\";\nimport { HighlightToSingleTechnique as d } from \"./HighlightToSingleTechnique.js\";\nimport { SingleHighlightApplyTechnique as f } from \"./SingleHighlightApplyTechnique.js\";\nimport { SingleHighlightBlurTechnique as b } from \"./SingleHighlightBlurTechnique.js\";\nimport { RenderRequestType as T } from \"../../lib/basicInterfaces.js\";\nimport { Default3D as w } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { NoVertex as x } from \"../../lib/DefaultVertexBufferLayouts.js\";\nimport { VertexArrayObject as _ } from \"../../lib/VertexArrayObject.js\";\nimport { H as C, g as v } from \"../../../../../chunks/HighlightDownsample.glsl.js\";\nimport { S as j } from \"../../../../../chunks/SingleHighlightBlur.glsl.js\";\nimport { BufferObject as H } from \"../../../../webgl/BufferObject.js\";\nimport { PixelFormat as q, TextureSamplingMode as P, FramebufferBit as R, Usage as D, TextureType as O, PrimitiveType as S, DataType as A } from \"../../../../webgl/enums.js\";\nimport { Texture as E } from \"../../../../webgl/Texture.js\";\nimport { TextureDescriptor as y } from \"../../../../webgl/TextureDescriptor.js\";\nlet I = class extends c {\n  constructor() {\n    super(...arguments), this.produces = a.HIGHLIGHTS, this.consumes = {\n      required: [a.HIGHLIGHTS, \"highlights\"]\n    }, this._useMultipleHighlights = !1, this._downsampleDrawParameters = new C(), this._passParameters = new p(), this._singleHighlightBlurDrawParameters = new j(), this._grid = new M();\n  }\n  initialize() {\n    this.addHandles([r(() => this._updateOptionsTexture(), () => {}, s)]);\n  }\n  destroy() {\n    this._grid.coverage = t(this._grid.coverage), this._grid.vao = i(this._grid.vao), this._passParameters.highlightOptionsTexture = t(this._passParameters.highlightOptionsTexture);\n  }\n  _updateOptionsTexture() {\n    if (null == this._passParameters.highlightOptionsTexture) {\n      const e = new y(16, 2);\n      e.internalFormat = q.RGBA, e.samplingMode = P.NEAREST, this._passParameters.highlightOptionsTexture = new E(this.renderingContext, e, null);\n    }\n    this._passParameters.highlightOptionsTexture.setData(U(this.view.state.highlights)), this.requestRender(T.UPDATE);\n  }\n  precompile() {\n    this.techniques.precompile(m), this._useMultipleHighlights ? this.techniques.precompile(u) : (this.techniques.precompile(d), this.techniques.precompile(b), this.techniques.precompile(f));\n  }\n  render(e) {\n    const t = e.find(_ref => {\n        let {\n          name: e\n        } = _ref;\n        return e === a.HIGHLIGHTS;\n      }),\n      {\n        techniques: i,\n        bindParameters: r,\n        _passParameters: s,\n        renderingContext: o\n      } = this;\n    if (!r.decorations) return t;\n    const h = i.get(m);\n    if (!h.compiled) return this.requestRender(T.UPDATE), t;\n    const l = e.find(_ref2 => {\n        let {\n          name: e\n        } = _ref2;\n        return \"highlights\" === e;\n      }).getTexture(),\n      n = () => {\n        this._gridUpdateResources(l);\n        const e = this._gridComputeCoverage(h, l, r),\n          {\n            horizontalCellCount: t,\n            verticalCellCount: i\n          } = e;\n        return s.horizontalCellCount = t, s.verticalCellCount = i, s.coverageTexture = e.coverage?.getTexture(), e;\n      },\n      g = e => {\n        const t = e.verticalCellCount * e.horizontalCellCount;\n        o.bindVAO(e.vao), o.drawElementsInstanced(S.TRIANGLES, 6, A.UNSIGNED_BYTE, 0, t);\n      },\n      {\n        camera: c\n      } = r,\n      u = () => {\n        o.bindFramebuffer(t.fbo), o.setViewport4fv(c.fullViewport);\n      };\n    return this._useMultipleHighlights ? this._renderMultiple(l, n, g, u) : this._renderSingle(l, n, g, u), s.highlightTexture = null, s.coverageTexture = null, t;\n  }\n  _renderMultiple(e, t, i, r) {\n    const {\n        techniques: s,\n        bindParameters: o,\n        _passParameters: h,\n        renderingContext: l\n      } = this,\n      n = s.get(u);\n    if (!n.compiled) return void this.requestRender(T.UPDATE);\n    const a = t();\n    h.highlightTexture = e, h.pixelRatio = o.camera.pixelRatio, l.bindTechnique(n, o, h), r(), i(a);\n  }\n  _renderSingle(e, t, i, r) {\n    const {\n        fboCache: s,\n        techniques: o,\n        bindParameters: h,\n        _passParameters: n,\n        renderingContext: a\n      } = this,\n      c = o.get(d),\n      u = o.get(b),\n      m = o.get(f);\n    if (!m.compiled || !u.compiled || !c.compiled) return void this.requestRender(T.UPDATE);\n    const p = t(),\n      {\n        width: w,\n        height: x\n      } = e.descriptor;\n    n.highlightTexture = e;\n    const {\n        camera: _\n      } = h,\n      {\n        fullWidth: C,\n        fullHeight: v,\n        pixelRatio: j\n      } = _,\n      H = Math.ceil(C / j),\n      q = Math.ceil(v / j),\n      {\n        _singleHighlightBlurDrawParameters: P\n      } = this,\n      D = this.view._stage.renderView.renderer,\n      {\n        highlights: O\n      } = h;\n    for (let d = 0; d < O.length; ++d) {\n      const {\n        name: e\n      } = O[d];\n      if (!D.hasHighlightOptions(e)) continue;\n      n.highlightLevel = d, a.setClearColor(0, 0, 0, 0);\n      const t = s.acquire(w, x, \"single highlight\", g.RG);\n      a.bindFramebuffer(t.fbo), a.setViewport(0, 0, w, x), a.clear(R.COLOR), a.bindTechnique(c, h, n), i(p), P.blurInput = t.getTexture(), l(P.blurSize, 1 / H, 0);\n      const o = s.acquire(H, q, \"single highlight blur h\", g.RG);\n      a.unbindTexture(o.fbo?.colorTexture), a.bindFramebuffer(o.fbo), a.setViewport(0, 0, H, q), a.clear(R.COLOR), a.bindTechnique(u, h, n, P), i(p), t.release(), l(P.blurSize, 0, 1 / q), n.singleHighlightBlurTexture = o.getTexture(), r(), a.bindTechnique(m, h, n, P), i(p), o.release();\n    }\n  }\n  _gridUpdateResources(e) {\n    const t = this._grid,\n      {\n        width: i,\n        height: r\n      } = e.descriptor;\n    if (t.horizontalCellCount = Math.ceil(i / v), t.verticalCellCount = Math.ceil(r / v), t.vao) return;\n    const s = this.renderingContext,\n      o = H.createIndex(s, D.STATIC_DRAW, F);\n    t.vao = new _(s, w, new Map([[\"geometry\", x]]), new Map([[\"geometry\", H.createVertex(s, D.STATIC_DRAW)]]), o);\n  }\n  _gridComputeCoverage(e, t, i) {\n    const r = this.renderingContext,\n      s = this._grid,\n      o = t.descriptor,\n      h = Math.ceil(o.width / v),\n      l = Math.ceil(o.height / v);\n    this._downsampleDrawParameters.input = t, s.coverage?.release();\n    const n = this.fboCache.acquire(h, l, \"highlight coverage\", g.RG);\n    return s.coverage = n, r.bindFramebuffer(n.fbo), r.bindTechnique(e, i, this._passParameters, this._downsampleDrawParameters), r.setViewport(0, 0, h, l), r.screen.draw(), s;\n  }\n  get test() {}\n};\ne([o()], I.prototype, \"produces\", void 0), e([o()], I.prototype, \"consumes\", void 0), I = e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")], I);\nclass M {\n  constructor() {\n    this.coverage = null, this.vao = null, this.verticalCellCount = 0, this.horizontalCellCount = 0, this.viewportWidth = 0, this.viewportHeight = 0;\n  }\n}\nfunction U(e) {\n  const t = new Uint8Array(128);\n  let i = 0;\n  for (const r of e) {\n    const e = 4 * i,\n      s = 4 * i + 64;\n    ++i;\n    const {\n        color: o\n      } = r,\n      h = r.haloColor ?? o;\n    t[e + 0] = o.r, t[e + 1] = o.g, t[e + 2] = o.b, t[e + 3] = r.fillOpacity * o.a * 255, t[s + 0] = h.r, t[s + 1] = h.g, t[s + 2] = h.b, t[s + 3] = r.haloOpacity * h.a * 255;\n  }\n  return t;\n}\nlet G = 0;\nfunction L(e) {\n  let t = 0;\n  for (const r of e) {\n    const {\n      name: e\n    } = r;\n    t += e.length;\n    const {\n      color: i,\n      fillOpacity: s,\n      haloColor: o,\n      haloOpacity: h\n    } = r;\n    t += i.r + i.g + i.b + i.a + s, t += o ? o.r + o.g + o.b + o.a + h : 0;\n  }\n  const i = e.at(0);\n  if (i) {\n    const {\n      shadowOpacity: e,\n      shadowDifference: r,\n      shadowColor: s\n    } = i;\n    t += e + r + s.r + s.g + s.b + s.a;\n  }\n  return G++ + (t >= 0 ? 0 : 1);\n}\nconst F = new Uint8Array([0, 1, 2, 2, 1, 3]);\nfunction V(e, t, i, r, s) {\n  let o = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n  const h = r.highlights,\n    a = h.length > 1 ? t.acquire(i.width, i.height, \"highlight mix\", g.RG) : null;\n  if (a) {\n    const t = e.getBoundFramebufferObject();\n    e.bindFramebuffer(a.fbo), e.clearFramebuffer(n), e.bindFramebuffer(t);\n  }\n  const c = a?.getTexture();\n  r.highlightMixTexture = c, l(r.highlightMixOrigin, o, 0), h.forEach((t, h) => {\n    h > 0 && (e.bindTexture(c, E.TEXTURE_UNIT_FOR_UPDATES), e.gl.copyTexSubImage2D(O.TEXTURE_2D, 0, 0, 0, o, 0, i.width, i.height), e.bindTexture(null, E.TEXTURE_UNIT_FOR_UPDATES)), e.clear(R.DEPTH), r.highlightLevel = h, s();\n  }), r.highlightLevel = null, r.highlightMixTexture = null, a?.release();\n}\nexport { I as Highlight, V as renderHighlightBuffer, L as trackHighlightOptions };","map":{"version":3,"names":["_","e","releaseMaybe","t","disposeMaybe","i","watch","r","initial","s","property","o","subclass","h","set","l","ZEROS","n","InternalRenderCategory","a","ColorFormat","g","c","HighlightApplyTechnique","u","HighlightDownsampleTechnique","m","HighlightPassParameters","p","HighlightToSingleTechnique","d","SingleHighlightApplyTechnique","f","SingleHighlightBlurTechnique","b","RenderRequestType","T","Default3D","w","NoVertex","x","VertexArrayObject","H","C","v","S","j","BufferObject","PixelFormat","q","TextureSamplingMode","P","FramebufferBit","R","Usage","D","TextureType","O","PrimitiveType","DataType","A","Texture","E","TextureDescriptor","y","I","constructor","arguments","produces","HIGHLIGHTS","consumes","required","_useMultipleHighlights","_downsampleDrawParameters","_passParameters","_singleHighlightBlurDrawParameters","_grid","M","initialize","addHandles","_updateOptionsTexture","destroy","coverage","vao","highlightOptionsTexture","internalFormat","RGBA","samplingMode","NEAREST","renderingContext","setData","U","view","state","highlights","requestRender","UPDATE","precompile","techniques","render","find","_ref","name","bindParameters","decorations","get","compiled","_ref2","getTexture","_gridUpdateResources","_gridComputeCoverage","horizontalCellCount","verticalCellCount","coverageTexture","bindVAO","drawElementsInstanced","TRIANGLES","UNSIGNED_BYTE","camera","bindFramebuffer","fbo","setViewport4fv","fullViewport","_renderMultiple","_renderSingle","highlightTexture","pixelRatio","bindTechnique","fboCache","width","height","descriptor","fullWidth","fullHeight","Math","ceil","_stage","renderView","renderer","length","hasHighlightOptions","highlightLevel","setClearColor","acquire","RG","setViewport","clear","COLOR","blurInput","blurSize","unbindTexture","colorTexture","release","singleHighlightBlurTexture","createIndex","STATIC_DRAW","F","Map","createVertex","input","screen","draw","test","prototype","viewportWidth","viewportHeight","Uint8Array","color","haloColor","fillOpacity","haloOpacity","G","L","at","shadowOpacity","shadowDifference","shadowColor","V","undefined","getBoundFramebufferObject","clearFramebuffer","highlightMixTexture","highlightMixOrigin","forEach","bindTexture","TEXTURE_UNIT_FOR_UPDATES","gl","copyTexSubImage2D","TEXTURE_2D","DEPTH","Highlight","renderHighlightBuffer","trackHighlightOptions"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{releaseMaybe as t,disposeMaybe as i}from\"../../../../../core/maybe.js\";import{watch as r,initial as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as l}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{ZEROS as n}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{InternalRenderCategory as a}from\"../../../webgl.js\";import{ColorFormat as g}from\"../../../webgl/formats.js\";import c from\"../../../webgl/RenderNode.js\";import{HighlightApplyTechnique as u}from\"./HighlightApplyTechnique.js\";import{HighlightDownsampleTechnique as m}from\"./HighlightDownsampleTechnique.js\";import{HighlightPassParameters as p}from\"./HighlightPassParameters.js\";import{HighlightToSingleTechnique as d}from\"./HighlightToSingleTechnique.js\";import{SingleHighlightApplyTechnique as f}from\"./SingleHighlightApplyTechnique.js\";import{SingleHighlightBlurTechnique as b}from\"./SingleHighlightBlurTechnique.js\";import{RenderRequestType as T}from\"../../lib/basicInterfaces.js\";import{Default3D as w}from\"../../lib/DefaultVertexAttributeLocations.js\";import{NoVertex as x}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as _}from\"../../lib/VertexArrayObject.js\";import{H as C,g as v}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{S as j}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{BufferObject as H}from\"../../../../webgl/BufferObject.js\";import{PixelFormat as q,TextureSamplingMode as P,FramebufferBit as R,Usage as D,TextureType as O,PrimitiveType as S,DataType as A}from\"../../../../webgl/enums.js\";import{Texture as E}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as y}from\"../../../../webgl/TextureDescriptor.js\";let I=class extends c{constructor(){super(...arguments),this.produces=a.HIGHLIGHTS,this.consumes={required:[a.HIGHLIGHTS,\"highlights\"]},this._useMultipleHighlights=!1,this._downsampleDrawParameters=new C,this._passParameters=new p,this._singleHighlightBlurDrawParameters=new j,this._grid=new M}initialize(){this.addHandles([r((()=>this._updateOptionsTexture()),(()=>{}),s)])}destroy(){this._grid.coverage=t(this._grid.coverage),this._grid.vao=i(this._grid.vao),this._passParameters.highlightOptionsTexture=t(this._passParameters.highlightOptionsTexture)}_updateOptionsTexture(){if(null==this._passParameters.highlightOptionsTexture){const e=new y(16,2);e.internalFormat=q.RGBA,e.samplingMode=P.NEAREST,this._passParameters.highlightOptionsTexture=new E(this.renderingContext,e,null)}this._passParameters.highlightOptionsTexture.setData(U(this.view.state.highlights)),this.requestRender(T.UPDATE)}precompile(){this.techniques.precompile(m),this._useMultipleHighlights?this.techniques.precompile(u):(this.techniques.precompile(d),this.techniques.precompile(b),this.techniques.precompile(f))}render(e){const t=e.find((({name:e})=>e===a.HIGHLIGHTS)),{techniques:i,bindParameters:r,_passParameters:s,renderingContext:o}=this;if(!r.decorations)return t;const h=i.get(m);if(!h.compiled)return this.requestRender(T.UPDATE),t;const l=e.find((({name:e})=>\"highlights\"===e)).getTexture(),n=()=>{this._gridUpdateResources(l);const e=this._gridComputeCoverage(h,l,r),{horizontalCellCount:t,verticalCellCount:i}=e;return s.horizontalCellCount=t,s.verticalCellCount=i,s.coverageTexture=e.coverage?.getTexture(),e},g=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(S.TRIANGLES,6,A.UNSIGNED_BYTE,0,t)},{camera:c}=r,u=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(c.fullViewport)};return this._useMultipleHighlights?this._renderMultiple(l,n,g,u):this._renderSingle(l,n,g,u),s.highlightTexture=null,s.coverageTexture=null,t}_renderMultiple(e,t,i,r){const{techniques:s,bindParameters:o,_passParameters:h,renderingContext:l}=this,n=s.get(u);if(!n.compiled)return void this.requestRender(T.UPDATE);const a=t();h.highlightTexture=e,h.pixelRatio=o.camera.pixelRatio,l.bindTechnique(n,o,h),r(),i(a)}_renderSingle(e,t,i,r){const{fboCache:s,techniques:o,bindParameters:h,_passParameters:n,renderingContext:a}=this,c=o.get(d),u=o.get(b),m=o.get(f);if(!m.compiled||!u.compiled||!c.compiled)return void this.requestRender(T.UPDATE);const p=t(),{width:w,height:x}=e.descriptor;n.highlightTexture=e;const{camera:_}=h,{fullWidth:C,fullHeight:v,pixelRatio:j}=_,H=Math.ceil(C/j),q=Math.ceil(v/j),{_singleHighlightBlurDrawParameters:P}=this,D=this.view._stage.renderView.renderer,{highlights:O}=h;for(let d=0;d<O.length;++d){const{name:e}=O[d];if(!D.hasHighlightOptions(e))continue;n.highlightLevel=d,a.setClearColor(0,0,0,0);const t=s.acquire(w,x,\"single highlight\",g.RG);a.bindFramebuffer(t.fbo),a.setViewport(0,0,w,x),a.clear(R.COLOR),a.bindTechnique(c,h,n),i(p),P.blurInput=t.getTexture(),l(P.blurSize,1/H,0);const o=s.acquire(H,q,\"single highlight blur h\",g.RG);a.unbindTexture(o.fbo?.colorTexture),a.bindFramebuffer(o.fbo),a.setViewport(0,0,H,q),a.clear(R.COLOR),a.bindTechnique(u,h,n,P),i(p),t.release(),l(P.blurSize,0,1/q),n.singleHighlightBlurTexture=o.getTexture(),r(),a.bindTechnique(m,h,n,P),i(p),o.release()}}_gridUpdateResources(e){const t=this._grid,{width:i,height:r}=e.descriptor;if(t.horizontalCellCount=Math.ceil(i/v),t.verticalCellCount=Math.ceil(r/v),t.vao)return;const s=this.renderingContext,o=H.createIndex(s,D.STATIC_DRAW,F);t.vao=new _(s,w,new Map([[\"geometry\",x]]),new Map([[\"geometry\",H.createVertex(s,D.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,i){const r=this.renderingContext,s=this._grid,o=t.descriptor,h=Math.ceil(o.width/v),l=Math.ceil(o.height/v);this._downsampleDrawParameters.input=t,s.coverage?.release();const n=this.fboCache.acquire(h,l,\"highlight coverage\",g.RG);return s.coverage=n,r.bindFramebuffer(n.fbo),r.bindTechnique(e,i,this._passParameters,this._downsampleDrawParameters),r.setViewport(0,0,h,l),r.screen.draw(),s}get test(){}};e([o()],I.prototype,\"produces\",void 0),e([o()],I.prototype,\"consumes\",void 0),I=e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")],I);class M{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function U(e){const t=new Uint8Array(128);let i=0;for(const r of e){const e=4*i,s=4*i+64;++i;const{color:o}=r,h=r.haloColor??o;t[e+0]=o.r,t[e+1]=o.g,t[e+2]=o.b,t[e+3]=r.fillOpacity*o.a*255,t[s+0]=h.r,t[s+1]=h.g,t[s+2]=h.b,t[s+3]=r.haloOpacity*h.a*255}return t}let G=0;function L(e){let t=0;for(const r of e){const{name:e}=r;t+=e.length;const{color:i,fillOpacity:s,haloColor:o,haloOpacity:h}=r;t+=i.r+i.g+i.b+i.a+s,t+=o?o.r+o.g+o.b+o.a+h:0}const i=e.at(0);if(i){const{shadowOpacity:e,shadowDifference:r,shadowColor:s}=i;t+=e+r+s.r+s.g+s.b+s.a}return G+++(t>=0?0:1)}const F=new Uint8Array([0,1,2,2,1,3]);function V(e,t,i,r,s,o=0){const h=r.highlights,a=h.length>1?t.acquire(i.width,i.height,\"highlight mix\",g.RG):null;if(a){const t=e.getBoundFramebufferObject();e.bindFramebuffer(a.fbo),e.clearFramebuffer(n),e.bindFramebuffer(t)}const c=a?.getTexture();r.highlightMixTexture=c,l(r.highlightMixOrigin,o,0),h.forEach(((t,h)=>{h>0&&(e.bindTexture(c,E.TEXTURE_UNIT_FOR_UPDATES),e.gl.copyTexSubImage2D(O.TEXTURE_2D,0,0,0,o,0,i.width,i.height),e.bindTexture(null,E.TEXTURE_UNIT_FOR_UPDATES)),e.clear(R.DEPTH),r.highlightLevel=h,s()})),r.highlightLevel=null,r.highlightMixTexture=null,a?.release()}export{I as Highlight,V as renderHighlightBuffer,L as trackHighlightOptions};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}