{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { InputHandler as i } from \"../../../input/InputHandler.js\";\nimport { onVisibilityChange as t } from \"../../../input/VisibilityChange.js\";\nclass e extends i {\n  constructor(i, e, s) {\n    super(!0), this.view = i, this.keys = e, this._isSticky = !1, this._pressedKeys = new Set(), this._timeout = void 0, this._currentDirection = void 0, this._stickyKeyDuration = 200, this._handleKey = i => {\n      const t = this._keyMap[i.data.key];\n      if (i.modifiers.has(\"Meta\") || i.modifiers.has(\"Control\")) return void this._stopMovement();\n      if (null == t) return;\n      i.stopPropagation(), i.preventDefault();\n      const e = \"key-down\" === i.type;\n      if (this._pressedKeys[e ? \"add\" : \"delete\"](t), e) {\n        if (this._direction === t) return;\n        this._direction = t, this._isSticky = !1, this._setTimeout(() => {\n          this._isSticky && this._handlePopKey();\n        });\n      } else {\n        const i = void 0 === this._timeout,\n          t = this._pressedKeys.size > 0;\n        i || t ? this._handlePopKey() : this._isSticky = !0;\n      }\n    }, this._handlePopKey = () => {\n      this._direction = Array.from(this._pressedKeys).pop(), null == this._direction && this._stopMovement();\n    }, this._stopMovement = () => {\n      this._isSticky = !1, this._direction = void 0, this._pressedKeys.clear(), this._setTimeout(void 0);\n    }, this._keyMap = {\n      [e.left]: \"left\",\n      [e.right]: \"right\",\n      [e.up]: \"up\",\n      [e.down]: \"down\"\n    }, this.registerIncoming(\"key-down\", s, this._handleKey), this.registerIncoming(\"key-up\", s, this._handleKey), this.registerIncoming(\"blur\", s, this._stopMovement), this._visibilityHandle = t(i => i ? null : this._stopMovement());\n  }\n  onUninstall() {\n    this._stopMovement(), this._visibilityHandle?.remove();\n  }\n  get _direction() {\n    return this._currentDirection;\n  }\n  set _direction(i) {\n    const t = null != this._currentDirection;\n    if (null != i) {\n      if (t || this.view.mapViewNavigation.begin(), this._currentDirection !== i) switch (i) {\n        case \"left\":\n          this.view.mapViewNavigation.continuousPanLeft();\n          break;\n        case \"right\":\n          this.view.mapViewNavigation.continuousPanRight();\n          break;\n        case \"up\":\n          this.view.mapViewNavigation.continuousPanUp();\n          break;\n        case \"down\":\n          this.view.mapViewNavigation.continuousPanDown();\n      }\n    } else t && this.view.mapViewNavigation.stop();\n    this._currentDirection = i;\n  }\n  _setTimeout(i) {\n    clearTimeout(this._timeout), this._timeout = void 0 === i ? void 0 : setTimeout(() => {\n      this._timeout = void 0, i();\n    }, this._stickyKeyDuration);\n  }\n}\nexport { e as KeyPan };","map":{"version":3,"names":["InputHandler","i","onVisibilityChange","t","e","constructor","s","view","keys","_isSticky","_pressedKeys","Set","_timeout","_currentDirection","_stickyKeyDuration","_handleKey","_keyMap","data","key","modifiers","has","_stopMovement","stopPropagation","preventDefault","type","_direction","_setTimeout","_handlePopKey","size","Array","from","pop","clear","left","right","up","down","registerIncoming","_visibilityHandle","onUninstall","remove","mapViewNavigation","begin","continuousPanLeft","continuousPanRight","continuousPanUp","continuousPanDown","stop","clearTimeout","setTimeout","KeyPan"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/input/handlers/KeyPan.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{InputHandler as i}from\"../../../input/InputHandler.js\";import{onVisibilityChange as t}from\"../../../input/VisibilityChange.js\";class e extends i{constructor(i,e,s){super(!0),this.view=i,this.keys=e,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=i=>{const t=this._keyMap[i.data.key];if(i.modifiers.has(\"Meta\")||i.modifiers.has(\"Control\"))return void this._stopMovement();if(null==t)return;i.stopPropagation(),i.preventDefault();const e=\"key-down\"===i.type;if(this._pressedKeys[e?\"add\":\"delete\"](t),e){if(this._direction===t)return;this._direction=t,this._isSticky=!1,this._setTimeout((()=>{this._isSticky&&this._handlePopKey()}))}else{const i=void 0===this._timeout,t=this._pressedKeys.size>0;i||t?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[e.left]:\"left\",[e.right]:\"right\",[e.up]:\"up\",[e.down]:\"down\"},this.registerIncoming(\"key-down\",s,this._handleKey),this.registerIncoming(\"key-up\",s,this._handleKey),this.registerIncoming(\"blur\",s,this._stopMovement),this._visibilityHandle=t((i=>i?null:this._stopMovement()))}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(i){const t=null!=this._currentDirection;if(null!=i){if(t||this.view.mapViewNavigation.begin(),this._currentDirection!==i)switch(i){case\"left\":this.view.mapViewNavigation.continuousPanLeft();break;case\"right\":this.view.mapViewNavigation.continuousPanRight();break;case\"up\":this.view.mapViewNavigation.continuousPanUp();break;case\"down\":this.view.mapViewNavigation.continuousPanDown()}}else t&&this.view.mapViewNavigation.stop();this._currentDirection=i}_setTimeout(i){clearTimeout(this._timeout),this._timeout=void 0===i?void 0:setTimeout((()=>{this._timeout=void 0,i()}),this._stickyKeyDuration)}}export{e as KeyPan};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}