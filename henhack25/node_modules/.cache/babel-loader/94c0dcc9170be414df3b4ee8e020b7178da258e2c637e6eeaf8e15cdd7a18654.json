{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { ArcadeDate as t } from \"./ArcadeDate.js\";\nimport { ArcadeExecutionError as e, ExecutionErrorCodes as i } from \"./executionError.js\";\nimport r from \"./ImmutableArray.js\";\nimport { c as s } from \"../chunks/languageUtils.js\";\nimport { isDate as o } from \"../support/guards.js\";\nconst n = \"Voxel.Position\",\n  a = \"Voxel.LocalTime\";\nfunction l(t) {\n  const s = t.getAttribute(n);\n  if (\"string\" != typeof s) throw new e(null, i.InvalidParameter, null);\n  const o = JSON.parse(s);\n  if (!Array.isArray(o) || \"number\" != typeof o[0] || \"number\" != typeof o[1] || \"number\" != typeof o[2]) throw new e(null, i.InvalidParameter, null);\n  return new r(o);\n}\nfunction u(r, s) {\n  const n = r.getAttribute(a);\n  if (null == n) return null;\n  if (!o(n)) throw new e(null, i.InvalidParameter, null);\n  return t.dateJSAndZoneToArcadeDate(n, s);\n}\nclass c {\n  constructor(t, e) {\n    this._graphic = t, this._timeZone = e, this.arcadeDeclaredClass = \"esri.arcade.Voxel\", this._layer = t.layer;\n  }\n  getPosition() {\n    return void 0 !== this._position ? this._position : this._position = l(this._graphic);\n  }\n  getLocalTime() {\n    return void 0 !== this._localTime ? this._localTime : this._localTime = u(this._graphic, this._timeZone ?? \"system\");\n  }\n  keys() {\n    return this._layer.fields.map(t => t.name).sort();\n  }\n  hasField(t) {\n    return this._layer.fieldsIndex.has(t);\n  }\n  field(t) {\n    const r = this._layer.fieldsIndex?.get(t)?.name;\n    if (null == r) throw new e(null, i.FieldNotFound, null, {\n      key: t\n    });\n    switch (r) {\n      case n:\n        return this.getPosition();\n      case a:\n        return this.getLocalTime();\n    }\n    return this._graphic.attributes[r] ?? null;\n  }\n  castToText(t = !1) {\n    const e = {\n      ...this._graphic.attributes\n    };\n    e[n] = this.getPosition(), a in e && (e[a] = this.getLocalTime());\n    for (const i of Object.keys(e)) this._layer.fieldsIndex?.has(i) || delete e[i];\n    return s(e, {\n      useNumbersForDates: t\n    });\n  }\n}\nexport { c as Voxel };","map":{"version":3,"names":["ArcadeDate","t","ArcadeExecutionError","e","ExecutionErrorCodes","i","r","c","s","isDate","o","n","a","l","getAttribute","InvalidParameter","JSON","parse","Array","isArray","u","dateJSAndZoneToArcadeDate","constructor","_graphic","_timeZone","arcadeDeclaredClass","_layer","layer","getPosition","_position","getLocalTime","_localTime","keys","fields","map","name","sort","hasField","fieldsIndex","has","field","get","FieldNotFound","key","attributes","castToText","Object","useNumbersForDates","Voxel"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/arcade/Voxel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ArcadeDate as t}from\"./ArcadeDate.js\";import{ArcadeExecutionError as e,ExecutionErrorCodes as i}from\"./executionError.js\";import r from\"./ImmutableArray.js\";import{c as s}from\"../chunks/languageUtils.js\";import{isDate as o}from\"../support/guards.js\";const n=\"Voxel.Position\",a=\"Voxel.LocalTime\";function l(t){const s=t.getAttribute(n);if(\"string\"!=typeof s)throw new e(null,i.InvalidParameter,null);const o=JSON.parse(s);if(!Array.isArray(o)||\"number\"!=typeof o[0]||\"number\"!=typeof o[1]||\"number\"!=typeof o[2])throw new e(null,i.InvalidParameter,null);return new r(o)}function u(r,s){const n=r.getAttribute(a);if(null==n)return null;if(!o(n))throw new e(null,i.InvalidParameter,null);return t.dateJSAndZoneToArcadeDate(n,s)}class c{constructor(t,e){this._graphic=t,this._timeZone=e,this.arcadeDeclaredClass=\"esri.arcade.Voxel\",this._layer=t.layer}getPosition(){return void 0!==this._position?this._position:this._position=l(this._graphic)}getLocalTime(){return void 0!==this._localTime?this._localTime:this._localTime=u(this._graphic,this._timeZone??\"system\")}keys(){return this._layer.fields.map((t=>t.name)).sort()}hasField(t){return this._layer.fieldsIndex.has(t)}field(t){const r=this._layer.fieldsIndex?.get(t)?.name;if(null==r)throw new e(null,i.FieldNotFound,null,{key:t});switch(r){case n:return this.getPosition();case a:return this.getLocalTime()}return this._graphic.attributes[r]??null}castToText(t=!1){const e={...this._graphic.attributes};e[n]=this.getPosition(),a in e&&(e[a]=this.getLocalTime());for(const i of Object.keys(e))this._layer.fieldsIndex?.has(i)||delete e[i];return s(e,{useNumbersForDates:t})}}export{c as Voxel};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}