{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { ArcadeDate as e } from \"../../../../../arcade/ArcadeDate.js\";\nimport has from \"../../../../../core/has.js\";\nimport { DateOnly as t } from \"../../../../../core/sql/DateOnly.js\";\nimport { TimeOnly as r } from \"../../../../../core/sql/TimeOnly.js\";\nimport { GeometryCursor as s } from \"../../../../../geometry/GeometryCursor.js\";\nimport { fromRectValues as i } from \"../../../../../geometry/support/aaBoundingBox.js\";\nimport { fromJSON as a } from \"../../../../../geometry/support/jsonUtils.js\";\nimport { getLabelPoint as o } from \"../../../../../geometry/support/labelPoint.js\";\nimport { quantizeX as n, quantizeY as d } from \"../../../../../geometry/support/quantizationUtils.js\";\nimport { getCentroidOptimizedGeometry as u } from \"../../../../../layers/graphics/centroid.js\";\nimport { convertToGeometry as h, quantizeForDisplay as c, unquantizeOptimizedGeometry as l } from \"../../../../../layers/graphics/featureConversionUtils.js\";\nimport { OptimizedFeature as m } from \"../../../../../layers/graphics/OptimizedFeature.js\";\nimport y from \"../../../../../layers/graphics/OptimizedGeometry.js\";\nimport { system as f, unknown as p } from \"../../../../../time/timeZoneUtils.js\";\nimport { FeatureSetCache as g } from \"./FeatureSetCache.js\";\nconst _ = has(\"featurelayer-simplify-thresholds\") ?? [.5, .5, .5, .5],\n  b = _[0],\n  x = _[1],\n  D = _[2],\n  T = _[3],\n  F = has(\"featurelayer-simplify-payload-size-factors\") ?? [1, 2, 4],\n  A = F[0],\n  S = F[1],\n  I = F[2],\n  B = has(\"featurelayer-simplify-mobile-factor\") ?? 2,\n  j = has(\"esri-mobile\"),\n  G = 4294967295;\nfunction C(e, t, r) {\n  if (!(e.length > t)) for (; e.length <= t;) e.push(r);\n}\nclass M {\n  constructor(e) {\n    this.metadata = e, this.type = \"FeatureSetReader\", this._overrides = null, this._joined = [], this._objectIdToIndex = null, this._boundsBuffer = [], this._caches = new Map(), this.arcadeDeclaredClass = \"esri.arcade.Feature\", this._contextTimeZone = null;\n  }\n  destroy() {}\n  [Symbol.dispose]() {\n    this.destroy();\n  }\n  getAreaSimplificationThreshold(e, t) {\n    let r = 1;\n    const s = j ? B : 1;\n    t > 4e6 ? r = I * s : t > 1e6 ? r = S * s : t > 5e5 ? r = A * s : t > 1e5 && (r = s);\n    let i = 0;\n    return e > 4e3 ? i = T * r : e > 2e3 ? i = D * r : e > 100 ? i = x : e > 15 && (i = b), i;\n  }\n  getBounds(e) {\n    if (C(this._boundsBuffer, 4 * this.getIndex() + 4, 0), this.getBoundsXMin() === G) return !1;\n    if (0 === this.getBoundsXMin()) {\n      const t = this.readGeometryWorldSpace();\n      if (!t) return this.setBoundsXMin(G), !1;\n      let r = 1 / 0,\n        s = 1 / 0,\n        a = -1 / 0,\n        o = -1 / 0;\n      return t.forEachVertex((e, t) => {\n        r = Math.min(r, e), s = Math.min(s, t), a = Math.max(a, e), o = Math.max(o, t);\n      }), this.setBoundsXMin(r), this.setBoundsYMin(s), this.setBoundsXMax(a), this.setBoundsYMax(o), i(e, r, s, a, o), !0;\n    }\n    const t = this.getBoundsXMin(),\n      r = this.getBoundsYMin(),\n      s = this.getBoundsXMax(),\n      a = this.getBoundsYMax();\n    return i(e, t, r, s, a), !0;\n  }\n  getBoundsXMin() {\n    return this._boundsBuffer[4 * this.getIndex()];\n  }\n  setBoundsXMin(e) {\n    this._boundsBuffer[4 * this.getIndex()] = e;\n  }\n  getBoundsYMin() {\n    return this._boundsBuffer[4 * this.getIndex() + 1];\n  }\n  setBoundsYMin(e) {\n    this._boundsBuffer[4 * this.getIndex() + 1] = e;\n  }\n  getBoundsXMax() {\n    return this._boundsBuffer[4 * this.getIndex() + 2];\n  }\n  setBoundsXMax(e) {\n    this._boundsBuffer[4 * this.getIndex() + 2] = e;\n  }\n  getBoundsYMax() {\n    return this._boundsBuffer[4 * this.getIndex() + 3];\n  }\n  setBoundsYMax(e) {\n    this._boundsBuffer[4 * this.getIndex() + 3] = e;\n  }\n  readAttributeAsTimestamp(e) {\n    const t = this.readAttribute(e);\n    return \"string\" == typeof t ? new Date(t).getTime() : \"number\" == typeof t || null == t ? t : null;\n  }\n  readAttribute(e, t = !1) {\n    const r = this._readAttribute(e, t);\n    if (void 0 !== r) return r;\n    for (const s of this._joined) {\n      s.setIndex(this.getIndex());\n      const r = s._readAttribute(e, t);\n      if (void 0 !== r) return r;\n    }\n  }\n  readAttributes() {\n    const e = this._readAttributes();\n    for (const t of this._joined) {\n      t.setIndex(this.getIndex());\n      const r = t._readAttributes();\n      for (const t of Object.keys(r)) e[t] = r[t];\n    }\n    return e;\n  }\n  joinAttributes(e) {\n    this._joined.push(e);\n  }\n  registerOverrides(e) {\n    this._overrides = e;\n  }\n  withoutOverrides() {\n    const e = this.copy();\n    return e._overrides = null, e;\n  }\n  readOptimizedFeatureWorldSpace() {\n    const e = this.readGeometryWorldSpace(),\n      t = this.readAttributes(),\n      r = this.readCentroidWorldSpace();\n    return new m(e, t, r, this.getObjectId(), this.getDisplayId());\n  }\n  readLegacyFeatureForDisplay() {\n    const e = this.readCentroidForDisplay();\n    return {\n      attributes: this.readAttributes(),\n      geometry: this.readLegacyGeometryForDisplay(),\n      centroid: (e && {\n        x: e.coords[0],\n        y: e.coords[1]\n      }) ?? null\n    };\n  }\n  readLegacyFeatureWorldSpace() {\n    const e = this.readCentroidWorldSpace();\n    return {\n      attributes: this.readAttributes(),\n      geometry: this._readLegacyGeometryWorldSpace(),\n      centroid: (e && {\n        x: e.coords[0],\n        y: e.coords[1]\n      }) ?? null\n    };\n  }\n  readLegacyGeometryForDisplay() {\n    const e = this.readGeometryForDisplay();\n    return h(e, this.geometryType, !1, !1);\n  }\n  readXForDisplay() {\n    return this._readX();\n  }\n  readYForDisplay() {\n    return this._readY();\n  }\n  readXWorldSpace() {\n    const e = this._readX(),\n      t = this.getInTransform();\n    return null == t ? e : e * t.scale[0] + t.translate[0];\n  }\n  readYWorldSpace() {\n    const e = this._readY(),\n      t = this.getInTransform();\n    return null == t ? e : t.translate[1] - e * t.scale[1];\n  }\n  readGeometryForDisplay() {\n    const e = this._readGeometryDeltaDecoded(!0);\n    if (!e) {\n      const e = this._createDeltaQuantizedGeometryFromServerCentroid();\n      return e ? e.deltaDecode() : null;\n    }\n    return e;\n  }\n  readGeometryForDisplayTransformed(e) {\n    let t = this.readGeometryForDisplay();\n    if (t && (t = c(t, e, this.metadata.geometryType, this.hasZ, this.hasM)), !t) {\n      const t = this.readCentroidForDisplay();\n      if (!t) return null;\n      const r = n(e, t.coords[0]),\n        s = d(e, t.coords[1]);\n      return this._createDeltaQuantizedExtrudedGeometry(r, s).deltaDecode();\n    }\n    return t;\n  }\n  readGeometryWorldSpace() {\n    let e = this._readGeometry();\n    if (e || (e = this._createDeltaQuantizedGeometryFromServerCentroid()), !e) return null;\n    const t = e.clone(),\n      r = this.getInTransform();\n    return null != r && l(t, t, this.hasZ, this.hasM, r), t;\n  }\n  readCentroidForDisplay() {\n    const e = this.readGeometryForDisplay();\n    return e ? this._computeDisplayCentroid(e) : this._readServerCentroid();\n  }\n  readCentroidWorldSpace() {\n    const e = this.readGeometryForDisplay(),\n      t = e ? this._computeDisplayCentroid(e) : this._readServerCentroid();\n    if (!t) return null;\n    const r = t.clone(),\n      s = this.getInTransform();\n    return null != s && l(r, r, this.hasZ, this.hasM, s), r;\n  }\n  setCache(e) {\n    let t = this._caches.get(e);\n    null == t && (t = new g(this.getSize()), this._caches.set(e, t)), this._activeCache = t;\n  }\n  setCachedValue(e) {\n    this._activeCache.set(this.getIndex(), e);\n  }\n  hasCachedValue() {\n    return this._activeCache.has(this.getIndex());\n  }\n  getCachedValue() {\n    return this._activeCache.get(this.getIndex());\n  }\n  _readGeometryDeltaDecoded(e) {\n    const t = this._readGeometry(e);\n    return \"esriGeometryPoint\" !== this.geometryType && t && this.getInTransform() ? t.deltaDecode() : t;\n  }\n  get contextTimeZone() {\n    return this._contextTimeZone;\n  }\n  set contextTimeZone(e) {\n    this._contextTimeZone = e;\n  }\n  readArcadeFeature() {\n    return this;\n  }\n  hasField(e) {\n    return this.fields.has(e) || this._joined.some(t => t.hasField(e));\n  }\n  geometry() {\n    const e = this.readGeometryWorldSpace(),\n      t = h(e, this.geometryType, this.hasZ, this.hasM),\n      r = a(t);\n    if (r) {\n      if (!this.metadata.outSpatialReference) throw new Error(\"InternalError: Expected spatial reference to be defined\");\n      r.spatialReference = this.metadata.outSpatialReference;\n    }\n    return r;\n  }\n  autocastArcadeDate(t, r) {\n    return r && r instanceof Date ? this.isUnknownDateTimeField(t) ? e.unknownDateJSToArcadeDate(r) : e.dateJSAndZoneToArcadeDate(r, this.contextTimeZone ?? f) : r;\n  }\n  isUnknownDateTimeField(e) {\n    return this.metadata.fieldsIndex.getTimeZone(e) === p;\n  }\n  field(s) {\n    let i = this.fields.get(s);\n    if (i) switch (i.type) {\n      case \"date-only\":\n      case \"esriFieldTypeDateOnly\":\n        return t.fromReader(this.readAttribute(s, !1));\n      case \"time-only\":\n      case \"esriFieldTypeTimeOnly\":\n        return r.fromReader(this.readAttribute(s, !1));\n      case \"esriFieldTypeTimestampOffset\":\n      case \"timestamp-offset\":\n        return e.fromReaderAsTimeStampOffset(this.readAttribute(s, !1));\n      case \"date\":\n      case \"esriFieldTypeDate\":\n        return this.autocastArcadeDate(s, this.readAttribute(s, !0));\n      default:\n        return this.readAttribute(s, !1);\n    }\n    for (const a of this._joined) if (a.setIndex(this.getIndex()), i = a.fields.get(s), i) switch (i.type) {\n      case \"date-only\":\n      case \"esriFieldTypeDateOnly\":\n        return t.fromReader(a._readAttribute(s, !1));\n      case \"time-only\":\n      case \"esriFieldTypeTimeOnly\":\n        return r.fromReader(a._readAttribute(s, !1));\n      case \"esriFieldTypeTimestampOffset\":\n      case \"timestamp-offset\":\n        return e.fromReaderAsTimeStampOffset(a._readAttribute(s, !1));\n      case \"date\":\n      case \"esriFieldTypeDate\":\n        return this.autocastArcadeDate(s, a._readAttribute(s, !0));\n      default:\n        return this.readAttribute(s, !1);\n    }\n    throw new Error(`Field ${s} does not exist`);\n  }\n  setField(e, t) {\n    throw new Error(\"Unable to update feature attribute values, feature is readonly\");\n  }\n  keys() {\n    return this.fields.fields.map(e => e.name);\n  }\n  castToText(e = !1) {\n    if (!e) return JSON.stringify(this.readLegacyFeatureForDisplay());\n    const t = this.readLegacyFeatureForDisplay();\n    if (!t) return JSON.stringify(null);\n    const r = {\n      geometry: t.geometry,\n      attributes: {\n        ...(t.attributes ?? {})\n      }\n    };\n    for (const s in r.attributes) {\n      const e = r.attributes[s];\n      e instanceof Date && (r.attributes[s] = e.getTime());\n    }\n    return JSON.stringify(r);\n  }\n  gdbVersion() {\n    return null;\n  }\n  fullSchema() {\n    return this.metadata.arcadeSchema;\n  }\n  castAsJson(e = null) {\n    return {\n      attributes: this._readAttributes(),\n      geometry: !0 === e?.keepGeometryType ? this.geometry() : this.geometry()?.toJSON() ?? null\n    };\n  }\n  castAsJsonAsync(e = null, t = null) {\n    return Promise.resolve(this.castAsJson(t));\n  }\n  _getExists() {\n    if (this._overrides) {\n      const e = this.getObjectId();\n      return !this._overrides.hasOverride(e);\n    }\n    return !0;\n  }\n  _computeDisplayCentroid(e) {\n    if (null == this.getInTransform()) return u(new y(), e, this.hasM, this.hasZ);\n    const t = s.fromOptimized(e, this.geometryType);\n    t.yFactor *= -1;\n    const r = o(t);\n    return r ? (r[1] *= -1, new y([], r)) : null;\n  }\n  copyInto(e) {\n    e._joined = this._joined, e._overrides = this._overrides, e._objectIdToIndex = this._objectIdToIndex, e._boundsBuffer = this._boundsBuffer, e._activeCache = this._activeCache, e._caches = this._caches, e._contextTimeZone = this._contextTimeZone;\n  }\n  _readLegacyGeometryWorldSpace() {\n    const e = this.readGeometryWorldSpace();\n    return h(e, this.geometryType, !1, !1);\n  }\n  _createDeltaQuantizedGeometryFromServerCentroid() {\n    const e = this._readServerCentroid();\n    if (!e) return null;\n    const [t, r] = e.coords;\n    return this._createDeltaQuantizedExtrudedGeometry(t, r);\n  }\n  _createDeltaQuantizedExtrudedGeometry(e, t) {\n    return \"esriGeometryPolyline\" === this.geometryType ? this._createDeltaQuantizedExtrudedLine(e, t) : this._createDeltaQuantizedExtrudedQuad(e, t);\n  }\n  _createDeltaQuantizedExtrudedQuad(e, t) {\n    return new y([5], [e - 1, t, 1, -1, 1, 1, -1, 1, -1, -1]);\n  }\n  _createDeltaQuantizedExtrudedLine(e, t) {\n    return new y([2], [e - 1, t + 1, 1, -1]);\n  }\n}\nexport { M as FeatureSetReader };","map":{"version":3,"names":["ArcadeDate","e","has","DateOnly","t","TimeOnly","r","GeometryCursor","s","fromRectValues","i","fromJSON","a","getLabelPoint","o","quantizeX","n","quantizeY","d","getCentroidOptimizedGeometry","u","convertToGeometry","h","quantizeForDisplay","c","unquantizeOptimizedGeometry","l","OptimizedFeature","m","y","system","f","unknown","p","FeatureSetCache","g","_","b","x","D","T","F","A","S","I","B","j","G","C","length","push","M","constructor","metadata","type","_overrides","_joined","_objectIdToIndex","_boundsBuffer","_caches","Map","arcadeDeclaredClass","_contextTimeZone","destroy","Symbol","dispose","getAreaSimplificationThreshold","getBounds","getIndex","getBoundsXMin","readGeometryWorldSpace","setBoundsXMin","forEachVertex","Math","min","max","setBoundsYMin","setBoundsXMax","setBoundsYMax","getBoundsYMin","getBoundsXMax","getBoundsYMax","readAttributeAsTimestamp","readAttribute","Date","getTime","_readAttribute","setIndex","readAttributes","_readAttributes","Object","keys","joinAttributes","registerOverrides","withoutOverrides","copy","readOptimizedFeatureWorldSpace","readCentroidWorldSpace","getObjectId","getDisplayId","readLegacyFeatureForDisplay","readCentroidForDisplay","attributes","geometry","readLegacyGeometryForDisplay","centroid","coords","readLegacyFeatureWorldSpace","_readLegacyGeometryWorldSpace","readGeometryForDisplay","geometryType","readXForDisplay","_readX","readYForDisplay","_readY","readXWorldSpace","getInTransform","scale","translate","readYWorldSpace","_readGeometryDeltaDecoded","_createDeltaQuantizedGeometryFromServerCentroid","deltaDecode","readGeometryForDisplayTransformed","hasZ","hasM","_createDeltaQuantizedExtrudedGeometry","_readGeometry","clone","_computeDisplayCentroid","_readServerCentroid","setCache","get","getSize","set","_activeCache","setCachedValue","hasCachedValue","getCachedValue","contextTimeZone","readArcadeFeature","hasField","fields","some","outSpatialReference","Error","spatialReference","autocastArcadeDate","isUnknownDateTimeField","unknownDateJSToArcadeDate","dateJSAndZoneToArcadeDate","fieldsIndex","getTimeZone","field","fromReader","fromReaderAsTimeStampOffset","setField","map","name","castToText","JSON","stringify","gdbVersion","fullSchema","arcadeSchema","castAsJson","keepGeometryType","toJSON","castAsJsonAsync","Promise","resolve","_getExists","hasOverride","fromOptimized","yFactor","copyInto","_createDeltaQuantizedExtrudedLine","_createDeltaQuantizedExtrudedQuad","FeatureSetReader"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ArcadeDate as e}from\"../../../../../arcade/ArcadeDate.js\";import has from\"../../../../../core/has.js\";import{DateOnly as t}from\"../../../../../core/sql/DateOnly.js\";import{TimeOnly as r}from\"../../../../../core/sql/TimeOnly.js\";import{GeometryCursor as s}from\"../../../../../geometry/GeometryCursor.js\";import{fromRectValues as i}from\"../../../../../geometry/support/aaBoundingBox.js\";import{fromJSON as a}from\"../../../../../geometry/support/jsonUtils.js\";import{getLabelPoint as o}from\"../../../../../geometry/support/labelPoint.js\";import{quantizeX as n,quantizeY as d}from\"../../../../../geometry/support/quantizationUtils.js\";import{getCentroidOptimizedGeometry as u}from\"../../../../../layers/graphics/centroid.js\";import{convertToGeometry as h,quantizeForDisplay as c,unquantizeOptimizedGeometry as l}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as m}from\"../../../../../layers/graphics/OptimizedFeature.js\";import y from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{system as f,unknown as p}from\"../../../../../time/timeZoneUtils.js\";import{FeatureSetCache as g}from\"./FeatureSetCache.js\";const _=has(\"featurelayer-simplify-thresholds\")??[.5,.5,.5,.5],b=_[0],x=_[1],D=_[2],T=_[3],F=has(\"featurelayer-simplify-payload-size-factors\")??[1,2,4],A=F[0],S=F[1],I=F[2],B=has(\"featurelayer-simplify-mobile-factor\")??2,j=has(\"esri-mobile\"),G=4294967295;function C(e,t,r){if(!(e.length>t))for(;e.length<=t;)e.push(r)}class M{constructor(e){this.metadata=e,this.type=\"FeatureSetReader\",this._overrides=null,this._joined=[],this._objectIdToIndex=null,this._boundsBuffer=[],this._caches=new Map,this.arcadeDeclaredClass=\"esri.arcade.Feature\",this._contextTimeZone=null}destroy(){}[Symbol.dispose](){this.destroy()}getAreaSimplificationThreshold(e,t){let r=1;const s=j?B:1;t>4e6?r=I*s:t>1e6?r=S*s:t>5e5?r=A*s:t>1e5&&(r=s);let i=0;return e>4e3?i=T*r:e>2e3?i=D*r:e>100?i=x:e>15&&(i=b),i}getBounds(e){if(C(this._boundsBuffer,4*this.getIndex()+4,0),this.getBoundsXMin()===G)return!1;if(0===this.getBoundsXMin()){const t=this.readGeometryWorldSpace();if(!t)return this.setBoundsXMin(G),!1;let r=1/0,s=1/0,a=-1/0,o=-1/0;return t.forEachVertex(((e,t)=>{r=Math.min(r,e),s=Math.min(s,t),a=Math.max(a,e),o=Math.max(o,t)})),this.setBoundsXMin(r),this.setBoundsYMin(s),this.setBoundsXMax(a),this.setBoundsYMax(o),i(e,r,s,a,o),!0}const t=this.getBoundsXMin(),r=this.getBoundsYMin(),s=this.getBoundsXMax(),a=this.getBoundsYMax();return i(e,t,r,s,a),!0}getBoundsXMin(){return this._boundsBuffer[4*this.getIndex()]}setBoundsXMin(e){this._boundsBuffer[4*this.getIndex()]=e}getBoundsYMin(){return this._boundsBuffer[4*this.getIndex()+1]}setBoundsYMin(e){this._boundsBuffer[4*this.getIndex()+1]=e}getBoundsXMax(){return this._boundsBuffer[4*this.getIndex()+2]}setBoundsXMax(e){this._boundsBuffer[4*this.getIndex()+2]=e}getBoundsYMax(){return this._boundsBuffer[4*this.getIndex()+3]}setBoundsYMax(e){this._boundsBuffer[4*this.getIndex()+3]=e}readAttributeAsTimestamp(e){const t=this.readAttribute(e);return\"string\"==typeof t?new Date(t).getTime():\"number\"==typeof t||null==t?t:null}readAttribute(e,t=!1){const r=this._readAttribute(e,t);if(void 0!==r)return r;for(const s of this._joined){s.setIndex(this.getIndex());const r=s._readAttribute(e,t);if(void 0!==r)return r}}readAttributes(){const e=this._readAttributes();for(const t of this._joined){t.setIndex(this.getIndex());const r=t._readAttributes();for(const t of Object.keys(r))e[t]=r[t]}return e}joinAttributes(e){this._joined.push(e)}registerOverrides(e){this._overrides=e}withoutOverrides(){const e=this.copy();return e._overrides=null,e}readOptimizedFeatureWorldSpace(){const e=this.readGeometryWorldSpace(),t=this.readAttributes(),r=this.readCentroidWorldSpace();return new m(e,t,r,this.getObjectId(),this.getDisplayId())}readLegacyFeatureForDisplay(){const e=this.readCentroidForDisplay();return{attributes:this.readAttributes(),geometry:this.readLegacyGeometryForDisplay(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null}}readLegacyFeatureWorldSpace(){const e=this.readCentroidWorldSpace();return{attributes:this.readAttributes(),geometry:this._readLegacyGeometryWorldSpace(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null}}readLegacyGeometryForDisplay(){const e=this.readGeometryForDisplay();return h(e,this.geometryType,!1,!1)}readXForDisplay(){return this._readX()}readYForDisplay(){return this._readY()}readXWorldSpace(){const e=this._readX(),t=this.getInTransform();return null==t?e:e*t.scale[0]+t.translate[0]}readYWorldSpace(){const e=this._readY(),t=this.getInTransform();return null==t?e:t.translate[1]-e*t.scale[1]}readGeometryForDisplay(){const e=this._readGeometryDeltaDecoded(!0);if(!e){const e=this._createDeltaQuantizedGeometryFromServerCentroid();return e?e.deltaDecode():null}return e}readGeometryForDisplayTransformed(e){let t=this.readGeometryForDisplay();if(t&&(t=c(t,e,this.metadata.geometryType,this.hasZ,this.hasM)),!t){const t=this.readCentroidForDisplay();if(!t)return null;const r=n(e,t.coords[0]),s=d(e,t.coords[1]);return this._createDeltaQuantizedExtrudedGeometry(r,s).deltaDecode()}return t}readGeometryWorldSpace(){let e=this._readGeometry();if(e||(e=this._createDeltaQuantizedGeometryFromServerCentroid()),!e)return null;const t=e.clone(),r=this.getInTransform();return null!=r&&l(t,t,this.hasZ,this.hasM,r),t}readCentroidForDisplay(){const e=this.readGeometryForDisplay();return e?this._computeDisplayCentroid(e):this._readServerCentroid()}readCentroidWorldSpace(){const e=this.readGeometryForDisplay(),t=e?this._computeDisplayCentroid(e):this._readServerCentroid();if(!t)return null;const r=t.clone(),s=this.getInTransform();return null!=s&&l(r,r,this.hasZ,this.hasM,s),r}setCache(e){let t=this._caches.get(e);null==t&&(t=new g(this.getSize()),this._caches.set(e,t)),this._activeCache=t}setCachedValue(e){this._activeCache.set(this.getIndex(),e)}hasCachedValue(){return this._activeCache.has(this.getIndex())}getCachedValue(){return this._activeCache.get(this.getIndex())}_readGeometryDeltaDecoded(e){const t=this._readGeometry(e);return\"esriGeometryPoint\"!==this.geometryType&&t&&this.getInTransform()?t.deltaDecode():t}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this.fields.has(e)||this._joined.some((t=>t.hasField(e)))}geometry(){const e=this.readGeometryWorldSpace(),t=h(e,this.geometryType,this.hasZ,this.hasM),r=a(t);if(r){if(!this.metadata.outSpatialReference)throw new Error(\"InternalError: Expected spatial reference to be defined\");r.spatialReference=this.metadata.outSpatialReference}return r}autocastArcadeDate(t,r){return r&&r instanceof Date?this.isUnknownDateTimeField(t)?e.unknownDateJSToArcadeDate(r):e.dateJSAndZoneToArcadeDate(r,this.contextTimeZone??f):r}isUnknownDateTimeField(e){return this.metadata.fieldsIndex.getTimeZone(e)===p}field(s){let i=this.fields.get(s);if(i)switch(i.type){case\"date-only\":case\"esriFieldTypeDateOnly\":return t.fromReader(this.readAttribute(s,!1));case\"time-only\":case\"esriFieldTypeTimeOnly\":return r.fromReader(this.readAttribute(s,!1));case\"esriFieldTypeTimestampOffset\":case\"timestamp-offset\":return e.fromReaderAsTimeStampOffset(this.readAttribute(s,!1));case\"date\":case\"esriFieldTypeDate\":return this.autocastArcadeDate(s,this.readAttribute(s,!0));default:return this.readAttribute(s,!1)}for(const a of this._joined)if(a.setIndex(this.getIndex()),i=a.fields.get(s),i)switch(i.type){case\"date-only\":case\"esriFieldTypeDateOnly\":return t.fromReader(a._readAttribute(s,!1));case\"time-only\":case\"esriFieldTypeTimeOnly\":return r.fromReader(a._readAttribute(s,!1));case\"esriFieldTypeTimestampOffset\":case\"timestamp-offset\":return e.fromReaderAsTimeStampOffset(a._readAttribute(s,!1));case\"date\":case\"esriFieldTypeDate\":return this.autocastArcadeDate(s,a._readAttribute(s,!0));default:return this.readAttribute(s,!1)}throw new Error(`Field ${s} does not exist`)}setField(e,t){throw new Error(\"Unable to update feature attribute values, feature is readonly\")}keys(){return this.fields.fields.map((e=>e.name))}castToText(e=!1){if(!e)return JSON.stringify(this.readLegacyFeatureForDisplay());const t=this.readLegacyFeatureForDisplay();if(!t)return JSON.stringify(null);const r={geometry:t.geometry,attributes:{...t.attributes??{}}};for(const s in r.attributes){const e=r.attributes[s];e instanceof Date&&(r.attributes[s]=e.getTime())}return JSON.stringify(r)}gdbVersion(){return null}fullSchema(){return this.metadata.arcadeSchema}castAsJson(e=null){return{attributes:this._readAttributes(),geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}_getExists(){if(this._overrides){const e=this.getObjectId();return!this._overrides.hasOverride(e)}return!0}_computeDisplayCentroid(e){if(null==this.getInTransform())return u(new y,e,this.hasM,this.hasZ);const t=s.fromOptimized(e,this.geometryType);t.yFactor*=-1;const r=o(t);return r?(r[1]*=-1,new y([],r)):null}copyInto(e){e._joined=this._joined,e._overrides=this._overrides,e._objectIdToIndex=this._objectIdToIndex,e._boundsBuffer=this._boundsBuffer,e._activeCache=this._activeCache,e._caches=this._caches,e._contextTimeZone=this._contextTimeZone}_readLegacyGeometryWorldSpace(){const e=this.readGeometryWorldSpace();return h(e,this.geometryType,!1,!1)}_createDeltaQuantizedGeometryFromServerCentroid(){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this._createDeltaQuantizedExtrudedGeometry(t,r)}_createDeltaQuantizedExtrudedGeometry(e,t){return\"esriGeometryPolyline\"===this.geometryType?this._createDeltaQuantizedExtrudedLine(e,t):this._createDeltaQuantizedExtrudedQuad(e,t)}_createDeltaQuantizedExtrudedQuad(e,t){return new y([5],[e-1,t,1,-1,1,1,-1,1,-1,-1])}_createDeltaQuantizedExtrudedLine(e,t){return new y([2],[e-1,t+1,1,-1])}}export{M as FeatureSetReader};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}