{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { clock as t } from \"../../../core/clock.js\";\nimport { removeMaybe as e } from \"../../../core/maybe.js\";\nimport { InputHandler as i } from \"../InputHandler.js\";\nimport { DefaultParameters as n, euclideanDistance as o } from \"./support.js\";\nclass r extends i {\n  constructor(e = n.maximumClickDelay, i = n.movementUntilMouseDrag, o = n.movementUntilPenDrag, r = n.movementUntilTouchDrag, s = n.holdDelay, a = t) {\n    super(!1), this._maximumClickDelay = e, this._movementUntilMouseDrag = i, this._movementUntilPenDrag = o, this._movementUntilTouchDrag = r, this._holdDelay = s, this._clock = a, this._pointerState = new Map(), this._pointerDrag = this.registerOutgoing(\"pointer-drag\"), this._immediateClick = this.registerOutgoing(\"immediate-click\"), this._pointerHold = this.registerOutgoing(\"hold\"), this.registerIncoming(\"pointer-down\", t => this._handlePointerDown(t)), this.registerIncoming(\"pointer-up\", t => this._handlePointerLoss(t, \"pointer-up\")), this.registerIncoming(\"pointer-capture-lost\", t => this._handlePointerLoss(t, \"pointer-capture-lost\")), this.registerIncoming(\"pointer-cancel\", t => this._handlePointerLoss(t, \"pointer-cancel\")), this._moveHandle = this.registerIncoming(\"pointer-move\", t => this._handlePointerMove(t)), this._moveHandle.pause();\n  }\n  onUninstall() {\n    this._pointerState.forEach(t => {\n      t.holdTimeout = e(t.holdTimeout);\n    }), super.onUninstall();\n  }\n  _handlePointerDown(t) {\n    const e = t.data,\n      i = e.native.pointerId;\n    let n = null;\n    0 === this._pointerState.size && (n = this._clock.setTimeout(() => {\n      const e = this._pointerState.get(i);\n      if (e) {\n        if (!e.isDragging) {\n          const i = e.previousEvent;\n          this._pointerHold.emit(i, void 0, t.modifiers), e.holdEmitted = !0;\n        }\n        e.holdTimeout = null;\n      }\n    }, this._holdDelay));\n    const o = {\n      startEvent: e,\n      previousEvent: e,\n      startTimestamp: t.timestamp,\n      isDragging: !1,\n      downButton: e.native.button,\n      holdTimeout: n,\n      modifiers: new Set()\n    };\n    this._pointerState.set(i, o), this.startCapturingPointer(e.native), this._moveHandle.resume(), this._pointerState.size > 1 && this._startDragging(t);\n  }\n  _handlePointerMove(t) {\n    const e = t.data,\n      i = e.native.pointerId,\n      n = this._pointerState.get(i);\n    if (n) {\n      if (n.isDragging) this._pointerDrag.emit(s(\"update\", n, e), void 0, n.modifiers);else {\n        o(e, n.startEvent) > this._getDragThreshold(e.native.pointerType) && this._startDragging(t);\n      }\n      n.previousEvent = e;\n    }\n  }\n  _getDragThreshold(t) {\n    switch (t) {\n      case \"touch\":\n        return this._movementUntilTouchDrag;\n      case \"pen\":\n        return this._movementUntilPenDrag;\n      default:\n        return this._movementUntilMouseDrag;\n    }\n  }\n  _startDragging(t) {\n    const e = t.data,\n      i = e.native.pointerId;\n    this._pointerState.forEach(n => {\n      null != n.holdTimeout && (n.holdTimeout.remove(), n.holdTimeout = null), n.isDragging || (n.modifiers = t.modifiers, n.isDragging = !0, i === n.startEvent.native.pointerId ? this._pointerDrag.emit(s(\"start\", n, e)) : this._pointerDrag.emit(s(\"start\", n, n.previousEvent), t.timestamp));\n    });\n  }\n  _handlePointerLoss(t, e) {\n    const i = t.data,\n      n = i.native.pointerId,\n      o = this._pointerState.get(n);\n    if (o) {\n      if (null != o.holdTimeout && (o.holdTimeout.remove(), o.holdTimeout = null), o.isDragging) this._pointerDrag.emit(s(\"end\", o, \"pointer-up\" === e ? i : o.previousEvent), void 0, o.modifiers);else if (\"pointer-up\" === e && o.downButton === i.native.button) {\n        t.timestamp - o.startTimestamp <= this._maximumClickDelay && !o.holdEmitted && this._immediateClick.emit(i);\n      }\n      this._pointerState.delete(n), this.stopCapturingPointer(i.native), 0 === this._pointerState.size && this._moveHandle.pause();\n    }\n  }\n}\nfunction s(t, e, i) {\n  return {\n    action: t,\n    startEvent: e.startEvent,\n    previousEvent: e.previousEvent,\n    currentEvent: i\n  };\n}\nexport { r as PointerClickHoldAndDrag };","map":{"version":3,"names":["clock","t","removeMaybe","e","InputHandler","i","DefaultParameters","n","euclideanDistance","o","r","constructor","maximumClickDelay","movementUntilMouseDrag","movementUntilPenDrag","movementUntilTouchDrag","s","holdDelay","a","_maximumClickDelay","_movementUntilMouseDrag","_movementUntilPenDrag","_movementUntilTouchDrag","_holdDelay","_clock","_pointerState","Map","_pointerDrag","registerOutgoing","_immediateClick","_pointerHold","registerIncoming","_handlePointerDown","_handlePointerLoss","_moveHandle","_handlePointerMove","pause","onUninstall","forEach","holdTimeout","data","native","pointerId","size","setTimeout","get","isDragging","previousEvent","emit","modifiers","holdEmitted","startEvent","startTimestamp","timestamp","downButton","button","Set","set","startCapturingPointer","resume","_startDragging","_getDragThreshold","pointerType","remove","delete","stopCapturingPointer","action","currentEvent","PointerClickHoldAndDrag"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/input/recognizers/PointerClickHoldAndDrag.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clock as t}from\"../../../core/clock.js\";import{removeMaybe as e}from\"../../../core/maybe.js\";import{InputHandler as i}from\"../InputHandler.js\";import{DefaultParameters as n,euclideanDistance as o}from\"./support.js\";class r extends i{constructor(e=n.maximumClickDelay,i=n.movementUntilMouseDrag,o=n.movementUntilPenDrag,r=n.movementUntilTouchDrag,s=n.holdDelay,a=t){super(!1),this._maximumClickDelay=e,this._movementUntilMouseDrag=i,this._movementUntilPenDrag=o,this._movementUntilTouchDrag=r,this._holdDelay=s,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing(\"pointer-drag\"),this._immediateClick=this.registerOutgoing(\"immediate-click\"),this._pointerHold=this.registerOutgoing(\"hold\"),this.registerIncoming(\"pointer-down\",(t=>this._handlePointerDown(t))),this.registerIncoming(\"pointer-up\",(t=>this._handlePointerLoss(t,\"pointer-up\"))),this.registerIncoming(\"pointer-capture-lost\",(t=>this._handlePointerLoss(t,\"pointer-capture-lost\"))),this.registerIncoming(\"pointer-cancel\",(t=>this._handlePointerLoss(t,\"pointer-cancel\"))),this._moveHandle=this.registerIncoming(\"pointer-move\",(t=>this._handlePointerMove(t))),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach((t=>{t.holdTimeout=e(t.holdTimeout)})),super.onUninstall()}_handlePointerDown(t){const e=t.data,i=e.native.pointerId;let n=null;0===this._pointerState.size&&(n=this._clock.setTimeout((()=>{const e=this._pointerState.get(i);if(e){if(!e.isDragging){const i=e.previousEvent;this._pointerHold.emit(i,void 0,t.modifiers),e.holdEmitted=!0}e.holdTimeout=null}}),this._holdDelay));const o={startEvent:e,previousEvent:e,startTimestamp:t.timestamp,isDragging:!1,downButton:e.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(i,o),this.startCapturingPointer(e.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const e=t.data,i=e.native.pointerId,n=this._pointerState.get(i);if(n){if(n.isDragging)this._pointerDrag.emit(s(\"update\",n,e),void 0,n.modifiers);else{o(e,n.startEvent)>this._getDragThreshold(e.native.pointerType)&&this._startDragging(t)}n.previousEvent=e}}_getDragThreshold(t){switch(t){case\"touch\":return this._movementUntilTouchDrag;case\"pen\":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const e=t.data,i=e.native.pointerId;this._pointerState.forEach((n=>{null!=n.holdTimeout&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,i===n.startEvent.native.pointerId?this._pointerDrag.emit(s(\"start\",n,e)):this._pointerDrag.emit(s(\"start\",n,n.previousEvent),t.timestamp))}))}_handlePointerLoss(t,e){const i=t.data,n=i.native.pointerId,o=this._pointerState.get(n);if(o){if(null!=o.holdTimeout&&(o.holdTimeout.remove(),o.holdTimeout=null),o.isDragging)this._pointerDrag.emit(s(\"end\",o,\"pointer-up\"===e?i:o.previousEvent),void 0,o.modifiers);else if(\"pointer-up\"===e&&o.downButton===i.native.button){t.timestamp-o.startTimestamp<=this._maximumClickDelay&&!o.holdEmitted&&this._immediateClick.emit(i)}this._pointerState.delete(n),this.stopCapturingPointer(i.native),0===this._pointerState.size&&this._moveHandle.pause()}}}function s(t,e,i){return{action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}export{r as PointerClickHoldAndDrag};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}