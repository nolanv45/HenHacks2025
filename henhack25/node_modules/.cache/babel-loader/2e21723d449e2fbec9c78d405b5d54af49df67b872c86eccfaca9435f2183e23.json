{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { Edge as e } from \"../EditGeometry.js\";\nclass t {\n  constructor(e, t, r = 0) {\n    this._editGeometry = e, this._vertices = t, this._minNumberOfVertices = r, this.removedVertices = null;\n  }\n  apply() {\n    let e = \"redo\";\n    if (null == this.removedVertices) {\n      const t = this.removedVertices = [];\n      this._vertices.forEach(e => {\n        const r = this._removeVertex(e);\n        null != r && t.push(r);\n      }), e = \"apply\";\n    } else this.removedVertices.forEach(e => {\n      this._removeVertex(e.removedVertex);\n    });\n    this._editGeometry.notifyChanges({\n      operation: e,\n      removedVertices: this._vertices\n    });\n  }\n  undo() {\n    this.removedVertices?.forEach(e => {\n      this._undoRemoveVertex(e);\n    }), this._editGeometry.notifyChanges({\n      operation: \"undo\",\n      addedVertices: this._vertices\n    });\n  }\n  accumulate() {\n    return !1;\n  }\n  _removeVertex(t) {\n    const r = t.component;\n    if (r.vertices.length <= this._minNumberOfVertices) return null;\n    const i = {\n        removedVertex: t,\n        createdEdge: null\n      },\n      s = t.leftEdge,\n      d = t.rightEdge;\n    return r.vertices.splice(r.vertices.indexOf(t), 1), s && (r.edges.splice(r.edges.indexOf(s), 1), s.leftVertex.rightEdge = null), d && (r.edges.splice(r.edges.indexOf(d), 1), d.rightVertex.leftEdge = null), 0 === t.index && d && this._vertices.length > 0 && r.swapVertices(r.vertices.indexOf(d.rightVertex), 0), s && d && (i.createdEdge = new e(r, s.leftVertex, d.rightVertex), r.edges.push(i.createdEdge)), d && r.updateVertexIndex(d.rightVertex, d.rightVertex.index - 1), i;\n  }\n  _undoRemoveVertex(e) {\n    const t = e.removedVertex,\n      r = e.removedVertex.component,\n      i = t.leftEdge,\n      s = t.rightEdge;\n    e.createdEdge && r.edges.splice(r.edges.indexOf(e.createdEdge), 1), r.vertices.push(t), i && (r.edges.push(i), i.leftVertex.rightEdge = i), s && (r.edges.push(s), s.rightVertex.leftEdge = s), r.updateVertexIndex(t, t.index);\n  }\n}\nexport { t as RemoveVertices };","map":{"version":3,"names":["Edge","e","t","constructor","r","_editGeometry","_vertices","_minNumberOfVertices","removedVertices","apply","forEach","_removeVertex","push","removedVertex","notifyChanges","operation","undo","_undoRemoveVertex","addedVertices","accumulate","component","vertices","length","i","createdEdge","s","leftEdge","d","rightEdge","splice","indexOf","edges","leftVertex","rightVertex","index","swapVertices","updateVertexIndex","RemoveVertices"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Edge as e}from\"../EditGeometry.js\";class t{constructor(e,t,r=0){this._editGeometry=e,this._vertices=t,this._minNumberOfVertices=r,this.removedVertices=null}apply(){let e=\"redo\";if(null==this.removedVertices){const t=this.removedVertices=[];this._vertices.forEach((e=>{const r=this._removeVertex(e);null!=r&&t.push(r)})),e=\"apply\"}else this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)}));this._editGeometry.notifyChanges({operation:e,removedVertices:this._vertices})}undo(){this.removedVertices?.forEach((e=>{this._undoRemoveVertex(e)})),this._editGeometry.notifyChanges({operation:\"undo\",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(t){const r=t.component;if(r.vertices.length<=this._minNumberOfVertices)return null;const i={removedVertex:t,createdEdge:null},s=t.leftEdge,d=t.rightEdge;return r.vertices.splice(r.vertices.indexOf(t),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.leftVertex.rightEdge=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.rightVertex.leftEdge=null),0===t.index&&d&&this._vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.rightVertex),0),s&&d&&(i.createdEdge=new e(r,s.leftVertex,d.rightVertex),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.rightVertex,d.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.leftEdge,s=t.rightEdge;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.leftVertex.rightEdge=i),s&&(r.edges.push(s),s.rightVertex.leftEdge=s),r.updateVertexIndex(t,t.index)}}export{t as RemoveVertices};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}