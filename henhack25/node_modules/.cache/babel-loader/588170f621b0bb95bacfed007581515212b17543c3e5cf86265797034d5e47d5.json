{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { isColorOrColorEmission as e, ShaderOutput as t } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { ReloadableShaderModule as i } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { OITPass as l } from \"../lib/OITPass.js\";\nimport { blending as s, oitDepthTest as n, depthWrite as o, getDrawBuffers as u, OITPolygonOffset as p } from \"../lib/OrderIndependentTransparency.js\";\nimport { RenderSlot as c } from \"../lib/RenderSlot.js\";\nimport { stencilWriteMaskOn as a, stencilToolMaskBaseParams as f, stencilBaseAllZerosParams as d, depthCompareAlways as T, stencilToolTransparentOccluderParams as h, stencilWriteMaskOff as O, stencilToolMaskOccluderParams as m, depthCompareLess as E } from \"../lib/StencilUtils.js\";\nimport { VertexAttribute as P } from \"../lib/VertexAttribute.js\";\nimport { R } from \"../../../../chunks/RibbonLine.glsl.js\";\nimport { PrimitiveType as I, SpecialDrawBuffers as b } from \"../../../webgl/enums.js\";\nimport { makePipelineState as N, defaultColorWrite as S, premultipliedAlphaToPremultipliedAlpha as g } from \"../../../webgl/renderState.js\";\nclass A extends r {\n  constructor(e, t) {\n    super(e, t, new i(R, () => import(\"./RibbonLine.glsl.js\")), W), this.primitiveType = t.wireframe ? I.LINES : I.TRIANGLE_STRIP;\n  }\n  _makePipelineState(i, r) {\n    const {\n        oitPass: c,\n        output: T,\n        hasOccludees: h,\n        hasPolygonOffset: O\n      } = i,\n      m = c === l.NONE,\n      E = c === l.FrontFace;\n    return N({\n      blending: e(T) ? s(c) : null,\n      depthTest: {\n        func: n(c)\n      },\n      depthWrite: o(i),\n      drawBuffers: T === t.Depth ? {\n        buffers: [b.NONE]\n      } : u(c, T),\n      colorWrite: S,\n      stencilWrite: h ? a : null,\n      stencilTest: h ? r ? f : d : null,\n      polygonOffset: m || E ? O ? _ : null : p\n    });\n  }\n  initializePipeline(e) {\n    if (e.occluder) {\n      const i = e.hasPolygonOffset ? _ : null;\n      this._occluderPipelineTransparent = N({\n        blending: g,\n        polygonOffset: i,\n        depthTest: T,\n        depthWrite: null,\n        colorWrite: S,\n        stencilWrite: null,\n        stencilTest: h,\n        drawBuffers: e.output === t.Depth ? {\n          buffers: [b.NONE]\n        } : null\n      }), this._occluderPipelineOpaque = N({\n        blending: g,\n        polygonOffset: i,\n        depthTest: T,\n        depthWrite: null,\n        colorWrite: S,\n        stencilWrite: O,\n        stencilTest: m,\n        drawBuffers: e.output === t.Depth ? {\n          buffers: [b.NONE]\n        } : null\n      }), this._occluderPipelineMaskWrite = N({\n        blending: null,\n        polygonOffset: i,\n        depthTest: E,\n        depthWrite: null,\n        colorWrite: null,\n        stencilWrite: a,\n        stencilTest: f,\n        drawBuffers: e.output === t.Depth ? {\n          buffers: [b.NONE]\n        } : null\n      });\n    }\n    return this._occludeePipeline = this._makePipelineState(e, !0), this._makePipelineState(e, !1);\n  }\n  getPipeline(e, t) {\n    if (e) return this._occludeePipeline;\n    switch (t) {\n      case c.TRANSPARENT_OCCLUDER_MATERIAL:\n        return this._occluderPipelineTransparent ?? super.getPipeline();\n      case c.OCCLUDER_MATERIAL:\n        return this._occluderPipelineOpaque ?? super.getPipeline();\n      default:\n        return this._occluderPipelineMaskWrite ?? super.getPipeline();\n    }\n  }\n}\nconst _ = {\n    factor: 0,\n    units: -4\n  },\n  W = new Map([[P.POSITION, 0], [P.PREVPOSITION, 1], [P.NEXTPOSITION, 2], [P.SUBDIVISIONFACTOR, 3], [P.UV0, 4], [P.COLOR, 5], [P.COLORFEATUREATTRIBUTE, 5], [P.SIZE, 6], [P.SIZEFEATUREATTRIBUTE, 6], [P.OPACITYFEATUREATTRIBUTE, 7], [P.OBJECTANDLAYERIDCOLOR, 8]]);\nexport { A as RibbonLineTechnique, W as vertexAttributeLocations };","map":{"version":3,"names":["isColorOrColorEmission","e","ShaderOutput","t","ReloadableShaderModule","i","ShaderTechnique","r","OITPass","l","blending","s","oitDepthTest","n","depthWrite","o","getDrawBuffers","u","OITPolygonOffset","p","RenderSlot","c","stencilWriteMaskOn","a","stencilToolMaskBaseParams","f","stencilBaseAllZerosParams","d","depthCompareAlways","T","stencilToolTransparentOccluderParams","h","stencilWriteMaskOff","O","stencilToolMaskOccluderParams","m","depthCompareLess","E","VertexAttribute","P","R","PrimitiveType","I","SpecialDrawBuffers","b","makePipelineState","N","defaultColorWrite","S","premultipliedAlphaToPremultipliedAlpha","g","A","constructor","W","primitiveType","wireframe","LINES","TRIANGLE_STRIP","_makePipelineState","oitPass","output","hasOccludees","hasPolygonOffset","NONE","FrontFace","depthTest","func","drawBuffers","Depth","buffers","colorWrite","stencilWrite","stencilTest","polygonOffset","_","initializePipeline","occluder","_occluderPipelineTransparent","_occluderPipelineOpaque","_occluderPipelineMaskWrite","_occludeePipeline","getPipeline","TRANSPARENT_OCCLUDER_MATERIAL","OCCLUDER_MATERIAL","factor","units","Map","POSITION","PREVPOSITION","NEXTPOSITION","SUBDIVISIONFACTOR","UV0","COLOR","COLORFEATUREATTRIBUTE","SIZE","SIZEFEATUREATTRIBUTE","OPACITYFEATUREATTRIBUTE","OBJECTANDLAYERIDCOLOR","RibbonLineTechnique","vertexAttributeLocations"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isColorOrColorEmission as e,ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{blending as s,oitDepthTest as n,depthWrite as o,getDrawBuffers as u,OITPolygonOffset as p}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{stencilWriteMaskOn as a,stencilToolMaskBaseParams as f,stencilBaseAllZerosParams as d,depthCompareAlways as T,stencilToolTransparentOccluderParams as h,stencilWriteMaskOff as O,stencilToolMaskOccluderParams as m,depthCompareLess as E}from\"../lib/StencilUtils.js\";import{VertexAttribute as P}from\"../lib/VertexAttribute.js\";import{R}from\"../../../../chunks/RibbonLine.glsl.js\";import{PrimitiveType as I,SpecialDrawBuffers as b}from\"../../../webgl/enums.js\";import{makePipelineState as N,defaultColorWrite as S,premultipliedAlphaToPremultipliedAlpha as g}from\"../../../webgl/renderState.js\";class A extends r{constructor(e,t){super(e,t,new i(R,(()=>import(\"./RibbonLine.glsl.js\"))),W),this.primitiveType=t.wireframe?I.LINES:I.TRIANGLE_STRIP}_makePipelineState(i,r){const{oitPass:c,output:T,hasOccludees:h,hasPolygonOffset:O}=i,m=c===l.NONE,E=c===l.FrontFace;return N({blending:e(T)?s(c):null,depthTest:{func:n(c)},depthWrite:o(i),drawBuffers:T===t.Depth?{buffers:[b.NONE]}:u(c,T),colorWrite:S,stencilWrite:h?a:null,stencilTest:h?r?f:d:null,polygonOffset:m||E?O?_:null:p})}initializePipeline(e){if(e.occluder){const i=e.hasPolygonOffset?_:null;this._occluderPipelineTransparent=N({blending:g,polygonOffset:i,depthTest:T,depthWrite:null,colorWrite:S,stencilWrite:null,stencilTest:h,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null}),this._occluderPipelineOpaque=N({blending:g,polygonOffset:i,depthTest:T,depthWrite:null,colorWrite:S,stencilWrite:O,stencilTest:m,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null}),this._occluderPipelineMaskWrite=N({blending:null,polygonOffset:i,depthTest:E,depthWrite:null,colorWrite:null,stencilWrite:a,stencilTest:f,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null})}return this._occludeePipeline=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){if(e)return this._occludeePipeline;switch(t){case c.TRANSPARENT_OCCLUDER_MATERIAL:return this._occluderPipelineTransparent??super.getPipeline();case c.OCCLUDER_MATERIAL:return this._occluderPipelineOpaque??super.getPipeline();default:return this._occluderPipelineMaskWrite??super.getPipeline()}}}const _={factor:0,units:-4},W=new Map([[P.POSITION,0],[P.PREVPOSITION,1],[P.NEXTPOSITION,2],[P.SUBDIVISIONFACTOR,3],[P.UV0,4],[P.COLOR,5],[P.COLORFEATUREATTRIBUTE,5],[P.SIZE,6],[P.SIZEFEATUREATTRIBUTE,6],[P.OPACITYFEATUREATTRIBUTE,7],[P.OBJECTANDLAYERIDCOLOR,8]]);export{A as RibbonLineTechnique,W as vertexAttributeLocations};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}