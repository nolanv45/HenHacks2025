{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { pt2px as t } from \"../../../../../../../core/screenUtils.js\";\nimport { GeometryCursor as e } from \"../../../../../../../geometry/GeometryCursor.js\";\nimport { SymbolUnits as i } from \"../../../../../../../symbols/cim/enums.js\";\nimport { spritePadding as r, gradientTextureExternalPadding as s } from \"../../../definitions.js\";\nimport { packBitset as o } from \"../fill/meshWriterUtils.js\";\nimport { bitset as n } from \"./gradientStrokeConstants.js\";\nimport { LineVertexSpec as a, LineMeshWriter as c } from \"./LineMeshWriter.js\";\nimport { DataType as p } from \"../../../../../../webgl/enums.js\";\nconst m = {\n  createComputedParams: t => t,\n  optionalAttributes: a.optionalAttributes,\n  attributes: {\n    ...a.attributes,\n    bitset: {\n      type: p.UNSIGNED_BYTE,\n      count: 1,\n      pack: ({\n        gradientMethod: t,\n        gradientSizeUnits: e,\n        gradientType: r\n      }) => o([[n.isAlongLine, \"alongline\" === t.toLowerCase()], [n.isAbsoluteSize, e === i.Absolute], [n.isDiscrete, \"discrete\" === r.toLowerCase()]])\n    },\n    tlbr: {\n      type: p.UNSIGNED_SHORT,\n      count: 4,\n      pack: ({\n        sprite: t\n      }) => {\n        const {\n            rect: e,\n            width: i,\n            height: o\n          } = t,\n          n = e.x + r + s,\n          a = e.y + r;\n        return [n, a, n + i - 2 * s, a + o];\n      }\n    },\n    accumulatedDistance: {\n      type: p.UNSIGNED_SHORT,\n      count: 1,\n      packTessellation: ({\n        distance: t\n      }) => t\n    },\n    gradientSize: {\n      type: p.HALF_FLOAT,\n      count: 1,\n      pack: ({\n        gradientSize: e,\n        gradientSizeUnits: r\n      }) => r === i.Relative ? e / 100 : t(e)\n    },\n    totalLength: {\n      type: p.HALF_FLOAT,\n      count: 1,\n      packTessellation: ({\n        pathLength: t\n      }) => t\n    },\n    segmentDirection: {\n      type: p.BYTE,\n      count: 2,\n      packPrecisionFactor: 16,\n      packTessellation: ({\n        directionX: t,\n        directionY: e\n      }) => [t, e]\n    }\n  }\n};\nclass l extends c {\n  get _preventEffectClipping() {\n    return !0;\n  }\n  constructor(t, e, i, r) {\n    super(t, e, i, r), this.vertexSpec = m, this._tessellationOptions.textured = !0;\n  }\n  _write(t, i, r) {\n    const s = r ?? e.fromFeatureSetReaderCIM(i);\n    if (!s) return;\n    const {\n      sprite: o\n    } = this.evaluatedMeshParams;\n    this._writeGeometry(t, i, s, o?.textureBinding);\n  }\n}\nexport { l as GradientStrokeMeshWriter, m as GradientStrokeVertexSpec };","map":{"version":3,"names":["pt2px","t","GeometryCursor","e","SymbolUnits","i","spritePadding","r","gradientTextureExternalPadding","s","packBitset","o","bitset","n","LineVertexSpec","a","LineMeshWriter","c","DataType","p","m","createComputedParams","optionalAttributes","attributes","type","UNSIGNED_BYTE","count","pack","gradientMethod","gradientSizeUnits","gradientType","isAlongLine","toLowerCase","isAbsoluteSize","Absolute","isDiscrete","tlbr","UNSIGNED_SHORT","sprite","rect","width","height","x","y","accumulatedDistance","packTessellation","distance","gradientSize","HALF_FLOAT","Relative","totalLength","pathLength","segmentDirection","BYTE","packPrecisionFactor","directionX","directionY","l","_preventEffectClipping","constructor","vertexSpec","_tessellationOptions","textured","_write","fromFeatureSetReaderCIM","evaluatedMeshParams","_writeGeometry","textureBinding","GradientStrokeMeshWriter","GradientStrokeVertexSpec"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/line/GradientStrokeMeshWriter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../../../core/screenUtils.js\";import{GeometryCursor as e}from\"../../../../../../../geometry/GeometryCursor.js\";import{SymbolUnits as i}from\"../../../../../../../symbols/cim/enums.js\";import{spritePadding as r,gradientTextureExternalPadding as s}from\"../../../definitions.js\";import{packBitset as o}from\"../fill/meshWriterUtils.js\";import{bitset as n}from\"./gradientStrokeConstants.js\";import{LineVertexSpec as a,LineMeshWriter as c}from\"./LineMeshWriter.js\";import{DataType as p}from\"../../../../../../webgl/enums.js\";const m={createComputedParams:t=>t,optionalAttributes:a.optionalAttributes,attributes:{...a.attributes,bitset:{type:p.UNSIGNED_BYTE,count:1,pack:({gradientMethod:t,gradientSizeUnits:e,gradientType:r})=>o([[n.isAlongLine,\"alongline\"===t.toLowerCase()],[n.isAbsoluteSize,e===i.Absolute],[n.isDiscrete,\"discrete\"===r.toLowerCase()]])},tlbr:{type:p.UNSIGNED_SHORT,count:4,pack:({sprite:t})=>{const{rect:e,width:i,height:o}=t,n=e.x+r+s,a=e.y+r;return[n,a,n+i-2*s,a+o]}},accumulatedDistance:{type:p.UNSIGNED_SHORT,count:1,packTessellation:({distance:t})=>t},gradientSize:{type:p.HALF_FLOAT,count:1,pack:({gradientSize:e,gradientSizeUnits:r})=>r===i.Relative?e/100:t(e)},totalLength:{type:p.HALF_FLOAT,count:1,packTessellation:({pathLength:t})=>t},segmentDirection:{type:p.BYTE,count:2,packPrecisionFactor:16,packTessellation:({directionX:t,directionY:e})=>[t,e]}}};class l extends c{get _preventEffectClipping(){return!0}constructor(t,e,i,r){super(t,e,i,r),this.vertexSpec=m,this._tessellationOptions.textured=!0}_write(t,i,r){const s=r??e.fromFeatureSetReaderCIM(i);if(!s)return;const{sprite:o}=this.evaluatedMeshParams;this._writeGeometry(t,i,s,o?.textureBinding)}}export{l as GradientStrokeMeshWriter,m as GradientStrokeVertexSpec};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}