{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from \"../has.js\";\nimport { isAbortError as t } from \"../promiseUtils.js\";\nconst r = \"worker:port-closed\";\nvar e;\n!function (t) {\n  t[t.HANDSHAKE = 0] = \"HANDSHAKE\", t[t.OPEN = 1] = \"OPEN\", t[t.OPENED = 2] = \"OPENED\", t[t.RESPONSE = 3] = \"RESPONSE\", t[t.INVOKE = 4] = \"INVOKE\", t[t.ABORT = 5] = \"ABORT\", t[t.CLOSE = 6] = \"CLOSE\", t[t.OPEN_PORT = 7] = \"OPEN_PORT\", t[t.ON = 8] = \"ON\";\n}(e || (e = {}));\nlet n = 0;\nfunction s() {\n  return n++;\n}\nfunction o(t) {\n  return t && \"object\" == typeof t && (\"result\" in t || \"transferList\" in t);\n}\nfunction i(t) {\n  return t ? \"string\" == typeof t ? JSON.stringify({\n    name: \"message\",\n    message: t\n  }) : t.toJSON ? JSON.stringify(t) : JSON.stringify({\n    name: t.name,\n    message: t.message,\n    details: t.details || {\n      stack: t.stack\n    }\n  }) : null;\n}\nfunction a(t, r, n, s) {\n  if (r.type === e.OPEN_PORT) return void t.postMessage(r, [r.port]);\n  if (r.type !== e.INVOKE && r.type !== e.RESPONSE) return void t.postMessage(r);\n  let f;\n  if (o(n) ? (f = u(n.transferList), r.data = n.result) : (f = u(s), r.data = n), f) {\n    if (has(\"ff\")) for (const n of f) if (\"byteLength\" in n && n.byteLength > 267386880) {\n      const n = \"Worker call with large ArrayBuffer would crash Firefox\";\n      switch (r.type) {\n        case e.INVOKE:\n          throw n;\n        case e.RESPONSE:\n          return void a(t, {\n            type: e.RESPONSE,\n            jobId: r.jobId,\n            error: i(n)\n          });\n      }\n    }\n    t.postMessage(r, f);\n  } else t.postMessage(r);\n}\nfunction f(t) {\n  if (!t) return null;\n  const r = t.data;\n  return r ? \"string\" == typeof r ? JSON.parse(r) : r : null;\n}\nfunction u(t) {\n  if (!t?.length) return null;\n  if (has(\"esri-workers-arraybuffer-transfer\")) return t;\n  const r = t.filter(t => !c(t));\n  return r.length ? r : null;\n}\nfunction c(t) {\n  return t instanceof ArrayBuffer || \"ArrayBuffer\" === t?.constructor?.name;\n}\nasync function O(e) {\n  try {\n    return await e;\n  } catch (n) {\n    const e = n?.name === r;\n    if (!(t(n) || e)) throw n;\n    return;\n  }\n}\nexport { e as MessageType, O as ignoreConnectionErrors, o as isTransferrableResult, s as newJobId, r as portClosedErrorName, a as postMessage, f as receiveMessage, i as toInvokeError };","map":{"version":3,"names":["has","isAbortError","t","r","e","HANDSHAKE","OPEN","OPENED","RESPONSE","INVOKE","ABORT","CLOSE","OPEN_PORT","ON","n","s","o","i","JSON","stringify","name","message","toJSON","details","stack","a","type","postMessage","port","f","u","transferList","data","result","byteLength","jobId","error","parse","length","filter","c","ArrayBuffer","constructor","O","MessageType","ignoreConnectionErrors","isTransferrableResult","newJobId","portClosedErrorName","receiveMessage","toInvokeError"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/core/workers/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../has.js\";import{isAbortError as t}from\"../promiseUtils.js\";const r=\"worker:port-closed\";var e;!function(t){t[t.HANDSHAKE=0]=\"HANDSHAKE\",t[t.OPEN=1]=\"OPEN\",t[t.OPENED=2]=\"OPENED\",t[t.RESPONSE=3]=\"RESPONSE\",t[t.INVOKE=4]=\"INVOKE\",t[t.ABORT=5]=\"ABORT\",t[t.CLOSE=6]=\"CLOSE\",t[t.OPEN_PORT=7]=\"OPEN_PORT\",t[t.ON=8]=\"ON\"}(e||(e={}));let n=0;function s(){return n++}function o(t){return t&&\"object\"==typeof t&&(\"result\"in t||\"transferList\"in t)}function i(t){return t?\"string\"==typeof t?JSON.stringify({name:\"message\",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function a(t,r,n,s){if(r.type===e.OPEN_PORT)return void t.postMessage(r,[r.port]);if(r.type!==e.INVOKE&&r.type!==e.RESPONSE)return void t.postMessage(r);let f;if(o(n)?(f=u(n.transferList),r.data=n.result):(f=u(s),r.data=n),f){if(has(\"ff\"))for(const n of f)if(\"byteLength\"in n&&n.byteLength>267386880){const n=\"Worker call with large ArrayBuffer would crash Firefox\";switch(r.type){case e.INVOKE:throw n;case e.RESPONSE:return void a(t,{type:e.RESPONSE,jobId:r.jobId,error:i(n)})}}t.postMessage(r,f)}else t.postMessage(r)}function f(t){if(!t)return null;const r=t.data;return r?\"string\"==typeof r?JSON.parse(r):r:null}function u(t){if(!t?.length)return null;if(has(\"esri-workers-arraybuffer-transfer\"))return t;const r=t.filter((t=>!c(t)));return r.length?r:null}function c(t){return t instanceof ArrayBuffer||\"ArrayBuffer\"===t?.constructor?.name}async function O(e){try{return await e}catch(n){const e=n?.name===r;if(!(t(n)||e))throw n;return}}export{e as MessageType,O as ignoreConnectionErrors,o as isTransferrableResult,s as newJobId,r as portClosedErrorName,a as postMessage,f as receiveMessage,i as toInvokeError};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}