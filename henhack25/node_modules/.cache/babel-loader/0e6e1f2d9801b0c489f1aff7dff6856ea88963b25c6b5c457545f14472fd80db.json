{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { id as t } from \"../../kernel.js\";\nimport e from \"../../request.js\";\nimport { toHSV as i, toRGB as r } from \"../../core/colorUtils.js\";\nimport n from \"../../core/Error.js\";\nimport has from \"../../core/has.js\";\nimport \"../../libs/maquette/projection.js\";\nimport { createProjector as o } from \"../../libs/maquette/projector.js\";\nimport { renderSVG as a } from \"./svgUtils.js\";\nimport { getCSSFilterFromEffectList as c } from \"./utils.js\";\nconst s = o();\nfunction h(t, e) {\n  s.append(t, e), s.detach(e);\n}\nfunction l(t, e, i) {\n  const r = Math.ceil(e[0]),\n    n = Math.ceil(e[1]);\n  if (!t.some(t => !!t.length)) return null;\n  const o = i?.node || document.createElement(\"div\");\n  null != i.opacity && (o.style.opacity = i.opacity.toString()), null != i.effectView && (o.style.filter = c(i.effectView));\n  return h(o, () => a(t, r, n, i)), o;\n}\nfunction m(t, e) {\n  t = Math.ceil(t), e = Math.ceil(e);\n  const i = document.createElement(\"canvas\");\n  i.width = t, i.height = e, i.style.width = t + \"px\", i.style.height = e + \"px\";\n  const r = i.getContext(\"2d\");\n  return r.clearRect(0, 0, t, e), r;\n}\nfunction g(t, i, r) {\n  return t ? e(t, {\n    responseType: \"image\"\n  }).then(t => {\n    const e = t.data,\n      n = e.width,\n      o = e.height,\n      a = n / o;\n    let c = i;\n    if (r) {\n      const t = Math.max(n, o);\n      c = Math.min(c, t);\n    }\n    return {\n      image: e,\n      width: a <= 1 ? Math.ceil(c * a) : c,\n      height: a <= 1 ? c : Math.ceil(c / a)\n    };\n  }) : Promise.reject(new n(\"renderUtils: imageDataSize\", \"href not provided.\"));\n}\nfunction u(t, e) {\n  return !(!t || \"ignore\" === e) && (\"multiply\" !== e || 255 !== t.r || 255 !== t.g || 255 !== t.b || 1 !== t.a);\n}\nfunction f(t, e, n, o, a) {\n  switch (a) {\n    case \"multiply\":\n      t[e] *= n[0], t[e + 1] *= n[1], t[e + 2] *= n[2], t[e + 3] *= n[3];\n      break;\n    default:\n      {\n        const a = i({\n          r: t[e],\n          g: t[e + 1],\n          b: t[e + 2]\n        });\n        a.h = o.h, a.s = o.s, a.v = a.v / 100 * o.v;\n        const c = r(a);\n        t[e] = c.r, t[e + 1] = c.g, t[e + 2] = c.b, t[e + 3] *= n[3];\n        break;\n      }\n  }\n}\nfunction d(e, r, n, o, a) {\n  return g(e, r, a).then(a => {\n    const c = a.width ?? r,\n      s = a.height ?? r;\n    if (a.image && u(n, o)) {\n      let t = a.image.width,\n        r = a.image.height;\n      has(\"edge\") && /\\.svg$/i.test(e) && (t -= 1, r -= 1);\n      const h = m(c, s);\n      h.drawImage(a.image, 0, 0, t, r, 0, 0, c, s);\n      const l = h.getImageData(0, 0, c, s),\n        g = [n.r / 255, n.g / 255, n.b / 255, n.a],\n        u = i(n);\n      for (let e = 0; e < l.data.length; e += 4) f(l.data, e, g, u, o);\n      h.putImageData(l, 0, 0), e = h.canvas.toDataURL(\"image/png\");\n    } else {\n      const i = t?.findCredential(e);\n      if (i?.token) {\n        const t = e.includes(\"?\") ? \"&\" : \"?\";\n        e = `${e}${t}token=${i.token}`;\n      }\n    }\n    return {\n      url: e,\n      width: c,\n      height: s\n    };\n  }).catch(() => ({\n    url: e,\n    width: r,\n    height: r\n  }));\n}\nexport { h as renderOnce, l as renderSymbol, d as tintImageWithColor };","map":{"version":3,"names":["id","t","e","toHSV","i","toRGB","r","n","has","createProjector","o","renderSVG","a","getCSSFilterFromEffectList","c","s","h","append","detach","l","Math","ceil","some","length","node","document","createElement","opacity","style","toString","effectView","filter","m","width","height","getContext","clearRect","g","responseType","then","data","max","min","image","Promise","reject","u","b","f","v","d","test","drawImage","getImageData","putImageData","canvas","toDataURL","findCredential","token","includes","url","catch","renderOnce","renderSymbol","tintImageWithColor"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/support/renderUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{id as t}from\"../../kernel.js\";import e from\"../../request.js\";import{toHSV as i,toRGB as r}from\"../../core/colorUtils.js\";import n from\"../../core/Error.js\";import has from\"../../core/has.js\";import\"../../libs/maquette/projection.js\";import{createProjector as o}from\"../../libs/maquette/projector.js\";import{renderSVG as a}from\"./svgUtils.js\";import{getCSSFilterFromEffectList as c}from\"./utils.js\";const s=o();function h(t,e){s.append(t,e),s.detach(e)}function l(t,e,i){const r=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!t.some((t=>!!t.length)))return null;const o=i?.node||document.createElement(\"div\");null!=i.opacity&&(o.style.opacity=i.opacity.toString()),null!=i.effectView&&(o.style.filter=c(i.effectView));return h(o,(()=>a(t,r,n,i))),o}function m(t,e){t=Math.ceil(t),e=Math.ceil(e);const i=document.createElement(\"canvas\");i.width=t,i.height=e,i.style.width=t+\"px\",i.style.height=e+\"px\";const r=i.getContext(\"2d\");return r.clearRect(0,0,t,e),r}function g(t,i,r){return t?e(t,{responseType:\"image\"}).then((t=>{const e=t.data,n=e.width,o=e.height,a=n/o;let c=i;if(r){const t=Math.max(n,o);c=Math.min(c,t)}return{image:e,width:a<=1?Math.ceil(c*a):c,height:a<=1?c:Math.ceil(c/a)}})):Promise.reject(new n(\"renderUtils: imageDataSize\",\"href not provided.\"))}function u(t,e){return!(!t||\"ignore\"===e)&&(\"multiply\"!==e||255!==t.r||255!==t.g||255!==t.b||1!==t.a)}function f(t,e,n,o,a){switch(a){case\"multiply\":t[e]*=n[0],t[e+1]*=n[1],t[e+2]*=n[2],t[e+3]*=n[3];break;default:{const a=i({r:t[e],g:t[e+1],b:t[e+2]});a.h=o.h,a.s=o.s,a.v=a.v/100*o.v;const c=r(a);t[e]=c.r,t[e+1]=c.g,t[e+2]=c.b,t[e+3]*=n[3];break}}}function d(e,r,n,o,a){return g(e,r,a).then((a=>{const c=a.width??r,s=a.height??r;if(a.image&&u(n,o)){let t=a.image.width,r=a.image.height;has(\"edge\")&&/\\.svg$/i.test(e)&&(t-=1,r-=1);const h=m(c,s);h.drawImage(a.image,0,0,t,r,0,0,c,s);const l=h.getImageData(0,0,c,s),g=[n.r/255,n.g/255,n.b/255,n.a],u=i(n);for(let e=0;e<l.data.length;e+=4)f(l.data,e,g,u,o);h.putImageData(l,0,0),e=h.canvas.toDataURL(\"image/png\")}else{const i=t?.findCredential(e);if(i?.token){const t=e.includes(\"?\")?\"&\":\"?\";e=`${e}${t}token=${i.token}`}}return{url:e,width:c,height:s}})).catch((()=>({url:e,width:r,height:r})))}export{h as renderOnce,l as renderSymbol,d as tintImageWithColor};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}