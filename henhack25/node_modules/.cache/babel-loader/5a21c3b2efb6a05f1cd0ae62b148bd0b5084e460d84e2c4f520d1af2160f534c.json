{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { createLabelMatcherSchema as e } from \"./LabelMatcherSchema.js\";\nimport { createMatcherSchema as r } from \"./MatcherSchema.js\";\nimport { createVVBindings as t } from \"./StorageSchema.js\";\nimport { createVisualVariableUniforms as s } from \"./VisualVariablesSchema.js\";\nimport { getWebGLCapabilities as i } from \"../../../../../webgl/capabilities.js\";\nasync function a(e, _ref) {\n  let {\n    subtypeField: t,\n    sublayers: s\n  } = _ref;\n  const i = await Promise.all(s.map(_ref2 => {\n    let {\n      renderer: t\n    } = _ref2;\n    return r(e, t);\n  }));\n  return {\n    type: \"subtype\",\n    subtypeField: t,\n    renderers: s.reduce((e, _ref3, t) => {\n      let {\n        subtypeCode: r\n      } = _ref3;\n      return {\n        ...e,\n        [r]: i[t]\n      };\n    }, {})\n  };\n}\nfunction n(e, r) {\n  const s = i();\n  return {\n    type: \"multi\",\n    filters: e.filters,\n    capabilities: {\n      maxTextureSize: s.maxTextureSize\n    },\n    keyField: r.subtypeField,\n    target: \"feature\",\n    bindings: r.sublayers.reduce((e, _ref4) => {\n      let {\n        renderer: r,\n        subtypeCode: s\n      } = _ref4;\n      const i = t(r);\n      return {\n        ...e,\n        [s]: i\n      };\n    }, {})\n  };\n}\nasync function o(r, _ref5) {\n  let {\n    subtypeField: t,\n    sublayers: i\n  } = _ref5;\n  const a = await Promise.all(i.map(t => {\n    const i = s(t.renderer),\n      a = {\n        ...t,\n        geometryType: t.geometryType ?? null\n      };\n    return e(r, a, i);\n  }));\n  return {\n    type: \"subtype\",\n    subtypeField: t,\n    renderers: i.reduce((e, _ref6, t) => {\n      let {\n        subtypeCode: r\n      } = _ref6;\n      return {\n        ...e,\n        [r]: a[t]\n      };\n    }, {})\n  };\n}\nasync function u(e, r, t, s) {\n  return {\n    storage: n(r, t),\n    mesh: {\n      properties: {\n        timeZone: r.timeZone,\n        displayRefreshVersion: s,\n        returnMeshObjectId: !1,\n        sortKey: null,\n        currentUser: r.currentUser\n      },\n      strategy: {\n        type: \"feature\"\n      },\n      factory: {\n        symbology: await a(e, t),\n        labels: await o(e, t)\n      }\n    },\n    expressionProperties: {\n      timeExtent: r.timeExtent?.toJSON()\n    }\n  };\n}\nexport { u as createSubtypeProcessorSchema };","map":{"version":3,"names":["createLabelMatcherSchema","e","createMatcherSchema","r","createVVBindings","t","createVisualVariableUniforms","s","getWebGLCapabilities","i","a","_ref","subtypeField","sublayers","Promise","all","map","_ref2","renderer","type","renderers","reduce","_ref3","subtypeCode","n","filters","capabilities","maxTextureSize","keyField","target","bindings","_ref4","o","_ref5","geometryType","_ref6","u","storage","mesh","properties","timeZone","displayRefreshVersion","returnMeshObjectId","sortKey","currentUser","strategy","factory","symbology","labels","expressionProperties","timeExtent","toJSON","createSubtypeProcessorSchema"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/schema/processor/SubtypeProcessorSchema.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createLabelMatcherSchema as e}from\"./LabelMatcherSchema.js\";import{createMatcherSchema as r}from\"./MatcherSchema.js\";import{createVVBindings as t}from\"./StorageSchema.js\";import{createVisualVariableUniforms as s}from\"./VisualVariablesSchema.js\";import{getWebGLCapabilities as i}from\"../../../../../webgl/capabilities.js\";async function a(e,{subtypeField:t,sublayers:s}){const i=await Promise.all(s.map((({renderer:t})=>r(e,t))));return{type:\"subtype\",subtypeField:t,renderers:s.reduce(((e,{subtypeCode:r},t)=>({...e,[r]:i[t]})),{})}}function n(e,r){const s=i();return{type:\"multi\",filters:e.filters,capabilities:{maxTextureSize:s.maxTextureSize},keyField:r.subtypeField,target:\"feature\",bindings:r.sublayers.reduce(((e,{renderer:r,subtypeCode:s})=>{const i=t(r);return{...e,[s]:i}}),{})}}async function o(r,{subtypeField:t,sublayers:i}){const a=await Promise.all(i.map((t=>{const i=s(t.renderer),a={...t,geometryType:t.geometryType??null};return e(r,a,i)})));return{type:\"subtype\",subtypeField:t,renderers:i.reduce(((e,{subtypeCode:r},t)=>({...e,[r]:a[t]})),{})}}async function u(e,r,t,s){return{storage:n(r,t),mesh:{properties:{timeZone:r.timeZone,displayRefreshVersion:s,returnMeshObjectId:!1,sortKey:null,currentUser:r.currentUser},strategy:{type:\"feature\"},factory:{symbology:await a(e,t),labels:await o(e,t)}},expressionProperties:{timeExtent:r.timeExtent?.toJSON()}}}export{u as createSubtypeProcessorSchema};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}