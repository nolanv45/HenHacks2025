{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { c as t, i as e, g as r, l as s, n as o, e as i } from \"../../../../chunks/vec32.js\";\nimport { create as m } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as a, fromPositionAndNormal as f, intersectRay as p } from \"../../../../geometry/support/plane.js\";\nimport { wrap as c } from \"../../../../geometry/support/ray.js\";\nimport { makeOrthoBasisDirUpFallback as g } from \"./GeometryUtil.js\";\nfunction l(l, v) {\n  let h = null;\n  const u = l.vertices.length,\n    j = .99619469809,\n    R = m(),\n    y = m(),\n    x = m(),\n    L = m(),\n    b = m(),\n    k = m(),\n    q = a();\n  let G = l.vertices[0];\n  t(y, v), e(R, 0, 1, 0), g(G.vRight, y, R, R, x, y, j), t(G.frame.up, y), t(G.frame.right, x);\n  const M = l.positions;\n  let U = l.offset;\n  h = G;\n  for (let m = 1; m < u; ++m) {\n    G = l.vertices[m], r(b, G.vLeft, G.vRight);\n    let a = s(b);\n    a > 0 ? (a = 1 / Math.sqrt(a), b[0] = b[0] * a, b[1] = b[1] * a, b[2] = b[2] * a) : (b[0] = G.vRight[0], b[1] = G.vRight[1], b[2] = G.vRight[2]), k[0] = M[U] + h.frame.up[0], k[1] = M[U + 1] + h.frame.up[1], k[2] = M[U + 2] + h.frame.up[2], U += 3;\n    const v = e(n, M[U], M[U + 1], M[U + 2]);\n    f(v, b, q);\n    p(q, c(k, G.vLeft), L) ? (L[0] -= M[U], L[1] -= M[U + 1], L[2] -= M[U + 2], o(y, L), i(x, b, y), o(x, x)) : g(b, h.frame.up, h.frame.right, R, x, y, j), t(G.frame.up, y), t(G.frame.right, x), h = G;\n  }\n}\nconst n = m();\nexport { l as computeMinimumRotationTangentFrame };","map":{"version":3,"names":["c","t","i","e","g","r","l","s","n","o","create","m","a","fromPositionAndNormal","f","intersectRay","p","wrap","makeOrthoBasisDirUpFallback","v","h","u","vertices","length","j","R","y","x","L","b","k","q","G","vRight","frame","up","right","M","positions","U","offset","vLeft","Math","sqrt","computeMinimumRotationTangentFrame"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{c as t,i as e,g as r,l as s,n as o,e as i}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as a,fromPositionAndNormal as f,intersectRay as p}from\"../../../../geometry/support/plane.js\";import{wrap as c}from\"../../../../geometry/support/ray.js\";import{makeOrthoBasisDirUpFallback as g}from\"./GeometryUtil.js\";function l(l,v){let h=null;const u=l.vertices.length,j=.99619469809,R=m(),y=m(),x=m(),L=m(),b=m(),k=m(),q=a();let G=l.vertices[0];t(y,v),e(R,0,1,0),g(G.vRight,y,R,R,x,y,j),t(G.frame.up,y),t(G.frame.right,x);const M=l.positions;let U=l.offset;h=G;for(let m=1;m<u;++m){G=l.vertices[m],r(b,G.vLeft,G.vRight);let a=s(b);a>0?(a=1/Math.sqrt(a),b[0]=b[0]*a,b[1]=b[1]*a,b[2]=b[2]*a):(b[0]=G.vRight[0],b[1]=G.vRight[1],b[2]=G.vRight[2]),k[0]=M[U]+h.frame.up[0],k[1]=M[U+1]+h.frame.up[1],k[2]=M[U+2]+h.frame.up[2],U+=3;const v=e(n,M[U],M[U+1],M[U+2]);f(v,b,q);p(q,c(k,G.vLeft),L)?(L[0]-=M[U],L[1]-=M[U+1],L[2]-=M[U+2],o(y,L),i(x,b,y),o(x,x)):g(b,h.frame.up,h.frame.right,R,x,y,j),t(G.frame.up,y),t(G.frame.right,x),h=G}}const n=m();export{l as computeMinimumRotationTangentFrame};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}