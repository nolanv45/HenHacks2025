{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../request.js\";\nimport { srToRESTValue as t } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { mapParameters as o } from \"../../operations/urlUtils.js\";\nfunction r(e, o) {\n  const r = e.toJSON();\n  return r.objectIds && (r.objectIds = r.objectIds.join(\",\")), r.orderByFields && (r.orderByFields = r.orderByFields.join(\",\")), r.outFields && !o?.returnCountOnly ? r.outFields.includes(\"*\") ? r.outFields = \"*\" : r.outFields = r.outFields.join(\",\") : delete r.outFields, r.outSR && (r.outSR = t(r.outSR)), r.dynamicDataSource && (r.layer = JSON.stringify({\n    source: r.dynamicDataSource\n  }), delete r.dynamicDataSource), r;\n}\nasync function s(e, t, o) {\n  const r = await a(e, t, o),\n    s = r.data,\n    n = s.geometryType,\n    d = s.spatialReference,\n    c = {};\n  for (const a of s.relatedRecordGroups) {\n    const e = {\n      fields: void 0,\n      objectIdFieldName: void 0,\n      geometryType: n,\n      spatialReference: d,\n      hasZ: !!s.hasZ,\n      hasM: !!s.hasM,\n      features: a.relatedRecords\n    };\n    if (null != a.objectId) c[a.objectId] = e;else for (const t of Object.keys(a)) \"relatedRecords\" !== t && (c[a[t]] = e);\n  }\n  return {\n    ...r,\n    data: c\n  };\n}\nasync function n(e, t, o) {\n  const r = await a(e, t, o, {\n      returnCountOnly: !0\n    }),\n    s = r.data,\n    n = {};\n  for (const a of s.relatedRecordGroups) null != a.objectId && (n[a.objectId] = a.count);\n  return {\n    ...r,\n    data: n\n  };\n}\nasync function a(t, s) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let a = arguments.length > 3 ? arguments[3] : undefined;\n  const d = o({\n    ...t.query,\n    f: \"json\",\n    ...a,\n    ...r(s, a)\n  });\n  return e(t.path + \"/queryRelatedRecords\", {\n    ...n,\n    query: {\n      ...n.query,\n      ...d\n    }\n  });\n}\nexport { s as executeRelationshipQuery, n as executeRelationshipQueryForCount, r as toQueryStringParameters };","map":{"version":3,"names":["e","srToRESTValue","t","mapParameters","o","r","toJSON","objectIds","join","orderByFields","outFields","returnCountOnly","includes","outSR","dynamicDataSource","layer","JSON","stringify","source","s","a","data","n","geometryType","d","spatialReference","c","relatedRecordGroups","fields","objectIdFieldName","hasZ","hasM","features","relatedRecords","objectId","Object","keys","count","arguments","length","undefined","query","f","path","executeRelationshipQuery","executeRelationshipQueryForCount","toQueryStringParameters"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{srToRESTValue as t}from\"../../../geometry/support/spatialReferenceUtils.js\";import{mapParameters as o}from\"../../operations/urlUtils.js\";function r(e,o){const r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(\",\")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(\",\")),r.outFields&&!o?.returnCountOnly?r.outFields.includes(\"*\")?r.outFields=\"*\":r.outFields=r.outFields.join(\",\"):delete r.outFields,r.outSR&&(r.outSR=t(r.outSR)),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}async function s(e,t,o){const r=await a(e,t,o),s=r.data,n=s.geometryType,d=s.spatialReference,c={};for(const a of s.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:n,spatialReference:d,hasZ:!!s.hasZ,hasM:!!s.hasM,features:a.relatedRecords};if(null!=a.objectId)c[a.objectId]=e;else for(const t of Object.keys(a))\"relatedRecords\"!==t&&(c[a[t]]=e)}return{...r,data:c}}async function n(e,t,o){const r=await a(e,t,o,{returnCountOnly:!0}),s=r.data,n={};for(const a of s.relatedRecordGroups)null!=a.objectId&&(n[a.objectId]=a.count);return{...r,data:n}}async function a(t,s,n={},a){const d=o({...t.query,f:\"json\",...a,...r(s,a)});return e(t.path+\"/queryRelatedRecords\",{...n,query:{...n.query,...d}})}export{s as executeRelationshipQuery,n as executeRelationshipQueryForCount,r as toQueryStringParameters};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}