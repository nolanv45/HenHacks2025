{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { disposeMaybe as e, destroyMaybe as t } from \"../../../../core/maybe.js\";\nimport { brushes as s } from \"../brushes.js\";\nimport r from \"../vectorTiles/shaders/VTLMaterialManager.js\";\nimport { BitBlitRenderer as i } from \"./BitBlitRenderer.js\";\nimport { backbufferStencilVisible as n } from \"./definitions.js\";\nimport { WGLDrawPhase as a } from \"./enums.js\";\nimport o from \"./MaterialManager.js\";\nimport l from \"./TextureManager.js\";\nimport { TextureUploadManager as h } from \"./TextureUploadManager.js\";\nimport { WorldExtentRenderer as f } from \"./WorldExtentClipRenderer.js\";\nimport { BlendEffect as c } from \"./effects/BlendEffect.js\";\nimport { FeatureEffect as d } from \"./effects/FeatureEffect.js\";\nimport u from \"./effects/HighlightEffect.js\";\nimport { HittestEffect as p } from \"./effects/HittestEffect.js\";\nimport { EffectManager as _ } from \"./effects/post-processing/EffectManager.js\";\nimport { SimpleMesh as b } from \"./meshing/SimpleMesh.js\";\nimport m from \"./painter/RenderPass.js\";\nimport { TechniqueProgramCache as E } from \"./shaderGraph/techniques/TechniqueProgramCache.js\";\nimport { TextureSamplingMode as S, TextureWrapMode as g, CompareFunction as w, BlendFactor as M, RenderbufferFormat as P, BlendOperation as C, Face as B } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as F } from \"../../../webgl/FramebufferObject.js\";\nimport { Renderbuffer as R } from \"../../../webgl/Renderbuffer.js\";\nimport { RenderbufferDescriptor as T } from \"../../../webgl/RenderbufferDescriptor.js\";\nimport { TextureDescriptor as N } from \"../../../webgl/TextureDescriptor.js\";\nclass O {\n  constructor(e, t) {\n    this.context = e, this._currentPipelineStateNeedsUpdate = !1, this._blitRenderer = new i(), this._worldExtentRenderer = new f(), this._brushCache = new Map(), this._lastWidth = null, this._lastHeight = null, this._vtlMaterialManager = new r(), this._blendEffect = new c(), this._stencilBuf = null, this._prevBeforeLayerFBOStack = [], this._fboPool = [], this.effects = {\n      highlight: new u(),\n      hittest: new p(),\n      insideEffect: new d(\"inside\"),\n      outsideEffect: new d(\"outside\")\n    }, this._programCache = new E(), this._shaderState = {\n      shader: null,\n      uniforms: null,\n      defines: null,\n      optionalAttributes: null,\n      useComputeBuffer: !1\n    }, this.materialManager = new o(e), this.textureManager = new l(t), this.textureUploadManager = new h(t), this._effectsManager = new _(), this._quadMesh = b.fromVertexStream(e, [0, 0, 1, 0, 0, 1, 1, 1]);\n  }\n  dispose() {\n    if (this._programCache.destroy(), this.materialManager.dispose(), this.textureManager.dispose(), this.textureUploadManager.destroy(), this._blitRenderer = e(this._blitRenderer), this._worldExtentRenderer = e(this._worldExtentRenderer), this._quadMesh = t(this._quadMesh), this._brushCache && (this._brushCache.forEach(e => e.dispose()), this._brushCache.clear(), this._brushCache = null), this._fbos) {\n      let e;\n      for (e in this._fbos) this._fbos[e] && this._fbos[e].dispose();\n    }\n    for (const e of this._fboPool) e.dispose();\n    if (this._fboPool.length = 0, this.effects) {\n      let e;\n      for (e in this.effects) this.effects[e] && this.effects[e].dispose();\n    }\n    this._effectsManager.dispose(), this._blendEffect.dispose(this.context), this._vtlMaterialManager = e(this._vtlMaterialManager);\n  }\n  clearShaderCache() {\n    this._programCache.destroy(), this._programCache = new E();\n  }\n  get blitRenderer() {\n    return this._blitRenderer;\n  }\n  get vectorTilesMaterialManager() {\n    return this._vtlMaterialManager;\n  }\n  get quadMesh() {\n    return this._quadMesh;\n  }\n  getFbos() {\n    if (!this._fbos) throw new Error(\"InternalError: Painter FBOs not initialized\");\n    return this._fbos;\n  }\n  acquireFbo(e, t) {\n    let s;\n    if (this._fboPool.length > 0) s = this._fboPool.pop();else {\n      const r = new N(e, t);\n      r.samplingMode = S.NEAREST, r.wrapMode = g.CLAMP_TO_EDGE, s = new F(this.context, r, this._stencilBuf);\n    }\n    return s.width === e && s.height === t || s.resize(e, t), s;\n  }\n  releaseFbo(e) {\n    this._fboPool.push(e);\n  }\n  getSharedStencilBuffer() {\n    return this._stencilBuf;\n  }\n  beforeRenderPhases(e, t, s) {\n    const {\n      context: r\n    } = e;\n    this._worldExtentRenderer.render(e, t, s);\n    const {\n      width: i,\n      height: n\n    } = r.getViewport();\n    if (this.updateFBOs(i, n), this._prevFBO = r.getBoundFramebufferObject(), r.bindFramebuffer(this.getFbos().output), r.setColorMask(!0, !0, !0, !0), null != t) {\n      const {\n        r: e,\n        g: s,\n        b: i,\n        a: n\n      } = t;\n      r.setClearColor(n * e / 255, n * s / 255, n * i / 255, n);\n    } else r.setClearColor(0, 0, 0, 0);\n    r.setDepthWriteEnabled(!0), r.setClearDepth(1), r.clear(r.gl.COLOR_BUFFER_BIT | r.gl.DEPTH_BUFFER_BIT), r.setDepthWriteEnabled(!1);\n  }\n  afterRenderPhases(e) {\n    const {\n      context: t\n    } = e;\n    t.bindFramebuffer(this._prevFBO), t.setStencilFunction(w.EQUAL, n, 255), t.setStencilTestEnabled(!0), t.setDepthTestEnabled(!1), this.blitTexture(t, this.getFbos().output.colorTexture, S.NEAREST);\n  }\n  beforeRenderLayer(e, t, s) {\n    const {\n      context: r,\n      blendMode: i,\n      effects: n,\n      drawPhase: a,\n      requireFBO: o\n    } = e;\n    if (o || A(a, i, n, s)) {\n      const e = r.getBoundFramebufferObject();\n      this._prevBeforeLayerFBOStack.push(e);\n      const {\n          width: t,\n          height: s\n        } = r.getViewport(),\n        i = this.acquireFbo(t, s);\n      r.bindFramebuffer(i), r.setColorMask(!0, !0, !0, !0), r.setClearColor(0, 0, 0, 0), r.setDepthWriteEnabled(!0), r.setClearDepth(1), r.clear(r.gl.COLOR_BUFFER_BIT | r.gl.DEPTH_BUFFER_BIT), r.setDepthWriteEnabled(!1);\n    }\n    r.setDepthWriteEnabled(!1), r.setDepthTestEnabled(!1), r.setStencilTestEnabled(!0), r.setClearStencil(t), r.setStencilWriteMask(255), r.clear(r.gl.STENCIL_BUFFER_BIT);\n  }\n  afterRenderLayer(e, t) {\n    const {\n      context: s,\n      blendMode: r,\n      effects: i,\n      requireFBO: n,\n      drawPhase: o\n    } = e;\n    if (n || A(o, r, i, t)) {\n      const n = s.getBoundFramebufferObject();\n      null != i && i.length > 0 && o === a.MAP && (s.setColorMask(!0, !0, !0, !0), this._applyEffects(e, i, n)), s.bindFramebuffer(this._prevBeforeLayerFBOStack.pop()), s.setStencilTestEnabled(!1), s.setStencilWriteMask(0), s.setBlendingEnabled(!0), s.setBlendFunctionSeparate(M.ONE, M.ONE_MINUS_SRC_ALPHA, M.ONE, M.ONE_MINUS_SRC_ALPHA), s.setColorMask(!0, !0, !0, !0);\n      const l = null == r || o === a.HIGHLIGHT || o === a.LABEL ? \"normal\" : r;\n      this._blendEffect.draw(e, n.colorTexture, S.NEAREST, l, t), this.releaseFbo(n);\n    }\n  }\n  renderObject(e, t, r, i) {\n    const n = s[r];\n    if (!n) return;\n    let a = this._brushCache.get(n);\n    void 0 === a && (a = new n(), this._brushCache.set(n, a)), a.prepareState(e), a.draw(e, t, i);\n  }\n  renderObjects(e, t, r, i) {\n    const n = s[r];\n    if (!n) return;\n    let a = this._brushCache.get(n);\n    void 0 === a && (a = new n(), this._brushCache.set(n, a)), a.drawMany(e, t, i);\n  }\n  registerRenderPass(e) {\n    const t = e.brushes.map(e => (this._brushCache.has(e) || this._brushCache.set(e, new e()), this._brushCache.get(e)));\n    return new m(t, e);\n  }\n  blitTexture(e, t, s) {\n    let r = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    e.setBlendingEnabled(!0), e.setBlendFunctionSeparate(M.ONE, M.ONE_MINUS_SRC_ALPHA, M.ONE, M.ONE_MINUS_SRC_ALPHA), e.setColorMask(!0, !0, !0, !0), this._blitRenderer.render(e, t, s, r), this._currentPipelineStateNeedsUpdate = !0;\n  }\n  getPostProcessingEffects(e) {\n    return this._effectsManager.getPostProcessingEffects(e);\n  }\n  updateFBOs(e, t) {\n    if (e !== this._lastWidth || t !== this._lastHeight) {\n      if (this._lastWidth = e, this._lastHeight = t, this._fbos) {\n        let s;\n        for (s in this._fbos) this._fbos[s].resize(e, t);\n        return;\n      }\n      const s = new N(e, t);\n      s.samplingMode = S.NEAREST, s.wrapMode = g.CLAMP_TO_EDGE;\n      const r = new T(P.DEPTH_STENCIL, e, t);\n      this._stencilBuf = new R(this.context, r), this._fbos = {\n        output: new F(this.context, s, this._stencilBuf),\n        effect0: new F(this.context, s, this._stencilBuf)\n      };\n    }\n  }\n  _applyEffects(e, t, s) {\n    const {\n        context: r\n      } = e,\n      i = this._effectsManager.getPostProcessingEffects(t);\n    for (const {\n      postProcessingEffect: n,\n      effect: a\n    } of i) r.bindFramebuffer(s), n.draw(e, s, a);\n    this._currentPipelineStateNeedsUpdate = !0;\n  }\n  setShader(e) {\n    this._shaderState.shader = e.shader, this._shaderState.uniforms = e.uniforms, this._shaderState.defines = e.defines, this._shaderState.optionalAttributes = e.optionalAttributes, this._shaderState.useComputeBuffer = e.useComputeBuffer ?? !1;\n  }\n  setPipelineState(e) {\n    e !== this._currentPipelineState && (this._currentPipelineState = e, this._currentPipelineStateNeedsUpdate = !0);\n  }\n  submitDraw(e, t) {\n    const {\n        shader: s,\n        uniforms: r,\n        defines: i,\n        optionalAttributes: n\n      } = this._shaderState,\n      a = e.context,\n      o = t.getAttributePrecisionPackFactors(),\n      l = this._programCache.getProgram(s, o, r, i ?? {}, n ?? {});\n    return l.setUniforms(r), l.bind(a), this.updatePipelineState(a), this.setStencilRef(a, t), t.draw(e, s.locationInfo), l.cleanupTemporaryTextures(), {\n      vertexShader: l.vertexShader,\n      fragmentShader: l.fragmentShader\n    };\n  }\n  submitDrawMesh(e, t, s, r) {\n    this.submitDrawMeshUntyped(e, t, s, r);\n  }\n  submitDrawMeshUntyped(e, t, s, r) {\n    this.setShader(t);\n    const {\n        shader: i,\n        uniforms: n,\n        defines: a,\n        optionalAttributes: o\n      } = this._shaderState,\n      l = this._programCache.getProgram(i, {}, n, a ?? {}, o ?? {});\n    if (l.setUniforms(n), l.bind(e), this.updatePipelineState(e), r) for (const h of r) s.bind(e, t.shader.locationInfo, h), s.draw(e);else for (let h = 0; h < s.parts.length; h++) s.bind(e, t.shader.locationInfo, h), s.draw(e);\n    s.unbind(e), l.cleanupTemporaryTextures();\n  }\n  updatePipelineState(e) {\n    this._currentPipelineStateNeedsUpdate && (this._currentPipelineStateNeedsUpdate = !1, this._updatePipelineState(e));\n  }\n  _updatePipelineState(e) {\n    if (null == this._currentPipelineState) throw new Error(\"Pipeline state not defined. Call setPipelineState before calling submitDraw \");\n    const {\n      color: t,\n      depth: s,\n      stencil: r\n    } = this._currentPipelineState;\n    if (t) {\n      const {\n        blendMode: s,\n        write: r\n      } = t;\n      switch (e.setColorMask(...r), e.setBlendingEnabled(!0), e.setBlendEquation(C.ADD), s) {\n        case \"composite\":\n          e.setBlendFunctionSeparate(M.ONE, M.ONE_MINUS_SRC_ALPHA, M.ONE, M.ONE_MINUS_SRC_ALPHA);\n          break;\n        case \"additive\":\n          e.setBlendFunctionSeparate(M.ONE, M.ONE, M.ONE, M.ONE);\n          break;\n        case \"custom\":\n          {\n            const {\n                blendParameters: s\n              } = t,\n              {\n                dstAlpha: r,\n                dstRGB: i,\n                srcAlpha: n,\n                srcRGB: a\n              } = s;\n            e.setBlendFunctionSeparate(a, i, n, r);\n            break;\n          }\n        case \"delete\":\n          e.setBlendEquation(C.REVERSE_SUBTRACT), e.setBlendFunctionSeparate(M.ONE, M.ONE_MINUS_SRC_ALPHA, M.ONE, M.ONE_MINUS_SRC_ALPHA);\n      }\n    } else e.setColorMask(!1, !1, !1, !1);\n    if (s) {\n      const {\n        test: t,\n        write: r\n      } = s;\n      r ? (e.setDepthWriteEnabled(!0), e.setDepthRange(r.zNear, r.zFar)) : e.setDepthWriteEnabled(!1), t ? (e.setDepthTestEnabled(!0), e.setDepthFunction(t)) : e.setDepthTestEnabled(!1);\n    } else e.setDepthTestEnabled(!1), e.setDepthWriteEnabled(!1);\n    if (r) {\n      const {\n        test: t,\n        write: s\n      } = r;\n      if (t) {\n        const {\n          compare: s,\n          mask: r,\n          op: i,\n          ref: n\n        } = t;\n        e.setStencilTestEnabled(!0), \"function\" != typeof n && e.setStencilFunctionSeparate(B.FRONT_AND_BACK, s, n, r), e.setStencilOpSeparate(B.FRONT_AND_BACK, i.fail, i.zFail, i.zPass);\n      } else e.setStencilTestEnabled(!1);\n      if (s) {\n        const {\n          mask: t\n        } = s;\n        e.setStencilWriteMask(t);\n      } else e.setStencilWriteMask(0);\n    } else e.setStencilTestEnabled(!1), e.setStencilWriteMask(0);\n  }\n  setStencilRef(e, t) {\n    if (null == this._currentPipelineState) throw new Error(\"Pipeline state not defined. Call setPipelineState before calling submitDraw \");\n    const {\n      stencil: s\n    } = this._currentPipelineState;\n    if (s) {\n      const {\n        test: r\n      } = s;\n      if (r) {\n        const {\n          compare: s,\n          mask: i,\n          ref: n\n        } = r;\n        if (\"function\" == typeof n) {\n          const r = t.getStencilReference();\n          if (null === r) throw new Error(\"InternalError: Stencil reference expected for target but not defined\");\n          e.setStencilFunctionSeparate(B.FRONT_AND_BACK, s, r, i);\n        }\n      }\n    }\n  }\n}\nfunction A(e, t, s, r) {\n  return e !== a.LABEL_ALPHA && e !== a.LABEL && e !== a.HIGHLIGHT && (1 !== r || null != t && \"normal\" !== t || null != s && s.length > 0);\n}\nexport { O as default };","map":{"version":3,"names":["disposeMaybe","e","destroyMaybe","t","brushes","s","r","BitBlitRenderer","i","backbufferStencilVisible","n","WGLDrawPhase","a","o","l","TextureUploadManager","h","WorldExtentRenderer","f","BlendEffect","c","FeatureEffect","d","u","HittestEffect","p","EffectManager","_","SimpleMesh","b","m","TechniqueProgramCache","E","TextureSamplingMode","S","TextureWrapMode","g","CompareFunction","w","BlendFactor","M","RenderbufferFormat","P","BlendOperation","C","Face","B","FramebufferObject","F","Renderbuffer","R","RenderbufferDescriptor","T","TextureDescriptor","N","O","constructor","context","_currentPipelineStateNeedsUpdate","_blitRenderer","_worldExtentRenderer","_brushCache","Map","_lastWidth","_lastHeight","_vtlMaterialManager","_blendEffect","_stencilBuf","_prevBeforeLayerFBOStack","_fboPool","effects","highlight","hittest","insideEffect","outsideEffect","_programCache","_shaderState","shader","uniforms","defines","optionalAttributes","useComputeBuffer","materialManager","textureManager","textureUploadManager","_effectsManager","_quadMesh","fromVertexStream","dispose","destroy","forEach","clear","_fbos","length","clearShaderCache","blitRenderer","vectorTilesMaterialManager","quadMesh","getFbos","Error","acquireFbo","pop","samplingMode","NEAREST","wrapMode","CLAMP_TO_EDGE","width","height","resize","releaseFbo","push","getSharedStencilBuffer","beforeRenderPhases","render","getViewport","updateFBOs","_prevFBO","getBoundFramebufferObject","bindFramebuffer","output","setColorMask","setClearColor","setDepthWriteEnabled","setClearDepth","gl","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","afterRenderPhases","setStencilFunction","EQUAL","setStencilTestEnabled","setDepthTestEnabled","blitTexture","colorTexture","beforeRenderLayer","blendMode","drawPhase","requireFBO","A","setClearStencil","setStencilWriteMask","STENCIL_BUFFER_BIT","afterRenderLayer","MAP","_applyEffects","setBlendingEnabled","setBlendFunctionSeparate","ONE","ONE_MINUS_SRC_ALPHA","HIGHLIGHT","LABEL","draw","renderObject","get","set","prepareState","renderObjects","drawMany","registerRenderPass","map","has","arguments","undefined","getPostProcessingEffects","DEPTH_STENCIL","effect0","postProcessingEffect","effect","setShader","setPipelineState","_currentPipelineState","submitDraw","getAttributePrecisionPackFactors","getProgram","setUniforms","bind","updatePipelineState","setStencilRef","locationInfo","cleanupTemporaryTextures","vertexShader","fragmentShader","submitDrawMesh","submitDrawMeshUntyped","parts","unbind","_updatePipelineState","color","depth","stencil","write","setBlendEquation","ADD","blendParameters","dstAlpha","dstRGB","srcAlpha","srcRGB","REVERSE_SUBTRACT","test","setDepthRange","zNear","zFar","setDepthFunction","compare","mask","op","ref","setStencilFunctionSeparate","FRONT_AND_BACK","setStencilOpSeparate","fail","zFail","zPass","getStencilReference","LABEL_ALPHA","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/Painter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{disposeMaybe as e,destroyMaybe as t}from\"../../../../core/maybe.js\";import{brushes as s}from\"../brushes.js\";import r from\"../vectorTiles/shaders/VTLMaterialManager.js\";import{BitBlitRenderer as i}from\"./BitBlitRenderer.js\";import{backbufferStencilVisible as n}from\"./definitions.js\";import{WGLDrawPhase as a}from\"./enums.js\";import o from\"./MaterialManager.js\";import l from\"./TextureManager.js\";import{TextureUploadManager as h}from\"./TextureUploadManager.js\";import{WorldExtentRenderer as f}from\"./WorldExtentClipRenderer.js\";import{BlendEffect as c}from\"./effects/BlendEffect.js\";import{FeatureEffect as d}from\"./effects/FeatureEffect.js\";import u from\"./effects/HighlightEffect.js\";import{HittestEffect as p}from\"./effects/HittestEffect.js\";import{EffectManager as _}from\"./effects/post-processing/EffectManager.js\";import{SimpleMesh as b}from\"./meshing/SimpleMesh.js\";import m from\"./painter/RenderPass.js\";import{TechniqueProgramCache as E}from\"./shaderGraph/techniques/TechniqueProgramCache.js\";import{TextureSamplingMode as S,TextureWrapMode as g,CompareFunction as w,BlendFactor as M,RenderbufferFormat as P,BlendOperation as C,Face as B}from\"../../../webgl/enums.js\";import{FramebufferObject as F}from\"../../../webgl/FramebufferObject.js\";import{Renderbuffer as R}from\"../../../webgl/Renderbuffer.js\";import{RenderbufferDescriptor as T}from\"../../../webgl/RenderbufferDescriptor.js\";import{TextureDescriptor as N}from\"../../../webgl/TextureDescriptor.js\";class O{constructor(e,t){this.context=e,this._currentPipelineStateNeedsUpdate=!1,this._blitRenderer=new i,this._worldExtentRenderer=new f,this._brushCache=new Map,this._lastWidth=null,this._lastHeight=null,this._vtlMaterialManager=new r,this._blendEffect=new c,this._stencilBuf=null,this._prevBeforeLayerFBOStack=[],this._fboPool=[],this.effects={highlight:new u,hittest:new p,insideEffect:new d(\"inside\"),outsideEffect:new d(\"outside\")},this._programCache=new E,this._shaderState={shader:null,uniforms:null,defines:null,optionalAttributes:null,useComputeBuffer:!1},this.materialManager=new o(e),this.textureManager=new l(t),this.textureUploadManager=new h(t),this._effectsManager=new _,this._quadMesh=b.fromVertexStream(e,[0,0,1,0,0,1,1,1])}dispose(){if(this._programCache.destroy(),this.materialManager.dispose(),this.textureManager.dispose(),this.textureUploadManager.destroy(),this._blitRenderer=e(this._blitRenderer),this._worldExtentRenderer=e(this._worldExtentRenderer),this._quadMesh=t(this._quadMesh),this._brushCache&&(this._brushCache.forEach((e=>e.dispose())),this._brushCache.clear(),this._brushCache=null),this._fbos){let e;for(e in this._fbos)this._fbos[e]&&this._fbos[e].dispose()}for(const e of this._fboPool)e.dispose();if(this._fboPool.length=0,this.effects){let e;for(e in this.effects)this.effects[e]&&this.effects[e].dispose()}this._effectsManager.dispose(),this._blendEffect.dispose(this.context),this._vtlMaterialManager=e(this._vtlMaterialManager)}clearShaderCache(){this._programCache.destroy(),this._programCache=new E}get blitRenderer(){return this._blitRenderer}get vectorTilesMaterialManager(){return this._vtlMaterialManager}get quadMesh(){return this._quadMesh}getFbos(){if(!this._fbos)throw new Error(\"InternalError: Painter FBOs not initialized\");return this._fbos}acquireFbo(e,t){let s;if(this._fboPool.length>0)s=this._fboPool.pop();else{const r=new N(e,t);r.samplingMode=S.NEAREST,r.wrapMode=g.CLAMP_TO_EDGE,s=new F(this.context,r,this._stencilBuf)}return s.width===e&&s.height===t||s.resize(e,t),s}releaseFbo(e){this._fboPool.push(e)}getSharedStencilBuffer(){return this._stencilBuf}beforeRenderPhases(e,t,s){const{context:r}=e;this._worldExtentRenderer.render(e,t,s);const{width:i,height:n}=r.getViewport();if(this.updateFBOs(i,n),this._prevFBO=r.getBoundFramebufferObject(),r.bindFramebuffer(this.getFbos().output),r.setColorMask(!0,!0,!0,!0),null!=t){const{r:e,g:s,b:i,a:n}=t;r.setClearColor(n*e/255,n*s/255,n*i/255,n)}else r.setClearColor(0,0,0,0);r.setDepthWriteEnabled(!0),r.setClearDepth(1),r.clear(r.gl.COLOR_BUFFER_BIT|r.gl.DEPTH_BUFFER_BIT),r.setDepthWriteEnabled(!1)}afterRenderPhases(e){const{context:t}=e;t.bindFramebuffer(this._prevFBO),t.setStencilFunction(w.EQUAL,n,255),t.setStencilTestEnabled(!0),t.setDepthTestEnabled(!1),this.blitTexture(t,this.getFbos().output.colorTexture,S.NEAREST)}beforeRenderLayer(e,t,s){const{context:r,blendMode:i,effects:n,drawPhase:a,requireFBO:o}=e;if(o||A(a,i,n,s)){const e=r.getBoundFramebufferObject();this._prevBeforeLayerFBOStack.push(e);const{width:t,height:s}=r.getViewport(),i=this.acquireFbo(t,s);r.bindFramebuffer(i),r.setColorMask(!0,!0,!0,!0),r.setClearColor(0,0,0,0),r.setDepthWriteEnabled(!0),r.setClearDepth(1),r.clear(r.gl.COLOR_BUFFER_BIT|r.gl.DEPTH_BUFFER_BIT),r.setDepthWriteEnabled(!1)}r.setDepthWriteEnabled(!1),r.setDepthTestEnabled(!1),r.setStencilTestEnabled(!0),r.setClearStencil(t),r.setStencilWriteMask(255),r.clear(r.gl.STENCIL_BUFFER_BIT)}afterRenderLayer(e,t){const{context:s,blendMode:r,effects:i,requireFBO:n,drawPhase:o}=e;if(n||A(o,r,i,t)){const n=s.getBoundFramebufferObject();null!=i&&i.length>0&&o===a.MAP&&(s.setColorMask(!0,!0,!0,!0),this._applyEffects(e,i,n)),s.bindFramebuffer(this._prevBeforeLayerFBOStack.pop()),s.setStencilTestEnabled(!1),s.setStencilWriteMask(0),s.setBlendingEnabled(!0),s.setBlendFunctionSeparate(M.ONE,M.ONE_MINUS_SRC_ALPHA,M.ONE,M.ONE_MINUS_SRC_ALPHA),s.setColorMask(!0,!0,!0,!0);const l=null==r||o===a.HIGHLIGHT||o===a.LABEL?\"normal\":r;this._blendEffect.draw(e,n.colorTexture,S.NEAREST,l,t),this.releaseFbo(n)}}renderObject(e,t,r,i){const n=s[r];if(!n)return;let a=this._brushCache.get(n);void 0===a&&(a=new n,this._brushCache.set(n,a)),a.prepareState(e),a.draw(e,t,i)}renderObjects(e,t,r,i){const n=s[r];if(!n)return;let a=this._brushCache.get(n);void 0===a&&(a=new n,this._brushCache.set(n,a)),a.drawMany(e,t,i)}registerRenderPass(e){const t=e.brushes.map((e=>(this._brushCache.has(e)||this._brushCache.set(e,new e),this._brushCache.get(e))));return new m(t,e)}blitTexture(e,t,s,r=1){e.setBlendingEnabled(!0),e.setBlendFunctionSeparate(M.ONE,M.ONE_MINUS_SRC_ALPHA,M.ONE,M.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0),this._blitRenderer.render(e,t,s,r),this._currentPipelineStateNeedsUpdate=!0}getPostProcessingEffects(e){return this._effectsManager.getPostProcessingEffects(e)}updateFBOs(e,t){if(e!==this._lastWidth||t!==this._lastHeight){if(this._lastWidth=e,this._lastHeight=t,this._fbos){let s;for(s in this._fbos)this._fbos[s].resize(e,t);return}const s=new N(e,t);s.samplingMode=S.NEAREST,s.wrapMode=g.CLAMP_TO_EDGE;const r=new T(P.DEPTH_STENCIL,e,t);this._stencilBuf=new R(this.context,r),this._fbos={output:new F(this.context,s,this._stencilBuf),effect0:new F(this.context,s,this._stencilBuf)}}}_applyEffects(e,t,s){const{context:r}=e,i=this._effectsManager.getPostProcessingEffects(t);for(const{postProcessingEffect:n,effect:a}of i)r.bindFramebuffer(s),n.draw(e,s,a);this._currentPipelineStateNeedsUpdate=!0}setShader(e){this._shaderState.shader=e.shader,this._shaderState.uniforms=e.uniforms,this._shaderState.defines=e.defines,this._shaderState.optionalAttributes=e.optionalAttributes,this._shaderState.useComputeBuffer=e.useComputeBuffer??!1}setPipelineState(e){e!==this._currentPipelineState&&(this._currentPipelineState=e,this._currentPipelineStateNeedsUpdate=!0)}submitDraw(e,t){const{shader:s,uniforms:r,defines:i,optionalAttributes:n}=this._shaderState,a=e.context,o=t.getAttributePrecisionPackFactors(),l=this._programCache.getProgram(s,o,r,i??{},n??{});return l.setUniforms(r),l.bind(a),this.updatePipelineState(a),this.setStencilRef(a,t),t.draw(e,s.locationInfo),l.cleanupTemporaryTextures(),{vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}submitDrawMesh(e,t,s,r){this.submitDrawMeshUntyped(e,t,s,r)}submitDrawMeshUntyped(e,t,s,r){this.setShader(t);const{shader:i,uniforms:n,defines:a,optionalAttributes:o}=this._shaderState,l=this._programCache.getProgram(i,{},n,a??{},o??{});if(l.setUniforms(n),l.bind(e),this.updatePipelineState(e),r)for(const h of r)s.bind(e,t.shader.locationInfo,h),s.draw(e);else for(let h=0;h<s.parts.length;h++)s.bind(e,t.shader.locationInfo,h),s.draw(e);s.unbind(e),l.cleanupTemporaryTextures()}updatePipelineState(e){this._currentPipelineStateNeedsUpdate&&(this._currentPipelineStateNeedsUpdate=!1,this._updatePipelineState(e))}_updatePipelineState(e){if(null==this._currentPipelineState)throw new Error(\"Pipeline state not defined. Call setPipelineState before calling submitDraw \");const{color:t,depth:s,stencil:r}=this._currentPipelineState;if(t){const{blendMode:s,write:r}=t;switch(e.setColorMask(...r),e.setBlendingEnabled(!0),e.setBlendEquation(C.ADD),s){case\"composite\":e.setBlendFunctionSeparate(M.ONE,M.ONE_MINUS_SRC_ALPHA,M.ONE,M.ONE_MINUS_SRC_ALPHA);break;case\"additive\":e.setBlendFunctionSeparate(M.ONE,M.ONE,M.ONE,M.ONE);break;case\"custom\":{const{blendParameters:s}=t,{dstAlpha:r,dstRGB:i,srcAlpha:n,srcRGB:a}=s;e.setBlendFunctionSeparate(a,i,n,r);break}case\"delete\":e.setBlendEquation(C.REVERSE_SUBTRACT),e.setBlendFunctionSeparate(M.ONE,M.ONE_MINUS_SRC_ALPHA,M.ONE,M.ONE_MINUS_SRC_ALPHA)}}else e.setColorMask(!1,!1,!1,!1);if(s){const{test:t,write:r}=s;r?(e.setDepthWriteEnabled(!0),e.setDepthRange(r.zNear,r.zFar)):e.setDepthWriteEnabled(!1),t?(e.setDepthTestEnabled(!0),e.setDepthFunction(t)):e.setDepthTestEnabled(!1)}else e.setDepthTestEnabled(!1),e.setDepthWriteEnabled(!1);if(r){const{test:t,write:s}=r;if(t){const{compare:s,mask:r,op:i,ref:n}=t;e.setStencilTestEnabled(!0),\"function\"!=typeof n&&e.setStencilFunctionSeparate(B.FRONT_AND_BACK,s,n,r),e.setStencilOpSeparate(B.FRONT_AND_BACK,i.fail,i.zFail,i.zPass)}else e.setStencilTestEnabled(!1);if(s){const{mask:t}=s;e.setStencilWriteMask(t)}else e.setStencilWriteMask(0)}else e.setStencilTestEnabled(!1),e.setStencilWriteMask(0)}setStencilRef(e,t){if(null==this._currentPipelineState)throw new Error(\"Pipeline state not defined. Call setPipelineState before calling submitDraw \");const{stencil:s}=this._currentPipelineState;if(s){const{test:r}=s;if(r){const{compare:s,mask:i,ref:n}=r;if(\"function\"==typeof n){const r=t.getStencilReference();if(null===r)throw new Error(\"InternalError: Stencil reference expected for target but not defined\");e.setStencilFunctionSeparate(B.FRONT_AND_BACK,s,r,i)}}}}}function A(e,t,s,r){return e!==a.LABEL_ALPHA&&e!==a.LABEL&&e!==a.HIGHLIGHT&&(1!==r||null!=t&&\"normal\"!==t||null!=s&&s.length>0)}export{O as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}