{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { createTask as t, resultOrAbort as e } from \"../../../../../core/asyncUtils.js\";\nimport { create as s, fromExtent as a, intersects as E } from \"../../../../../geometry/support/aaBoundingRect.js\";\nclass r {\n  constructor(t, e) {\n    this.data = t, this.resolution = e, this.state = {\n      type: i.CREATED\n    }, this.alive = !0;\n  }\n  process(t) {\n    switch (this.state.type) {\n      case i.CREATED:\n        return this.state = this._gotoFetchCount(this.state, t), this.state.task.promise.then(t.resume, t.resume);\n      case i.FETCH_COUNT:\n        break;\n      case i.FETCHED_COUNT:\n        return this.state = this._gotoFetchFeatures(this.state, t), this.state.task.promise.then(t.resume, t.resume);\n      case i.FETCH_FEATURES:\n        break;\n      case i.FETCHED_FEATURES:\n        this.state = this._goToDone(this.state, t);\n      case i.DONE:\n    }\n    return null;\n  }\n  get debugInfo() {\n    return {\n      data: this.data,\n      featureCount: this._featureCount,\n      state: this._stateToString\n    };\n  }\n  get _featureCount() {\n    switch (this.state.type) {\n      case i.CREATED:\n      case i.FETCH_COUNT:\n        return 0;\n      case i.FETCHED_COUNT:\n        return this.state.featureCount;\n      case i.FETCH_FEATURES:\n        return this.state.previous.featureCount;\n      case i.FETCHED_FEATURES:\n        return this.state.features.length;\n      case i.DONE:\n        return this.state.previous.features.length;\n    }\n  }\n  get _stateToString() {\n    switch (this.state.type) {\n      case i.CREATED:\n        return \"created\";\n      case i.FETCH_COUNT:\n        return \"fetch-count\";\n      case i.FETCHED_COUNT:\n        return \"fetched-count\";\n      case i.FETCH_FEATURES:\n        return \"fetch-features\";\n      case i.FETCHED_FEATURES:\n        return \"fetched-features\";\n      case i.DONE:\n        return \"done\";\n    }\n  }\n  _gotoFetchCount(s, a) {\n    return {\n      type: i.FETCH_COUNT,\n      previous: s,\n      task: t(async t => {\n        const s = await e(a.fetchCount(this, t));\n        this.state.type === i.FETCH_COUNT && (this.state = u(this.state, s.ok ? s.value : 1 / 0));\n      })\n    };\n  }\n  _gotoFetchFeatures(s, a) {\n    return {\n      type: i.FETCH_FEATURES,\n      previous: s,\n      task: t(async t => {\n        const E = await e(a.fetchFeatures(this, s.featureCount, t));\n        this.state.type === i.FETCH_FEATURES && (this.state = T(this.state, E.ok ? E.value : []));\n      })\n    };\n  }\n  _goToDone(t, e) {\n    return e.finish(this, t.features), {\n      type: i.DONE,\n      previous: t\n    };\n  }\n  reset() {\n    const t = this.state;\n    switch (this.state = {\n      type: i.CREATED\n    }, t.type) {\n      case i.CREATED:\n      case i.FETCHED_COUNT:\n      case i.FETCHED_FEATURES:\n      case i.DONE:\n        break;\n      case i.FETCH_COUNT:\n      case i.FETCH_FEATURES:\n        t.task.abort();\n    }\n  }\n  intersects(t) {\n    return null == t || !this.data.extent || (a(t, n), E(this.data.extent, n));\n  }\n}\nfunction u(t, e) {\n  return {\n    type: i.FETCHED_COUNT,\n    featureCount: e,\n    previous: t\n  };\n}\nfunction T(t, e) {\n  return {\n    type: i.FETCHED_FEATURES,\n    previous: t,\n    features: e\n  };\n}\nvar i;\n!function (t) {\n  t[t.CREATED = 0] = \"CREATED\", t[t.FETCH_COUNT = 1] = \"FETCH_COUNT\", t[t.FETCHED_COUNT = 2] = \"FETCHED_COUNT\", t[t.FETCH_FEATURES = 3] = \"FETCH_FEATURES\", t[t.FETCHED_FEATURES = 4] = \"FETCHED_FEATURES\", t[t.DONE = 5] = \"DONE\";\n}(i || (i = {}));\nconst n = s();\nexport { r as PendingFeatureTile, i as StateType };","map":{"version":3,"names":["createTask","t","resultOrAbort","e","create","s","fromExtent","a","intersects","E","r","constructor","data","resolution","state","type","i","CREATED","alive","process","_gotoFetchCount","task","promise","then","resume","FETCH_COUNT","FETCHED_COUNT","_gotoFetchFeatures","FETCH_FEATURES","FETCHED_FEATURES","_goToDone","DONE","debugInfo","featureCount","_featureCount","_stateToString","previous","features","length","fetchCount","u","ok","value","fetchFeatures","T","finish","reset","abort","extent","n","PendingFeatureTile","StateType"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createTask as t,resultOrAbort as e}from\"../../../../../core/asyncUtils.js\";import{create as s,fromExtent as a,intersects as E}from\"../../../../../geometry/support/aaBoundingRect.js\";class r{constructor(t,e){this.data=t,this.resolution=e,this.state={type:i.CREATED},this.alive=!0}process(t){switch(this.state.type){case i.CREATED:return this.state=this._gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case i.FETCH_COUNT:break;case i.FETCHED_COUNT:return this.state=this._gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case i.FETCH_FEATURES:break;case i.FETCHED_FEATURES:this.state=this._goToDone(this.state,t);case i.DONE:}return null}get debugInfo(){return{data:this.data,featureCount:this._featureCount,state:this._stateToString}}get _featureCount(){switch(this.state.type){case i.CREATED:case i.FETCH_COUNT:return 0;case i.FETCHED_COUNT:return this.state.featureCount;case i.FETCH_FEATURES:return this.state.previous.featureCount;case i.FETCHED_FEATURES:return this.state.features.length;case i.DONE:return this.state.previous.features.length}}get _stateToString(){switch(this.state.type){case i.CREATED:return\"created\";case i.FETCH_COUNT:return\"fetch-count\";case i.FETCHED_COUNT:return\"fetched-count\";case i.FETCH_FEATURES:return\"fetch-features\";case i.FETCHED_FEATURES:return\"fetched-features\";case i.DONE:return\"done\"}}_gotoFetchCount(s,a){return{type:i.FETCH_COUNT,previous:s,task:t((async t=>{const s=await e(a.fetchCount(this,t));this.state.type===i.FETCH_COUNT&&(this.state=u(this.state,s.ok?s.value:1/0))}))}}_gotoFetchFeatures(s,a){return{type:i.FETCH_FEATURES,previous:s,task:t((async t=>{const E=await e(a.fetchFeatures(this,s.featureCount,t));this.state.type===i.FETCH_FEATURES&&(this.state=T(this.state,E.ok?E.value:[]))}))}}_goToDone(t,e){return e.finish(this,t.features),{type:i.DONE,previous:t}}reset(){const t=this.state;switch(this.state={type:i.CREATED},t.type){case i.CREATED:case i.FETCHED_COUNT:case i.FETCHED_FEATURES:case i.DONE:break;case i.FETCH_COUNT:case i.FETCH_FEATURES:t.task.abort()}}intersects(t){return null==t||!this.data.extent||(a(t,n),E(this.data.extent,n))}}function u(t,e){return{type:i.FETCHED_COUNT,featureCount:e,previous:t}}function T(t,e){return{type:i.FETCHED_FEATURES,previous:t,features:e}}var i;!function(t){t[t.CREATED=0]=\"CREATED\",t[t.FETCH_COUNT=1]=\"FETCH_COUNT\",t[t.FETCHED_COUNT=2]=\"FETCHED_COUNT\",t[t.FETCH_FEATURES=3]=\"FETCH_FEATURES\",t[t.FETCHED_FEATURES=4]=\"FETCHED_FEATURES\",t[t.DONE=5]=\"DONE\"}(i||(i={}));const n=s();export{r as PendingFeatureTile,i as StateType};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}