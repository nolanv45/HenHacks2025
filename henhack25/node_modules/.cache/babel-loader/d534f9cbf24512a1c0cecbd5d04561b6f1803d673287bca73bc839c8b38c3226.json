{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { addTokenParameter as t } from \"../../../kernel.js\";\nimport o from \"../../../request.js\";\nimport { addProxy as e } from \"../../../core/urlUtils.js\";\nimport { mapParameters as r } from \"../../operations/urlUtils.js\";\nimport n from \"../support/AttachmentInfo.js\";\nfunction s(t) {\n  const o = t.toJSON();\n  return o.attachmentTypes && (o.attachmentTypes = o.attachmentTypes.join(\",\")), o.keywords && (o.keywords = o.keywords.join(\",\")), o.globalIds && (o.globalIds = o.globalIds.join(\",\")), o.objectIds && (o.objectIds = o.objectIds.join(\",\")), o.size && (o.size = o.size.join(\",\")), o.orderByFields && (o.orderByFields = o.orderByFields.join(\",\")), o;\n}\nfunction a(o, r) {\n  const s = {};\n  for (const a of r) {\n    const {\n      parentObjectId: r,\n      parentGlobalId: c,\n      attachmentInfos: i\n    } = a;\n    for (const a of i) {\n      const {\n          id: i\n        } = a,\n        d = e(t(`${o.path}/${r}/attachments/${i}`)),\n        m = n.fromJSON(a);\n      m.set({\n        url: d,\n        parentObjectId: r,\n        parentGlobalId: c\n      }), s[r] ? s[r].push(m) : s[r] = [m];\n    }\n  }\n  return s;\n}\nfunction c(t, e, n) {\n  let a = {\n    query: r({\n      ...t.query,\n      f: \"json\",\n      ...s(e)\n    })\n  };\n  return n && (a = {\n    ...n,\n    ...a,\n    query: {\n      ...n.query,\n      ...a.query\n    }\n  }), o(t.path + \"/queryAttachments\", a).then(t => t.data.attachmentGroups);\n}\nasync function i(t, e, r) {\n  const {\n      objectIds: n\n    } = e,\n    s = [];\n  for (const a of n) s.push(o(t.path + \"/\" + a + \"/attachments\", r));\n  return Promise.all(s).then(t => n.map((o, e) => ({\n    parentObjectId: o,\n    attachmentInfos: t[e].data.attachmentInfos\n  })));\n}\nexport { c as executeAttachmentQuery, i as fetchAttachments, a as processAttachmentQueryResult };","map":{"version":3,"names":["addTokenParameter","t","o","addProxy","e","mapParameters","r","n","s","toJSON","attachmentTypes","join","keywords","globalIds","objectIds","size","orderByFields","a","parentObjectId","parentGlobalId","c","attachmentInfos","i","id","d","path","m","fromJSON","set","url","push","query","f","then","data","attachmentGroups","Promise","all","map","executeAttachmentQuery","fetchAttachments","processAttachmentQueryResult"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/rest/query/operations/queryAttachments.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as r}from\"../../operations/urlUtils.js\";import n from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o}function a(o,r){const s={};for(const a of r){const{parentObjectId:r,parentGlobalId:c,attachmentInfos:i}=a;for(const a of i){const{id:i}=a,d=e(t(`${o.path}/${r}/attachments/${i}`)),m=n.fromJSON(a);m.set({url:d,parentObjectId:r,parentGlobalId:c}),s[r]?s[r].push(m):s[r]=[m]}}return s}function c(t,e,n){let a={query:r({...t.query,f:\"json\",...s(e)})};return n&&(a={...n,...a,query:{...n.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function i(t,e,r){const{objectIds:n}=e,s=[];for(const a of n)s.push(o(t.path+\"/\"+a+\"/attachments\",r));return Promise.all(s).then((t=>n.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,i as fetchAttachments,a as processAttachmentQueryResult};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}