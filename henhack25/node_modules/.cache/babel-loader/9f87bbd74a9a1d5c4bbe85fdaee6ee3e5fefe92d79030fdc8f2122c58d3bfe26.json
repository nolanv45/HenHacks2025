{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../../core/Accessor.js\";\nimport { isSome as i } from \"../../../../../core/arrayUtils.js\";\nimport has from \"../../../../../core/has.js\";\nimport { createAbortError as o, isAbortError as n } from \"../../../../../core/promiseUtils.js\";\nimport s from \"../../../../../core/ReactiveMap.js\";\nimport { signal as r } from \"../../../../../core/signal.js\";\nimport { property as l } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport { subclass as a } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { fromExtent as d, intersects as c } from \"../../../../../geometry/support/aaBoundingRect.js\";\nlet u = class extends e {\n  constructor(t) {\n    super(t), this._updatingCount = 0, this._tileHandles = new s(), this._wanted = new s();\n  }\n  destroy() {\n    for (const t of this._tileHandles.values()) t.abort();\n    this._tileHandles.clear(), this._wanted.clear();\n  }\n  get updating() {\n    return this._updatingCount > 0;\n  }\n  get _boundingRect() {\n    const {\n      extent: t\n    } = this;\n    return null == t ? null : d(t);\n  }\n  get _missingTiles() {\n    const t = new Array(),\n      e = this._wanted;\n    for (const i of this._tileHandles.values()) e.has(i.id) && !h(i) && t.push(i);\n    return t;\n  }\n  async onTileTreeChange(t) {\n    ++this._updatingCount;\n    try {\n      const {\n          added: e,\n          removed: i\n        } = t,\n        o = this._tileHandles,\n        {\n          _boundingRect: n\n        } = this,\n        s = null != n ? e.filter(t => c(n, t.extent)) : e,\n        r = this._wanted,\n        l = new Array();\n      for (const t of i) {\n        const {\n          id: i\n        } = t;\n        r.delete(i);\n        if (e.some(e => m(e, t) || m(t, e))) continue;\n        const n = o.get(i);\n        null != n && l.push(this._removeTile(n));\n      }\n      for (const t of s) r.set(t.id, t), l.push(this._addTile(t));\n      await Promise.allSettled(l);\n    } finally {\n      --this._updatingCount;\n    }\n  }\n  async _removeTile(t) {\n    this._tileHandles.delete(t.id), t.abort(), this._validate();\n    const {\n        tile: e\n      } = t,\n      i = new g(t.untilSettled(), null != e ? this.createRemoveTileCommand(e) : null);\n    t.nextEvent = null;\n    const {\n      command: o\n    } = await i.getCommand();\n    o?.execute();\n  }\n  async _addTile(t) {\n    const {\n        _tileHandles: e\n      } = this,\n      i = e.get(t.id);\n    if (null != i) return !h(i) || i.tile.isComplete || (i.tile = i.tile.reset(), i.nextEvent = this._onTileLoad(i)), void (await i.untilSettled());\n    const n = new p(t);\n    this._tileHandles.set(n.id, n);\n    const s = this.loadTile(t, n.signal);\n    n.nextEvent = s;\n    const r = await s;\n    if (n.aborted) throw o();\n    n.tile = r, f(n), n.nextEvent = this._onTileLoad(n), await n.untilSettled();\n  }\n  async _onTileLoad(t) {\n    const {\n        _wanted: e,\n        _tileHandles: i,\n        _missingTiles: o\n      } = this,\n      n = t.descriptor,\n      s = new Array(),\n      r = new Array(),\n      l = new Set();\n    for (const d of i.values()) {\n      if (d === t) continue;\n      const {\n        descriptor: a,\n        id: c\n      } = d;\n      if (e.has(c) || o.some(({\n        descriptor: t\n      }) => m(t, a) || m(a, t))) {\n        if (h(d)) {\n          if (m(n, a)) {\n            const t = d.tile;\n            for (const e of t.objectIds()) l.add(e);\n          }\n          if (m(a, n)) {\n            const e = t.tile,\n              i = new Set(e.objectIds()),\n              o = d.tile,\n              n = o.exclude(i);\n            d.tile = n;\n            const l = AbortSignal.any([d.signal, t.signal]),\n              a = d.untilSettled();\n            s.push(new g(a, this.createRemoveTileCommand(o))), s.push(new g(a, this.createAddTileCommand(n, l), l)), r.push(d), this._validateRemoval(n, i);\n          }\n        }\n      } else {\n        d.abort(), i.delete(c);\n        const {\n          tile: t\n        } = d;\n        null != t && s.push(new g(d.untilSettled(), this.createRemoveTileCommand(t))), d.nextEvent = null;\n      }\n    }\n    l.size > 0 && (t.tile = t.tile.exclude(l), this._validateRemoval(t.tile, l)), s.push(new g(t.untilSettled(), this.createAddTileCommand(t.tile, t.signal), t.signal)), r.push(t), this._validate();\n    const a = this._joinCommands(s);\n    for (const d of r) d.nextEvent = a;\n    await a;\n  }\n  async _joinCommands(t) {\n    const e = (await Promise.allSettled(t.map(async t => t.getCommand()))).map(t => \"fulfilled\" !== t.status || t.value.signal?.aborted ? null : t.value.command).filter(i);\n    if (0 === e.length) return;\n    e.reduce((t, e) => (t.append(e), t)).execute();\n  }\n  _validate() {\n    if (!has(\"feature-pipeline-3d-test-validation\")) return;\n    const t = new Array();\n    for (const e of this._tileHandles.values()) {\n      if (!h(e)) continue;\n      const {\n          tile: i\n        } = e,\n        o = i.featureCount,\n        n = new Uint32Array(o);\n      i.readObjectIds(n), t.push({\n        tile: i,\n        objectIds: new Set(n)\n      });\n    }\n    for (let e = 0; e < t.length; ++e) {\n      const {\n        tile: i,\n        objectIds: o\n      } = t[e];\n      for (let n = e + 1; n < t.length; ++n) {\n        const {\n          tile: e,\n          objectIds: s\n        } = t[n];\n        for (const t of s) if (o.has(t)) {\n          const o = m(e.descriptor, i.descriptor),\n            n = m(i.descriptor, e.descriptor);\n          throw new Error(`${i.descriptor.id} and ${e.descriptor.id} both contain ${t}. aInB: ${o}; bInA: ${n}`);\n        }\n      }\n    }\n  }\n  _validateRemoval(t, e) {\n    if (has(\"feature-pipeline-3d-test-validation\")) for (const i of t.objectIds()) if (e.has(i)) throw new Error(`Failed to remove ${i} from ${t.descriptor.id}!`);\n  }\n};\nfunction m({\n  lij: [t, e, i]\n}, {\n  lij: [o, n, s]\n}) {\n  const r = o - t;\n  return r >= 0 && e === n >> r && i === s >> r;\n}\nt([l()], u.prototype, \"updating\", null), t([l({\n  constructOnly: !0\n})], u.prototype, \"loadTile\", void 0), t([l({\n  constructOnly: !0\n})], u.prototype, \"createAddTileCommand\", void 0), t([l({\n  constructOnly: !0\n})], u.prototype, \"createRemoveTileCommand\", void 0), t([l()], u.prototype, \"_updatingCount\", void 0), t([l()], u.prototype, \"extent\", void 0), t([l()], u.prototype, \"_boundingRect\", null), t([l()], u.prototype, \"_missingTiles\", null), u = t([a(\"esri.views.3d.layers.graphics.pipeline.Tile3DManager\")], u);\nclass p {\n  constructor(t) {\n    this.descriptor = t, this._controller = new AbortController(), this._tile = r(null), this.nextEvent = null;\n  }\n  get id() {\n    return this.descriptor.id;\n  }\n  get tile() {\n    return this._tile.value;\n  }\n  set tile(t) {\n    this._tile.value = t;\n  }\n  get signal() {\n    return this._controller.signal;\n  }\n  abort() {\n    this._controller.abort();\n  }\n  get aborted() {\n    return this._controller.signal.aborted;\n  }\n  async untilSettled() {\n    try {\n      await this.nextEvent;\n    } catch (t) {\n      n(t) || console.error(t);\n    }\n  }\n}\nfunction h(t) {\n  return null != t.tile;\n}\nfunction f(t) {\n  if (!h(t)) throw new Error();\n}\nclass g {\n  constructor(t, e, i) {\n    this.previousEventSettled = t, this.commandPromise = e, this.signal = i;\n  }\n  async getCommand() {\n    const {\n        previousEventSettled: t,\n        commandPromise: e,\n        signal: i\n      } = this,\n      [n] = await Promise.all([e, t]);\n    if (i?.aborted) throw o();\n    return {\n      command: n,\n      signal: i\n    };\n  }\n}\nexport { u as Tile3DManager };","map":{"version":3,"names":["_","t","e","isSome","i","has","createAbortError","o","isAbortError","n","s","signal","r","property","l","subclass","a","fromExtent","d","intersects","c","u","constructor","_updatingCount","_tileHandles","_wanted","destroy","values","abort","clear","updating","_boundingRect","extent","_missingTiles","Array","id","h","push","onTileTreeChange","added","removed","filter","delete","some","m","get","_removeTile","set","_addTile","Promise","allSettled","_validate","tile","g","untilSettled","createRemoveTileCommand","nextEvent","command","getCommand","execute","isComplete","reset","_onTileLoad","p","loadTile","aborted","f","descriptor","Set","objectIds","add","exclude","AbortSignal","any","createAddTileCommand","_validateRemoval","size","_joinCommands","map","status","value","length","reduce","append","featureCount","Uint32Array","readObjectIds","Error","lij","prototype","constructOnly","_controller","AbortController","_tile","console","error","previousEventSettled","commandPromise","all","Tile3DManager"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Tile3DManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{isSome as i}from\"../../../../../core/arrayUtils.js\";import has from\"../../../../../core/has.js\";import{createAbortError as o,isAbortError as n}from\"../../../../../core/promiseUtils.js\";import s from\"../../../../../core/ReactiveMap.js\";import{signal as r}from\"../../../../../core/signal.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromExtent as d,intersects as c}from\"../../../../../geometry/support/aaBoundingRect.js\";let u=class extends e{constructor(t){super(t),this._updatingCount=0,this._tileHandles=new s,this._wanted=new s}destroy(){for(const t of this._tileHandles.values())t.abort();this._tileHandles.clear(),this._wanted.clear()}get updating(){return this._updatingCount>0}get _boundingRect(){const{extent:t}=this;return null==t?null:d(t)}get _missingTiles(){const t=new Array,e=this._wanted;for(const i of this._tileHandles.values())e.has(i.id)&&!h(i)&&t.push(i);return t}async onTileTreeChange(t){++this._updatingCount;try{const{added:e,removed:i}=t,o=this._tileHandles,{_boundingRect:n}=this,s=null!=n?e.filter((t=>c(n,t.extent))):e,r=this._wanted,l=new Array;for(const t of i){const{id:i}=t;r.delete(i);if(e.some((e=>m(e,t)||m(t,e))))continue;const n=o.get(i);null!=n&&l.push(this._removeTile(n))}for(const t of s)r.set(t.id,t),l.push(this._addTile(t));await Promise.allSettled(l)}finally{--this._updatingCount}}async _removeTile(t){this._tileHandles.delete(t.id),t.abort(),this._validate();const{tile:e}=t,i=new g(t.untilSettled(),null!=e?this.createRemoveTileCommand(e):null);t.nextEvent=null;const{command:o}=await i.getCommand();o?.execute()}async _addTile(t){const{_tileHandles:e}=this,i=e.get(t.id);if(null!=i)return!h(i)||i.tile.isComplete||(i.tile=i.tile.reset(),i.nextEvent=this._onTileLoad(i)),void await i.untilSettled();const n=new p(t);this._tileHandles.set(n.id,n);const s=this.loadTile(t,n.signal);n.nextEvent=s;const r=await s;if(n.aborted)throw o();n.tile=r,f(n),n.nextEvent=this._onTileLoad(n),await n.untilSettled()}async _onTileLoad(t){const{_wanted:e,_tileHandles:i,_missingTiles:o}=this,n=t.descriptor,s=new Array,r=new Array,l=new Set;for(const d of i.values()){if(d===t)continue;const{descriptor:a,id:c}=d;if(e.has(c)||o.some((({descriptor:t})=>m(t,a)||m(a,t)))){if(h(d)){if(m(n,a)){const t=d.tile;for(const e of t.objectIds())l.add(e)}if(m(a,n)){const e=t.tile,i=new Set(e.objectIds()),o=d.tile,n=o.exclude(i);d.tile=n;const l=AbortSignal.any([d.signal,t.signal]),a=d.untilSettled();s.push(new g(a,this.createRemoveTileCommand(o))),s.push(new g(a,this.createAddTileCommand(n,l),l)),r.push(d),this._validateRemoval(n,i)}}}else{d.abort(),i.delete(c);const{tile:t}=d;null!=t&&s.push(new g(d.untilSettled(),this.createRemoveTileCommand(t))),d.nextEvent=null}}l.size>0&&(t.tile=t.tile.exclude(l),this._validateRemoval(t.tile,l)),s.push(new g(t.untilSettled(),this.createAddTileCommand(t.tile,t.signal),t.signal)),r.push(t),this._validate();const a=this._joinCommands(s);for(const d of r)d.nextEvent=a;await a}async _joinCommands(t){const e=(await Promise.allSettled(t.map((async t=>t.getCommand())))).map((t=>\"fulfilled\"!==t.status||t.value.signal?.aborted?null:t.value.command)).filter(i);if(0===e.length)return;e.reduce(((t,e)=>(t.append(e),t))).execute()}_validate(){if(!has(\"feature-pipeline-3d-test-validation\"))return;const t=new Array;for(const e of this._tileHandles.values()){if(!h(e))continue;const{tile:i}=e,o=i.featureCount,n=new Uint32Array(o);i.readObjectIds(n),t.push({tile:i,objectIds:new Set(n)})}for(let e=0;e<t.length;++e){const{tile:i,objectIds:o}=t[e];for(let n=e+1;n<t.length;++n){const{tile:e,objectIds:s}=t[n];for(const t of s)if(o.has(t)){const o=m(e.descriptor,i.descriptor),n=m(i.descriptor,e.descriptor);throw new Error(`${i.descriptor.id} and ${e.descriptor.id} both contain ${t}. aInB: ${o}; bInA: ${n}`)}}}}_validateRemoval(t,e){if(has(\"feature-pipeline-3d-test-validation\"))for(const i of t.objectIds())if(e.has(i))throw new Error(`Failed to remove ${i} from ${t.descriptor.id}!`)}};function m({lij:[t,e,i]},{lij:[o,n,s]}){const r=o-t;return r>=0&&e===n>>r&&i===s>>r}t([l()],u.prototype,\"updating\",null),t([l({constructOnly:!0})],u.prototype,\"loadTile\",void 0),t([l({constructOnly:!0})],u.prototype,\"createAddTileCommand\",void 0),t([l({constructOnly:!0})],u.prototype,\"createRemoveTileCommand\",void 0),t([l()],u.prototype,\"_updatingCount\",void 0),t([l()],u.prototype,\"extent\",void 0),t([l()],u.prototype,\"_boundingRect\",null),t([l()],u.prototype,\"_missingTiles\",null),u=t([a(\"esri.views.3d.layers.graphics.pipeline.Tile3DManager\")],u);class p{constructor(t){this.descriptor=t,this._controller=new AbortController,this._tile=r(null),this.nextEvent=null}get id(){return this.descriptor.id}get tile(){return this._tile.value}set tile(t){this._tile.value=t}get signal(){return this._controller.signal}abort(){this._controller.abort()}get aborted(){return this._controller.signal.aborted}async untilSettled(){try{await this.nextEvent}catch(t){n(t)||console.error(t)}}}function h(t){return null!=t.tile}function f(t){if(!h(t))throw new Error}class g{constructor(t,e,i){this.previousEventSettled=t,this.commandPromise=e,this.signal=i}async getCommand(){const{previousEventSettled:t,commandPromise:e,signal:i}=this,[n]=await Promise.all([e,t]);if(i?.aborted)throw o();return{command:n,signal:i}}}export{u as Tile3DManager};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}