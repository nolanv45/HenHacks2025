{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport s from \"../../../../core/Evented.js\";\nimport \"../../../../core/has.js\";\nimport { disposeMaybe as i, removeMaybe as r } from \"../../../../core/maybe.js\";\nimport { generateUID as h } from \"../../../../core/uid.js\";\nimport { property as n } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { a as o, s as l } from \"../../../../chunks/vec42.js\";\nimport { ZEROS as _, create as c } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { ContentObjectType as d } from \"./ContentObjectType.js\";\nimport { textTextureAtlas as u } from \"./testUtils.js\";\nimport { applyTextureResizeModulo as m } from \"./textureUtils.js\";\nimport { TaskPriority as p } from \"../../../support/Scheduler.js\";\nimport { Yield as g } from \"../../../support/Yield.js\";\nimport { TextureWrapMode as f, TextureSamplingMode as x } from \"../../../webgl/enums.js\";\nimport { Texture as v } from \"../../../webgl/Texture.js\";\nimport { TextureDescriptor as w } from \"../../../webgl/TextureDescriptor.js\";\nconst T = 4096;\nlet k = class extends t {\n  constructor(e) {\n    super(e), this.type = d.Texture, this.id = h(), this.events = new s(), this._glTexture = null, this._atlas = new A(256, 256), this._needsRepack = !1, this._canRepack = !0, this._elementsToRender = new Map(), this._elements = new Map(), this._uvCallbacks = new Map(), this.updating = !1;\n  }\n  initialize() {\n    this._canvas = document.createElement(\"canvas\"), this._canvas.setAttribute(\"id\", \"textAtlasCanvas\"), this._canvas.setAttribute(\"style\", \"display:none\"), this._ctx = this._canvas.getContext(\"2d\"), this._stage = this.view._stage, this._stage.add(this), this._updateCanvasElementSize(this._atlas), this._reset();\n  }\n  unload() {\n    this._glTexture = i(this._glTexture), this._frameWorker = r(this._frameWorker), this.updating = !1, this.events.emit(\"unloaded\");\n  }\n  get glTexture() {\n    return this._glTexture;\n  }\n  static get maxSize() {\n    return j = u.stableRendering ? R : 0, [T - R - j, T - R - j - y];\n  }\n  load(e) {\n    if (this._glTexture) return this._glTexture;\n    const t = new w();\n    return t.wrapMode = f.CLAMP_TO_EDGE, t.samplingMode = x.LINEAR_MIPMAP_LINEAR, t.hasMipmap = !0, t.preMultiplyAlpha = !0, t.maxAnisotropy = e.parameters.maxMaxAnisotropy, this._glTexture = new v(e, t, this._canvas), this._frameWorker = this.view.resourceController.scheduler.registerTask(p.TEXT_TEXTURE_ATLAS, this), this.setDirty(), this._glTexture;\n  }\n  dispose() {\n    this._elements.clear(), this._elementsToRender.clear(), this._frameWorker = r(this._frameWorker), this._glTexture && (this._stage.remove(this), this._glTexture = i(this._glTexture)), this._canvas.width = 0, this._canvas.height = 0, this._canvas = null, this._ctx = null;\n  }\n  _updateCanvasElementSize(e) {\n    this._canvas.width = e.width, this._canvas.height = e.height;\n  }\n  _resizeAtlas(e, t) {\n    const {\n      width: s,\n      height: i\n    } = this._atlas;\n    s === e && i === t || (this._atlas.width = e, this._atlas.height = t, this._glTexture?.resize(e, t), this._glTexture?.updateData(0, 0, 0, s, i, this._canvas), this._updateCanvasElementSize(this._atlas), this._elements.forEach(e => this._uvCallbacks.get(e.textRenderer.key)?.forEach(t => t(e.uv))), this._reset());\n  }\n  _reset() {\n    this._elementsToRender.clear(), this._atlas.reset(), this._needsRepack = !0, this.setDirty();\n  }\n  _addAtlasElement(e, t, s, i) {\n    const r = this._atlas;\n    if (r.width < s || r.height < i) return !1;\n    let h = r.cursors.get(i);\n    if (!h) {\n      if (r.height < r.nextY + i) return !1;\n      h = [new C(r.nextY)], r.cursors.set(i, h), r.nextY += i;\n    }\n    let n = h.find(e => r.width >= e.x + s);\n    if (null == n) {\n      if (r.height < r.nextY + i) return !1;\n      n = new C(r.nextY), r.nextY += i, h.push(n);\n    }\n    return e.setNewPosition(n), this._elements.set(t, e), this._elementsToRender.set(t, e), n.x += s, !0;\n  }\n  _ensureCallbacks(e) {\n    const t = this._uvCallbacks.get(e);\n    if (t) return t;\n    const s = new Set();\n    return this._uvCallbacks.set(e, s), s;\n  }\n  _addCallback(e, t) {\n    this._ensureCallbacks(e).add(t);\n  }\n  _removeCallback(e, t) {\n    const s = this._uvCallbacks.get(e);\n    return !(!s?.delete(t) || 0 !== s.size) && (this._uvCallbacks.delete(e), !0);\n  }\n  _processAddition(e) {\n    const t = e.textRenderer.key;\n    if (this._needsRepack) return void this._elements.set(t, e);\n    const s = this._atlas,\n      i = e.textRenderer.renderedWidth,\n      r = e.textRenderer.renderedHeight,\n      h = i + R,\n      n = r + R + y;\n    if (!this._addAtlasElement(e, t, h, n)) {\n      if (this._canRepack) this._reset();else if (s.width < h) {\n        const e = Math.min(m(Math.max(h, 1.5 * s.width)), T);\n        this._resizeAtlas(e, s.height);\n      } else {\n        const e = s.nextY + n,\n          t = Math.min(m(Math.max(e, 1.5 * s.height)), T);\n        if (t > s.height) this._resizeAtlas(s.width, t);else if (s.width < T) {\n          const e = Math.min(m(1.5 * s.width), T);\n          this._resizeAtlas(e, s.height);\n        }\n      }\n      this._elements.set(t, e);\n    }\n  }\n  _renderElement(e) {\n    const t = e.commitNewPosition(),\n      s = e.textRenderer;\n    this._ctx.clearRect(t[0] - R, t[1] - R, s.renderedWidth + 2 * R, s.renderedHeight + 2 * R), s.render(this._ctx, t[0], t[1]), this._uvCallbacks.get(s.key)?.forEach(t => t(e.uv));\n  }\n  get running() {\n    return this.updating;\n  }\n  runTask(e) {\n    if (null == this._glTexture) return g;\n    for (; this._needsRepack && (this._canRepack || this._atlas.height < T && this._atlas.height < T);) {\n      this._canRepack = this._needsRepack = !1;\n      const t = this._elements;\n      this._elements = new Map(), t.forEach(e => this._processAddition(e)), e.madeProgress();\n    }\n    if (this._elementsToRender.size > 0) {\n      for (const [t, s] of this._elementsToRender) {\n        if (e.done) break;\n        this._renderElement(s), this._elementsToRender.delete(t), e.madeProgress();\n      }\n      this._glTexture.setData(this._canvas);\n    }\n    this.updating = this._elementsToRender.size > 0;\n  }\n  addText(e, t) {\n    const s = e.key;\n    this._addCallback(s, t);\n    let i = this._elements.get(s);\n    return i ? o(i.uv, _) || t(i.uv) : (i = new b(this._atlas, e), this._processAddition(i), this.setDirty()), {\n      remove: () => this._removeText(e, t)\n    };\n  }\n  _removeText(e, t) {\n    const s = e.key;\n    this._elements.get(s) && this._removeCallback(s, t) && (this._elements.delete(s), this._elementsToRender.delete(s), this._canRepack = !0);\n  }\n  setDirty() {\n    this._glTexture && (this.updating = !0);\n  }\n  get test() {}\n};\ne([n({\n  constructOnly: !0\n})], k.prototype, \"view\", void 0), e([n({\n  type: Boolean\n})], k.prototype, \"updating\", void 0), k = e([a(\"esri.views.3d.webgl-engine.lib.TextTextureAtlas\")], k);\nconst R = 2,\n  y = 2;\nclass b {\n  constructor(e, t) {\n    this._atlas = e, this.textRenderer = t, this._uv = c(), this._newPosition = [0, 0];\n  }\n  get uv() {\n    if (null == this._xOffset || null == this._yOffset) return _;\n    const {\n      renderedWidth: e,\n      renderedHeight: t\n    } = this.textRenderer;\n    return l(this._uv, this._xOffset / this._atlas.width, (this._yOffset + t) / this._atlas.height, (this._xOffset + e) / this._atlas.width, this._yOffset / this._atlas.height);\n  }\n  setNewPosition(e) {\n    this._newPosition[0] = e.x, this._newPosition[1] = e.y;\n  }\n  commitNewPosition() {\n    return this._xOffset = this._newPosition[0], this._yOffset = this._newPosition[1], this._newPosition;\n  }\n  get xOffset() {\n    return this._xOffset;\n  }\n  get yOffset() {\n    return this._yOffset;\n  }\n}\nclass A {\n  constructor(e, t) {\n    this.width = e, this.height = t, this.cursors = new Map(), this.nextY = 0;\n  }\n  reset() {\n    this.cursors.clear(), this.nextY = j;\n  }\n}\nclass C {\n  constructor(e) {\n    this.y = e, this.x = j;\n  }\n}\nlet j = 0;\nexport { k as TextTextureAtlas };","map":{"version":3,"names":["_","e","t","s","disposeMaybe","i","removeMaybe","r","generateUID","h","property","n","subclass","a","o","l","ZEROS","create","c","ContentObjectType","d","textTextureAtlas","u","applyTextureResizeModulo","m","TaskPriority","p","Yield","g","TextureWrapMode","f","TextureSamplingMode","x","Texture","v","TextureDescriptor","w","T","k","constructor","type","id","events","_glTexture","_atlas","A","_needsRepack","_canRepack","_elementsToRender","Map","_elements","_uvCallbacks","updating","initialize","_canvas","document","createElement","setAttribute","_ctx","getContext","_stage","view","add","_updateCanvasElementSize","_reset","unload","_frameWorker","emit","glTexture","maxSize","j","stableRendering","R","y","load","wrapMode","CLAMP_TO_EDGE","samplingMode","LINEAR_MIPMAP_LINEAR","hasMipmap","preMultiplyAlpha","maxAnisotropy","parameters","maxMaxAnisotropy","resourceController","scheduler","registerTask","TEXT_TEXTURE_ATLAS","setDirty","dispose","clear","remove","width","height","_resizeAtlas","resize","updateData","forEach","get","textRenderer","key","uv","reset","_addAtlasElement","cursors","nextY","C","set","find","push","setNewPosition","_ensureCallbacks","Set","_addCallback","_removeCallback","delete","size","_processAddition","renderedWidth","renderedHeight","Math","min","max","_renderElement","commitNewPosition","clearRect","render","running","runTask","madeProgress","done","setData","addText","b","_removeText","test","constructOnly","prototype","Boolean","_uv","_newPosition","_xOffset","_yOffset","xOffset","yOffset","TextTextureAtlas"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextTextureAtlas.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{disposeMaybe as i,removeMaybe as r}from\"../../../../core/maybe.js\";import{generateUID as h}from\"../../../../core/uid.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as o,s as l}from\"../../../../chunks/vec42.js\";import{ZEROS as _,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ContentObjectType as d}from\"./ContentObjectType.js\";import{textTextureAtlas as u}from\"./testUtils.js\";import{applyTextureResizeModulo as m}from\"./textureUtils.js\";import{TaskPriority as p}from\"../../../support/Scheduler.js\";import{Yield as g}from\"../../../support/Yield.js\";import{TextureWrapMode as f,TextureSamplingMode as x}from\"../../../webgl/enums.js\";import{Texture as v}from\"../../../webgl/Texture.js\";import{TextureDescriptor as w}from\"../../../webgl/TextureDescriptor.js\";const T=4096;let k=class extends t{constructor(e){super(e),this.type=d.Texture,this.id=h(),this.events=new s,this._glTexture=null,this._atlas=new A(256,256),this._needsRepack=!1,this._canRepack=!0,this._elementsToRender=new Map,this._elements=new Map,this._uvCallbacks=new Map,this.updating=!1}initialize(){this._canvas=document.createElement(\"canvas\"),this._canvas.setAttribute(\"id\",\"textAtlasCanvas\"),this._canvas.setAttribute(\"style\",\"display:none\"),this._ctx=this._canvas.getContext(\"2d\"),this._stage=this.view._stage,this._stage.add(this),this._updateCanvasElementSize(this._atlas),this._reset()}unload(){this._glTexture=i(this._glTexture),this._frameWorker=r(this._frameWorker),this.updating=!1,this.events.emit(\"unloaded\")}get glTexture(){return this._glTexture}static get maxSize(){return j=u.stableRendering?R:0,[T-R-j,T-R-j-y]}load(e){if(this._glTexture)return this._glTexture;const t=new w;return t.wrapMode=f.CLAMP_TO_EDGE,t.samplingMode=x.LINEAR_MIPMAP_LINEAR,t.hasMipmap=!0,t.preMultiplyAlpha=!0,t.maxAnisotropy=e.parameters.maxMaxAnisotropy,this._glTexture=new v(e,t,this._canvas),this._frameWorker=this.view.resourceController.scheduler.registerTask(p.TEXT_TEXTURE_ATLAS,this),this.setDirty(),this._glTexture}dispose(){this._elements.clear(),this._elementsToRender.clear(),this._frameWorker=r(this._frameWorker),this._glTexture&&(this._stage.remove(this),this._glTexture=i(this._glTexture)),this._canvas.width=0,this._canvas.height=0,this._canvas=null,this._ctx=null}_updateCanvasElementSize(e){this._canvas.width=e.width,this._canvas.height=e.height}_resizeAtlas(e,t){const{width:s,height:i}=this._atlas;s===e&&i===t||(this._atlas.width=e,this._atlas.height=t,this._glTexture?.resize(e,t),this._glTexture?.updateData(0,0,0,s,i,this._canvas),this._updateCanvasElementSize(this._atlas),this._elements.forEach((e=>this._uvCallbacks.get(e.textRenderer.key)?.forEach((t=>t(e.uv))))),this._reset())}_reset(){this._elementsToRender.clear(),this._atlas.reset(),this._needsRepack=!0,this.setDirty()}_addAtlasElement(e,t,s,i){const r=this._atlas;if(r.width<s||r.height<i)return!1;let h=r.cursors.get(i);if(!h){if(r.height<r.nextY+i)return!1;h=[new C(r.nextY)],r.cursors.set(i,h),r.nextY+=i}let n=h.find((e=>r.width>=e.x+s));if(null==n){if(r.height<r.nextY+i)return!1;n=new C(r.nextY),r.nextY+=i,h.push(n)}return e.setNewPosition(n),this._elements.set(t,e),this._elementsToRender.set(t,e),n.x+=s,!0}_ensureCallbacks(e){const t=this._uvCallbacks.get(e);if(t)return t;const s=new Set;return this._uvCallbacks.set(e,s),s}_addCallback(e,t){this._ensureCallbacks(e).add(t)}_removeCallback(e,t){const s=this._uvCallbacks.get(e);return!(!s?.delete(t)||0!==s.size)&&(this._uvCallbacks.delete(e),!0)}_processAddition(e){const t=e.textRenderer.key;if(this._needsRepack)return void this._elements.set(t,e);const s=this._atlas,i=e.textRenderer.renderedWidth,r=e.textRenderer.renderedHeight,h=i+R,n=r+R+y;if(!this._addAtlasElement(e,t,h,n)){if(this._canRepack)this._reset();else if(s.width<h){const e=Math.min(m(Math.max(h,1.5*s.width)),T);this._resizeAtlas(e,s.height)}else{const e=s.nextY+n,t=Math.min(m(Math.max(e,1.5*s.height)),T);if(t>s.height)this._resizeAtlas(s.width,t);else if(s.width<T){const e=Math.min(m(1.5*s.width),T);this._resizeAtlas(e,s.height)}}this._elements.set(t,e)}}_renderElement(e){const t=e.commitNewPosition(),s=e.textRenderer;this._ctx.clearRect(t[0]-R,t[1]-R,s.renderedWidth+2*R,s.renderedHeight+2*R),s.render(this._ctx,t[0],t[1]),this._uvCallbacks.get(s.key)?.forEach((t=>t(e.uv)))}get running(){return this.updating}runTask(e){if(null==this._glTexture)return g;for(;this._needsRepack&&(this._canRepack||this._atlas.height<T&&this._atlas.height<T);){this._canRepack=this._needsRepack=!1;const t=this._elements;this._elements=new Map,t.forEach((e=>this._processAddition(e))),e.madeProgress()}if(this._elementsToRender.size>0){for(const[t,s]of this._elementsToRender){if(e.done)break;this._renderElement(s),this._elementsToRender.delete(t),e.madeProgress()}this._glTexture.setData(this._canvas)}this.updating=this._elementsToRender.size>0}addText(e,t){const s=e.key;this._addCallback(s,t);let i=this._elements.get(s);return i?o(i.uv,_)||t(i.uv):(i=new b(this._atlas,e),this._processAddition(i),this.setDirty()),{remove:()=>this._removeText(e,t)}}_removeText(e,t){const s=e.key;this._elements.get(s)&&this._removeCallback(s,t)&&(this._elements.delete(s),this._elementsToRender.delete(s),this._canRepack=!0)}setDirty(){this._glTexture&&(this.updating=!0)}get test(){}};e([n({constructOnly:!0})],k.prototype,\"view\",void 0),e([n({type:Boolean})],k.prototype,\"updating\",void 0),k=e([a(\"esri.views.3d.webgl-engine.lib.TextTextureAtlas\")],k);const R=2,y=2;class b{constructor(e,t){this._atlas=e,this.textRenderer=t,this._uv=c(),this._newPosition=[0,0]}get uv(){if(null==this._xOffset||null==this._yOffset)return _;const{renderedWidth:e,renderedHeight:t}=this.textRenderer;return l(this._uv,this._xOffset/this._atlas.width,(this._yOffset+t)/this._atlas.height,(this._xOffset+e)/this._atlas.width,this._yOffset/this._atlas.height)}setNewPosition(e){this._newPosition[0]=e.x,this._newPosition[1]=e.y}commitNewPosition(){return this._xOffset=this._newPosition[0],this._yOffset=this._newPosition[1],this._newPosition}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}}class A{constructor(e,t){this.width=e,this.height=t,this.cursors=new Map,this.nextY=0}reset(){this.cursors.clear(),this.nextY=j}}class C{constructor(e){this.y=e,this.x=j}}let j=0;export{k as TextTextureAtlas};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}