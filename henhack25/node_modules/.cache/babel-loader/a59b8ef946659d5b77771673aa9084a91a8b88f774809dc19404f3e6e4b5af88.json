{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { ShaderOutput as e } from \"./ShaderOutput.js\";\nimport { VertexPosition as r } from \"./attributes/VertexPosition.glsl.js\";\nimport { Float2BindUniform as a } from \"../shaderModules/Float2BindUniform.js\";\nimport { glsl as o } from \"../shaderModules/glsl.js\";\nfunction i(e) {\n  e.varyings.add(\"linearDepth\", \"float\");\n}\nfunction t(e) {\n  e.vertex.uniforms.add(new a(\"nearFar\", e => e.camera.nearFar));\n}\nfunction d(e) {\n  e.vertex.code.add(o`float calculateLinearDepth(vec2 nearFar,float z) {\nreturn (-z - nearFar[0]) / (nearFar[1] - nearFar[0]);\n}`);\n}\nfunction n(a, n) {\n  const {\n    vertex: s\n  } = a;\n  switch (n.output) {\n    case e.Color:\n    case e.ColorEmission:\n      if (n.receiveShadows) return i(a), void s.code.add(o`void forwardLinearDepth() { linearDepth = gl_Position.w; }`);\n      break;\n    case e.Shadow:\n    case e.ShadowHighlight:\n    case e.ShadowExcludeHighlight:\n    case e.ViewshedShadow:\n      return a.include(r, n), i(a), t(a), d(a), void s.code.add(o`void forwardLinearDepth() {\nlinearDepth = calculateLinearDepth(nearFar, vPosition_view.z);\n}`);\n  }\n  s.code.add(o`void forwardLinearDepth() {}`);\n}\nexport { n as ForwardLinearDepth, d as addCalculateLinearDepth, i as addLinearDepth, t as addNearFar };","map":{"version":3,"names":["ShaderOutput","e","VertexPosition","r","Float2BindUniform","a","glsl","o","i","varyings","add","t","vertex","uniforms","camera","nearFar","d","code","n","s","output","Color","ColorEmission","receiveShadows","Shadow","ShadowHighlight","ShadowExcludeHighlight","ViewshedShadow","include","ForwardLinearDepth","addCalculateLinearDepth","addLinearDepth","addNearFar"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"./ShaderOutput.js\";import{VertexPosition as r}from\"./attributes/VertexPosition.glsl.js\";import{Float2BindUniform as a}from\"../shaderModules/Float2BindUniform.js\";import{glsl as o}from\"../shaderModules/glsl.js\";function i(e){e.varyings.add(\"linearDepth\",\"float\")}function t(e){e.vertex.uniforms.add(new a(\"nearFar\",(e=>e.camera.nearFar)))}function d(e){e.vertex.code.add(o`float calculateLinearDepth(vec2 nearFar,float z) {\nreturn (-z - nearFar[0]) / (nearFar[1] - nearFar[0]);\n}`)}function n(a,n){const{vertex:s}=a;switch(n.output){case e.Color:case e.ColorEmission:if(n.receiveShadows)return i(a),void s.code.add(o`void forwardLinearDepth() { linearDepth = gl_Position.w; }`);break;case e.Shadow:case e.ShadowHighlight:case e.ShadowExcludeHighlight:case e.ViewshedShadow:return a.include(r,n),i(a),t(a),d(a),void s.code.add(o`void forwardLinearDepth() {\nlinearDepth = calculateLinearDepth(nearFar, vPosition_view.z);\n}`)}s.code.add(o`void forwardLinearDepth() {}`)}export{n as ForwardLinearDepth,d as addCalculateLinearDepth,i as addLinearDepth,t as addNearFar};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,qCAAqC;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,uCAAuC;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAASC,CAACA,CAACP,CAAC,EAAC;EAACA,CAAC,CAACQ,QAAQ,CAACC,GAAG,CAAC,aAAa,EAAC,OAAO,CAAC;AAAA;AAAC,SAASC,CAACA,CAACV,CAAC,EAAC;EAACA,CAAC,CAACW,MAAM,CAACC,QAAQ,CAACH,GAAG,CAAC,IAAIL,CAAC,CAAC,SAAS,EAAEJ,CAAC,IAAEA,CAAC,CAACa,MAAM,CAACC,OAAQ,CAAC,CAAC;AAAA;AAAC,SAASC,CAACA,CAACf,CAAC,EAAC;EAACA,CAAC,CAACW,MAAM,CAACK,IAAI,CAACP,GAAG,CAACH,CAAC;AACjZ;AACA,EAAE,CAAC;AAAA;AAAC,SAASW,CAACA,CAACb,CAAC,EAACa,CAAC,EAAC;EAAC,MAAK;IAACN,MAAM,EAACO;EAAC,CAAC,GAACd,CAAC;EAAC,QAAOa,CAAC,CAACE,MAAM;IAAE,KAAKnB,CAAC,CAACoB,KAAK;IAAC,KAAKpB,CAAC,CAACqB,aAAa;MAAC,IAAGJ,CAAC,CAACK,cAAc,EAAC,OAAOf,CAAC,CAACH,CAAC,CAAC,EAAC,KAAKc,CAAC,CAACF,IAAI,CAACP,GAAG,CAACH,CAAC,4DAA4D,CAAC;MAAC;IAAM,KAAKN,CAAC,CAACuB,MAAM;IAAC,KAAKvB,CAAC,CAACwB,eAAe;IAAC,KAAKxB,CAAC,CAACyB,sBAAsB;IAAC,KAAKzB,CAAC,CAAC0B,cAAc;MAAC,OAAOtB,CAAC,CAACuB,OAAO,CAACzB,CAAC,EAACe,CAAC,CAAC,EAACV,CAAC,CAACH,CAAC,CAAC,EAACM,CAAC,CAACN,CAAC,CAAC,EAACW,CAAC,CAACX,CAAC,CAAC,EAAC,KAAKc,CAAC,CAACF,IAAI,CAACP,GAAG,CAACH,CAAC;AAC7V;AACA,EAAE,CAAC;EAAA;EAACY,CAAC,CAACF,IAAI,CAACP,GAAG,CAACH,CAAC,8BAA8B,CAAC;AAAA;AAAC,SAAOW,CAAC,IAAIW,kBAAkB,EAACb,CAAC,IAAIc,uBAAuB,EAACtB,CAAC,IAAIuB,cAAc,EAACpB,CAAC,IAAIqB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}