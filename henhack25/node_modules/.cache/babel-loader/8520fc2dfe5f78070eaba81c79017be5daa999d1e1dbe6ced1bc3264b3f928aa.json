{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from \"../../../../../../core/has.js\";\nimport { FeatureCache as e } from \"../FeatureCache.js\";\nimport { AFetchLoadStrategy as t } from \"./AFetchLoadStrategy.js\";\nclass s extends t {\n  constructor(t, s, h, r, d) {\n    super(t, s, h, r, d), this._chunksById = new Map(), this._featureCache = new e(h, s, this._options, this._fetch.bind(this));\n  }\n  prepareCacheUpdate(e, t) {\n    return this._featureCache.prepareCacheUpdate(e, t);\n  }\n  applyCacheUpdate() {\n    return this._featureCache.applyCacheUpdate();\n  }\n  unload(e) {\n    this._removeChunks(e.tile);\n  }\n  _addChunk(e) {\n    const t = e.tile.id;\n    this._chunksById.has(t) || this._chunksById.set(t, []);\n    const s = e.size();\n    (s || e.first || e.end) && (has(\"esri-2d-update-debug\") && console.debug(`Chunk[${e.chunkId}] ATileLoadStrategy.addChunk [count=${s}]`), this._chunksById.get(t).push(e), this._store.insert(e));\n  }\n  _removeChunks(e) {\n    const t = this._chunksById.get(e.key.id) ?? [];\n    for (const s of t) has(\"esri-2d-update-debug\") && console.debug(`Tile[${e.key.id}] Chunk[${s.chunkId}] ATileLoadStrategy.removeChunk`), this._store.remove(s);\n    this._chunksById.delete(e.key.id);\n  }\n}\nexport { s as ATileLoadStrategy };","map":{"version":3,"names":["has","FeatureCache","e","AFetchLoadStrategy","t","s","constructor","h","r","d","_chunksById","Map","_featureCache","_options","_fetch","bind","prepareCacheUpdate","applyCacheUpdate","unload","_removeChunks","tile","_addChunk","id","set","size","first","end","console","debug","chunkId","get","push","_store","insert","key","remove","delete","ATileLoadStrategy"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/sources/strategies/ATileLoadStrategy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../../core/has.js\";import{FeatureCache as e}from\"../FeatureCache.js\";import{AFetchLoadStrategy as t}from\"./AFetchLoadStrategy.js\";class s extends t{constructor(t,s,h,r,d){super(t,s,h,r,d),this._chunksById=new Map,this._featureCache=new e(h,s,this._options,this._fetch.bind(this))}prepareCacheUpdate(e,t){return this._featureCache.prepareCacheUpdate(e,t)}applyCacheUpdate(){return this._featureCache.applyCacheUpdate()}unload(e){this._removeChunks(e.tile)}_addChunk(e){const t=e.tile.id;this._chunksById.has(t)||this._chunksById.set(t,[]);const s=e.size();(s||e.first||e.end)&&(has(\"esri-2d-update-debug\")&&console.debug(`Chunk[${e.chunkId}] ATileLoadStrategy.addChunk [count=${s}]`),this._chunksById.get(t).push(e),this._store.insert(e))}_removeChunks(e){const t=this._chunksById.get(e.key.id)??[];for(const s of t)has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e.key.id}] Chunk[${s.chunkId}] ATileLoadStrategy.removeChunk`),this._store.remove(s);this._chunksById.delete(e.key.id)}}export{s as ATileLoadStrategy};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,GAAG,MAAK,+BAA+B;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,oBAAoB;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,yBAAyB;AAAC,MAAMC,CAAC,SAASD,CAAC;EAACE,WAAWA,CAACF,CAAC,EAACC,CAAC,EAACE,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;IAAC,KAAK,CAACL,CAAC,EAACC,CAAC,EAACE,CAAC,EAACC,CAAC,EAACC,CAAC,CAAC,EAAC,IAAI,CAACC,WAAW,GAAC,IAAIC,GAAG,CAAD,CAAC,EAAC,IAAI,CAACC,aAAa,GAAC,IAAIV,CAAC,CAACK,CAAC,EAACF,CAAC,EAAC,IAAI,CAACQ,QAAQ,EAAC,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EAAA;EAACC,kBAAkBA,CAACd,CAAC,EAACE,CAAC,EAAC;IAAC,OAAO,IAAI,CAACQ,aAAa,CAACI,kBAAkB,CAACd,CAAC,EAACE,CAAC,CAAC;EAAA;EAACa,gBAAgBA,CAAA,EAAE;IAAC,OAAO,IAAI,CAACL,aAAa,CAACK,gBAAgB,CAAC,CAAC;EAAA;EAACC,MAAMA,CAAChB,CAAC,EAAC;IAAC,IAAI,CAACiB,aAAa,CAACjB,CAAC,CAACkB,IAAI,CAAC;EAAA;EAACC,SAASA,CAACnB,CAAC,EAAC;IAAC,MAAME,CAAC,GAACF,CAAC,CAACkB,IAAI,CAACE,EAAE;IAAC,IAAI,CAACZ,WAAW,CAACV,GAAG,CAACI,CAAC,CAAC,IAAE,IAAI,CAACM,WAAW,CAACa,GAAG,CAACnB,CAAC,EAAC,EAAE,CAAC;IAAC,MAAMC,CAAC,GAACH,CAAC,CAACsB,IAAI,CAAC,CAAC;IAAC,CAACnB,CAAC,IAAEH,CAAC,CAACuB,KAAK,IAAEvB,CAAC,CAACwB,GAAG,MAAI1B,GAAG,CAAC,sBAAsB,CAAC,IAAE2B,OAAO,CAACC,KAAK,CAAC,SAAS1B,CAAC,CAAC2B,OAAO,uCAAuCxB,CAAC,GAAG,CAAC,EAAC,IAAI,CAACK,WAAW,CAACoB,GAAG,CAAC1B,CAAC,CAAC,CAAC2B,IAAI,CAAC7B,CAAC,CAAC,EAAC,IAAI,CAAC8B,MAAM,CAACC,MAAM,CAAC/B,CAAC,CAAC,CAAC;EAAA;EAACiB,aAAaA,CAACjB,CAAC,EAAC;IAAC,MAAME,CAAC,GAAC,IAAI,CAACM,WAAW,CAACoB,GAAG,CAAC5B,CAAC,CAACgC,GAAG,CAACZ,EAAE,CAAC,IAAE,EAAE;IAAC,KAAI,MAAMjB,CAAC,IAAID,CAAC,EAACJ,GAAG,CAAC,sBAAsB,CAAC,IAAE2B,OAAO,CAACC,KAAK,CAAC,QAAQ1B,CAAC,CAACgC,GAAG,CAACZ,EAAE,WAAWjB,CAAC,CAACwB,OAAO,iCAAiC,CAAC,EAAC,IAAI,CAACG,MAAM,CAACG,MAAM,CAAC9B,CAAC,CAAC;IAAC,IAAI,CAACK,WAAW,CAAC0B,MAAM,CAAClC,CAAC,CAACgC,GAAG,CAACZ,EAAE,CAAC;EAAA;AAAC;AAAC,SAAOjB,CAAC,IAAIgC,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}