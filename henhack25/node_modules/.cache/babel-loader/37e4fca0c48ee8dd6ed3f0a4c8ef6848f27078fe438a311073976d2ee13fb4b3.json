{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { BufferViewFloat as e } from \"../../../../geometry/support/buffer/BufferView.js\";\nimport { isHighlightOrOID as t, isColor as r } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { CullFaceOptions as i } from \"../lib/basicInterfaces.js\";\nimport { GLTextureMaterial as s } from \"../lib/GLTextureMaterial.js\";\nimport { MaterialParameters as a } from \"../lib/Material.js\";\nimport { OITPolygonOffsetLimit as o } from \"../lib/OrderIndependentTransparency.js\";\nimport { RenderSlot as n } from \"../lib/RenderSlot.js\";\nimport { assert as u } from \"../lib/Util.js\";\nimport { VertexAttribute as c } from \"../lib/VertexAttribute.js\";\nimport { DefaultBufferWriter as p } from \"./DefaultBufferWriter.js\";\nimport { PositionUVLayout as l } from \"./DefaultLayouts.js\";\nimport { TriangleMaterial as h } from \"./TriangleMaterial.js\";\nimport { writeBufferFloat as f, writeDefaultAttribute as m } from \"./internal/bufferWriterUtils.js\";\nimport { vertexAttributeLocations as g, ImageMaterialTechnique as T } from \"../shaders/ImageMaterialTechnique.js\";\nimport { ImageMaterialTechniqueConfiguration as d } from \"../shaders/ImageMaterialTechniqueConfiguration.js\";\nclass I extends h {\n  constructor(e) {\n    super(e, b), this._configuration = new d(), this.vertexAttributeLocations = g, this.supportsEdges = !0, this.produces = new Map([[n.OPAQUE_MATERIAL, e => t(e)], [n.TRANSPARENT_MATERIAL, e => r(e) && this.parameters.writeDepth], [n.TRANSPARENT_MATERIAL_WITHOUT_DEPTH, e => r(e) && !this.parameters.writeDepth], [n.DRAPED_MATERIAL, e => r(e) || t(e)]]);\n  }\n  getConfiguration(e, t) {\n    return this._configuration.output = e, this._configuration.cullFace = this.parameters.cullFace, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.hasOccludees = t.hasOccludees, this._configuration.oitPass = t.oitPass, this._configuration.enableOffset = t.camera.relativeElevation < o, this._configuration.terrainDepthTest = t.terrainDepthTest, this._configuration.cullAboveTerrain = t.cullAboveTerrain, this._configuration.perspectiveInterpolation = this.parameters.perspectiveInterpolation, this._configuration;\n  }\n  get visible() {\n    return !0;\n  }\n  createGLMaterial(e) {\n    return new _(e);\n  }\n  createBufferWriter() {\n    const e = l.clone();\n    return this.parameters.perspectiveInterpolation && e.f32(c.PERSPECTIVEDIVIDE), new E(e);\n  }\n}\nclass _ extends s {\n  constructor(e) {\n    super({\n      ...e,\n      ...e.material.parameters\n    });\n  }\n  beginSlot(e) {\n    return this.updateTexture(this._material.parameters.textureId), this._material.setParameters(this.textureBindParameters), this.getTechnique(T, e);\n  }\n}\nclass E extends p {\n  write(t, r, i, s, a, o) {\n    for (const n of this.vertexBufferLayout.fields.keys()) {\n      const s = i.get(n);\n      if (s) if (n === c.PERSPECTIVEDIVIDE) {\n        u(1 === s.size);\n        const t = a.getField(n, e);\n        t && f(s, t, o);\n      } else m(n, s, t, r, a, o);\n    }\n  }\n}\nclass b extends a {\n  constructor(e) {\n    super(), this.textureId = e, this.writeDepth = !0, this.hasSlicePlane = !1, this.cullFace = i.None, this.opacity = 1, this.perspectiveInterpolation = !1;\n  }\n}\nexport { I as ImageMaterial, b as Parameters };","map":{"version":3,"names":["BufferViewFloat","e","isHighlightOrOID","t","isColor","r","CullFaceOptions","i","GLTextureMaterial","s","MaterialParameters","a","OITPolygonOffsetLimit","o","RenderSlot","n","assert","u","VertexAttribute","c","DefaultBufferWriter","p","PositionUVLayout","l","TriangleMaterial","h","writeBufferFloat","f","writeDefaultAttribute","m","vertexAttributeLocations","g","ImageMaterialTechnique","T","ImageMaterialTechniqueConfiguration","d","I","constructor","b","_configuration","supportsEdges","produces","Map","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","writeDepth","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","output","cullFace","hasSlicePlane","hasOccludees","oitPass","enableOffset","camera","relativeElevation","terrainDepthTest","cullAboveTerrain","perspectiveInterpolation","visible","createGLMaterial","_","createBufferWriter","clone","f32","PERSPECTIVEDIVIDE","E","material","beginSlot","updateTexture","_material","textureId","setParameters","textureBindParameters","getTechnique","write","vertexBufferLayout","fields","keys","get","size","getField","None","opacity","ImageMaterial","Parameters"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as s}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as p}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as l}from\"./DefaultLayouts.js\";import{TriangleMaterial as h}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as m}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as g,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as d}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class I extends h{constructor(e){super(e,b),this._configuration=new d,this.vertexAttributeLocations=g,this.supportsEdges=!0,this.produces=new Map([[n.OPAQUE_MATERIAL,e=>t(e)],[n.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[n.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[n.DRAPED_MATERIAL,e=>r(e)||t(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new _(e)}createBufferWriter(){const e=l.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new E(e)}}class _ extends s{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.getTechnique(T,e)}}class E extends p{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===c.PERSPECTIVEDIVIDE){u(1===s.size);const t=a.getField(n,e);t&&f(s,t,o)}else m(n,s,t,r,a,o)}}}class b extends a{constructor(e){super(),this.textureId=e,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.perspectiveInterpolation=!1}}export{I as ImageMaterial,b as Parameters};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}