{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { pt2px as e } from \"../../../../../../../core/screenUtils.js\";\nimport { GeometryCursor as t } from \"../../../../../../../geometry/GeometryCursor.js\";\nimport { packComplexFillBitset as r, getPatternSize as s, complexFillVertexSpec as i } from \"./ComplexFillMeshWriter.js\";\nimport { packBitset as o } from \"./meshWriterUtils.js\";\nimport { outlineFillVertexSpec_Outline as a, OutlineFillMeshWriter as n, OutlineFillOutlineMeshWriter as u } from \"./OutlineFillMeshWriter.js\";\nimport { packPrecision as c, signedToUnsignedByte as p } from \"../shaders/ComplexOutlineFillShader.js\";\nimport { bitsetTypeFillOutline as l } from \"../shaders/constants.js\";\nimport { DataType as m } from \"../../../../../../webgl/enums.js\";\nconst d = i,\n  h = a,\n  f = {\n    createComputedParams: e => e,\n    optionalAttributes: d.optionalAttributes,\n    attributes: {\n      ...d.attributes,\n      bitset: {\n        type: m.UNSIGNED_BYTE,\n        count: 1,\n        pack: e => r(e)\n      },\n      aux1: {\n        count: 1,\n        type: m.HALF_FLOAT,\n        pack: e => s(e).width\n      },\n      aux2: {\n        count: 1,\n        type: m.HALF_FLOAT,\n        pack: e => s(e).height\n      },\n      aux3: {\n        count: 2,\n        type: m.HALF_FLOAT,\n        pack: ({\n          offsetX: t,\n          offsetY: r\n        }) => [e(t), e(r)]\n      },\n      aux4: {\n        count: 2,\n        type: m.UNSIGNED_BYTE,\n        pack: ({\n          scaleX: e,\n          scaleY: t\n        }) => [e * c, t * c]\n      }\n    }\n  },\n  y = {\n    createComputedParams: e => e,\n    optionalAttributes: d.optionalAttributes,\n    attributes: {\n      ...d.attributes,\n      color: h.attributes.color,\n      bitset: {\n        type: m.UNSIGNED_BYTE,\n        count: 1,\n        pack: e => o([[l, !0]])\n      },\n      aux1: {\n        count: 1,\n        type: m.HALF_FLOAT,\n        pack: t => e(.5 * t.width)\n      },\n      aux2: {\n        count: 1,\n        type: m.HALF_FLOAT,\n        pack: t => e(.5 * t.referenceWidth)\n      },\n      aux3: {\n        count: 2,\n        type: m.HALF_FLOAT,\n        packTessellation: ({\n          extrusionOffsetX: e,\n          extrusionOffsetY: t\n        }) => [e, t]\n      },\n      aux4: {\n        count: 2,\n        type: m.UNSIGNED_BYTE,\n        packTessellation: ({\n          normalX: e,\n          normalY: t\n        }) => [e * c + p, t * c + p]\n      }\n    }\n  };\nclass x extends u {\n  constructor() {\n    super(...arguments), this.vertexSpec = y;\n  }\n}\nclass _ extends n {\n  constructor() {\n    super(...arguments), this.vertexSpec = f;\n  }\n  _createOutlineWriter(e, t, r, s) {\n    return new x(e, t, r, s);\n  }\n  _write(e, r, s) {\n    const i = s?.asOptimized() ?? r.readGeometryForDisplay(),\n      o = this._clip(i);\n    if (!o) return;\n    const a = this.evaluatedMeshParams.sprite?.textureBinding;\n    e.recordStart(this.instanceId, this.attributeLayout, a), this._writeGeometry(e, r, o), this._lineMeshWriter.writeLineVertices(e, t.fromOptimizedCIM(o, \"esriGeometryPolyline\"), r), e.recordEnd();\n  }\n  ensurePacked(e, t, r) {\n    super.ensurePacked(e, t, r), this._lineMeshWriter.ensurePacked(e, t, r);\n  }\n  enqueueRequest(e, t, r) {\n    super.enqueueRequest(e, t, r), this._lineMeshWriter.enqueueRequest(e, t, r);\n  }\n  async loadDependencies() {\n    await Promise.all([super.loadDependencies(), this._lineMeshWriter.loadDependencies()]);\n  }\n}\nexport { _ as ComplexOutlineFillMeshWriter };","map":{"version":3,"names":["pt2px","e","GeometryCursor","t","packComplexFillBitset","r","getPatternSize","s","complexFillVertexSpec","i","packBitset","o","outlineFillVertexSpec_Outline","a","OutlineFillMeshWriter","n","OutlineFillOutlineMeshWriter","u","packPrecision","c","signedToUnsignedByte","p","bitsetTypeFillOutline","l","DataType","m","d","h","f","createComputedParams","optionalAttributes","attributes","bitset","type","UNSIGNED_BYTE","count","pack","aux1","HALF_FLOAT","width","aux2","height","aux3","offsetX","offsetY","aux4","scaleX","scaleY","y","color","referenceWidth","packTessellation","extrusionOffsetX","extrusionOffsetY","normalX","normalY","x","constructor","arguments","vertexSpec","_","_createOutlineWriter","_write","asOptimized","readGeometryForDisplay","_clip","evaluatedMeshParams","sprite","textureBinding","recordStart","instanceId","attributeLayout","_writeGeometry","_lineMeshWriter","writeLineVertices","fromOptimizedCIM","recordEnd","ensurePacked","enqueueRequest","loadDependencies","Promise","all","ComplexOutlineFillMeshWriter"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/fill/ComplexOutlineFillMeshWriter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../../core/screenUtils.js\";import{GeometryCursor as t}from\"../../../../../../../geometry/GeometryCursor.js\";import{packComplexFillBitset as r,getPatternSize as s,complexFillVertexSpec as i}from\"./ComplexFillMeshWriter.js\";import{packBitset as o}from\"./meshWriterUtils.js\";import{outlineFillVertexSpec_Outline as a,OutlineFillMeshWriter as n,OutlineFillOutlineMeshWriter as u}from\"./OutlineFillMeshWriter.js\";import{packPrecision as c,signedToUnsignedByte as p}from\"../shaders/ComplexOutlineFillShader.js\";import{bitsetTypeFillOutline as l}from\"../shaders/constants.js\";import{DataType as m}from\"../../../../../../webgl/enums.js\";const d=i,h=a,f={createComputedParams:e=>e,optionalAttributes:d.optionalAttributes,attributes:{...d.attributes,bitset:{type:m.UNSIGNED_BYTE,count:1,pack:e=>r(e)},aux1:{count:1,type:m.HALF_FLOAT,pack:e=>s(e).width},aux2:{count:1,type:m.HALF_FLOAT,pack:e=>s(e).height},aux3:{count:2,type:m.HALF_FLOAT,pack:({offsetX:t,offsetY:r})=>[e(t),e(r)]},aux4:{count:2,type:m.UNSIGNED_BYTE,pack:({scaleX:e,scaleY:t})=>[e*c,t*c]}}},y={createComputedParams:e=>e,optionalAttributes:d.optionalAttributes,attributes:{...d.attributes,color:h.attributes.color,bitset:{type:m.UNSIGNED_BYTE,count:1,pack:e=>o([[l,!0]])},aux1:{count:1,type:m.HALF_FLOAT,pack:t=>e(.5*t.width)},aux2:{count:1,type:m.HALF_FLOAT,pack:t=>e(.5*t.referenceWidth)},aux3:{count:2,type:m.HALF_FLOAT,packTessellation:({extrusionOffsetX:e,extrusionOffsetY:t})=>[e,t]},aux4:{count:2,type:m.UNSIGNED_BYTE,packTessellation:({normalX:e,normalY:t})=>[e*c+p,t*c+p]}}};class x extends u{constructor(){super(...arguments),this.vertexSpec=y}}class _ extends n{constructor(){super(...arguments),this.vertexSpec=f}_createOutlineWriter(e,t,r,s){return new x(e,t,r,s)}_write(e,r,s){const i=s?.asOptimized()??r.readGeometryForDisplay(),o=this._clip(i);if(!o)return;const a=this.evaluatedMeshParams.sprite?.textureBinding;e.recordStart(this.instanceId,this.attributeLayout,a),this._writeGeometry(e,r,o),this._lineMeshWriter.writeLineVertices(e,t.fromOptimizedCIM(o,\"esriGeometryPolyline\"),r),e.recordEnd()}ensurePacked(e,t,r){super.ensurePacked(e,t,r),this._lineMeshWriter.ensurePacked(e,t,r)}enqueueRequest(e,t,r){super.enqueueRequest(e,t,r),this._lineMeshWriter.enqueueRequest(e,t,r)}async loadDependencies(){await Promise.all([super.loadDependencies(),this._lineMeshWriter.loadDependencies()])}}export{_ as ComplexOutlineFillMeshWriter};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}