{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport i from \"../../../../core/Logger.js\";\nimport { debounce as r, isAbortError as o } from \"../../../../core/promiseUtils.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../../../../geometry/Extent.js\";\nimport { RasterVFDisplayObject as l } from \"../../engine/imagery/RasterVFDisplayObject.js\";\nlet c = class extends t {\n  constructor(e) {\n    super(e), this._loading = null, this.update = r((e, t) => this._update(e, t).catch(e => {\n      o(e) || i.getLogger(this).error(e);\n    }));\n  }\n  get updating() {\n    return !!this._loading;\n  }\n  redraw(e) {\n    if (!this.container.children.length) return;\n    const t = this.container.children[0];\n    t.symbolizerParameters = e, t.invalidateVAO(), this.container.symbolTypes = \"wind_speed\" === e.style ? [\"scalar\", \"triangle\"] : \"simple_scalar\" === e.style ? [\"scalar\"] : [\"triangle\"], this.container.requestRender();\n  }\n  async _update(e, t, i) {\n    if (!e.stationary) return;\n    const {\n        extent: r,\n        spatialReference: o\n      } = e.state,\n      s = new n({\n        xmin: r.xmin,\n        ymin: r.ymin,\n        xmax: r.xmax,\n        ymax: r.ymax,\n        spatialReference: o\n      }),\n      [a, l] = e.state.size;\n    this._loading = this.fetchPixels(s, a, l, i);\n    const c = await this._loading;\n    this._addToDisplay(c, t, e.state), this._loading = null;\n  }\n  _addToDisplay(e, t, i) {\n    if (null == e.pixelBlock) return this.container.children.forEach(e => e.destroy()), void this.container.removeAllChildren();\n    const {\n        extent: r,\n        pixelBlock: o\n      } = e,\n      s = new l(o);\n    s.offset = [0, 0], s.symbolizerParameters = t, s.rawPixelData = e, s.invalidateVAO(), s.x = r.xmin, s.y = r.ymax, s.pixelRatio = i.pixelRatio, s.rotation = i.rotation, s.resolution = i.resolution, s.width = o.width * t.symbolTileSize, s.height = o.height * t.symbolTileSize, this.container.children.forEach(e => e.destroy()), this.container.removeAllChildren(), this.container.symbolTypes = \"wind_speed\" === t.style ? [\"scalar\", \"triangle\"] : \"simple_scalar\" === t.style ? [\"scalar\"] : [\"triangle\"], this.container.addChild(s);\n  }\n};\ne([s()], c.prototype, \"fetchPixels\", void 0), e([s()], c.prototype, \"container\", void 0), e([s()], c.prototype, \"_loading\", void 0), e([s()], c.prototype, \"updating\", null), c = e([a(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")], c);\nconst p = c;\nexport { p as default };","map":{"version":3,"names":["_","e","t","i","debounce","r","isAbortError","o","property","s","subclass","a","n","RasterVFDisplayObject","l","c","constructor","_loading","update","_update","catch","getLogger","error","updating","redraw","container","children","length","symbolizerParameters","invalidateVAO","symbolTypes","style","requestRender","stationary","extent","spatialReference","state","xmin","ymin","xmax","ymax","size","fetchPixels","_addToDisplay","pixelBlock","forEach","destroy","removeAllChildren","offset","rawPixelData","x","y","pixelRatio","rotation","resolution","width","symbolTileSize","height","addChild","prototype","p","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{debounce as r,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as l}from\"../../engine/imagery/RasterVFDisplayObject.js\";let c=class extends t{constructor(e){super(e),this._loading=null,this.update=r(((e,t)=>this._update(e,t).catch((e=>{o(e)||i.getLogger(this).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,i){if(!e.stationary)return;const{extent:r,spatialReference:o}=e.state,s=new n({xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax,spatialReference:o}),[a,l]=e.state.size;this._loading=this.fetchPixels(s,a,l,i);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,i){if(null==e.pixelBlock)return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:r,pixelBlock:o}=e,s=new l(o);s.offset=[0,0],s.symbolizerParameters=t,s.rawPixelData=e,s.invalidateVAO(),s.x=r.xmin,s.y=r.ymax,s.pixelRatio=i.pixelRatio,s.rotation=i.rotation,s.resolution=i.resolution,s.width=o.width*t.symbolTileSize,s.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(s)}};e([s()],c.prototype,\"fetchPixels\",void 0),e([s()],c.prototype,\"container\",void 0),e([s()],c.prototype,\"_loading\",void 0),e([s()],c.prototype,\"updating\",null),c=e([a(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],c);const p=c;export{p as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}