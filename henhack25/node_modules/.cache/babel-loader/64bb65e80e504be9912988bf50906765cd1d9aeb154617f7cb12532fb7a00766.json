{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { invert as e, multiply as t } from \"../../../../../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { create as r } from \"../../../../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";\nimport { animationDebugFlags as i } from \"../../../../../../../symbols/cim/animationDebugFlags.js\";\nimport { FeatureTechnique as a } from \"../FeatureTechnique.js\";\nimport { resolveDynamicUniforms as o, getFeatureUniforms as s, getSelectionDefines as n, getFeaturePipelineState as m } from \"../featureTechniqueUtils.js\";\nclass u extends a {\n  render(a, u) {\n    const {\n        context: f,\n        painter: c\n      } = a,\n      {\n        target: l\n      } = u,\n      {\n        freezeGlobalTime: p\n      } = i,\n      g = 0,\n      x = c.textureManager.animationStore.getTexture(f, g),\n      d = [2 / a.state.size[0], 0, 0, 0, -2 / a.state.size[1], 0, -1, 1, 1],\n      h = Array.from(e(r(), d)),\n      b = Array.from(t(r(), h, l.transforms.displayViewScreenMat3)),\n      T = u.instance.getInput();\n    c.setShader({\n      shader: this.shaders.geometry,\n      uniforms: {\n        ...o(a, u.target, T.uniforms),\n        ...s(a, u.target),\n        mosaicInfo: c.textureManager.getMosaicInfo(f, u.textureKey, !0),\n        animationInfo: {\n          globalTime: !1 === p ? a.time / 1e3 : p,\n          animationTextureSize: [x.descriptor.width, x.descriptor.height],\n          animationTexture: {\n            unit: 6,\n            texture: x\n          },\n          toScreen: b,\n          toNdc: d,\n          mapRotation: a.state.rotation,\n          pixelRatio: a.state.pixelRatio\n        }\n      },\n      defines: {\n        ...n(a)\n      },\n      optionalAttributes: {\n        zoomRange: !0\n      },\n      useComputeBuffer: !0\n    }), c.setPipelineState({\n      ...m(a)\n    }), c.submitDraw(a, u), !1 === p && l.requestRender();\n  }\n}\nexport { u as AnimatedTechnique };","map":{"version":3,"names":["invert","e","multiply","t","create","r","animationDebugFlags","i","FeatureTechnique","a","resolveDynamicUniforms","o","getFeatureUniforms","s","getSelectionDefines","n","getFeaturePipelineState","m","u","render","context","f","painter","c","target","l","freezeGlobalTime","p","g","x","textureManager","animationStore","getTexture","d","state","size","h","Array","from","b","transforms","displayViewScreenMat3","T","instance","getInput","setShader","shader","shaders","geometry","uniforms","mosaicInfo","getMosaicInfo","textureKey","animationInfo","globalTime","time","animationTextureSize","descriptor","width","height","animationTexture","unit","texture","toScreen","toNdc","mapRotation","rotation","pixelRatio","defines","optionalAttributes","zoomRange","useComputeBuffer","setPipelineState","submitDraw","requestRender","AnimatedTechnique"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/animated/AnimatedTechnique.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{invert as e,multiply as t}from\"../../../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as r}from\"../../../../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{animationDebugFlags as i}from\"../../../../../../../symbols/cim/animationDebugFlags.js\";import{FeatureTechnique as a}from\"../FeatureTechnique.js\";import{resolveDynamicUniforms as o,getFeatureUniforms as s,getSelectionDefines as n,getFeaturePipelineState as m}from\"../featureTechniqueUtils.js\";class u extends a{render(a,u){const{context:f,painter:c}=a,{target:l}=u,{freezeGlobalTime:p}=i,g=0,x=c.textureManager.animationStore.getTexture(f,g),d=[2/a.state.size[0],0,0,0,-2/a.state.size[1],0,-1,1,1],h=Array.from(e(r(),d)),b=Array.from(t(r(),h,l.transforms.displayViewScreenMat3)),T=u.instance.getInput();c.setShader({shader:this.shaders.geometry,uniforms:{...o(a,u.target,T.uniforms),...s(a,u.target),mosaicInfo:c.textureManager.getMosaicInfo(f,u.textureKey,!0),animationInfo:{globalTime:!1===p?a.time/1e3:p,animationTextureSize:[x.descriptor.width,x.descriptor.height],animationTexture:{unit:6,texture:x},toScreen:b,toNdc:d,mapRotation:a.state.rotation,pixelRatio:a.state.pixelRatio}},defines:{...n(a)},optionalAttributes:{zoomRange:!0},useComputeBuffer:!0}),c.setPipelineState({...m(a)}),c.submitDraw(a,u),!1===p&&l.requestRender()}}export{u as AnimatedTechnique};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}