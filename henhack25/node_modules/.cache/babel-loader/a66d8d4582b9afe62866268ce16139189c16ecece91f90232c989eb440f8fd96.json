{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport i from \"../../../../core/PooledArray.js\";\nimport { m as t, s as e } from \"../../../../chunks/vec32.js\";\nimport { fromValues as s, clone as r, create as n } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { assert as h } from \"./Util.js\";\nclass o {\n  constructor(i, e, o) {\n    this.primitiveIndices = i, this._numIndexPerPrimitive = e, this.position = o, this._children = void 0, h(i.length >= 1), h(3 === o.size || 4 === o.size);\n    const {\n      data: c,\n      size: l,\n      indices: m\n    } = o;\n    h(m.length % this._numIndexPerPrimitive == 0), h(m.length >= i.length * this._numIndexPerPrimitive);\n    const d = i.length;\n    let u = l * m[this._numIndexPerPrimitive * i[0]];\n    a.clear(), a.push(u);\n    const f = s(c[u], c[u + 1], c[u + 2]),\n      x = r(f);\n    for (let t = 0; t < d; ++t) {\n      const e = this._numIndexPerPrimitive * i[t];\n      for (let i = 0; i < this._numIndexPerPrimitive; ++i) {\n        u = l * m[e + i], a.push(u);\n        let t = c[u];\n        f[0] = Math.min(t, f[0]), x[0] = Math.max(t, x[0]), t = c[u + 1], f[1] = Math.min(t, f[1]), x[1] = Math.max(t, x[1]), t = c[u + 2], f[2] = Math.min(t, f[2]), x[2] = Math.max(t, x[2]);\n      }\n    }\n    this.bbMin = f, this.bbMax = x;\n    const P = t(n(), this.bbMin, this.bbMax, .5);\n    this.radius = .5 * Math.max(Math.max(x[0] - f[0], x[1] - f[1]), x[2] - f[2]);\n    let v = this.radius * this.radius;\n    for (let t = 0; t < a.length; ++t) {\n      u = a.at(t);\n      const i = c[u] - P[0],\n        e = c[u + 1] - P[1],\n        s = c[u + 2] - P[2],\n        r = i * i + e * e + s * s;\n      if (r <= v) continue;\n      const n = Math.sqrt(r),\n        h = .5 * (n - this.radius);\n      this.radius = this.radius + h, v = this.radius * this.radius;\n      const o = h / n;\n      P[0] += i * o, P[1] += e * o, P[2] += s * o;\n    }\n    this.center = P, a.clear();\n  }\n  getChildren() {\n    if (this._children || e(this.bbMin, this.bbMax) <= 1) return this._children;\n    const i = t(n(), this.bbMin, this.bbMax, .5),\n      s = this.primitiveIndices.length,\n      r = new Uint8Array(s),\n      h = new Array(8);\n    for (let t = 0; t < 8; ++t) h[t] = 0;\n    const {\n      data: a,\n      size: c,\n      indices: l\n    } = this.position;\n    for (let t = 0; t < s; ++t) {\n      let e = 0;\n      const s = this._numIndexPerPrimitive * this.primitiveIndices[t];\n      let n = c * l[s],\n        o = a[n],\n        m = a[n + 1],\n        d = a[n + 2];\n      for (let i = 1; i < this._numIndexPerPrimitive; ++i) {\n        n = c * l[s + i];\n        const t = a[n],\n          e = a[n + 1],\n          r = a[n + 2];\n        t < o && (o = t), e < m && (m = e), r < d && (d = r);\n      }\n      o < i[0] && (e |= 1), m < i[1] && (e |= 2), d < i[2] && (e |= 4), r[t] = e, ++h[e];\n    }\n    let m = 0;\n    for (let t = 0; t < 8; ++t) h[t] > 0 && ++m;\n    if (m < 2) return;\n    const d = new Array(8);\n    for (let t = 0; t < 8; ++t) d[t] = h[t] > 0 ? new Uint32Array(h[t]) : void 0;\n    for (let t = 0; t < 8; ++t) h[t] = 0;\n    for (let t = 0; t < s; ++t) {\n      const i = r[t];\n      d[i][h[i]++] = this.primitiveIndices[t];\n    }\n    this._children = new Array();\n    for (let t = 0; t < 8; ++t) void 0 !== d[t] && this._children.push(new o(d[t], this._numIndexPerPrimitive, this.position));\n    return this._children;\n  }\n  static prune() {\n    a.prune();\n  }\n}\nconst a = new i({\n  deallocator: null\n});\nexport { o as BoundingInfo };","map":{"version":3,"names":["i","m","t","s","e","fromValues","clone","r","create","n","assert","h","o","constructor","primitiveIndices","_numIndexPerPrimitive","position","_children","length","size","data","c","l","indices","d","u","a","clear","push","f","x","Math","min","max","bbMin","bbMax","P","radius","v","at","sqrt","center","getChildren","Uint8Array","Array","Uint32Array","prune","deallocator","BoundingInfo"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport i from\"../../../../core/PooledArray.js\";import{m as t,s as e}from\"../../../../chunks/vec32.js\";import{fromValues as s,clone as r,create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{assert as h}from\"./Util.js\";class o{constructor(i,e,o){this.primitiveIndices=i,this._numIndexPerPrimitive=e,this.position=o,this._children=void 0,h(i.length>=1),h(3===o.size||4===o.size);const{data:c,size:l,indices:m}=o;h(m.length%this._numIndexPerPrimitive==0),h(m.length>=i.length*this._numIndexPerPrimitive);const d=i.length;let u=l*m[this._numIndexPerPrimitive*i[0]];a.clear(),a.push(u);const f=s(c[u],c[u+1],c[u+2]),x=r(f);for(let t=0;t<d;++t){const e=this._numIndexPerPrimitive*i[t];for(let i=0;i<this._numIndexPerPrimitive;++i){u=l*m[e+i],a.push(u);let t=c[u];f[0]=Math.min(t,f[0]),x[0]=Math.max(t,x[0]),t=c[u+1],f[1]=Math.min(t,f[1]),x[1]=Math.max(t,x[1]),t=c[u+2],f[2]=Math.min(t,f[2]),x[2]=Math.max(t,x[2])}}this.bbMin=f,this.bbMax=x;const P=t(n(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(x[0]-f[0],x[1]-f[1]),x[2]-f[2]);let v=this.radius*this.radius;for(let t=0;t<a.length;++t){u=a.at(t);const i=c[u]-P[0],e=c[u+1]-P[1],s=c[u+2]-P[2],r=i*i+e*e+s*s;if(r<=v)continue;const n=Math.sqrt(r),h=.5*(n-this.radius);this.radius=this.radius+h,v=this.radius*this.radius;const o=h/n;P[0]+=i*o,P[1]+=e*o,P[2]+=s*o}this.center=P,a.clear()}getChildren(){if(this._children||e(this.bbMin,this.bbMax)<=1)return this._children;const i=t(n(),this.bbMin,this.bbMax,.5),s=this.primitiveIndices.length,r=new Uint8Array(s),h=new Array(8);for(let t=0;t<8;++t)h[t]=0;const{data:a,size:c,indices:l}=this.position;for(let t=0;t<s;++t){let e=0;const s=this._numIndexPerPrimitive*this.primitiveIndices[t];let n=c*l[s],o=a[n],m=a[n+1],d=a[n+2];for(let i=1;i<this._numIndexPerPrimitive;++i){n=c*l[s+i];const t=a[n],e=a[n+1],r=a[n+2];t<o&&(o=t),e<m&&(m=e),r<d&&(d=r)}o<i[0]&&(e|=1),m<i[1]&&(e|=2),d<i[2]&&(e|=4),r[t]=e,++h[e]}let m=0;for(let t=0;t<8;++t)h[t]>0&&++m;if(m<2)return;const d=new Array(8);for(let t=0;t<8;++t)d[t]=h[t]>0?new Uint32Array(h[t]):void 0;for(let t=0;t<8;++t)h[t]=0;for(let t=0;t<s;++t){const i=r[t];d[i][h[i]++]=this.primitiveIndices[t]}this._children=new Array;for(let t=0;t<8;++t)void 0!==d[t]&&this._children.push(new o(d[t],this._numIndexPerPrimitive,this.position));return this._children}static prune(){a.prune()}}const a=new i({deallocator:null});export{o as BoundingInfo};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}