{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { set as r } from \"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as o } from \"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { s as t } from \"../../../../../../chunks/vec42.js\";\nimport { create as e } from \"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { Float2BindUniform as i } from \"../../shaderModules/Float2BindUniform.js\";\nimport { Float4BindUniform as a } from \"../../shaderModules/Float4BindUniform.js\";\nimport { glsl as s } from \"../../shaderModules/glsl.js\";\nfunction f(r) {\n  r.fragment.uniforms.add(new a(\"projInfo\", r => n(r.camera))), r.fragment.uniforms.add(new i(\"zScale\", r => m(r.camera))), r.fragment.code.add(s`vec3 reconstructPosition(vec2 fragCoord, float depth) {\nreturn vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n}`);\n}\nfunction n(r) {\n  const o = r.projectionMatrix;\n  return 0 === o[11] ? t(c, 2 / (r.fullWidth * o[0]), 2 / (r.fullHeight * o[5]), (1 + o[12]) / o[0], (1 + o[13]) / o[5]) : t(c, -2 / (r.fullWidth * o[0]), -2 / (r.fullHeight * o[5]), (1 - o[8]) / o[0], (1 - o[9]) / o[5]);\n}\nconst c = e();\nfunction m(o) {\n  return 0 === o.projectionMatrix[11] ? r(l, 0, 1) : r(l, 1, 0);\n}\nconst l = o();\nexport { f as CameraSpace, n as getProjectionInfo, m as getZScale };","map":{"version":3,"names":["set","r","create","o","s","t","e","Float2BindUniform","i","Float4BindUniform","a","glsl","f","fragment","uniforms","add","n","camera","m","code","projectionMatrix","c","fullWidth","fullHeight","l","CameraSpace","getProjectionInfo","getZScale"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as r}from\"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as t}from\"../../../../../../chunks/vec42.js\";import{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Float2BindUniform as i}from\"../../shaderModules/Float2BindUniform.js\";import{Float4BindUniform as a}from\"../../shaderModules/Float4BindUniform.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";function f(r){r.fragment.uniforms.add(new a(\"projInfo\",(r=>n(r.camera)))),r.fragment.uniforms.add(new i(\"zScale\",(r=>m(r.camera)))),r.fragment.code.add(s`vec3 reconstructPosition(vec2 fragCoord, float depth) {\nreturn vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n}`)}function n(r){const o=r.projectionMatrix;return 0===o[11]?t(c,2/(r.fullWidth*o[0]),2/(r.fullHeight*o[5]),(1+o[12])/o[0],(1+o[13])/o[5]):t(c,-2/(r.fullWidth*o[0]),-2/(r.fullHeight*o[5]),(1-o[8])/o[0],(1-o[9])/o[5])}const c=e();function m(o){return 0===o.projectionMatrix[11]?r(l,0,1):r(l,1,0)}const l=o();export{f as CameraSpace,n as getProjectionInfo,m as getZScale};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,GAAG,IAAIC,CAAC,QAAK,sDAAsD;AAAC,SAAOC,MAAM,IAAIC,CAAC,QAAK,8DAA8D;AAAC,SAAOC,CAAC,IAAIC,CAAC,QAAK,mCAAmC;AAAC,SAAOH,MAAM,IAAII,CAAC,QAAK,8DAA8D;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,0CAA0C;AAAC,SAAOC,IAAI,IAAIP,CAAC,QAAK,6BAA6B;AAAC,SAASQ,CAACA,CAACX,CAAC,EAAC;EAACA,CAAC,CAACY,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAIL,CAAC,CAAC,UAAU,EAAET,CAAC,IAAEe,CAAC,CAACf,CAAC,CAACgB,MAAM,CAAE,CAAC,CAAC,EAAChB,CAAC,CAACY,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAIP,CAAC,CAAC,QAAQ,EAAEP,CAAC,IAAEiB,CAAC,CAACjB,CAAC,CAACgB,MAAM,CAAE,CAAC,CAAC,EAAChB,CAAC,CAACY,QAAQ,CAACM,IAAI,CAACJ,GAAG,CAACX,CAAC;AACnpB;AACA,EAAE,CAAC;AAAA;AAAC,SAASY,CAACA,CAACf,CAAC,EAAC;EAAC,MAAME,CAAC,GAACF,CAAC,CAACmB,gBAAgB;EAAC,OAAO,CAAC,KAAGjB,CAAC,CAAC,EAAE,CAAC,GAACE,CAAC,CAACgB,CAAC,EAAC,CAAC,IAAEpB,CAAC,CAACqB,SAAS,GAACnB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,IAAEF,CAAC,CAACsB,UAAU,GAACpB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAACA,CAAC,CAAC,EAAE,CAAC,IAAEA,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAACA,CAAC,CAAC,EAAE,CAAC,IAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,CAACgB,CAAC,EAAC,CAAC,CAAC,IAAEpB,CAAC,CAACqB,SAAS,GAACnB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,IAAEF,CAAC,CAACsB,UAAU,GAACpB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,IAAEA,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,IAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;AAAA;AAAC,MAAMkB,CAAC,GAACf,CAAC,CAAC,CAAC;AAAC,SAASY,CAACA,CAACf,CAAC,EAAC;EAAC,OAAO,CAAC,KAAGA,CAAC,CAACiB,gBAAgB,CAAC,EAAE,CAAC,GAACnB,CAAC,CAACuB,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,GAACvB,CAAC,CAACuB,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;AAAA;AAAC,MAAMA,CAAC,GAACrB,CAAC,CAAC,CAAC;AAAC,SAAOS,CAAC,IAAIa,WAAW,EAACT,CAAC,IAAIU,iBAAiB,EAACR,CAAC,IAAIS,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}