{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { makeHandle as s } from \"../core/handleUtils.js\";\nimport has from \"../core/has.js\";\nimport { getOrCreateMapValue as t } from \"../core/MapUtils.js\";\nimport { millisecondsFromSeconds as e, Seconds as r, Milliseconds as o } from \"../core/time.js\";\nfunction i(s, t = s => {}, e) {\n  return new n(s, t, e);\n}\nclass n {\n  constructor(s, t = s => {}, e) {\n    if (this.onProgress = t, this.taskName = e, this._progressMap = new Map(), this._startTime = void 0, this._timingsMap = new Map(), \"number\" == typeof s) {\n      this._weights = {};\n      for (let t = 0; t < s; t++) {\n        const e = t,\n          r = 1 / s;\n        this._weights[e] = r, this._progressMap.set(e, 0);\n      }\n    } else this._weights = s;\n    this.emitProgress();\n  }\n  emitProgress() {\n    let s = 0;\n    for (const [t, e] of this._progressMap.entries()) {\n      s += e * this._weights[t];\n    }\n    if (1 === s && has(\"enable-feature:esri-3dofl-upload-timings\")) {\n      const s = Math.round(performance.now() - (this._startTime ?? 0)) / 1e3;\n      console.log(`${this.taskName} done in ${s} sec`);\n      for (const [t, e] of this._timingsMap) {\n        const r = Math.round(e.end - e.start) / 1e3,\n          o = Math.round(r / s * 100);\n        console.log(this.taskName ?? \"Task\", {\n          stepKey: t,\n          stepTime: r,\n          relativeTime: o\n        });\n      }\n    }\n    this.onProgress(s);\n  }\n  setProgress(s, e) {\n    if (this._progressMap.set(s, e), has(\"enable-feature:esri-3dofl-upload-timings\")) {\n      const r = performance.now();\n      this._startTime ??= r;\n      const o = t(this._timingsMap, s, () => ({\n        start: r,\n        end: 0\n      }));\n      1 === e && (o.end = r);\n    }\n    this.emitProgress();\n  }\n  simulate(s, t) {\n    return a(t => this.setProgress(s, t), t);\n  }\n  makeOnProgress(s) {\n    return t => this.setProgress(s, t);\n  }\n}\nfunction a(t = s => {}, e = l) {\n  const r = performance.now();\n  t(0);\n  const o = setInterval(() => {\n    const s = performance.now() - r,\n      o = 1 - Math.exp(-s / e);\n    t(o);\n  }, g);\n  return s(() => {\n    clearInterval(o), t(1);\n  });\n}\nfunction h(s, t = c) {\n  return e(r(s * f / t));\n}\nfunction m(s, t = p) {\n  return e(r(s * f / t));\n}\nconst c = 10,\n  p = 10,\n  f = 8e-6,\n  g = o(50),\n  l = o(1e3);\nexport { n as ProgressManager, m as estimatedConversionTime, h as estimatedTransferTime, i as makeProgressManager, a as simulateProgress };","map":{"version":3,"names":["makeHandle","s","has","getOrCreateMapValue","t","millisecondsFromSeconds","e","Seconds","r","Milliseconds","o","i","n","constructor","onProgress","taskName","_progressMap","Map","_startTime","_timingsMap","_weights","set","emitProgress","entries","Math","round","performance","now","console","log","end","start","stepKey","stepTime","relativeTime","setProgress","simulate","a","makeOnProgress","l","setInterval","exp","g","clearInterval","h","c","f","m","p","ProgressManager","estimatedConversionTime","estimatedTransferTime","makeProgressManager","simulateProgress"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/support/progressUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{makeHandle as s}from\"../core/handleUtils.js\";import has from\"../core/has.js\";import{getOrCreateMapValue as t}from\"../core/MapUtils.js\";import{millisecondsFromSeconds as e,Seconds as r,Milliseconds as o}from\"../core/time.js\";function i(s,t=s=>{},e){return new n(s,t,e)}class n{constructor(s,t=s=>{},e){if(this.onProgress=t,this.taskName=e,this._progressMap=new Map,this._startTime=void 0,this._timingsMap=new Map,\"number\"==typeof s){this._weights={};for(let t=0;t<s;t++){const e=t,r=1/s;this._weights[e]=r,this._progressMap.set(e,0)}}else this._weights=s;this.emitProgress()}emitProgress(){let s=0;for(const[t,e]of this._progressMap.entries()){s+=e*this._weights[t]}if(1===s&&has(\"enable-feature:esri-3dofl-upload-timings\")){const s=Math.round(performance.now()-(this._startTime??0))/1e3;console.log(`${this.taskName} done in ${s} sec`);for(const[t,e]of this._timingsMap){const r=Math.round(e.end-e.start)/1e3,o=Math.round(r/s*100);console.log(this.taskName??\"Task\",{stepKey:t,stepTime:r,relativeTime:o})}}this.onProgress(s)}setProgress(s,e){if(this._progressMap.set(s,e),has(\"enable-feature:esri-3dofl-upload-timings\")){const r=performance.now();this._startTime??=r;const o=t(this._timingsMap,s,(()=>({start:r,end:0})));1===e&&(o.end=r)}this.emitProgress()}simulate(s,t){return a((t=>this.setProgress(s,t)),t)}makeOnProgress(s){return t=>this.setProgress(s,t)}}function a(t=s=>{},e=l){const r=performance.now();t(0);const o=setInterval((()=>{const s=performance.now()-r,o=1-Math.exp(-s/e);t(o)}),g);return s((()=>{clearInterval(o),t(1)}))}function h(s,t=c){return e(r(s*f/t))}function m(s,t=p){return e(r(s*f/t))}const c=10,p=10,f=8e-6,g=o(50),l=o(1e3);export{n as ProgressManager,m as estimatedConversionTime,h as estimatedTransferTime,i as makeProgressManager,a as simulateProgress};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}