{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { clone as e } from \"../../../../../core/lang.js\";\nimport { isHostedAgolService as t } from \"../../../../../layers/support/arcgisLayerUrl.js\";\nimport { getServiceGeometryType as r } from \"./geometryUtils.js\";\nimport { getLayerDeconflictionEnabled as o, createLabelVVEvaluator as s } from \"./labelingUtils.js\";\nimport { createFeatureSourceSchema as i } from \"../schema/SourceSchema.js\";\nimport { createSimpleProcessorSchema as a } from \"../schema/processor/SimpleProcessorSchema.js\";\nimport { isRendererSupported as l } from \"../support/rendererUtils.js\";\nclass n {\n  constructor(e) {\n    this.layer = e;\n  }\n  getLabelingDeconflictionInfo(e) {\n    const t = this.layer,\n      r = o(t);\n    return [{\n      vvEvaluators: {\n        0: s(t.renderer)\n      },\n      deconflictionEnabled: r\n    }];\n  }\n  async createServiceOptions(o) {\n    const s = this.layer,\n      {\n        capabilities: i,\n        editingInfo: a,\n        objectIdField: l,\n        globalIdField: n,\n        datesInUnknownTimezone: p,\n        dateFieldsTimeZone: c,\n        orderBy: d,\n        parsedUrl: u\n      } = s,\n      m = s.fieldsIndex.toJSON(),\n      y = r(s),\n      f = s.timeInfo?.toJSON(),\n      h = s.spatialReference.toJSON(),\n      g = e(u);\n    let b = l;\n    if (d?.length) {\n      const e = !d[0].valueExpression && d[0].field;\n      e && (b = e);\n    }\n    const F = t(g.path),\n      I = o.spatialReference.toJSON();\n    return {\n      type: \"feature-service\",\n      source: g,\n      isSourceHosted: F,\n      orderByFields: b,\n      outSpatialReference: I,\n      metadata: {\n        timeReferenceUnknownClient: p,\n        dateFieldsTimeZone: c,\n        globalIdField: n,\n        fieldsIndex: m,\n        geometryType: y,\n        objectIdField: l,\n        timeInfo: f,\n        spatialReference: h,\n        outSpatialReference: I,\n        subtypeField: null,\n        subtypes: null,\n        typeIdField: null,\n        types: null\n      },\n      queryMetadata: {\n        maxRecordCount: i.query.maxRecordCount,\n        supportsCompactGeometry: i.query.supportsCompactGeometry,\n        supportsDefaultSpatialReference: i.query.supportsDefaultSpatialReference,\n        supportsFormatPBF: i.query.supportsFormatPBF,\n        supportsMaxRecordCountFactor: i.query.supportsMaxRecordCountFactor,\n        supportsQuantization: i.query.supportsQuantization,\n        lastEditDate: a?.lastEditDate?.getTime(),\n        snapshotInfo: null\n      }\n    };\n  }\n  createSourceSchema(e, t) {\n    const {\n      definitionExpression: r,\n      displayFilterInfo: o,\n      customParameters: s,\n      timeExtent: a,\n      apiKey: l\n    } = this.layer;\n    return i({\n      definitionExpression: r,\n      displayFilterInfo: o,\n      customParameters: s,\n      timeExtent: a\n    }, e, t, l);\n  }\n  createProcessorSchema(e, t, r) {\n    const {\n        fields: o,\n        geometryType: s,\n        orderBy: i,\n        objectIdField: l,\n        renderer: n,\n        labelingInfo: p,\n        labelsVisible: c\n      } = this.layer,\n      d = {\n        featureReduction: null,\n        fields: o.map(e => e.toJSON()),\n        geometryType: s,\n        labelingInfo: p,\n        labelsVisible: c,\n        objectIdField: l,\n        orderBy: i ?? \"default\",\n        renderer: n?.clone()\n      };\n    return a(e, t, d, r);\n  }\n  get hasRequiredSupport() {\n    return l(this.layer.renderer);\n  }\n  get timeOptions() {\n    return this.layer;\n  }\n  getUpdateHashProperties(e) {\n    return [() => this.layer.apiKey, () => this.layer.customParameters, () => this.layer.definitionExpression, () => this.layer.outFields, () => this.layer.renderer, () => this.layer.labelsVisible ? this.layer.labelingInfo : null, () => this.layer.orderBy];\n  }\n  setGraphicOrigin(e) {\n    e.origin = {\n      type: \"catalog\",\n      layer: this.layer\n    };\n  }\n}\nexport { n as CatalogFootprintLayerAdapter };","map":{"version":3,"names":["clone","e","isHostedAgolService","t","getServiceGeometryType","r","getLayerDeconflictionEnabled","o","createLabelVVEvaluator","s","createFeatureSourceSchema","i","createSimpleProcessorSchema","a","isRendererSupported","l","n","constructor","layer","getLabelingDeconflictionInfo","vvEvaluators","renderer","deconflictionEnabled","createServiceOptions","capabilities","editingInfo","objectIdField","globalIdField","datesInUnknownTimezone","p","dateFieldsTimeZone","c","orderBy","d","parsedUrl","u","m","fieldsIndex","toJSON","y","f","timeInfo","h","spatialReference","g","b","length","valueExpression","field","F","path","I","type","source","isSourceHosted","orderByFields","outSpatialReference","metadata","timeReferenceUnknownClient","geometryType","subtypeField","subtypes","typeIdField","types","queryMetadata","maxRecordCount","query","supportsCompactGeometry","supportsDefaultSpatialReference","supportsFormatPBF","supportsMaxRecordCountFactor","supportsQuantization","lastEditDate","getTime","snapshotInfo","createSourceSchema","definitionExpression","displayFilterInfo","customParameters","timeExtent","apiKey","createProcessorSchema","fields","labelingInfo","labelsVisible","featureReduction","map","hasRequiredSupport","timeOptions","getUpdateHashProperties","outFields","setGraphicOrigin","origin","CatalogFootprintLayerAdapter"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/CatalogFootprintLayerAdapter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{isHostedAgolService as t}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getServiceGeometryType as r}from\"./geometryUtils.js\";import{getLayerDeconflictionEnabled as o,createLabelVVEvaluator as s}from\"./labelingUtils.js\";import{createFeatureSourceSchema as i}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as a}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as l}from\"../support/rendererUtils.js\";class n{constructor(e){this.layer=e}getLabelingDeconflictionInfo(e){const t=this.layer,r=o(t);return[{vvEvaluators:{0:s(t.renderer)},deconflictionEnabled:r}]}async createServiceOptions(o){const s=this.layer,{capabilities:i,editingInfo:a,objectIdField:l,globalIdField:n,datesInUnknownTimezone:p,dateFieldsTimeZone:c,orderBy:d,parsedUrl:u}=s,m=s.fieldsIndex.toJSON(),y=r(s),f=s.timeInfo?.toJSON(),h=s.spatialReference.toJSON(),g=e(u);let b=l;if(d?.length){const e=!d[0].valueExpression&&d[0].field;e&&(b=e)}const F=t(g.path),I=o.spatialReference.toJSON();return{type:\"feature-service\",source:g,isSourceHosted:F,orderByFields:b,outSpatialReference:I,metadata:{timeReferenceUnknownClient:p,dateFieldsTimeZone:c,globalIdField:n,fieldsIndex:m,geometryType:y,objectIdField:l,timeInfo:f,spatialReference:h,outSpatialReference:I,subtypeField:null,subtypes:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:i.query.maxRecordCount,supportsCompactGeometry:i.query.supportsCompactGeometry,supportsDefaultSpatialReference:i.query.supportsDefaultSpatialReference,supportsFormatPBF:i.query.supportsFormatPBF,supportsMaxRecordCountFactor:i.query.supportsMaxRecordCountFactor,supportsQuantization:i.query.supportsQuantization,lastEditDate:a?.lastEditDate?.getTime(),snapshotInfo:null}}}createSourceSchema(e,t){const{definitionExpression:r,displayFilterInfo:o,customParameters:s,timeExtent:a,apiKey:l}=this.layer;return i({definitionExpression:r,displayFilterInfo:o,customParameters:s,timeExtent:a},e,t,l)}createProcessorSchema(e,t,r){const{fields:o,geometryType:s,orderBy:i,objectIdField:l,renderer:n,labelingInfo:p,labelsVisible:c}=this.layer,d={featureReduction:null,fields:o.map((e=>e.toJSON())),geometryType:s,labelingInfo:p,labelsVisible:c,objectIdField:l,orderBy:i??\"default\",renderer:n?.clone()};return a(e,t,d,r)}get hasRequiredSupport(){return l(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){return[()=>this.layer.apiKey,()=>this.layer.customParameters,()=>this.layer.definitionExpression,()=>this.layer.outFields,()=>this.layer.renderer,()=>this.layer.labelsVisible?this.layer.labelingInfo:null,()=>this.layer.orderBy]}setGraphicOrigin(e){e.origin={type:\"catalog\",layer:this.layer}}}export{n as CatalogFootprintLayerAdapter};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}