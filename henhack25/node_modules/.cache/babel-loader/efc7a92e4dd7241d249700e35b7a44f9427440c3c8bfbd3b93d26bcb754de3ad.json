{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { handlesGroup as t } from \"../../../../core/handleUtils.js\";\nimport { createAngle as o, createLength as e } from \"../../../../core/quantityUtils.js\";\nimport { watch as i, syncAndInitial as n, sync as r } from \"../../../../core/reactiveUtils.js\";\nimport { manipulatedObjectGeometry as a } from \"./manipulatedObjectUtils.js\";\nimport { AccumulationBehavior as s } from \"../../../interactive/editGeometry/interfaces.js\";\nimport { connectPasteEvent as c, getXYZDeltasFromTooltipInfo as l, updateTooltipInfoFromMeshTransform as p, updateMeshTransformFromTooltipInfo as u } from \"../../../interactive/tooltip/tooltipCommonUtils.js\";\nimport { elevationFromPoint as f } from \"../../../support/euclideanLengthMeasurementUtils.js\";\nfunction m(o, e, s) {\n  function l() {\n    const t = s(),\n      o = t.sketchOptions.tooltips.effectiveEnabled ? t.activeTooltipInfo : null;\n    return {\n      ...t,\n      activeTooltipInfo: o\n    };\n  }\n  let p = !1;\n  function u(t) {\n    p || (p = !0, t(), p = !1);\n  }\n  function f({\n    activeTooltipInfo: t,\n    sketchOptions: i,\n    scaleRotateTransform: n\n  }) {\n    u(() => {\n      t && (t.sketchOptions = i, y(t, e), k(t, n)), o.info = t;\n    });\n  }\n  return t([i(l, f, n), i(() => {\n    const t = l(),\n      {\n        activeTooltipInfo: o\n      } = t;\n    if (o) return {\n      context: t,\n      activeTooltipInfo: o,\n      key: o.key,\n      geometry: a(e)\n    };\n  }, (t, o) => {\n    t && o && o.key !== t.key && u(() => v(e, t.context));\n  }, r), e.on(\"committed\", () => {\n    queueMicrotask(() => f(l()));\n  }), c(o, {\n    onBeforePaste: () => {\n      p = !0;\n    },\n    onAfterPaste: () => {\n      v(e, l()), p = !1;\n    }\n  })]);\n}\nfunction v(t, {\n  activeTooltipInfo: o,\n  callbacks: e\n}) {\n  if (!o) return;\n  e.onBeforeUpdate();\n  const i = a(t);\n  switch (i?.type) {\n    case \"mesh\":\n      d(o, i.origin, t, e), \"orientation\" in o && \"scale\" in o && u(o, i, e);\n      break;\n    case \"point\":\n      d(o, i, t, e);\n  }\n}\nfunction d(t, o, e, i) {\n  const {\n    dx: n,\n    dy: r,\n    dz: a\n  } = l(t, o);\n  0 === n && 0 === r && 0 === a || (i.onMoveStart(), e.operations?.move(n, r, a, s.NEW_STEP), i.onMove(n, r, a), i.onMoveStop());\n}\nfunction y(t, o) {\n  const e = a(o),\n    i = e?.type;\n  if (!t || !e || \"mesh\" !== i && \"point\" !== i) return;\n  const n = \"mesh\" === i,\n    r = n ? e.origin : e;\n  t.setLocationFromPoint(r), h(t, r, o), \"transform-mesh\" === t.type && n && p(t, e), t.clearInputValues();\n}\nfunction h(t, o, e) {\n  t.elevation.actual = f(o), t.elevation.visible = !!e.operations?.data.coordinateHelper.hasZ(), t.elevation.readOnly = !1, t.elevation.showAsZ = !0;\n}\nfunction k(t, i) {\n  if (\"transform-point\" !== t?.type) return;\n  if (!i) return t.orientation.actual = void 0, t.size.actual = void 0, t.orientation.visible = !1, void (t.size.visible = !1);\n  const n = i.mode,\n    {\n      size: r,\n      orientationClockwise: a\n    } = i.adapter,\n    {\n      visualVariables: s\n    } = t.sketchOptions.tooltips,\n    c = s?.rotation,\n    l = null != a && (null == n || \"rotate\" === n),\n    p = c?.rotationType ?? \"geographic\";\n  t.orientation.actual = l ? o(a, \"radians\", p) : void 0, t.orientation.precision = T(c?.valueType), t.orientation.visible = l;\n  const u = s?.size,\n    f = null != r && (null == n || \"scale\" === n);\n  t.size.actual = f ? e(r, u?.unit ?? \"meters\") : void 0, t.size.precision = T(u?.valueType), t.size.visible = f;\n}\nfunction T(t) {\n  switch (t) {\n    case \"integer\":\n    case \"long\":\n      return 0;\n    default:\n      return null;\n  }\n}\nexport { m as connectTooltipToManipulatedObject, h as updateElevationFromPoint, y as updateTooltipInfoFromManipulatedObject, d as updateXYZFromTooltipInfo };","map":{"version":3,"names":["handlesGroup","t","createAngle","o","createLength","e","watch","i","syncAndInitial","n","sync","r","manipulatedObjectGeometry","a","AccumulationBehavior","s","connectPasteEvent","c","getXYZDeltasFromTooltipInfo","l","updateTooltipInfoFromMeshTransform","p","updateMeshTransformFromTooltipInfo","u","elevationFromPoint","f","m","sketchOptions","tooltips","effectiveEnabled","activeTooltipInfo","scaleRotateTransform","y","k","info","context","key","geometry","v","on","queueMicrotask","onBeforePaste","onAfterPaste","callbacks","onBeforeUpdate","type","d","origin","dx","dy","dz","onMoveStart","operations","move","NEW_STEP","onMove","onMoveStop","setLocationFromPoint","h","clearInputValues","elevation","actual","visible","data","coordinateHelper","hasZ","readOnly","showAsZ","orientation","size","mode","orientationClockwise","adapter","visualVariables","rotation","rotationType","precision","T","valueType","unit","connectTooltipToManipulatedObject","updateElevationFromPoint","updateTooltipInfoFromManipulatedObject","updateXYZFromTooltipInfo"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/interactive/editingTools/tooltipUtils3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../../../core/handleUtils.js\";import{createAngle as o,createLength as e}from\"../../../../core/quantityUtils.js\";import{watch as i,syncAndInitial as n,sync as r}from\"../../../../core/reactiveUtils.js\";import{manipulatedObjectGeometry as a}from\"./manipulatedObjectUtils.js\";import{AccumulationBehavior as s}from\"../../../interactive/editGeometry/interfaces.js\";import{connectPasteEvent as c,getXYZDeltasFromTooltipInfo as l,updateTooltipInfoFromMeshTransform as p,updateMeshTransformFromTooltipInfo as u}from\"../../../interactive/tooltip/tooltipCommonUtils.js\";import{elevationFromPoint as f}from\"../../../support/euclideanLengthMeasurementUtils.js\";function m(o,e,s){function l(){const t=s(),o=t.sketchOptions.tooltips.effectiveEnabled?t.activeTooltipInfo:null;return{...t,activeTooltipInfo:o}}let p=!1;function u(t){p||(p=!0,t(),p=!1)}function f({activeTooltipInfo:t,sketchOptions:i,scaleRotateTransform:n}){u((()=>{t&&(t.sketchOptions=i,y(t,e),k(t,n)),o.info=t}))}return t([i(l,f,n),i((()=>{const t=l(),{activeTooltipInfo:o}=t;if(o)return{context:t,activeTooltipInfo:o,key:o.key,geometry:a(e)}}),((t,o)=>{t&&o&&o.key!==t.key&&u((()=>v(e,t.context)))}),r),e.on(\"committed\",(()=>{queueMicrotask((()=>f(l())))})),c(o,{onBeforePaste:()=>{p=!0},onAfterPaste:()=>{v(e,l()),p=!1}})])}function v(t,{activeTooltipInfo:o,callbacks:e}){if(!o)return;e.onBeforeUpdate();const i=a(t);switch(i?.type){case\"mesh\":d(o,i.origin,t,e),\"orientation\"in o&&\"scale\"in o&&u(o,i,e);break;case\"point\":d(o,i,t,e)}}function d(t,o,e,i){const{dx:n,dy:r,dz:a}=l(t,o);0===n&&0===r&&0===a||(i.onMoveStart(),e.operations?.move(n,r,a,s.NEW_STEP),i.onMove(n,r,a),i.onMoveStop())}function y(t,o){const e=a(o),i=e?.type;if(!t||!e||\"mesh\"!==i&&\"point\"!==i)return;const n=\"mesh\"===i,r=n?e.origin:e;t.setLocationFromPoint(r),h(t,r,o),\"transform-mesh\"===t.type&&n&&p(t,e),t.clearInputValues()}function h(t,o,e){t.elevation.actual=f(o),t.elevation.visible=!!e.operations?.data.coordinateHelper.hasZ(),t.elevation.readOnly=!1,t.elevation.showAsZ=!0}function k(t,i){if(\"transform-point\"!==t?.type)return;if(!i)return t.orientation.actual=void 0,t.size.actual=void 0,t.orientation.visible=!1,void(t.size.visible=!1);const n=i.mode,{size:r,orientationClockwise:a}=i.adapter,{visualVariables:s}=t.sketchOptions.tooltips,c=s?.rotation,l=null!=a&&(null==n||\"rotate\"===n),p=c?.rotationType??\"geographic\";t.orientation.actual=l?o(a,\"radians\",p):void 0,t.orientation.precision=T(c?.valueType),t.orientation.visible=l;const u=s?.size,f=null!=r&&(null==n||\"scale\"===n);t.size.actual=f?e(r,u?.unit??\"meters\"):void 0,t.size.precision=T(u?.valueType),t.size.visible=f}function T(t){switch(t){case\"integer\":case\"long\":return 0;default:return null}}export{m as connectTooltipToManipulatedObject,h as updateElevationFromPoint,y as updateTooltipInfoFromManipulatedObject,d as updateXYZFromTooltipInfo};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}