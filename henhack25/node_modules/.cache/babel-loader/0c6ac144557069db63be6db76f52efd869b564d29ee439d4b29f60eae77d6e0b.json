{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { PathTransformationCursor as e } from \"../CIMCursor.js\";\nimport { CurveHelper as t } from \"../CurveHelper.js\";\nimport { PlacementOnLineRelativeTo as n } from \"../enums.js\";\nconst i = .001;\nclass s {\n  static local() {\n    return null === s.instance && (s.instance = new s()), s.instance;\n  }\n  execute(e, t, n, i, s) {\n    return new r(e, t, n);\n  }\n}\ns.instance = null;\nclass r extends e {\n  constructor(e, n, s) {\n    super(e), this._curveHelper = new t(), this._angleToLine = void 0 === n.angleToLine || n.angleToLine, this._offset = void 0 !== n.offset ? n.offset * s : 0, this._relativeTo = n.relativeTo, this._position = void 0 !== n.startPointOffset ? n.startPointOffset * s : 0, this._epsilon = i * s;\n  }\n  processPath(e) {\n    const t = this._position;\n    if (this._relativeTo === n.SegmentMidpoint) {\n      if (this.iteratePath || (this.iteratePath = !0), e.nextPoint()) {\n        let [t, n] = [e.x, e.y],\n          [i, s] = [0, 0];\n        for (; e.nextPoint();) {\n          i = e.x, s = e.y;\n          const r = this._curveHelper.getLength(t, n, i, s);\n          if (r < this._epsilon) {\n            t = i, n = s;\n            continue;\n          }\n          const o = .5 + this._position / r,\n            [a, l] = this._curveHelper.getAngleCS(t, n, i, s, o),\n            h = this._curveHelper.getCoord2D(t, n, i, s, o);\n          return this.internalPlacement.setTranslate(h[0] - this._offset * l, h[1] + this._offset * a), this._angleToLine && this.internalPlacement.setRotateCS(a, l), this.internalPlacement;\n        }\n      }\n      return this.iteratePath = !1, null;\n    }\n    const i = this._relativeTo === n.LineEnd;\n    return this.onLine(e, t, i);\n  }\n  onLine(e, t, i) {\n    let s,\n      r = !1;\n    switch (this._relativeTo) {\n      case n.LineMiddle:\n      default:\n        e.seekPathStart(), s = e.pathLength() / 2 + t;\n        break;\n      case n.LineBeginning:\n        s = t;\n        break;\n      case n.LineEnd:\n        s = t, r = !0;\n    }\n    i ? e.seekPathEnd() : e.seekPathStart();\n    let o = 0;\n    if (i ? e.prevPoint() : e.nextPoint()) {\n      let [t, n] = [e.x, e.y],\n        [a, l] = [0, 0];\n      for (; i ? e.prevPoint() : e.nextPoint();) {\n        a = e.x, l = e.y;\n        const i = this._curveHelper.getLength(t, n, a, l);\n        if (o + i > s) {\n          const e = (s - o) / i,\n            [h, c] = this._curveHelper.getAngleCS(t, n, a, l, e),\n            f = this._curveHelper.getCoord2D(t, n, a, l, e),\n            u = r ? -this._offset : this._offset;\n          return this.internalPlacement.setTranslate(f[0] - u * c, f[1] + u * h), this._angleToLine && (r ? this.internalPlacement.setRotateCS(-h, -c) : this.internalPlacement.setRotateCS(h, c)), this.internalPlacement;\n        }\n        t = a, n = l, o += i;\n      }\n    }\n    return null;\n  }\n}\nexport { s as PlacementOnLine };","map":{"version":3,"names":["PathTransformationCursor","e","CurveHelper","t","PlacementOnLineRelativeTo","n","i","s","local","instance","execute","r","constructor","_curveHelper","_angleToLine","angleToLine","_offset","offset","_relativeTo","relativeTo","_position","startPointOffset","_epsilon","processPath","SegmentMidpoint","iteratePath","nextPoint","x","y","getLength","o","a","l","getAngleCS","h","getCoord2D","internalPlacement","setTranslate","setRotateCS","LineEnd","onLine","LineMiddle","seekPathStart","pathLength","LineBeginning","seekPathEnd","prevPoint","c","f","u","PlacementOnLine"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/cim/placements/PlacementOnLine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{PathTransformationCursor as e}from\"../CIMCursor.js\";import{CurveHelper as t}from\"../CurveHelper.js\";import{PlacementOnLineRelativeTo as n}from\"../enums.js\";const i=.001;class s{static local(){return null===s.instance&&(s.instance=new s),s.instance}execute(e,t,n,i,s){return new r(e,t,n)}}s.instance=null;class r extends e{constructor(e,n,s){super(e),this._curveHelper=new t,this._angleToLine=void 0===n.angleToLine||n.angleToLine,this._offset=void 0!==n.offset?n.offset*s:0,this._relativeTo=n.relativeTo,this._position=void 0!==n.startPointOffset?n.startPointOffset*s:0,this._epsilon=i*s}processPath(e){const t=this._position;if(this._relativeTo===n.SegmentMidpoint){if(this.iteratePath||(this.iteratePath=!0),e.nextPoint()){let[t,n]=[e.x,e.y],[i,s]=[0,0];for(;e.nextPoint();){i=e.x,s=e.y;const r=this._curveHelper.getLength(t,n,i,s);if(r<this._epsilon){t=i,n=s;continue}const o=.5+this._position/r,[a,l]=this._curveHelper.getAngleCS(t,n,i,s,o),h=this._curveHelper.getCoord2D(t,n,i,s,o);return this.internalPlacement.setTranslate(h[0]-this._offset*l,h[1]+this._offset*a),this._angleToLine&&this.internalPlacement.setRotateCS(a,l),this.internalPlacement}}return this.iteratePath=!1,null}const i=this._relativeTo===n.LineEnd;return this.onLine(e,t,i)}onLine(e,t,i){let s,r=!1;switch(this._relativeTo){case n.LineMiddle:default:e.seekPathStart(),s=e.pathLength()/2+t;break;case n.LineBeginning:s=t;break;case n.LineEnd:s=t,r=!0}i?e.seekPathEnd():e.seekPathStart();let o=0;if(i?e.prevPoint():e.nextPoint()){let[t,n]=[e.x,e.y],[a,l]=[0,0];for(;i?e.prevPoint():e.nextPoint();){a=e.x,l=e.y;const i=this._curveHelper.getLength(t,n,a,l);if(o+i>s){const e=(s-o)/i,[h,c]=this._curveHelper.getAngleCS(t,n,a,l,e),f=this._curveHelper.getCoord2D(t,n,a,l,e),u=r?-this._offset:this._offset;return this.internalPlacement.setTranslate(f[0]-u*c,f[1]+u*h),this._angleToLine&&(r?this.internalPlacement.setRotateCS(-h,-c):this.internalPlacement.setRotateCS(h,c)),this.internalPlacement}t=a,n=l,o+=i}}return null}}export{s as PlacementOnLine};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}