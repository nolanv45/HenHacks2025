{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { HighlightCellGridScreenSpacePass as e } from \"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";\nimport { HighlightReadBitmap as t } from \"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";\nimport { Float2DrawUniform as i } from \"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";\nimport { FloatPassUniform as l } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as r } from \"../views/3d/webgl-engine/core/shaderModules/glsl.js\";\nimport { IntegerPassUniform as o } from \"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";\nimport { Texture2DPassUniform as n } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nimport { o as g, b as u } from \"./HighlightDownsample.glsl.js\";\nimport { ShaderBuilder as h } from \"../views/webgl/ShaderBuilder.js\";\nfunction s() {\n  const s = new h();\n  s.include(e);\n  const {\n    fragment: c\n  } = s;\n  return c.uniforms.add(new n(\"blurInput\", e => e.singleHighlightBlurTexture), new i(\"blurSize\", e => e.blurSize), new n(\"highlightTexture\", e => e.highlightTexture), new n(\"highlightOptionsTexture\", e => e.highlightOptionsTexture), new o(\"highlightLevel\", e => e.highlightLevel), new l(\"occludedIntensityFactor\", e => e.occludedFactor)), c.constants.add(\"inner\", \"float\", 1 - (g - u) / g), s.include(t), c.main.add(r`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nvec2 blurredHighlightValue = (vOutlinePossible == 0.0)\n? center\n: center * 0.204164\n+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913\n+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfloat highlightIntensity = blurredHighlightValue.r;\nfloat occlusionWeight = blurredHighlightValue.g;\nif (highlightIntensity <= 0.01) {\ndiscard;\n}\nvec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);\nvec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);\nvec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;\nuint centerBits = readLevelBits(centerTexel, highlightLevel);\nbool centerFilled = (centerBits & 1u) == 1u;\nbool centerOccluded = (centerBits & 3u) == 3u;\nbool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = centerFilled ? 1.0 : 0.0;\nvec4 baseColor = mix(outlineColor, fillColor, fillFactor);\nfloat intensity = baseColor.a * occlusionFactor * outlineFactor;\nfragColor = vec4(baseColor.rgb, intensity);`), s;\n}\nconst c = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: s\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { c as S, s as b };","map":{"version":3,"names":["HighlightCellGridScreenSpacePass","e","HighlightReadBitmap","t","Float2DrawUniform","i","FloatPassUniform","l","glsl","r","IntegerPassUniform","o","Texture2DPassUniform","n","g","b","u","ShaderBuilder","h","s","include","fragment","c","uniforms","add","singleHighlightBlurTexture","blurSize","highlightTexture","highlightOptionsTexture","highlightLevel","occludedFactor","constants","main","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","S"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as t}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{Float2DrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{o as g,b as u}from\"./HighlightDownsample.glsl.js\";import{ShaderBuilder as h}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new h;s.include(e);const{fragment:c}=s;return c.uniforms.add(new n(\"blurInput\",(e=>e.singleHighlightBlurTexture)),new i(\"blurSize\",(e=>e.blurSize)),new n(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new o(\"highlightLevel\",(e=>e.highlightLevel)),new l(\"occludedIntensityFactor\",(e=>e.occludedFactor))),c.constants.add(\"inner\",\"float\",1-(g-u)/g),s.include(t),c.main.add(r`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nvec2 blurredHighlightValue = (vOutlinePossible == 0.0)\n? center\n: center * 0.204164\n+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913\n+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfloat highlightIntensity = blurredHighlightValue.r;\nfloat occlusionWeight = blurredHighlightValue.g;\nif (highlightIntensity <= 0.01) {\ndiscard;\n}\nvec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);\nvec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);\nvec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;\nuint centerBits = readLevelBits(centerTexel, highlightLevel);\nbool centerFilled = (centerBits & 1u) == 1u;\nbool centerOccluded = (centerBits & 3u) == 3u;\nbool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = centerFilled ? 1.0 : 0.0;\nvec4 baseColor = mix(outlineColor, fillColor, fillFactor);\nfloat intensity = baseColor.a * occlusionFactor * outlineFactor;\nfragColor = vec4(baseColor.rgb, intensity);`),s}const c=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{c as S,s as b};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,gCAAgC,IAAIC,CAAC,QAAK,sFAAsF;AAAC,SAAOC,mBAAmB,IAAIC,CAAC,QAAK,yEAAyE;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,kEAAkE;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,iEAAiE;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,qDAAqD;AAAC,SAAOC,kBAAkB,IAAIC,CAAC,QAAK,mEAAmE;AAAC,SAAOC,oBAAoB,IAAIC,CAAC,QAAK,qEAAqE;AAAC,SAAOF,CAAC,IAAIG,CAAC,EAACC,CAAC,IAAIC,CAAC,QAAK,+BAA+B;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,iCAAiC;AAAC,SAASC,CAACA,CAAA,EAAE;EAAC,MAAMA,CAAC,GAAC,IAAID,CAAC,CAAD,CAAC;EAACC,CAAC,CAACC,OAAO,CAACnB,CAAC,CAAC;EAAC,MAAK;IAACoB,QAAQ,EAACC;EAAC,CAAC,GAACH,CAAC;EAAC,OAAOG,CAAC,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAIX,CAAC,CAAC,WAAW,EAAEZ,CAAC,IAAEA,CAAC,CAACwB,0BAA2B,CAAC,EAAC,IAAIpB,CAAC,CAAC,UAAU,EAAEJ,CAAC,IAAEA,CAAC,CAACyB,QAAS,CAAC,EAAC,IAAIb,CAAC,CAAC,kBAAkB,EAAEZ,CAAC,IAAEA,CAAC,CAAC0B,gBAAiB,CAAC,EAAC,IAAId,CAAC,CAAC,yBAAyB,EAAEZ,CAAC,IAAEA,CAAC,CAAC2B,uBAAwB,CAAC,EAAC,IAAIjB,CAAC,CAAC,gBAAgB,EAAEV,CAAC,IAAEA,CAAC,CAAC4B,cAAe,CAAC,EAAC,IAAItB,CAAC,CAAC,yBAAyB,EAAEN,CAAC,IAAEA,CAAC,CAAC6B,cAAe,CAAC,CAAC,EAACR,CAAC,CAACS,SAAS,CAACP,GAAG,CAAC,OAAO,EAAC,OAAO,EAAC,CAAC,GAAC,CAACV,CAAC,GAACE,CAAC,IAAEF,CAAC,CAAC,EAACK,CAAC,CAACC,OAAO,CAACjB,CAAC,CAAC,EAACmB,CAAC,CAACU,IAAI,CAACR,GAAG,CAACf,CAAC;AACzxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,CAAC,EAACU,CAAC;AAAA;AAAC,MAAMG,CAAC,GAACW,MAAM,CAACC,MAAM,CAACD,MAAM,CAACE,cAAc,CAAC;EAACC,SAAS,EAAC,IAAI;EAACC,KAAK,EAAClB;AAAC,CAAC,EAACmB,MAAM,CAACC,WAAW,EAAC;EAACC,KAAK,EAAC;AAAQ,CAAC,CAAC,CAAC;AAAC,SAAOlB,CAAC,IAAImB,CAAC,EAACtB,CAAC,IAAIJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}