{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from \"../../../request.js\";\nimport { urlToObject as e, join as i } from \"../../../core/urlUtils.js\";\nimport { getJsonType as n } from \"../../../geometry/support/jsonUtils.js\";\nimport { normalizeCentralMeridian as r } from \"../../../geometry/support/normalizeUtils.js\";\nimport { srToRESTValue as o, equals as s } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { mapParameters as u } from \"../../operations/urlUtils.js\";\nfunction l(t) {\n  const e = t.geometry,\n    i = t.toJSON(),\n    r = i;\n  let u, l, a;\n  if (null != e && (l = e.spatialReference, a = o(l), r.geometryType = n(e), r.geometry = JSON.stringify(e), r.inSR = a), i.outSR ? (r.outSR = o(i.outSR), u = t.outSpatialReference) : e && (r.outSR = r.inSR, u = l), r.bin &&= JSON.stringify(r.bin), r.quantizationParameters &&= JSON.stringify(r.quantizationParameters), r.outStatistics &&= JSON.stringify(r.outStatistics), r.outTimeReference &&= JSON.stringify(r.outTimeReference), i.timeExtent) {\n    const t = i.timeExtent,\n      {\n        start: e,\n        end: n\n      } = t;\n    null == e && null == n || (r.time = e === n ? e : `${e ?? \"null\"},${n ?? \"null\"}`), delete i.timeExtent;\n  }\n  return t.defaultSpatialReference && s(l, u) && (r.defaultSR = r.inSR, delete r.inSR, delete r.outSR), r;\n}\nasync function a(t, e, i) {\n  return null != e.timeExtent && e.timeExtent.isEmpty ? {\n    data: {\n      features: []\n    }\n  } : await m(t, e, i);\n}\nasync function m(n, o) {\n  let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const a = \"string\" == typeof n ? e(n) : n,\n    m = o.geometry ? [o.geometry] : [],\n    f = await r(m, null, {\n      signal: s.signal\n    }),\n    y = f?.[0];\n  null != y && ((o = o.clone()).geometry = y);\n  const p = u({\n    ...a.query,\n    f: \"json\",\n    ...l(o)\n  });\n  return t(i(a.path, \"queryBins\"), {\n    ...s,\n    query: {\n      ...p,\n      ...s.query\n    }\n  });\n}\nexport { a as executeAttributeBinsQuery, l as queryToQueryStringParameters };","map":{"version":3,"names":["t","urlToObject","e","join","i","getJsonType","n","normalizeCentralMeridian","r","srToRESTValue","o","equals","s","mapParameters","u","l","geometry","toJSON","a","spatialReference","geometryType","JSON","stringify","inSR","outSR","outSpatialReference","bin","quantizationParameters","outStatistics","outTimeReference","timeExtent","start","end","time","defaultSpatialReference","defaultSR","isEmpty","data","features","m","arguments","length","undefined","f","signal","y","clone","p","query","path","executeAttributeBinsQuery","queryToQueryStringParameters"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/rest/query/operations/queryAttributeBins.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{urlToObject as e,join as i}from\"../../../core/urlUtils.js\";import{getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as r}from\"../../../geometry/support/normalizeUtils.js\";import{srToRESTValue as o,equals as s}from\"../../../geometry/support/spatialReferenceUtils.js\";import{mapParameters as u}from\"../../operations/urlUtils.js\";function l(t){const e=t.geometry,i=t.toJSON(),r=i;let u,l,a;if(null!=e&&(l=e.spatialReference,a=o(l),r.geometryType=n(e),r.geometry=JSON.stringify(e),r.inSR=a),i.outSR?(r.outSR=o(i.outSR),u=t.outSpatialReference):e&&(r.outSR=r.inSR,u=l),r.bin&&=JSON.stringify(r.bin),r.quantizationParameters&&=JSON.stringify(r.quantizationParameters),r.outStatistics&&=JSON.stringify(r.outStatistics),r.outTimeReference&&=JSON.stringify(r.outTimeReference),i.timeExtent){const t=i.timeExtent,{start:e,end:n}=t;null==e&&null==n||(r.time=e===n?e:`${e??\"null\"},${n??\"null\"}`),delete i.timeExtent}return t.defaultSpatialReference&&s(l,u)&&(r.defaultSR=r.inSR,delete r.inSR,delete r.outSR),r}async function a(t,e,i){return null!=e.timeExtent&&e.timeExtent.isEmpty?{data:{features:[]}}:await m(t,e,i)}async function m(n,o,s={}){const a=\"string\"==typeof n?e(n):n,m=o.geometry?[o.geometry]:[],f=await r(m,null,{signal:s.signal}),y=f?.[0];null!=y&&((o=o.clone()).geometry=y);const p=u({...a.query,f:\"json\",...l(o)});return t(i(a.path,\"queryBins\"),{...s,query:{...p,...s.query}})}export{a as executeAttributeBinsQuery,l as queryToQueryStringParameters};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}