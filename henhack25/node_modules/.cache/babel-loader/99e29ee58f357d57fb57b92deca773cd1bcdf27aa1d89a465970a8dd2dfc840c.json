{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport \"../../../../../core/has.js\";\nimport e from \"../../../../../core/Error.js\";\nimport { throwIfAborted as t } from \"../../../../../core/promiseUtils.js\";\nimport { isDataProtocol as n, dataComponents as r } from \"../../../../../core/urlUtils.js\";\nfunction a(e) {\n  const t = m(e);\n  return null != t ? t.toDataURL() : \"\";\n}\nasync function i(n, r) {\n  const a = m(n);\n  if (null == a) throw new e(\"imageToArrayBuffer\", \"Unsupported image type\");\n  const i = o(n),\n    s = await new Promise(e => a.toBlob(e, i));\n  if (t(r), !s) throw new e(\"imageToArrayBuffer\", \"Failed to encode image\");\n  const c = await s.arrayBuffer();\n  return t(r), {\n    data: c,\n    type: i\n  };\n}\nfunction o(e) {\n  if (!(e instanceof HTMLImageElement)) return \"image/png\";\n  const t = e.src;\n  if (n(t)) {\n    const e = r(t);\n    return \"image/jpeg\" === e?.mediaType ? e.mediaType : \"image/png\";\n  }\n  return /\\.png$/i.test(t) ? \"image/png\" : /\\.(jpg|jpeg)$/i.test(t) ? \"image/jpeg\" : \"image/png\";\n}\nfunction m(e) {\n  if (e instanceof HTMLCanvasElement) return e;\n  if (e instanceof HTMLVideoElement) return null;\n  const t = document.createElement(\"canvas\");\n  t.width = e.width, t.height = e.height;\n  const n = t.getContext(\"2d\");\n  return e instanceof HTMLImageElement ? n.drawImage(e, 0, 0, e.width, e.height) : e instanceof ImageData && n.putImageData(e, 0, 0), t;\n}\nfunction s(e) {\n  const t = [],\n    n = new Uint8Array(e);\n  for (let r = 0; r < n.length; r++) t.push(String.fromCharCode(n[r]));\n  return \"data:application/octet-stream;base64,\" + btoa(t.join(\"\"));\n}\nfunction c(e) {\n  if (e.byteLength < 8) return !1;\n  const t = new Uint8Array(e);\n  return 137 === t[0] && 80 === t[1] && 78 === t[2] && 71 === t[3] && 13 === t[4] && 10 === t[5] && 26 === t[6] && 10 === t[7];\n}\nexport { s as encodeBase64DataUri, i as imageToArrayBuffer, a as imageToDataURI, m as imageTypeToCanvas, c as isArrayBufferPNG };","map":{"version":3,"names":["e","throwIfAborted","t","isDataProtocol","n","dataComponents","r","a","m","toDataURL","i","o","s","Promise","toBlob","c","arrayBuffer","data","type","HTMLImageElement","src","mediaType","test","HTMLCanvasElement","HTMLVideoElement","document","createElement","width","height","getContext","drawImage","ImageData","putImageData","Uint8Array","length","push","String","fromCharCode","btoa","join","byteLength","encodeBase64DataUri","imageToArrayBuffer","imageToDataURI","imageTypeToCanvas","isArrayBufferPNG"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import e from\"../../../../../core/Error.js\";import{throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{isDataProtocol as n,dataComponents as r}from\"../../../../../core/urlUtils.js\";function a(e){const t=m(e);return null!=t?t.toDataURL():\"\"}async function i(n,r){const a=m(n);if(null==a)throw new e(\"imageToArrayBuffer\",\"Unsupported image type\");const i=o(n),s=await new Promise((e=>a.toBlob(e,i)));if(t(r),!s)throw new e(\"imageToArrayBuffer\",\"Failed to encode image\");const c=await s.arrayBuffer();return t(r),{data:c,type:i}}function o(e){if(!(e instanceof HTMLImageElement))return\"image/png\";const t=e.src;if(n(t)){const e=r(t);return\"image/jpeg\"===e?.mediaType?e.mediaType:\"image/png\"}return/\\.png$/i.test(t)?\"image/png\":/\\.(jpg|jpeg)$/i.test(t)?\"image/jpeg\":\"image/png\"}function m(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;const n=t.getContext(\"2d\");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function s(e){const t=[],n=new Uint8Array(e);for(let r=0;r<n.length;r++)t.push(String.fromCharCode(n[r]));return\"data:application/octet-stream;base64,\"+btoa(t.join(\"\"))}function c(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}export{s as encodeBase64DataUri,i as imageToArrayBuffer,a as imageToDataURI,m as imageTypeToCanvas,c as isArrayBufferPNG};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}