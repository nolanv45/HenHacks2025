{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Evented.js\";\nimport { on as t } from \"../../../core/events.js\";\nimport { handlesGroup as a } from \"../../../core/handleUtils.js\";\nimport has from \"../../../core/has.js\";\nimport { deg2rad as r } from \"../../../core/mathUtils.js\";\nimport { identity as s, scale as i, rotate as o, translate as n } from \"../../../core/libs/gl-matrix-2/math/mat2d.js\";\nimport { create as h } from \"../../../core/libs/gl-matrix-2/factories/mat2df64.js\";\nclass c {\n  constructor(r) {\n    this.events = new e(), this._hasMajorPerformanceCaveat = !1, this._lastRenderFrameCounter = 0, this._canvas = document.createElement(\"canvas\"), this._canvas.setAttribute(\"style\", \"width: 100%; height:100%; display:block; willChange:transform\");\n    const s = {\n      failIfMajorPerformanceCaveat: !0,\n      alpha: !0,\n      antialias: !1,\n      depth: !0,\n      stencil: !0,\n      powerPreference: \"high-performance\"\n    };\n    r.appendChild(this._canvas);\n    let i = this._canvas.getContext(\"webgl2\", s);\n    i || (i = this._canvas.getContext(\"webgl2\", {\n      ...s,\n      failIfMajorPerformanceCaveat: !1\n    }), this._hasMajorPerformanceCaveat = !0), this._gl = i, this._handles = a([t(this._canvas, \"webglcontextlost\", e => this.events.emit(\"webgl-context-lost\", e))]);\n  }\n  destroy() {\n    this._canvas.parentNode?.removeChild(this._canvas), this._canvas = null, this._handles.remove(), this._gl = null;\n  }\n  get gl() {\n    return this._gl;\n  }\n  render(e, t) {\n    if (this._hasMajorPerformanceCaveat || has(\"esri-force-performance-mode\")) {\n      if (++this._lastRenderFrameCounter >= has(\"esri-performance-mode-frames-between-render\") && (t(), this._lastRenderViewState = e.state.clone(), this._lastRenderFrameCounter = 0), this._lastRenderViewState) {\n        const [t, a, r, s, i, o] = this._computeViewTransform(this._lastRenderViewState, e.state);\n        this._canvas.style.transform = `matrix(${t}, ${a}, ${r}, ${s}, ${i}, ${o})`;\n      }\n    } else t();\n  }\n  resize(e) {\n    const t = this._canvas,\n      a = t.style,\n      {\n        state: {\n          size: r\n        },\n        pixelRatio: s\n      } = e,\n      i = r[0],\n      o = r[1],\n      n = Math.round(i * s),\n      h = Math.round(o * s);\n    t.width === n && t.height === h || (t.width = n, t.height = h), a.width = i + \"px\", a.height = o + \"px\";\n  }\n  _computeViewTransform(e, t) {\n    const [a, c] = e.center,\n      [l, m] = t.center,\n      [d, f] = e.toScreen([0, 0], l, m),\n      [_, p] = e.toScreen([0, 0], a, c),\n      v = _ - d,\n      g = p - f,\n      w = e.scale / t.scale,\n      u = t.rotation - e.rotation,\n      C = h();\n    return s(C), i(C, C, [w, w]), o(C, C, r(u)), n(C, C, [v, g]), C;\n  }\n}\nexport { c as ManagedCanvas };","map":{"version":3,"names":["e","on","t","handlesGroup","a","has","deg2rad","r","identity","s","scale","i","rotate","o","translate","n","create","h","c","constructor","events","_hasMajorPerformanceCaveat","_lastRenderFrameCounter","_canvas","document","createElement","setAttribute","failIfMajorPerformanceCaveat","alpha","antialias","depth","stencil","powerPreference","appendChild","getContext","_gl","_handles","emit","destroy","parentNode","removeChild","remove","gl","render","_lastRenderViewState","state","clone","_computeViewTransform","style","transform","resize","size","pixelRatio","Math","round","width","height","center","l","m","d","f","toScreen","_","p","v","g","w","u","rotation","C","ManagedCanvas"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/ManagedCanvas.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{on as t}from\"../../../core/events.js\";import{handlesGroup as a}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import{deg2rad as r}from\"../../../core/mathUtils.js\";import{identity as s,scale as i,rotate as o,translate as n}from\"../../../core/libs/gl-matrix-2/math/mat2d.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/mat2df64.js\";class c{constructor(r){this.events=new e,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,this._canvas=document.createElement(\"canvas\"),this._canvas.setAttribute(\"style\",\"width: 100%; height:100%; display:block; willChange:transform\");const s={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:\"high-performance\"};r.appendChild(this._canvas);let i=this._canvas.getContext(\"webgl2\",s);i||(i=this._canvas.getContext(\"webgl2\",{...s,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=i,this._handles=a([t(this._canvas,\"webglcontextlost\",(e=>this.events.emit(\"webgl-context-lost\",e)))])}destroy(){this._canvas.parentNode?.removeChild(this._canvas),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}render(e,t){if(this._hasMajorPerformanceCaveat||has(\"esri-force-performance-mode\")){if(++this._lastRenderFrameCounter>=has(\"esri-performance-mode-frames-between-render\")&&(t(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[t,a,r,s,i,o]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${t}, ${a}, ${r}, ${s}, ${i}, ${o})`}}else t()}resize(e){const t=this._canvas,a=t.style,{state:{size:r},pixelRatio:s}=e,i=r[0],o=r[1],n=Math.round(i*s),h=Math.round(o*s);t.width===n&&t.height===h||(t.width=n,t.height=h),a.width=i+\"px\",a.height=o+\"px\"}_computeViewTransform(e,t){const[a,c]=e.center,[l,m]=t.center,[d,f]=e.toScreen([0,0],l,m),[_,p]=e.toScreen([0,0],a,c),v=_-d,g=p-f,w=e.scale/t.scale,u=t.rotation-e.rotation,C=h();return s(C),i(C,C,[w,w]),o(C,C,r(u)),n(C,C,[v,g]),C}}export{c as ManagedCanvas};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}