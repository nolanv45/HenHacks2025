{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport t from \"../../core/Error.js\";\nimport n from \"../../core/Logger.js\";\nimport { makeAbsolute as i, addQueryParameters as r, urlToObject as o } from \"../../core/urlUtils.js\";\nimport s from \"../../geometry/SpatialReference.js\";\nimport { wgs84 as a } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { project as l } from \"../../geometry/support/webMercatorUtils.js\";\nimport { convertToFeatureSet as c, convertToGeometry as u, convertFromGeometry as d } from \"../graphics/featureConversionUtils.js\";\nimport f from \"../graphics/OptimizedFeatureSet.js\";\nimport { validateGeoJSON as m, inferLayerProperties as p, createOptimizedFeatures as g } from \"../graphics/sources/geojson/geojson.js\";\nimport { createDrawingInfo as y } from \"../graphics/sources/support/clientSideDefaults.js\";\nimport { mixAttributes as w } from \"../graphics/sources/support/sourceUtils.js\";\nimport j from \"../support/FieldsIndex.js\";\nimport { kebabDict as b } from \"../support/fieldType.js\";\nimport { utc as h } from \"../../time/timeZoneUtils.js\";\nconst F = () => n.getLogger(\"esri.layers.ogc.ogcFeatureUtils\"),\n  I = \"startindex\",\n  T = new Set([I, \"offset\"]),\n  k = \"http://www.opengis.net/def/crs/\",\n  x = `${k}OGC/1.3/CRS84`;\nvar S;\nasync function v(n, o) {\n  let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let a = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5;\n  const {\n      links: l\n    } = n,\n    c = L(l, \"items\", S.geojson) || L(l, \"http://www.opengis.net/def/rel/ogc/1.0/items\", S.geojson);\n  if (null == c) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n  const {\n      apiKey: u,\n      customParameters: d,\n      signal: f\n    } = s,\n    g = i(c.href, n.landingPage.url),\n    w = {\n      limit: a,\n      ...d,\n      token: u\n    },\n    T = r(g, w),\n    k = {\n      accept: S.geojson\n    },\n    {\n      data: x\n    } = await e(T, {\n      signal: f,\n      headers: k\n    }),\n    v = A(T, a, x.links) ?? I;\n  m(x);\n  const N = p(x, {\n      geometryType: o.geometryType\n    }),\n    O = o.fields || N.fields || [],\n    P = null != o.hasZ ? o.hasZ : N.hasZ,\n    q = N.geometryType,\n    C = o.objectIdField || N.objectIdFieldName || \"OBJECTID\";\n  let R = o.timeInfo;\n  const $ = O.find(_ref => {\n    let {\n      name: e\n    } = _ref;\n    return e === C;\n  });\n  if ($) $.editable = !1, $.nullable = !1;else {\n    if (!N.objectIdFieldType) throw new t(\"ogc-feature-layer:missing-feature-id\", \"Collection geojson require a feature id as a unique identifier\");\n    O.unshift({\n      name: C,\n      alias: C,\n      type: \"number\" === N.objectIdFieldType ? \"esriFieldTypeOID\" : \"esriFieldTypeString\",\n      editable: !1,\n      nullable: !1\n    });\n  }\n  if (C !== N.objectIdFieldName) {\n    const e = O.find(_ref2 => {\n      let {\n        name: e\n      } = _ref2;\n      return e === N.objectIdFieldName;\n    });\n    e && (e.type = \"esriFieldTypeInteger\");\n  }\n  O === N.fields && N.unknownFields.length > 0 && F().warn({\n    name: \"ogc-feature-layer:unknown-field-types\",\n    message: \"Some fields types couldn't be inferred from the features and were dropped\",\n    details: {\n      unknownFields: N.unknownFields\n    }\n  });\n  for (const e of O) {\n    if (null == e.name && (e.name = e.alias), null == e.alias && (e.alias = e.name), \"esriFieldTypeOID\" !== e.type && \"esriFieldTypeGlobalID\" !== e.type && (e.editable = null == e.editable || !!e.editable, e.nullable = null == e.nullable || !!e.nullable), !e.name) throw new t(\"ogc-feature-layer:invalid-field-name\", \"field name is missing\", {\n      field: e\n    });\n    if (!b.jsonValues.includes(e.type)) throw new t(\"ogc-feature-layer:invalid-field-type\", `invalid type for field \"${e.name}\"`, {\n      field: e\n    });\n  }\n  if (R) {\n    const e = new j(O);\n    if (R.startTimeField) {\n      const t = e.get(R.startTimeField);\n      t ? (R.startTimeField = t.name, t.type = \"esriFieldTypeDate\") : R.startTimeField = null;\n    }\n    if (R.endTimeField) {\n      const t = e.get(R.endTimeField);\n      t ? (R.endTimeField = t.name, t.type = \"esriFieldTypeDate\") : R.endTimeField = null;\n    }\n    if (R.trackIdField) {\n      const t = e.get(R.trackIdField);\n      t ? R.trackIdField = t.name : (R.trackIdField = null, F().warn({\n        name: \"ogc-feature-layer:invalid-timeInfo-trackIdField\",\n        message: \"trackIdField is missing\",\n        details: {\n          timeInfo: R\n        }\n      }));\n    }\n    R.timeReference ||= {\n      timeZoneIANA: h\n    }, R.startTimeField || R.endTimeField || (F().warn({\n      name: \"ogc-feature-layer:invalid-timeInfo\",\n      message: \"startTimeField and endTimeField are missing\",\n      details: {\n        timeInfo: R\n      }\n    }), R = void 0);\n  }\n  return {\n    drawingInfo: q ? y(q) : null,\n    extent: K(n),\n    geometryType: q,\n    fields: O,\n    hasZ: !!P,\n    objectIdField: C,\n    paginationParameter: v,\n    timeInfo: R\n  };\n}\nasync function N(n) {\n  let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n      links: o,\n      url: s\n    } = n,\n    a = L(o, \"data\", S.json) || L(o, \"http://www.opengis.net/def/rel/ogc/1.0/data\", S.json);\n  if (null == a) throw new t(\"ogc-feature-layer:missing-collections-page\", \"Missing collections url\");\n  const {\n      apiKey: l,\n      customParameters: c,\n      signal: u\n    } = r,\n    d = i(a.href, s),\n    {\n      data: f\n    } = await e(d, {\n      signal: u,\n      headers: {\n        accept: S.json\n      },\n      query: {\n        ...c,\n        token: l\n      }\n    });\n  for (const e of f.collections) e.landingPage = n;\n  return f;\n}\nasync function O(n) {\n  let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n      links: o,\n      url: s\n    } = n,\n    a = L(o, \"conformance\", S.json) || L(o, \"http://www.opengis.net/def/rel/ogc/1.0/conformance\", S.json);\n  if (null == a) throw new t(\"ogc-feature-layer:missing-conformance-page\", \"Missing conformance url\");\n  const {\n      apiKey: l,\n      customParameters: c,\n      signal: u\n    } = r,\n    d = i(a.href, s),\n    {\n      data: f\n    } = await e(d, {\n      signal: u,\n      headers: {\n        accept: S.json\n      },\n      query: {\n        ...c,\n        token: l\n      }\n    });\n  return f;\n}\nasync function P(t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n      apiKey: i,\n      customParameters: r,\n      signal: o\n    } = n,\n    {\n      data: s\n    } = await e(t, {\n      signal: o,\n      headers: {\n        accept: S.json\n      },\n      query: {\n        ...r,\n        token: i\n      }\n    });\n  return s.url = t, s;\n}\nasync function q(t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n      links: r,\n      url: o\n    } = t,\n    s = L(r, \"service-desc\", S.openapi);\n  if (null == s) return F().warn(\"ogc-feature-layer:missing-openapi-page\", \"The OGC API-Features server does not have an OpenAPI page.\"), null;\n  const {\n      apiKey: a,\n      customParameters: l,\n      signal: c\n    } = n,\n    u = i(s.href, o),\n    {\n      data: d\n    } = await e(u, {\n      signal: c,\n      headers: {\n        accept: S.openapi\n      },\n      query: {\n        ...l,\n        token: a\n      }\n    });\n  return d;\n}\nfunction C(e) {\n  const t = /^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),\n    n = t?.groups;\n  if (!n) return null;\n  const {\n    authority: i,\n    code: r\n  } = n;\n  switch (i.toLowerCase()) {\n    case \"ogc\":\n      switch (r.toLowerCase()) {\n        case \"crs27\":\n          return s.GCS_NAD_1927.wkid;\n        case \"crs83\":\n          return 4269;\n        case \"crs84\":\n        case \"crs84h\":\n          return s.WGS84.wkid;\n        default:\n          return null;\n      }\n    case \"esri\":\n    case \"epsg\":\n      {\n        const e = Number.parseInt(r, 10);\n        return Number.isNaN(e) ? null : e;\n      }\n    default:\n      return null;\n  }\n}\nasync function R(e, t, n) {\n  const i = await $(e, t, n);\n  return c(i);\n}\nasync function $(n, r, o) {\n  const {\n      collection: {\n        links: c,\n        landingPage: {\n          url: m\n        }\n      },\n      layerDefinition: p,\n      maxRecordCount: y,\n      queryParameters: {\n        apiKey: b,\n        customParameters: h\n      },\n      spatialReference: F,\n      supportedCrs: I\n    } = n,\n    T = L(c, \"items\", S.geojson) || L(c, \"http://www.opengis.net/def/rel/ogc/1.0/items\", S.geojson);\n  if (null == T) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n  const {\n    geometry: k,\n    num: x,\n    start: v,\n    timeExtent: N,\n    where: O\n  } = r;\n  if (r.objectIds) throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\", \"Queries with object ids are not supported\");\n  const P = s.fromJSON(F),\n    q = r.outSpatialReference ?? P,\n    C = q.isWGS84 ? null : W(q, I),\n    R = U(k, I),\n    $ = M(N),\n    G = Z(O),\n    D = x ?? (null == v ? y : 10),\n    K = 0 === v ? void 0 : v,\n    {\n      fields: A,\n      geometryType: J,\n      hasZ: z,\n      objectIdField: E,\n      paginationParameter: _\n    } = p,\n    B = i(T.href, m),\n    {\n      data: Q\n    } = await e(B, {\n      ...o,\n      query: {\n        ...h,\n        ...R,\n        crs: C,\n        datetime: $,\n        query: G,\n        limit: D,\n        [_]: K,\n        token: b\n      },\n      headers: {\n        accept: S.geojson\n      }\n    }),\n    V = g(Q, {\n      geometryType: J,\n      hasZ: z,\n      objectIdField: E\n    }),\n    H = V.length === D && !!L(Q.links ?? [], \"next\", S.geojson),\n    X = new j(A);\n  for (const e of V) {\n    const t = {};\n    w(X, t, e.attributes, !0);\n    for (const e of X.fields) e.nullable && !(e.name in t) && (t[e.name] = null);\n    t[E] = e.attributes[E], e.attributes = t;\n  }\n  if (!C && q.isWebMercator) for (const e of V) if (null != e.geometry && null != J) {\n    const t = u(e.geometry, J, z, !1);\n    t.spatialReference = s.WGS84, e.geometry = d(l(t, q));\n  }\n  for (const e of V) e.objectId = e.attributes[E];\n  const Y = C || !C && q.isWebMercator ? q.toJSON() : a,\n    ee = new f();\n  return ee.exceededTransferLimit = H, ee.features = V, ee.fields = A, ee.geometryType = J, ee.hasZ = z, ee.objectIdFieldName = E, ee.spatialReference = Y, ee;\n}\nfunction G(e) {\n  return null != e && \"extent\" === e.type;\n}\nfunction W(e, t) {\n  const {\n    isWebMercator: n,\n    wkid: i\n  } = e;\n  if (!i) return null;\n  const r = n ? t[3857] ?? t[102100] ?? t[102113] ?? t[900913] : t[e.wkid];\n  return r ? `${k}${r}` : null;\n}\nfunction D(e) {\n  if (null == e) return \"\";\n  const {\n    xmin: t,\n    ymin: n,\n    xmax: i,\n    ymax: r\n  } = e;\n  return `${t},${n},${i},${r}`;\n}\nfunction M(e) {\n  if (null == e) return null;\n  const {\n    start: t,\n    end: n\n  } = e;\n  return `${null != t ? t.toISOString() : \"..\"}/${null != n ? n.toISOString() : \"..\"}`;\n}\nfunction Z(e) {\n  return null != e && e && \"1=1\" !== e ? e : null;\n}\nfunction U(e, t) {\n  if (!G(e)) return null;\n  const {\n    spatialReference: n\n  } = e;\n  if (!n || n.isWGS84) return {\n    bbox: D(e)\n  };\n  const i = W(n, t);\n  return null != i ? {\n    bbox: D(e),\n    \"bbox-crs\": i\n  } : n.isWebMercator ? {\n    bbox: D(l(e, s.WGS84))\n  } : null;\n}\nfunction K(e) {\n  const t = e.extent?.spatial;\n  if (!t) return null;\n  const n = t.bbox[0],\n    i = 4 === n.length,\n    [r, o] = n,\n    a = i ? void 0 : n[2];\n  return {\n    xmin: r,\n    ymin: o,\n    xmax: i ? n[2] : n[3],\n    ymax: i ? n[3] : n[4],\n    zmin: a,\n    zmax: i ? void 0 : n[5],\n    spatialReference: s.WGS84.toJSON()\n  };\n}\nfunction L(e, t, n) {\n  return e.find(_ref3 => {\n    let {\n      rel: e,\n      type: i\n    } = _ref3;\n    return e === t && i === n;\n  }) ?? e.find(_ref4 => {\n    let {\n      rel: e,\n      type: n\n    } = _ref4;\n    return e === t && !n;\n  });\n}\nfunction A(e, t, n) {\n  if (!n) return;\n  const i = L(n, \"next\", S.geojson),\n    r = o(i?.href)?.query;\n  if (!r) return;\n  const s = o(e).query,\n    a = Object.keys(s ?? {}),\n    l = Object.entries(r).filter(_ref5 => {\n      let [e] = _ref5;\n      return !a.includes(e);\n    }).find(_ref6 => {\n      let [e, n] = _ref6;\n      return T.has(e.toLowerCase()) && Number.parseInt(n, 10) === t;\n    }),\n    c = l?.[0];\n  return c;\n}\n!function (e) {\n  e.json = \"application/json\", e.geojson = \"application/geo+json\", e.openapi = \"application/vnd.oai.openapi+json;version=3.0\";\n}(S || (S = {}));\nexport { x as crsDefault, k as crsPrefix, v as getCollectionDefinition, N as getServerCollections, O as getServerConformance, P as getServerLandingPage, q as getServerOpenApi, C as getSpatialReferenceWkid, R as queryFeatureSetJSON, $ as queryOptimizedFeatureSet };","map":{"version":3,"names":["e","t","n","makeAbsolute","i","addQueryParameters","r","urlToObject","o","s","wgs84","a","project","l","convertToFeatureSet","c","convertToGeometry","u","convertFromGeometry","d","f","validateGeoJSON","m","inferLayerProperties","p","createOptimizedFeatures","g","createDrawingInfo","y","mixAttributes","w","j","kebabDict","b","utc","h","F","getLogger","I","T","Set","k","x","S","v","arguments","length","undefined","links","L","geojson","apiKey","customParameters","signal","href","landingPage","url","limit","token","accept","data","headers","A","N","geometryType","O","fields","P","hasZ","q","C","objectIdField","objectIdFieldName","R","timeInfo","$","find","_ref","name","editable","nullable","objectIdFieldType","unshift","alias","type","_ref2","unknownFields","warn","message","details","field","jsonValues","includes","startTimeField","get","endTimeField","trackIdField","timeReference","timeZoneIANA","drawingInfo","extent","K","paginationParameter","json","query","collections","openapi","exec","groups","authority","code","toLowerCase","GCS_NAD_1927","wkid","WGS84","Number","parseInt","isNaN","collection","layerDefinition","maxRecordCount","queryParameters","spatialReference","supportedCrs","geometry","num","start","timeExtent","where","objectIds","fromJSON","outSpatialReference","isWGS84","W","U","M","G","Z","D","J","z","E","_","B","Q","crs","datetime","V","H","X","attributes","isWebMercator","objectId","Y","toJSON","ee","exceededTransferLimit","features","xmin","ymin","xmax","ymax","end","toISOString","bbox","spatial","zmin","zmax","_ref3","rel","_ref4","Object","keys","entries","filter","_ref5","_ref6","has","crsDefault","crsPrefix","getCollectionDefinition","getServerCollections","getServerConformance","getServerLandingPage","getServerOpenApi","getSpatialReferenceWkid","queryFeatureSetJSON","queryOptimizedFeatureSet"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{makeAbsolute as i,addQueryParameters as r,urlToObject as o}from\"../../core/urlUtils.js\";import s from\"../../geometry/SpatialReference.js\";import{wgs84 as a}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as l}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as c,convertToGeometry as u,convertFromGeometry as d}from\"../graphics/featureConversionUtils.js\";import f from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as m,inferLayerProperties as p,createOptimizedFeatures as g}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as y}from\"../graphics/sources/support/clientSideDefaults.js\";import{mixAttributes as w}from\"../graphics/sources/support/sourceUtils.js\";import j from\"../support/FieldsIndex.js\";import{kebabDict as b}from\"../support/fieldType.js\";import{utc as h}from\"../../time/timeZoneUtils.js\";const F=()=>n.getLogger(\"esri.layers.ogc.ogcFeatureUtils\"),I=\"startindex\",T=new Set([I,\"offset\"]),k=\"http://www.opengis.net/def/crs/\",x=`${k}OGC/1.3/CRS84`;var S;async function v(n,o,s={},a=5){const{links:l}=n,c=L(l,\"items\",S.geojson)||L(l,\"http://www.opengis.net/def/rel/ogc/1.0/items\",S.geojson);if(null==c)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{apiKey:u,customParameters:d,signal:f}=s,g=i(c.href,n.landingPage.url),w={limit:a,...d,token:u},T=r(g,w),k={accept:S.geojson},{data:x}=await e(T,{signal:f,headers:k}),v=A(T,a,x.links)??I;m(x);const N=p(x,{geometryType:o.geometryType}),O=o.fields||N.fields||[],P=null!=o.hasZ?o.hasZ:N.hasZ,q=N.geometryType,C=o.objectIdField||N.objectIdFieldName||\"OBJECTID\";let R=o.timeInfo;const $=O.find((({name:e})=>e===C));if($)$.editable=!1,$.nullable=!1;else{if(!N.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");O.unshift({name:C,alias:C,type:\"number\"===N.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(C!==N.objectIdFieldName){const e=O.find((({name:e})=>e===N.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}O===N.fields&&N.unknownFields.length>0&&F().warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:N.unknownFields}});for(const e of O){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!b.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(R){const e=new j(O);if(R.startTimeField){const t=e.get(R.startTimeField);t?(R.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):R.startTimeField=null}if(R.endTimeField){const t=e.get(R.endTimeField);t?(R.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):R.endTimeField=null}if(R.trackIdField){const t=e.get(R.trackIdField);t?R.trackIdField=t.name:(R.trackIdField=null,F().warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:R}}))}R.timeReference||={timeZoneIANA:h},R.startTimeField||R.endTimeField||(F().warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:R}}),R=void 0)}return{drawingInfo:q?y(q):null,extent:K(n),geometryType:q,fields:O,hasZ:!!P,objectIdField:C,paginationParameter:v,timeInfo:R}}async function N(n,r={}){const{links:o,url:s}=n,a=L(o,\"data\",S.json)||L(o,\"http://www.opengis.net/def/rel/ogc/1.0/data\",S.json);if(null==a)throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:l,customParameters:c,signal:u}=r,d=i(a.href,s),{data:f}=await e(d,{signal:u,headers:{accept:S.json},query:{...c,token:l}});for(const e of f.collections)e.landingPage=n;return f}async function O(n,r={}){const{links:o,url:s}=n,a=L(o,\"conformance\",S.json)||L(o,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",S.json);if(null==a)throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:l,customParameters:c,signal:u}=r,d=i(a.href,s),{data:f}=await e(d,{signal:u,headers:{accept:S.json},query:{...c,token:l}});return f}async function P(t,n={}){const{apiKey:i,customParameters:r,signal:o}=n,{data:s}=await e(t,{signal:o,headers:{accept:S.json},query:{...r,token:i}});return s.url=t,s}async function q(t,n={}){const{links:r,url:o}=t,s=L(r,\"service-desc\",S.openapi);if(null==s)return F().warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:a,customParameters:l,signal:c}=n,u=i(s.href,o),{data:d}=await e(u,{signal:c,headers:{accept:S.openapi},query:{...l,token:a}});return d}function C(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),n=t?.groups;if(!n)return null;const{authority:i,code:r}=n;switch(i.toLowerCase()){case\"ogc\":switch(r.toLowerCase()){case\"crs27\":return s.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return s.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function R(e,t,n){const i=await $(e,t,n);return c(i)}async function $(n,r,o){const{collection:{links:c,landingPage:{url:m}},layerDefinition:p,maxRecordCount:y,queryParameters:{apiKey:b,customParameters:h},spatialReference:F,supportedCrs:I}=n,T=L(c,\"items\",S.geojson)||L(c,\"http://www.opengis.net/def/rel/ogc/1.0/items\",S.geojson);if(null==T)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:x,start:v,timeExtent:N,where:O}=r;if(r.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with object ids are not supported\");const P=s.fromJSON(F),q=r.outSpatialReference??P,C=q.isWGS84?null:W(q,I),R=U(k,I),$=M(N),G=Z(O),D=x??(null==v?y:10),K=0===v?void 0:v,{fields:A,geometryType:J,hasZ:z,objectIdField:E,paginationParameter:_}=p,B=i(T.href,m),{data:Q}=await e(B,{...o,query:{...h,...R,crs:C,datetime:$,query:G,limit:D,[_]:K,token:b},headers:{accept:S.geojson}}),V=g(Q,{geometryType:J,hasZ:z,objectIdField:E}),H=V.length===D&&!!L(Q.links??[],\"next\",S.geojson),X=new j(A);for(const e of V){const t={};w(X,t,e.attributes,!0);for(const e of X.fields)e.nullable&&!(e.name in t)&&(t[e.name]=null);t[E]=e.attributes[E],e.attributes=t}if(!C&&q.isWebMercator)for(const e of V)if(null!=e.geometry&&null!=J){const t=u(e.geometry,J,z,!1);t.spatialReference=s.WGS84,e.geometry=d(l(t,q))}for(const e of V)e.objectId=e.attributes[E];const Y=C||!C&&q.isWebMercator?q.toJSON():a,ee=new f;return ee.exceededTransferLimit=H,ee.features=V,ee.fields=A,ee.geometryType=J,ee.hasZ=z,ee.objectIdFieldName=E,ee.spatialReference=Y,ee}function G(e){return null!=e&&\"extent\"===e.type}function W(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${k}${r}`:null}function D(e){if(null==e)return\"\";const{xmin:t,ymin:n,xmax:i,ymax:r}=e;return`${t},${n},${i},${r}`}function M(e){if(null==e)return null;const{start:t,end:n}=e;return`${null!=t?t.toISOString():\"..\"}/${null!=n?n.toISOString():\"..\"}`}function Z(e){return null!=e&&e&&\"1=1\"!==e?e:null}function U(e,t){if(!G(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:D(e)};const i=W(n,t);return null!=i?{bbox:D(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:D(l(e,s.WGS84))}:null}function K(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,[r,o]=n,a=i?void 0:n[2];return{xmin:r,ymin:o,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:a,zmax:i?void 0:n[5],spatialReference:s.WGS84.toJSON()}}function L(e,t,n){return e.find((({rel:e,type:i})=>e===t&&i===n))??e.find((({rel:e,type:n})=>e===t&&!n))}function A(e,t,n){if(!n)return;const i=L(n,\"next\",S.geojson),r=o(i?.href)?.query;if(!r)return;const s=o(e).query,a=Object.keys(s??{}),l=Object.entries(r).filter((([e])=>!a.includes(e))).find((([e,n])=>T.has(e.toLowerCase())&&Number.parseInt(n,10)===t)),c=l?.[0];return c}!function(e){e.json=\"application/json\",e.geojson=\"application/geo+json\",e.openapi=\"application/vnd.oai.openapi+json;version=3.0\"}(S||(S={}));export{x as crsDefault,k as crsPrefix,v as getCollectionDefinition,N as getServerCollections,O as getServerConformance,P as getServerLandingPage,q as getServerOpenApi,C as getSpatialReferenceWkid,R as queryFeatureSetJSON,$ as queryOptimizedFeatureSet};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}