{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../../core/arrayUtils.js\";\nimport e from \"../../../../core/Collection.js\";\nimport { JSONMap as i } from \"../../../../core/jsonMap.js\";\nimport { isGraphic as n } from \"../../../../support/guards.js\";\nimport r from \"../../engine/webgl/effects/highlight/HighlightGradient.js\";\nimport { MultiHighlightGradient as s } from \"../../engine/webgl/effects/highlight/MultiHighlightGradient.js\";\nimport { getFeaturePipelineState as o } from \"../../engine/webgl/shaderGraph/techniques/featureTechniqueUtils.js\";\nconst l = new i({\n  esriGeometryPoint: \"point\",\n  esriGeometryMultipoint: \"multipoint\",\n  esriGeometryPolyline: \"polyline\",\n  esriGeometryPolygon: \"polygon\",\n  esriGeometryMultiPatch: \"multipatch\",\n  mesh: \"mesh\"\n});\nfunction a(t) {\n  return l.toJSON(t);\n}\nfunction h(t, e, i) {\n  const n = [],\n    r = [];\n  let s = 0,\n    o = 0;\n  for (const l of t) {\n    const t = o;\n    let a = l[0][0],\n      h = l[0][1];\n    n[o++] = a, n[o++] = h;\n    let p = 0;\n    for (let e = 1; e < l.length; ++e) {\n      const t = a,\n        i = h;\n      a = l[e][0], h = l[e][1], p += h * t - a * i, n[o++] = a, n[o++] = h;\n    }\n    e(p / 2), p > 0 ? (t - s > 0 && (i(s, t, n, r), s = t), r.length = 0) : p < 0 && t - s > 0 ? r.push(.5 * (t - s)) : o = t;\n  }\n  o - s > 0 && i(s, o, n, r);\n}\nfunction p(t) {\n  const {\n    bandCount: e,\n    attributeTable: i,\n    colormap: n,\n    pixelType: r\n  } = t.raster.rasterInfo;\n  return 1 === e && (null != i || null != n || \"u8\" === r || \"s8\" === r);\n}\nfunction c(t, e) {\n  return null == e ? (t?.destroy(), null) : (\"single\" === t?.type && Array.isArray(e) && (t.destroy(), t = null), \"multi\" !== t?.type || Array.isArray(e) || (t.destroy(), t = null), t || (t = Array.isArray(e) ? new s() : new r()), Array.isArray(e) ? \"multi\" === t.type && t.setHighlightOptions(e) : \"single\" === t.type && t.setHighlightOptions(e), t);\n}\nfunction g(t, e, i, n) {\n  const {\n      painter: r,\n      highlightGradient: s\n    } = t,\n    {\n      highlight: l\n    } = r.effects;\n  if (!s) return;\n  const a = t.passOptions,\n    h = s.getReasonsWithGradients();\n  for (let p = 0; p < h.length; p++) {\n    const s = {\n      ...t,\n      passOptions: {\n        type: \"highlight\",\n        activeGradient: null != n ? h[n].activeGradient : h[p].activeGradient,\n        activeReasons: h[p].activeReasons,\n        stepType: \"burn\",\n        highlightAll: e\n      }\n    };\n    if (l.bind(s), i(s), p < h.length - 1) {\n      let r = 0;\n      for (let t = p + 1; t < h.length; t++) r |= h[t].activeReasons;\n      i({\n        ...t,\n        passOptions: {\n          type: \"highlight\",\n          activeGradient: null != n ? h[n].activeGradient : h[p].activeGradient,\n          activeReasons: r,\n          stepType: \"clear\",\n          highlightAll: e\n        }\n      });\n    }\n    const a = {\n      ...t,\n      passOptions: {\n        type: \"highlight\",\n        activeGradient: null != n ? h[n].activeGradient : h[p].activeGradient,\n        activeReasons: h[p].activeReasons,\n        stepType: \"draw\",\n        highlightAll: e\n      }\n    };\n    r.setPipelineState(o(t)), r.updatePipelineState(t.context), l.draw(a), l.unbind();\n  }\n  t.passOptions = a;\n}\nfunction u(i) {\n  if (!i) return [];\n  let r = n(i) ? [i] : e.isCollection(i) ? i.toArray() : Array.isArray(i) ? i : [];\n  return r = r?.filter(t), 0 === (r?.length ?? 0) ? [] : r;\n}\nexport { h as analyzeRings, p as canUseMajorityInterpolationOnDataSource, c as createOrReuseHighlightGradient, u as getHighlightGraphics, g as renderHighlight, a as toJSONGeometryType };","map":{"version":3,"names":["isSome","t","e","JSONMap","i","isGraphic","n","r","MultiHighlightGradient","s","getFeaturePipelineState","o","l","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","mesh","a","toJSON","h","p","length","push","bandCount","attributeTable","colormap","pixelType","raster","rasterInfo","c","destroy","type","Array","isArray","setHighlightOptions","g","painter","highlightGradient","highlight","effects","passOptions","getReasonsWithGradients","activeGradient","activeReasons","stepType","highlightAll","bind","setPipelineState","updatePipelineState","context","draw","unbind","u","isCollection","toArray","filter","analyzeRings","canUseMajorityInterpolationOnDataSource","createOrReuseHighlightGradient","getHighlightGraphics","renderHighlight","toJSONGeometryType"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/layers/support/util.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/arrayUtils.js\";import e from\"../../../../core/Collection.js\";import{JSONMap as i}from\"../../../../core/jsonMap.js\";import{isGraphic as n}from\"../../../../support/guards.js\";import r from\"../../engine/webgl/effects/highlight/HighlightGradient.js\";import{MultiHighlightGradient as s}from\"../../engine/webgl/effects/highlight/MultiHighlightGradient.js\";import{getFeaturePipelineState as o}from\"../../engine/webgl/shaderGraph/techniques/featureTechniqueUtils.js\";const l=new i({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\",mesh:\"mesh\"});function a(t){return l.toJSON(t)}function h(t,e,i){const n=[],r=[];let s=0,o=0;for(const l of t){const t=o;let a=l[0][0],h=l[0][1];n[o++]=a,n[o++]=h;let p=0;for(let e=1;e<l.length;++e){const t=a,i=h;a=l[e][0],h=l[e][1],p+=h*t-a*i,n[o++]=a,n[o++]=h}e(p/2),p>0?(t-s>0&&(i(s,t,n,r),s=t),r.length=0):p<0&&t-s>0?r.push(.5*(t-s)):o=t}o-s>0&&i(s,o,n,r)}function p(t){const{bandCount:e,attributeTable:i,colormap:n,pixelType:r}=t.raster.rasterInfo;return 1===e&&(null!=i||null!=n||\"u8\"===r||\"s8\"===r)}function c(t,e){return null==e?(t?.destroy(),null):(\"single\"===t?.type&&Array.isArray(e)&&(t.destroy(),t=null),\"multi\"!==t?.type||Array.isArray(e)||(t.destroy(),t=null),t||(t=Array.isArray(e)?new s:new r),Array.isArray(e)?\"multi\"===t.type&&t.setHighlightOptions(e):\"single\"===t.type&&t.setHighlightOptions(e),t)}function g(t,e,i,n){const{painter:r,highlightGradient:s}=t,{highlight:l}=r.effects;if(!s)return;const a=t.passOptions,h=s.getReasonsWithGradients();for(let p=0;p<h.length;p++){const s={...t,passOptions:{type:\"highlight\",activeGradient:null!=n?h[n].activeGradient:h[p].activeGradient,activeReasons:h[p].activeReasons,stepType:\"burn\",highlightAll:e}};if(l.bind(s),i(s),p<h.length-1){let r=0;for(let t=p+1;t<h.length;t++)r|=h[t].activeReasons;i({...t,passOptions:{type:\"highlight\",activeGradient:null!=n?h[n].activeGradient:h[p].activeGradient,activeReasons:r,stepType:\"clear\",highlightAll:e}})}const a={...t,passOptions:{type:\"highlight\",activeGradient:null!=n?h[n].activeGradient:h[p].activeGradient,activeReasons:h[p].activeReasons,stepType:\"draw\",highlightAll:e}};r.setPipelineState(o(t)),r.updatePipelineState(t.context),l.draw(a),l.unbind()}t.passOptions=a}function u(i){if(!i)return[];let r=n(i)?[i]:e.isCollection(i)?i.toArray():Array.isArray(i)?i:[];return r=r?.filter(t),0===(r?.length??0)?[]:r}export{h as analyzeRings,p as canUseMajorityInterpolationOnDataSource,c as createOrReuseHighlightGradient,u as getHighlightGraphics,g as renderHighlight,a as toJSONGeometryType};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}