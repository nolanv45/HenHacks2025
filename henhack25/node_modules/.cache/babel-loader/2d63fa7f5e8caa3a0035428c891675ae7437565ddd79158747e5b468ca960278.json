{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { create as t } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { clone as o, create as r } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as a } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { computeTranslationToOriginAndRotation as i } from \"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";\nfunction n(r, a, n, s, e) {\n  const h = \"east-north-up\" === n ? o(r) : c(r, a, s),\n    m = t();\n  return i(s, h, m, e), m;\n}\nconst s = 1,\n  e = 5 - s;\nfunction c(t, o, i) {\n  const n = r(),\n    c = t[3],\n    h = 2 ** (Math.ceil(Math.log(c) * Math.LOG2E / e) * e + s);\n  if (i.isGeographic) {\n    const o = h / a(i).radius * 180 / Math.PI,\n      r = Math.round(t[1] / o),\n      s = Math.max(-90, Math.min(90, r * o)),\n      e = o / Math.cos((Math.abs(s) - o / 2) / 180 * Math.PI),\n      c = Math.round(t[0] / e) * e;\n    n[0] = c, n[1] = s;\n  } else {\n    const o = Math.round(t[0] / h),\n      r = Math.round(t[1] / h);\n    n[0] = o * h, n[1] = r * h;\n  }\n  const m = t[2] + o,\n    M = Math.round(m / h);\n  return n[2] = M * h, n;\n}\nexport { n as computeGlobalTransformation, c as getLocalOrigin };","map":{"version":3,"names":["create","t","clone","o","r","getReferenceEllipsoid","a","computeTranslationToOriginAndRotation","i","n","s","e","h","c","m","Math","ceil","log","LOG2E","isGeographic","radius","PI","round","max","min","cos","abs","M","computeGlobalTransformation","getLocalOrigin"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{clone as o,create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as a}from\"../../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as i}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";function n(r,a,n,s,e){const h=\"east-north-up\"===n?o(r):c(r,a,s),m=t();return i(s,h,m,e),m}const s=1,e=5-s;function c(t,o,i){const n=r(),c=t[3],h=2**(Math.ceil(Math.log(c)*Math.LOG2E/e)*e+s);if(i.isGeographic){const o=h/a(i).radius*180/Math.PI,r=Math.round(t[1]/o),s=Math.max(-90,Math.min(90,r*o)),e=o/Math.cos((Math.abs(s)-o/2)/180*Math.PI),c=Math.round(t[0]/e)*e;n[0]=c,n[1]=s}else{const o=Math.round(t[0]/h),r=Math.round(t[1]/h);n[0]=o*h,n[1]=r*h}const m=t[2]+o,M=Math.round(m/h);return n[2]=M*h,n}export{n as computeGlobalTransformation,c as getLocalOrigin};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAC,QAAK,wDAAwD;AAAC,SAAOC,KAAK,IAAIC,CAAC,EAACH,MAAM,IAAII,CAAC,QAAK,wDAAwD;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,QAAK,wCAAwC;AAAC,SAAOC,qCAAqC,IAAIC,CAAC,QAAK,0EAA0E;AAAC,SAASC,CAACA,CAACL,CAAC,EAACE,CAAC,EAACG,CAAC,EAACC,CAAC,EAACC,CAAC,EAAC;EAAC,MAAMC,CAAC,GAAC,eAAe,KAAGH,CAAC,GAACN,CAAC,CAACC,CAAC,CAAC,GAACS,CAAC,CAACT,CAAC,EAACE,CAAC,EAACI,CAAC,CAAC;IAACI,CAAC,GAACb,CAAC,CAAC,CAAC;EAAC,OAAOO,CAAC,CAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACH,CAAC,CAAC,EAACG,CAAC;AAAA;AAAC,MAAMJ,CAAC,GAAC,CAAC;EAACC,CAAC,GAAC,CAAC,GAACD,CAAC;AAAC,SAASG,CAACA,CAACZ,CAAC,EAACE,CAAC,EAACK,CAAC,EAAC;EAAC,MAAMC,CAAC,GAACL,CAAC,CAAC,CAAC;IAACS,CAAC,GAACZ,CAAC,CAAC,CAAC,CAAC;IAACW,CAAC,GAAC,CAAC,KAAGG,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,GAAG,CAACJ,CAAC,CAAC,GAACE,IAAI,CAACG,KAAK,GAACP,CAAC,CAAC,GAACA,CAAC,GAACD,CAAC,CAAC;EAAC,IAAGF,CAAC,CAACW,YAAY,EAAC;IAAC,MAAMhB,CAAC,GAACS,CAAC,GAACN,CAAC,CAACE,CAAC,CAAC,CAACY,MAAM,GAAC,GAAG,GAACL,IAAI,CAACM,EAAE;MAACjB,CAAC,GAACW,IAAI,CAACO,KAAK,CAACrB,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,CAAC;MAACO,CAAC,GAACK,IAAI,CAACQ,GAAG,CAAC,CAAC,EAAE,EAACR,IAAI,CAACS,GAAG,CAAC,EAAE,EAACpB,CAAC,GAACD,CAAC,CAAC,CAAC;MAACQ,CAAC,GAACR,CAAC,GAACY,IAAI,CAACU,GAAG,CAAC,CAACV,IAAI,CAACW,GAAG,CAAChB,CAAC,CAAC,GAACP,CAAC,GAAC,CAAC,IAAE,GAAG,GAACY,IAAI,CAACM,EAAE,CAAC;MAACR,CAAC,GAACE,IAAI,CAACO,KAAK,CAACrB,CAAC,CAAC,CAAC,CAAC,GAACU,CAAC,CAAC,GAACA,CAAC;IAACF,CAAC,CAAC,CAAC,CAAC,GAACI,CAAC,EAACJ,CAAC,CAAC,CAAC,CAAC,GAACC,CAAC;EAAA,CAAC,MAAI;IAAC,MAAMP,CAAC,GAACY,IAAI,CAACO,KAAK,CAACrB,CAAC,CAAC,CAAC,CAAC,GAACW,CAAC,CAAC;MAACR,CAAC,GAACW,IAAI,CAACO,KAAK,CAACrB,CAAC,CAAC,CAAC,CAAC,GAACW,CAAC,CAAC;IAACH,CAAC,CAAC,CAAC,CAAC,GAACN,CAAC,GAACS,CAAC,EAACH,CAAC,CAAC,CAAC,CAAC,GAACL,CAAC,GAACQ,CAAC;EAAA;EAAC,MAAME,CAAC,GAACb,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC;IAACwB,CAAC,GAACZ,IAAI,CAACO,KAAK,CAACR,CAAC,GAACF,CAAC,CAAC;EAAC,OAAOH,CAAC,CAAC,CAAC,CAAC,GAACkB,CAAC,GAACf,CAAC,EAACH,CAAC;AAAA;AAAC,SAAOA,CAAC,IAAImB,2BAA2B,EAACf,CAAC,IAAIgB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}