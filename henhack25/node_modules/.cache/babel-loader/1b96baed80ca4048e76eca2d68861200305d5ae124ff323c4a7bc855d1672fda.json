{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport r from \"./BaseRasterFunction.js\";\nimport o from \"./CompositeBandFunctionArguments.js\";\nimport { compositeBands as n } from \"./pixelUtils.js\";\nlet i = class extends r {\n  constructor() {\n    super(...arguments), this.functionName = \"CompositeBand\", this.functionArguments = null, this.rasterArgumentNames = [\"rasters\"];\n  }\n  _bindSourceRasters() {\n    const {\n        sourceRasterInfos: t\n      } = this,\n      s = t[0];\n    this.outputPixelType = this._getOutputPixelType(s.pixelType);\n    const e = s.clone();\n    if (e.attributeTable = null, e.colormap = null, e.pixelType = this.outputPixelType, e.bandCount = t.map(_ref => {\n      let {\n        bandCount: t\n      } = _ref;\n      return t;\n    }).reduce((t, s) => t + s), t.every(_ref2 => {\n      let {\n        statistics: t\n      } = _ref2;\n      return null != t && t.length;\n    })) {\n      const s = [];\n      t.forEach(_ref3 => {\n        let {\n          statistics: t\n        } = _ref3;\n        return null != t && s.push(...t);\n      }), e.statistics = s;\n    }\n    if (t.every(_ref4 => {\n      let {\n        histograms: t\n      } = _ref4;\n      return null != t && t.length;\n    })) {\n      const s = [];\n      t.forEach(_ref5 => {\n        let {\n          histograms: t\n        } = _ref5;\n        return null != t && s.push(...t);\n      }), e.histograms = s;\n    }\n    e.multidimensionalInfo && e.multidimensionalInfo.variables.forEach(s => {\n      const e = t.map(t => t.multidimensionalInfo?.variables.find(_ref6 => {\n          let {\n            name: t\n          } = _ref6;\n          return t === s.name;\n        })),\n        r = e.map(t => t?.statistics?.length ? t.statistics : null),\n        o = e.map(t => t?.histograms?.length ? t.histograms : null);\n      s.statistics = r.every(t => null != t) ? r.flat() : null, s.histograms = o.every(t => null != t) ? o.flat() : null;\n    }), e.bandCount > 1 && (e.colormap = null, e.attributeTable = null);\n    const r = t.every(t => t.keyProperties.BandProperties?.length) ? t.flatMap(t => t.keyProperties.BandProperties) : void 0;\n    e.keyProperties = {\n      ...e.keyProperties,\n      BandProperties: r\n    }, this.rasterInfo = e;\n    return {\n      success: !0,\n      supportsGPU: e.bandCount <= 3\n    };\n  }\n  _processPixels(t) {\n    const {\n      pixelBlocks: s\n    } = t;\n    if (!s) return null;\n    const e = s?.[0];\n    return null == e ? null : n(s);\n  }\n  _getWebGLParameters() {\n    return {\n      bandCount: this.rasterInfo.bandCount\n    };\n  }\n};\nt([s({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], i.prototype, \"functionName\", void 0), t([s({\n  type: o,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], i.prototype, \"functionArguments\", void 0), t([s()], i.prototype, \"rasterArgumentNames\", void 0), i = t([e(\"esri.layers.support.rasterFunctions.CompositeBandFunction\")], i);\nconst a = i;\nexport { a as default };","map":{"version":3,"names":["_","t","property","s","subclass","e","r","o","compositeBands","n","i","constructor","arguments","functionName","functionArguments","rasterArgumentNames","_bindSourceRasters","sourceRasterInfos","outputPixelType","_getOutputPixelType","pixelType","clone","attributeTable","colormap","bandCount","map","_ref","reduce","every","_ref2","statistics","length","forEach","_ref3","push","_ref4","histograms","_ref5","multidimensionalInfo","variables","find","_ref6","name","flat","keyProperties","BandProperties","flatMap","rasterInfo","success","supportsGPU","_processPixels","pixelBlocks","_getWebGLParameters","json","write","prototype","type","a","default"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/rasterFunctions/CompositeBandFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"./BaseRasterFunction.js\";import o from\"./CompositeBandFunctionArguments.js\";import{compositeBands as n}from\"./pixelUtils.js\";let i=class extends r{constructor(){super(...arguments),this.functionName=\"CompositeBand\",this.functionArguments=null,this.rasterArgumentNames=[\"rasters\"]}_bindSourceRasters(){const{sourceRasterInfos:t}=this,s=t[0];this.outputPixelType=this._getOutputPixelType(s.pixelType);const e=s.clone();if(e.attributeTable=null,e.colormap=null,e.pixelType=this.outputPixelType,e.bandCount=t.map((({bandCount:t})=>t)).reduce(((t,s)=>t+s)),t.every((({statistics:t})=>null!=t&&t.length))){const s=[];t.forEach((({statistics:t})=>null!=t&&s.push(...t))),e.statistics=s}if(t.every((({histograms:t})=>null!=t&&t.length))){const s=[];t.forEach((({histograms:t})=>null!=t&&s.push(...t))),e.histograms=s}e.multidimensionalInfo&&e.multidimensionalInfo.variables.forEach((s=>{const e=t.map((t=>t.multidimensionalInfo?.variables.find((({name:t})=>t===s.name)))),r=e.map((t=>t?.statistics?.length?t.statistics:null)),o=e.map((t=>t?.histograms?.length?t.histograms:null));s.statistics=r.every((t=>null!=t))?r.flat():null,s.histograms=o.every((t=>null!=t))?o.flat():null})),e.bandCount>1&&(e.colormap=null,e.attributeTable=null);const r=t.every((t=>t.keyProperties.BandProperties?.length))?t.flatMap((t=>t.keyProperties.BandProperties)):void 0;e.keyProperties={...e.keyProperties,BandProperties:r},this.rasterInfo=e;return{success:!0,supportsGPU:e.bandCount<=3}}_processPixels(t){const{pixelBlocks:s}=t;if(!s)return null;const e=s?.[0];return null==e?null:n(s)}_getWebGLParameters(){return{bandCount:this.rasterInfo.bandCount}}};t([s({json:{write:!0,name:\"rasterFunction\"}})],i.prototype,\"functionName\",void 0),t([s({type:o,json:{write:!0,name:\"rasterFunctionArguments\"}})],i.prototype,\"functionArguments\",void 0),t([s()],i.prototype,\"rasterArgumentNames\",void 0),i=t([e(\"esri.layers.support.rasterFunctions.CompositeBandFunction\")],i);const a=i;export{a as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}