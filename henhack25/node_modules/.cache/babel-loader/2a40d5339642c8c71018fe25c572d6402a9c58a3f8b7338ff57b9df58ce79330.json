{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { set as t, multiply as e } from \"../../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { create as s } from \"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";\nimport { RasterVFDisplayObject as i } from \"./RasterVFDisplayObject.js\";\nimport { TiledDisplayObject as a } from \"../webgl/TiledDisplayObject.js\";\nclass r extends a {\n  constructor(t, e, s, a, r, l, o = null) {\n    super(t, e, s, a, r, l), this.tileData = new i(o), this.tileData.coordScale = [r, l], this.tileData.once(\"isReady\", () => this.ready());\n  }\n  destroy() {\n    super.destroy(), this.tileData.destroy(), this.tileData = null, this.stage = null;\n  }\n  set stencilRef(t) {\n    this.tileData.stencilRef = t;\n  }\n  get stencilRef() {\n    return this.tileData.stencilRef;\n  }\n  _createTransforms() {\n    return {\n      displayViewScreenMat3: s(),\n      tileMat3: s()\n    };\n  }\n  setTransform(s) {\n    super.setTransform(s);\n    const i = this.resolution / (s.resolution * s.pixelRatio),\n      a = this.transforms.tileMat3,\n      [r, l] = this.tileData.offset,\n      o = [this.x + r * this.resolution, this.y - l * this.resolution],\n      [n, h] = s.toScreenNoRotation([0, 0], o),\n      {\n        symbolTileSize: c\n      } = this.tileData.symbolizerParameters,\n      f = Math.round((this.width - this.tileData.offset[0]) / c) * c,\n      m = Math.round((this.height - this.tileData.offset[1]) / c) * c,\n      D = f / this.rangeX * i,\n      d = m / this.rangeY * i;\n    t(a, D, 0, 0, 0, d, 0, n, h, 1), e(this.transforms.displayViewScreenMat3, s.displayViewMat3, a), this.tileData.transforms.displayViewScreenMat3 = this.transforms.displayViewScreenMat3;\n  }\n  onAttach() {\n    this.tileData.stage = this.stage;\n  }\n  onDetach() {\n    this.tileData.stage = null;\n  }\n}\nexport { r as RasterVFTile };","map":{"version":3,"names":["set","t","multiply","e","create","s","RasterVFDisplayObject","i","TiledDisplayObject","a","r","constructor","l","o","tileData","coordScale","once","ready","destroy","stage","stencilRef","_createTransforms","displayViewScreenMat3","tileMat3","setTransform","resolution","pixelRatio","transforms","offset","x","y","n","h","toScreenNoRotation","symbolTileSize","c","symbolizerParameters","f","Math","round","width","m","height","D","rangeX","d","rangeY","displayViewMat3","onAttach","onDetach","RasterVFTile"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as t,multiply as e}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{RasterVFDisplayObject as i}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as a}from\"../webgl/TiledDisplayObject.js\";class r extends a{constructor(t,e,s,a,r,l,o=null){super(t,e,s,a,r,l),this.tileData=new i(o),this.tileData.coordScale=[r,l],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{displayViewScreenMat3:s(),tileMat3:s()}}setTransform(s){super.setTransform(s);const i=this.resolution/(s.resolution*s.pixelRatio),a=this.transforms.tileMat3,[r,l]=this.tileData.offset,o=[this.x+r*this.resolution,this.y-l*this.resolution],[n,h]=s.toScreenNoRotation([0,0],o),{symbolTileSize:c}=this.tileData.symbolizerParameters,f=Math.round((this.width-this.tileData.offset[0])/c)*c,m=Math.round((this.height-this.tileData.offset[1])/c)*c,D=f/this.rangeX*i,d=m/this.rangeY*i;t(a,D,0,0,0,d,0,n,h,1),e(this.transforms.displayViewScreenMat3,s.displayViewMat3,a),this.tileData.transforms.displayViewScreenMat3=this.transforms.displayViewScreenMat3}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}