{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { bidiText as e } from \"../../core/BidiText.js\";\nimport has from \"../../core/has.js\";\nimport { clone as t } from \"../../core/lang.js\";\nimport r from \"../../core/Logger.js\";\nimport o from \"../../core/RandomLCG.js\";\nimport { px2pt as a } from \"../../core/screenUtils.js\";\nimport { create as s, expandPointInPlace as i } from \"../../geometry/support/aaBoundingRect.js\";\nimport { getBoundsXY as n } from \"../../geometry/support/boundsUtils.js\";\nimport l from \"../Font.js\";\nimport { Placement as c } from \"./CIMPlacements.js\";\nimport { EnvDrawHelper as m, Transformation as f, CanvasDrawHelper as y, lineGapType2LineHeight as h } from \"./CIMSymbolDrawHelper.js\";\nimport { defaultCIMValues as u } from \"./defaultCIMValues.js\";\nimport { LineCapStyle as M, LineJoinStyle as p, TextureFilter as S, ExtremityPlacement as d, BlockProgression as g, FontEffects as b, FontEncoding as C, FontType as x, GlyphHinting as I, TextReadingDirection as k, VerticalGlyphOrientation as w, BillBoardMode as P, LineDashEnding as L } from \"./enums.js\";\nimport { getNumericValue as F, fromCIMFontStyle as z, fromCIMFontDecoration as D, isGeometryEngineRequired as E, importGeometryEngine as T } from \"./utils.js\";\nimport { defaultPolylineSymbol2D as G } from \"../support/defaults.js\";\nimport { cInfinity as v } from \"../../views/2d/engine/vectorTiles/GeometryUtils.js\";\nimport { glyphSize as A, magicLabelLineHeight as R, randomInsidePolygonTextureSize as j } from \"../../views/2d/engine/webgl/definitions.js\";\nimport { shapeGlyphs as B } from \"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";\nimport { roundPtToWholePixel as X, getLineWidth as V } from \"../../views/2d/layers/graphics/graphicsUtils.js\";\nconst N = Math.PI,\n  Y = N / 2,\n  _ = Math.PI / 180,\n  U = 96 / 72,\n  q = 1.4142135623730951,\n  H = 2,\n  O = 4,\n  W = () => r.getLogger(\"esri.symbols.cim.CIMSymbolHelper\");\nfunction $(e) {\n  let t;\n  switch (e.type) {\n    case \"cim\":\n      return e.data;\n    case \"web-style\":\n      return e;\n    case \"simple-marker\":\n      {\n        const r = te.fromSimpleMarker(e);\n        if (!r) throw new Error(\"InternalError: Cannot convert symbol to CIM\");\n        t = r;\n        break;\n      }\n    case \"picture-marker\":\n      t = te.fromPictureMarker(e);\n      break;\n    case \"simple-line\":\n      t = te.fromSimpleLineSymbol(e);\n      break;\n    case \"simple-fill\":\n      t = te.fromSimpleFillSymbol(e);\n      break;\n    case \"picture-fill\":\n      t = te.fromPictureFillSymbol(e);\n      break;\n    case \"text\":\n      t = te.fromTextSymbol(e);\n  }\n  return {\n    type: \"CIMSymbolReference\",\n    symbol: t\n  };\n}\nfunction J(e, t, r) {\n  switch (t.type) {\n    case \"CIMSymbolReference\":\n      return J(e, t.symbol, r);\n    case \"CIMPointSymbol\":\n      null == r && (r = {\n        x: 0,\n        y: 0\n      }), e.drawSymbol(t, r);\n      break;\n    case \"CIMLineSymbol\":\n      null == r && (r = {\n        paths: [[[0, 0], [10, 0]]]\n      }), e.drawSymbol(t, r);\n      break;\n    case \"CIMPolygonSymbol\":\n      null == r && (r = {\n        rings: [[[0, 0], [0, 10], [10, 10], [10, 0], [0, 0]]]\n      }), e.drawSymbol(t, r);\n      break;\n    case \"CIMTextSymbol\":\n      {\n        const r = {\n          x: 0,\n          y: 0\n        };\n        e.drawSymbol(t, r);\n        break;\n      }\n    case \"CIMVectorMarker\":\n      {\n        const r = new c();\n        e.drawMarker(t, r);\n        break;\n      }\n  }\n  return e.envelope();\n}\nfunction K(e) {\n  if (!e) return 0;\n  switch (e.type) {\n    case \"CIMMarkerPlacementAlongLineSameSize\":\n    case \"CIMMarkerPlacementAlongLineRandomSize\":\n    case \"CIMMarkerPlacementAtExtremities\":\n    case \"CIMMarkerPlacementAtMeasuredUnits\":\n    case \"CIMMarkerPlacementAtRatioPositions\":\n    case \"CIMMarkerPlacementOnLine\":\n    case \"CIMMarkerPlacementOnVertices\":\n      return Math.abs(e.offset);\n    default:\n      return 0;\n  }\n}\nfunction Q(e) {\n  if (!e) return 0;\n  switch (e.type) {\n    case \"CIMGeometricEffectArrow\":\n      return Math.abs(.5 * e.width);\n    case \"CIMGeometricEffectBuffer\":\n      return Math.abs(e.size);\n    case \"CIMGeometricEffectControlMeasureLine\":\n      return 500;\n    case \"CIMGeometricEffectExtension\":\n    case \"CIMGeometricEffectRadial\":\n      return Math.abs(e.length);\n    case \"CIMGeometricEffectJog\":\n      return Math.abs(.5 * e.length);\n    case \"CIMGeometricEffectMove\":\n      return Math.max(Math.abs(F(e.offsetX)), Math.abs(F(e.offsetY)));\n    case \"CIMGeometricEffectOffset\":\n    case \"CIMGeometricEffectOffsetTangent\":\n      return Math.abs(e.offset);\n    case \"CIMGeometricEffectRegularPolygon\":\n      return Math.abs(e.radius);\n    case \"CIMGeometricEffectRotate\":\n    case \"CIMGeometricEffectScale\":\n    default:\n      return 0;\n    case \"CIMGeometricEffectTaperedPolygon\":\n      return .5 * Math.max(Math.abs(e.fromWidth), Math.abs(e.toWidth));\n    case \"CIMGeometricEffectWave\":\n      return Math.abs(e.amplitude);\n    case \"CIMGeometricEffectDonut\":\n      return Math.abs(e.width);\n  }\n}\nfunction Z(e) {\n  if (!e) return 0;\n  let t = 0;\n  for (const r of e) t += Q(r);\n  return t;\n}\nclass ee {\n  static getSymbolInflateSize(e, t, r, o, a) {\n    return e || (e = [0, 0, 0, 0]), t ? this._getInflateSize(e, t, r, o, a) : e;\n  }\n  static safeSize(e) {\n    const t = Math.max(Math.abs(e[0]), Math.abs(e[2])),\n      r = Math.max(Math.abs(e[1]), Math.abs(e[3]));\n    return Math.sqrt(t * t + r * r);\n  }\n  static _vectorMarkerBounds(e, t, r, o) {\n    let a = !0;\n    const i = s();\n    if (t?.markerGraphics) for (const s of t.markerGraphics) {\n      const t = [0, 0, 0, 0];\n      s.geometry && (n(i, s.geometry), t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 0, this.getSymbolInflateSize(t, s.symbol, r, 0, o), i[0] += t[0], i[1] += t[1], i[2] += t[2], i[3] += t[3], a ? (e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], a = !1) : (e[0] = Math.min(e[0], i[0]), e[1] = Math.min(e[1], i[1]), e[2] = Math.max(e[2], i[2]), e[3] = Math.max(e[3], i[3])));\n    }\n    return e;\n  }\n  static _getInflateSize(e, t, r, o, a) {\n    if (ye(t)) {\n      const s = this._getLayersInflateSize(e, t.symbolLayers, r, o, a),\n        i = Z(t.effects);\n      return i > 0 && (s[0] -= i, s[1] -= i, s[2] += i, s[3] += i), s;\n    }\n    return this._getTextInflatedSize(e, t, a);\n  }\n  static _getLayersInflateSize(e, t, r, o, a) {\n    let n = !0;\n    if (!t) return e;\n    for (const l of t) {\n      if (!l) continue;\n      let t = [0, 0, 0, 0];\n      switch (l.type) {\n        case \"CIMSolidFill\":\n        case \"CIMPictureFill\":\n        case \"CIMHatchFill\":\n        case \"CIMGradientFill\":\n          break;\n        case \"CIMSolidStroke\":\n        case \"CIMPictureStroke\":\n        case \"CIMGradientStroke\":\n          {\n            const e = l;\n            let r = e.width;\n            null != r && (e.capStyle === M.Square || e.joinStyle === p.Miter ? r /= q : r /= 2, t[0] = -r, t[1] = -r, t[2] = r, t[3] = r);\n            break;\n          }\n        case \"CIMCharacterMarker\":\n        case \"CIMVectorMarker\":\n        case \"CIMPictureMarker\":\n          {\n            const e = l;\n            if (\"CIMVectorMarker\" === l.type) {\n              const e = l;\n              if (t = this._vectorMarkerBounds(t, e, r, a), e.frame) {\n                const r = (e.frame.xmin + e.frame.xmax) / 2,\n                  o = (e.frame.ymin + e.frame.ymax) / 2;\n                if (t[0] -= r, t[1] -= o, t[2] -= r, t[3] -= o, null != e.size) {\n                  const r = e.size / (e.frame.ymax - e.frame.ymin);\n                  t[0] *= r, t[1] *= r, t[2] *= r, t[3] *= r;\n                }\n              }\n            } else if (\"CIMPictureMarker\" === l.type) {\n              const o = l,\n                a = r.getResource(o.url);\n              let s = 1;\n              if (null != a && a.height && (s = a.width / a.height), null != e.size) {\n                const r = e.size / 2,\n                  a = e.size * s * o.scaleX / 2;\n                t = [-a, -r, a, r];\n              }\n            } else if (null != e.size) {\n              const r = e.size / 2;\n              t = [-r, -r, r, r];\n            }\n            if (e.anchorPoint) {\n              let r, o;\n              \"Absolute\" === e.anchorPointUnits ? (r = e.anchorPoint.x, o = e.anchorPoint.y) : (r = e.anchorPoint.x * (t[2] - t[0]), o = e.anchorPoint.y * (t[3] - t[1]));\n              const a = 1.25 * Math.sqrt(r * r + o * o);\n              t[0] -= a, t[1] -= a, t[2] += a, t[3] += a;\n            }\n            let n = F(e.rotation);\n            if (e.rotateClockwise && (n = -n), o && (n -= o), n) {\n              const e = _ * n,\n                r = Math.cos(e),\n                o = Math.sin(e),\n                a = s([v, v, -v, -v]);\n              i(a, [t[0] * r - t[1] * o, t[0] * o + t[1] * r]), i(a, [t[0] * r - t[3] * o, t[0] * o + t[3] * r]), i(a, [t[2] * r - t[1] * o, t[2] * o + t[1] * r]), i(a, [t[2] * r - t[3] * o, t[2] * o + t[3] * r]), t = a;\n            }\n            let c = F(e.offsetX),\n              m = F(e.offsetY);\n            if (o) {\n              const e = _ * o,\n                t = Math.cos(e),\n                r = Math.sin(e),\n                a = c * r + m * t;\n              c = c * t - m * r, m = a;\n            }\n            t[0] += c, t[1] += m, t[2] += c, t[3] += m;\n            const f = K(e.markerPlacement);\n            f > 0 && (t[0] -= f, t[1] -= f, t[2] += f, t[3] += f);\n            break;\n          }\n      }\n      const c = Z(l.effects);\n      c > 0 && (t[0] -= c, t[1] -= c, t[2] += c, t[3] += c), n ? (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], n = !1) : (e[0] = Math.min(e[0], t[0]), e[1] = Math.min(e[1], t[1]), e[2] = Math.max(e[2], t[2]), e[3] = Math.max(e[3], t[3]));\n    }\n    return e;\n  }\n  static _getTextInflatedSize(e, t, r) {\n    const o = X(t.height ?? u.CIMTextSymbol.height);\n    if (e[0] = -o / 2, e[1] = -o / 2, e[2] = o / 2, e[3] = o / 2, !r) return e;\n    const a = r.get(t);\n    if (!a) return e;\n    if (!a.glyphMosaicItems.glyphs.length) return e;\n    const {\n        lineGapType: s,\n        lineGap: i\n      } = t,\n      n = s ? h(s, i ?? 0, o) : 0,\n      l = \"CIMBackgroundCallout\" === t.callout?.type,\n      c = B(a.glyphMosaicItems, {\n        scale: o / A,\n        angle: F(t.angle),\n        xOffset: F(t.offsetX),\n        yOffset: F(t.offsetY),\n        horizontalAlignment: t.horizontalAlignment,\n        verticalAlignment: t.verticalAlignment,\n        maxLineWidth: V(t.lineWidth),\n        lineHeight: R * Math.max(.25, Math.min(n || 1, 4)),\n        decoration: t.font.decoration || \"none\",\n        useCIMAngleBehavior: !0,\n        hasBackground: l\n      }).boundsT,\n      m = Math.sqrt(c.width * c.width + c.height * c.height);\n    return e[0] -= c.x + m, e[1] -= c.y - m, e[2] += c.x + m, e[3] += -c.y + m, e;\n  }\n}\nclass te {\n  static getEnvelope(e, t, r) {\n    if (!e) return null;\n    const o = new m(r);\n    if (Array.isArray(e)) {\n      let r;\n      for (const a of e) r ? r.union(J(o, a, t)) : r = J(o, a, t);\n      return r;\n    }\n    return J(o, e, t);\n  }\n  static getTextureInfo(e, t, r, o, a) {\n    const s = o ?? this.getEnvelope(e, null, t);\n    if (!s) return [0, 0, 0, 0, 1];\n    const i = Math.max(s.width, s.height) * U;\n    let n = null != a ? Math.max(a / i, 1) : 1;\n    n *= U, s.x *= n, s.y *= n, s.width *= n, s.height *= n, s.width = Math.max(Math.ceil(s.x + s.width) - Math.floor(s.x), 1) - 1, s.height = Math.max(Math.ceil(s.y + s.height) - Math.floor(s.y), 1) - 1;\n    let l = s.x + .5 * s.width,\n      c = s.y + .5 * s.height;\n    return l += s.x - Math.floor(s.x), c += s.y - Math.floor(s.y), o || (s.width += r, s.height += r, l += r / 2, c += r / 2), [s.width, s.height, l, c, n];\n  }\n  static getTextureAnchor(e, t, r) {\n    const [o, a, s, i, n] = this.getTextureInfo(e, t, H, null, r);\n    return [-s / o, -i / a, a / n * U];\n  }\n  static rasterize(e, t, r, o) {\n    let a = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !0;\n    let s = arguments.length > 5 ? arguments[5] : undefined;\n    const [i, n, l, m, h] = this.getTextureInfo(t, o, H, r, s);\n    e.width = i, e.height = n;\n    const u = e.getContext(\"2d\", {\n        willReadFrequently: !0\n      }),\n      M = f.createScale(h, -h);\n    M.translate(.5 * i - l, .5 * n + m);\n    const p = new y(u, o, M);\n    switch (t.type) {\n      case \"CIMPointSymbol\":\n        {\n          const e = {\n            type: \"point\",\n            x: 0,\n            y: 0\n          };\n          p.drawSymbol(t, e);\n          break;\n        }\n      case \"CIMVectorMarker\":\n        {\n          const e = new c();\n          p.drawMarker(t, e);\n          break;\n        }\n    }\n    const S = u.getImageData(0, 0, e.width, e.height),\n      d = new Uint8Array(S.data);\n    if (a) {\n      let e;\n      for (let t = 0; t < d.length; t += 4) e = d[t + 3] / 255, d[t] = d[t] * e, d[t + 1] = d[t + 1] * e, d[t + 2] = d[t + 2] * e;\n    }\n    return [d, e.width, e.height, -l / i, -m / n];\n  }\n  static fromTextSymbol(e) {\n    const {\n      text: t\n    } = e;\n    return {\n      type: \"CIMPointSymbol\",\n      symbolLayers: [{\n        type: \"CIMVectorMarker\",\n        enable: !0,\n        anchorPointUnits: \"Relative\",\n        dominantSizeAxis3D: \"Y\",\n        size: 10,\n        billboardMode3D: \"FaceNearPlane\",\n        frame: {\n          xmin: -5,\n          ymin: -5,\n          xmax: 5,\n          ymax: 5\n        },\n        markerGraphics: [{\n          type: \"CIMMarkerGraphic\",\n          geometry: {\n            x: 0,\n            y: 0\n          },\n          symbol: te.createCIMTextSymbolfromTextSymbol(e),\n          textString: t\n        }],\n        scaleSymbolsProportionally: !0,\n        respectFrame: !0\n      }],\n      scaleX: 1,\n      angleAlignment: \"Display\"\n    };\n  }\n  static fromPictureFillSymbol(e) {\n    const {\n        height: t,\n        outline: r,\n        width: o,\n        xoffset: a,\n        xscale: s,\n        yoffset: i,\n        yscale: n\n      } = e,\n      l = [],\n      c = {\n        type: \"CIMPolygonSymbol\",\n        symbolLayers: l\n      };\n    if (r) {\n      const e = pe(r);\n      e && l.push(e);\n    }\n    let m = e.url;\n    \"esriPFS\" === e.type && e.imageData && (m = e.imageData);\n    const f = \"angle\" in e ? e.angle ?? 0 : 0,\n      y = (o ?? 0) * (s || 1),\n      h = (t ?? 0) * (n || 1);\n    return l.push({\n      type: \"CIMPictureFill\",\n      invertBackfaceTexture: !1,\n      scaleX: 1,\n      textureFilter: S.Picture,\n      tintColor: null,\n      url: m,\n      height: h,\n      width: y,\n      offsetX: F(a),\n      offsetY: F(i),\n      rotation: F(-f),\n      colorSubstitutions: null\n    }), c;\n  }\n  static fromSimpleFillSymbol(e) {\n    const {\n        color: r,\n        style: o,\n        outline: s\n      } = e,\n      i = [],\n      n = {\n        type: \"CIMPolygonSymbol\",\n        symbolLayers: i\n      };\n    if (s) {\n      const e = pe(s);\n      e && i.push(e);\n    }\n    if (o && \"solid\" !== o && \"none\" !== o && \"esriSFSSolid\" !== o && \"esriSFSNull\" !== o) {\n      const e = {\n        type: \"CIMLineSymbol\",\n        symbolLayers: [{\n          type: \"CIMSolidStroke\",\n          color: ne(r),\n          capStyle: M.Butt,\n          joinStyle: p.Miter,\n          width: .75\n        }]\n      };\n      let s = 0;\n      const n = a(ue(o) ? 8 : 10);\n      switch (o) {\n        case \"vertical\":\n        case \"esriSFSVertical\":\n          s = 90;\n          break;\n        case \"forward-diagonal\":\n        case \"esriSFSForwardDiagonal\":\n        case \"diagonal-cross\":\n        case \"esriSFSDiagonalCross\":\n          s = -45;\n          break;\n        case \"backward-diagonal\":\n        case \"esriSFSBackwardDiagonal\":\n          s = 45;\n          break;\n        case \"cross\":\n        case \"esriSFSCross\":\n          s = 0;\n      }\n      i.push({\n        type: \"CIMHatchFill\",\n        lineSymbol: e,\n        offsetX: 0,\n        offsetY: 0,\n        rotation: s,\n        separation: n\n      }), \"cross\" === o || \"esriSFSCross\" === o ? i.push({\n        type: \"CIMHatchFill\",\n        lineSymbol: t(e),\n        offsetX: 0,\n        offsetY: 0,\n        rotation: 90,\n        separation: n\n      }) : \"diagonal-cross\" !== o && \"esriSFSDiagonalCross\" !== o || i.push({\n        type: \"CIMHatchFill\",\n        lineSymbol: t(e),\n        offsetX: 0,\n        offsetY: 0,\n        rotation: 45,\n        separation: n\n      });\n    } else !o || \"solid\" !== o && \"esriSFSSolid\" !== o || i.push({\n      type: \"CIMSolidFill\",\n      enable: !0,\n      color: ne(r)\n    });\n    return n;\n  }\n  static fromSimpleLineSymbol(e) {\n    const {\n      cap: t,\n      color: r,\n      join: o,\n      marker: a,\n      miterLimit: s,\n      style: i,\n      width: n\n    } = e;\n    let l = null;\n    \"solid\" !== i && \"none\" !== i && \"esriSLSSolid\" !== i && \"esriSLSNull\" !== i && (l = [{\n      type: \"CIMGeometricEffectDashes\",\n      dashTemplate: fe(i, t),\n      lineDashEnding: \"NoConstraint\",\n      scaleDash: !0,\n      offsetAlongLine: null\n    }]);\n    const c = [];\n    if (a) {\n      let e;\n      switch (a.placement) {\n        case \"begin-end\":\n          e = d.Both;\n          break;\n        case \"begin\":\n          e = d.JustBegin;\n          break;\n        case \"end\":\n          e = d.JustEnd;\n          break;\n        default:\n          e = d.None;\n      }\n      const t = te.fromSimpleMarker(a, n, r).symbolLayers[0];\n      t.markerPlacement = {\n        type: \"CIMMarkerPlacementAtExtremities\",\n        placePerPart: !1,\n        angleToLine: !0,\n        offset: 0,\n        extremityPlacement: e,\n        offsetAlongLine: 0\n      }, c.push(t);\n    }\n    return c.push({\n      type: \"CIMSolidStroke\",\n      color: \"none\" !== i && \"esriSLSNull\" !== i ? ne(r) : [0, 0, 0, 0],\n      capStyle: oe(t),\n      joinStyle: ae(o),\n      miterLimit: s,\n      width: n,\n      effects: l\n    }), {\n      type: \"CIMLineSymbol\",\n      symbolLayers: c\n    };\n  }\n  static fromPictureMarker(e) {\n    const {\n      angle: t,\n      height: r,\n      width: o,\n      xoffset: a,\n      yoffset: s\n    } = e;\n    let i = e.url;\n    return \"esriPMS\" === e.type && e.imageData && (i = e.imageData), {\n      type: \"CIMPointSymbol\",\n      symbolLayers: [{\n        type: \"CIMPictureMarker\",\n        invertBackfaceTexture: !1,\n        scaleX: 1,\n        textureFilter: S.Picture,\n        tintColor: null,\n        url: i,\n        size: r,\n        width: o,\n        offsetX: F(a),\n        offsetY: F(s),\n        rotation: F(-t)\n      }]\n    };\n  }\n  static createCIMTextSymbolfromTextSymbol(t) {\n    const {\n      angle: r,\n      color: o,\n      font: a,\n      haloColor: s,\n      haloSize: i,\n      horizontalAlignment: n,\n      kerning: l,\n      lineWidth: c,\n      text: m,\n      verticalAlignment: f,\n      xoffset: y,\n      yoffset: h,\n      backgroundColor: u,\n      borderLineColor: M,\n      borderLineSize: p\n    } = t;\n    let S, d, L, z, D, E;\n    a && (S = a.family, d = a.style, L = a.weight, z = a.size, D = a.decoration);\n    let T = !1;\n    if (m) {\n      T = e(m)[1];\n    }\n    return (u || p) && (E = {\n      type: \"CIMBackgroundCallout\",\n      margin: null,\n      backgroundSymbol: {\n        type: \"CIMPolygonSymbol\",\n        symbolLayers: [{\n          type: \"CIMSolidFill\",\n          color: ne(u)\n        }, {\n          type: \"CIMSolidStroke\",\n          color: ne(M),\n          width: p\n        }]\n      },\n      accentBarSymbol: null,\n      gap: null,\n      leaderLineSymbol: null,\n      lineStyle: null\n    }), {\n      type: \"CIMTextSymbol\",\n      angle: r,\n      blockProgression: g.BTT,\n      depth3D: 1,\n      extrapolateBaselines: !0,\n      fontEffects: b.Normal,\n      fontEncoding: C.Unicode,\n      fontFamilyName: S || \"Arial\",\n      fontStyleName: le(d, L),\n      fontType: x.Unspecified,\n      haloSize: i,\n      height: z,\n      hinting: I.Default,\n      horizontalAlignment: se(n ?? \"center\"),\n      kerning: l,\n      letterWidth: 100,\n      ligatures: !0,\n      lineGapType: \"Multiple\",\n      lineWidth: c,\n      offsetX: F(y),\n      offsetY: F(h),\n      strikethrough: \"line-through\" === D,\n      underline: \"underline\" === D,\n      symbol: {\n        type: \"CIMPolygonSymbol\",\n        symbolLayers: [{\n          type: \"CIMSolidFill\",\n          enable: !0,\n          color: ne(o)\n        }]\n      },\n      haloSymbol: {\n        type: \"CIMPolygonSymbol\",\n        symbolLayers: [{\n          type: \"CIMSolidFill\",\n          enable: !0,\n          color: ne(s)\n        }]\n      },\n      shadowColor: [0, 0, 0, 255],\n      shadowOffsetX: 1,\n      shadowOffsetY: 1,\n      textCase: \"Normal\",\n      textDirection: T ? k.RTL : k.LTR,\n      verticalAlignment: ie(f ?? \"baseline\"),\n      verticalGlyphOrientation: w.Right,\n      wordSpacing: 100,\n      billboardMode3D: P.FaceNearPlane,\n      callout: E\n    };\n  }\n  static createPictureMarkerRasterizationParam(e) {\n    const {\n        angle: t,\n        height: r,\n        width: o,\n        xoffset: a,\n        yoffset: s\n      } = e,\n      i = e.url ?? e.source?.url ?? e.source?.imageData;\n    return i ? {\n      type: \"sprite-rasterization-param\",\n      overrides: [],\n      resource: {\n        type: \"CIMPictureMarker\",\n        invertBackfaceTexture: !1,\n        scaleX: 1,\n        textureFilter: S.Picture,\n        tintColor: null,\n        url: i,\n        size: r,\n        width: o,\n        offsetX: F(a),\n        offsetY: F(s),\n        rotation: F(-t)\n      }\n    } : null;\n  }\n  static createPictureFillRasterizationParam(e) {\n    const {\n      width: t,\n      height: r,\n      xoffset: o,\n      yoffset: a,\n      url: s\n    } = e;\n    return s ? {\n      type: \"sprite-rasterization-param\",\n      overrides: [],\n      resource: {\n        type: \"CIMPictureFill\",\n        scaleX: 1,\n        textureFilter: S.Picture,\n        tintColor: null,\n        url: s,\n        width: t,\n        height: r,\n        offsetX: F(o),\n        offsetY: F(a),\n        rotation: 0\n      }\n    } : null;\n  }\n  static fromSimpleMarker(e, t, r) {\n    const {\n        style: o\n      } = e,\n      a = e.color ?? r;\n    if (\"path\" === o || \"esriSMSPath\" === o) {\n      const t = [];\n      if (\"outline\" in e && e.outline) {\n        const r = e.outline;\n        t.push({\n          type: \"CIMSolidStroke\",\n          enable: !0,\n          width: r.width,\n          color: ne(r.color),\n          path: e.path\n        });\n      }\n      t.push({\n        type: \"CIMSolidFill\",\n        enable: !0,\n        color: ne(a),\n        path: e.path\n      });\n      const [r, o] = he(\"square\");\n      return {\n        type: \"CIMPointSymbol\",\n        symbolLayers: [{\n          type: \"CIMVectorMarker\",\n          enable: !0,\n          rotation: -F(e.angle),\n          size: F(e.size || 6),\n          offsetX: F(e.xoffset),\n          offsetY: F(e.yoffset),\n          scaleSymbolsProportionally: !1,\n          frame: r,\n          markerGraphics: [{\n            type: \"CIMMarkerGraphic\",\n            geometry: o,\n            symbol: {\n              type: \"CIMPolygonSymbol\",\n              symbolLayers: t\n            }\n          }]\n        }]\n      };\n    }\n    const s = [];\n    let i,\n      n,\n      l = e.size;\n    if (\"outline\" in e && e.outline && \"none\" !== e.outline.style && \"esriSLSNull\" !== e.outline.style) {\n      const t = e.outline,\n        r = \"solid\" !== t.style && \"esriSLSSolid\" !== t.style;\n      [i, n] = r ? he(o, e.size) : he(o);\n      const a = t.width ?? G.width;\n      if (r) {\n        const t = a / e.size,\n          r = (i.xmax - i.xmin) * t / 2,\n          o = (i.ymax - i.ymin) * t / 2;\n        i.xmin -= r, i.xmax += r, i.ymin -= o, i.ymax += o, l && (l += a);\n      }\n      const c = \"cross\" !== e.style && \"x\" !== e.style || \"dot\" === e?.outline.style || \"short-dot\" === e?.outline.style ? L.HalfGap : L.FullPattern,\n        m = r ? [{\n          type: \"CIMGeometricEffectAddControlPoints\"\n        }, {\n          type: \"CIMGeometricEffectDashes\",\n          dashTemplate: fe(t.style, null).map(e => t.width && t.width > 0 ? e * t.width : e),\n          lineDashEnding: c,\n          controlPointEnding: L.FullPattern\n        }] : void 0;\n      s.push({\n        type: \"CIMSolidStroke\",\n        capStyle: r ? M.Round : M.Butt,\n        enable: !0,\n        width: a,\n        color: ne(t.color),\n        effects: m\n      });\n    } else !t || \"line-marker\" !== e.type || \"cross\" !== e.style && \"x\" !== e.style ? [i, n] = he(o) : ([i, n] = he(o), s.push({\n      type: \"CIMSolidStroke\",\n      enable: !0,\n      width: t,\n      color: ne(a)\n    }));\n    s.push({\n      type: \"CIMSolidFill\",\n      enable: !0,\n      color: ne(a)\n    });\n    const c = {\n      type: \"CIMPolygonSymbol\",\n      symbolLayers: s\n    };\n    return {\n      type: \"CIMPointSymbol\",\n      symbolLayers: [{\n        type: \"CIMVectorMarker\",\n        enable: !0,\n        rotation: F(-e.angle),\n        size: F(l || 6 * t),\n        offsetX: F(e.xoffset),\n        offsetY: F(e.yoffset),\n        scaleSymbolsProportionally: !1,\n        frame: i,\n        markerGraphics: [{\n          type: \"CIMMarkerGraphic\",\n          geometry: n,\n          symbol: c\n        }]\n      }]\n    };\n  }\n  static fromCIMHatchFill(e, r) {\n    const o = r * (e.separation ?? u.CIMHatchFill.separation),\n      a = o / 2,\n      s = t(e.lineSymbol);\n    s.symbolLayers?.forEach(e => {\n      switch (e.type) {\n        case \"CIMSolidStroke\":\n          null != e.width && (e.width *= r), e.effects?.forEach(e => {\n            if (\"CIMGeometricEffectDashes\" === e.type) {\n              const t = e.dashTemplate;\n              e.dashTemplate = t?.map(e => e * r);\n            }\n          });\n          break;\n        case \"CIMVectorMarker\":\n          {\n            null != e.size && (e.size *= r);\n            const t = e.markerPlacement;\n            null != t && \"placementTemplate\" in t && (t.placementTemplate = t.placementTemplate.map(e => e * r));\n            break;\n          }\n      }\n    });\n    let i = this._getLineSymbolPeriod(s) || O;\n    for (; i < O;) i *= 2;\n    const n = i / 2;\n    return {\n      type: \"CIMVectorMarker\",\n      frame: {\n        xmin: -n,\n        xmax: n,\n        ymin: -a,\n        ymax: a\n      },\n      markerGraphics: [{\n        type: \"CIMMarkerGraphic\",\n        geometry: {\n          paths: [[[-n, 0], [n, 0]]]\n        },\n        symbol: s\n      }],\n      size: o\n    };\n  }\n  static fetchResources(e, t, r) {\n    let o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    return e && t ? (re(e, e => {\n      Me(e, t, r), \"url\" in e && e.url && r.push(t.fetchResource(e.url, {\n        signal: o\n      }));\n    }), r) : r;\n  }\n  static fetchFonts(e, t, r) {\n    if (e && t) if (\"symbolLayers\" in e && e.symbolLayers) {\n      for (const o of e.symbolLayers) if (\"CIMVectorMarker\" === o.type && o.markerGraphics) for (const e of o.markerGraphics) e?.symbol && te.fetchFonts(e.symbol, t, r);\n    } else if (\"CIMTextSymbol\" === e.type) {\n      const {\n        fontFamilyName: o,\n        fontStyleName: a\n      } = e;\n      if (!o || \"calcitewebcoreicons\" === o.toLowerCase()) return;\n      const {\n          style: s,\n          weight: i\n        } = z(a),\n        n = D(e),\n        c = new l({\n          family: o,\n          style: s,\n          weight: i,\n          decoration: n\n        });\n      r.push(t.loadFont(c).catch(() => {\n        W().error(`Unsupported font ${o} in CIM symbol`);\n      }));\n    }\n  }\n  static _getLineSymbolPeriod(e) {\n    if (e) {\n      const t = this._getEffectsRepeat(e.effects);\n      if (t) return t;\n      if (e.symbolLayers) for (const r of e.symbolLayers) if (r) {\n        const e = this._getEffectsRepeat(r.effects);\n        if (e) return e;\n        switch (r.type) {\n          case \"CIMCharacterMarker\":\n          case \"CIMPictureMarker\":\n          case \"CIMVectorMarker\":\n          case \"CIMObjectMarker3D\":\n          case \"CIMglTFMarker3D\":\n            {\n              const e = this._getPlacementRepeat(r.markerPlacement);\n              if (e) return e;\n            }\n        }\n      }\n    }\n    return 0;\n  }\n  static _getEffectsRepeat(e) {\n    if (e) for (const t of e) if (t) switch (t.type) {\n      case \"CIMGeometricEffectDashes\":\n        {\n          const e = t.dashTemplate;\n          if (e && e.length) {\n            let t = 0;\n            for (const r of e) t += r;\n            return 1 & e.length && (t *= 2), t;\n          }\n          break;\n        }\n      case \"CIMGeometricEffectWave\":\n        return t.period;\n      default:\n        W().error(`unsupported geometric effect type ${t.type}`);\n    }\n    return 0;\n  }\n  static _getPlacementRepeat(e) {\n    if (e) switch (e.type) {\n      case \"CIMMarkerPlacementAlongLineSameSize\":\n      case \"CIMMarkerPlacementAlongLineRandomSize\":\n      case \"CIMMarkerPlacementAlongLineVariableSize\":\n        {\n          const t = e.placementTemplate;\n          if (t && t.length) {\n            let e = 0;\n            for (const r of t) e += +r;\n            return 1 & t.length && (e *= 2), e;\n          }\n          break;\n        }\n    }\n    return 0;\n  }\n  static fromCIMInsidePolygon(e) {\n    const t = e.markerPlacement,\n      r = {\n        ...e\n      };\n    r.markerPlacement = null, r.anchorPoint = null;\n    const s = Math.abs(t.stepX),\n      i = Math.abs(t.stepY),\n      n = (t.randomness ?? 100) / 100;\n    let l, c, m, f;\n    if (\"Random\" === t.gridType) {\n      const e = a(j),\n        r = Math.max(Math.floor(e / s), 1),\n        y = Math.max(Math.floor(e / i), 1);\n      l = r * s / 2, c = y * i / 2, m = 2 * c;\n      const h = new o(t.seed),\n        u = n * s / 1.5,\n        M = n * i / 1.5;\n      f = [];\n      for (let t = 0; t < r; t++) for (let e = 0; e < y; e++) {\n        const r = t * s - l + u * (.5 - h.getFloat()),\n          o = e * i - c + M * (.5 - h.getFloat());\n        f.push({\n          x: r,\n          y: o\n        }), 0 === t && f.push({\n          x: r + 2 * l,\n          y: o\n        }), 0 === e && f.push({\n          x: r,\n          y: o + 2 * c\n        });\n      }\n    } else !0 === t.shiftOddRows ? (l = s / 2, c = i, m = 2 * i, f = [{\n      x: -l,\n      y: 0\n    }, {\n      x: l,\n      y: 0\n    }, {\n      x: 0,\n      y: c\n    }, {\n      x: 0,\n      y: -c\n    }]) : (l = s / 2, c = i / 2, m = i, f = [{\n      x: -s,\n      y: 0\n    }, {\n      x: 0,\n      y: -i\n    }, {\n      x: -s,\n      y: -i\n    }, {\n      x: 0,\n      y: 0\n    }, {\n      x: s,\n      y: 0\n    }, {\n      x: 0,\n      y: i\n    }, {\n      x: s,\n      y: i\n    }, {\n      x: -s,\n      y: i\n    }, {\n      x: s,\n      y: -i\n    }]);\n    return {\n      type: \"CIMVectorMarker\",\n      frame: {\n        xmin: -l,\n        xmax: l,\n        ymin: -c,\n        ymax: c\n      },\n      markerGraphics: f.map(e => ({\n        type: \"CIMMarkerGraphic\",\n        geometry: e,\n        symbol: {\n          type: \"CIMPointSymbol\",\n          symbolLayers: [r]\n        }\n      })),\n      size: m\n    };\n  }\n}\nfunction re(e, t) {\n  if (e) switch (e.type) {\n    case \"CIMPointSymbol\":\n    case \"CIMLineSymbol\":\n    case \"CIMPolygonSymbol\":\n      {\n        const r = e.symbolLayers;\n        if (!r) return;\n        for (const e of r) if (t(e), \"CIMVectorMarker\" === e.type) {\n          const r = e.markerGraphics;\n          if (!r) continue;\n          for (const e of r) if (e) {\n            const r = e.symbol;\n            r && re(r, t);\n          }\n        }\n        break;\n      }\n  }\n}\nconst oe = e => {\n    if (!e) return M.Butt;\n    switch (e) {\n      case \"butt\":\n        return M.Butt;\n      case \"square\":\n        return M.Square;\n      case \"round\":\n        return M.Round;\n    }\n  },\n  ae = e => {\n    if (!e) return p.Miter;\n    switch (e) {\n      case \"miter\":\n        return p.Miter;\n      case \"round\":\n        return p.Round;\n      case \"bevel\":\n        return p.Bevel;\n    }\n  },\n  se = e => {\n    if (null == e) return \"Center\";\n    switch (e) {\n      case \"left\":\n        return \"Left\";\n      case \"right\":\n        return \"Right\";\n      case \"center\":\n        return \"Center\";\n    }\n  },\n  ie = e => {\n    if (null == e) return \"Center\";\n    switch (e) {\n      case \"baseline\":\n        return \"Baseline\";\n      case \"top\":\n        return \"Top\";\n      case \"middle\":\n        return \"Center\";\n      case \"bottom\":\n        return \"Bottom\";\n    }\n  },\n  ne = e => {\n    if (!e) return [0, 0, 0, 0];\n    const {\n      r: t,\n      g: r,\n      b: o,\n      a\n    } = e;\n    return [t, r, o, 255 * a];\n  },\n  le = (e, t) => {\n    const r = ce(t),\n      o = me(e);\n    return r && o ? `${r}-${o}` : `${r}${o}`;\n  },\n  ce = e => {\n    if (!e) return \"\";\n    switch (e.toLowerCase()) {\n      case \"bold\":\n      case \"bolder\":\n        return \"bold\";\n    }\n    return \"\";\n  },\n  me = e => {\n    if (!e) return \"\";\n    switch (e.toLowerCase()) {\n      case \"italic\":\n      case \"oblique\":\n        return \"italic\";\n    }\n    return \"\";\n  },\n  fe = (e, t) => {\n    const r = has(\"safari\") ? .001 : 0,\n      o = \"butt\" === t;\n    switch (e) {\n      case \"dash\":\n      case \"esriSLSDash\":\n        return o ? [4, 3] : [3, 4];\n      case \"dash-dot\":\n      case \"esriSLSDashDot\":\n        return o ? [4, 3, 1, 3] : [3, 4, r, 4];\n      case \"dot\":\n      case \"esriSLSDot\":\n        return o ? [1, 3] : [r, 4];\n      case \"long-dash\":\n      case \"esriSLSLongDash\":\n        return o ? [8, 3] : [7, 4];\n      case \"long-dash-dot\":\n      case \"esriSLSLongDashDot\":\n        return o ? [8, 3, 1, 3] : [7, 4, r, 4];\n      case \"long-dash-dot-dot\":\n      case \"esriSLSDashDotDot\":\n        return o ? [8, 3, 1, 3, 1, 3] : [7, 4, r, 4, r, 4];\n      case \"short-dash\":\n      case \"esriSLSShortDash\":\n        return o ? [4, 1] : [3, 2];\n      case \"short-dash-dot\":\n      case \"esriSLSShortDashDot\":\n        return o ? [4, 1, 1, 1] : [3, 2, r, 2];\n      case \"short-dash-dot-dot\":\n      case \"esriSLSShortDashDotDot\":\n        return o ? [4, 1, 1, 1, 1, 1] : [3, 2, r, 2, r, 2];\n      case \"short-dot\":\n      case \"esriSLSShortDot\":\n        return o ? [1, 1] : [r, 2];\n      case \"solid\":\n      case \"esriSLSSolid\":\n      case \"none\":\n        return W().error(\"Unexpected: style does not require rasterization\"), [0, 0];\n      default:\n        return W().error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`), [0, 0];\n    }\n  };\nfunction ye(e) {\n  return void 0 !== e.symbolLayers;\n}\nconst he = function (e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n    const r = t / 2;\n    let o, a;\n    const s = e;\n    if (\"circle\" === s || \"esriSMSCircle\" === s) {\n      const e = .25;\n      let t = Math.acos(1 - e / r),\n        s = Math.ceil(N / t / 4);\n      0 === s && (s = 1), t = Y / s, s *= 4;\n      const i = [];\n      i.push([r, 0]);\n      for (let o = 1; o < s; o++) i.push([r * Math.cos(o * t), -r * Math.sin(o * t)]);\n      i.push([r, 0]), o = {\n        rings: [i]\n      }, a = {\n        xmin: -r,\n        ymin: -r,\n        xmax: r,\n        ymax: r\n      };\n    } else if (\"cross\" === s || \"esriSMSCross\" === s) {\n      const e = 0;\n      o = {\n        paths: [[[e, r], [e, -r]], [[r, e], [-r, e]]]\n      }, a = {\n        xmin: -r,\n        ymin: -r,\n        xmax: r,\n        ymax: r\n      };\n    } else if (\"diamond\" === s || \"esriSMSDiamond\" === s) o = {\n      rings: [[[-r, 0], [0, r], [r, 0], [0, -r], [-r, 0]]]\n    }, a = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    };else if (\"square\" === s || \"esriSMSSquare\" === s) o = {\n      rings: [[[-r, -r], [-r, r], [r, r], [r, -r], [-r, -r]]]\n    }, a = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    };else if (\"x\" === s || \"esriSMSX\" === s) o = {\n      paths: [[[r, r], [-r, -r]], [[r, -r], [-r, r]]]\n    }, a = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    };else if (\"triangle\" === s || \"esriSMSTriangle\" === s) {\n      const e = t * .5773502691896257,\n        r = -e,\n        s = 2 / 3 * t,\n        i = s - t;\n      o = {\n        rings: [[[r, i], [0, s], [e, i], [r, i]]]\n      }, a = {\n        xmin: r,\n        ymin: i,\n        xmax: e,\n        ymax: s\n      };\n    } else \"arrow\" === s && (o = {\n      rings: [[[-50, 50], [50, 0], [-50, -50], [-33, -20], [-33, 20], [-50, 50]]]\n    }, a = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    });\n    return [a, o];\n  },\n  ue = e => \"vertical\" === e || \"horizontal\" === e || \"cross\" === e || \"esriSFSCross\" === e || \"esriSFSVertical\" === e || \"esriSFSHorizontal\" === e;\nfunction Me(e, t, r) {\n  if (!e.effects || null != t.geometryEngine) return;\n  if (t.geometryEnginePromise) return void r.push(t.geometryEnginePromise);\n  E(e.effects) && (t.geometryEnginePromise = T(), r.push(t.geometryEnginePromise), t.geometryEnginePromise.then(e => t.geometryEngine = e));\n}\nfunction pe(e) {\n  if (!e) return null;\n  let t = null;\n  const {\n    cap: r,\n    color: o,\n    join: a,\n    miterLimit: s,\n    style: i,\n    width: n\n  } = e;\n  return \"solid\" !== i && \"none\" !== i && \"esriSLSSolid\" !== i && \"esriSLSNull\" !== i && (t = [{\n    type: \"CIMGeometricEffectDashes\",\n    dashTemplate: fe(i, r),\n    lineDashEnding: \"NoConstraint\",\n    scaleDash: !0,\n    offsetAlongLine: null\n  }]), {\n    type: \"CIMSolidStroke\",\n    color: \"esriSLSNull\" !== i && \"none\" !== i ? ne(o) : [0, 0, 0, 0],\n    capStyle: oe(r),\n    joinStyle: ae(a),\n    miterLimit: s,\n    width: n,\n    effects: t\n  };\n}\nexport { te as CIMSymbolHelper, ee as CIMSymbolInflatedSizeHelper, oe as capTypeToEnum, Z as getEffectsInflateSize, fe as slsDashToTemplateArray, $ as symbolToCIM };","map":{"version":3,"names":["bidiText","e","has","clone","t","r","o","px2pt","a","create","s","expandPointInPlace","i","getBoundsXY","n","l","Placement","c","EnvDrawHelper","m","Transformation","f","CanvasDrawHelper","y","lineGapType2LineHeight","h","defaultCIMValues","u","LineCapStyle","M","LineJoinStyle","p","TextureFilter","S","ExtremityPlacement","d","BlockProgression","g","FontEffects","b","FontEncoding","C","FontType","x","GlyphHinting","I","TextReadingDirection","k","VerticalGlyphOrientation","w","BillBoardMode","P","LineDashEnding","L","getNumericValue","F","fromCIMFontStyle","z","fromCIMFontDecoration","D","isGeometryEngineRequired","E","importGeometryEngine","T","defaultPolylineSymbol2D","G","cInfinity","v","glyphSize","A","magicLabelLineHeight","R","randomInsidePolygonTextureSize","j","shapeGlyphs","B","roundPtToWholePixel","X","getLineWidth","V","N","Math","PI","Y","_","U","q","H","O","W","getLogger","$","type","data","te","fromSimpleMarker","Error","fromPictureMarker","fromSimpleLineSymbol","fromSimpleFillSymbol","fromPictureFillSymbol","fromTextSymbol","symbol","J","drawSymbol","paths","rings","drawMarker","envelope","K","abs","offset","Q","width","size","length","max","offsetX","offsetY","radius","fromWidth","toWidth","amplitude","Z","ee","getSymbolInflateSize","_getInflateSize","safeSize","sqrt","_vectorMarkerBounds","markerGraphics","geometry","min","ye","_getLayersInflateSize","symbolLayers","effects","_getTextInflatedSize","capStyle","Square","joinStyle","Miter","frame","xmin","xmax","ymin","ymax","getResource","url","height","scaleX","anchorPoint","anchorPointUnits","rotation","rotateClockwise","cos","sin","markerPlacement","CIMTextSymbol","get","glyphMosaicItems","glyphs","lineGapType","lineGap","callout","scale","angle","xOffset","yOffset","horizontalAlignment","verticalAlignment","maxLineWidth","lineWidth","lineHeight","decoration","font","useCIMAngleBehavior","hasBackground","boundsT","getEnvelope","Array","isArray","union","getTextureInfo","ceil","floor","getTextureAnchor","rasterize","arguments","undefined","getContext","willReadFrequently","createScale","translate","getImageData","Uint8Array","text","enable","dominantSizeAxis3D","billboardMode3D","createCIMTextSymbolfromTextSymbol","textString","scaleSymbolsProportionally","respectFrame","angleAlignment","outline","xoffset","xscale","yoffset","yscale","pe","push","imageData","invertBackfaceTexture","textureFilter","Picture","tintColor","colorSubstitutions","color","style","ne","Butt","ue","lineSymbol","separation","cap","join","marker","miterLimit","dashTemplate","fe","lineDashEnding","scaleDash","offsetAlongLine","placement","Both","JustBegin","JustEnd","None","placePerPart","angleToLine","extremityPlacement","oe","ae","haloColor","haloSize","kerning","backgroundColor","borderLineColor","borderLineSize","family","weight","margin","backgroundSymbol","accentBarSymbol","gap","leaderLineSymbol","lineStyle","blockProgression","BTT","depth3D","extrapolateBaselines","fontEffects","Normal","fontEncoding","Unicode","fontFamilyName","fontStyleName","le","fontType","Unspecified","hinting","Default","se","letterWidth","ligatures","strikethrough","underline","haloSymbol","shadowColor","shadowOffsetX","shadowOffsetY","textCase","textDirection","RTL","LTR","ie","verticalGlyphOrientation","Right","wordSpacing","FaceNearPlane","createPictureMarkerRasterizationParam","source","overrides","resource","createPictureFillRasterizationParam","path","he","HalfGap","FullPattern","map","controlPointEnding","Round","fromCIMHatchFill","CIMHatchFill","forEach","placementTemplate","_getLineSymbolPeriod","fetchResources","re","Me","fetchResource","signal","fetchFonts","toLowerCase","loadFont","catch","error","_getEffectsRepeat","_getPlacementRepeat","period","fromCIMInsidePolygon","stepX","stepY","randomness","gridType","seed","getFloat","shiftOddRows","Bevel","ce","me","acos","geometryEngine","geometryEnginePromise","then","CIMSymbolHelper","CIMSymbolInflatedSizeHelper","capTypeToEnum","getEffectsInflateSize","slsDashToTemplateArray","symbolToCIM"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{bidiText as e}from\"../../core/BidiText.js\";import has from\"../../core/has.js\";import{clone as t}from\"../../core/lang.js\";import r from\"../../core/Logger.js\";import o from\"../../core/RandomLCG.js\";import{px2pt as a}from\"../../core/screenUtils.js\";import{create as s,expandPointInPlace as i}from\"../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as n}from\"../../geometry/support/boundsUtils.js\";import l from\"../Font.js\";import{Placement as c}from\"./CIMPlacements.js\";import{EnvDrawHelper as m,Transformation as f,CanvasDrawHelper as y,lineGapType2LineHeight as h}from\"./CIMSymbolDrawHelper.js\";import{defaultCIMValues as u}from\"./defaultCIMValues.js\";import{LineCapStyle as M,LineJoinStyle as p,TextureFilter as S,ExtremityPlacement as d,BlockProgression as g,FontEffects as b,FontEncoding as C,FontType as x,GlyphHinting as I,TextReadingDirection as k,VerticalGlyphOrientation as w,BillBoardMode as P,LineDashEnding as L}from\"./enums.js\";import{getNumericValue as F,fromCIMFontStyle as z,fromCIMFontDecoration as D,isGeometryEngineRequired as E,importGeometryEngine as T}from\"./utils.js\";import{defaultPolylineSymbol2D as G}from\"../support/defaults.js\";import{cInfinity as v}from\"../../views/2d/engine/vectorTiles/GeometryUtils.js\";import{glyphSize as A,magicLabelLineHeight as R,randomInsidePolygonTextureSize as j}from\"../../views/2d/engine/webgl/definitions.js\";import{shapeGlyphs as B}from\"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";import{roundPtToWholePixel as X,getLineWidth as V}from\"../../views/2d/layers/graphics/graphicsUtils.js\";const N=Math.PI,Y=N/2,_=Math.PI/180,U=96/72,q=1.4142135623730951,H=2,O=4,W=()=>r.getLogger(\"esri.symbols.cim.CIMSymbolHelper\");function $(e){let t;switch(e.type){case\"cim\":return e.data;case\"web-style\":return e;case\"simple-marker\":{const r=te.fromSimpleMarker(e);if(!r)throw new Error(\"InternalError: Cannot convert symbol to CIM\");t=r;break}case\"picture-marker\":t=te.fromPictureMarker(e);break;case\"simple-line\":t=te.fromSimpleLineSymbol(e);break;case\"simple-fill\":t=te.fromSimpleFillSymbol(e);break;case\"picture-fill\":t=te.fromPictureFillSymbol(e);break;case\"text\":t=te.fromTextSymbol(e)}return{type:\"CIMSymbolReference\",symbol:t}}function J(e,t,r){switch(t.type){case\"CIMSymbolReference\":return J(e,t.symbol,r);case\"CIMPointSymbol\":null==r&&(r={x:0,y:0}),e.drawSymbol(t,r);break;case\"CIMLineSymbol\":null==r&&(r={paths:[[[0,0],[10,0]]]}),e.drawSymbol(t,r);break;case\"CIMPolygonSymbol\":null==r&&(r={rings:[[[0,0],[0,10],[10,10],[10,0],[0,0]]]}),e.drawSymbol(t,r);break;case\"CIMTextSymbol\":{const r={x:0,y:0};e.drawSymbol(t,r);break}case\"CIMVectorMarker\":{const r=new c;e.drawMarker(t,r);break}}return e.envelope()}function K(e){if(!e)return 0;switch(e.type){case\"CIMMarkerPlacementAlongLineSameSize\":case\"CIMMarkerPlacementAlongLineRandomSize\":case\"CIMMarkerPlacementAtExtremities\":case\"CIMMarkerPlacementAtMeasuredUnits\":case\"CIMMarkerPlacementAtRatioPositions\":case\"CIMMarkerPlacementOnLine\":case\"CIMMarkerPlacementOnVertices\":return Math.abs(e.offset);default:return 0}}function Q(e){if(!e)return 0;switch(e.type){case\"CIMGeometricEffectArrow\":return Math.abs(.5*e.width);case\"CIMGeometricEffectBuffer\":return Math.abs(e.size);case\"CIMGeometricEffectControlMeasureLine\":return 500;case\"CIMGeometricEffectExtension\":case\"CIMGeometricEffectRadial\":return Math.abs(e.length);case\"CIMGeometricEffectJog\":return Math.abs(.5*e.length);case\"CIMGeometricEffectMove\":return Math.max(Math.abs(F(e.offsetX)),Math.abs(F(e.offsetY)));case\"CIMGeometricEffectOffset\":case\"CIMGeometricEffectOffsetTangent\":return Math.abs(e.offset);case\"CIMGeometricEffectRegularPolygon\":return Math.abs(e.radius);case\"CIMGeometricEffectRotate\":case\"CIMGeometricEffectScale\":default:return 0;case\"CIMGeometricEffectTaperedPolygon\":return.5*Math.max(Math.abs(e.fromWidth),Math.abs(e.toWidth));case\"CIMGeometricEffectWave\":return Math.abs(e.amplitude);case\"CIMGeometricEffectDonut\":return Math.abs(e.width)}}function Z(e){if(!e)return 0;let t=0;for(const r of e)t+=Q(r);return t}class ee{static getSymbolInflateSize(e,t,r,o,a){return e||(e=[0,0,0,0]),t?this._getInflateSize(e,t,r,o,a):e}static safeSize(e){const t=Math.max(Math.abs(e[0]),Math.abs(e[2])),r=Math.max(Math.abs(e[1]),Math.abs(e[3]));return Math.sqrt(t*t+r*r)}static _vectorMarkerBounds(e,t,r,o){let a=!0;const i=s();if(t?.markerGraphics)for(const s of t.markerGraphics){const t=[0,0,0,0];s.geometry&&(n(i,s.geometry),t[0]=0,t[1]=0,t[2]=0,t[3]=0,this.getSymbolInflateSize(t,s.symbol,r,0,o),i[0]+=t[0],i[1]+=t[1],i[2]+=t[2],i[3]+=t[3],a?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],a=!1):(e[0]=Math.min(e[0],i[0]),e[1]=Math.min(e[1],i[1]),e[2]=Math.max(e[2],i[2]),e[3]=Math.max(e[3],i[3])))}return e}static _getInflateSize(e,t,r,o,a){if(ye(t)){const s=this._getLayersInflateSize(e,t.symbolLayers,r,o,a),i=Z(t.effects);return i>0&&(s[0]-=i,s[1]-=i,s[2]+=i,s[3]+=i),s}return this._getTextInflatedSize(e,t,a)}static _getLayersInflateSize(e,t,r,o,a){let n=!0;if(!t)return e;for(const l of t){if(!l)continue;let t=[0,0,0,0];switch(l.type){case\"CIMSolidFill\":case\"CIMPictureFill\":case\"CIMHatchFill\":case\"CIMGradientFill\":break;case\"CIMSolidStroke\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":{const e=l;let r=e.width;null!=r&&(e.capStyle===M.Square||e.joinStyle===p.Miter?r/=q:r/=2,t[0]=-r,t[1]=-r,t[2]=r,t[3]=r);break}case\"CIMCharacterMarker\":case\"CIMVectorMarker\":case\"CIMPictureMarker\":{const e=l;if(\"CIMVectorMarker\"===l.type){const e=l;if(t=this._vectorMarkerBounds(t,e,r,a),e.frame){const r=(e.frame.xmin+e.frame.xmax)/2,o=(e.frame.ymin+e.frame.ymax)/2;if(t[0]-=r,t[1]-=o,t[2]-=r,t[3]-=o,null!=e.size){const r=e.size/(e.frame.ymax-e.frame.ymin);t[0]*=r,t[1]*=r,t[2]*=r,t[3]*=r}}}else if(\"CIMPictureMarker\"===l.type){const o=l,a=r.getResource(o.url);let s=1;if(null!=a&&a.height&&(s=a.width/a.height),null!=e.size){const r=e.size/2,a=e.size*s*o.scaleX/2;t=[-a,-r,a,r]}}else if(null!=e.size){const r=e.size/2;t=[-r,-r,r,r]}if(e.anchorPoint){let r,o;\"Absolute\"===e.anchorPointUnits?(r=e.anchorPoint.x,o=e.anchorPoint.y):(r=e.anchorPoint.x*(t[2]-t[0]),o=e.anchorPoint.y*(t[3]-t[1]));const a=1.25*Math.sqrt(r*r+o*o);t[0]-=a,t[1]-=a,t[2]+=a,t[3]+=a}let n=F(e.rotation);if(e.rotateClockwise&&(n=-n),o&&(n-=o),n){const e=_*n,r=Math.cos(e),o=Math.sin(e),a=s([v,v,-v,-v]);i(a,[t[0]*r-t[1]*o,t[0]*o+t[1]*r]),i(a,[t[0]*r-t[3]*o,t[0]*o+t[3]*r]),i(a,[t[2]*r-t[1]*o,t[2]*o+t[1]*r]),i(a,[t[2]*r-t[3]*o,t[2]*o+t[3]*r]),t=a}let c=F(e.offsetX),m=F(e.offsetY);if(o){const e=_*o,t=Math.cos(e),r=Math.sin(e),a=c*r+m*t;c=c*t-m*r,m=a}t[0]+=c,t[1]+=m,t[2]+=c,t[3]+=m;const f=K(e.markerPlacement);f>0&&(t[0]-=f,t[1]-=f,t[2]+=f,t[3]+=f);break}}const c=Z(l.effects);c>0&&(t[0]-=c,t[1]-=c,t[2]+=c,t[3]+=c),n?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],n=!1):(e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[2]),e[3]=Math.max(e[3],t[3]))}return e}static _getTextInflatedSize(e,t,r){const o=X(t.height??u.CIMTextSymbol.height);if(e[0]=-o/2,e[1]=-o/2,e[2]=o/2,e[3]=o/2,!r)return e;const a=r.get(t);if(!a)return e;if(!a.glyphMosaicItems.glyphs.length)return e;const{lineGapType:s,lineGap:i}=t,n=s?h(s,i??0,o):0,l=\"CIMBackgroundCallout\"===t.callout?.type,c=B(a.glyphMosaicItems,{scale:o/A,angle:F(t.angle),xOffset:F(t.offsetX),yOffset:F(t.offsetY),horizontalAlignment:t.horizontalAlignment,verticalAlignment:t.verticalAlignment,maxLineWidth:V(t.lineWidth),lineHeight:R*Math.max(.25,Math.min(n||1,4)),decoration:t.font.decoration||\"none\",useCIMAngleBehavior:!0,hasBackground:l}).boundsT,m=Math.sqrt(c.width*c.width+c.height*c.height);return e[0]-=c.x+m,e[1]-=c.y-m,e[2]+=c.x+m,e[3]+=-c.y+m,e}}class te{static getEnvelope(e,t,r){if(!e)return null;const o=new m(r);if(Array.isArray(e)){let r;for(const a of e)r?r.union(J(o,a,t)):r=J(o,a,t);return r}return J(o,e,t)}static getTextureInfo(e,t,r,o,a){const s=o??this.getEnvelope(e,null,t);if(!s)return[0,0,0,0,1];const i=Math.max(s.width,s.height)*U;let n=null!=a?Math.max(a/i,1):1;n*=U,s.x*=n,s.y*=n,s.width*=n,s.height*=n,s.width=Math.max(Math.ceil(s.x+s.width)-Math.floor(s.x),1)-1,s.height=Math.max(Math.ceil(s.y+s.height)-Math.floor(s.y),1)-1;let l=s.x+.5*s.width,c=s.y+.5*s.height;return l+=s.x-Math.floor(s.x),c+=s.y-Math.floor(s.y),o||(s.width+=r,s.height+=r,l+=r/2,c+=r/2),[s.width,s.height,l,c,n]}static getTextureAnchor(e,t,r){const[o,a,s,i,n]=this.getTextureInfo(e,t,H,null,r);return[-s/o,-i/a,a/n*U]}static rasterize(e,t,r,o,a=!0,s){const[i,n,l,m,h]=this.getTextureInfo(t,o,H,r,s);e.width=i,e.height=n;const u=e.getContext(\"2d\",{willReadFrequently:!0}),M=f.createScale(h,-h);M.translate(.5*i-l,.5*n+m);const p=new y(u,o,M);switch(t.type){case\"CIMPointSymbol\":{const e={type:\"point\",x:0,y:0};p.drawSymbol(t,e);break}case\"CIMVectorMarker\":{const e=new c;p.drawMarker(t,e);break}}const S=u.getImageData(0,0,e.width,e.height),d=new Uint8Array(S.data);if(a){let e;for(let t=0;t<d.length;t+=4)e=d[t+3]/255,d[t]=d[t]*e,d[t+1]=d[t+1]*e,d[t+2]=d[t+2]*e}return[d,e.width,e.height,-l/i,-m/n]}static fromTextSymbol(e){const{text:t}=e;return{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPointUnits:\"Relative\",dominantSizeAxis3D:\"Y\",size:10,billboardMode3D:\"FaceNearPlane\",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{x:0,y:0},symbol:te.createCIMTextSymbolfromTextSymbol(e),textString:t}],scaleSymbolsProportionally:!0,respectFrame:!0}],scaleX:1,angleAlignment:\"Display\"}}static fromPictureFillSymbol(e){const{height:t,outline:r,width:o,xoffset:a,xscale:s,yoffset:i,yscale:n}=e,l=[],c={type:\"CIMPolygonSymbol\",symbolLayers:l};if(r){const e=pe(r);e&&l.push(e)}let m=e.url;\"esriPFS\"===e.type&&e.imageData&&(m=e.imageData);const f=\"angle\"in e?e.angle??0:0,y=(o??0)*(s||1),h=(t??0)*(n||1);return l.push({type:\"CIMPictureFill\",invertBackfaceTexture:!1,scaleX:1,textureFilter:S.Picture,tintColor:null,url:m,height:h,width:y,offsetX:F(a),offsetY:F(i),rotation:F(-f),colorSubstitutions:null}),c}static fromSimpleFillSymbol(e){const{color:r,style:o,outline:s}=e,i=[],n={type:\"CIMPolygonSymbol\",symbolLayers:i};if(s){const e=pe(s);e&&i.push(e)}if(o&&\"solid\"!==o&&\"none\"!==o&&\"esriSFSSolid\"!==o&&\"esriSFSNull\"!==o){const e={type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",color:ne(r),capStyle:M.Butt,joinStyle:p.Miter,width:.75}]};let s=0;const n=a(ue(o)?8:10);switch(o){case\"vertical\":case\"esriSFSVertical\":s=90;break;case\"forward-diagonal\":case\"esriSFSForwardDiagonal\":case\"diagonal-cross\":case\"esriSFSDiagonalCross\":s=-45;break;case\"backward-diagonal\":case\"esriSFSBackwardDiagonal\":s=45;break;case\"cross\":case\"esriSFSCross\":s=0}i.push({type:\"CIMHatchFill\",lineSymbol:e,offsetX:0,offsetY:0,rotation:s,separation:n}),\"cross\"===o||\"esriSFSCross\"===o?i.push({type:\"CIMHatchFill\",lineSymbol:t(e),offsetX:0,offsetY:0,rotation:90,separation:n}):\"diagonal-cross\"!==o&&\"esriSFSDiagonalCross\"!==o||i.push({type:\"CIMHatchFill\",lineSymbol:t(e),offsetX:0,offsetY:0,rotation:45,separation:n})}else!o||\"solid\"!==o&&\"esriSFSSolid\"!==o||i.push({type:\"CIMSolidFill\",enable:!0,color:ne(r)});return n}static fromSimpleLineSymbol(e){const{cap:t,color:r,join:o,marker:a,miterLimit:s,style:i,width:n}=e;let l=null;\"solid\"!==i&&\"none\"!==i&&\"esriSLSSolid\"!==i&&\"esriSLSNull\"!==i&&(l=[{type:\"CIMGeometricEffectDashes\",dashTemplate:fe(i,t),lineDashEnding:\"NoConstraint\",scaleDash:!0,offsetAlongLine:null}]);const c=[];if(a){let e;switch(a.placement){case\"begin-end\":e=d.Both;break;case\"begin\":e=d.JustBegin;break;case\"end\":e=d.JustEnd;break;default:e=d.None}const t=te.fromSimpleMarker(a,n,r).symbolLayers[0];t.markerPlacement={type:\"CIMMarkerPlacementAtExtremities\",placePerPart:!1,angleToLine:!0,offset:0,extremityPlacement:e,offsetAlongLine:0},c.push(t)}return c.push({type:\"CIMSolidStroke\",color:\"none\"!==i&&\"esriSLSNull\"!==i?ne(r):[0,0,0,0],capStyle:oe(t),joinStyle:ae(o),miterLimit:s,width:n,effects:l}),{type:\"CIMLineSymbol\",symbolLayers:c}}static fromPictureMarker(e){const{angle:t,height:r,width:o,xoffset:a,yoffset:s}=e;let i=e.url;return\"esriPMS\"===e.type&&e.imageData&&(i=e.imageData),{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMPictureMarker\",invertBackfaceTexture:!1,scaleX:1,textureFilter:S.Picture,tintColor:null,url:i,size:r,width:o,offsetX:F(a),offsetY:F(s),rotation:F(-t)}]}}static createCIMTextSymbolfromTextSymbol(t){const{angle:r,color:o,font:a,haloColor:s,haloSize:i,horizontalAlignment:n,kerning:l,lineWidth:c,text:m,verticalAlignment:f,xoffset:y,yoffset:h,backgroundColor:u,borderLineColor:M,borderLineSize:p}=t;let S,d,L,z,D,E;a&&(S=a.family,d=a.style,L=a.weight,z=a.size,D=a.decoration);let T=!1;if(m){T=e(m)[1]}return(u||p)&&(E={type:\"CIMBackgroundCallout\",margin:null,backgroundSymbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",color:ne(u)},{type:\"CIMSolidStroke\",color:ne(M),width:p}]},accentBarSymbol:null,gap:null,leaderLineSymbol:null,lineStyle:null}),{type:\"CIMTextSymbol\",angle:r,blockProgression:g.BTT,depth3D:1,extrapolateBaselines:!0,fontEffects:b.Normal,fontEncoding:C.Unicode,fontFamilyName:S||\"Arial\",fontStyleName:le(d,L),fontType:x.Unspecified,haloSize:i,height:z,hinting:I.Default,horizontalAlignment:se(n??\"center\"),kerning:l,letterWidth:100,ligatures:!0,lineGapType:\"Multiple\",lineWidth:c,offsetX:F(y),offsetY:F(h),strikethrough:\"line-through\"===D,underline:\"underline\"===D,symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:ne(o)}]},haloSymbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:ne(s)}]},shadowColor:[0,0,0,255],shadowOffsetX:1,shadowOffsetY:1,textCase:\"Normal\",textDirection:T?k.RTL:k.LTR,verticalAlignment:ie(f??\"baseline\"),verticalGlyphOrientation:w.Right,wordSpacing:100,billboardMode3D:P.FaceNearPlane,callout:E}}static createPictureMarkerRasterizationParam(e){const{angle:t,height:r,width:o,xoffset:a,yoffset:s}=e,i=e.url??e.source?.url??e.source?.imageData;return i?{type:\"sprite-rasterization-param\",overrides:[],resource:{type:\"CIMPictureMarker\",invertBackfaceTexture:!1,scaleX:1,textureFilter:S.Picture,tintColor:null,url:i,size:r,width:o,offsetX:F(a),offsetY:F(s),rotation:F(-t)}}:null}static createPictureFillRasterizationParam(e){const{width:t,height:r,xoffset:o,yoffset:a,url:s}=e;return s?{type:\"sprite-rasterization-param\",overrides:[],resource:{type:\"CIMPictureFill\",scaleX:1,textureFilter:S.Picture,tintColor:null,url:s,width:t,height:r,offsetX:F(o),offsetY:F(a),rotation:0}}:null}static fromSimpleMarker(e,t,r){const{style:o}=e,a=e.color??r;if(\"path\"===o||\"esriSMSPath\"===o){const t=[];if(\"outline\"in e&&e.outline){const r=e.outline;t.push({type:\"CIMSolidStroke\",enable:!0,width:r.width,color:ne(r.color),path:e.path})}t.push({type:\"CIMSolidFill\",enable:!0,color:ne(a),path:e.path});const[r,o]=he(\"square\");return{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,rotation:-F(e.angle),size:F(e.size||6),offsetX:F(e.xoffset),offsetY:F(e.yoffset),scaleSymbolsProportionally:!1,frame:r,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:o,symbol:{type:\"CIMPolygonSymbol\",symbolLayers:t}}]}]}}const s=[];let i,n,l=e.size;if(\"outline\"in e&&e.outline&&\"none\"!==e.outline.style&&\"esriSLSNull\"!==e.outline.style){const t=e.outline,r=\"solid\"!==t.style&&\"esriSLSSolid\"!==t.style;[i,n]=r?he(o,e.size):he(o);const a=t.width??G.width;if(r){const t=a/e.size,r=(i.xmax-i.xmin)*t/2,o=(i.ymax-i.ymin)*t/2;i.xmin-=r,i.xmax+=r,i.ymin-=o,i.ymax+=o,l&&(l+=a)}const c=\"cross\"!==e.style&&\"x\"!==e.style||\"dot\"===e?.outline.style||\"short-dot\"===e?.outline.style?L.HalfGap:L.FullPattern,m=r?[{type:\"CIMGeometricEffectAddControlPoints\"},{type:\"CIMGeometricEffectDashes\",dashTemplate:fe(t.style,null).map((e=>t.width&&t.width>0?e*t.width:e)),lineDashEnding:c,controlPointEnding:L.FullPattern}]:void 0;s.push({type:\"CIMSolidStroke\",capStyle:r?M.Round:M.Butt,enable:!0,width:a,color:ne(t.color),effects:m})}else!t||\"line-marker\"!==e.type||\"cross\"!==e.style&&\"x\"!==e.style?[i,n]=he(o):([i,n]=he(o),s.push({type:\"CIMSolidStroke\",enable:!0,width:t,color:ne(a)}));s.push({type:\"CIMSolidFill\",enable:!0,color:ne(a)});const c={type:\"CIMPolygonSymbol\",symbolLayers:s};return{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,rotation:F(-e.angle),size:F(l||6*t),offsetX:F(e.xoffset),offsetY:F(e.yoffset),scaleSymbolsProportionally:!1,frame:i,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:n,symbol:c}]}]}}static fromCIMHatchFill(e,r){const o=r*(e.separation??u.CIMHatchFill.separation),a=o/2,s=t(e.lineSymbol);s.symbolLayers?.forEach((e=>{switch(e.type){case\"CIMSolidStroke\":null!=e.width&&(e.width*=r),e.effects?.forEach((e=>{if(\"CIMGeometricEffectDashes\"===e.type){const t=e.dashTemplate;e.dashTemplate=t?.map((e=>e*r))}}));break;case\"CIMVectorMarker\":{null!=e.size&&(e.size*=r);const t=e.markerPlacement;null!=t&&\"placementTemplate\"in t&&(t.placementTemplate=t.placementTemplate.map((e=>e*r)));break}}}));let i=this._getLineSymbolPeriod(s)||O;for(;i<O;)i*=2;const n=i/2;return{type:\"CIMVectorMarker\",frame:{xmin:-n,xmax:n,ymin:-a,ymax:a},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[-n,0],[n,0]]]},symbol:s}],size:o}}static fetchResources(e,t,r,o=null){return e&&t?(re(e,(e=>{Me(e,t,r),\"url\"in e&&e.url&&r.push(t.fetchResource(e.url,{signal:o}))})),r):r}static fetchFonts(e,t,r){if(e&&t)if(\"symbolLayers\"in e&&e.symbolLayers){for(const o of e.symbolLayers)if(\"CIMVectorMarker\"===o.type&&o.markerGraphics)for(const e of o.markerGraphics)e?.symbol&&te.fetchFonts(e.symbol,t,r)}else if(\"CIMTextSymbol\"===e.type){const{fontFamilyName:o,fontStyleName:a}=e;if(!o||\"calcitewebcoreicons\"===o.toLowerCase())return;const{style:s,weight:i}=z(a),n=D(e),c=new l({family:o,style:s,weight:i,decoration:n});r.push(t.loadFont(c).catch((()=>{W().error(`Unsupported font ${o} in CIM symbol`)})))}}static _getLineSymbolPeriod(e){if(e){const t=this._getEffectsRepeat(e.effects);if(t)return t;if(e.symbolLayers)for(const r of e.symbolLayers)if(r){const e=this._getEffectsRepeat(r.effects);if(e)return e;switch(r.type){case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":case\"CIMObjectMarker3D\":case\"CIMglTFMarker3D\":{const e=this._getPlacementRepeat(r.markerPlacement);if(e)return e}}}}return 0}static _getEffectsRepeat(e){if(e)for(const t of e)if(t)switch(t.type){case\"CIMGeometricEffectDashes\":{const e=t.dashTemplate;if(e&&e.length){let t=0;for(const r of e)t+=r;return 1&e.length&&(t*=2),t}break}case\"CIMGeometricEffectWave\":return t.period;default:W().error(`unsupported geometric effect type ${t.type}`)}return 0}static _getPlacementRepeat(e){if(e)switch(e.type){case\"CIMMarkerPlacementAlongLineSameSize\":case\"CIMMarkerPlacementAlongLineRandomSize\":case\"CIMMarkerPlacementAlongLineVariableSize\":{const t=e.placementTemplate;if(t&&t.length){let e=0;for(const r of t)e+=+r;return 1&t.length&&(e*=2),e}break}}return 0}static fromCIMInsidePolygon(e){const t=e.markerPlacement,r={...e};r.markerPlacement=null,r.anchorPoint=null;const s=Math.abs(t.stepX),i=Math.abs(t.stepY),n=(t.randomness??100)/100;let l,c,m,f;if(\"Random\"===t.gridType){const e=a(j),r=Math.max(Math.floor(e/s),1),y=Math.max(Math.floor(e/i),1);l=r*s/2,c=y*i/2,m=2*c;const h=new o(t.seed),u=n*s/1.5,M=n*i/1.5;f=[];for(let t=0;t<r;t++)for(let e=0;e<y;e++){const r=t*s-l+u*(.5-h.getFloat()),o=e*i-c+M*(.5-h.getFloat());f.push({x:r,y:o}),0===t&&f.push({x:r+2*l,y:o}),0===e&&f.push({x:r,y:o+2*c})}}else!0===t.shiftOddRows?(l=s/2,c=i,m=2*i,f=[{x:-l,y:0},{x:l,y:0},{x:0,y:c},{x:0,y:-c}]):(l=s/2,c=i/2,m=i,f=[{x:-s,y:0},{x:0,y:-i},{x:-s,y:-i},{x:0,y:0},{x:s,y:0},{x:0,y:i},{x:s,y:i},{x:-s,y:i},{x:s,y:-i}]);return{type:\"CIMVectorMarker\",frame:{xmin:-l,xmax:l,ymin:-c,ymax:c},markerGraphics:f.map((e=>({type:\"CIMMarkerGraphic\",geometry:e,symbol:{type:\"CIMPointSymbol\",symbolLayers:[r]}}))),size:m}}}function re(e,t){if(e)switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":{const r=e.symbolLayers;if(!r)return;for(const e of r)if(t(e),\"CIMVectorMarker\"===e.type){const r=e.markerGraphics;if(!r)continue;for(const e of r)if(e){const r=e.symbol;r&&re(r,t)}}break}}}const oe=e=>{if(!e)return M.Butt;switch(e){case\"butt\":return M.Butt;case\"square\":return M.Square;case\"round\":return M.Round}},ae=e=>{if(!e)return p.Miter;switch(e){case\"miter\":return p.Miter;case\"round\":return p.Round;case\"bevel\":return p.Bevel}},se=e=>{if(null==e)return\"Center\";switch(e){case\"left\":return\"Left\";case\"right\":return\"Right\";case\"center\":return\"Center\"}},ie=e=>{if(null==e)return\"Center\";switch(e){case\"baseline\":return\"Baseline\";case\"top\":return\"Top\";case\"middle\":return\"Center\";case\"bottom\":return\"Bottom\"}},ne=e=>{if(!e)return[0,0,0,0];const{r:t,g:r,b:o,a}=e;return[t,r,o,255*a]},le=(e,t)=>{const r=ce(t),o=me(e);return r&&o?`${r}-${o}`:`${r}${o}`},ce=e=>{if(!e)return\"\";switch(e.toLowerCase()){case\"bold\":case\"bolder\":return\"bold\"}return\"\"},me=e=>{if(!e)return\"\";switch(e.toLowerCase()){case\"italic\":case\"oblique\":return\"italic\"}return\"\"},fe=(e,t)=>{const r=has(\"safari\")?.001:0,o=\"butt\"===t;switch(e){case\"dash\":case\"esriSLSDash\":return o?[4,3]:[3,4];case\"dash-dot\":case\"esriSLSDashDot\":return o?[4,3,1,3]:[3,4,r,4];case\"dot\":case\"esriSLSDot\":return o?[1,3]:[r,4];case\"long-dash\":case\"esriSLSLongDash\":return o?[8,3]:[7,4];case\"long-dash-dot\":case\"esriSLSLongDashDot\":return o?[8,3,1,3]:[7,4,r,4];case\"long-dash-dot-dot\":case\"esriSLSDashDotDot\":return o?[8,3,1,3,1,3]:[7,4,r,4,r,4];case\"short-dash\":case\"esriSLSShortDash\":return o?[4,1]:[3,2];case\"short-dash-dot\":case\"esriSLSShortDashDot\":return o?[4,1,1,1]:[3,2,r,2];case\"short-dash-dot-dot\":case\"esriSLSShortDashDotDot\":return o?[4,1,1,1,1,1]:[3,2,r,2,r,2];case\"short-dot\":case\"esriSLSShortDot\":return o?[1,1]:[r,2];case\"solid\":case\"esriSLSSolid\":case\"none\":return W().error(\"Unexpected: style does not require rasterization\"),[0,0];default:return W().error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`),[0,0]}};function ye(e){return void 0!==e.symbolLayers}const he=(e,t=100)=>{const r=t/2;let o,a;const s=e;if(\"circle\"===s||\"esriSMSCircle\"===s){const e=.25;let t=Math.acos(1-e/r),s=Math.ceil(N/t/4);0===s&&(s=1),t=Y/s,s*=4;const i=[];i.push([r,0]);for(let o=1;o<s;o++)i.push([r*Math.cos(o*t),-r*Math.sin(o*t)]);i.push([r,0]),o={rings:[i]},a={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if(\"cross\"===s||\"esriSMSCross\"===s){const e=0;o={paths:[[[e,r],[e,-r]],[[r,e],[-r,e]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if(\"diamond\"===s||\"esriSMSDiamond\"===s)o={rings:[[[-r,0],[0,r],[r,0],[0,-r],[-r,0]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if(\"square\"===s||\"esriSMSSquare\"===s)o={rings:[[[-r,-r],[-r,r],[r,r],[r,-r],[-r,-r]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if(\"x\"===s||\"esriSMSX\"===s)o={paths:[[[r,r],[-r,-r]],[[r,-r],[-r,r]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if(\"triangle\"===s||\"esriSMSTriangle\"===s){const e=t*.5773502691896257,r=-e,s=2/3*t,i=s-t;o={rings:[[[r,i],[0,s],[e,i],[r,i]]]},a={xmin:r,ymin:i,xmax:e,ymax:s}}else\"arrow\"===s&&(o={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r});return[a,o]},ue=e=>\"vertical\"===e||\"horizontal\"===e||\"cross\"===e||\"esriSFSCross\"===e||\"esriSFSVertical\"===e||\"esriSFSHorizontal\"===e;function Me(e,t,r){if(!e.effects||null!=t.geometryEngine)return;if(t.geometryEnginePromise)return void r.push(t.geometryEnginePromise);E(e.effects)&&(t.geometryEnginePromise=T(),r.push(t.geometryEnginePromise),t.geometryEnginePromise.then((e=>t.geometryEngine=e)))}function pe(e){if(!e)return null;let t=null;const{cap:r,color:o,join:a,miterLimit:s,style:i,width:n}=e;return\"solid\"!==i&&\"none\"!==i&&\"esriSLSSolid\"!==i&&\"esriSLSNull\"!==i&&(t=[{type:\"CIMGeometricEffectDashes\",dashTemplate:fe(i,r),lineDashEnding:\"NoConstraint\",scaleDash:!0,offsetAlongLine:null}]),{type:\"CIMSolidStroke\",color:\"esriSLSNull\"!==i&&\"none\"!==i?ne(o):[0,0,0,0],capStyle:oe(r),joinStyle:ae(a),miterLimit:s,width:n,effects:t}}export{te as CIMSymbolHelper,ee as CIMSymbolInflatedSizeHelper,oe as capTypeToEnum,Z as getEffectsInflateSize,fe as slsDashToTemplateArray,$ as symbolToCIM};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}