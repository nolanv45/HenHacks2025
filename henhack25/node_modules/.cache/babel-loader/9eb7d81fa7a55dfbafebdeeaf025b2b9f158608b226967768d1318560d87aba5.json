{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport r from \"../../geometry/SpatialReference.js\";\nimport { normalizeCentralMeridian as t } from \"../../geometry/support/normalizeUtils.js\";\nimport a from \"../../layers/support/Field.js\";\nimport n from \"../../layers/support/MapImage.js\";\nimport { parseUrl as o, encode as s } from \"../utils.js\";\nimport i from \"../support/ArealUnit.js\";\nimport u from \"../support/DataFile.js\";\nimport m from \"../support/FeatureSet.js\";\nimport c from \"../support/LinearUnit.js\";\nimport p from \"../support/ParameterValue.js\";\nimport { dataTypeJsonMap as f, multiValuePrefix as l } from \"../support/parameterValueUtils.js\";\nimport y from \"../support/RasterData.js\";\nasync function S(r, a, n, s, i) {\n  const u = {},\n    m = {},\n    c = [];\n  return d(s, c, u), t(c).then(t => {\n    const {\n        outSpatialReference: c,\n        processExtent: p,\n        processSpatialReference: f,\n        returnColumnName: l,\n        returnFeatureCollection: y,\n        returnM: S,\n        returnZ: d\n      } = n,\n      {\n        path: N\n      } = o(r);\n    for (const e in u) {\n      const [r, a] = u[e];\n      m[e] = t.slice(r, a);\n    }\n    const j = c ? c.wkid || c : null,\n      g = f ? f.wkid || f : null,\n      J = \"execute\" === a ? {\n        returnColumnName: l || void 0,\n        returnFeatureCollection: y || void 0,\n        returnM: S || void 0,\n        returnZ: d || void 0\n      } : null,\n      O = R({\n        ...(p ? {\n          context: {\n            extent: p,\n            outSR: j,\n            processSR: g\n          }\n        } : {\n          \"env:outSR\": j,\n          \"env:processSR\": g\n        }),\n        ...s,\n        ...J,\n        f: \"json\"\n      }, null, m),\n      v = {\n        ...i,\n        query: O\n      };\n    return e(`${N}/${a}`, v);\n  });\n}\nfunction d(e, r, t) {\n  for (const a in e) {\n    const n = e[a];\n    if (n && \"object\" == typeof n && n instanceof m) {\n      const {\n        features: e\n      } = n;\n      t[a] = [r.length, r.length + e.length], e.forEach(e => {\n        r.push(e.geometry);\n      });\n    }\n  }\n}\nasync function N(e, t) {\n  switch (e) {\n    case \"areal-unit\":\n      return i.fromJSON(t);\n    case \"boolean\":\n    case \"double\":\n    case \"long\":\n    case \"string\":\n    case \"value-table\":\n      return t;\n    case \"date\":\n      return new Date(t);\n    case \"data-file\":\n      return u.fromJSON(t);\n    case \"linear-unit\":\n      return c.fromJSON(t);\n    case \"feature-record-set-layer\":\n      if (\"url\" in t) return u.fromJSON(t);\n      if (\"layerDefinition\" in t) {\n        const e = new (0, (await import(\"../../layers/FeatureLayer.js\")).default)(),\n          {\n            layerDefinition: a,\n            featureSet: n\n          } = t;\n        return e.read({\n          layerDefinition: a,\n          featureSet: n\n        }, {\n          origin: \"portal-item\"\n        }), e.spatialReference = r.fromJSON(n.spatialReference ?? a.spatialReference ?? a.extent.spatialReference), e;\n      }\n      return m.fromJSON(t);\n    case \"record-set\":\n      return \"url\" in t ? u.fromJSON(t) : m.fromJSON(t);\n    case \"raster-data\":\n    case \"raster-data-layer\":\n      return \"mapImage\" in t ? n.fromJSON(t.mapImage) : y.fromJSON(t);\n    case \"field\":\n      return a.fromJSON(t);\n  }\n}\nfunction j(e) {\n  return e.startsWith(l);\n}\nfunction g(e) {\n  return e.replace(l, \"\");\n}\nasync function J(e, r) {\n  const t = g(e),\n    a = \"composite\" === t ? r.map(e => N(f.fromJSON(e.dataType), e.value)) : r.map(e => N(t, e));\n  return Promise.all(a);\n}\nasync function O(e) {\n  const r = f.fromJSON(e.dataType),\n    {\n      paramName: t\n    } = e,\n    a = j(r) ? await J(r, e.value) : await N(r, e.value);\n  return new p({\n    dataType: r,\n    paramName: t,\n    value: a\n  });\n}\nfunction R(e, r, t) {\n  for (const a in e) {\n    const r = e[a];\n    Array.isArray(r) ? e[a] = JSON.stringify(r.map(e => R({\n      item: e\n    }, !0).item)) : r instanceof Date && (e[a] = r.getTime());\n  }\n  return s(e, r, t);\n}\nexport { d as collectGeometries, S as constructRequest, O as decode, R as gpEncode };","map":{"version":3,"names":["e","r","normalizeCentralMeridian","t","a","n","parseUrl","o","encode","s","i","u","m","c","p","dataTypeJsonMap","f","multiValuePrefix","l","y","S","d","then","outSpatialReference","processExtent","processSpatialReference","returnColumnName","returnFeatureCollection","returnM","returnZ","path","N","slice","j","wkid","g","J","O","R","context","extent","outSR","processSR","v","query","features","length","forEach","push","geometry","fromJSON","Date","default","layerDefinition","featureSet","read","origin","spatialReference","mapImage","startsWith","replace","map","dataType","value","Promise","all","paramName","Array","isArray","JSON","stringify","item","getTime","collectGeometries","constructRequest","decode","gpEncode"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/rest/geoprocessor/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../geometry/SpatialReference.js\";import{normalizeCentralMeridian as t}from\"../../geometry/support/normalizeUtils.js\";import a from\"../../layers/support/Field.js\";import n from\"../../layers/support/MapImage.js\";import{parseUrl as o,encode as s}from\"../utils.js\";import i from\"../support/ArealUnit.js\";import u from\"../support/DataFile.js\";import m from\"../support/FeatureSet.js\";import c from\"../support/LinearUnit.js\";import p from\"../support/ParameterValue.js\";import{dataTypeJsonMap as f,multiValuePrefix as l}from\"../support/parameterValueUtils.js\";import y from\"../support/RasterData.js\";async function S(r,a,n,s,i){const u={},m={},c=[];return d(s,c,u),t(c).then((t=>{const{outSpatialReference:c,processExtent:p,processSpatialReference:f,returnColumnName:l,returnFeatureCollection:y,returnM:S,returnZ:d}=n,{path:N}=o(r);for(const e in u){const[r,a]=u[e];m[e]=t.slice(r,a)}const j=c?c.wkid||c:null,g=f?f.wkid||f:null,J=\"execute\"===a?{returnColumnName:l||void 0,returnFeatureCollection:y||void 0,returnM:S||void 0,returnZ:d||void 0}:null,O=R({...p?{context:{extent:p,outSR:j,processSR:g}}:{\"env:outSR\":j,\"env:processSR\":g},...s,...J,f:\"json\"},null,m),v={...i,query:O};return e(`${N}/${a}`,v)}))}function d(e,r,t){for(const a in e){const n=e[a];if(n&&\"object\"==typeof n&&n instanceof m){const{features:e}=n;t[a]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}}}async function N(e,t){switch(e){case\"areal-unit\":return i.fromJSON(t);case\"boolean\":case\"double\":case\"long\":case\"string\":case\"value-table\":return t;case\"date\":return new Date(t);case\"data-file\":return u.fromJSON(t);case\"linear-unit\":return c.fromJSON(t);case\"feature-record-set-layer\":if(\"url\"in t)return u.fromJSON(t);if(\"layerDefinition\"in t){const e=new(0,(await import(\"../../layers/FeatureLayer.js\")).default),{layerDefinition:a,featureSet:n}=t;return e.read({layerDefinition:a,featureSet:n},{origin:\"portal-item\"}),e.spatialReference=r.fromJSON(n.spatialReference??a.spatialReference??a.extent.spatialReference),e}return m.fromJSON(t);case\"record-set\":return\"url\"in t?u.fromJSON(t):m.fromJSON(t);case\"raster-data\":case\"raster-data-layer\":return\"mapImage\"in t?n.fromJSON(t.mapImage):y.fromJSON(t);case\"field\":return a.fromJSON(t)}}function j(e){return e.startsWith(l)}function g(e){return e.replace(l,\"\")}async function J(e,r){const t=g(e),a=\"composite\"===t?r.map((e=>N(f.fromJSON(e.dataType),e.value))):r.map((e=>N(t,e)));return Promise.all(a)}async function O(e){const r=f.fromJSON(e.dataType),{paramName:t}=e,a=j(r)?await J(r,e.value):await N(r,e.value);return new p({dataType:r,paramName:t,value:a})}function R(e,r,t){for(const a in e){const r=e[a];Array.isArray(r)?e[a]=JSON.stringify(r.map((e=>R({item:e},!0).item))):r instanceof Date&&(e[a]=r.getTime())}return s(e,r,t)}export{d as collectGeometries,S as constructRequest,O as decode,R as gpEncode};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}