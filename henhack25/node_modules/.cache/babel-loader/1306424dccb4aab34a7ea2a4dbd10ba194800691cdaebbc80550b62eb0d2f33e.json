{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/CircularArray.js\";\nimport t from \"../../../../core/Evented.js\";\nimport has from \"../../../../core/has.js\";\nimport { createDisjointTimerQuery as s } from \"../../../webgl/capabilities/DisjointTimerQuery.js\";\nconst r = !!has(\"esri-2d-profiler\");\nclass n {\n  constructor(n, i) {\n    var _this = this;\n    if (this._events = new t(), this._entries = new Map(), this._timings = new e(10), this._currentContainer = null, this._currentPass = null, this._currentBrush = null, this._currentSummary = null, !r) return;\n    this._ext = s(n.gl, {}), this._debugOutput = i;\n    const o = n.gl;\n    if (!this.enableCommandLogging) return;\n    let a;\n    for (a in o) if (\"function\" == typeof o[a]) {\n      const e = o[a],\n        t = a.includes(\"draw\");\n      o[a] = function () {\n        for (var _len = arguments.length, s = new Array(_len), _key = 0; _key < _len; _key++) {\n          s[_key] = arguments[_key];\n        }\n        return _this._events.emit(\"command\", {\n          container: _this._currentContainer,\n          pass: _this._currentPass,\n          brush: _this._currentBrush,\n          method: a,\n          args: s,\n          isDrawCommand: t\n        }), _this._currentSummary && (_this._currentSummary.commands++, t && _this._currentSummary.drawCommands++), e.apply(o, s);\n      };\n    }\n  }\n  get enableCommandLogging() {\n    return !(\"object\" == typeof r && r.disableCommands);\n  }\n  recordContainerStart(e) {\n    r && (this._currentContainer = e);\n  }\n  recordContainerEnd() {\n    r && (this._currentContainer = null);\n  }\n  recordPassStart(e) {\n    r && (this._currentPass = e, this._initSummary());\n  }\n  recordPassEnd() {\n    r && (this._currentPass = null, this._emitSummary());\n  }\n  recordBrushStart(e) {\n    r && (this._currentBrush = e);\n  }\n  recordBrushEnd() {\n    r && (this._currentBrush = null);\n  }\n  recordStart(e) {\n    if (r && null != this._ext) {\n      if (this._entries.has(e)) {\n        const t = this._entries.get(e),\n          s = this._ext.resultAvailable(t.query),\n          r = this._ext.disjoint();\n        if (s && !r) {\n          const s = this._ext.getResult(t.query) / 1e6;\n          let r = 0;\n          if (null != this._timings.enqueue(s)) {\n            const e = this._timings.entries,\n              t = e.length;\n            let s = 0;\n            for (const r of e) s += r;\n            r = s / t;\n          }\n          const n = s.toFixed(2),\n            i = r ? r.toFixed(2) : \"--\";\n          this.enableCommandLogging ? (console.groupCollapsed(`Frame report for ${e}, ${n} ms (${i} last 10 avg)\\n${t.commandsLen} Commands (${t.drawCommands} draw)`), console.log(\"RenderPass breakdown: \"), console.table(t.summaries), console.log(\"Commands: \", t.commands), console.groupEnd()) : console.log(`Frame report for ${e}, ${n} ms (${i} last 10 avg)`), this._debugOutput.innerHTML = `${n} (${i})`;\n        }\n        for (const e of t.handles) e.remove();\n        this._ext.deleteQuery(t.query), this._entries.delete(e);\n      }\n      const t = {\n        name: e,\n        query: this._ext.createQuery(),\n        commands: [],\n        commandsLen: 0,\n        drawCommands: 0,\n        summaries: [],\n        handles: []\n      };\n      this.enableCommandLogging && (t.handles.push(this._events.on(\"command\", e => {\n        t.commandsLen++, t.commands.push(e), e.isDrawCommand && t.drawCommands++;\n      })), t.handles.push(this._events.on(\"summary\", e => {\n        t.summaries.push(e);\n      }))), this._ext.beginTimeElapsed(t.query), this._entries.set(e, t);\n    }\n  }\n  recordEnd(e) {\n    r && null != this._ext && this._entries.has(e) && this._ext.endTimeElapsed();\n  }\n  _initSummary() {\n    this.enableCommandLogging && (this._currentSummary = {\n      container: this._currentContainer,\n      pass: this._currentPass,\n      drawCommands: 0,\n      commands: 0\n    });\n  }\n  _emitSummary() {\n    this.enableCommandLogging && this._currentSummary && this._events.emit(\"summary\", this._currentSummary);\n  }\n}\nexport { n as Profiler };","map":{"version":3,"names":["e","t","has","createDisjointTimerQuery","s","r","n","constructor","i","_this","_events","_entries","Map","_timings","_currentContainer","_currentPass","_currentBrush","_currentSummary","_ext","gl","_debugOutput","o","enableCommandLogging","a","includes","_len","arguments","length","Array","_key","emit","container","pass","brush","method","args","isDrawCommand","commands","drawCommands","apply","disableCommands","recordContainerStart","recordContainerEnd","recordPassStart","_initSummary","recordPassEnd","_emitSummary","recordBrushStart","recordBrushEnd","recordStart","get","resultAvailable","query","disjoint","getResult","enqueue","entries","toFixed","console","groupCollapsed","commandsLen","log","table","summaries","groupEnd","innerHTML","handles","remove","deleteQuery","delete","name","createQuery","push","on","beginTimeElapsed","set","recordEnd","endTimeElapsed","Profiler"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/views/2d/engine/webgl/Profiler.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/CircularArray.js\";import t from\"../../../../core/Evented.js\";import has from\"../../../../core/has.js\";import{createDisjointTimerQuery as s}from\"../../../webgl/capabilities/DisjointTimerQuery.js\";const r=!!has(\"esri-2d-profiler\");class n{constructor(n,i){if(this._events=new t,this._entries=new Map,this._timings=new e(10),this._currentContainer=null,this._currentPass=null,this._currentBrush=null,this._currentSummary=null,!r)return;this._ext=s(n.gl,{}),this._debugOutput=i;const o=n.gl;if(!this.enableCommandLogging)return;let a;for(a in o)if(\"function\"==typeof o[a]){const e=o[a],t=a.includes(\"draw\");o[a]=(...s)=>(this._events.emit(\"command\",{container:this._currentContainer,pass:this._currentPass,brush:this._currentBrush,method:a,args:s,isDrawCommand:t}),this._currentSummary&&(this._currentSummary.commands++,t&&this._currentSummary.drawCommands++),e.apply(o,s))}}get enableCommandLogging(){return!(\"object\"==typeof r&&r.disableCommands)}recordContainerStart(e){r&&(this._currentContainer=e)}recordContainerEnd(){r&&(this._currentContainer=null)}recordPassStart(e){r&&(this._currentPass=e,this._initSummary())}recordPassEnd(){r&&(this._currentPass=null,this._emitSummary())}recordBrushStart(e){r&&(this._currentBrush=e)}recordBrushEnd(){r&&(this._currentBrush=null)}recordStart(e){if(r&&null!=this._ext){if(this._entries.has(e)){const t=this._entries.get(e),s=this._ext.resultAvailable(t.query),r=this._ext.disjoint();if(s&&!r){const s=this._ext.getResult(t.query)/1e6;let r=0;if(null!=this._timings.enqueue(s)){const e=this._timings.entries,t=e.length;let s=0;for(const r of e)s+=r;r=s/t}const n=s.toFixed(2),i=r?r.toFixed(2):\"--\";this.enableCommandLogging?(console.groupCollapsed(`Frame report for ${e}, ${n} ms (${i} last 10 avg)\\n${t.commandsLen} Commands (${t.drawCommands} draw)`),console.log(\"RenderPass breakdown: \"),console.table(t.summaries),console.log(\"Commands: \",t.commands),console.groupEnd()):console.log(`Frame report for ${e}, ${n} ms (${i} last 10 avg)`),this._debugOutput.innerHTML=`${n} (${i})`}for(const e of t.handles)e.remove();this._ext.deleteQuery(t.query),this._entries.delete(e)}const t={name:e,query:this._ext.createQuery(),commands:[],commandsLen:0,drawCommands:0,summaries:[],handles:[]};this.enableCommandLogging&&(t.handles.push(this._events.on(\"command\",(e=>{t.commandsLen++,t.commands.push(e),e.isDrawCommand&&t.drawCommands++}))),t.handles.push(this._events.on(\"summary\",(e=>{t.summaries.push(e)})))),this._ext.beginTimeElapsed(t.query),this._entries.set(e,t)}}recordEnd(e){r&&null!=this._ext&&this._entries.has(e)&&this._ext.endTimeElapsed()}_initSummary(){this.enableCommandLogging&&(this._currentSummary={container:this._currentContainer,pass:this._currentPass,drawCommands:0,commands:0})}_emitSummary(){this.enableCommandLogging&&this._currentSummary&&this._events.emit(\"summary\",this._currentSummary)}}export{n as Profiler};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}