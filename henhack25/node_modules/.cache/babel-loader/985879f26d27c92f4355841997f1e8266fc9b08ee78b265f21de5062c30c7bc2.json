{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport { urlToObject as e, getOrigin as r, removeTrailingSlash as t, removeQueryParameters as s, join as n, Url as l, makeAbsolute as i } from \"../../core/urlUtils.js\";\nimport { w as u } from \"../../chunks/persistableUrlUtils.js\";\nconst o = {\n    mapserver: \"MapServer\",\n    imageserver: \"ImageServer\",\n    featureserver: \"FeatureServer\",\n    knowledgegraphserver: \"KnowledgeGraphServer\",\n    sceneserver: \"SceneServer\",\n    streamserver: \"StreamServer\",\n    vectortileserver: \"VectorTileServer\",\n    \"3dtilesserver\": \"3DTilesServer\",\n    videoserver: \"VideoServer\"\n  },\n  a = Object.values(o),\n  c = new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`, \"i\"),\n  v = new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`, \"i\"),\n  f = /(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;\nfunction p(e) {\n  return c.test(e);\n}\nfunction d(r) {\n  if (null == r) return null;\n  const t = e(r),\n    s = t?.path.match(c) || t?.path.match(v);\n  if (!s) return null;\n  const [, n, l, i, u] = s,\n    a = l.indexOf(\"/\");\n  return {\n    title: m(-1 !== a ? l.slice(a + 1) : l),\n    serverType: o[i.toLowerCase()],\n    sublayer: null != u && \"\" !== u ? parseInt(u, 10) : null,\n    url: {\n      path: n\n    }\n  };\n}\nfunction h(r) {\n  const t = e(r).path.match(f);\n  return t ? {\n    serviceUrl: t[1],\n    sublayerId: Number(t[2])\n  } : null;\n}\nfunction m(e) {\n  return (e = e.replaceAll(/\\s*[/_]+\\s*/g, \" \"))[0].toUpperCase() + e.slice(1);\n}\nfunction w(e, r) {\n  const t = [];\n  if (e) {\n    const r = d(e);\n    null != r && r.title && t.push(r.title);\n  }\n  if (r) {\n    const e = m(r);\n    t.push(e);\n  }\n  if (2 === t.length) {\n    if (t[0].toLowerCase().includes(t[1].toLowerCase())) return t[0];\n    if (t[1].toLowerCase().includes(t[0].toLowerCase())) return t[1];\n  }\n  return t.join(\" - \");\n}\nfunction g(e) {\n  let t = r(e, !0);\n  return !!t && (t = t.toLowerCase(), t.endsWith(\".arcgis.com\") && (t.startsWith(\"services\") || t.startsWith(\"tiles\") || t.startsWith(\"features\")));\n}\nfunction y(e, r) {\n  return e ? t(s(e, r)) : e;\n}\nfunction S(r) {\n  let {\n    url: n\n  } = r;\n  if (!n) return {\n    url: n\n  };\n  n = s(n, r.logger);\n  const l = e(n),\n    i = d(l.path);\n  let u;\n  if (null != i) null != i.sublayer && null == r.layer.layerId && (u = i.sublayer), n = i.url.path;else if (r.nonStandardUrlAllowed) {\n    const e = h(l.path);\n    null != e && (n = e.serviceUrl, u = e.sublayerId);\n  }\n  return {\n    url: t(n),\n    layerId: u\n  };\n}\nfunction C(e, r, t, s, l) {\n  u(r, s, \"url\", l), s.url && null != e.layerId && (s.url = n(s.url, t, e.layerId.toString()));\n}\nfunction b(e) {\n  if (!e) return !1;\n  const r = e.toLowerCase(),\n    t = r.includes(\"/services/\"),\n    s = r.includes(\"/mapserver/wmsserver\"),\n    n = r.includes(\"/imageserver/wmsserver\"),\n    l = r.includes(\"/wmsserver\");\n  return t && (s || n || l);\n}\nfunction I(e) {\n  if (!e) return !1;\n  const r = new l(i(e)),\n    t = r.authority?.toLowerCase();\n  return \"server.arcgisonline.com\" === t || \"services.arcgisonline.com\" === t;\n}\nexport { m as cleanTitle, p as isArcGISUrl, g as isHostedAgolService, I as isServerOrServicesAGOLUrl, b as isWmsServer, d as parse, h as parseNonStandardSublayerUrl, y as sanitizeUrl, S as sanitizeUrlWithLayerId, a as serverTypes, w as titleFromUrlAndName, C as writeUrlWithLayerId };","map":{"version":3,"names":["urlToObject","e","getOrigin","r","removeTrailingSlash","t","removeQueryParameters","s","join","n","Url","l","makeAbsolute","i","w","u","o","mapserver","imageserver","featureserver","knowledgegraphserver","sceneserver","streamserver","vectortileserver","videoserver","a","Object","values","c","RegExp","v","f","p","test","d","path","match","indexOf","title","m","slice","serverType","toLowerCase","sublayer","parseInt","url","h","serviceUrl","sublayerId","Number","replaceAll","toUpperCase","push","length","includes","g","endsWith","startsWith","y","S","logger","layer","layerId","nonStandardUrlAllowed","C","toString","b","I","authority","cleanTitle","isArcGISUrl","isHostedAgolService","isServerOrServicesAGOLUrl","isWmsServer","parse","parseNonStandardSublayerUrl","sanitizeUrl","sanitizeUrlWithLayerId","serverTypes","titleFromUrlAndName","writeUrlWithLayerId"],"sources":["C:/Users/nolan/tasks/HenHacks2025/henhack25/node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{urlToObject as e,getOrigin as r,removeTrailingSlash as t,removeQueryParameters as s,join as n,Url as l,makeAbsolute as i}from\"../../core/urlUtils.js\";import{w as u}from\"../../chunks/persistableUrlUtils.js\";const o={mapserver:\"MapServer\",imageserver:\"ImageServer\",featureserver:\"FeatureServer\",knowledgegraphserver:\"KnowledgeGraphServer\",sceneserver:\"SceneServer\",streamserver:\"StreamServer\",vectortileserver:\"VectorTileServer\",\"3dtilesserver\":\"3DTilesServer\",videoserver:\"VideoServer\"},a=Object.values(o),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),v=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),f=/(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;function p(e){return c.test(e)}function d(r){if(null==r)return null;const t=e(r),s=t?.path.match(c)||t?.path.match(v);if(!s)return null;const[,n,l,i,u]=s,a=l.indexOf(\"/\");return{title:m(-1!==a?l.slice(a+1):l),serverType:o[i.toLowerCase()],sublayer:null!=u&&\"\"!==u?parseInt(u,10):null,url:{path:n}}}function h(r){const t=e(r).path.match(f);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function m(e){return(e=e.replaceAll(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function w(e,r){const t=[];if(e){const r=d(e);null!=r&&r.title&&t.push(r.title)}if(r){const e=m(r);t.push(e)}if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(\" - \")}function g(e){let t=r(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(\".arcgis.com\")&&(t.startsWith(\"services\")||t.startsWith(\"tiles\")||t.startsWith(\"features\")))}function y(e,r){return e?t(s(e,r)):e}function S(r){let{url:n}=r;if(!n)return{url:n};n=s(n,r.logger);const l=e(n),i=d(l.path);let u;if(null!=i)null!=i.sublayer&&null==r.layer.layerId&&(u=i.sublayer),n=i.url.path;else if(r.nonStandardUrlAllowed){const e=h(l.path);null!=e&&(n=e.serviceUrl,u=e.sublayerId)}return{url:t(n),layerId:u}}function C(e,r,t,s,l){u(r,s,\"url\",l),s.url&&null!=e.layerId&&(s.url=n(s.url,t,e.layerId.toString()))}function b(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes(\"/services/\"),s=r.includes(\"/mapserver/wmsserver\"),n=r.includes(\"/imageserver/wmsserver\"),l=r.includes(\"/wmsserver\");return t&&(s||n||l)}function I(e){if(!e)return!1;const r=new l(i(e)),t=r.authority?.toLowerCase();return\"server.arcgisonline.com\"===t||\"services.arcgisonline.com\"===t}export{m as cleanTitle,p as isArcGISUrl,g as isHostedAgolService,I as isServerOrServicesAGOLUrl,b as isWmsServer,d as parse,h as parseNonStandardSublayerUrl,y as sanitizeUrl,S as sanitizeUrlWithLayerId,a as serverTypes,w as titleFromUrlAndName,C as writeUrlWithLayerId};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}