{"version":3,"file":"static/js/7933.cc661b6a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js","../node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js","../node_modules/@arcgis/core/core/QueueProcessor.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../request.js\";import i from\"../../../core/Error.js\";import o from\"../../../core/JSONSupport.js\";import r from\"../../../core/Logger.js\";import{onAbort as n}from\"../../../core/promiseUtils.js\";import{QueueProcessor as s}from\"../../../core/QueueProcessor.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import{ensureClass as a}from\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import f from\"../../../geometry/Extent.js\";import m from\"../../../geometry/Point.js\";import u from\"../../../geometry/SpatialReference.js\";import{sanitizeUrl as h}from\"../arcgisLayerUrl.js\";import{url as p}from\"../commonProperties.js\";import d from\"../DimensionalDefinition.js\";import x from\"../LOD.js\";import y from\"../RasterStorageInfo.js\";import g from\"../TileInfo.js\";import{isMultiSliceOrRangeDefinition as I,getSliceIndex as R,createSlices as w,getSliceIds as S}from\"./multidimensionalUtils.js\";import{getRasterId as k,getBlock as T,putBlock as v,deleteBlock as b,decreaseRefCount as P}from\"./RawBlockCache.js\";import{convertNoDataToMask as B}from\"../rasterFormats/pixelRangeUtils.js\";import{decode as _}from\"../rasterFormats/RasterCodec.js\";import{mosaic as M,approximateTransform as C,getLocalArithmeticNorthRotations as W}from\"../rasterFunctions/pixelUtils.js\";import{getWorldWidth as j,load as z,projectPoint as H,snapPyramid as L,shiftExtent as E,getWorldWrapCount as D,projectExtent as F,getProjectionOffsetGrid as O,getRasterDatasetAlignmentInfo as A,projectResolution as G}from\"../rasterFunctions/rasterProjectionHelper.js\";import{convertToLocalDirections as q,uvComponentToVector as J}from\"../rasterFunctions/vectorFieldUtils.js\";const N=8,V=256;let U=0,$=class extends o{constructor(){super(...arguments),this._tileFetchQueue=new s({concurrency:32,process:(e,t)=>this._fetchRawTile(e.pyramidLevel,e.row,e.col,{...e.options,signal:t})}),this.datasetName=null,this.datasetFormat=null,this.hasUniqueSourceStorageInfo=!0,this.rasterInfo=null,this.ioConfig={sampling:\"closest\"}}normalizeCtorArgs(e){return e?.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:\"closest\",tileInfo:g.create(),...e.ioConfig}}),e}get _isGlobalWrappableSource(){const{rasterInfo:e}=this,t=j(e.spatialReference);return null!=t&&e.extent.width>=t/2}get _hasNoneOrGCSShiftTransform(){const{transform:e}=this.rasterInfo;return null==e||\"gcs-shift\"===e.type}set rasterJobHandler(e){this._set(\"rasterJobHandler\",e),\"Function\"===this.datasetFormat&&this.primaryRasters?.rasters?.forEach((t=>t.rasterJobHandler=e))}get rasterId(){return this.url||\"rasterId-\"+U++}set url(e){this._set(\"url\",h(e,r.getLogger(this)))}async open(e){return this._openPromise??=z().then((()=>this._open(e))),this._openPromise}async fetchTile(e,t,i,o={}){const r=o.tileInfo||this.rasterInfo.storageInfo.tileInfo,n=this.getTileExtentFromTileInfo(e,t,i,r);return o={noClip:!0,...o},this.fetchPixels(n,r.size[0],r.size[1],o)}async identify(e,t={}){e=a(m,e).clone().normalize();const{multidimensionalDefinition:i,timeExtent:o}=t,{rasterInfo:r}=this,{hasMultidimensionalTranspose:n,multidimensionalInfo:s}=r;let{transposedVariableName:l}=t;const c=null!=s&&n&&(null!=o||I(i));if(c&&!l){l=null!=i&&i.length>0?i[0].variableName??void 0:s.variables[0].name,t={...t,transposedVariableName:l}}t=this._getRequestOptionsWithSliceId(t);const{spatialReference:u,extent:h}=r,{datumTransformation:p}=t;let d=H(e,u,p);if(!h.intersects(d))return{location:d,value:null};if(null!=r.transform){const e=r.transform.inverseTransform(d);if(!r.nativeExtent.intersects(e))return{location:e,value:null};d=e}let x=0;const y=null!=l&&null!=s&&r.hasMultidimensionalTranspose;if(\"Function\"===this.datasetFormat){const e=this.primaryRasters.rasters[0];if(y)return e.identify(d,t);const{pixelSize:o}=r,n=3,s=o.x*n/2,l=o.y*n/2,a=new f({xmin:d.x-s,xmax:d.x+s,ymin:d.y-l,ymax:d.y+l,spatialReference:u}),c={interpolation:\"nearest\",multidimensionalDefinition:i,sliceId:t.sliceId},{pixelBlock:m}=await e.fetchPixels(a,n,n,c),{pixelBlock:h}=await this.fetchPixels(a,n,n,c);if(null==m)return{location:d,value:null};const p=Math.floor(n*n*.5),x=!m.mask||m.mask[p]?m.pixels.map((e=>e[p])):null;let g;return null!=h&&(g=!h.mask||h.mask[p]?h.pixels.map((e=>e[p])):void 0),{location:d,value:x,processedValue:g,pyramidLevel:0}}if(!y)if(t.srcResolution){x=L(t.srcResolution,r,this.ioConfig.sampling).pyramidLevel}else if(x=await this.computeBestPyramidLevelForLocation(e,t),null==x)return{location:d,value:null};const g=this.identifyPixelLocation(d,x,null,y);if(null===g)return{location:d,value:null};const{row:R,col:w,rowOffset:S,colOffset:b,blockWidth:P}=g,B=l??t.sliceId,_=k(this.rasterId,B),M=`${x}/${R}/${w}`;let C=T(_,null,M);null==C&&(C=this.fetchRawTile(x,R,w,t),v(_,null,M,C));const W=await C;if(!W?.pixels?.length)return{location:d,value:null};const j=S*P+b;return this._processIdentifyResult(W,{srcLocation:d,position:j,pyramidLevel:x,useTransposedTile:!!y,requestSomeSlices:c,identifyOptions:t})}async fetchPixels(e,t,i,o={}){e=E(e),o=this._getRequestOptionsWithSliceId(o);const{_hasNoneOrGCSShiftTransform:r}=this;if(o.requestRawData&&r)return this._fetchPixels(e,t,i,o);const n=j(e.spatialReference),s=D(e);if(null==n||0===s||1===s&&this._isGlobalWrappableSource&&r)return this._fetchPixels(e,t,i,o);if(s>=3)return{extent:e,pixelBlock:null};const l=[],{xmin:a,xmax:c}=e,m=Math.round(n/(c-a)*t),u=m-Math.round((n/2-a)/(c-a)*t);let h=0;const p=[];for(let g=0;g<=s;g++){const r=new f({xmin:0===g?a:-n/2,xmax:g===s?c-n*g:n/2,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference}),d=0===g?m-u:g===s?t-h:m;h+=d,p.push(d);const x=o.disableWrapAround&&g>0?null:this._fetchPixels(r,d,i,o);l.push(x)}const d=(await Promise.all(l)).map((e=>e?.pixelBlock));let x=null;const y={width:t,height:i};if(this.rasterJobHandler){x=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:d,srcMosaicSize:y,destDimension:null,coefs:null,sampleSpacing:null,interpolation:\"nearest\",alignmentInfo:null,blockWidths:p},o)).pixelBlock}else x=M(d,y,{blockWidths:p});return{extent:e,srcExtent:F(e,this.rasterInfo.spatialReference,o.datumTransformation),pixelBlock:x}}async fetchRawPixels(e,t,i,o={}){t={x:Math.floor(t.x),y:Math.floor(t.y)};const r=await this._fetchRawTiles(e,t,i,o),{nativeExtent:n,nativePixelSize:s,storageInfo:l}=this.rasterInfo,a=2**e,c=s.x*a,m=s.y*a,u=new f({xmin:n.xmin+c*t.x,xmax:n.xmin+c*(t.x+i.width-1),ymin:n.ymax-m*(t.y+i.height-1),ymax:n.ymax-m*t.y,spatialReference:n.spatialReference});if(!r)return{extent:u,srcExtent:u,pixelBlock:null};const{pixelBlocks:h,mosaicSize:p}=r;if(1===h.length&&null!=h[0]&&h[0].width===i.width&&h[0].height===i.height)return{extent:u,srcExtent:u,pixelBlock:r.pixelBlocks[0]};const d=e>0?l.pyramidBlockWidth:l.blockWidth,x=e>0?l.pyramidBlockHeight:l.blockHeight,y={x:t.x%d,y:t.y%x};let g;if(this.rasterJobHandler){g=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:h,srcMosaicSize:p,destDimension:i,clipOffset:y,clipSize:i,coefs:null,sampleSpacing:null,interpolation:o.interpolation,alignmentInfo:null,blockWidths:null},o)).pixelBlock}else g=M(h,p,{clipOffset:y,clipSize:i});return{extent:u,srcExtent:u,pixelBlock:g}}fetchRawTile(e,t,o,r){throw new i(\"BaseRaster:read-not-implemented\",\"fetchRawTile() is not implemented\")}computeExtent(e){return F(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?_(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,i,o=0){const{customFetchParameters:r}=this.ioConfig,{range:n,query:s,headers:l}=i;o=o??i.retryCount??this.ioConfig.retryCount;const a=n?{Range:`bytes=${n.from}-${n.to}`}:null;try{return await t(e,{...i,query:{...s,...r},headers:{...l,...a}})}catch(c){if(o>0)return o--,this.request(e,i,o);throw c}}getSliceIndex(e){const{multidimensionalInfo:t}=this.rasterInfo;return null==t||null==e||0===e.length?null:R(e,t)}getTileExtentFromTileInfo(e,t,i,o){const r=o.lodAt(e);return this.getTileExtent({x:r.resolution,y:r.resolution},t,i,o.origin,o.spatialReference,o.size)}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:i,pixelSize:o}=this.rasterInfo,{pyramidResolutions:r}=e;if(!e.tileInfo){const n=[],s=e.maximumPyramidLevel||0;let l=(o.x+o.y)/2,a=1/.0254*96*l;for(let e=0;e<=s&&(n.unshift(new x({level:s-e,resolution:l,scale:a})),e!==s);e++)if(r){const t=(r[e].x+r[e].y)/2;a*=t/l,l=t}else l*=2,a*=2;const c=new m({x:i.xmin,y:i.ymax,spatialReference:t});e.tileInfo=new g({origin:c,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:n}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,i=512,o){const{width:r,height:n,nativeExtent:s,pixelSize:l,spatialReference:a}=e,c=new m({x:s.xmin,y:s.ymax,spatialReference:a});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(r,n))/Math.LN2-8)));const f=this.computeBlockBoundary(s,512,512,{x:s.xmin,y:s.ymax},[l],o);e.storageInfo=new y({blockWidth:t,blockHeight:i,pyramidBlockWidth:t,pyramidBlockHeight:i,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:f})}async computeBestPyramidLevelForLocation(e,t={}){return 0}computeBlockBoundary(e,t,i,o,r,n=0,s=2){if(1===r.length&&n>0){r=[...r];let{x:e,y:t}=r[0];for(let i=0;i<n;i++)e*=s,t*=s,r.push({x:e,y:t})}const l=[],{x:a,y:c}=o;for(let f=0;f<r.length;f++){const{x:o,y:n}=r[f];l.push({minCol:Math.floor((e.xmin-a+.1*o)/t/o),maxCol:Math.floor((e.xmax-a-.1*o)/t/o),minRow:Math.floor((c-e.ymax+.1*n)/i/n),maxRow:Math.floor((c-e.ymin-.1*n)/i/n)})}return l}getPyramidPixelSize(e){const{nativePixelSize:t}=this.rasterInfo,{pyramidResolutions:i,pyramidScalingFactor:o}=this.rasterInfo.storageInfo;if(0===e)return t;if(null!=i&&i.length)return i[e-1];const r=o**e;return{x:t.x*r,y:t.y*r}}identifyPixelLocation(e,t,i,o){const{spatialReference:r,nativeExtent:n,storageInfo:s}=this.rasterInfo,{maximumPyramidLevel:l,origin:a,transposeInfo:c}=s,f=o&&null!=c?c.tileSize[0]:s.blockWidth,m=o&&null!=c?c.tileSize[1]:s.blockHeight,u=H(e,r,i);if(!n.intersects(u))return null;if(t<0||t>l)return null;const h=this.getPyramidPixelSize(t),{x:p,y:d}=h,x=(a.y-u.y)/d/m,y=(u.x-a.x)/p/f,g=Math.min(m-1,Math.floor((x-Math.floor(x))*m)),I=Math.min(f-1,Math.floor((y-Math.floor(y))*f));return{pyramidLevel:t,row:Math.floor(x),col:Math.floor(y),rowOffset:g,colOffset:I,blockWidth:f,srcLocation:u}}getTileExtent(e,t,i,o,r,n){const[s,l]=n,a=o.x+i*s*e.x,c=a+s*e.x,m=o.y-t*l*e.y,u=m-l*e.y;return new f({xmin:a,xmax:c,ymin:u,ymax:m,spatialReference:r})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,i){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<i||o.minRow>t||o.minCol>i}updateImageSpaceRasterInfo(e){const{pixelSize:t}=e,{width:i,height:o}=e,r=u.WebMercator;e.spatialReference=r,e.extent=e.nativeExtent=new f({xmin:-.5,ymax:.5,xmax:i-.5,ymin:.5-o,spatialReference:r}),e.isPseudoSpatialReference=!0,e.transform=null,e.pixelSize=new m({x:1,y:1,spatialReference:r});const{extent:n,storageInfo:s}=e;if(s){s.origin=new m({x:n.xmin,y:n.ymax,spatialReference:r});const{pyramidResolutions:i,tileInfo:o}=s;if(i&&i.forEach((e=>{e.x/=t.x,e.y/=t.y})),o){o.origin=s.origin;const t=(e.nativePixelSize.x+e.nativePixelSize.y)/2;o.lods.forEach(((e,i)=>{e.resolution=t*2**i,e.scale=96*e.resolution/.0254}))}}}async _fetchPixels(e,t,i,o={}){let r=D(e);if(r>=2)return{extent:e,pixelBlock:null};const n=this._getSourceDataInfo(e,t,i,o),{pyramidLevel:s,srcResolution:l,srcExtent:a,srcWidth:c,srcHeight:f,ul:u}=n;if(0===c||0===f)return{extent:e,srcExtent:a,pixelBlock:null};const{rasterInfo:h}=this,p=h.transform,d=\"gcs-shift\"===p?.type,x=null!=j(e.spatialReference);!d&&x||(r=D(n.srcExtent,d));const y=await this._fetchRawTiles(s,u,{width:c,height:f,wrapCount:r},o);if(!y)return{extent:e,srcExtent:a,pixelBlock:null};const g=h.storageInfo,I=s>0?g.pyramidBlockWidth:g.blockWidth,R=s>0?g.pyramidBlockHeight:g.blockHeight;let{x:w,y:S}=h.pixelSize;if(s>0){const{pyramidResolutions:e,pyramidScalingFactor:t}=g;if(null!=e&&e[s-1])({x:w,y:S}=e[s-1]);else{const e=t**s;w*=e,S*=e}}const k=h.spatialReference,T=new m({x:w,y:S,spatialReference:k}),v=I===c&&R===f&&u.x%I==0&&u.y%R==0,b=new m({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference}),P=!e.spatialReference.equals(k),B=k.isGeographic?1e-9:1e-4,{datumTransformation:_}=o;if(!P&&v&&1===y.pixelBlocks.length&&I===t&&R===i&&Q(l,b,B))return{extent:e,srcExtent:a,srcTilePixelSize:T,pixelBlock:y.pixelBlocks[0]};const H=x&&null!=j(a.spatialReference)&&this._hasNoneOrGCSShiftTransform,L=o.requestProjectedLocalDirections&&this.rasterInfo.dataType.startsWith(\"vector\");L&&!this.rasterJobHandler&&await z();const E=this.rasterJobHandler?await this.rasterJobHandler.getProjectionOffsetGrid({projectedExtent:e,srcBufferExtent:y.extent,pixelSize:b.toJSON(),datumTransformation:_,rasterTransform:p,hasWrapAround:r>0||H,isAdaptive:!1!==this.ioConfig.optimizeProjectionAccuracy,includeGCSGrid:L},o):O({projectedExtent:e,srcBufferExtent:y.extent,pixelSize:b,datumTransformation:_,rasterTransform:p,hasWrapAround:r>0||H,isAdaptive:!1,includeGCSGrid:L});let F;const A=!o.requestRawData,G={rows:E.spacing[0],cols:E.spacing[1]},J=this._hasNoneOrGCSShiftTransform?this._getRasterTileAlignmentInfo(s,y.extent.xmin):void 0,{pixelBlocks:N,mosaicSize:V,isPartiallyFilled:U}=y;let $=null;if(this.rasterJobHandler){const e=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:N,srcMosaicSize:V,destDimension:A?{width:t,height:i}:null,coefs:A?E.coefficients:null,sampleSpacing:A?G:null,projectDirections:L,gcsGrid:L?E.gcsGrid:null,isUV:\"vector-uv\"===this.rasterInfo.dataType,interpolation:o.interpolation,alignmentInfo:J,blockWidths:null},o);({pixelBlock:F,localNorthDirections:$}=e)}else{const e=M(N,V,{alignmentInfo:J});F=A?C(e,{width:t,height:i},E.coefficients,G,o.interpolation):e,L&&E.gcsGrid&&($=W({width:t,height:i},E.gcsGrid),F=q(F,this.rasterInfo.dataType,$))}return o.requestRawData||L?{extent:e,srcExtent:a,srcTilePixelSize:T,pixelBlock:F,transformGrid:E,localNorthDirections:$,isPartiallyFilled:U}:{extent:e,srcExtent:a,srcTilePixelSize:T,pixelBlock:F}}async _fetchRawTiles(e,t,i,o){const{origin:r,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:l}=this.getBlockWidthHeight(e);let{x:a,y:c}=t,{width:m,height:u,wrapCount:h}=i;const p=this._getRasterTileAlignmentInfo(e,0);o.buffer&&(a-=o.buffer.cols,c-=o.buffer.rows,m+=2*o.buffer.cols,u+=2*o.buffer.rows);let d=0,x=0,y=0;if(h&&null!=p){({worldColumnCountFromOrigin:x,originColumnOffset:y,rightPadding:d}=p);x*p.blockWidth-d>=a+m&&(d=0)}const g=Math.floor(a/s),I=Math.floor(c/l),R=Math.floor((a+m+d-1)/s),w=Math.floor((c+u+d-1)/l),S=n[e];if(!S)return null;const{minRow:k,minCol:T,maxCol:v,maxRow:b}=S;if(0===h&&(w<k||R<T||I>b||g>v))return null;const P=new Array;let B=!1;const _=null==this.ioConfig.allowPartialFill?o.allowPartialFill:this.ioConfig.allowPartialFill;for(let f=I;f<=w;f++)for(let t=g;t<=R;t++){let i=t;if(!o.disableWrapAround&&h&&null!=p&&x<=t&&(i=t-x-y),f>=k&&i>=T&&b>=f&&v>=i){const t=this._tileFetchQueue.push({pyramidLevel:e,row:f,col:i,options:o},{signal:o.signal});_?P.push(new Promise((e=>{t.then((t=>e(t))).catch((()=>{B=!0,e(null)}))}))):P.push(t)}else P.push(Promise.resolve(null))}if(0===P.length)return null;const M=await Promise.all(P),C={height:(w-I+1)*l,width:(R-g+1)*s},{spatialReference:W}=this.rasterInfo,j=this.getPyramidPixelSize(e),{x:z,y:H}=j;return{extent:new f({xmin:r.x+g*s*z,xmax:r.x+(R+1)*s*z,ymin:r.y-(w+1)*l*H,ymax:r.y-I*l*H,spatialReference:W}),pixelBlocks:M,mosaicSize:C,isPartiallyFilled:B}}_fetchRawTile(e,t,i,o){const r=this.rasterInfo.storageInfo.blockBoundary[e];if(!r)return Promise.resolve(null);const{minRow:s,minCol:l,maxCol:a,maxRow:c}=r;if(t<s||i<l||t>c||i>a)return Promise.resolve(null);const f=k(this.rasterId,o.sliceId),m=`${e}/${t}/${i}`;let u=T(f,o.registryId,m);if(null==u){const r=new AbortController;u=this.fetchRawTile(e,t,i,{...o,signal:r.signal}),v(f,o.registryId,m,u,r),u.catch((()=>b(f,o.registryId,m)))}return o.signal&&n(o,(()=>{P(f,o.registryId,m)})),u}_computeMagDirValues(e){const{bandCount:t,dataType:i}=this.rasterInfo;if(!(2===t&&\"vector-magdir\"===i||\"vector-uv\"===i)||2!==e?.length||!e[0]?.length)return null;const o=e[0].length;if(\"vector-magdir\"===i){const t=e[1].map((e=>(e+360)%360));return[e[0],t]}const[r,n]=e,s=[],l=[];for(let a=0;a<o;a++){const[e,t]=J([r[a],n[a]]);s.push(e),l.push(t)}return[s,l]}_getRasterTileAlignmentInfo(e,t){return null==this._rasterTileAlignmentInfo&&(this._rasterTileAlignmentInfo=A(this.rasterInfo)),null==this._rasterTileAlignmentInfo.pyramidsInfo?null:{startX:t,halfWorldWidth:this._rasterTileAlignmentInfo.halfWorldWidth,hasGCSSShiftTransform:this._rasterTileAlignmentInfo.hasGCSSShiftTransform,...this._rasterTileAlignmentInfo.pyramidsInfo[e]}}_getSourceDataInfo(e,t,i,o={}){const r={datumTransformation:o.datumTransformation,pyramidLevel:0,pyramidResolution:null,srcExtent:null,srcHeight:0,srcResolution:null,srcWidth:0,ul:{x:0,y:0}};o.srcResolution&&(r.srcResolution=o.srcResolution,this._updateSourceDataInfo(e,r));const n=this.rasterInfo.storageInfo.maximumPyramidLevel||0,{srcWidth:s,srcHeight:l,pyramidLevel:a}=r,c=s/t,f=l/i,u=a<n&&c*f>=16,h=a===n&&this._requireTooManySrcTiles(s,l,t,i);if(u||h||(0===s||0===l)){const s=new m({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference});let l=G(s,this.rasterInfo.spatialReference,e,r.datumTransformation);const h=!l||o.srcResolution&&l.x+l.y<o.srcResolution.x+o.srcResolution.y;if(u&&o.srcResolution&&h){const e=Math.round(Math.log(Math.max(c,f))/Math.LN2)-1;if(n-a+3>=e){const t=2**e;l={x:o.srcResolution.x*t,y:o.srcResolution.y*t}}}l&&(r.srcResolution=l,this._updateSourceDataInfo(e,r))}return this._requireTooManySrcTiles(r.srcWidth,r.srcHeight,t,i)&&(r.srcWidth=0,r.srcHeight=0),r}_requireTooManySrcTiles(e,t,i,o){const{tileInfo:r}=this.rasterInfo.storageInfo,n=Math.ceil(e/r.size[0])*Math.ceil(t/r.size[1]),s=e/i,l=t/o,a=Math.max(1,(i+o)/1024);return n>=V*a||s>N||l>N}_updateSourceDataInfo(e,t){t.srcWidth=0,t.srcHeight=0;const{rasterInfo:i}=this,o=i.spatialReference,{srcResolution:r,datumTransformation:n}=t,{pyramidLevel:s,pyramidResolution:l,excessiveReading:a}=L(r,i,this.ioConfig.sampling);if(a)return;let c=t.srcExtent||F(e,o,n);if(null==c)return;const f=i.transform;f&&(c=f.inverseTransform(c)),t.srcExtent=c;const{x:m,y:u}=i.storageInfo.origin,h=Math.floor((c.xmin-m)/l.x+.1),p=Math.floor((u-c.ymax)/l.y+.1),d=Math.floor((c.xmax-m)/l.x-.1),x=Math.floor((u-c.ymin)/l.y-.1),y=c.width<.1*l.x?0:d-h+1,g=c.height<.1*l.y?0:x-p+1;t.pyramidLevel=s,t.pyramidResolution=l,t.srcWidth=y,t.srcHeight=g,t.ul={x:h,y:p}}_getRequestOptionsWithSliceId(e){return null!=this.rasterInfo.multidimensionalInfo&&null==e.sliceId&&(e={...e,sliceId:this.getSliceIndex(e.multidimensionalDefinition)}),e}_processIdentifyResult(e,t){const{srcLocation:i,position:o,pyramidLevel:r,useTransposedTile:n}=t,s=e.pixels[0].length/e.width/e.height;if(!(!e.mask||e.mask[o]))return{location:i,value:null};const{multidimensionalInfo:l}=this.rasterInfo;if(null==l||!n){const t=e.pixels.map((e=>e[o])),n={location:i,value:t,pyramidLevel:r},s=this._computeMagDirValues(t.map((e=>[e])));return s?.length&&(n.magdirValue=s.map((e=>e[0]))),n}let a=e.pixels.map((e=>e.slice(o*s,o*s+s))),c=this._computeMagDirValues(a);const{requestSomeSlices:f,identifyOptions:m}=t;let u=w(l,m.transposedVariableName);if(f){const e=S(u,m.multidimensionalDefinition,m.timeExtent);a=a.map((t=>e.map((e=>t[e])))),c=c?.map((t=>e.map((e=>t[e])))),u=e.map((e=>u[e]))}const h=e.noDataValues||this.rasterInfo.noDataValue,p={pixels:a,pixelType:e.pixelType};let x;null!=h&&(B(p,h),x=p.mask);return{location:i,value:null,dataSeries:u.map(((e,t)=>{const i={value:0===x?.[t]?null:a.map((e=>e[t])),multidimensionalDefinition:e.multidimensionalDefinition.map((e=>new d({...e,isSlice:!0})))};return c?.length&&(i.magdirValue=[c[0][t],c[1][t]]),i})),pyramidLevel:r}}};function Q(e,t,i){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}e([l()],$.prototype,\"_rasterTileAlignmentInfo\",void 0),e([l()],$.prototype,\"_tileFetchQueue\",void 0),e([l({readOnly:!0})],$.prototype,\"_isGlobalWrappableSource\",null),e([l({readOnly:!0})],$.prototype,\"_hasNoneOrGCSShiftTransform\",null),e([l()],$.prototype,\"_openPromise\",void 0),e([l()],$.prototype,\"rasterJobHandler\",null),e([l({readOnly:!0})],$.prototype,\"rasterId\",null),e([l(p)],$.prototype,\"url\",null),e([l({type:String,json:{write:!0}})],$.prototype,\"datasetName\",void 0),e([l({type:String,json:{write:!0}})],$.prototype,\"datasetFormat\",void 0),e([l()],$.prototype,\"hasUniqueSourceStorageInfo\",void 0),e([l()],$.prototype,\"rasterInfo\",void 0),e([l()],$.prototype,\"ioConfig\",void 0),e([l()],$.prototype,\"sourceJSON\",void 0),$=e([c(\"esri.layers.support.rasterDatasets.BaseRaster\")],$);const X=$;export{X as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../geometry/Point.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as l}from\"../rasterFunctions/rasterProjectionHelper.js\";const r=new Map,c=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function u(e,t){const n={extent:null,rasterInfo:t,cache:new Map},o=r.get(e);return o?(o.push(n),o.length-1):(r.set(e,[n]),0)}function a(e,t){const n=r.get(e);n&&(n[t]=null,n.some((e=>null!=e))||r.delete(e))}function f(e){r.delete(e)}function s(e,t,n){const o=r.get(e);if(!o)return null==t?c.decreaseRefCount(e,n):0;if(null==t||null==o[t])return c.decreaseRefCount(e,n);const l=o[t]?.cache,i=l?.get(n);if(l&&i){if(i.refCount--,0===i.refCount){l.delete(n);for(let e=0;e<o.length;e++)o[e]?.cache.delete(n);i.controller&&i.controller.abort()}return i.refCount}return 0}function m(e,t,n){const o=r.get(e);if(!o)return null==t?c.getBlock(e,n):null;if(null==t||null==o[t]){for(let e=0;e<o.length;e++){const t=o[e]?.cache.get(n);if(t)return t.refCount++,t.block}return c.getBlock(e,n)}const l=o[t]?.cache.get(n);if(l)return l.refCount++,l.block;for(let r=0;r<o.length;r++){if(r===t||!o[r])continue;const e=o[r]?.cache,l=e?.get(n);if(e&&l)return l.refCount++,e.set(n,l),l.block}return null}function h(e,t,n,o,l=null){const i=r.get(e);if(!i)return void(null==t&&c.putBlock(e,n,o,l));if(null==t||null==i[t])return void c.putBlock(e,n,o,l);const u={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:l};o.then((()=>u.isResolved=!0)).catch((()=>u.isRejected=!0)),i[t]?.cache.set(n,u)}function x(e,t,n){const o=r.get(e);o?null!=t&&null!=o[t]?o[t]?.cache.delete(n):c.deleteBlock(e,n):null==t&&c.deleteBlock(e,n)}function d(e,t){const n=r.get(e);return n?n[t]??null:null}function g(t,r,c,i,u,a,f=null){const s=d(t,r);if(!s)return;const m=s.extent,{cache:h,rasterInfo:x}=s;if(m&&m.xmin===c.xmin&&m.xmax===c.xmax&&m.ymin===c.ymin&&m.ymax===c.ymax)return;i=i??0;const g=c.clone().normalize(),{spatialReference:y,transform:p}=x,k=new Set;for(let d=0;d<g.length;d++){const t=g[d];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let r=n(t,y,f);null!=p&&(r=p.inverseTransform(r));const c=new e({x:i,y:i,spatialReference:t.spatialReference});if(null==u&&!(u=o(c,y,t,f)))return;const{pyramidLevel:s,pyramidResolution:m,excessiveReading:h}=l(u,x,a||\"closest\");if(h)return;const{storageInfo:M}=x,{origin:R}=M,{x:C,y:B}=m,b=Math.max(0,Math.floor((r.xmin-R.x)/C)),v=Math.max(0,Math.floor((R.y-r.ymax)/B)),w=Math.ceil(r.width/C-.1),j=Math.ceil(r.height/B-.1),$=s>0?M.pyramidBlockWidth:M.blockWidth,I=s>0?M.pyramidBlockHeight:M.blockHeight,H=M.blockBoundary[s];if(!H)continue;const E=1,P=Math.max(H.minCol,Math.floor(b/$)-E),W=Math.max(H.minRow,Math.floor(v/I)-E),z=Math.min(H.maxCol,Math.floor((b+w-1)/$)+E),F=Math.min(H.maxRow,Math.floor((v+j-1)/I)+E);for(let e=W;e<=F;e++)for(let t=P;t<=z;t++)k.add(`${s}/${e}/${t}`)}h.forEach(((e,t)=>{if(!k.has(t)){const e=h.get(t);(null==e||e.isResolved||e.isRejected)&&h.delete(t)}})),s.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}export{s as decreaseRefCount,x as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,h as putBlock,u as register,a as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()}),this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Error.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../geometry/Polygon.js\";import o from\"./BaseRaster.js\";import{clip as n}from\"../rasterFunctions/clipUtils.js\";import{approximateTransform as a}from\"../rasterFunctions/pixelUtils.js\";import{projectPolygon as l}from\"../rasterFunctions/rasterProjectionHelper.js\";import c from\"../../../rest/support/FeatureSet.js\";const p=40;let m=class extends o{constructor(){super(...arguments),this.datasetFormat=\"Function\",this.tileType=\"Raster\",this.rasterFunction=null,this._clippingGeometry=new Map}async fetchPixels(t,e,r,s={}){const{rasters:i,rasterIds:o}=this.primaryRasters;let l=!1;const{interpolation:c}=s,p=this.rasterFunction.flatWebGLFunctionChain?.hasFocalFunction;!s.requestRawData&&p&&(l=1===i.length&&!s.skipRasterFunction,s={...s,interpolation:\"bilinear\",requestRawData:l});const m=i.map((i=>i.fetchPixels(t,e,r,s))),u=await Promise.all(m),h=u.map((t=>t.pixelBlock)),f=l||s.requestRawData?u.map((t=>t.srcTilePixelSize)):null;if(s.skipRasterFunction||h.every((t=>null==t)))return u[0];const d=u.find((t=>null!=t.pixelBlock))?.extent??t;let y=this.rasterJobHandler?await this.rasterJobHandler.process({extent:d,primaryPixelBlocks:h,primaryPixelSizes:f,primaryRasterIds:o}):this.rasterFunction.process({extent:d,primaryPixelBlocks:h,primaryPixelSizes:f,primaryRasterIds:o});const{transformGrid:g}=u[0];if(!l||null==y||null==g){const t=s.noClip?null:this.getClippingGeometry(d.spatialReference);return s.noClip||s.requestRawData||null==y||!t||(y=await n(y,d,t)),{...u[0],pixelBlock:y}}const x={rows:g.spacing[0],cols:g.spacing[1]};let R;if(this.rasterJobHandler){R=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:[y],srcMosaicSize:{width:y.width,height:y.height},destDimension:{width:e,height:r},coefs:g.coefficients,sampleSpacing:x,projectDirections:!1,gcsGrid:null,isUV:!1,interpolation:c,alignmentInfo:void 0,blockWidths:null},s)).pixelBlock}else R=a(y,{width:e,height:r},g.coefficients,x,c);const w=s.noClip?null:this.getClippingGeometry(t.spatialReference);return s.noClip||s.requestRawData||null==R||null==w||(R=await n(R,t,w)),{extent:t,srcExtent:u[0].srcExtent,pixelBlock:R}}getClippingGeometry(t){const e=this._clippingGeometry.get(\"0\");if(!t||!e)return e;const r=f(t);let s=this._clippingGeometry.get(r);return null!=s||(s=t.equals(e.spatialReference)?e:l(e,t),this._clippingGeometry.set(r,s)),s}async _open(t){const{rasterFunction:r}=this;this.primaryRasters?.rasters?.length?r.sourceRasters=this.primaryRasters.rasters:(this.primaryRasters=r.getPrimaryRasters(),this.rasterJobHandler&&this.primaryRasters.rasters?.forEach((t=>t.rasterJobHandler=this.rasterJobHandler)));const{rasters:s,rasterIds:i}=this.primaryRasters,o=s.map((e=>e.rasterInfo?void 0:e.open(t)));await Promise.all(o);const n=s.map((({rasterInfo:t})=>t)),a=r.bind({rasterInfos:n,rasterIds:i});if(r.rawSourceRasterInfos=n,!a.success||0===n.length)throw new e(\"raster-function:open\",`cannot bind the function: ${a.error??\"\"}`);const l=\"Table\"===r.functionName?r:r.functionArguments?.raster;\"Table\"===l?.functionName&&(r.rasterInfo.attributeTable=c.fromJSON(l.functionArguments.attributeTableAsRecordSet)),await this.syncJobHandler();const p=n[0];this.hasUniqueSourceStorageInfo=1===n.length||n.slice(1).every((t=>h(t,p))),this.set(\"sourceJSON\",s[0].sourceJSON),this.set(\"rasterInfo\",r.rasterInfo),await this._updateClipGeometry()}async syncJobHandler(){return this.rasterJobHandler?.updateRasterFunction(this.rasterFunction)}async _updateClipGeometry(){const t=this.rasterFunction.getClippingGeometries()[0];let e=t?.clippingGeometry;if(e&&\"inside\"===t.clippingType){const{extent:t}=this.rasterInfo,{difference:r,densify:s}=await import(\"../../../geometry/geometryEngine.js\");let o=s(i.fromExtent(t),2*(t.width+t.height)/p);o=l(o,e.spatialReference),e=r(o,e)}this._clippingGeometry.clear(),e&&this._clippingGeometry.set(\"0\",e)}};t([r({type:String,json:{write:!0}})],m.prototype,\"datasetFormat\",void 0),t([r()],m.prototype,\"tileType\",void 0),t([r()],m.prototype,\"rasterFunction\",void 0),t([r()],m.prototype,\"primaryRasters\",void 0),m=t([s(\"esri.layers.support.rasterDatasets.FunctionRaster\")],m);const u=m;function h(t,e){const{storageInfo:r,pixelSize:s,spatialReference:i,extent:o}=t,{storageInfo:n,pixelSize:a,spatialReference:l,extent:c}=e;return s.x===a.x&&s.y===a.y&&i.equals(l)&&o.equals(c)&&r.blockHeight===n.blockHeight&&r.blockWidth===n.blockWidth&&r.maximumPyramidLevel===n.maximumPyramidLevel}function f(t){return String(t.wkid??t.wkt??t.wkt2)}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import i from\"../../core/Logger.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as n,ensureClass as o}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as a}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../geometry/Point.js\";import d from\"../../geometry/SpatialReference.js\";import{getInfo as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{sanitizeUrl as h}from\"../support/arcgisLayerUrl.js\";import{url as p}from\"../support/commonProperties.js\";import f from\"../support/DimensionalDefinition.js\";import y from\"../support/MultidimensionalSubset.js\";import{interpolationKebab as b}from\"../support/rasterEnums.js\";import g from\"../support/RasterFunction.js\";import R from\"../support/RasterJobHandler.js\";import F from\"../support/TileInfo.js\";import _ from\"../support/rasterDatasets/FunctionRaster.js\";import{getEffectiveMultidimensionalDefinition as I,getDefaultVariableInfo as J,isMultiSliceOrRangeDefinition as v,convertOleDateTimeToEpoch as S,getSubsetVariablesFromMdInfo as w,getDefaultMultidimensionalDefinition as x}from\"../support/rasterDatasets/multidimensionalUtils.js\";import{snapToRaster as j,clip as D}from\"../support/rasterFunctions/clipUtils.js\";import{create as H}from\"../support/rasterFunctions/rasterFunctionHelper.js\";import{load as N,projectExtent as T,projectPolygon as O}from\"../support/rasterFunctions/rasterProjectionHelper.js\";import{computeStatisticsHistograms as P}from\"../support/rasterFunctions/stretchUtils.js\";import{convertVectorFieldData as z}from\"../support/rasterFunctions/vectorFieldUtils.js\";import{normalizeRendererJSON as C,getVariableRasterInfo as E,getDefaultInterpolation as U,matchPresetRenderer as M,getDefaultBandCombination as k,getFunctionColorRamp as q,createDefaultRenderer as B}from\"../../renderers/support/rasterRendererHelper.js\";import L from\"../../renderers/support/RasterSymbolizer.js\";import{rasterRendererTypes as V,websceneRasterRendererTypes as A,read as $}from\"../../renderers/support/rasterTypeUtils.js\";import G from\"../../rest/support/ImageHistogramParameters.js\";import{createFlowMesh as W}from\"../../views/2d/engine/flow/dataUtils.js\";const K=K=>{let Q=class extends K{constructor(...e){super(...e),this._isConstructedFromFunctionRaster=!1,this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.interpolation=null,this.multidimensionalSubset=null,this.raster=null,this.serviceRasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.symbolizer=null,this._isConstructedFromFunctionRaster=\"Function\"===e[0]?.raster?.datasetFormat}get fullExtent(){return this.serviceRasterInfo?.extent}set multidimensionalDefinition(e){this._set(\"multidimensionalDefinition\",e),this.updateRenderer()}set rasterFunction(e){\"none\"===e?.functionName?.toLowerCase()&&(e=void 0),this._set(\"rasterFunction\",e),this.updateRasterFunction()}set url(e){this._set(\"url\",h(e,i.getLogger(this)))}get renderer(){if(\"imagery-tile\"!==this.type)return this.internalRenderer;const{activePresetRendererName:e,presetRenderers:t}=this;if(e){const r=t?.find((({name:t})=>t===e));return r?.renderer.clone()}return this.internalRenderer}set renderer(e){\"imagery-tile\"===this.type&&(this.activePresetRendererName=null),this.internalRenderer=e}set internalRenderer(e){null==e&&null==this.rasterFunction?this._configDefaultRenderer(\"override\"):(this._set(\"internalRenderer\",e),this.updateRenderer())}readRenderer(e,t,r){const i=t?.layerDefinition?.drawingInfo?.renderer;return $(i,r)||void 0}async convertVectorFieldData(e,t){const{serviceRasterInfo:r}=this;if(null==e||!r)return null;const i=this._rasterJobHandler.instance,s=r.dataType;return i?i.convertVectorFieldData({pixelBlock:e,dataType:s},t):z(e,s)}async computeStatisticsHistograms(e,t){await this.load(t),e=o(G,e).clone();const{serviceRasterInfo:i}=this;if(null==i)throw new r(\"imagery-tile-mixin:compute-statistics-histograms\",\"serviceRasterInfo must be specified\");const{geometry:s}=e;if(null==s)throw new r(\"imagery-tile-mixin:compute-statistics-histograms\",\"geometry must be specified\");let n=s;const{spatialReference:a}=i;s.spatialReference.equals(a)||(await N(),n=\"extent\"===s.type?T(s,a):O(s,a));const l=e.pixelSize??new u({x:i.pixelSize.x,y:i.pixelSize.y,spatialReference:a}),{extent:c,width:d,height:m}=j(i,n,l),h=await this.fetchPixels(c,d,m,{...t,interpolation:\"nearest\"});if(null==h.pixelBlock)throw new r(\"imagery-tile-mixin:compute-statistics-histograms\",\"failed to fetch pixels\");const p=await D(h.pixelBlock,c,n),f=this._rasterJobHandler.instance;return f?f.computeStatisticsHistograms({pixelBlock:p},t):P(p)}async createFlowMesh(e,t){const r=this._rasterJobHandler.instance;return r?r.createFlowMesh(e,t):W(e.meshType,e.simulationSettings,e.flowData,null!=t.signal?t.signal:(new AbortController).signal)}normalizeRasterFetchOptions(e){const{multidimensionalInfo:t}=this.serviceRasterInfo??{};if(null==t)return e;const r=I({rasterInfo:this.raster.rasterInfo,multidimensionalDefinition:e.multidimensionalDefinition||this.multidimensionalDefinition,timeExtent:e.timeExtent??this.timeExtent,multidimensionalSubset:this.multidimensionalSubset});return{...e,multidimensionalDefinition:r}}async updateRasterFunction(){return this.loaded&&\"imagery-tile\"===this.type&&(this.rasterFunction||this._cachedRasterFunctionJson)&&JSON.stringify(this.rasterFunction)!==JSON.stringify(this._cachedRasterFunctionJson)?(this._cachedRasterFunctionJson=this.rasterFunction?.toJSON(),this._rasterFunctionUpdatePromise=this._updateRasterFunction(),this._rasterFunctionUpdatePromise):this._rasterFunctionUpdatePromise}async updateRenderer(){const{loaded:e,symbolizer:t}=this;if(!e||!t||!this.renderer)return;const{rasterInfo:r}=this.raster,i=J(r,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),s=i?.name,n=C({...this.renderer.toJSON(),variableName:s});if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(n))return;const o=this._rasterJobHandler.instance;o&&(t.rasterInfo=E(r,s),t.rendererJSON=n,t.bind(),await o.updateSymbolizer(t),this._cachedRendererJson=n)}async applyRenderer(e,t){const r=e?.pixelBlock;if(!(null!=r&&r.pixels&&r.pixels.length>0))return null;let i;await this.updateRenderer();const s=this._rasterJobHandler.instance,n=this.bandIds??[];return i=s?await s.symbolize({...e,simpleStretchParams:t,bandIds:n}):this.symbolizer.symbolize({...e,simpleStretchParams:t,bandIds:n}),i}getTileUrl(e,t,r){return\"RasterTileServer\"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${r}`:\"\"}getCompatibleTileInfo(e,t,r=!1){if(!this.loaded||null==t)return null;if(r&&e.equals(this.spatialReference))return this.tileInfo;const i=m(e);return F.create({size:256,spatialReference:e,origin:i?{x:i.origin[0],y:i.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent?.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,r,i,s={}){if(X(this),s.requestAsImageElement){const n=this.getTileUrl(e,r,i);return t(n,{responseType:\"image\",query:{...this.refreshParameters,...this.raster.ioConfig.customFetchParameters},signal:s.signal}).then((e=>e.data))}const{serviceRasterInfo:n}=this;if(null!=n.multidimensionalInfo&&null==(s=this.normalizeRasterFetchOptions(s)).multidimensionalDefinition){const t=s.tileInfo||n.storageInfo.tileInfo;return{extent:this.raster.getTileExtentFromTileInfo(e,r,i,t),pixelBlock:null}}return await this._initJobHandler(),await this.updateRasterFunction(),\"raster-shaded-relief\"===this.renderer?.type&&(s={...s,buffer:{cols:1,rows:1}}),this.raster.fetchTile(e,r,i,s)}async fetchPixels(e,t,r,i={}){return null!=this.serviceRasterInfo.multidimensionalInfo&&null==(i=this.normalizeRasterFetchOptions(i)).multidimensionalDefinition?{extent:e,pixelBlock:null}:(await this._initJobHandler(),await this.updateRasterFunction(),t=Math.round(t),r=Math.round(r),this.raster.fetchPixels(e,t,r,i))}async identify(e,t={}){await this.load();const{raster:i,serviceRasterInfo:s}=this;if(null!=s?.multidimensionalInfo){if(!(s.hasMultidimensionalTranspose&&!!(v(t.multidimensionalDefinition)||t.transposedVariableName||t.timeExtent))&&null==(t=this.normalizeRasterFetchOptions(t)).multidimensionalDefinition)return{location:e,value:null}}const n=this.multidimensionalSubset?.areaOfInterest;if(n&&!n.contains(e))throw new r(\"imagery-tile-mixin:identify\",\"the request cannot be fulfilled when falling outside of the multidimensional subset\");return i.identify(e,t)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}hasStandardTime(){const e=this.serviceRasterInfo?.multidimensionalInfo;if(null==e||\"standard-time\"!==this.serviceRasterInfo?.dataType)return!1;const t=this.multidimensionalDefinition,r=t?.[0]?.variableName;return e.variables.some((e=>e.name===r&&(!t?.[0].dimensionName||e.dimensions.some((e=>\"StdTime\"===e.name)))))}getStandardTimeValue(e){return new Date(S(e)).toISOString()}getMultidimensionalSubsetVariables(e){const t=e??this.serviceRasterInfo?.multidimensionalInfo;return w(this.multidimensionalSubset,t)}_configDefaultSettings(){this._configDefaultInterpolation(),this.multidimensionalDefinition||(this.multidimensionalDefinition=x(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset})),this.rasterFunction&&\"Function\"===this.raster.datasetFormat&&(this._cachedRasterFunctionJson=this.rasterFunction.toJSON()),this._configDefaultRenderer()}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const e=new R;return this._rasterJobHandler.connectionPromise=e.initialize().then((async()=>{X(this),this._rasterJobHandler.instance=e,this.raster.rasterJobHandler=e,\"Function\"===this.raster.datasetFormat&&this.raster.syncJobHandler(),this.rasterFunction&&await this.updateRasterFunction().catch((()=>{})),this.renderer&&this.updateRenderer()})).catch((()=>{})),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this._cachedRendererJson=null,this.raster&&(this.raster.rasterJobHandler=null)}_configDefaultInterpolation(){if(null==this.interpolation){X(this);const{raster:e}=this,t=U(e.rasterInfo,e.tileType,this.sourceJSON?.defaultResamplingMethod);this._set(\"interpolation\",t)}}_configDefaultRenderer(e=\"no\"){X(this);const{rasterInfo:t}=this.raster,r=J(t,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),s=r?.name,n=M({variableName:s,rasterFunctionName:this.rasterFunction?.functionName,presetRenderers:this.presetRenderers});if(!this.bandIds&&t.bandCount>1&&(this.bandIds=n?.bandIds??k(t)),!this.renderer||\"override\"===e){const e=q(this.raster),r=n?.renderer??B(t,{bandIds:this.bandIds,variableName:s,rasterFunctionColorRamp:e}),i=t.statistics,o=i&&i.length>0?i[0]:null,a=o?.max??0,l=o?.min??0;\"WCSServer\"===this.raster.datasetFormat&&\"raster-stretch\"===r.type&&(a>1e24||l<-1e24)&&(r.dynamicRangeAdjustment=!0,r.customStatistics=null,\"none\"===r.stretchType&&(r.stretchType=\"min-max\")),this.renderer=r}const o=C({...this.renderer.toJSON(),variableName:s}),a=E(t,s);this.symbolizer?(this.symbolizer.rendererJSON=o,this.symbolizer.rasterInfo=a):this.symbolizer=new L({rendererJSON:o,rasterInfo:a});const l=this.symbolizer.bind();if(l.success){if(\"auto\"===e){const{colormap:e}=this.raster.rasterInfo,t=this.renderer;if(null!=e&&\"raster-colormap\"===t.type){const e=B(this.raster.rasterInfo);JSON.stringify(e)!==JSON.stringify(t)&&this._configDefaultRenderer(\"override\")}else if(\"raster-stretch\"===t.type){const e=this.bandIds?.length,r=t.customStatistics?.length;!t.dynamicRangeAdjustment&&r&&e&&r!==e&&this._configDefaultRenderer(\"override\")}}}else i.getLogger(this).warn(\"imagery-tile-mixin\",l.error||\"The given renderer is not supported by the layer.\"),\"auto\"===e&&this._configDefaultRenderer(\"override\")}async _updateRasterFunction(){if(this._isConstructedFromFunctionRaster&&\"Function\"===this.raster.datasetFormat){const e=this.raster.rasterFunction.toJSON();return void(!this.rasterFunction&&e&&this._set(\"rasterFunction\",g.fromJSON(e)))}let e,t=this.raster,r=!1;\"Function\"===t.datasetFormat?(e=t.primaryRasters.rasters,t=e[0],r=!0):e=[t];const{rasterFunction:i}=this;if(i){const r={raster:t};e.length>1&&e.forEach((e=>r[e.url]=e));const s=H(i.functionDefinition?.toJSON()??i.toJSON(),r),n=new _({rasterFunction:s});n.rasterJobHandler=this._rasterJobHandler.instance,await n.open(),this.raster=n}else this.raster=t,await t.open();if(this._cachedRendererJson=null,!r&&!i)return;const{bandIds:s}=this,{bandCount:n}=this.raster.rasterInfo,o=s?.length?s.some((e=>e>=n)):n>=3;s&&(o||this.renderer&&\"raster-stretch\"!==this.renderer.type)&&this._set(\"bandIds\",null),this._configDefaultRenderer(\"auto\")}};function X(e){if(!e.raster||!e.serviceRasterInfo)throw new r(\"imagery-tile\",\"no raster\")}return e([s({clonable:!1})],Q.prototype,\"_cachedRendererJson\",void 0),e([s({clonable:!1})],Q.prototype,\"_cachedRasterFunctionJson\",void 0),e([s({clonable:!1})],Q.prototype,\"_compatibleFullExtent\",void 0),e([s({clonable:!1})],Q.prototype,\"_isConstructedFromFunctionRaster\",void 0),e([s({clonable:!1})],Q.prototype,\"_rasterJobHandler\",void 0),e([s({clonable:!1})],Q.prototype,\"_rasterFunctionUpdatePromise\",void 0),e([s({type:[n],json:{write:{overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||\"0,1,2\"!==this.bandIds?.join(\",\")}}}}})],Q.prototype,\"bandIds\",void 0),e([s({json:{origins:{service:{read:{source:\"copyrightText\"}}}}})],Q.prototype,\"copyright\",void 0),e([s({json:{read:!1}})],Q.prototype,\"fullExtent\",null),e([s({json:{write:{overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||\"bilinear\"!==this.interpolation}}}}}),a(b)],Q.prototype,\"interpolation\",void 0),e([s()],Q.prototype,\"ioConfig\",void 0),e([s({type:[f],json:{write:!0}})],Q.prototype,\"multidimensionalDefinition\",null),e([s({type:y,json:{write:!0}})],Q.prototype,\"multidimensionalSubset\",void 0),e([s()],Q.prototype,\"raster\",void 0),e([s({type:g})],Q.prototype,\"rasterFunction\",null),e([s()],Q.prototype,\"serviceRasterInfo\",void 0),e([s()],Q.prototype,\"sourceJSON\",void 0),e([s({readOnly:!0,type:d,json:{read:!1}})],Q.prototype,\"spatialReference\",void 0),e([s({type:F})],Q.prototype,\"tileInfo\",void 0),e([s(p)],Q.prototype,\"url\",null),e([s()],Q.prototype,\"renderer\",null),e([s({types:V,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy(){const e=\"raster-stretch\"===this.renderer?.type&&\"none\"===this.renderer.stretchType&&!this.renderer.useGamma;return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||!e}}},origins:{\"web-scene\":{types:A,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:e=>({enabled:e&&\"vector-field\"!==e.type&&\"flow\"!==e.type})}}}}})],Q.prototype,\"internalRenderer\",null),e([l(\"internalRenderer\")],Q.prototype,\"readRenderer\",null),e([s({clonable:!1})],Q.prototype,\"symbolizer\",void 0),Q=e([c(\"esri.layers.mixins.ImageryTileMixin\")],Q),Q};export{K as ImageryTileMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e}from\"./maybe.js\";import{onAbort as s,onAbortOrThrow as t,createResolver as r,createAbortError as i,isPromiseLike as h}from\"./promiseUtils.js\";import o from\"./Queue.js\";import n from\"./ReactiveMap.js\";import{schedule as c}from\"./scheduling.js\";import{signal as l}from\"./signal.js\";class u{constructor(e,s){this.item=e,this.controller=s,this.promise=null}}class _{constructor(e){this._schedule=null,this._deferreds=new n,this._controllers=new n,this._processingItems=new n,this._pausedSignal=l(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new o(e.peeker),this.process=e.process}destroy(){this.clear(),this._schedule=e(this._schedule)}get updating(){return this.running}get length(){return this._processingItems.size+this._queue.length}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}abort(e){const s=this._controllers.get(e);s&&s.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((s=>e.push(s))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((s,t)=>e(t)))}get(e){const s=this._deferreds.get(e);return s?s.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,h){const o=this.get(e);if(o)return o;const n=new AbortController;let c=null;h&&(c=s(h,(()=>n.abort())));const l=()=>{const s=this._processingItems.get(e);s&&s.controller.abort(),u(),a.reject(i())},u=()=>{_.remove(),null!=c&&c.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},_=t(n.signal,l),a=r();return this._deferreds.set(e,a),this._controllers.set(e,n),a.promise.then(u,u),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject(i()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const s of e)this._queue.push(s.item),s.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._pausedSignal.value||this._schedule||(this._schedule=c((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(s))}_processError(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(s))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let s;const t=new AbortController,r=new u(e,t);this._processingItems.set(e,r);try{s=this.process(e,t.signal)}catch(i){this._processError(r,i)}h(s)?(r.promise=s,s.then((e=>this._processResult(r,e)),(e=>this._processError(r,e)))):this._processResult(r,s)}}export{_ as QueueProcessor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction n(e,t){if(!e||!t)return[];let l=t;t.includes(\"/\")?(l=t.slice(0,t.indexOf(\"/\")),t=t.slice(t.indexOf(\"/\")+1)):t=\"\";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS(\"*\",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item(n));return r}function e(t,l){if(!t||!l)return null;let r=l;l.includes(\"/\")?(r=l.slice(0,l.indexOf(\"/\")),l=l.slice(l.indexOf(\"/\")+1)):l=\"\";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),\"\"!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return l?.split(\" \").map((n=>Number(n)))??[]}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){const t=n?.nodeName?.toLowerCase(),l=e.toLowerCase();return t.slice(t.lastIndexOf(\":\")+1)===l}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(\":\")+1)}export{e as getElement,o as getElementNumericValue,u as getElementNumericValues,t as getElementValue,l as getElementValues,n as getElements,c as getNodeNameIgnoreNS,r as getSpaceDelimitedNumericValues,i as isSameTagIgnoreNS};\n"],"names":["U","$","o","constructor","super","arguments","this","_tileFetchQueue","s","concurrency","process","e","t","_fetchRawTile","pyramidLevel","row","col","options","signal","datasetName","datasetFormat","hasUniqueSourceStorageInfo","rasterInfo","ioConfig","sampling","normalizeCtorArgs","resolution","bandIds","tileInfo","g","create","_isGlobalWrappableSource","j","spatialReference","extent","width","_hasNoneOrGCSShiftTransform","transform","type","rasterJobHandler","_set","primaryRasters","rasters","forEach","rasterId","url","h","r","getLogger","open","_openPromise","z","then","_open","fetchTile","i","length","undefined","storageInfo","n","getTileExtentFromTileInfo","noClip","fetchPixels","size","identify","a","m","clone","normalize","multidimensionalDefinition","timeExtent","hasMultidimensionalTranspose","multidimensionalInfo","transposedVariableName","l","c","I","variableName","variables","name","_getRequestOptionsWithSliceId","u","datumTransformation","p","d","H","intersects","location","value","inverseTransform","nativeExtent","x","y","pixelSize","f","xmin","xmax","ymin","ymax","interpolation","sliceId","pixelBlock","Math","floor","mask","pixels","map","processedValue","srcResolution","L","computeBestPyramidLevelForLocation","identifyPixelLocation","R","w","rowOffset","S","colOffset","b","blockWidth","P","B","_","k","M","C","T","fetchRawTile","v","W","_processIdentifyResult","srcLocation","position","useTransposedTile","requestSomeSlices","identifyOptions","E","requestRawData","_fetchPixels","D","round","push","disableWrapAround","Promise","all","height","mosaicAndTransform","srcPixelBlocks","srcMosaicSize","destDimension","coefs","sampleSpacing","alignmentInfo","blockWidths","srcExtent","F","fetchRawPixels","_fetchRawTiles","nativePixelSize","pixelBlocks","mosaicSize","pyramidBlockWidth","pyramidBlockHeight","blockHeight","clipOffset","clipSize","computeExtent","decodePixelBlock","useCanvas","decode","data","request","customFetchParameters","range","query","headers","retryCount","Range","from","to","getSliceIndex","lodAt","getTileExtent","origin","updateTileInfo","pyramidResolutions","maximumPyramidLevel","unshift","level","scale","lods","isVirtualTileInfo","createRemoteDatasetStorageInfo","max","log","LN2","computeBlockBoundary","firstPyramidLevel","blockBoundary","minCol","maxCol","minRow","maxRow","getPyramidPixelSize","pyramidScalingFactor","transposeInfo","tileSize","min","getBlockWidthHeight","isBlockOutside","updateImageSpaceRasterInfo","WebMercator","isPseudoSpatialReference","_getSourceDataInfo","srcWidth","srcHeight","ul","wrapCount","equals","isGeographic","abs","Q","srcTilePixelSize","requestProjectedLocalDirections","dataType","startsWith","getProjectionOffsetGrid","projectedExtent","srcBufferExtent","toJSON","rasterTransform","hasWrapAround","isAdaptive","optimizeProjectionAccuracy","includeGCSGrid","O","A","G","rows","spacing","cols","J","_getRasterTileAlignmentInfo","N","V","isPartiallyFilled","coefficients","projectDirections","gcsGrid","isUV","localNorthDirections","q","transformGrid","buffer","worldColumnCountFromOrigin","originColumnOffset","rightPadding","Array","allowPartialFill","catch","resolve","registryId","AbortController","_computeMagDirValues","bandCount","_rasterTileAlignmentInfo","pyramidsInfo","startX","halfWorldWidth","hasGCSSShiftTransform","pyramidResolution","_updateSourceDataInfo","_requireTooManySrcTiles","ceil","excessiveReading","magdirValue","slice","noDataValues","noDataValue","pixelType","dataSeries","isSlice","prototype","readOnly","String","json","write","X","Map","_timer","_cachedBlocks","_size","_duration","_interval","decreaseRefCount","has","get","refCount","delete","controller","abort","getBlock","ts","Date","now","set","block","putBlock","_trim","_updateTimer","deleteBlock","updateMaxSize","empty","clear","_clearTimer","getCurrentSize","setInterval","clearInterval","cache","some","isResolved","isRejected","Set","add","tileType","rasterFunction","_clippingGeometry","rasterIds","flatWebGLFunctionChain","hasFocalFunction","skipRasterFunction","every","find","primaryPixelBlocks","primaryPixelSizes","primaryRasterIds","getClippingGeometry","wkid","wkt","wkt2","sourceRasters","getPrimaryRasters","_ref","bind","rasterInfos","rawSourceRasterInfos","success","error","functionName","functionArguments","raster","attributeTable","fromJSON","attributeTableAsRecordSet","syncJobHandler","sourceJSON","_updateClipGeometry","updateRasterFunction","getClippingGeometries","clippingGeometry","clippingType","difference","densify","fromExtent","K","_isConstructedFromFunctionRaster","_rasterJobHandler","instance","connectionPromise","copyright","multidimensionalSubset","serviceRasterInfo","symbolizer","fullExtent","updateRenderer","toLowerCase","renderer","internalRenderer","activePresetRendererName","presetRenderers","_configDefaultRenderer","readRenderer","layerDefinition","drawingInfo","convertVectorFieldData","computeStatisticsHistograms","load","geometry","createFlowMesh","meshType","simulationSettings","flowData","normalizeRasterFetchOptions","loaded","_cachedRasterFunctionJson","JSON","stringify","_rasterFunctionUpdatePromise","_updateRasterFunction","_cachedRendererJson","rendererJSON","updateSymbolizer","applyRenderer","symbolize","simpleStretchParams","getTileUrl","getCompatibleTileInfo","getCompatibleFullExtent","_compatibleFullExtent","requestAsImageElement","responseType","refreshParameters","_initJobHandler","areaOfInterest","contains","increaseRasterJobHandlerUsage","decreaseRasterJobHandlerUsage","_shutdownJobHandler","hasStandardTime","dimensionName","dimensions","getStandardTimeValue","toISOString","getMultidimensionalSubsetVariables","_configDefaultSettings","_configDefaultInterpolation","initialize","async","destroy","defaultResamplingMethod","rasterFunctionName","rasterFunctionColorRamp","statistics","dynamicRangeAdjustment","customStatistics","stretchType","colormap","warn","functionDefinition","clonable","overridePolicy","enabled","join","origins","service","read","source","types","useGamma","item","promise","_schedule","_deferreds","_controllers","_processingItems","_pausedSignal","_queue","peeker","updating","running","_cancelNext","isOngoing","pause","remove","_removeItem","_scheduleNext","reject","last","lastPromise","peek","popLast","reset","values","resume","takeAll","pop","_next","_process","_processResult","_canProcessFulfillment","_processError","includes","indexOf","getElementsByTagNameNS","textContent","nodeValue","trim","split","Number","nodeName","lastIndexOf"],"sourceRoot":""}