{"version":3,"file":"static/js/9719.f5533013.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js","../node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js","../node_modules/@arcgis/core/views/3d/environment/RainyWeather.js","../node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js","../node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js","../node_modules/@arcgis/core/views/3d/environment/weather.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubeBindUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js","../node_modules/@arcgis/core/views/3d/terrain/interfaces.js","../node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js","../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2PassUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js","../node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js","../node_modules/@arcgis/core/views/3d/environment/Clouds.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js","../node_modules/@arcgis/core/chunks/HighlightApply.glsl.js","../node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js","../node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js","../node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassIdentifier.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/support/engineContent/line.js","../node_modules/@arcgis/core/core/NestedMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js","../node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js","../node_modules/@arcgis/core/layers/graphics/sources/interfaces.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/symbols/support/gfxUtils.js","../node_modules/@arcgis/core/symbols/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"cloudy\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({cloudy:\"cloudy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([t(\"esri.views.3d.environment.CloudyWeather\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends r{constructor(o){super(o),this.type=\"foggy\",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};o([t({foggy:\"foggy\"}),e({json:{write:{isRequired:!0}}})],c.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"fogStrength\",void 0),c=p=o([s(\"esri.views.3d.environment.FoggyWeather\")],c);const i=c;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends r{constructor(o){super(o),this.type=\"rainy\",this.cloudCover=.5,this.precipitation=.5}clone(){return new s({cloudCover:this.cloudCover,precipitation:this.precipitation})}};o([t({rainy:\"rainy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),p=s=o([i(\"esri.views.3d.environment.RainyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends r{constructor(o){super(o),this.type=\"snowy\",this.cloudCover=.5,this.precipitation=.5,this.snowCover=\"disabled\"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};o([t({snowy:\"snowy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),o([e({type:[\"enabled\",\"disabled\"],nonNullable:!0,json:{write:!0}})],p.prototype,\"snowCover\",void 0),p=i=o([s(\"esri.views.3d.environment.SnowyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let n=c=class extends r{constructor(o){super(o),this.type=\"sunny\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({sunny:\"sunny\"}),e({json:{write:{isRequired:!0}}})],n.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],n.prototype,\"cloudCover\",void 0),n=c=o([t(\"esri.views.3d.environment.SunnyWeather\")],n);const p=n;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./CloudyWeather.js\";import r from\"./FoggyWeather.js\";import o from\"./RainyWeather.js\";import t from\"./SnowyWeather.js\";import y from\"./SunnyWeather.js\";const n={key:\"type\",base:y,typeMap:{sunny:y,cloudy:e,rainy:o,snowy:t,foggy:r}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`\"${e}\" is not a valid weather type`),!1)}const p=1e4,i=1e5;export{i as cloudsHeight,p as heightLimit,s as validateWeatherType,n as weatherTypes,a as weatherTypesArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{generateUID as t}from\"../../../../core/uid.js\";import{copy as r,multiply as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as s}from\"../../../../chunks/vec32.js\";import{N as o,c as n,a as h}from\"../../../../chunks/sphere.js\";import{maxScale as a}from\"../../support/mathUtils.js\";class g{constructor(r,i={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=e(),this._shaderTransformation=null,this._boundingSphere=null,this.id=t(),this.layerUid=i.layerUid,this.graphicUid=i.graphicUid,this.castShadow=i.castShadow??!1,i.objectShaderTransformation&&this.objectShaderTransformationChanged(i.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){r(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=e(),i(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=n(),s(h(this._boundingSphere),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*a(this.shaderTransformation)),this._boundingSphere):o}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return this._shaderTransformation??this.transformation}get attributes(){return this.geometry.attributes}get highlight(){return this.geometry.highlights}foreachHighlightOptions(t){this.geometry.foreachHighlightOptions(t)}get hasHighlights(){return this.geometry.hasHighlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends g{}export{g as RenderGeometry,m as ValidatedRenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{colorGamma as o}from\"../../../../../../colorUtils.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function e(e){e.fragment.code.add(r`\n    const float GAMMA = ${r.float(o)};\n    const float INV_GAMMA = ${r.float(1/o)};\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.a);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReadDepth as e}from\"../output/ReadDepth.glsl.js\";import{Float2BindUniform as t}from\"../../shaderModules/Float2BindUniform.js\";import{FloatBindUniform as o}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as i}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DBindUniform as a}from\"../../shaderModules/Texture2DBindUniform.js\";function d(d,n){if(!n.screenSpaceReflections)return;const c=d.fragment;c.include(e),c.uniforms.add(new t(\"nearFar\",(e=>e.camera.nearFar)),new a(\"depthMap\",(e=>e.depth?.attachment)),new i(\"proj\",(e=>e.camera.projectionMatrix)),new o(\"invResolutionHeight\",(e=>1/e.camera.height)),new i(\"reprojectionMatrix\",(e=>e.ssr.reprojectionMatrix))).code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = proj * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMatrix * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy * 0.5 + 0.5;\n  }\n\n  const int maxSteps = ${n.highStepCount?\"150\":\"75\"};\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(proj, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(proj, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(proj, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n    float dDepthBefore = 0.0;\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMap, P); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n        float weight = dDepth / (dDepth - dDepthBefore);\n        vec2 Pf = mix(P - dP, P, 1.0 - weight);\n        if (abs(Pf.y - projectedCoordStart.y) > invResolutionHeight) {\n          return vec3(Pf, depth);\n        }\n        else {\n          return vec3(P, depth);\n        }\n      }\n\n      // continue with ray marching\n      P = clamp(P + dP, vec2(0.0), vec2(0.999));\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n      dDepthBefore = dDepth;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}export{d as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as e}from\"../../../../webgl/BindType.js\";import{Uniform as r}from\"../../../../webgl/Uniform.js\";class o extends r{constructor(r,o){super(r,\"samplerCube\",e.Bind,((e,s)=>e.bindTexture(r,o(s))))}}export{o as TextureCubeBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{earth as t}from\"../../../../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as e}from\"../../../../environment/Clouds.js\";import{FadeState as a}from\"../../../../environment/CloudsParameters.js\";import{cloudsHeight as r}from\"../../../../environment/weather.js\";import{addMainLightDirection as i,addMainLightIntensity as c}from\"../shading/MainLighting.glsl.js\";import{BooleanBindUniform as d}from\"../../shaderModules/BooleanBindUniform.js\";import{Float3BindUniform as n}from\"../../shaderModules/Float3BindUniform.js\";import{FloatBindUniform as l}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as u}from\"../../shaderModules/Matrix4BindUniform.js\";import{TextureCubeBindUniform as m}from\"../../shaderModules/TextureCubeBindUniform.js\";function h(t){const r=t.fragment;r.constants.add(\"radiusCloudsSquared\",\"float\",C).code.add(s`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos) {\nfloat B = 2.0 * dot(cameraPosition, dir);\nfloat C = dot(cameraPosition, cameraPosition) - radiusCloudsSquared;\nfloat det = B * B - 4.0 * C;\nfloat pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));\nreturn (cameraPosition + dir * pointIntDist) - spherePos;\n}`),r.uniforms.add(new l(\"radiusCurvatureCorrection\",(({clouds:o})=>o.parallax.radiusCurvatureCorrection))).code.add(s`vec3 correctForPlanetCurvature(vec3 dir) {\ndir.z = dir.z * (1.0 - radiusCurvatureCorrection) + radiusCurvatureCorrection;\nreturn dir;\n}`),r.code.add(s`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec) {\nreturn (rotMat * vec4(inVec, 0.0)).xyz;\n}`),i(r),c(r);const h=o(.28,.175,.035);r.constants.add(\"RIM_COLOR\",\"vec3\",h);const v=.3,f=140,p=.2,g=10,w=.3;r.code.add(s`\n    vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds) {\n      float upDotLight = dot(cameraPosition, mainLightDirection);\n      float dirDotLight = max(dot(worldSpaceRay, mainLightDirection), 0.0);\n      float sunsetTransition = clamp(pow(max(upDotLight, 0.0), ${s.float(v)}), 0.0, 1.0);\n\n      // Base color of the clouds that depends on lighting of the sun and sky\n      vec3 ambientLight = calculateAmbientIrradiance(cameraPosition,  0.0);\n      vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));\n      vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));\n\n      // Rim light around the edge of the clouds simulating scattering of the direct lun light\n      float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);\n      float rimLightIntensity = 0.5 + 0.5 * pow(max(upDotLight, 0.0), 0.35);\n      vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, ${s.float(f)})) * scatteringMod;\n\n      // Brighten the clouds around the sun at the sunsets\n      float additionalLight = ${s.float(p)} * pow(dirDotLight, ${s.float(g)}) * (1. - pow(sunsetTransition, ${s.float(w)})) ;\n\n      return vec3(baseCloudColor * (1.0 + additionalLight) + directSunScattering);\n    }\n  `),r.uniforms.add(new d(\"readChannelsRG\",(o=>o.clouds.readChannels===e.RG)),new m(\"cubeMap\",(o=>o.clouds.data?.cubeMap?.colorTexture??null))).code.add(s`vec4 sampleCloud(vec3 rayDir, bool readOtherChannel) {\nvec4 s = texture(cubeMap, rayDir);\nbool readRG = readChannelsRG ^^ readOtherChannel;\ns = readRG ? vec4(vec3(s.r), s.g) : vec4(vec3(s.b), s.a);\nreturn length(s) == 0.0 ? vec4(s.rgb, 1.0) : s;\n}`),r.uniforms.add(new n(\"anchorPoint\",(o=>o.clouds.parallax.anchorPoint)),new n(\"anchorPointNew\",(o=>o.clouds.parallaxNew.anchorPoint)),new u(\"rotationClouds\",(o=>o.clouds.parallax.transform)),new u(\"rotationCloudsNew\",(o=>o.clouds.parallaxNew.transform)),new l(\"cloudsOpacity\",(o=>o.clouds.opacity)),new l(\"fadeFactor\",(o=>o.clouds.fadeFactor)),new d(\"crossFade\",(o=>o.clouds.fadeState===a.CROSS_FADE))).code.add(s`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition) {\nvec3 intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPoint);\nvec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationClouds, normalize(intersectionPoint));\nvec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\nvec4 cloudData = sampleCloud(worldRayRotatedCorrected, crossFade);\nvec3 cameraPositionN = normalize(cameraPosition);\nvec4 cloudColor = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\nif(crossFade) {\nintersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPointNew);\nworldRayRotated = rotateDirectionToAnchorPoint(rotationCloudsNew, normalize(intersectionPoint));\nworldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\ncloudData = sampleCloud(worldRayRotatedCorrected, false);\nvec4 cloudColorNew = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\ncloudColor = mix(cloudColor, cloudColorNew, fadeFactor);\n}\nfloat totalTransmittance = length(cloudColor.rgb) == 0.0 ?\n1.0 :\nclamp(cloudColor.a * cloudsOpacity + (1.0 - cloudsOpacity), 0.0 , 1.0);\nreturn vec4(cloudColor.rgb, totalTransmittance);\n}`)}const C=(t.radius+r)**2;export{h as CloudsParallaxShading};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../core/shaderModules/glsl.js\";function o(o){o.code.add(e`vec3 tonemapACES(vec3 x) {\nreturn clamp((x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14), 0.0, 1.0);\n}`)}export{o as ToneMapping};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FoamColor as e}from\"./FoamRendering.glsl.js\";import{Gamma as o}from\"./Gamma.glsl.js\";import{PhysicallyBasedRenderingWater as t}from\"./PhysicallyBasedRendering.glsl.js\";import{distanceFadeStart as r,distanceFadeEnd as i}from\"./ScreenSpaceConstants.js\";import{ScreenSpaceReflections as n}from\"./ScreenSpaceReflections.glsl.js\";import{CloudsParallaxShading as a}from\"../util/CloudsParallaxShading.glsl.js\";import{FloatBindUniform as l}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as d}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as c}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DBindUniform as s}from\"../../shaderModules/Texture2DBindUniform.js\";import{ToneMapping as f}from\"../../../shaders/ToneMapping.glsl.js\";function m(m,v){m.include(t,v),m.include(o),m.include(e),v.cloudReflections&&m.include(a),m.include(n,v);const u=m.fragment;u.include(f),u.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]),u.constants.add(\"fresnelMaterial\",\"vec2\",[.02,.1]),u.constants.add(\"roughness\",\"float\",.015),u.constants.add(\"foamIntensityExternal\",\"float\",1.7),u.constants.add(\"ssrIntensity\",\"float\",.65),u.constants.add(\"ssrHeightFadeStart\",\"float\",r),u.constants.add(\"ssrHeightFadeEnd\",\"float\",i),u.constants.add(\"waterDiffusion\",\"float\",.92),u.constants.add(\"waterSeaColorMod\",\"float\",.8),u.constants.add(\"correctionViewingPowerFactor\",\"float\",.4),u.constants.add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]),u.constants.add(\"skyColor\",\"vec3\",[.67,.79,.9]),u.constants.add(\"cloudFresnelModifier\",\"vec2\",[1.2,.01]),u.code.add(d`PBRShadingWater shadingInfo;\nvec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\nfloat exponent = pow((1.0 - cosTheta), fresnelSky[2]);\nreturn mix(zenit, horizon, exponent);\n}`),u.uniforms.add(new l(\"lightingSpecularStrength\",(e=>e.lighting.mainLight.specularStrength)),new l(\"lightingEnvironmentStrength\",(e=>e.lighting.mainLight.environmentStrength))),u.code.add(d`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 viewPosition, vec3 position) {\nfloat reflectionHit = 0.0;\nfloat reflectionHitDiffused = 0.0;\nvec3 seaWaterColor = linearizeGamma(color);\nvec3 h = normalize(l + v);\nshadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\nshadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\nshadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\nshadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\nshadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\nfloat upDotV = max(dot(localUp,v), 0.0);\nvec3 skyHorizon = linearizeGamma(skyColor);\nvec3 skyZenit = linearizeGamma(skyZenitColor);\nvec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\nfloat upDotL = max(dot(localUp,l),0.0);\nfloat daytimeMod = 0.1 + upDotL * 0.9;\nskyColor *= daytimeMod;\nfloat shadowModifier = clamp(shadow, 0.8, 1.0);\nvec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\nvec3 reflSky = lightingEnvironmentStrength * fresnelModifier * skyColor * shadowModifier;\nvec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\nvec3 specular = vec3(0.0);\nif(upDotV > 0.0 && upDotL > 0.0) {\nvec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\nvec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\nfloat NdotL = clamp(dot(n, l), 0.0, 1.0);\nspecular = lightingSpecularStrength * NdotL * incidentLight * specularSun;\n}\nvec3 foam = vec3(0.0);\nif(upDotV > 0.0) {\nfoam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n}\nfloat correctionViewingFactor = pow(max(dot(v, localUp), 0.0), correctionViewingPowerFactor);\nvec3 normalCorrectedClouds = mix(localUp, n, correctionViewingFactor);\nvec3 reflectedWorld = normalize(reflect(-v, normalCorrectedClouds));`),v.cloudReflections&&u.uniforms.add(new l(\"cloudsOpacity\",(e=>e.clouds.opacity))).code.add(d`vec4 cloudsColor = renderClouds(reflectedWorld, position);\ncloudsColor.a = 1.0 - cloudsColor.a;\ncloudsColor = pow(cloudsColor, vec4(GAMMA));\ncloudsColor *= clamp(fresnelModifier.y * cloudFresnelModifier[0] - cloudFresnelModifier[1], 0.0, 1.0) * cloudsOpacity;`),v.screenSpaceReflections?u.uniforms.add(new c(\"view\",(e=>e.camera.viewMatrix)),new s(\"lastFrameColorTexture\",(e=>e.ssr.lastFrameColor?.getTexture())),new l(\"fadeFactorSSR\",(e=>e.ssr.fadeFactor))).code.add(d`vec3 viewDir = normalize(viewPosition);\nvec4 viewNormalVectorCoordinate = view * vec4(n, 0.0);\nvec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\nvec4 viewUp = view * vec4(localUp, 0.0);\nvec3 viewNormalCorrectedSSR = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\nvec3 reflected = normalize(reflect(viewDir, viewNormalCorrectedSSR));\nvec3 hitCoordinate = screenSpaceIntersection(reflected, viewPosition, viewDir, viewUp.xyz);\nvec3 reflectedColor = vec3(0.0);\nif (hitCoordinate.z > 0.0)\n{\nvec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\nvec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\nfloat heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -viewPosition.z);\nreflectionHit = clamp(1.0 - (1.3 * dCoords.y), 0.0, 1.0) * heightMod * fadeFactorSSR;\nreflectionHitDiffused = waterDiffusion * reflectionHit;\nreflectedColor = linearizeGamma(texture(lastFrameColorTexture, reprojectedCoordinate).xyz) *\nreflectionHitDiffused * fresnelModifier.y * ssrIntensity;\n}\nfloat seaColorMod =  mix(waterSeaColorMod, waterSeaColorMod * 0.5, reflectionHitDiffused);\nvec3 waterRenderedColor = tonemapACES((1.0 - reflectionHitDiffused) * reflSky + reflectedColor +\nreflSea * seaColorMod + specular + foam);`):u.code.add(d`vec3 waterRenderedColor = tonemapACES(reflSky + reflSea * waterSeaColorMod + specular + foam);`),v.cloudReflections?v.screenSpaceReflections?u.code.add(d`return waterRenderedColor * (1.0 - (1.0 - reflectionHit) * cloudsColor.a) + (1.0 - reflectionHit) * cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor * (1.0 - cloudsColor.a) + cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor;\n}`)}export{m as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as e}from\"./VertexAttribute.js\";import{DataType as r}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as t}from\"../../../webgl/VertexElementDescriptor.js\";const O=[],o=[new t(e.POSITION,3,r.FLOAT,0,12)],m=[new t(e.POSITION,2,r.FLOAT,0,8)],n=[new t(e.POSITION,2,r.FLOAT,0,16),new t(e.UV0,2,r.FLOAT,8,16)];export{O as NoVertex,m as Pos2,n as Pos2Tex,o as Pos3};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E,A,O;!function(E){E[E.INNER=0]=\"INNER\",E[E.OUTER=1]=\"OUTER\"}(E||(E={})),function(E){E[E.REGULAR=0]=\"REGULAR\",E[E.HAS_NORTH_POLE=1]=\"HAS_NORTH_POLE\",E[E.HAS_SOUTH_POLE=2]=\"HAS_SOUTH_POLE\",E[E.HAS_BOTH_POLES=3]=\"HAS_BOTH_POLES\"}(A||(A={})),function(E){E[E.FADING=0]=\"FADING\",E[E.IMMEDIATE=1]=\"IMMEDIATE\",E[E.UNFADED=2]=\"UNFADED\"}(O||(O={}));export{E as OverlayIndex,A as PatchType,O as TextureUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as r}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as l}from\"../views/webgl/ShaderBuilder.js\";class u extends r{}function o(){const r=new l,{outputs:u,fragment:o}=r;return r.include(e),o.uniforms.add(new i(\"textureInput\",(e=>e.input))),o.constants.add(\"outlineWidth\",\"int\",Math.ceil(n)),o.constants.add(\"cellSize\",\"int\",c),u.add(\"fragGrid\",\"vec2\"),o.main.add(t`ivec2 inputTextureSize = textureSize(textureInput, 0);\nivec2 cellBottomLeftCornerInput = ivec2(floor(gl_FragCoord.xy) * vec2(cellSize));\nivec2 coordMid =  cellBottomLeftCornerInput + ivec2(cellSize >> 1);\nuvec2 centreTexel = uvec2( texelFetch(textureInput, coordMid, 0).rg * 255.0) & uvec2(0x55u);\nfloat marginSquare = float(outlineWidth*outlineWidth);\nuvec2 outputValue = centreTexel & uvec2(0x55u);\nfor(int y = -outlineWidth; y <= cellSize + outlineWidth; y+=2) {\nint dy = y < 0 ? -y : y > cellSize ? y-cellSize : 0;\nint xMargin = dy > 0 ? int(ceil(sqrt(marginSquare - float(dy*dy)))) : outlineWidth;\nfor(int x = -xMargin; x <= cellSize + xMargin; x+=2) {\nivec2 coord = cellBottomLeftCornerInput + ivec2(x, y);\nuvec2[4] texels = uvec2[4] (\nuvec2(texelFetch(textureInput,coord+ivec2(0,0),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(1,0),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(0,1),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(1,1),0).rg * 255.0) & uvec2(0x55u)\n);\nif (texels[0] == texels[1] && texels[1] == texels[2] && texels[2] == texels[3] && texels[3] ==  centreTexel) {\ncontinue;\n}\nfor (int i=0; i<4; ++i){\noutputValue |= ((texels[i] ^ centreTexel) << 1);\noutputValue |= texels[i];\n}\n}\n}\nfragGrid = vec2(outputValue) / 255.0;`),r}const c=32,n=9,a=.4,s=Object.freeze(Object.defineProperty({__proto__:null,HighlightDownsampleDrawParameters:u,blurSize:a,build:o,gridCellPixelSize:c,outlineSize:n},Symbol.toStringTag,{value:\"Module\"}));export{u as H,s as a,a as b,o as c,c as g,n as o};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as e,doubleSubArray as t}from\"../../../../geometry/support/DoubleArray.js\";import{CounterClockwiseMode as n,ringsToTriangulationInfo as r}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as s}from\"../../terrain/OverlayRenderer.js\";function p(o,t,s,p){const l=\"polygon\"===o.type?n.CCW_IS_HOLE:n.NONE,a=\"polygon\"===o.type?o.rings:o.paths,{position:u,outlines:f}=r(a,!!o.hasZ,l,o.spatialReference),m=e(u.length),g=i(u,o.spatialReference,0,m,0,u,0,u.length/3,t,s,p),y=null!=g;return{lines:y?c(f,u,m):[],projectionSuccess:y,sampledElevation:g}}function l(e,t){const i=\"polygon\"===e.type?n.CCW_IS_HOLE:n.NONE,p=\"polygon\"===e.type?e.rings:e.paths,{position:l,outlines:a}=r(p,!1,i),u=o(l,e.spatialReference,0,l,t,0);for(let o=2;o<l.length;o+=3)l[o]=s;return{lines:u?c(a,l):[],projectionSuccess:u}}function c(o,e,n=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:t(e,3*i,3*s),mapPositions:null!=n?t(n,o,p):void 0})}return r}export{p as geometryToRenderInfo,l as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/glsl.js\";function o(o){o.fragment.code.add(t`float normals2FoamIntensity(vec3 n, float waveStrength){\nfloat normalizationFactor =  max(0.015, waveStrength);\nreturn max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n}`)}function n(o){o.fragment.code.add(t`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\nreturn foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n}`)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{SliceDraw as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{VertexColor as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{terrainDepthTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{VisualVariables as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{VertexAttribute as g}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";function c(c){const m=new b,{vertex:u,fragment:w,attributes:p,varyings:f}=m,{vvColor:h,hasVertexColors:C}=c;return d(u,c),m.include(r,c),m.include(i,c),m.include(s,c),m.include(o,c),w.include(e,c),m.include(v,c),m.include(l,c),p.add(g.POSITION,\"vec3\"),h&&p.add(g.COLORFEATUREATTRIBUTE,\"float\"),C||f.add(\"vColor\",\"vec4\"),f.add(\"vpos\",\"vec3\"),u.uniforms.add(new n(\"uColor\",(e=>e.color))),u.main.add(a`\n      vpos = position;\n      forwardNormalizedVertexColor();\n      forwardObjectAndLayerIdColor();\n\n      ${C?\"vColor *= uColor;\":h?\"vColor = uColor * interpolateVVColor(colorFeatureAttribute);\":\"vColor = uColor;\"}\n      forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n      gl_Position = transformPosition(proj, view, vpos);`),w.include(t),w.main.add(a`discardBySlice(vpos);\ndiscardByTerrainDepth();\noutputColorHighlightOID(vColor, vpos);`),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{m as C,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"ivec2\",r.Pass,((r,o,i)=>r.setUniform2iv(s,e(o,i))))}}export{e as Integer2PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{glsl as i}from\"../shaderModules/glsl.js\";import{Integer2PassUniform as t}from\"../shaderModules/Integer2PassUniform.js\";import{IntegerPassUniform as o}from\"../shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../shaderModules/Texture2DPassUniform.js\";import{g as c}from\"../../../../../chunks/HighlightDownsample.glsl.js\";function s(l){const{vertex:s}=l;s.uniforms.add(new n(\"coverageTexture\",(e=>e.coverageTexture)),new t(\"highlightRenderCellCount\",(l=>e(r,l.horizontalCellCount,l.verticalCellCount))),new t(\"highlightTextureResolution\",(({highlightTexture:l})=>e(r,l.descriptor.width,l.descriptor.height))),new o(\"highlightLevel\",(e=>e.highlightLevel))).constants.add(\"cellSize\",\"int\",c),l.varyings.add(\"sUV\",\"vec2\"),l.varyings.add(\"vOutlinePossible\",\"float\"),s.code.add(i`const ivec2 cellVertices[4] = ivec2[4](ivec2(0,0), ivec2(1,0), ivec2(0,1), ivec2(1,1));`).main.add(i`int cellIndex = gl_InstanceID;\nint cellX = cellIndex % highlightRenderCellCount[0];\nint cellY = (cellIndex - cellX) / highlightRenderCellCount[0];\nivec2 cellPos = ivec2(cellX, cellY);\nuvec2 covTexel = uvec2(texelFetch(coverageTexture, cellPos, 0).rg * 255.0);\nint channelIndex = (highlightLevel >> 2) & 3;\nuint channelValue = covTexel[channelIndex];\nint highlightIndex = (highlightLevel & 3) << 1;\nbool covered = ((channelValue >> highlightIndex) & 1u) == 1u;\nif (!covered) {\ngl_Position = vec4(0.0);\nreturn;\n}\nvOutlinePossible = (((channelValue >> highlightIndex) & 2u) == 2u) ? 1.0 : 0.0;\nivec2 iPosInCell = cellVertices[gl_VertexID];\nvec2 sPos = vec2(cellPos * cellSize + iPosInCell * (cellSize));\nvec2 vPos = sPos / vec2(highlightTextureResolution);\nsUV = vPos;\ngl_Position = vec4(2.0 * vPos - vec2(1.0), 0.0, 1.0);`)}const r=l();export{s as HighlightCellGridScreenSpacePass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{HighlightCellGridScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{Float2DrawUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as s}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as u}from\"../views/webgl/ShaderBuilder.js\";class n extends s{constructor(){super(...arguments),this.blurSize=e()}}function o(){const e=new u;return e.include(r),e.outputs.add(\"fragSingleHighlight\",\"vec2\",0),e.fragment.uniforms.add(new t(\"blurSize\",(e=>e.blurSize)),new l(\"blurInput\",(e=>e.blurInput))).main.add(i`vec2 highlightTextureSize = vec2(textureSize(blurInput,0));\nvec2 center = texture(blurInput, sUV).rg;\nif (vOutlinePossible == 0.0) {\nfragSingleHighlight = center;\n} else {\nvec2 sum = center * 0.204164;\nsum += texture(blurInput, sUV + blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV - blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV + blurSize * 3.294215).rg * 0.093913;\nsum += texture(blurInput, sUV - blurSize * 3.294215).rg * 0.093913;\nfragSingleHighlight = sum;\n}`),e}const g=Object.freeze(Object.defineProperty({__proto__:null,SingleHighlightBlurDrawParameters:n,build:o},Symbol.toStringTag,{value:\"Module\"}));export{n as S,g as a,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar n,e;function d(n){return null!=n&&!n.running}!function(n){n[n.Idle=0]=\"Idle\",n[n.Rendering=1]=\"Rendering\",n[n.Ready=2]=\"Ready\",n[n.Fading=3]=\"Fading\"}(n||(n={})),function(n){n[n.RG=0]=\"RG\",n[n.BA=1]=\"BA\",n[n.COUNT=2]=\"COUNT\"}(e||(e={}));export{e as CloudsTextureChannels,n as CubeMapState,d as ensureClouds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float3PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as l}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as i}from\"../views/webgl/ShaderBuilder.js\";class a extends l{constructor(){super(...arguments),this.color=e(1,1,1)}}function n(){const e=new i;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture)),new o(\"uColor\",(e=>e.color))),e.fragment.main.add(s`vec4 texColor = texture(tex, uv);\nfragColor = texColor * vec4(uColor, 1.0);`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:a,build:n},Symbol.toStringTag,{value:\"Module\"}));export{a as T,m as a,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E,I;!function(E){E[E.ADD=0]=\"ADD\",E[E.UPDATE=1]=\"UPDATE\",E[E.REMOVE=2]=\"REMOVE\"}(E||(E={})),function(E){E[E.NONE=0]=\"NONE\",E[E.VISIBILITY=1]=\"VISIBILITY\",E[E.GEOMETRY=2]=\"GEOMETRY\",E[E.TRANSFORMATION=4]=\"TRANSFORMATION\",E[E.HIGHLIGHT=8]=\"HIGHLIGHT\",E[E.OCCLUDEE=16]=\"OCCLUDEE\"}(I||(I={}));export{E as DirtyOperation,I as DirtyState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as l}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerBindUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerBindUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as r}from\"../views/webgl/ShaderBuilder.js\";function a(){const a=new r;a.include(e);const{fragment:c}=a;return c.uniforms.add(new n(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new i(\"pixelRatio\",(e=>e.pixelRatio)),new i(\"occludedIntensityFactor\",(e=>e.occludedFactor)),new o(\"maxHighlightLevel\",(e=>e.highlights.length-1))),c.constants.add(\"pixelSampleScale\",\"float\",1),a.include(l),c.code.add(t`const float pascal17[9] = float[9](12870.0, 11440.0, 8008.0, 4368.0, 1820.0, 560.0, 120.0, 16.0, 1.0);\nconst float denom17 =  65536.0;\nfloat colorWeight[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat colorOcclusion[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat weights[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nvoid applyTexel(vec2 texel, float weight) {\nif (texel != vec2(0.0)){\nint maxChannel = (maxHighlightLevel >> 2) & 1;\nfor (int channelIndex = 0; channelIndex <= maxChannel; ++channelIndex){\nuint channel = readChannel(texel, channelIndex << 2);\nint firstIndex = channelIndex << 2;\nint maxIndex  = min(firstIndex + 3, maxHighlightLevel);\nfor (int highlightIndex = firstIndex; highlightIndex <= maxIndex; ++highlightIndex ) {\nuint v = readChannelBits(channel, highlightIndex);\nif ((v & 1u) == 1u){\ncolorWeight[highlightIndex] += weight;\nif ((v & 2u) == 2u){\ncolorOcclusion[highlightIndex] += weight;\n}\n}\n}\n}\n}\n}\nvec2 readTexel(ivec2 iuv, int du, int dv) {\nreturn texelFetch(highlightTexture, iuv + ivec2(du, dv), 0).rg;\n}\nvoid readAndApplyTexel(ivec2 iuv, int du, int dv, float weight) {\nvec2 texel = readTexel(iuv, du, dv);\napplyTexel(texel, weight);\n}\nvoid readAndApply2TexelsU(ivec2 iuv, int du, int dv, float weight) {\nreadAndApplyTexel(iuv, -du, dv, weight);\nreadAndApplyTexel(iuv, +du, dv, weight);\n}\nfloat getWeight(int pixelDistance) {\nfloat scaledDistance = float(pixelDistance) * pixelSampleScale / pixelRatio;\nfloat d0f = floor(scaledDistance);\nint d0 = int(d0f);\nif (d0 >= 8){\nreturn 0.0;\n}\nfloat w0 = pascal17[d0];\nfloat w1 = pascal17[d0+1];\nfloat f =  scaledDistance - d0f;\nreturn mix(w0, w1, f);\n}`),c.main.add(t`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nivec2 iuv = ivec2(sUV * highlightTextureSize);\nvec2 centerTexel = texelFetch(highlightTexture, iuv, 0).rg;\nbool outlinePossible = false;\nif (vOutlinePossible > 0.0){\nfor (int highlightLevel=0; highlightLevel<= maxHighlightLevel; ++highlightLevel) {\nif ((readLevelBits(centerTexel,highlightLevel) & 1u) == 0u) {\noutlinePossible = true;\nbreak;\n}\n}\n}\nif (outlinePossible) {\nint maxPixelDistance = clamp(int(8.0 * pixelRatio / pixelSampleScale), 2, 16);\nfloat weightSum = 0.0;\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nfloat w = getWeight(y);\nweights[y] = w;\nweightSum += w * (y == 0 ? 1.0 : 2.0);\n}\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nweights[y] = weights[y] / weightSum;\n}\nfloat weight0 = weights[0];\napplyTexel(centerTexel, weight0 * weight0);\nfor(int y = 0; y <= maxPixelDistance; y += 1) {\nfloat yFactor = weights[y];\nif (y != 0) {\nfloat xFactor = weight0;\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApplyTexel(iuv, 0, +y, weight);\nreadAndApplyTexel(iuv, 0, -y, weight);\n}\n}\nfor(int x = 1; x <= maxPixelDistance; x += 1) {\nfloat xFactor = weights[x];\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApply2TexelsU(iuv, x, +y, weight);\nif (y != 0){\nreadAndApply2TexelsU(iuv, x, -y, weight);\n}\n}\n}\n}\n} else {\napplyTexel(centerTexel, 1.0);\n}\nint frontColorIndex = 999;\nint maxColorIndex = 0;\nfor (int i = 0; i <= maxHighlightLevel; ++i) {\nif (colorWeight[i] > 0.0){\nfrontColorIndex = min(frontColorIndex, i);\nmaxColorIndex = max(maxColorIndex, i);\n}\n}\nif (frontColorIndex == 999){\nfragColor = vec4(0.0);\nreturn;\n}\nvec4 accumulatedColor = vec4(0.0);\nfor (int curColorIndex = frontColorIndex; curColorIndex <= maxColorIndex; ++curColorIndex) {\nfloat curColorWeight = colorWeight[curColorIndex];\nif (curColorWeight <= 0.01){\ncontinue;\n}\nuint vc = readLevelBits(centerTexel, curColorIndex);\nbool centerFilled = (vc & 1u) == 1u;\nbool centerOccluded = (vc & 3u) == 3u;\nfloat curColorOcclusion = colorOcclusion[curColorIndex];\nbool occluded = centerFilled ? centerOccluded : curColorOcclusion > 0.5 * curColorWeight;\nint colorChannel = centerFilled ? 0 : 1;\nvec4 colorBase = texelFetch(highlightOptionsTexture, ivec2(curColorIndex, colorChannel), 0);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, 0.03, curColorWeight);\nfloat intensity = colorBase.a * occlusionFactor * outlineFactor;\nvec3 currentColor = colorBase.rgb;\nfloat a0 = accumulatedColor.a;\nfloat a1 = intensity;\nfloat alpha = clamp(a0 + a1 - a0 * a1, 0.0, 1.0);\nif (alpha > 0.001){\nvec3 blendedColor = ((1.0 - a1) * a0 * accumulatedColor.rgb + a1 * currentColor) / alpha;\naccumulatedColor = vec4(blendedColor, alpha);\n}\n}\nfragColor = accumulatedColor;`),a}const c=Object.freeze(Object.defineProperty({__proto__:null,build:a},Symbol.toStringTag,{value:\"Module\"}));export{c as H,a as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as t}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{Float2DrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{o as g,b as u}from\"./HighlightDownsample.glsl.js\";import{ShaderBuilder as h}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new h;s.include(e);const{fragment:c}=s;return c.uniforms.add(new n(\"blurInput\",(e=>e.singleHighlightBlurTexture)),new i(\"blurSize\",(e=>e.blurSize)),new n(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new o(\"highlightLevel\",(e=>e.highlightLevel)),new l(\"occludedIntensityFactor\",(e=>e.occludedFactor))),c.constants.add(\"inner\",\"float\",1-(g-u)/g),s.include(t),c.main.add(r`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nvec2 blurredHighlightValue = (vOutlinePossible == 0.0)\n? center\n: center * 0.204164\n+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913\n+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfloat highlightIntensity = blurredHighlightValue.r;\nfloat occlusionWeight = blurredHighlightValue.g;\nif (highlightIntensity <= 0.01) {\ndiscard;\n}\nvec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);\nvec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);\nvec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;\nuint centerBits = readLevelBits(centerTexel, highlightLevel);\nbool centerFilled = (centerBits & 1u) == 1u;\nbool centerOccluded = (centerBits & 3u) == 3u;\nbool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = centerFilled ? 1.0 : 0.0;\nvec4 baseColor = mix(outlineColor, fillColor, fillFactor);\nfloat intensity = baseColor.a * occlusionFactor * outlineFactor;\nfragColor = vec4(baseColor.rgb, intensity);`),s}const c=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{c as S,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as i}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as t}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new t;s.include(e),s.include(i);const{fragment:h}=s;return s.outputs.add(\"fragSingleHighlight\",\"vec2\",0),h.uniforms.add(new g(\"highlightTexture\",(e=>e.highlightTexture)),new l(\"highlightLevel\",(e=>e.highlightLevel))),h.main.add(r`ivec2 iuv = ivec2(gl_FragCoord.xy);\nvec2 inputTexel = texelFetch(highlightTexture, iuv, 0).rg;\nuint bits = readLevelBits(inputTexel, highlightLevel);\nbool hasHighlight = (bits & 1u) == 1u;\nbool hasOccluded  = (bits & 2u) == 2u;\nfragSingleHighlight = vec2(hasHighlight ? 1.0 : 0.0, hasOccluded ? 1.0 : 0.0);`),s}const h=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{h as H,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../core/compilerUtils.js\";import{clamp as t}from\"../../../core/mathUtils.js\";import{signal as e}from\"../../../core/signal.js\";import{rotate as s}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{k as h,n as o,h as n,c,l as d,d as l}from\"../../../chunks/vec32.js\";import{create as _,fromValues as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as F,fromPoints as f,axis as p}from\"../../../geometry/support/axisAngleDegrees.js\";import{earth as S}from\"../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as m,ensureClouds as E,CubeMapState as D}from\"./Clouds.js\";import{heightLimit as P}from\"./weather.js\";class x{constructor(){this.startTime=0,this._data=e(null),this._readChannels=m.RG,this.parallax=new O,this.parallaxNew=new O,this._anchorPoint=_(),this._fadeState=e(A.HIDE),this._fadeFactor=e(1)}get data(){return this._data.value}set data(a){this._data.value=a}get readChannels(){return this._readChannels}get fadeState(){return this._fadeState.value}get fadeFactor(){return this._fadeFactor.value}get opacity(){switch(this.fadeState){case A.HIDE:return 0;case A.FADE_OUT:return 1-this.fadeFactor;case A.FADE_IN:return this.fadeFactor;case A.SHOW:case A.CROSS_FADE:return 1}}fade(a,e,s){this.isFading&&this.fadeFactor<1&&(this._fadeFactor.value=s?t((e-this.startTime)/(H*s),0,1):1,1===this.fadeFactor&&this._endFade()),this._evaluateState(a,e),this._updateParallax(a)}_evaluateState(a,t){const e=a.relativeElevation,s=this._updateAnchorPoint(a);(e>1.7*P||e<-1e4||s>I)&&this.opacity>0?this._startFade(A.HIDE,t):this.isFading||(e>P||e<-.35*P||s>w*I?this.opacity>0&&this._startFade(A.FADE_OUT,t):E(this.data)&&(0===this.opacity?this._startFade(A.FADE_IN,t):this.data.state===D.Ready&&(this.fadeState===A.SHOW?this._startFade(A.CROSS_FADE,t):this._startFade(A.SHOW,t))))}_updateParallax(a){const t=h(a.eye);this.parallax.radiusCurvatureCorrection=.84*Math.sqrt(Math.max(t-S.radius*S.radius,0))/Math.sqrt(t),f(C,this.parallax.anchorPoint,v),s(this.parallax.transform,i,v[3],p(v)),f(C,this.parallaxNew.anchorPoint,v),s(this.parallaxNew.transform,i,v[3],p(v))}_updateAnchorPoint(a){return o(this._anchorPoint,a.eye),n(this._anchorPoint,this._anchorPoint,S.radius),this.fadeState===A.HIDE&&this.data?.state===D.Ready?(c(this.parallax.anchorPoint,this._anchorPoint),0):d(l(g,this.parallax.anchorPoint,this._anchorPoint))}requestFade(){this._fadeFactor.value=0}_startFade(a,t){switch(this._fadeState.value=a,this.startTime=t,a){case A.CROSS_FADE:this.requestFade(),this._switchReadChannels(),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_IN:this.requestFade(),this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_OUT:this.requestFade();break;case A.SHOW:this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint),this._endFade();break;case A.HIDE:this._endFade()}}_endFade(){switch(this._fadeFactor.value=1,this.data&&this.data.state!==D.Ready&&(this.data.state=D.Idle),this.fadeState){case A.CROSS_FADE:c(this.parallax.anchorPoint,this.parallaxNew.anchorPoint),this._fadeState.value=A.SHOW;break;case A.FADE_IN:this._fadeState.value=A.SHOW;break;case A.FADE_OUT:this._fadeState.value=A.HIDE;break;case A.SHOW:case A.HIDE:break;default:a(this.fadeState)}}_switchReadChannels(){this.data?.state===D.Ready&&(this._readChannels=1-this._readChannels,this.data.state=D.Fading)}get isFading(){return this.fadeState===A.FADE_OUT||this.fadeState===A.FADE_IN||this.fadeState===A.CROSS_FADE}}var A;!function(a){a[a.HIDE=0]=\"HIDE\",a[a.FADE_IN=1]=\"FADE_IN\",a[a.SHOW=2]=\"SHOW\",a[a.CROSS_FADE=3]=\"CROSS_FADE\",a[a.FADE_OUT=4]=\"FADE_OUT\"}(A||(A={}));class O{constructor(){this.anchorPoint=_(),this.radiusCurvatureCorrection=0,this.transform=r()}}const C=u(0,0,1),v=F(),g=_(),H=1.25,w=.5,I=2e5;export{x as CloudsParameters,A as FadeState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.Color=0]=\"Color\",o[o.ColorNoRasterImage=1]=\"ColorNoRasterImage\",o[o.Highlight=2]=\"Highlight\",o[o.WaterNormal=3]=\"WaterNormal\",o[o.Occluded=4]=\"Occluded\",o[o.ObjectAndLayerIdColor=5]=\"ObjectAndLayerIdColor\"}(o||(o={}));export{o as OverlayContent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e,offset as t,copy as s}from\"../../../geometry/support/aaBoundingRect.js\";import{fromValues as i}from\"../webgl-engine/lib/LocalOriginFactory.js\";class n{constructor(){this._extent=e(),this.resolution=0,this.renderLocalOrigin=i(0,0,0,\"O\"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new r}get extent(){return this._extent}setupGeometryViewsCyclical(e){this.setupGeometryView();const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,-e.range,0,s)}}setupGeometryView(){this.canvasGeometries.numViews=1,s(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class r{constructor(){this.extents=[e(),e(),e()],this.numViews=0}}export{n as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../core/maybe.js\";class t{constructor(e,t,h){this._fbos=e,this._format=t,this._name=h}get valid(){return null!=this._handle?.getTexture()}dispose(){this._handle=e(this._handle)}get texture(){return this._handle?.getTexture()}bind(e,t,h){this._handle&&this._handle.fbo?.width===t&&this._handle.fbo?.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(t,h,this._name,this._format)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.getTexture()?.descriptor?.hasMipmap&&this._handle?.getTexture()?.generateMipmap()}}export{t as OverlayFramebufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{OverlayContent as e}from\"./OverlayContent.js\";import{OverlayFramebufferObject as r}from\"./OverlayFramebufferObject.js\";import{ColorFormat as o}from\"../webgl/formats.js\";import{ShaderOutput as t}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as l}from\"../webgl-engine/effects/geometry/olidUtils.js\";class s{constructor(e,t,l,s,i=o.RGBA_MIPMAP){this.output=l,this.content=s,this.fbo=new r(e,i,t)}get valid(){return this.fbo.valid}}class i{constructor(r){this.targets=[new s(r,\"overlay color\",t.Color,e.Color),new s(r,\"overlay IM color\",t.Color,e.ColorNoRasterImage),new s(r,\"overlay highlight\",t.Highlight,e.Highlight,o.RG),new s(r,\"overlay water\",t.Normal,e.WaterNormal),new s(r,\"overlay occluded\",t.Color,e.Occluded)],l()&&this.targets.push(new s(r,\"overlay olid\",t.ObjectAndLayerIdColor,e.ObjectAndLayerIdColor,o.RGBA))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,o)=>r.valid?e|=1<<o:e),0)}}export{i as OverlayRenderTargets,s as RenderTargetDescriptor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.Material=0]=\"Material\",a[a.ShadowMap=1]=\"ShadowMap\",a[a.Highlight=2]=\"Highlight\",a[a.ViewshedShadowMap=3]=\"ViewshedShadowMap\"}(a||(a={}));export{a as RenderPassIdentifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasArea as o,width as r,height as t}from\"../../../../../../geometry/support/aaBoundingRect.js\";import{OverlayIndex as a}from\"../../../../terrain/interfaces.js\";import{OverlayContent as l}from\"../../../../terrain/OverlayContent.js\";import{RenderPassIdentifier as i}from\"../../renderPasses/RenderPassIdentifier.js\";import{isColorOrColorEmission as n,ShaderOutput as v}from\"../ShaderOutput.js\";import{addMainLightDirection as d,addMainLightIntensity as s}from\"../shading/MainLighting.glsl.js\";import{PBRMode as c}from\"../shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Water as x}from\"../shading/Water.glsl.js\";import{Float4DrawUniform as u}from\"../../shaderModules/Float4DrawUniform.js\";import{FloatPassUniform as y}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as m}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as p}from\"../../shaderModules/Texture2DPassUniform.js\";import{Uniform as f}from\"../../../../../webgl/Uniform.js\";var C;function g(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new u(\"overlayTexOffset\",((e,o)=>b(e,o))),new u(\"overlayTexScale\",((e,o)=>V(e,o)))),t.constants.add(\"overlayOpacity\",\"float\",1),t.uniforms.add(new p(\"ovColorTex\",((e,o)=>T(e,o)))),h(e,o)}function O(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new w(\"overlayTexOffset\"),new w(\"overlayTexScale\")),t.uniforms.add(new y(\"overlayOpacity\",(e=>e.overlayOpacity)),new p(\"ovColorTex\",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),h(e,o)}function h(e,o){const r=o.pbrMode===c.Water||o.pbrMode===c.WaterOnIntegratedMesh||o.pbrMode===c.TerrainWithWater;r&&e.include(x,o);const{vertex:t,fragment:a}=e;e.varyings.add(\"vtcOverlay\",\"vec4\"),t.code.add(m`void setOverlayVTC(in vec2 uv) {\nvtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;\n}`),a.code.add(m`bool isValid(vec2 uv, vec2 dxdy) {\nreturn (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);\n}\nvec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {\nvec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));\nvec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(m`vec4 getCombinedOverlayColor() {\nreturn overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);\n}`),a.code.add(m`vec4 getOverlayColorTexel() {\nvec4 texCoords = vtcOverlay;\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);\nvec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(m`vec2 getAllOverlayHighlightValuesEncoded() {\nvec4 texCoords = vtcOverlay;\nvec2 uvInner = texCoords.xy;\nvec2 uvOuter = texCoords.zw;\nbool isValidInner = isValid(uvInner, fwidth(uvInner));\nbool isValidOuter = isValid(uvOuter, vec2(0.0, 0.0));\nvec2 texelCoordInner = uvInner * vec2(0.5, 1.0);\nvec2 texelCoordOuter = uvOuter * vec2(0.5, 1.0) + vec2(0.5,0.0);\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec2 texelValueInner = texelFetch(ovColorTex, ivec2(texelCoordInner * texDim), 0).rg;\nvec2 texelValueOuter = texelFetch(ovColorTex, ivec2(texelCoordOuter * texDim), 0).rg;\nreturn\nisValidInner ? texelValueInner :\nisValidOuter ? texelValueOuter :\nvec2(0.0);\n}`),r&&(d(a),s(a),a.code.add(m`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,\nfloat shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {\nvec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));\nvec3 v = vposEyeDir;\nvec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);\nreturn vec4(final, colorInput.w);\n}`))}function T(e,o){return e.identifier===i.Material&&n(e.output)?o.overlay?.getTexture(l.ColorNoRasterImage):e.identifier===i.Material&&e.output===v.ObjectAndLayerIdColor?o.overlay?.getTexture(l.ObjectAndLayerIdColor):e.identifier===i.Highlight?o.overlay?.getTexture(l.Highlight):null}function b(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(I[0]=e.toMapSpace[0]/r(i)-i[0]/r(i),I[1]=e.toMapSpace[1]/t(i)-i[1]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(I[2]=e.toMapSpace[0]/r(n)-n[0]/r(n),I[3]=e.toMapSpace[1]/t(n)-n[1]/t(n)),I}function V(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(I[0]=e.toMapSpace[2]/r(i),I[1]=e.toMapSpace[3]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(I[2]=e.toMapSpace[2]/r(n),I[3]=e.toMapSpace[3]/t(n)),I}!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Enabled=1]=\"Enabled\",e[e.EnabledWithWater=2]=\"EnabledWithWater\",e[e.COUNT=3]=\"COUNT\"}(C||(C={}));const I=e();class w extends f{constructor(e){super(e,\"vec4\")}}export{g as OverlayIM,C as OverlayMode,O as OverlayTerrain,T as getIMColorTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightApply.glsl.js\";import{makePipelineState as o,premultipliedAlphaToPremultipliedAlpha as s,defaultColorWrite as l}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightApply.glsl.js\"))))}initializePipeline(){return o({blending:s,colorWrite:l})}}export{t as HighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"../../shaders/HighlightDownsample.glsl.js\"))))}initializePipeline(){return s({colorWrite:i})}}export{l as HighlightDownsampleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{defaultOccludedFactor as t}from\"../../../../support/HighlightDefaults.js\";import{NoParameters as o}from\"../../../../webgl/NoParameters.js\";class e extends o{constructor(){super(...arguments),this.occludedFactor=t,this.verticalCellCount=0,this.horizontalCellCount=0,this.highlightLevel=0,this.pixelRatio=1}}export{e as HighlightPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightToSingle.glsl.js\";import{makePipelineState as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightToSingle.glsl.js\"))))}initializePipeline(){return o({colorWrite:s})}}export{l as HighlightToSingleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{S as i}from\"../../../../../chunks/SingleHighlightApply.glsl.js\";import{makePipelineState as l,premultipliedAlphaToPremultipliedAlpha as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,l){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightApply.glsl.js\"))))}initializePipeline(){return l({blending:o,colorWrite:s})}}export{t as SingleHighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as i}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{makePipelineState as l,defaultColorWrite as o}from\"../../../../webgl/renderState.js\";class s extends r{constructor(r,l){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightBlur.glsl.js\"))))}initializePipeline(){return l({colorWrite:o})}}export{s as SingleHighlightBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{releaseMaybe as t,disposeMaybe as i}from\"../../../../../core/maybe.js\";import{watch as r,initial as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as l}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{ZEROS as n}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{InternalRenderCategory as a}from\"../../../webgl.js\";import{ColorFormat as g}from\"../../../webgl/formats.js\";import c from\"../../../webgl/RenderNode.js\";import{HighlightApplyTechnique as u}from\"./HighlightApplyTechnique.js\";import{HighlightDownsampleTechnique as m}from\"./HighlightDownsampleTechnique.js\";import{HighlightPassParameters as p}from\"./HighlightPassParameters.js\";import{HighlightToSingleTechnique as d}from\"./HighlightToSingleTechnique.js\";import{SingleHighlightApplyTechnique as f}from\"./SingleHighlightApplyTechnique.js\";import{SingleHighlightBlurTechnique as b}from\"./SingleHighlightBlurTechnique.js\";import{RenderRequestType as T}from\"../../lib/basicInterfaces.js\";import{Default3D as w}from\"../../lib/DefaultVertexAttributeLocations.js\";import{NoVertex as x}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as _}from\"../../lib/VertexArrayObject.js\";import{H as C,g as v}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{S as j}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{BufferObject as H}from\"../../../../webgl/BufferObject.js\";import{PixelFormat as q,TextureSamplingMode as P,FramebufferBit as R,Usage as D,TextureType as O,PrimitiveType as S,DataType as A}from\"../../../../webgl/enums.js\";import{Texture as E}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as y}from\"../../../../webgl/TextureDescriptor.js\";let I=class extends c{constructor(){super(...arguments),this.produces=a.HIGHLIGHTS,this.consumes={required:[a.HIGHLIGHTS,\"highlights\"]},this._useMultipleHighlights=!1,this._downsampleDrawParameters=new C,this._passParameters=new p,this._singleHighlightBlurDrawParameters=new j,this._grid=new M}initialize(){this.addHandles([r((()=>this._updateOptionsTexture()),(()=>{}),s)])}destroy(){this._grid.coverage=t(this._grid.coverage),this._grid.vao=i(this._grid.vao),this._passParameters.highlightOptionsTexture=t(this._passParameters.highlightOptionsTexture)}_updateOptionsTexture(){if(null==this._passParameters.highlightOptionsTexture){const e=new y(16,2);e.internalFormat=q.RGBA,e.samplingMode=P.NEAREST,this._passParameters.highlightOptionsTexture=new E(this.renderingContext,e,null)}this._passParameters.highlightOptionsTexture.setData(U(this.view.state.highlights)),this.requestRender(T.UPDATE)}precompile(){this.techniques.precompile(m),this._useMultipleHighlights?this.techniques.precompile(u):(this.techniques.precompile(d),this.techniques.precompile(b),this.techniques.precompile(f))}render(e){const t=e.find((({name:e})=>e===a.HIGHLIGHTS)),{techniques:i,bindParameters:r,_passParameters:s,renderingContext:o}=this;if(!r.decorations)return t;const h=i.get(m);if(!h.compiled)return this.requestRender(T.UPDATE),t;const l=e.find((({name:e})=>\"highlights\"===e)).getTexture(),n=()=>{this._gridUpdateResources(l);const e=this._gridComputeCoverage(h,l,r),{horizontalCellCount:t,verticalCellCount:i}=e;return s.horizontalCellCount=t,s.verticalCellCount=i,s.coverageTexture=e.coverage?.getTexture(),e},g=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(S.TRIANGLES,6,A.UNSIGNED_BYTE,0,t)},{camera:c}=r,u=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(c.fullViewport)};return this._useMultipleHighlights?this._renderMultiple(l,n,g,u):this._renderSingle(l,n,g,u),s.highlightTexture=null,s.coverageTexture=null,t}_renderMultiple(e,t,i,r){const{techniques:s,bindParameters:o,_passParameters:h,renderingContext:l}=this,n=s.get(u);if(!n.compiled)return void this.requestRender(T.UPDATE);const a=t();h.highlightTexture=e,h.pixelRatio=o.camera.pixelRatio,l.bindTechnique(n,o,h),r(),i(a)}_renderSingle(e,t,i,r){const{fboCache:s,techniques:o,bindParameters:h,_passParameters:n,renderingContext:a}=this,c=o.get(d),u=o.get(b),m=o.get(f);if(!m.compiled||!u.compiled||!c.compiled)return void this.requestRender(T.UPDATE);const p=t(),{width:w,height:x}=e.descriptor;n.highlightTexture=e;const{camera:_}=h,{fullWidth:C,fullHeight:v,pixelRatio:j}=_,H=Math.ceil(C/j),q=Math.ceil(v/j),{_singleHighlightBlurDrawParameters:P}=this,D=this.view._stage.renderView.renderer,{highlights:O}=h;for(let d=0;d<O.length;++d){const{name:e}=O[d];if(!D.hasHighlightOptions(e))continue;n.highlightLevel=d,a.setClearColor(0,0,0,0);const t=s.acquire(w,x,\"single highlight\",g.RG);a.bindFramebuffer(t.fbo),a.setViewport(0,0,w,x),a.clear(R.COLOR),a.bindTechnique(c,h,n),i(p),P.blurInput=t.getTexture(),l(P.blurSize,1/H,0);const o=s.acquire(H,q,\"single highlight blur h\",g.RG);a.unbindTexture(o.fbo?.colorTexture),a.bindFramebuffer(o.fbo),a.setViewport(0,0,H,q),a.clear(R.COLOR),a.bindTechnique(u,h,n,P),i(p),t.release(),l(P.blurSize,0,1/q),n.singleHighlightBlurTexture=o.getTexture(),r(),a.bindTechnique(m,h,n,P),i(p),o.release()}}_gridUpdateResources(e){const t=this._grid,{width:i,height:r}=e.descriptor;if(t.horizontalCellCount=Math.ceil(i/v),t.verticalCellCount=Math.ceil(r/v),t.vao)return;const s=this.renderingContext,o=H.createIndex(s,D.STATIC_DRAW,F);t.vao=new _(s,w,new Map([[\"geometry\",x]]),new Map([[\"geometry\",H.createVertex(s,D.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,i){const r=this.renderingContext,s=this._grid,o=t.descriptor,h=Math.ceil(o.width/v),l=Math.ceil(o.height/v);this._downsampleDrawParameters.input=t,s.coverage?.release();const n=this.fboCache.acquire(h,l,\"highlight coverage\",g.RG);return s.coverage=n,r.bindFramebuffer(n.fbo),r.bindTechnique(e,i,this._passParameters,this._downsampleDrawParameters),r.setViewport(0,0,h,l),r.screen.draw(),s}get test(){}};e([o()],I.prototype,\"produces\",void 0),e([o()],I.prototype,\"consumes\",void 0),I=e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")],I);class M{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function U(e){const t=new Uint8Array(128);let i=0;for(const r of e){const e=4*i,s=4*i+64;++i;const{color:o}=r,h=r.haloColor??o;t[e+0]=o.r,t[e+1]=o.g,t[e+2]=o.b,t[e+3]=r.fillOpacity*o.a*255,t[s+0]=h.r,t[s+1]=h.g,t[s+2]=h.b,t[s+3]=r.haloOpacity*h.a*255}return t}let G=0;function L(e){let t=0;for(const r of e){const{name:e}=r;t+=e.length;const{color:i,fillOpacity:s,haloColor:o,haloOpacity:h}=r;t+=i.r+i.g+i.b+i.a+s,t+=o?o.r+o.g+o.b+o.a+h:0}const i=e.at(0);if(i){const{shadowOpacity:e,shadowDifference:r,shadowColor:s}=i;t+=e+r+s.r+s.g+s.b+s.a}return G+++(t>=0?0:1)}const F=new Uint8Array([0,1,2,2,1,3]);function V(e,t,i,r,s,o=0){const h=r.highlights,a=h.length>1?t.acquire(i.width,i.height,\"highlight mix\",g.RG):null;if(a){const t=e.getBoundFramebufferObject();e.bindFramebuffer(a.fbo),e.clearFramebuffer(n),e.bindFramebuffer(t)}const c=a?.getTexture();r.highlightMixTexture=c,l(r.highlightMixOrigin,o,0),h.forEach(((t,h)=>{h>0&&(e.bindTexture(c,E.TEXTURE_UNIT_FOR_UPDATES),e.gl.copyTexSubImage2D(O.TEXTURE_2D,0,0,0,o,0,i.width,i.height),e.bindTexture(null,E.TEXTURE_UNIT_FOR_UPDATES)),e.clear(R.DEPTH),r.highlightLevel=h,s()})),r.highlightLevel=null,r.highlightMixTexture=null,a?.release()}export{I as Highlight,V as renderHighlightBuffer,L as trackHighlightOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import{NestedMap as r}from\"../../../../core/NestedMap.js\";import{assert as i}from\"./Util.js\";class s{constructor(e,t,i,s){this._textures=e,this._techniques=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new r}dispose(){this._textures.destroy()}acquire(e,t,r){this._ownMaterial(e);const i=e.produces.get(t);if(!i?.(r))return null;let s=this._id2glMaterialRef.get(r,e.id);if(null==s){const t=e.createGLMaterial({material:e,techniques:this._techniques,textures:this._textures,output:r});s=new a(t),this._id2glMaterialRef.set(r,e.id,s)}return s.ref(),s.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||(t(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&e.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRepository\").error(\"Material is already owned by a different material repository\"),t.repository=this}}class a{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,i(this._refCnt>=0)}get referenced(){return this._refCnt>0}}export{s as GLMaterialRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Immediate=0]=\"Immediate\",e[e.FadeWithWeather=1]=\"FadeWithWeather\"}(e||(e={}));export{e as Update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{CloudsParameters as h}from\"../../environment/CloudsParameters.js\";import e from\"../../webgl/RenderCamera.js\";import{HUDRenderStyle as s}from\"../core/shaderLibrary/hud/HUDRenderStyle.js\";import{OITPass as r}from\"./OITPass.js\";import{RenderSlot as g}from\"./RenderSlot.js\";import{Update as n}from\"./Update.js\";import{SceneLighting as l}from\"../lighting/SceneLighting.js\";class a{constructor(i,t){this.width=i,this.height=t}}class o{constructor(i){this.shadowMap=i,this.slot=g.OPAQUE_MATERIAL,this.slicePlane=null,this.hasOccludees=!1,this.enableFillLights=!0,this.oitPass=r.NONE,this.alignPixelEnabled=!1,this.decorations=!0,this.overlayStretch=1,this.viewshedEnabled=!1,this._camera=new e,this._inverseViewport=t(),this._oldLighting=new l,this._newLighting=new l,this._fadedLighting=new l,this._lighting=this._newLighting,this.ssr=new c,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.highlights=new Array,this.highlightOrderMap=new Map,this.highlightMixOrigin=t(),this.highlightMixTexture=null,this.hudRenderStyle=s.Occluded,this.hudOccludedFragmentOpacity=1,this.clouds=new h,this.shadowHighlightsVisible=!1}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}fadeLighting(){switch(this.clouds.fadeFactor){case 0:this._lighting=this._oldLighting;break;default:this._fadedLighting.lerpLighting(this._oldLighting,this._newLighting,this.clouds.fadeFactor),this._lighting=this._fadedLighting;break;case 1:this._lighting=this._newLighting,this._oldLighting.copyFrom(this._newLighting)}}updateLighting(i,t,h,e){this._oldLighting.copyFrom(this.lighting),this._newLighting.noonFactor=t,this._newLighting.globalFactor=h,this._newLighting.set(i),e===n.FadeWithWeather&&this.clouds.requestFade(),this.fadeLighting()}get highlight(){return null==this.highlightLevel?null:this.highlights[this.highlightLevel]}}class c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=i()}}export{o as BindParameters,a as ViewportSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Milliseconds as r}from\"../../../../core/time.js\";import e from\"../../webgl/RenderCamera.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{BindParameters as s}from\"./BindParameters.js\";import{RenderOccludedFlag as i}from\"./Material.js\";class a{constructor(r,i){this.rctx=r,this.lastFrameCamera=new e,this.output=t.Color,this.renderOccludedMask=o,this.bind=new s(i),this.bind.alignPixelEnabled=!0}}class n extends a{constructor(e,t,s){super(e,t),this.techniques=s,this.time=r(0)}}const o=i.Occlude|i.OccludeAndTransparent|i.OccludeAndTransparentStencil;export{a as OverlayRenderContext,n as RenderContext,o as defaultRenderOccludedMask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import s from\"../../webgl/RenderCamera.js\";let i=class extends s{constructor(){super(...arguments),this._projectionMatrix=t()}get projectionMatrix(){return this._projectionMatrix}};r([o()],i.prototype,\"_projectionMatrix\",void 0),r([o({readOnly:!0})],i.prototype,\"projectionMatrix\",null),i=r([e(\"esri.views.3d.webgl-engine.lib.CascadeCamera\")],i);export{i as CascadeCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t,lerp as s,acosClamped as e}from\"../../../../core/mathUtils.js\";import{releaseMaybe as i}from\"../../../../core/maybe.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as r,multiply as h,invert as o,lookAt as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as c,create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as d,add as m,scale as u,lerp as _,squaredDistance as f,subtract as g,dot as p,negate as x,normalize as b,copy as w}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as M}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{p as C,c as j,v as T,t as y,i as D}from\"../../../../chunks/vec32.js\";import{create as H}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as v,t as S}from\"../../../../chunks/vec42.js\";import{create as R}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ViewingMode as O}from\"../../../ViewingMode.js\";import{ColorFormat as E,DepthFormat as U}from\"../../webgl/formats.js\";import{CascadeCamera as F}from\"./CascadeCamera.js\";import{applyTextureResizeModulo as L,applyTextureResizeFloorModulo as Q}from\"./textureUtils.js\";import{assert as V,logWithBase as N,verify as A,rayRay2D as B}from\"./Util.js\";import{TextureType as I,FramebufferBit as W}from\"../../../webgl/enums.js\";import{Texture as z}from\"../../../webgl/Texture.js\";var P;!function(t){t[t.Highlight=0]=\"Highlight\",t[t.ExcludeHighlight=1]=\"ExcludeHighlight\"}(P||(P={}));class q{constructor(){this.camera=new F,this.lightMat=l()}}class G{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class X{constructor(t,s){this._fbos=t,this._viewingMode=s,this._enabled=!1,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new G,this._projectionView=l(),this._projectionViewInverse=l(),this._modelViewLight=l(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=R(),this._cascades=[new q,new q,new q,new q],this._lastOrigin=null,this._maxTextureWidth=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}get depthTexture(){return this._handle?.getTexture()}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return v(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}disposeOffscreenBuffers(){this._handle=i(this._handle),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=t(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)it[t]=this._cascades[t];return it.length=this._numCascades,it}start(t,s,e,i,a){V(this.enabled);const{near:r,far:h}=Tt(e);this._computeCascadeDistances(r,h,i),this._textureHeight=this._computeTextureHeight(t,a,i),this._setupMatrices(t,s);const{viewMatrix:o,projectionMatrix:n}=t;for(let c=0;c<this._numCascades;++c)this._constructCascade(c,n,o,s);this._lastOrigin=null,this.clear()}finish(){V(this.enabled),this._handle?.detachDepth()}getShadowMapMatrices(t){if(!this._lastOrigin||!C(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||H(),j(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){r(at,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)rt[16*s+t]=at[t]}}return rt}moveSnapshot(t){V(this.enabled),this._handle?.detachDepth(),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle=null,this.clear()}copySnapshot(t){const s=this._handle?.getTexture()?.descriptor;if(!this.enabled||!s)return;this._snapshots[t]?.release();const{width:e,height:i}=s,a=t===P.Highlight?\"shadow highlight snapshot\":\"shadow no highlight snapshot\";this._snapshots[t]=this._fbos.acquire(e,i,a,E.RGBA4);const r=this._fbos.rctx;this._bindFbo();const h=r.bindTexture(this._snapshots[t]?.getTexture(),z.TEXTURE_UNIT_FOR_UPDATES);r.gl.copyTexSubImage2D(I.TEXTURE_2D,0,0,0,0,0,e,i),r.bindTexture(h,z.TEXTURE_UNIT_FOR_UPDATES)}getSnapshot(t){return this.enabled?this._snapshots[t]?.getTexture():null}clear(){const t=this._fbos.rctx;this._ensureFbo(),this._bindFbo(),t.setClearColor(1,1,1,1),t.clear(W.COLOR|W.DEPTH)}_computeTextureHeight(t,s,e){const i=Math.min(window.devicePixelRatio,s)/t.pixelRatio,a=e?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality,r=L(Math.floor(Math.max(t.fullWidth,t.fullHeight)*i*a)),h=Math.min(this._maxTextureWidth,this._numCascades*r);return Q(h/this._numCascades)}_ensureFbo(){this._handle?.fbo?.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._fbos.acquire(this._textureWidth,this._textureHeight,\"shadow map\",E.RGBA4)),this._handle?.acquireDepth(U.DEPTH16_BUFFER)}_discardSnapshot(t){this._snapshots[t]=i(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}_bindFbo(){this._fbos.rctx.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,i){const a=this._cascades[t],o=-this._cascadeDistances[t],n=-this._cascadeDistances[t+1],c=(s[10]*o+s[14])/Math.abs(s[11]*o+s[15]),l=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]);V(c<l);for(let r=0;r<8;++r){v(J,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?c:l,1);const t=K[r];S(t,J,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}T(et,K[0]),a.camera.viewMatrix=r(k,this._modelViewLight,et);for(let r=0;r<8;++r)y(K[r],K[r],a.camera.viewMatrix);let d=K[0][2],m=K[0][2];for(let r=1;r<8;++r)d=Math.min(d,K[r][2]),m=Math.max(m,K[r][2]);d-=200,m+=200,a.camera.near=-m,a.camera.far=-d,jt(e,i,d,m,a.camera),h(a.lightMat,a.camera.projectionMatrix,a.camera.viewMatrix);const u=this._textureHeight;a.camera.viewport=[t*u,0,u,u]}_setupMatrices(t,s){h(this._projectionView,t.projectionMatrix,t.viewMatrix),o(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===O.Global?t.eye:D(et,0,0,1);n(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_computeCascadeDistances(t,e,i){const a=i?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor(N(e/t,4)),a);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let o=t,n=t;for(let c=0;c<this._numCascades+1;++c)this._cascadeDistances[c]=s(o,n,this.settings.splitSchemeLambda),o*=h,n+=r}get test(){}}const k=l(),J=R(),K=[];for(let yt=0;yt<8;++yt)K.push(R());const Y=M(),Z=M(),$=M(),tt=M(),st=M(),et=H(),it=[],at=l(),rt=c.concat(c,c,c,c),ht=M(),ot=M(),nt=[M(),M(),M(),M()],ct=M(),lt=M(),dt=M(),mt=M(),ut=M(),_t=M(),ft=M();function gt(t,s,e,i,a,r,h,o){d(ht,0,0);for(let d=0;d<4;++d)m(ht,ht,t[d]);u(ht,ht,.25),d(ot,0,0);for(let d=4;d<8;++d)m(ot,ot,t[d]);u(ot,ot,.25),_(nt[0],t[4],t[5],.5),_(nt[1],t[5],t[6],.5),_(nt[2],t[6],t[7],.5),_(nt[3],t[7],t[4],.5);let n=0,c=f(nt[0],ht);for(let d=1;d<4;++d){const t=f(nt[d],ht);t<c&&(c=t,n=d)}g(ct,nt[n],t[n+4]);const l=ct[0];let M,C;ct[0]=-ct[1],ct[1]=l,g(lt,ot,ht),p(lt,ct)<0&&x(ct,ct),_(ct,ct,lt,e),b(ct,ct),M=C=p(g(dt,t[0],ht),ct);for(let d=1;d<8;++d){const s=p(g(dt,t[d],ht),ct);s<M?M=s:s>C&&(C=s)}w(i,ht),u(dt,ct,M-s),m(i,i,dt);let j=-1,T=1,y=0,D=0;for(let d=0;d<8;++d){g(mt,t[d],i),b(mt,mt);const s=ct[0]*mt[1]-ct[1]*mt[0];s>0?s>j&&(j=s,y=d):s<T&&(T=s,D=d)}A(j>0,\"leftArea\"),A(T<0,\"rightArea\"),u(ut,ct,M),m(ut,ut,ht),u(_t,ct,C),m(_t,_t,ht),ft[0]=-ct[1],ft[1]=ct[0];const H=B(i,t[D],_t,m(dt,_t,ft),1,a),v=B(i,t[y],_t,dt,1,r),S=B(i,t[y],ut,m(dt,ut,ft),1,h),R=B(i,t[D],ut,dt,1,o);A(H,\"rayRay\"),A(v,\"rayRay\"),A(S,\"rayRay\"),A(R,\"rayRay\")}function pt(t,s){return 3*s+t}const xt=M();function bt(t,s){return d(xt,t[s],t[s+3]),xt}const wt=M(),Mt=a();function Ct(t,s,e,i,a){g(wt,e,i),u(wt,wt,.5),Mt[0]=wt[0],Mt[1]=wt[1],Mt[2]=0,Mt[3]=wt[1],Mt[4]=-wt[0],Mt[5]=0,Mt[6]=wt[0]*wt[0]+wt[1]*wt[1],Mt[7]=wt[0]*wt[1]-wt[1]*wt[0],Mt[8]=1,Mt[pt(0,2)]=-p(bt(Mt,0),t),Mt[pt(1,2)]=-p(bt(Mt,1),t);let r=p(bt(Mt,0),e)+Mt[pt(0,2)],h=p(bt(Mt,1),e)+Mt[pt(1,2)],o=p(bt(Mt,0),i)+Mt[pt(0,2)],n=p(bt(Mt,1),i)+Mt[pt(1,2)];r=-(r+o)/(h+n),Mt[pt(0,0)]+=Mt[pt(1,0)]*r,Mt[pt(0,1)]+=Mt[pt(1,1)]*r,Mt[pt(0,2)]+=Mt[pt(1,2)]*r,r=1/(p(bt(Mt,0),e)+Mt[pt(0,2)]),h=1/(p(bt(Mt,1),e)+Mt[pt(1,2)]),Mt[pt(0,0)]*=r,Mt[pt(0,1)]*=r,Mt[pt(0,2)]*=r,Mt[pt(1,0)]*=h,Mt[pt(1,1)]*=h,Mt[pt(1,2)]*=h,Mt[pt(2,0)]=Mt[pt(1,0)],Mt[pt(2,1)]=Mt[pt(1,1)],Mt[pt(2,2)]=Mt[pt(1,2)],Mt[pt(1,2)]+=1,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=p(bt(Mt,1),e)+Mt[pt(1,2)],n=p(bt(Mt,2),e)+Mt[pt(2,2)],r=-.5*(r/h+o/n),Mt[pt(1,0)]+=Mt[pt(2,0)]*r,Mt[pt(1,1)]+=Mt[pt(2,1)]*r,Mt[pt(1,2)]+=Mt[pt(2,2)]*r,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=-h/r,Mt[pt(1,0)]*=o,Mt[pt(1,1)]*=o,Mt[pt(1,2)]*=o,a[0]=Mt[0],a[1]=Mt[1],a[2]=0,a[3]=Mt[2],a[4]=Mt[3],a[5]=Mt[4],a[6]=0,a[7]=Mt[5],a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=Mt[6],a[13]=Mt[7],a[14]=0,a[15]=Mt[8]}function jt(t,s,i,a,r){const h=1/K[0][3],o=1/K[4][3];V(h<o);let n=h+Math.sqrt(h*o);const c=Math.sin(e(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));n/=c,gt(K,n,c,Y,Z,$,tt,st),Ct(Y,Z,tt,st,r.projectionMatrix),r.projectionMatrix[10]=2/(i-a),r.projectionMatrix[14]=-(i+a)/(i-a)}function Tt(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}export{X as ShadowMap,P as SnapshotSlot};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../chunks/TextureOnly.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{makePipelineState as i,premultipliedAlphaToPremultipliedAlpha as l,defaultColorWrite as s}from\"../../../webgl/renderState.js\";class t extends o{constructor(o,i){super(o,i,new r(e,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\"))))}initializePipeline(e){return e.hasAlpha?i({blending:l,colorWrite:s}):i({colorWrite:s})}}export{t as TextureTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as e,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class r extends e{constructor(){super(...arguments),this.hasAlpha=!1}}s([o()],r.prototype,\"hasAlpha\",void 0);export{r as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../chunks/OverlayCompositing.glsl.js\";class s extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"./OverlayCompositing.glsl.js\"))))}}export{s as OverlayCompositingTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import i from\"../../../core/PooledArray.js\";import{watch as n,syncAndInitial as o,on as a,initial as h}from\"../../../core/reactiveUtils.js\";import{someSet as l}from\"../../../core/SetUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ortho as u,fromTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as g}from\"../../../chunks/vec32.js\";import{ones as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DrapeTargetType as m,DrapeSourceType as y,DrapedRenderGroup as f}from\"../layers/interfaces.js\";import{debugFlags as R}from\"../support/debugFlags.js\";import{OverlayIndex as b}from\"./interfaces.js\";import{Overlay as T}from\"./Overlay.js\";import{OverlayContent as w}from\"./OverlayContent.js\";import{OverlayRenderTargets as D}from\"./OverlayRenderTargets.js\";import v from\"../webgl/RenderCamera.js\";import{ShaderOutput as x}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{OverlayMode as O}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as S}from\"../../../chunks/TextureOnly.glsl.js\";import{SyncRenderPlugin as C}from\"../webgl-engine/effects/RenderPlugin.js\";import{trackHighlightOptions as E,renderHighlightBuffer as P}from\"../webgl-engine/effects/highlight/Highlight.js\";import{RenderRequestType as j}from\"../webgl-engine/lib/basicInterfaces.js\";import{GLMaterialRepository as A}from\"../webgl-engine/lib/GLMaterialRepository.js\";import{GridLocalOriginFactory as M}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{RenderOccludedFlag as W}from\"../webgl-engine/lib/Material.js\";import{OITPass as I}from\"../webgl-engine/lib/OITPass.js\";import{OverlayRenderContext as q,defaultRenderOccludedMask as N}from\"../webgl-engine/lib/RenderContext.js\";import{RenderSlot as F}from\"../webgl-engine/lib/RenderSlot.js\";import{ShadowMap as L}from\"../webgl-engine/lib/ShadowMap.js\";import{TextureTechnique as V}from\"../webgl-engine/lib/TextureTechnique.js\";import{TextureTechniqueConfiguration as H}from\"../webgl-engine/lib/TextureTechniqueConfiguration.js\";import{Update as G}from\"../webgl-engine/lib/Update.js\";import{UpdatePolicy as k}from\"../webgl-engine/lib/UpdatePolicy.js\";import{AmbientLight as U}from\"../webgl-engine/lighting/Lightsources.js\";import{O as B}from\"../../../chunks/OverlayCompositing.glsl.js\";import{OverlayCompositingTechnique as z}from\"../webgl-engine/shaders/OverlayCompositingTechnique.js\";import{TaskPriority as Y,noBudget as X}from\"../../support/Scheduler.js\";import{FramebufferBit as K,TextureSamplingMode as J}from\"../../webgl/enums.js\";import{Texture as Q}from\"../../webgl/Texture.js\";import{TextureDescriptor as Z}from\"../../webgl/TextureDescriptor.js\";let $=class extends C{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new B,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new i,this._passParameters=new S,this._materials=null,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new v,this.events=new r,this.longitudeCyclical=null,this.produces=new Map([[F.DRAPED_MATERIAL,e=>e!==x.Highlight||this.hasHighlights],[F.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const e=this._view,r=e._stage,t=r.renderer.fboCache,{waterTextures:s,textures:i}=r.renderView;this._renderContext=new q(this._rctx,new L(t,e.state.viewingMode)),this.addHandles([n((()=>s.updating),(()=>this.events.emit(\"content-changed\")),o),n((()=>this.spatialReference),(e=>this._localOriginFactory=new M(e)),o),a((()=>e.allLayerViews),\"after-changes\",(()=>this._sortedDrapeSourceRenderersDirty=!0)),n((()=>E(e.state.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),h),n((()=>e.state.highlights),(r=>{this._bindParameters.highlights=r,this._bindParameters.highlightOrderMap=e.state.highlightOrderMap,this._updateHighlights()}),h),e.resourceController.scheduler.registerTask(Y.STAGE,this)]),this._materials=new A(i,this._techniques,(()=>{this.notifyChange(\"rendersOccludedDraped\"),this.events.emit(\"content-changed\"),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\")}),(()=>this.events.emit(\"content-changed\")));const{_bindParameters:l,_camera:d}=this;d.near=1,d.far=1e4,d.relativeElevation=null,l.slot=F.DRAPED_MATERIAL,l.mainDepth=null,l.camera=d,l.oitPass=I.NONE,l.updateLighting([new U(_())],0,0,G.Immediate)}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=s(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this._stage.renderView.renderingContext}get _view(){return this.parent.view}get _stage(){return this.parent.view._stage}get spatialReference(){return this.parent.spatialReference}get _techniques(){return this._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){this._pluginContext=e,this._techniques.precompile(z)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||t(this._renderers,(e=>e.updating))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}_updateHighlights(){const e=this._view.state;this._renderers.forEach((r=>r.updateHighlights(e.highlightOrderMap)))}createDrapeSourceRenderer(e,r,t){const s=this._renderers.get(e);null!=s&&s.destroy();const i=new r({...t,rendererContext:this,drapeSource:e});return this._renderers.set(e,i),this._sortedDrapeSourceRenderersDirty=!0,\"fullOpacity\"in e&&this.addHandles(n((()=>e.fullOpacity),(()=>this.events.emit(\"content-changed\"))),e),i}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&l(e,(e=>e.drapeTargetType===m.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=l(e,(e=>e.drapeSourceType===y.Features)),this._hasDrapedRasterSource=l(e,(e=>e.drapeSourceType===y.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new D(this._stage.renderer.fboCache),this._overlays=[new T,new T]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=s(this._renderTargets),this.events.emit(\"textures-disposed\")}getTexture(e){if(null!=e)return e===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(w.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges(this._view.state.highlightOrderMap)&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers()),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\"),this.events.emit(\"content-changed\"),this.hasHighlights=t(this._renderers,(e=>e.hasHighlights)),this.notifyChange(\"rendersOccludedDraped\"))}hasHighlightOptions(e){return t(this._renderers,(r=>r.hasHighlightOptions(e)))}processSyncDrapeSources(){this._processDrapeSources(X,(e=>e.updatePolicy===k.SYNC))}get isEmpty(){return!R.OVERLAY_DRAW_DEBUG_TEXTURE&&!t(this._renderers,(e=>!e.isEmpty))}get hasWater(){const e=t(this._renderers,(e=>e.hasWater));return e!==this._hasWater&&(this._hasWater=e,this.events.emit(\"has-water\")),this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=se,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==w.Occluded&&e!==w.Highlight)return!0;++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,r}get mode(){return this.isEmpty?O.Disabled:this.hasWater&&this.renders(w.WaterNormal)?O.EnabledWithWater:this._renderTargets?.getTexture(w.Color)?O.Enabled:O.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r&&this.parent.requestRender(j.BACKGROUND),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(this._renderTargets){this._bindParameters.alignPixelEnabled=e.alignPixelEnabled,++this._techniques.precompiling;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=e.output;this._renderContext.output=r,this._bindParameters.slot=r===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,e.content===w.Occluded&&(this._renderContext.renderOccludedMask=se),this._sortedRenderers.forAll((({drapeSource:r,renderer:t})=>{e.content===w.ColorNoRasterImage&&r.drapeSourceType===y.RasterImage||t.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=N}--this._techniques.precompiling}}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)this.longitudeCyclical?e.setupGeometryViewsCyclical(this.longitudeCyclical):e.setupGeometryView();this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=this._drawTarget(b.INNER,e),t=this._drawTarget(b.OUTER,e);(r||t)&&e.fbo.generateMipMap()}}}_drawTarget(e,r){const t=this._overlays[e],s=t.canvasGeometries;if(0===s.numViews)return!1;const i=this._view.state.contentPixelRatio;this._screenToWorldRatio=i*t.mapUnitsPerPixel/this._bindParameters.overlayStretch;const n=r.output;if(this.isEmpty||n===x.Normal&&!this.hasWater||!t.hasSomeSizedView())return!1;const{_rctx:o,_camera:a,_renderContext:h,_bindParameters:l}=this;if(a.pixelRatio=t.pixelRatio*i,h.output=n,l.screenToWorldRatio=this._screenToWorldRatio,l.screenToPCSRatio=this._screenToWorldRatio*this.parent.worldToPCSRatio,l.slot=n===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,r.content===w.Occluded&&(h.renderOccludedMask=se),!this.renders(r.content))return h.renderOccludedMask=N,!1;const{resolution:d}=t,c=e===b.INNER?0:d;o.setViewport(c,0,d,d),this._bindTargetFBO(r),e===b.INNER&&(o.setClearColor(0,0,0,0),o.clear(K.COLOR));if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==w.Occluded&&r.content!==w.Highlight){this._techniques.precompile(V,ie);const r=this._techniques.get(V,ie);for(let i=0;i<s.numViews;i++)this._setViewParameters(s.extents[i],t),this._ensureDebugPatternResources(t.resolution,re[e]),o.bindTechnique(r,l,this._passParameters),o.screen.draw()}if(r.output===x.Highlight){const{fboCache:t}=this._stage.renderer,s=this._resolution;this._bindTargetFBO(r),P(o,t,{width:s,height:s},l,(()=>this._renderAllGeometry(e,r)),c)}else this._renderAllGeometry(e,r);return o.bindFramebuffer(null),h.renderOccludedMask=N,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:n})=>{if(r.content===w.ColorNoRasterImage&&i.drapeSourceType===y.RasterImage)return;const{fullOpacity:o}=i,a=null!=o&&o<1&&r.output===x.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),n.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=o,this._overlayParameters.overlayIndex=e;const t=this._techniques.get(z);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this._stage.renderer.fboCache,s=t.acquire(r,e,\"overlay tmp\");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(K.COLOR),s}get _resolution(){return this._overlays?.[b.INNER].resolution??0}notifyContentChanged(){this.events.emit(\"content-changed\")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:n}of this._sortedRenderers)i=n.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this._view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),n=i>=0,o=s.renderGroup??(n?f.MapLayer:f.ViewLayer),a=r*o+(n?i:0);this._sortedRenderers.push(new ee(s,t,a))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],u(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),p(t.viewMatrix,[-e[0],-e[1],0])}_ensureDebugPatternResources(e,r){if(g(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let n=0;n<e;n++)for(let r=0;r<e;r++){const i=Math.floor(r/10),o=Math.floor(n/10);i<2||o<2||10*i>e-20||10*o>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&o?1&r^1&n?0:255:1&i^1&o?0:128)}const i=new Z(e);i.samplingMode=J.NEAREST,this._passParameters.texture=new Q(this._rctx,i,t)}get test(){}};e([d()],$.prototype,\"hasHighlights\",void 0),e([d()],$.prototype,\"_sortedDrapeSourceRenderersDirty\",void 0),e([d({constructOnly:!0})],$.prototype,\"parent\",void 0),e([d({readOnly:!0})],$.prototype,\"_techniques\",null),e([d({type:Boolean,readOnly:!0})],$.prototype,\"updating\",null),e([d()],$.prototype,\"isEmpty\",null),e([d({readOnly:!0})],$.prototype,\"rendersOccludedDraped\",null),$=e([c(\"esri.views.3d.terrain.OverlayRenderer\")],$);class ee{constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const re=[[1,.5,.5],[.5,.5,1]],te=-2,se=W.OccludeAndTransparent,ie=new H;ie.hasAlpha=!0;export{$ as OverlayRenderer,te as drapedZ,se as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as t,dist as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ONES as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as i}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as a}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as l}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as u}from\"../../../../geometry/support/Indices.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{Attribute as c}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as p}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as m}from\"../../webgl-engine/lib/VertexAttribute.js\";function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=u(a);return h(e,o,l),j(e,o,l),T(e,o,l),D(e,o,l),w(e,o,l),y(e,o,l),E(e,o,i),new f(t,o,n,p.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([m.POSITION,new c(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([m.COLOR,new c(n??o,r,4)])}function T(t,e,r){t.attributeData.normal&&e.push([m.NORMAL,new c(t.attributeData.normal,r,3)])}function D(t,e,r){null!=t.attributeData.colorFeature&&e.push([m.COLORFEATUREATTRIBUTE,new c([t.attributeData.colorFeature],r,1,!0)])}function j(t,e,r){null==t.attributeData.sizeFeature&&e.push([m.SIZE,new c([t.attributeData.size??1],r,1,!0)])}function w(t,e,r){null!=t.attributeData.sizeFeature&&e.push([m.SIZEFEATUREATTRIBUTE,new c([t.attributeData.sizeFeature],r,1,!0)])}function y(t,e,r){null!=t.attributeData.opacityFeature&&e.push([m.OPACITYFEATUREATTRIBUTE,new c([t.attributeData.opacityFeature],r,1,!0)])}function E(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==s.Global||!r.overlayInfo.spatialReference.isGeographic)return;const p=a(u.length),f=n(r.overlayInfo.spatialReference);for(let t=0;t<p.length;t+=3)i(u,t,p,t,f);const b=u.length/3,g=l(b+1);let h=I,T=F,D=0,j=0;t(h,p[j++],p[j++]),j++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(j=0),t(T,p[j++],p[j++]),j++,D+=e(h,T),g[n]=D,[h,T]=[T,h];o.push([m.DISTANCETOSTART,new c(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=r(),F=r();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=a(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}export{b as createGeometry,R as lineStripsToParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}getInner(t){return this._outer.get(t)}set(t,e,r){const o=this._outer.get(t);o?o.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}forAll(t){for(const e of this._outer.values())for(const r of e.values())t(r)}}export{t as NestedMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as r,ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as s}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{blending as o,oitDepthTest as n,depthWrite as a,getDrawBuffers as c,getOITPolygonOffset as p}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as u,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{VisualVariablePassParameters as d}from\"../materials/VisualVariablePassParameters.js\";import{C as h}from\"../../../../chunks/ColorMaterial.glsl.js\";import{SpecialDrawBuffers as b}from\"../../../webgl/enums.js\";import{makePipelineState as j,cullingParams as P,defaultColorWrite as g}from\"../../../webgl/renderState.js\";class O extends d{constructor(){super(...arguments),this.color=e}}class S extends i{constructor(e,r){super(e,r,new s(h,(()=>import(\"./ColorMaterial.glsl.js\"))))}_createPipeline(e,s){const{oitPass:i,output:d,transparent:h,cullFace:O,draped:S,hasOccludees:_,polygonOffset:w,enableOffset:x}=e,y=i===l.NONE,N=i===l.FrontFace;return j({blending:r(d)&&h?o(i):null,culling:P(O),depthTest:S?null:{func:n(i)},depthWrite:a(e),drawBuffers:d===t.Depth?{buffers:[b.NONE]}:c(i,d),colorWrite:g,stencilWrite:_?u:null,stencilTest:_?s?m:f:null,polygonOffset:y||N?w?T:null:p(x)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const T={factor:1,units:1};export{O as ColorMaterialPassParameters,S as ColorMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends i{constructor(){super(...arguments),this.cullFace=s.None,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1}}t([r({count:s.COUNT})],a.prototype,\"cullFace\",void 0),t([r()],a.prototype,\"hasVertexColors\",void 0),t([r()],a.prototype,\"transparent\",void 0),t([r()],a.prototype,\"discardInvisibleFragments\",void 0),t([r()],a.prototype,\"polygonOffset\",void 0),t([r()],a.prototype,\"enableOffset\",void 0),t([r()],a.prototype,\"writeDepth\",void 0),t([r()],a.prototype,\"hasOccludees\",void 0),t([r()],a.prototype,\"terrainDepthTest\",void 0),t([r()],a.prototype,\"cullAboveTerrain\",void 0),t([r()],a.prototype,\"objectAndLayerIdColorInstanced\",void 0),t([r()],a.prototype,\"vvColor\",void 0),t([r()],a.prototype,\"draped\",void 0);export{a as ColorMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ZEROS as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmissionOrOID as e,isDepth as s,is2DGeometryOutput as i,isColorOrColorEmission as a,ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as n}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as l}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as f}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as _}from\"./VisualVariablePassParameters.js\";import{ColorMaterialTechnique as g}from\"../shaders/ColorMaterialTechnique.js\";import{ColorMaterialTechniqueConfiguration as T}from\"../shaders/ColorMaterialTechniqueConfiguration.js\";import{alphaCutoff as O}from\"../../../../webscene/support/AlphaCutoff.js\";class A extends m{constructor(t){super(t,P),this._configuration=new T,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,t=>this._isOpaqueMaterialPass(t)],[u.OPAQUE_MATERIAL_WITHOUT_NORMALS,t=>this._isOpaqueNoSSAODepthPass(t)],[u.TRANSPARENT_MATERIAL,t=>e(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,t=>s(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>e(t)&&this._transparent&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,t=>i(t)]])}getConfiguration(t,r){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(t)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=r.hasOccludees,this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<l,this._configuration.terrainDepthTest=r.terrainDepthTest&&a(t),this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=O}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(t){return this._isOpaqueMaterialPass(t)||this._isOpaqueNoSSAODepthPass(t)}_isOpaqueMaterialPass(t){return t===o.Highlight||e(t)&&!this._transparent}_isOpaqueNoSSAODepthPass(t){return s(t)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(t){return new d(t)}createBufferWriter(){const t=r().vec3f(c.POSITION);return n()&&t.vec4u8(c.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?t.f32(c.COLORFEATUREATTRIBUTE):t.vec4u8(c.COLOR),new f(t)}}class d extends p{beginSlot(t){return this.getTechnique(g,t)}}class P extends _{constructor(){super(...arguments),this.color=t,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=h.None,this.draped=!1,this.discardInvisibleFragments=!1}}export{A as ColorMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{OverlayIndex as e}from\"../views/3d/terrain/interfaces.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as i}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";class d extends i{constructor(){super(...arguments),this.overlayIndex=e.INNER,this.opacity=1}}function l(){const e=new n;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture))),e.fragment.uniforms.add(new a(\"overlayIdx\",(e=>e.overlayIndex))),e.fragment.uniforms.add(new o(\"opacity\",(e=>e.opacity))),e.fragment.main.add(s`vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\nfragColor = texture(tex, overlayUV) * opacity;`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:\"Module\"}));export{d as O,m as a,l as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.EnableFastUpdates=0]=\"EnableFastUpdates\",a[a.DisableFastUpdates=1]=\"DisableFastUpdates\",a[a.UpdateFastLocalOrigin=2]=\"UpdateFastLocalOrigin\"}(a||(a={}));export{a as MeshTransformUpdateAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";import e from\"../../Color.js\";import o from\"../../request.js\";import{LRUCache as s}from\"../../core/LRUCache.js\";import{pt2px as r}from\"../../core/screenUtils.js\";import{getCIMSymbolColor as n}from\"./cimSymbolUtils.js\";const i=\"picture-fill\",a=\"simple-fill\",l=\"simple-line\",c=\"simple-marker\",h=\"text\",d=\"cim\",m=new Map([[\"dash\",[4,3]],[\"dashdot\",[4,3,1,3]],[\"dot\",[1,3]],[\"longdash\",[8,3]],[\"longdashdot\",[8,3,1,3]],[\"longdashdotdot\",[8,3,1,3,1,3]],[\"shortdash\",[4,1]],[\"shortdashdot\",[4,1,1,1]],[\"shortdashdotdot\",[4,1,1,1,1,1]],[\"shortdot\",[1,1]],[\"solid\",[]]]),p=new s(1e3);function u(e){const o=e.style;let s=null;if(e)switch(e.type){case c:\"cross\"!==o&&\"x\"!==o&&(s=e.color);break;case a:o&&\"solid\"!==o?\"none\"!==o&&(s={type:\"pattern\",x:0,y:0,src:t(`esri/symbols/patterns/${o}.png`),width:5,height:5}):s=e.color;break;case i:s={type:\"pattern\",src:e.url,width:r(e.width)*e.xscale,height:r(e.height)*e.yscale,x:r(e.xoffset),y:r(e.yoffset)};break;case h:s=e.color;break;case d:s=n(e)}return s}function f(t,e){const s=t+\"-\"+e;return void 0!==p.get(s)?Promise.resolve(p.get(s)):o(t,{responseType:\"image\"}).then((t=>{const o=t.data,r=o.naturalWidth,n=o.naturalHeight,i=document.createElement(\"canvas\");i.width=r,i.height=n;const a=i.getContext(\"2d\");a.fillStyle=e,a.fillRect(0,0,r,n),a.globalCompositeOperation=\"destination-in\",a.drawImage(o,0,0);const l=i.toDataURL();return p.put(s,l),l}))}function y(t){if(!t)return null;let e=null;switch(t.type){case a:case i:case c:e=y(t.outline);break;case l:{const o=r(t.width);null!=t.style&&\"none\"!==t.style&&0!==o&&(e={color:t.color,style:w(t.style),width:o,cap:t.cap,join:\"miter\"===t.join?r(t.miterLimit):t.join},e.dashArray=g(e).join(\",\")||\"none\");break}default:e=null}return e}function g(t){if(!t?.style)return[];const{dashArray:e,style:o,width:s}=t;if(\"string\"==typeof e&&\"none\"!==e)return e.split(\",\").map((t=>Number(t)));const r=s??0,n=m.has(o)?m.get(o).map((t=>t*r)):[];if(\"butt\"!==t.cap)for(const[i,a]of n.entries())n[i]=i%2==1?a+r:Math.max(a-r,1);return n}const w=(()=>{const t={};return e=>{if(t[e])return t[e];const o=e.replaceAll(\"-\",\"\");return t[e]=o,o}})(),b=new e([128,128,128]);export{b as defaultThematicColor,w as dekebabifyLineStyle,g as getDashArray,u as getFill,f as getPatternUrlWithColor,y as getStroke};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{forEach as t}from\"../../core/asyncUtils.js\";import\"../../core/has.js\";import{px2pt as o}from\"../../core/screenUtils.js\";import{ONES as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{effectFunctionsFromJSON as n}from\"../../layers/effects/jsonUtils.js\";import{getCIMSymbolColor as l}from\"./cimSymbolUtils.js\";import{getStroke as i}from\"./gfxUtils.js\";import{Symbol3DMaterial as c}from\"./Symbol3DMaterial.js\";import{isSymbol3D as s,isSymbol2D as u}from\"./typeUtils.js\";const a=new e(\"white\");function f(e){const t=e.symbolLayers?.at(-1);if(t&&\"outline\"in t)return t?.outline?.size}function m(e){if(!e)return 0;if(s(e)){const t=f(e);return null!=t?t:0}return o(i(e)?.width)}function y(e){if(null==e||!(\"symbolLayers\"in e)||null==e.symbolLayers)return!1;switch(e.type){case\"point-3d\":return e.symbolLayers.some((e=>\"object\"===e.type));case\"line-3d\":return e.symbolLayers.some((e=>\"path\"===e.type));case\"polygon-3d\":return e.symbolLayers.some((e=>\"object\"===e.type||\"extrude\"===e.type));default:return!1}}function p(e){return e.resource?.href??\"\"}function h(t,o){if(!t)return null;let r=null;return s(t)?r=b(t):u(t)&&(r=\"cim\"===t.type?l(t):t.color?new e(t.color):null),r?w(r,o):null}function b(t){const o=t.symbolLayers;if(!o)return null;let r=null;return o.forEach((e=>{\"object\"===e.type&&e.resource?.href||(r=\"water\"===e.type?e.color:e.material?e.material.color:null)})),r?new e(r):null}function w(t,o){if(null==o||null==t)return t;const r=t.toRgba();return r[3]=r[3]*o,new e(r)}function d(e,t,o){const r=e.symbolLayers;if(!r)return;const n=e=>w(t=t??e??(null!=o?a:null),o);r.forEach((e=>{if(\"object\"!==e.type||!e.resource?.href||t)if(\"water\"===e.type)e.color=n(e.color);else{const t=null!=e.material?e.material.color:null,r=n(t);null==e.material?e.material=new c({color:r}):e.material.color=r,null!=o&&\"outline\"in e&&null!=e.outline?.color&&(e.outline.color=w(e.outline.color,o))}}))}function j(e,t,o){(t=t??e.color)&&(e.color=w(t,o)),null!=o&&\"outline\"in e&&e.outline?.color&&(e.outline.color=w(e.outline.color,o))}function g(t,o,r){t&&(o||null!=r)&&(o&&(o=new e(o)),s(t)?d(t,o,r):u(t)&&j(t,o,r))}async function k(e,o){const r=e.symbolLayers;r&&await t(r,(async e=>L(e,o)))}async function L(e,t){switch(e.type){case\"extrude\":S(e,t);break;case\"icon\":case\"line\":case\"text\":z(e,t);break;case\"path\":v(e,t);break;case\"object\":await U(e,t)}}function z(e,t){const o=x(t);null!=o&&(e.size=o)}function x(e){for(const t of e)if(\"number\"==typeof t)return t;return null}function S(e,t){e.size=\"number\"==typeof t[2]?t[2]:0}async function U(e,t){const{resourceSize:o,symbolSize:r}=await O(e),n=E(t,o,r);e.width=R(t[0],r[0],o[0],n),e.depth=R(t[1],r[1],o[1],n),e.height=R(t[2],r[2],o[2],n)}function v(e,t){const o=E(t,r,[e.width,void 0,e.height]);e.width=R(t[0],e.width,1,o),e.height=R(t[2],e.height,1,o)}function E(e,t,o){for(let r=0;r<3;r++){const n=e[r];switch(n){case\"symbol-value\":{const e=o[r];return null!=e?e/t[r]:1}case\"proportional\":break;default:if(n&&t[r])return n/t[r]}}return 1}async function O(e){const{computeObjectLayerResourceSize:t}=await import(\"./symbolLayerUtils.js\"),o=await t(e,10),{width:r,height:n,depth:l}=e,i=[r,l,n];let c=1;for(let s=0;s<3;s++){const e=i[s];if(null!=e){c=e/o[s];break}}for(let s=0;s<3;s++)null==i[s]&&(i[s]=o[s]*c);return{resourceSize:o,symbolSize:i}}function R(e,t,o,r){switch(e){case\"proportional\":return o*r;case\"symbol-value\":return null!=t?t:o;default:return e}}function C(e,t){const o=x(t);if(null!=o)switch(e.type){case\"simple-marker\":e.size=o;break;case\"picture-marker\":{const t=e.width/e.height;t>1?(e.width=o,e.height=o*t):(e.width=o*t,e.height=o);break}case\"simple-line\":e.width=o;break;case\"text\":e.font.size=o}}async function D(e,t){if(e&&t)return s(e)?k(e,t):void(u(e)&&C(e,t))}function J(e,t,o){if(e&&null!=t)if(s(e)){const r=e.symbolLayers;r&&r.forEach((e=>{if(\"object\"===e.type)switch(o){case\"tilt\":e.tilt=(e.tilt??0)+t;break;case\"roll\":e.roll=(e.roll??0)+t;break;default:e.heading=(e.heading??0)+t}\"icon\"===e.type&&(e.angle+=t)}))}else u(e)&&(\"simple-marker\"!==e.type&&\"picture-marker\"!==e.type&&\"text\"!==e.type||(e.angle+=t))}function M(e){if(!e)return null;const t=e.effects.filter((e=>\"bloom\"!==e.type)).map((e=>e.toJSON()));return n(t)}function N(e){return null!=e&&\"polygon-3d\"===e.type&&e.symbolLayers.some((e=>\"extrude\"===e.type))}export{g as applyColorToSymbol,w as applyOpacityToColor,J as applyRotationToSymbol,D as applySizesToSymbol,M as getCSSFilterFromEffectList,h as getColorFromSymbol,p as getIconHref,m as getSymbolOutlineSize,y as isVolumetricSymbol,N as symbolHasExtrudeSymbolLayer};\n"],"names":["c","p","r","constructor","o","super","this","type","cloudCover","clone","s","cloudy","e","json","write","isRequired","prototype","Number","nonNullable","range","min","max","t","i","fogStrength","foggy","precipitation","rainy","n","snowCover","snowy","sunny","key","base","typeMap","Object","keys","g","arguments","length","undefined","geometry","screenToWorldRatio","_transformation","_shaderTransformation","_boundingSphere","id","layerUid","graphicUid","castShadow","objectShaderTransformation","objectShaderTransformationChanged","transformation","boundingInfo","boundingSphere","h","center","shaderTransformation","radius","a","material","attributes","highlight","highlights","foreachHighlightOptions","hasHighlights","occludees","visible","fragment","code","add","float","d","screenSpaceReflections","include","uniforms","camera","nearFar","depth","attachment","projectionMatrix","height","ssr","reprojectionMatrix","highStepCount","Bind","bindTexture","constants","C","l","_ref","clouds","parallax","radiusCurvatureCorrection","readChannels","RG","m","data","cubeMap","colorTexture","anchorPoint","parallaxNew","u","transform","opacity","fadeFactor","fadeState","CROSS_FADE","v","cloudReflections","f","lighting","mainLight","specularStrength","environmentStrength","viewMatrix","lastFrameColor","getTexture","O","POSITION","FLOAT","UV0","E","A","INNER","OUTER","REGULAR","HAS_NORTH_POLE","HAS_SOUTH_POLE","HAS_BOTH_POLES","FADING","IMMEDIATE","UNFADED","outputs","input","Math","ceil","main","freeze","defineProperty","__proto__","HighlightDownsampleDrawParameters","blurSize","build","gridCellPixelSize","outlineSize","Symbol","toStringTag","value","CCW_IS_HOLE","NONE","rings","paths","position","outlines","hasZ","spatialReference","y","lines","projectionSuccess","sampledElevation","Array","index","count","push","mapPositions","dash","dot","none","solid","pattern","pixelRatio","slice","style","b","vertex","w","varyings","vvColor","hasVertexColors","COLORFEATUREATTRIBUTE","color","Pass","setUniform2iv","coverageTexture","horizontalCellCount","verticalCellCount","highlightTexture","descriptor","width","highlightLevel","blurInput","SingleHighlightBlurDrawParameters","running","Idle","Rendering","Ready","Fading","BA","COUNT","texture","TextureOnlyPassParameters","I","ADD","UPDATE","REMOVE","VISIBILITY","GEOMETRY","TRANSFORMATION","HIGHLIGHT","OCCLUDEE","highlightOptionsTexture","occludedFactor","singleHighlightBlurTexture","x","startTime","_data","_readChannels","_anchorPoint","_","_fadeState","HIDE","_fadeFactor","FADE_OUT","FADE_IN","SHOW","fade","isFading","H","_endFade","_evaluateState","_updateParallax","relativeElevation","_updateAnchorPoint","P","_startFade","state","D","eye","sqrt","S","requestFade","_switchReadChannels","F","intersect","_extent","resolution","renderLocalOrigin","mapUnitsPerPixel","canvasGeometries","extent","setupGeometryViewsCyclical","setupGeometryView","extents","numViews","hasSomeSizedView","Color","ColorNoRasterImage","Highlight","WaterNormal","Occluded","ObjectAndLayerIdColor","_fbos","_format","_name","valid","_handle","dispose","bind","fbo","release","acquire","bindFramebuffer","generateMipMap","hasMipmap","generateMipmap","RGBA_MIPMAP","output","content","targets","Normal","RGBA","computeValidity","reduce","Material","ShadowMap","ViewshedShadowMap","Disabled","Enabled","EnabledWithWater","initializePipeline","blending","colorWrite","produces","HIGHLIGHTS","consumes","required","_useMultipleHighlights","_downsampleDrawParameters","_passParameters","_singleHighlightBlurDrawParameters","j","_grid","M","initialize","addHandles","_updateOptionsTexture","destroy","coverage","vao","internalFormat","q","samplingMode","NEAREST","renderingContext","setData","Uint8Array","haloColor","fillOpacity","haloOpacity","U","view","requestRender","T","precompile","techniques","render","find","name","bindParameters","decorations","get","compiled","_ref2","_gridUpdateResources","_gridComputeCoverage","bindVAO","drawElementsInstanced","TRIANGLES","UNSIGNED_BYTE","setViewport4fv","fullViewport","_renderMultiple","_renderSingle","bindTechnique","fboCache","fullWidth","fullHeight","_stage","renderView","renderer","hasHighlightOptions","setClearColor","setViewport","clear","R","COLOR","unbindTexture","createIndex","STATIC_DRAW","Map","createVertex","screen","draw","test","viewportWidth","viewportHeight","G","_textures","_techniques","materialChanged","_id2glMaterialRef","_ownMaterial","createGLMaterial","textures","set","ref","glMaterial","unref","referenced","delete","repository","getLogger","error","_refCnt","Immediate","FadeWithWeather","shadowMap","slot","OPAQUE_MATERIAL","slicePlane","hasOccludees","enableFillLights","oitPass","alignPixelEnabled","overlayStretch","viewshedEnabled","_camera","_inverseViewport","_oldLighting","_newLighting","_fadedLighting","_lighting","terrainDepthTest","cullAboveTerrain","highlightOrderMap","highlightMixOrigin","highlightMixTexture","hudRenderStyle","hudOccludedFragmentOpacity","shadowHighlightsVisible","inverseViewport","fadeLighting","lerpLighting","copyFrom","updateLighting","noonFactor","globalFactor","rctx","lastFrameCamera","renderOccludedMask","Occlude","OccludeAndTransparent","OccludeAndTransparentStencil","_projectionMatrix","readOnly","ExcludeHighlight","lightMat","maxNumCascadesHighQuality","maxNumCascadesLowQuality","textureSizeModHighQuality","textureSizeModLowQuality","splitSchemeLambda","X","_viewingMode","_enabled","_snapshots","_textureHeight","_numCascades","settings","_projectionView","_projectionViewInverse","_modelViewLight","_cascadeDistances","_usedCascadeDistances","_cascades","_lastOrigin","_maxTextureWidth","has","parameters","maxTextureSize","enabled","disposeOffscreenBuffers","depthTexture","_textureWidth","numCascades","cascadeDistances","_discardSnapshots","maxCascades","floor","ready","cascades","it","start","V","near","far","Tt","_computeCascadeDistances","_computeTextureHeight","_setupMatrices","_constructCascade","finish","detachDepth","getShadowMapMatrices","at","rt","moveSnapshot","copySnapshot","RGBA4","_bindFbo","z","TEXTURE_UNIT_FOR_UPDATES","gl","copyTexSubImage2D","TEXTURE_2D","getSnapshot","_ensureFbo","W","DEPTH","window","devicePixelRatio","L","Q","acquireDepth","DEPTH16_BUFFER","_discardSnapshot","abs","J","K","et","k","sin","ht","ot","nt","ct","lt","dt","mt","ut","_t","ft","B","gt","Y","Z","$","tt","st","wt","Mt","pt","bt","Ct","jt","viewport","Global","N","yt","concat","xt","hasAlpha","_overlays","_renderTargets","_overlayParameters","_hasWater","_renderers","_sortedDrapeSourceRenderersDirty","_sortedRenderers","_materials","_screenToWorldRatio","_localOriginFactory","unloadedMemory","ignoresMemoryFactor","events","longitudeCyclical","DRAPED_MATERIAL","DRAPED_WATER","_hasTargetWithoutRasterImage","_hasDrapedFeatureSource","_hasDrapedRasterSource","_view","waterTextures","_renderContext","_rctx","viewingMode","updating","emit","allLayerViews","shadowOpacity","shadowDifference","shadowColor","_bindParameters","_updateHighlights","resourceController","scheduler","registerTask","STAGE","notifyChange","mainDepth","forEach","disposeOverlays","parent","materials","localOriginFactory","pluginContext","_pluginContext","initializeRenderContext","uninitializeRenderContext","acquireTechniques","hasOverlays","getMaterialRenderer","values","layers","_updateSortedDrapeSourceRenderers","map","drapeSource","layer","filter","updateHighlights","createDrapeSourceRenderer","rendererContext","fullOpacity","removeDrapeSourceRenderer","removeHandles","releaseRenderTargets","overlays","ensureDrapeTargets","drapeTargetType","WithoutRasterImage","ensureDrapeSources","drapeSourceType","Features","RasterImage","_needsColorWithoutRasterImage","ensureOverlays","runTask","_processDrapeSources","done","destroyed","commitChanges","madeProgress","size","processSyncDrapeSources","updatePolicy","SYNC","isEmpty","OVERLAY_DRAW_DEBUG_TEXTURE","hasWater","rendersOccludedDraped","se","precompiling","some","renders","mode","updateAnimation","BACKGROUND","updateDrapeSourceOrder","precompileShaders","forAll","_ref3","drawOverlays","_drawTarget","contentPixelRatio","screenToPCSRatio","worldToPCSRatio","_bindTargetFBO","ie","_setViewParameters","_ensureDebugPatternResources","re","_resolution","getBoundFramebufferObject","clearFramebuffer","_renderAllGeometry","_ref4","_bindTemporaryFBO","overlayIndex","notifyContentChanged","allLayers","indexOf","renderGroup","MapLayer","ViewLayer","ee","sort","constructOnly","Boolean","te","attributeData","removeDuplicateStartEnd","indices","colorFeature","sizeFeature","SIZE","normal","NORMAL","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","overlayInfo","renderCoordsHelper","isGeographic","DISTANCETOSTART","Line","_outer","empty","getInner","_createPipeline","transparent","cullFace","draped","polygonOffset","enableOffset","FrontFace","culling","depthTest","func","depthWrite","drawBuffers","Depth","buffers","stencilWrite","stencilTest","_occludeePipelineState","getPipeline","factor","units","None","discardInvisibleFragments","writeDepth","objectAndLayerIdColorInstanced","textureCoordinateType","emissionSource","occlusionPass","hasVvInstancing","vvSize","vvOpacity","_configuration","supportsEdges","_isOpaqueMaterialPass","OPAQUE_MATERIAL_WITHOUT_NORMALS","_isOpaqueNoSSAODepthPass","TRANSPARENT_MATERIAL","_transparent","TRANSPARENT_MATERIAL_WITHOUT_NORMALS","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","getConfiguration","hasSlicePlane","_isOpaquePass","forceTransparentMode","createBufferWriter","vec3f","vec4u8","OBJECTANDLAYERIDCOLOR","f32","beginSlot","getTechnique","OverlayCompositingPassParameters","EnableFastUpdates","DisableFastUpdates","UpdateFastLocalOrigin","vec2f","src","url","xscale","yscale","xoffset","yoffset","Promise","resolve","responseType","then","naturalWidth","naturalHeight","document","createElement","getContext","fillStyle","fillRect","globalCompositeOperation","drawImage","toDataURL","put","outline","cap","join","miterLimit","dashArray","split","entries","replaceAll","symbolLayers","resource","href","toRgba","async","resourceSize","symbolSize","computeObjectLayerResourceSize","font","tilt","roll","heading","angle","effects","toJSON"],"sourceRoot":""}