{"version":3,"file":"static/js/1361.96c9b452.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js","../node_modules/@arcgis/core/chunks/RibbonLine.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js","../node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js","../node_modules/@arcgis/core/views/3d/layers/interfaces.js","../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/testUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/support/ElevationProvider.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/support/engineContent/marker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isColorOrColorEmission as e,ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{blending as s,oitDepthTest as n,depthWrite as o,getDrawBuffers as u,OITPolygonOffset as p}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{stencilWriteMaskOn as a,stencilToolMaskBaseParams as f,stencilBaseAllZerosParams as d,depthCompareAlways as T,stencilToolTransparentOccluderParams as h,stencilWriteMaskOff as O,stencilToolMaskOccluderParams as m,depthCompareLess as E}from\"../lib/StencilUtils.js\";import{VertexAttribute as P}from\"../lib/VertexAttribute.js\";import{R}from\"../../../../chunks/RibbonLine.glsl.js\";import{PrimitiveType as I,SpecialDrawBuffers as b}from\"../../../webgl/enums.js\";import{makePipelineState as N,defaultColorWrite as S,premultipliedAlphaToPremultipliedAlpha as g}from\"../../../webgl/renderState.js\";class A extends r{constructor(e,t){super(e,t,new i(R,(()=>import(\"./RibbonLine.glsl.js\"))),W),this.primitiveType=t.wireframe?I.LINES:I.TRIANGLE_STRIP}_makePipelineState(i,r){const{oitPass:c,output:T,hasOccludees:h,hasPolygonOffset:O}=i,m=c===l.NONE,E=c===l.FrontFace;return N({blending:e(T)?s(c):null,depthTest:{func:n(c)},depthWrite:o(i),drawBuffers:T===t.Depth?{buffers:[b.NONE]}:u(c,T),colorWrite:S,stencilWrite:h?a:null,stencilTest:h?r?f:d:null,polygonOffset:m||E?O?_:null:p})}initializePipeline(e){if(e.occluder){const i=e.hasPolygonOffset?_:null;this._occluderPipelineTransparent=N({blending:g,polygonOffset:i,depthTest:T,depthWrite:null,colorWrite:S,stencilWrite:null,stencilTest:h,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null}),this._occluderPipelineOpaque=N({blending:g,polygonOffset:i,depthTest:T,depthWrite:null,colorWrite:S,stencilWrite:O,stencilTest:m,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null}),this._occluderPipelineMaskWrite=N({blending:null,polygonOffset:i,depthTest:E,depthWrite:null,colorWrite:null,stencilWrite:a,stencilTest:f,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null})}return this._occludeePipeline=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){if(e)return this._occludeePipeline;switch(t){case c.TRANSPARENT_OCCLUDER_MATERIAL:return this._occluderPipelineTransparent??super.getPipeline();case c.OCCLUDER_MATERIAL:return this._occluderPipelineOpaque??super.getPipeline();default:return this._occluderPipelineMaskWrite??super.getPipeline()}}}const _={factor:0,units:-4},W=new Map([[P.POSITION,0],[P.PREVPOSITION,1],[P.NEXTPOSITION,2],[P.SUBDIVISIONFACTOR,3],[P.UV0,4],[P.COLOR,5],[P.COLORFEATUREATTRIBUTE,5],[P.SIZE,6],[P.SIZEFEATUREATTRIBUTE,6],[P.OPACITYFEATUREATTRIBUTE,7],[P.OBJECTANDLAYERIDCOLOR,8]]);export{A as RibbonLineTechnique,W as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{copy as i}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{i as s,d as a,f as n,h as o,g as l,c,l as p,j as h,t as f}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as u}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PlaneIndex as T}from\"../../../../geometry/support/frustum.js\";import{create as d,distance2 as _,fromPoints as E,closestLineSegmentPoint as A}from\"../../../../geometry/support/lineSegment.js\";import{create as R,fromPoints as O,signedDistance as g,getNormal as I}from\"../../../../geometry/support/plane.js\";import{newLayout as S}from\"../../support/buffer/InterleavedLayout.js\";import{isHighlightOrOID as v,isColorOrColorEmission as P,isDepth as N,isColorEmissionHighlightOIDOrDepth as L,is2DGeometryOutput as b,ShaderOutput as C}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as U}from\"../effects/geometry/olidUtils.js\";import y from\"../lib/GLMaterial.js\";import{Material as D,RenderOccludedFlag as j}from\"../lib/Material.js\";import{RenderSlot as F}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as w}from\"../lib/Util.js\";import{VertexAttribute as M}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as x}from\"./VisualVariablePassParameters.js\";import{LineMarkerAnchor as B}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{r as J}from\"../../../../chunks/RibbonLine.glsl.js\";import{vertexAttributeLocations as H,RibbonLineTechnique as z}from\"../shaders/RibbonLineTechnique.js\";import{RibbonLineTechniqueConfiguration as G,CapType as k}from\"../shaders/RibbonLineTechniqueConfiguration.js\";import{alphaCutoff as V}from\"../../../../webscene/support/AlphaCutoff.js\";var Z;!function(e){e[e.LEFT_JOIN_START=-2]=\"LEFT_JOIN_START\",e[e.LEFT_JOIN_END=-1]=\"LEFT_JOIN_END\",e[e.LEFT_CAP_START=-4]=\"LEFT_CAP_START\",e[e.LEFT_CAP_END=-5]=\"LEFT_CAP_END\",e[e.RIGHT_JOIN_START=2]=\"RIGHT_JOIN_START\",e[e.RIGHT_JOIN_END=1]=\"RIGHT_JOIN_END\",e[e.RIGHT_CAP_START=4]=\"RIGHT_CAP_START\",e[e.RIGHT_CAP_END=5]=\"RIGHT_CAP_END\"}(Z||(Z={}));class W extends D{constructor(e){super(e,q),this._configuration=new G,this.vertexAttributeLocations=H,this.produces=new Map([[F.OPAQUE_MATERIAL,e=>v(e)||P(e)&&this.parameters.renderOccluded===j.OccludeAndTransparentStencil],[F.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>N(e)],[F.OCCLUDER_MATERIAL,e=>L(e)&&this.parameters.renderOccluded===j.OccludeAndTransparentStencil],[F.TRANSPARENT_OCCLUDER_MATERIAL,e=>L(e)&&this.parameters.renderOccluded===j.OccludeAndTransparentStencil],[F.TRANSPARENT_MATERIAL,e=>P(e)&&this.parameters.writeDepth&&this.parameters.renderOccluded!==j.OccludeAndTransparentStencil],[F.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>P(e)&&!this.parameters.writeDepth&&this.parameters.renderOccluded!==j.OccludeAndTransparentStencil],[F.DRAPED_MATERIAL,e=>b(e)]])}getConfiguration(e,t){this._configuration.output=e,this._configuration.oitPass=t.oitPass,this._configuration.draped=t.slot===F.DRAPED_MATERIAL;const r=null!=this.parameters.stipplePattern&&e!==C.Highlight;return this._configuration.stippleEnabled=r,this._configuration.stippleOffColorEnabled=r&&null!=this.parameters.stippleOffColor,this._configuration.stipplePreferContinuous=r&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.roundJoins=\"round\"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=null!=this.parameters.markerParameters&&$(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&null!=this.parameters.innerColor,this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.hasOccludees=t.hasOccludees,this._configuration.occluder=this.parameters.renderOccluded===j.OccludeAndTransparentStencil,this._configuration.terrainDepthTest=t.terrainDepthTest&&P(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.wireframe=this.parameters.wireframe,this._configuration}get visible(){return this.parameters.color[3]>=V||null!=this.parameters.stipplePattern&&(this.parameters.stippleOffColor?.[3]??0)>V}intersectDraped({attributes:e,screenToWorldRatio:r},i,s,a,n,o){if(!s.options.selectionMode)return;const l=e.get(M.SIZE);let c=this.parameters.width;if(this.parameters.vvSize){const r=e.get(M.SIZEFEATUREATTRIBUTE).data[0];c*=t(this.parameters.vvSize.offset[0]+r*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else l&&(c*=l.data[0]);const p=a[0],h=a[1],f=(c/2+4)*r;let m=Number.MAX_VALUE,u=0;const T=e.get(M.POSITION).data,d=K(this.parameters,e)?T.length-2:T.length-5;for(let _=0;_<d;_+=3){const e=T[_],r=T[_+1],i=(_+3)%T.length,s=p-e,a=h-r,n=T[i]-e,o=T[i+1]-r,l=t((n*s+o*a)/(n*n+o*o),0,1),c=n*l-s,f=o*l-a,d=c*c+f*f;d<m&&(m=d,u=_/3)}m<f*f&&n(o.dist,o.normal,u,!1)}intersect(r,f,m,u,d,R){if(!m.options.selectionMode||!r.visible)return;if(!w(f))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\").error(\"intersection assumes a translation-only matrix\");const S=r.attributes,v=S.get(M.POSITION).data;let P=this.parameters.width;if(this.parameters.vvSize){const e=S.get(M.SIZEFEATUREATTRIBUTE).data[0];P*=t(this.parameters.vvSize.offset[0]+e*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else S.has(M.SIZE)&&(P*=S.get(M.SIZE).data[0]);const N=m.camera,L=se;i(L,m.point);const b=P*N.pixelRatio/2+4*N.pixelRatio;s(ue[0],L[0]-b,L[1]+b,0),s(ue[1],L[0]+b,L[1]+b,0),s(ue[2],L[0]+b,L[1]-b,0),s(ue[3],L[0]-b,L[1]-b,0);for(let e=0;e<4;e++)if(!N.unprojectFromRenderScreen(ue[e],Te[e]))return;O(N.eye,Te[0],Te[1],de),O(N.eye,Te[1],Te[2],_e),O(N.eye,Te[2],Te[3],Ee),O(N.eye,Te[3],Te[0],Ae);let C=Number.MAX_VALUE,U=0;const y=K(this.parameters,S)?v.length-2:v.length-5;for(let e=0;e<y;e+=3){ee[0]=v[e]+f[12],ee[1]=v[e+1]+f[13],ee[2]=v[e+2]+f[14];const t=(e+3)%v.length;if(te[0]=v[t]+f[12],te[1]=v[t+1]+f[13],te[2]=v[t+2]+f[14],g(de,ee)<0&&g(de,te)<0||g(_e,ee)<0&&g(_e,te)<0||g(Ee,ee)<0&&g(Ee,te)<0||g(Ae,ee)<0&&g(Ae,te)<0)continue;if(N.projectToRenderScreen(ee,ae),N.projectToRenderScreen(te,ne),ae[2]<0&&ne[2]>0){a(re,ee,te);const e=N.frustum,t=-g(e[T.NEAR],ee)/n(re,I(e[T.NEAR]));o(re,re,t),l(ee,ee,re),N.projectToRenderScreen(ee,ae)}else if(ae[2]>0&&ne[2]<0){a(re,te,ee);const e=N.frustum,t=-g(e[T.NEAR],te)/n(re,I(e[T.NEAR]));o(re,re,t),l(te,te,re),N.projectToRenderScreen(te,ne)}else if(ae[2]<0&&ne[2]<0)continue;ae[2]=0,ne[2]=0;const r=_(E(ae,ne,ce),L);r<C&&(C=r,c(oe,ee),c(le,te),U=e/3)}const D=m.rayBegin,j=m.rayEnd;if(C<b*b){let e=Number.MAX_VALUE;if(A(E(oe,le,ce),E(D,j,pe),ie)){a(ie,ie,D);const t=p(ie);o(ie,ie,1/t),e=t/h(D,j)}R(e,ie,U,!1)}}get _layout(){const e=S().vec3f(M.POSITION).vec3f(M.PREVPOSITION).vec3f(M.NEXTPOSITION).f32(M.SUBDIVISIONFACTOR).vec2f(M.UV0);return this.parameters.vvSize?e.f32(M.SIZEFEATUREATTRIBUTE):e.f32(M.SIZE),this.parameters.vvColor?e.f32(M.COLORFEATUREATTRIBUTE):e.vec4f(M.COLOR),this.parameters.vvOpacity&&e.f32(M.OPACITYFEATUREATTRIBUTE),U()&&e.vec4u8(M.OBJECTANDLAYERIDCOLOR),e}createBufferWriter(){return new X(this._layout,this.parameters)}createGLMaterial(e){return new Y(e)}validateParameters(e){\"miter\"!==e.join&&(e.miterLimit=0),null!=e.markerParameters&&(e.markerScale=e.markerParameters.width/e.width)}}class Y extends y{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextures.release(this._stipplePattern),this._stipplePattern=null}beginSlot(e){const t=this._material.parameters.stipplePattern;return this._stipplePattern!==t&&(this._material.setParameters({stippleTexture:this._stippleTextures.swap(t,this._stipplePattern)}),this._stipplePattern=t),this.getTechnique(z,e)}}class q extends x{constructor(){super(...arguments),this.width=0,this.color=u,this.join=\"miter\",this.cap=k.BUTT,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.wireframe=!1}get transparent(){return this.color[3]<1||null!=this.stipplePattern&&(this.stippleOffColor?.[3]??0)<1}}class X{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t,this.numJoinSubdivisions=0;const r=t.stipplePattern?1:0;switch(this._parameters.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=r;break;case\"round\":this.numJoinSubdivisions=J+r}}_isClosed(e){return K(this._parameters,e)}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2,r=e.get(M.POSITION).indices.length/2+1,i=this._isClosed(e);let s=i?2:2*t;return s+=((i?r:r-1)-(i?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this._parameters.wireframe&&(s=2+4*(s-2)),s}write(e,t,r,i,a,n){const o=he,l=fe,p=me,m=r.get(M.POSITION),u=m.indices,T=m.data.length/3,d=r.get(M.DISTANCETOSTART)?.data;u&&u.length!==2*(T-1)&&console.warn(\"RibbonLineMaterial does not support indices\");const _=r.get(M.SIZEFEATUREATTRIBUTE)?.data[0]??r.get(M.SIZE)?.data[0]??1;let E=[1,1,1,1],A=0;const R=this.vertexBufferLayout.fields.has(M.COLORFEATUREATTRIBUTE);R?A=r.get(M.COLORFEATUREATTRIBUTE).data[0]:r.has(M.COLOR)&&(E=r.get(M.COLOR).data);const O=this.vertexBufferLayout.fields.has(M.OPACITYFEATUREATTRIBUTE),g=O?r.get(M.OPACITYFEATUREATTRIBUTE).data[0]:0,I=new Float32Array(a.buffer),S=U()?new Uint8Array(a.buffer):null,v=this.vertexBufferLayout.stride/4;let P=n*v;const N=P;let L=0;const b=d?(e,t,r)=>L=d[r]:(e,t,r)=>L+=h(e,t),C=(e,t,r,s,a,n,o)=>{if(I[P++]=t[0],I[P++]=t[1],I[P++]=t[2],I[P++]=e[0],I[P++]=e[1],I[P++]=e[2],I[P++]=r[0],I[P++]=r[1],I[P++]=r[2],I[P++]=s,I[P++]=o,I[P++]=a,I[P++]=_,R)I[P++]=A;else{const e=Math.min(4*n,E.length-4);I[P++]=E[e],I[P++]=E[e+1],I[P++]=E[e+2],I[P++]=E[e+3]}O&&(I[P++]=g),U()&&(i&&(S[4*P]=i[0],S[4*P+1]=i[1],S[4*P+2]=i[2],S[4*P+3]=i[3]),P++)};P+=v,s(l,m.data[0],m.data[1],m.data[2]),e&&f(l,l,e);const y=this._isClosed(r);if(y){const t=m.data.length-3;s(o,m.data[t],m.data[t+1],m.data[t+2]),e&&f(o,o,e)}else s(p,m.data[3],m.data[4],m.data[5]),e&&f(p,p,e),C(l,l,p,1,Z.LEFT_CAP_START,0,0),C(l,l,p,1,Z.RIGHT_CAP_START,0,0),c(o,l),c(l,p);const D=y?0:1,j=y?T:T-1;for(let h=D;h<j;h++){const t=(h+1)%T*3;s(p,m.data[t],m.data[t+1],m.data[t+2]),e&&f(p,p,e),b(o,l,h),C(o,l,p,0,Z.LEFT_JOIN_END,h,L),C(o,l,p,0,Z.RIGHT_JOIN_END,h,L);const r=this.numJoinSubdivisions;for(let e=0;e<r;++e){const t=(e+1)/(r+1);C(o,l,p,t,Z.LEFT_JOIN_END,h,L),C(o,l,p,t,Z.RIGHT_JOIN_END,h,L)}C(o,l,p,1,Z.LEFT_JOIN_START,h,L),C(o,l,p,1,Z.RIGHT_JOIN_START,h,L),c(o,l),c(l,p)}y?(s(p,m.data[3],m.data[4],m.data[5]),e&&f(p,p,e),L=b(o,l,j),C(o,l,p,0,Z.LEFT_JOIN_END,D,L),C(o,l,p,0,Z.RIGHT_JOIN_END,D,L)):(L=b(o,l,j),C(o,l,l,0,Z.LEFT_CAP_END,j,L),C(o,l,l,0,Z.RIGHT_CAP_END,j,L)),Q(I,N+v,I,N,v);P=Q(I,P-v,I,P,v),this._parameters.wireframe&&this._addWireframeVertices(a,N,P,v)}_addWireframeVertices(e,t,r,i){const s=new Float32Array(e.buffer,r*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(e.buffer,t*Float32Array.BYTES_PER_ELEMENT,r-t);let n=0;const o=e=>n=Q(a,e,s,n,i);for(let l=0;l<a.length-1;l+=2*i)o(l),o(l+2*i),o(l+1*i),o(l+2*i),o(l+1*i),o(l+3*i)}}function Q(e,t,r,i,s){for(let a=0;a<s;a++)r[i++]=e[t++];return i}function K(e,t){if(!e.isClosed)return!1;return t.get(M.POSITION).indices.length>2}function $(e){return e.anchor===B.Tip&&e.hideOnShortSegments&&\"begin-end\"===e.placement&&e.worldSpace}const ee=m(),te=m(),re=m(),ie=m(),se=m(),ae=r(),ne=r(),oe=m(),le=m(),ce=d(),pe=d(),he=m(),fe=m(),me=m(),ue=[r(),r(),r(),r()],Te=[m(),m(),m(),m()],de=R(),_e=R(),Ee=R(),Ae=R();export{q as Parameters,W as RibbonLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{VisualVariables as t}from\"../shading/VisualVariables.glsl.js\";import{Float3PassUniform as i}from\"../../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as e}from\"../../shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as a}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{VertexAttribute as v}from\"../../../lib/VertexAttribute.js\";const o=8;function c(c,s){const l=c.vertex;l.uniforms.add(new e(\"intrinsicWidth\",(t=>t.width))),s.vvSize?(c.attributes.add(v.SIZEFEATUREATTRIBUTE,\"float\"),l.uniforms.add(new i(\"vvSizeMinSize\",(t=>t.vvSize.minSize)),new i(\"vvSizeMaxSize\",(t=>t.vvSize.maxSize)),new i(\"vvSizeOffset\",(t=>t.vvSize.offset)),new i(\"vvSizeFactor\",(t=>t.vvSize.factor))),l.code.add(r`float getSize() {\nreturn intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n}`)):(c.attributes.add(v.SIZE,\"float\"),l.code.add(r`float getSize(){\nreturn intrinsicWidth * size;\n}`)),s.vvOpacity?(c.attributes.add(v.OPACITYFEATUREATTRIBUTE,\"float\"),l.constants.add(\"vvOpacityNumber\",\"int\",8),l.uniforms.add(new a(\"vvOpacityValues\",(t=>t.vvOpacity.values),o),new a(\"vvOpacityOpacities\",(t=>t.vvOpacity.opacityValues),o)),l.code.add(r`float interpolateOpacity( float value ){\nif (value <= vvOpacityValues[0]) {\nreturn vvOpacityOpacities[0];\n}\nfor (int i = 1; i < vvOpacityNumber; ++i) {\nif (vvOpacityValues[i] >= value) {\nfloat f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\nreturn mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n}\n}\nreturn vvOpacityOpacities[vvOpacityNumber - 1];\n}\nvec4 applyOpacity( vec4 color ){\nreturn vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n}`)):l.code.add(r`vec4 applyOpacity( vec4 color ){\nreturn color;\n}`),s.vvColor?(c.include(t,s),c.attributes.add(v.COLORFEATUREATTRIBUTE,\"float\"),l.code.add(r`vec4 getColor(){\nreturn applyOpacity(interpolateVVColor(colorFeatureAttribute));\n}`)):(c.attributes.add(v.COLOR,\"vec4\"),l.code.add(r`vec4 getColor(){\nreturn applyOpacity(color);\n}`))}export{c as RibbonVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e=[\"layerObjectAdded\",\"layerObjectRemoved\",\"layerObjectsAdded\",\"layerObjectsRemoved\",\"transformationChanged\",\"shaderTransformationChanged\",\"visibilityChanged\",\"occlusionChanged\",\"highlightChanged\",\"geometryAdded\",\"geometryRemoved\",\"attributesChanged\"];export{e as DirtyEventNames};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{ContentObject as r}from\"./ContentObject.js\";import{ContentObjectType as o}from\"./ContentObjectType.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import d from\"./Octree.js\";import{UpdatePolicy as c}from\"./UpdatePolicy.js\";class a extends r{constructor(s,r,d=\"\"){super(),this.stage=s,this.apiLayerUid=d,this.type=o.Layer,this.events=new e,this.visible=!0,this.sliceable=!1,this._objectsAdded=new i,this._handles=new t,this._objects=new i,this._pickable=!0,this.visible=r?.visible??!0,this._pickable=r?.pickable??!0,this.updatePolicy=r?.updatePolicy??c.ASYNC,this._disableOctree=r?.disableOctree??!1,s.add(this);for(const e of h)this._handles.add(this.events.on(e,(t=>s.handleEvent(e,t))))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.remove(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.push(e),e.parentLayer=this,this.events.emit(\"layerObjectAdded\",{layer:this,object:e}),null!=this._octree&&this._objectsAdded.push(e)}remove(e){this._objects.removeUnordered(e)&&(e.parentLayer=null,this.events.emit(\"layerObjectRemoved\",{layer:this,object:e}),null!=this._octree&&(this._objectsAdded.removeUnordered(e)||this._octree.remove([e])))}addMany(e){this._objects.pushArray(e);for(const t of e)t.parentLayer=this;this.events.emit(\"layerObjectsAdded\",{layer:this,objects:e}),null!=this._octree&&this._objectsAdded.pushArray(e)}removeMany(e){const t=new Array;if(this._objects.removeUnorderedMany(e,e.length,t),0!==t.length){for(const e of t)e.parentLayer=null;if(this.events.emit(\"layerObjectsRemoved\",{layer:this,objects:t}),null!=this._octree){for(let e=0;e<t.length;)this._objectsAdded.removeUnordered(t[e])?(t[e]=t[t.length-1],t.length-=1):++e;this._octree.remove(t)}}}sync(){this.updatePolicy!==c.SYNC&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.length>50&&!this._disableOctree?(this._octree=new d((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.data,this._objects.length)):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded.data,this._objectsAdded.length),this._objectsAdded.clear()),this._octree}invalidateSpatialQueryAccelerator(){this._octree=s(this._octree),this._objectsAdded.clear()}}function l(e){return null!=e&&e.type===o.Layer}export{a as WebGLLayer,l as isWebGLLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ObjectAndLayerIdColor as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{RibbonVertexPosition as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{LineStipple as r,computePixelSize as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{MarkerSizing as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js\";import{PiUtils as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{terrainDepthTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as p,addPixelRatio as c}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2BindUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float4BindUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4PassUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as S}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{VertexAttribute as D}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{LineMarkerSpace as x}from\"../views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js\";import{outputColorHighlightOID as L}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{CapType as w}from\"../views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as y}from\"../webscene/support/AlphaCutoff.js\";const j=1;function C(C){const F=new b,{attributes:P,varyings:R,vertex:z,fragment:A}=F,{applyMarkerOffset:T,draped:V,output:O,capType:W,stippleEnabled:E,falloffEnabled:I,roundJoins:N,wireframe:M,innerColorEnabled:_}=C;F.include(s),F.include(n,C),F.include(r,C),F.include(t,C),F.include(l,C);const k=T&&!V;k&&(z.uniforms.add(new h(\"markerScale\",(e=>e.markerScale))),F.include(a,{space:x.World})),p(z,C),z.uniforms.add(new u(\"inverseProjectionMatrix\",(e=>e.camera.inverseProjectionMatrix)),new m(\"nearFar\",(e=>e.camera.nearFar)),new h(\"miterLimit\",(e=>\"miter\"!==e.join?0:e.miterLimit)),new v(\"viewport\",(e=>e.camera.fullViewport))),z.constants.add(\"LARGE_HALF_FLOAT\",\"float\",65500),P.add(D.POSITION,\"vec3\"),P.add(D.PREVPOSITION,\"vec3\"),P.add(D.NEXTPOSITION,\"vec3\"),P.add(D.SUBDIVISIONFACTOR,\"float\"),P.add(D.UV0,\"vec2\"),R.add(\"vColor\",\"vec4\"),R.add(\"vpos\",\"vec3\"),R.add(\"vLineDistance\",\"float\"),R.add(\"vLineWidth\",\"float\");const B=E;B&&R.add(\"vLineSizeInv\",\"float\");const U=W===w.ROUND,$=E&&U,H=I||$;H&&R.add(\"vLineDistanceNorm\",\"float\"),U&&(R.add(\"vSegmentSDF\",\"float\"),R.add(\"vReverseSegmentSDF\",\"float\")),z.code.add(S`vec2 perpendicular(vec2 v) {\nreturn vec2(v.y, -v.x);\n}\nfloat interp(float ncp, vec4 a, vec4 b) {\nreturn (-ncp - a.z) / (b.z - a.z);\n}\nvec2 rotate(vec2 v, float a) {\nfloat s = sin(a);\nfloat c = cos(a);\nmat2 m = mat2(c, -s, s, c);\nreturn m * v;\n}`),z.code.add(S`vec4 projectAndScale(vec4 pos) {\nvec4 posNdc = proj * pos;\nposNdc.xy *= viewport.zw / posNdc.w;\nreturn posNdc;\n}`),z.code.add(S`void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next, in bool isStartVertex) {\nfloat vnp = nearFar[0] * 0.99;\nif(pos.z > -nearFar[0]) {\nif (!isStartVertex) {\nif(prev.z < -nearFar[0]) {\npos = mix(prev, pos, interp(vnp, prev, pos));\nnext = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n} else {\nif(next.z < -nearFar[0]) {\npos = mix(pos, next, interp(vnp, pos, next));\nprev = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n}\n} else {\nif (prev.z > -nearFar[0]) {\nprev = mix(pos, prev, interp(vnp, pos, prev));\n}\nif (next.z > -nearFar[0]) {\nnext = mix(next, pos, interp(vnp, next, pos));\n}\n}\nforwardViewPosDepth(pos.xyz);\npos = projectAndScale(pos);\nnext = projectAndScale(next);\nprev = projectAndScale(prev);\n}`),c(z),z.constants.add(\"aaWidth\",\"float\",E?0:1).main.add(S`\n    // unpack values from uv0.y\n    bool isStartVertex = abs(abs(uv0.y)-3.0) == 1.0;\n\n    float coverage = 1.0;\n\n    // Check for special value of uv0.y which is used by the Renderer when graphics\n    // are removed before the VBO is recompacted. If this is the case, then we just\n    // project outside of clip space.\n    if (uv0.y == 0.0) {\n      // Project out of clip space\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n    else {\n      bool isJoin = abs(uv0.y) < 3.0;\n      float lineSize = getSize();\n\n      if (lineSize < 1.0) {\n        coverage = lineSize; // convert sub-pixel coverage to alpha\n        lineSize = 1.0;\n      }\n      lineSize += aaWidth;\n\n      float lineWidth = lineSize * pixelRatio;\n      vLineWidth = lineWidth;\n      ${B?S`vLineSizeInv = 1.0 / lineSize;`:\"\"}\n\n      vec4 pos  = view * vec4(position, 1.0);\n      vec4 prev = view * vec4(prevPosition, 1.0);\n      vec4 next = view * vec4(nextPosition, 1.0);\n  `),k&&z.main.add(S`vec4 other = isStartVertex ? next : prev;\nbool markersHidden = areWorldMarkersHidden(pos, other);\nif(!isJoin && !markersHidden) {\npos.xyz += normalize(other.xyz - pos.xyz) * getWorldMarkerSize(pos) * 0.5;\n}`),z.main.add(S`clipAndTransform(pos, prev, next, isStartVertex);\nvec2 left = (pos.xy - prev.xy);\nvec2 right = (next.xy - pos.xy);\nfloat leftLen = length(left);\nfloat rightLen = length(right);`);(E||U)&&z.main.add(S`\n      float isEndVertex = float(!isStartVertex);\n      vec2 segmentOrigin = mix(pos.xy, prev.xy, isEndVertex);\n      vec2 segment = mix(right, left, isEndVertex);\n      ${U?S`vec2 segmentEnd = mix(next.xy, pos.xy, isEndVertex);`:\"\"}\n    `),z.main.add(S`left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);\nright = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);\nvec2 capDisplacementDir = vec2(0, 0);\nvec2 joinDisplacementDir = vec2(0, 0);\nfloat displacementLen = lineWidth;\nif (isJoin) {\nbool isOutside = (left.x * right.y - left.y * right.x) * uv0.y > 0.0;\njoinDisplacementDir = normalize(left + right);\njoinDisplacementDir = perpendicular(joinDisplacementDir);\nif (leftLen > 0.001 && rightLen > 0.001) {\nfloat nDotSeg = dot(joinDisplacementDir, left);\ndisplacementLen /= length(nDotSeg * left - joinDisplacementDir);\nif (!isOutside) {\ndisplacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\n}\n}\nif (isOutside && (displacementLen > miterLimit * lineWidth)) {`),N?z.main.add(S`\n        vec2 startDir = leftLen < 0.001 ? right : left;\n        startDir = perpendicular(startDir);\n\n        vec2 endDir = rightLen < 0.001 ? left : right;\n        endDir = perpendicular(endDir);\n\n        float factor = ${E?S`min(1.0, subdivisionFactor * ${S.float((j+2)/(j+1))})`:S`subdivisionFactor`};\n\n        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));\n        joinDisplacementDir = rotate(startDir, -sign(uv0.y) * factor * rotationAngle);\n      `):z.main.add(S`if (leftLen < 0.001) {\njoinDisplacementDir = right;\n}\nelse if (rightLen < 0.001) {\njoinDisplacementDir = left;\n}\nelse {\njoinDisplacementDir = (isStartVertex || subdivisionFactor > 0.0) ? right : left;\n}\njoinDisplacementDir = perpendicular(joinDisplacementDir);`);const J=W!==w.BUTT;return z.main.add(S`\n        displacementLen = lineWidth;\n      }\n    } else {\n      // CAP handling ---------------------------------------------------\n      joinDisplacementDir = isStartVertex ? right : left;\n      joinDisplacementDir = perpendicular(joinDisplacementDir);\n\n      ${J?S`capDisplacementDir = isStartVertex ? -right : left;`:\"\"}\n    }\n  `),z.main.add(S`\n    // Displacement (in pixels) caused by join/or cap\n    vec2 dpos = joinDisplacementDir * sign(uv0.y) * displacementLen + capDisplacementDir * displacementLen;\n    float lineDistNorm = sign(uv0.y) * pos.w;\n\n    vLineDistance =  lineWidth * lineDistNorm;\n    ${H?S`vLineDistanceNorm = lineDistNorm;`:\"\"}\n\n    pos.xy += dpos;\n  `),U&&z.main.add(S`vec2 segmentDir = normalize(segment);\nvSegmentSDF = (isJoin && isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentOrigin, segmentDir) * pos.w) ;\nvReverseSegmentSDF = (isJoin && !isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentEnd, -segmentDir) * pos.w);`),E&&(V?z.uniforms.add(new g(\"worldToScreenRatio\",(e=>1/e.screenToPCSRatio))):z.main.add(S`vec3 segmentCenter = mix((nextPosition + position) * 0.5, (position + prevPosition) * 0.5, isEndVertex);\nfloat worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`),z.main.add(S`float segmentLengthScreenDouble = length(segment);\nfloat segmentLengthScreen = segmentLengthScreenDouble * 0.5;\nfloat discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);\nfloat segmentLengthRender = length(mix(nextPosition - position, position - prevPosition, isEndVertex));\nvStipplePatternStretch = worldToScreenRatio / discreteWorldToScreenRatio;`),V?z.main.add(S`float segmentLengthPseudoScreen = segmentLengthScreen / pixelRatio * discreteWorldToScreenRatio / worldToScreenRatio;\nfloat startPseudoScreen = uv0.x * discreteWorldToScreenRatio - mix(0.0, segmentLengthPseudoScreen, isEndVertex);`):z.main.add(S`float startPseudoScreen = mix(uv0.x, uv0.x - segmentLengthRender, isEndVertex) * discreteWorldToScreenRatio;\nfloat segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`),z.uniforms.add(new h(\"stipplePatternPixelSize\",(e=>o(e)))),z.main.add(S`float patternLength = lineSize * stipplePatternPixelSize;\nvStippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, segmentLengthScreen, patternLength);\nvStippleDistance = mix(vStippleDistanceLimits.x, vStippleDistanceLimits.y, isEndVertex);\nif (segmentLengthScreenDouble >= 0.001) {\nvec2 stippleDisplacement = pos.xy - segmentOrigin;\nfloat stippleDisplacementFactor = dot(segment, stippleDisplacement) / (segmentLengthScreenDouble * segmentLengthScreenDouble);\nvStippleDistance += (stippleDisplacementFactor - isEndVertex) * (vStippleDistanceLimits.y - vStippleDistanceLimits.x);\n}\nvStippleDistanceLimits *= pos.w;\nvStippleDistance *= pos.w;\nvStippleDistanceLimits = isJoin ?\nvStippleDistanceLimits :\nisStartVertex ?\nvec2(-1e34, vStippleDistanceLimits.y) :\nvec2(vStippleDistanceLimits.x, 1e34);`)),z.main.add(S`\n      // Convert back into NDC\n      pos.xy = (pos.xy / viewport.zw) * pos.w;\n\n      vColor = getColor();\n      vColor.a *= coverage;\n\n      ${M&&!V?\"pos.z -= 0.001 * pos.w;\":\"\"}\n\n      // transform final position to camera space for slicing\n      vpos = (inverseProjectionMatrix * pos).xyz;\n      gl_Position = pos;\n      forwardObjectAndLayerIdColor();\n    }`),F.fragment.include(i,C),F.include(L,C),A.include(d),A.main.add(S`discardBySlice(vpos);\ndiscardByTerrainDepth();`),M?A.main.add(S`vec4 finalColor = vec4(1.0, 0.0, 1.0, 1.0);`):(U&&A.main.add(S`\n        float sdf = min(vSegmentSDF, vReverseSegmentSDF);\n        vec2 fragmentPosition = vec2(\n          min(sdf, 0.0),\n          vLineDistance\n        ) * gl_FragCoord.w;\n\n        float fragmentRadius = length(fragmentPosition);\n        float fragmentCapSDF = (fragmentRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n        float capCoverage = clamp(0.5 - fragmentCapSDF, 0.0, 1.0);\n\n        if (capCoverage < ${S.float(y)}) {\n          discard;\n        }\n      `),$?A.main.add(S`\n      vec2 stipplePosition = vec2(\n        min(getStippleSDF() * 2.0 - 1.0, 0.0),\n        vLineDistanceNorm * gl_FragCoord.w\n      );\n      float stippleRadius = length(stipplePosition * vLineWidth);\n      float stippleCapSDF = (stippleRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n      float stippleCoverage = clamp(0.5 - stippleCapSDF, 0.0, 1.0);\n      float stippleAlpha = step(${S.float(y)}, stippleCoverage);\n      `):A.main.add(S`float stippleAlpha = getStippleAlpha();`),O!==e.ObjectAndLayerIdColor&&A.main.add(S`discardByStippleAlpha(stippleAlpha, ${S.float(y)});`),A.uniforms.add(new f(\"intrinsicColor\",(e=>e.color))),A.main.add(S`vec4 color = intrinsicColor * vColor;`),_&&(A.uniforms.add(new f(\"innerColor\",(e=>e.innerColor??e.color)),new h(\"innerWidth\",((e,i)=>e.innerWidth*i.camera.pixelRatio))),A.main.add(S`float distToInner = abs(vLineDistance * gl_FragCoord.w) - innerWidth;\nfloat innerAA = clamp(0.5 - distToInner, 0.0, 1.0);\nfloat innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);\ncolor = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);`)),A.main.add(S`vec4 finalColor = blendStipple(color, stippleAlpha);`),I&&(A.uniforms.add(new h(\"falloff\",(e=>e.falloff))),A.main.add(S`finalColor.a *= pow(max(0.0, 1.0 - abs(vLineDistanceNorm * gl_FragCoord.w)), falloff);`)),E||A.main.add(S`float featherStartDistance = max(vLineWidth - 2.0, 0.0);\nfloat value = abs(vLineDistance) * gl_FragCoord.w;\nfloat feather = (value - featherStartDistance) / (vLineWidth - featherStartDistance);\nfinalColor.a *= 1.0 - clamp(feather, 0.0, 1.0);`)),A.main.add(S`outputColorHighlightOID(finalColor, vpos);`),F}const F=Object.freeze(Object.defineProperty({__proto__:null,build:C,ribbonlineNumRoundJoinSubdivisions:j},Symbol.toStringTag,{value:\"Module\"}));export{F as R,C as b,j as r};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{markerSizePerLineWidth as e}from\"../../../../support/engineContent/marker.js\";import{addPixelRatio as r}from\"../util/View.glsl.js\";import{FloatBindUniform as o}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";import{LineMarkerSpace as a}from\"../../../shaders/LineMarkerTechniqueConfiguration.js\";function n(n,i){const d=n.vertex;r(d),null==d.uniforms.get(\"markerScale\")&&d.constants.add(\"markerScale\",\"float\",1),d.constants.add(\"markerSizePerLineWidth\",\"float\",e).code.add(t`float getLineWidth() {\nreturn max(getSize(), 1.0) * pixelRatio;\n}\nfloat getScreenMarkerSize() {\nreturn markerSizePerLineWidth * markerScale * getLineWidth();\n}`),i.space===a.World&&(d.constants.add(\"maxSegmentLengthFraction\",\"float\",.45),d.uniforms.add(new o(\"perRenderPixelRatio\",(e=>e.camera.perRenderPixelRatio))),d.code.add(t`bool areWorldMarkersHidden(vec4 pos, vec4 other) {\nvec3 midPoint = mix(pos.xyz, other.xyz, 0.5);\nfloat distanceToCamera = length(midPoint);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nfloat worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;\nfloat segmentLen = length(pos.xyz - other.xyz);\nreturn worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n}\nfloat getWorldMarkerSize(vec4 pos) {\nfloat distanceToCamera = length(pos.xyz);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nreturn getScreenMarkerSize() * screenToWorldRatio;\n}`))}export{n as MarkerSizing};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{copy as t,multiply as e,hasIdentityRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as s,create as r}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{m as o,t as a,j as n,i as m,g as h,p as c,c as l}from\"../../../../chunks/vec32.js\";import{fromValues as d,create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as g,c as f}from\"../../../../chunks/sphere.js\";import{maxScale as b}from\"../../support/mathUtils.js\";import{Object3DState as _}from\"./basicInterfaces.js\";import{ContentObject as p}from\"./ContentObject.js\";import{ContentObjectType as v}from\"./ContentObjectType.js\";import{Object3DOccludeeStateID as j,Object3DHighlightStateID as y}from\"./Object3DStateID.js\";import{assert as S}from\"./Util.js\";import{affectsGeometry as x}from\"./VertexAttribute.js\";import{addObject3DStateID as V,removeObject3DStateID as O}from\"../materials/renderers/utils.js\";class A extends p{get geometries(){return this._geometries}get transformation(){return this._transformation??s}set transformation(e){this._transformation=t(this._transformation??r(),e),this._invalidateBoundingVolume(),this._emit(\"transformationChanged\",this)}get shaderTransformation(){return this._shaderTransformation}set shaderTransformation(e){this._shaderTransformation=e?t(this._shaderTransformation??r(),e):null,this._invalidateBoundingVolume(),this._emit(\"shaderTransformationChanged\",this)}get effectiveTransformation(){return this.shaderTransformation??this.transformation}constructor(t={}){super(),this.type=v.Object,this._shaderTransformation=null,this._parentLayer=null,this._visible=!0,this.castShadow=t.castShadow??!0,this.usesVerticalDistanceToGround=t.usesVerticalDistanceToGround??!1,this.graphicUid=t.graphicUid,this.layerUid=t.layerUid,t.isElevationSource&&(this.lastValidElevationBB=new L),this._geometries=t.geometries?Array.from(t.geometries):new Array}dispose(){this._geometries.length=0}get parentLayer(){return this._parentLayer}set parentLayer(t){S(null==this._parentLayer||null==t,\"Object3D can only be added to a single Layer\"),this._parentLayer=t}addGeometry(t){t.visible=this._visible,this._geometries.push(t),this._emit(\"geometryAdded\",{object:this,geometry:t}),this._invalidateBoundingVolume()}removeGeometry(t){const e=this._geometries.splice(t,1)[0];e&&(this._emit(\"geometryRemoved\",{object:this,geometry:e}),this._invalidateBoundingVolume())}removeAllGeometries(){for(;this._geometries.length>0;)this.removeGeometry(0)}geometryVertexAttributeUpdated(t,e,i=!1){this._emit(\"attributesChanged\",{object:this,geometry:t,attribute:e,sync:i}),x(e)&&this._invalidateBoundingVolume()}get visible(){return this._visible}set visible(t){if(this._visible!==t){this._visible=t;for(const t of this._geometries)t.visible=this._visible;this._emit(\"visibilityChanged\",this)}}maskOccludee(){const t=new j;for(const e of this._geometries)e.occludees=V(e.occludees,t);return this._emit(\"occlusionChanged\",this),t}removeOcclude(t){for(const e of this._geometries)e.occludees=O(e.occludees,t);this._emit(\"occlusionChanged\",this)}highlight(t){const e=new y(t);for(const i of this._geometries)i.addHighlight(e);return this._emit(\"highlightChanged\",this),e}removeHighlight(t){for(const e of this._geometries)e.removeHighlight(t);this._emit(\"highlightChanged\",this)}removeStateID(t){t.channel===_.Highlight?this.removeHighlight(t):this.removeOcclude(t)}getCombinedStaticTransformation(t,i){return e(i,this.transformation,t.transformation)}getCombinedShaderTransformation(t,i=r()){return e(i,this.effectiveTransformation,t.transformation)}get boundingVolumeWorldSpace(){return this._bvWorldSpace||(this._bvWorldSpace=this._bvWorldSpace||new M,this._validateBoundingVolume(this._bvWorldSpace,E.WorldSpace)),this._bvWorldSpace}get boundingVolumeObjectSpace(){return this._bvObjectSpace||(this._bvObjectSpace=this._bvObjectSpace||new M,this._validateBoundingVolume(this._bvObjectSpace,E.ObjectSpace)),this._bvObjectSpace}_validateBoundingVolume(t,e){const i=e===E.ObjectSpace;for(const s of this._geometries){const e=s.boundingInfo;e&&T(e,t,i?s.transformation:this.getCombinedShaderTransformation(s))}o(g(t.bounds),t.min,t.max,.5);for(const s of this._geometries){const e=s.boundingInfo;if(null==e)continue;const r=i?s.transformation:this.getCombinedShaderTransformation(s),o=b(r);a(W,e.center,r);const m=n(W,g(t.bounds)),h=e.radius*o;t.bounds[3]=Math.max(t.bounds[3],m+h)}}_invalidateBoundingVolume(){const t=this._bvWorldSpace?.bounds;this._bvObjectSpace=this._bvWorldSpace=void 0,this._parentLayer&&t&&this._parentLayer.notifyObjectBBChanged(this,t)}_emit(t,e){this._parentLayer&&this._parentLayer.events.emit(t,e)}get test(){}}class L{constructor(){this.min=d(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.max=d(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)}isEmpty(){return this.max[0]<this.min[0]&&this.max[1]<this.min[1]&&this.max[2]<this.min[2]}}class M extends L{constructor(){super(...arguments),this.bounds=f()}}function T(t,e,s){const r=t.bbMin,o=t.bbMax;if(i(s)){const t=m(C,s[12],s[13],s[14]);h(B,r,t),h(U,o,t);for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],U[i])}else if(a(B,r,s),c(r,o))for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],B[i]);else{a(U,o,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t]);for(let t=0;t<3;++t){l(B,r),l(U,o),B[t]=o[t],U[t]=r[t],a(B,B,s),a(U,U,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t])}}}const C=u(),B=u(),U=u(),W=u();var E;!function(t){t[t.WorldSpace=0]=\"WorldSpace\",t[t.ObjectSpace=1]=\"ObjectSpace\"}(E||(E={}));export{A as Object3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{hydrateGeometry as r}from\"../../../../layers/graphics/hydratedFeatures.js\";import{loadArcade as n}from\"../../../../support/arcadeOnDemand.js\";const c=()=>e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function o(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function u(e){const t=e?.expression;if(\"string\"==typeof t){const e=m(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,c,o){const u=e?.expression;if(\"string\"!=typeof u)return null;const a=m(u);if(null!=a)return{cachedResult:a};const s=await n();t(c);const l=s.arcadeUtils,i=l.createSyntaxTree(u);return l.dependsOnView(i)?(null!=o&&o.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:l.createFunction(i),context:l.createExecContext(null,{sr:r}),modules:s}}}function s(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function l(e,t){if(null!=e&&!p(e)){if(!t||!e.arcade)return void c().errorOncePerTick(\"Arcade support required but not provided\");const n=t;n._geometry&&(n._geometry=r(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function i(e){if(null!=e){if(p(e))return e.cachedResult;const t=e.arcade;let r=t?.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function d(e,t=!1){let r=e?.featureExpressionInfo;const n=r?.expression;return t||\"0\"===n||(r=null),r??null}const f={cachedResult:0};function p(e){return null!=e.cachedResult}function m(e){return\"0\"===e?0:null}export{o as clone,a as createContext,u as createContextWithoutExpressionSupport,s as createFeature,i as execute,d as extractExpressionInfo,l as setContextFeature,f as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar C;!function(C){C[C.ASYNC=0]=\"ASYNC\",C[C.SYNC=1]=\"SYNC\"}(C||(C={}));export{C as UpdatePolicy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as e}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as r}from\"../materials/DefaultTechniqueConfiguration.js\";var s;!function(o){o[o.BUTT=0]=\"BUTT\",o[o.SQUARE=1]=\"SQUARE\",o[o.ROUND=2]=\"ROUND\",o[o.COUNT=3]=\"COUNT\"}(s||(s={}));class p extends r{constructor(){super(...arguments),this.capType=s.BUTT,this.hasPolygonOffset=!1,this.writeDepth=!1,this.draped=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stipplePreferContinuous=!0,this.roundJoins=!1,this.applyMarkerOffset=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.falloffEnabled=!1,this.innerColorEnabled=!1,this.hasOccludees=!1,this.occluder=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.wireframe=!1,this.discardInvisibleFragments=!1,this.objectAndLayerIdColorInstanced=!1,this.textureCoordinateType=t.None,this.emissionSource=e.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0}}o([i({count:s.COUNT})],p.prototype,\"capType\",void 0),o([i()],p.prototype,\"hasPolygonOffset\",void 0),o([i()],p.prototype,\"writeDepth\",void 0),o([i()],p.prototype,\"draped\",void 0),o([i()],p.prototype,\"stippleEnabled\",void 0),o([i()],p.prototype,\"stippleOffColorEnabled\",void 0),o([i()],p.prototype,\"stipplePreferContinuous\",void 0),o([i()],p.prototype,\"roundJoins\",void 0),o([i()],p.prototype,\"applyMarkerOffset\",void 0),o([i()],p.prototype,\"vvSize\",void 0),o([i()],p.prototype,\"vvColor\",void 0),o([i()],p.prototype,\"vvOpacity\",void 0),o([i()],p.prototype,\"falloffEnabled\",void 0),o([i()],p.prototype,\"innerColorEnabled\",void 0),o([i()],p.prototype,\"hasOccludees\",void 0),o([i()],p.prototype,\"occluder\",void 0),o([i()],p.prototype,\"terrainDepthTest\",void 0),o([i()],p.prototype,\"cullAboveTerrain\",void 0),o([i()],p.prototype,\"wireframe\",void 0),o([i()],p.prototype,\"discardInvisibleFragments\",void 0),o([i()],p.prototype,\"objectAndLayerIdColorInstanced\",void 0);export{s as CapType,p as RibbonLineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnit as t,supportsUnit as e}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as n,clone as s,setContextFeature as i,createFeature as r}from\"./featureExpressionInfoUtils.js\";class o{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(e){this._unit=e,this._metersPerElevationInfoUnit=t(e)}get requiresSampledElevationInfo(){return\"absolute-height\"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const s=this.featureExpressionInfoContext;return null!=s&&(e+=n(s)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(t){this.mode=t.mode,this.unit=e(t.unit)?t.unit:\"meters\",this.offsetElevationInfoUnits=t.offset??0}updateFeatureExpressionInfoContext(t,e,n){if(null==t)return void(this._featureExpressionInfoContext=null);const o=t?.arcade;o&&null!=e&&null!=n?(this._featureExpressionInfoContext=s(t),i(this._featureExpressionInfoContext,r(o.modules,e,n))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new o;return null!=t&&e.setFromElevationInfo(t),e}}export{o as ElevationContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";var s,p;!function(t){t[t.Draped=0]=\"Draped\",t[t.Screen=1]=\"Screen\",t[t.World=2]=\"World\",t[t.COUNT=3]=\"COUNT\"}(s||(s={})),function(t){t[t.Center=0]=\"Center\",t[t.Tip=1]=\"Tip\",t[t.COUNT=2]=\"COUNT\"}(p||(p={}));class a extends i{constructor(){super(...arguments),this.space=s.Screen,this.anchor=p.Center,this.occluder=!1,this.writeDepth=!1,this.hideOnShortSegments=!1,this.hasCap=!1,this.hasTip=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0,this.objectAndLayerIdColorInstanced=!1}get draped(){return this.space===s.Draped}}t([r({count:s.COUNT})],a.prototype,\"space\",void 0),t([r({count:p.COUNT})],a.prototype,\"anchor\",void 0),t([r()],a.prototype,\"occluder\",void 0),t([r()],a.prototype,\"writeDepth\",void 0),t([r()],a.prototype,\"hideOnShortSegments\",void 0),t([r()],a.prototype,\"hasCap\",void 0),t([r()],a.prototype,\"hasTip\",void 0),t([r()],a.prototype,\"vvSize\",void 0),t([r()],a.prototype,\"vvColor\",void 0),t([r()],a.prototype,\"vvOpacity\",void 0),t([r()],a.prototype,\"hasOccludees\",void 0),t([r()],a.prototype,\"terrainDepthTest\",void 0),t([r()],a.prototype,\"cullAboveTerrain\",void 0);export{p as LineMarkerAnchor,s as LineMarkerSpace,a as LineMarkerTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as t}from\"../../../../core/floatRGBA.js\";import{ProceduralTextureRepository as e}from\"./ProceduralTextureRepository.js\";import{PixelFormat as r,TextureWrapMode as o}from\"../../../webgl/enums.js\";import{Texture as n}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";function u(t,u){return new e((e=>{const{encodedData:u,textureSize:c}=a(e),f=new i;return f.internalFormat=r.RGBA,f.width=c,f.height=1,f.wrapMode=o.REPEAT,new n(t,f,u)}),(t=>`${t.pattern.join(\",\")}-r${t.pixelRatio}`),u)}function a(e){const r=c(e),o=1/e.pixelRatio,n=f(e),i=s(e),u=(Math.floor(.5*(i-1))+.5)*o,a=[];let l=1;for(const t of r){for(let e=0;e<t;e++){const r=l*(Math.min(e,t-1-e)+.5)*o/u*.5+.5;a.push(r)}l=-l}const p=Math.round(r[0]/2),m=[...a.slice(p),...a.slice(0,p)],d=new Uint8Array(4*n);let x=0;for(const c of m)t(c,d,x),x+=4;return{encodedData:d,textureSize:n}}function c(t){return t.pattern.map((e=>Math.round(e*t.pixelRatio)))}function f(t){if(null==t)return 1;const e=c(t);return Math.floor(e.reduce(((t,e)=>t+e)))}function s(t){return c(t).reduce(((t,e)=>Math.max(t,e)))}export{s as computeLongestPattern,f as computeTextureSize,u as createStippleTextureRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{s as r}from\"../../../../chunks/vec42.js\";import{ZEROS as o,create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";function s(t){return null==t?o:4===t.length?t:r(c,t[0],t[1],t[2],1)}const c=t();export{s as ensureColor4};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{RgbaFloatEncoding as e}from\"../util/RgbaFloatEncoding.glsl.js\";import{addCameraPosition as t,addPixelRatio as o}from\"../util/View.glsl.js\";import{Float4PassUniform as r}from\"../../shaderModules/Float4PassUniform.js\";import{FloatBindUniform as i}from\"../../shaderModules/FloatBindUniform.js\";import{FloatPassUniform as l}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as a,If as p}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as s}from\"../../shaderModules/Texture2DPassUniform.js\";import{computeLongestPattern as n,computeTextureSize as d}from\"../../../materials/stippleTextureRepository.js\";import{ensureColor4 as c}from\"../../../shaders/ensureColor4.js\";function f(n,d){if(!d.stippleEnabled)return void n.fragment.code.add(a`float getStippleAlpha() { return 1.0; }\nvoid discardByStippleAlpha(float stippleAlpha, float threshold) {}\nvec4 blendStipple(vec4 color, float stippleAlpha) { return color; }`);const f=!(d.draped&&d.stipplePreferContinuous),{vertex:g,fragment:h}=n;h.include(e),d.draped||(t(g,d),g.uniforms.add(new i(\"worldToScreenPerDistanceRatio\",(({camera:e})=>1/e.perScreenPixelRatio))).code.add(a`float computeWorldToScreenRatio(vec3 segmentCenter) {\nfloat segmentDistanceToCamera = length(segmentCenter - cameraPosition);\nreturn worldToScreenPerDistanceRatio / segmentDistanceToCamera;\n}`)),n.varyings.add(\"vStippleDistance\",\"float\"),n.varyings.add(\"vStippleDistanceLimits\",\"vec2\"),n.varyings.add(\"vStipplePatternStretch\",\"float\"),g.code.add(a`\n    float discretizeWorldToScreenRatio(float worldToScreenRatio) {\n      float step = ${a.float(u)};\n\n      float discreteWorldToScreenRatio = log(worldToScreenRatio);\n      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;\n      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);\n      return discreteWorldToScreenRatio;\n    }\n  `),g.code.add(a`vec2 computeStippleDistanceLimits(float startPseudoScreen, float segmentLengthPseudoScreen, float segmentLengthScreen, float patternLength) {`),g.code.add(a`\n    if (segmentLengthPseudoScreen >= ${f?\"patternLength\":\"1e4\"}) {\n  `),o(g),g.code.add(a`float repetitions = segmentLengthScreen / (patternLength * pixelRatio);\nfloat flooredRepetitions = max(1.0, floor(repetitions + 0.5));\nfloat segmentLengthScreenRounded = flooredRepetitions * patternLength;\nfloat stretch = repetitions / flooredRepetitions;\nvStipplePatternStretch = max(0.75, stretch);\nreturn vec2(0.0, segmentLengthScreenRounded);\n}\nreturn vec2(startPseudoScreen, startPseudoScreen + segmentLengthPseudoScreen);\n}`),h.uniforms.add(new s(\"stipplePatternTexture\",(e=>e.stippleTexture)),new l(\"stipplePatternSDFNormalizer\",(e=>m(e.stipplePattern))),new l(\"stipplePatternPixelSizeInv\",(e=>1/S(e)))),d.stippleOffColorEnabled&&h.uniforms.add(new r(\"stippleOffColor\",(e=>c(e.stippleOffColor)))),h.code.add(a`float getStippleSDF(out bool isClamped) {\nfloat stippleDistanceClamped = clamp(vStippleDistance, vStippleDistanceLimits.x, vStippleDistanceLimits.y);\nvec2 aaCorrectedLimits = vStippleDistanceLimits + vec2(1.0, -1.0) / gl_FragCoord.w;\nisClamped = vStippleDistance < aaCorrectedLimits.x || vStippleDistance > aaCorrectedLimits.y;\nfloat u = stippleDistanceClamped * gl_FragCoord.w * stipplePatternPixelSizeInv * vLineSizeInv;\nu = fract(u);\nfloat encodedSDF = rgbaTofloat(texture(stipplePatternTexture, vec2(u, 0.5)));\nfloat sdf = (encodedSDF * 2.0 - 1.0) * stipplePatternSDFNormalizer;\nreturn (sdf - 0.5) * vStipplePatternStretch + 0.5;\n}\nfloat getStippleSDF() {\nbool ignored;\nreturn getStippleSDF(ignored);\n}\nfloat getStippleAlpha() {\nbool isClamped;\nfloat stippleSDF = getStippleSDF(isClamped);\nfloat antiAliasedResult = clamp(stippleSDF * vLineWidth + 0.5, 0.0, 1.0);\nreturn isClamped ? floor(antiAliasedResult + 0.5) : antiAliasedResult;\n}`),h.code.add(a`\n    void discardByStippleAlpha(float stippleAlpha, float threshold) {\n     ${p(!d.stippleOffColorEnabled,\"if (stippleAlpha < threshold) { discard; }\")}\n    }\n\n    vec4 blendStipple(vec4 color, float stippleAlpha) {\n      return ${d.stippleOffColorEnabled?\"mix(color, stippleOffColor, stippleAlpha)\":\"vec4(color.rgb, color.a * stippleAlpha)\"};\n    }\n  `)}function m(e){return e?(Math.floor(.5*(n(e)-1))+.5)/e.pixelRatio:1}function S(e){const t=e.stipplePattern;return t?d(e.stipplePattern)/t.pixelRatio:1}const u=.4;export{f as LineStipple,S as computePixelSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e,a,t;!function(e){e[e.RasterImage=0]=\"RasterImage\",e[e.Features=1]=\"Features\"}(e||(e={})),function(e){e[e.MapLayer=0]=\"MapLayer\",e[e.ViewLayer=1]=\"ViewLayer\",e[e.Outline=2]=\"Outline\",e[e.SnappingHint=3]=\"SnappingHint\"}(a||(a={})),function(e){e[e.WithRasterImage=0]=\"WithRasterImage\",e[e.WithoutRasterImage=1]=\"WithoutRasterImage\"}(t||(t={}));export{e as DrapeSourceType,t as DrapeTargetType,a as DrapedRenderGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as o}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as r}from\"../../../../geometry/projection/projectBuffer.js\";import{isDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedFeatureUtils.js\";import{isSamplePosition as a,getElevationAtPoint as s}from\"../../support/ElevationProvider.js\";import{VertexAttribute as l}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(e,t,n,o,i,a,s,l,u,c,f){const m=x[f.mode];let d,g,p=0;if(r(e,t,n,o,u.spatialReference,i,l))return m?.requiresAlignment(f)?(p=m.applyElevationAlignmentBuffer(o,i,a,s,l,u,c,f),d=a,g=s):(d=o,g=i),r(d,u.spatialReference,g,a,c.spatialReference,s,l)?p:void 0}function c(e,t,n,o,r){const l=(i(e)?e.z:a(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case\"on-the-ground\":{const n=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=0,r.sampledElevation=n,void(r.z=n)}case\"relative-to-ground\":{const i=s(t,e,\"ground\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"relative-to-scene\":{const i=s(t,e,\"scene\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"absolute-height\":{const i=n.geometryZWithOffset(l,o),a=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=i-a,r.sampledElevation=a,void(r.z=i)}default:return void(r.z=0)}}function f(e,t,n,o){return c(e,t,n,o,D),D.z}function m(e,t,n){return\"on-the-ground\"===t&&\"on-the-ground\"===n?e.staysOnTheGround:t===n||\"on-the-ground\"!==t&&\"on-the-ground\"!==n?null==t||null==n?e.definedChanged:b.UPDATE:e.onTheGroundChanged}function d(e){return\"relative-to-ground\"===e||\"relative-to-scene\"===e}function g(e){return\"absolute-height\"!==e}function p(t,n,r,i,a){c(n,r,a,i,D),E(t,D.verticalDistanceToGround);const s=D.sampledElevation,l=e(C,t.transformation);O[0]=n.x,O[1]=n.y,O[2]=D.z;return o(n.spatialReference,O,l,i.spatialReference)?t.transformation=l:console.warn(\"Could not locate symbol object properly, it might be misplaced\"),s}function E(e,t){for(let n=0;n<e.geometries.length;++n){const o=e.geometries[n].getMutableAttribute(l.CENTEROFFSETANDDISTANCE);o&&o.data[3]!==t&&(o.data[3]=t,e.geometryVertexAttributeUpdated(e.geometries[n],l.CENTEROFFSETANDDISTANCE))}}function v(e,t,n,o,r,i){let a=0;const s=i.spatialReference;t*=3,o*=3;for(let l=0;l<r;++l){const r=e[t],l=e[t+1],u=e[t+2],c=i.getElevation(r,l,u,s,\"ground\")??0;a+=c,n[o]=r,n[o+1]=l,n[o+2]=c,t+=3,o+=3}return a/r}function h(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"ground\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function A(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"scene\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function T(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function y(e,t,n,o,r,i,a,s){const l=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext;t*=3,o*=3;for(let c=0;c<r;++c){const r=e[t],i=e[t+1],a=e[t+2];n[o]=r,n[o+1]=i,n[o+2]=null==u?a+l:l,t+=3,o+=3}return 0}class R{constructor(){this.verticalDistanceToGround=0,this.sampledElevation=0,this.z=0}}var b;!function(e){e[e.NONE=0]=\"NONE\",e[e.UPDATE=1]=\"UPDATE\",e[e.RECREATE=2]=\"RECREATE\"}(b||(b={}));const x={\"absolute-height\":{applyElevationAlignmentBuffer:y,requiresAlignment:T},\"on-the-ground\":{applyElevationAlignmentBuffer:v,requiresAlignment:()=>!0},\"relative-to-ground\":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},\"relative-to-scene\":{applyElevationAlignmentBuffer:A,requiresAlignment:()=>!0}},C=t(),D=new R,O=n();export{R as SampleElevationInfo,b as SymbolUpdateType,p as applyElevationAlignmentForHUD,u as applyPerVertexElevationAlignment,m as elevationModeChangeUpdateType,f as evaluateElevationAlignmentAtPoint,c as evaluateElevationInfoAtPoint,d as needsElevationUpdates2D,g as needsElevationUpdates3D,E as updateVertexPointGroundDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst n={stableRendering:!1},e={rootOrigin:null};export{e as gridLocalOriginFactory,n as textTextureAtlas};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class s{constructor(r,s){this.vec3=r,this.id=s}}function t(t,o,c,e){return new s(r(t,o,c),e)}export{s as LocalOrigin,t as fromValues};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isDehydratedPoint as e}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";class r{constructor(e,r=null,t=0){this.array=e,this.spatialReference=r,this.offset=t}}function t(e){return\"array\"in e}function a(r,a,n=\"ground\"){if(e(a))return r.getElevation(a.x,a.y,a.z||0,a.spatialReference,n);if(t(a)){let e=a.offset;return r.getElevation(a.array[e++],a.array[e++],a.array[e]||0,a.spatialReference??r.spatialReference,n)}return r.getElevation(a[0],a[1],a[2]||0,r.spatialReference,n)}export{r as SamplePosition,a as getElevationAtPoint,t as isSamplePosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{d as i}from\"../../../../chunks/vec32.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectBuffer as s}from\"../../../../geometry/projection/projectBuffer.js\";import{Attribute as e}from\"./Attribute.js\";import{ContentObjectType as n}from\"./ContentObjectType.js\";import{Geometry as a}from\"./Geometry.js\";import{fromValues as h}from\"./LocalOriginFactory.js\";import{Object3D as m}from\"./Object3D.js\";import{gridLocalOriginFactory as c}from\"./testUtils.js\";import{VertexAttribute as g}from\"./VertexAttribute.js\";import{WebGLLayer as d}from\"./WebGLLayer.js\";import{RibbonLineMaterial as f}from\"../materials/RibbonLineMaterial.js\";class _{constructor(i){this._originSR=i,this._rootOriginId=\"root/\"+t(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const r=this._origins.get(this._rootOriginId);if(null==r){const i=c.rootOrigin;if(null!=i)return this._origins.set(this._rootOriginId,h(i[0],i[1],i[2],this._rootOriginId)),this.getOrigin(t);const r=h(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,r),r}const o=this._gridSize,s=Math.round(t[0]/o),e=Math.round(t[1]/o),n=Math.round(t[2]/o),a=`${s}/${e}/${n}`;let m=this._origins.get(a);const g=.5*o;if(i(l,t,r.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]),l[0]<g&&l[1]<g&&l[2]<g){if(m){const r=Math.max(...l);i(l,t,m.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]);if(Math.max(...l)<r)return m}return r}return m||(m=h(s*o,e*o,n*o,a),this._origins.set(a,m)),m}_drawOriginBox(t,i=o(1,1,0,1)){const r=window.view,h=r._stage,c=i.toString();if(!this._objects.has(c)){this._material=new f({width:2,color:i}),h.add(this._material);const t=new d(h,{pickable:!1}),r=new m({castShadow:!1});h.add(r),t.add(r),this._objects.set(c,r)}const _=this._objects.get(c),l=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],p=l.length,j=new Array(3*p),b=new Array,u=.5*this._gridSize;for(let o=0;o<p;o++)j[3*o]=t[0]+(1&l[o]?u:-u),j[3*o+1]=t[1]+(2&l[o]?u:-u),j[3*o+2]=t[2]+(4&l[o]?u:-u),o>0&&b.push(o-1,o);s(j,this._originSR,0,j,r.renderSpatialReference,0,p);const M=new a(this._material,[[g.POSITION,new e(j,b,3,!0)]],null,n.Line);h.add(M),_.addGeometry(M)}get test(){}}const l=r();export{_ as GridLocalOriginFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createPrimitive as r}from\"./sdfPrimitives.js\";import{PixelFormat as e,TextureWrapMode as t}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";const m=64,s=m/2,n=s/5,p=m/n,w=.25;function f(p,w){const f=r(p,m,s,n),u=new i;return u.internalFormat=e.RGBA,u.width=m,u.height=m,u.wrapMode=t.CLAMP_TO_EDGE,new o(w,u,f)}export{f as createMarkerTexture,p as markerSizePerLineWidth,s as markerSymbolSize,m as markerTextureSize,n as markerThickness,w as markerTipThicknessFactor};\n"],"names":["A","r","constructor","e","t","super","i","R","W","this","primitiveType","wireframe","I","LINES","TRIANGLE_STRIP","_makePipelineState","oitPass","c","output","T","hasOccludees","h","hasPolygonOffset","O","m","l","NONE","E","FrontFace","N","blending","s","depthTest","func","n","depthWrite","o","drawBuffers","Depth","buffers","b","u","colorWrite","S","stencilWrite","a","stencilTest","f","d","polygonOffset","_","p","initializePipeline","occluder","_occluderPipelineTransparent","g","_occluderPipelineOpaque","_occluderPipelineMaskWrite","_occludeePipeline","getPipeline","TRANSPARENT_OCCLUDER_MATERIAL","OCCLUDER_MATERIAL","factor","units","Map","P","POSITION","PREVPOSITION","NEXTPOSITION","SUBDIVISIONFACTOR","UV0","COLOR","COLORFEATUREATTRIBUTE","SIZE","SIZEFEATUREATTRIBUTE","OPACITYFEATUREATTRIBUTE","OBJECTANDLAYERIDCOLOR","Z","LEFT_JOIN_START","LEFT_JOIN_END","LEFT_CAP_START","LEFT_CAP_END","RIGHT_JOIN_START","RIGHT_JOIN_END","RIGHT_CAP_START","RIGHT_CAP_END","D","q","_configuration","G","vertexAttributeLocations","H","produces","F","OPAQUE_MATERIAL","v","parameters","renderOccluded","j","OccludeAndTransparentStencil","OPAQUE_MATERIAL_WITHOUT_NORMALS","L","TRANSPARENT_MATERIAL","writeDepth","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","draped","slot","stipplePattern","C","Highlight","stippleEnabled","stippleOffColorEnabled","stippleOffColor","stipplePreferContinuous","hasSlicePlane","roundJoins","join","capType","cap","applyMarkerOffset","markerParameters","anchor","B","Tip","hideOnShortSegments","placement","worldSpace","$","vvSize","vvColor","vvOpacity","innerColorEnabled","innerWidth","innerColor","falloffEnabled","falloff","terrainDepthTest","cullAboveTerrain","visible","color","V","intersectDraped","_ref","attributes","screenToWorldRatio","options","selectionMode","get","M","width","data","offset","minSize","maxSize","Number","MAX_VALUE","K","length","dist","normal","intersect","w","getLogger","error","has","camera","se","point","pixelRatio","ue","unprojectFromRenderScreen","Te","eye","de","_e","Ee","Ae","U","y","ee","te","projectToRenderScreen","ae","ne","re","frustum","NEAR","ce","oe","le","rayBegin","rayEnd","pe","ie","_layout","vec3f","f32","vec2f","vec4f","vec4u8","createBufferWriter","X","createGLMaterial","Y","validateParameters","miterLimit","markerScale","arguments","_stipplePattern","dispose","_stippleTextures","release","beginSlot","_material","setParameters","stippleTexture","swap","getTechnique","z","x","k","BUTT","vvFastUpdate","isClosed","transparent","vertexBufferLayout","_parameters","numJoinSubdivisions","J","_isClosed","allocate","createBuffer","elementCount","indices","write","he","fe","me","DISTANCETOSTART","console","warn","fields","Float32Array","buffer","Uint8Array","stride","Math","min","Q","_addWireframeVertices","BYTES_PER_ELEMENT","vertex","uniforms","add","code","constants","values","opacityValues","include","undefined","stage","apiLayerUid","type","Layer","events","sliceable","_objectsAdded","_handles","_objects","_pickable","pickable","updatePolicy","ASYNC","_disableOctree","disableOctree","on","handleEvent","destroy","size","remove","invalidateSpatialQueryAccelerator","objects","push","parentLayer","emit","layer","object","_octree","removeUnordered","addMany","pushArray","removeMany","Array","removeUnorderedMany","sync","SYNC","syncLayer","id","notifyObjectBBChanged","includes","update","getSpatialQueryAccelerator","boundingVolumeWorldSpace","bounds","clear","varyings","fragment","space","World","inverseProjectionMatrix","nearFar","fullViewport","ROUND","main","float","screenToPCSRatio","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","ribbonlineNumRoundJoinSubdivisions","Symbol","toStringTag","value","perRenderPixelRatio","geometries","_geometries","transformation","_transformation","_invalidateBoundingVolume","_emit","shaderTransformation","_shaderTransformation","effectiveTransformation","_parentLayer","_visible","castShadow","usesVerticalDistanceToGround","graphicUid","layerUid","isElevationSource","lastValidElevationBB","from","addGeometry","geometry","removeGeometry","splice","removeAllGeometries","geometryVertexAttributeUpdated","attribute","maskOccludee","occludees","removeOcclude","highlight","addHighlight","removeHighlight","removeStateID","channel","getCombinedStaticTransformation","getCombinedShaderTransformation","_bvWorldSpace","_validateBoundingVolume","WorldSpace","boundingVolumeObjectSpace","_bvObjectSpace","ObjectSpace","boundingInfo","max","center","radius","test","isEmpty","bbMin","bbMax","cachedResult","arcade","context","modules","arcadeUtils","createExecContext","sr","spatialReference","async","expression","createSyntaxTree","dependsOnView","createFunction","createFeature","errorOncePerTick","_geometry","updateExecContext","executeFunction","featureExpressionInfo","SQUARE","COUNT","discardInvisibleFragments","objectAndLayerIdColorInstanced","textureCoordinateType","None","emissionSource","occlusionPass","hasVvInstancing","hasSliceTranslatedView","count","prototype","_meterUnitOffset","_renderUnitOffset","_unit","_metersPerElevationInfoUnit","_featureExpressionInfoContext","centerPointInElevationSR","mode","featureExpressionInfoContext","meterUnitOffset","unit","requiresSampledElevationInfo","reset","offsetMeters","offsetElevationInfoUnits","addOffsetRenderUnits","geometryZWithOffset","calculateOffsetRenderUnits","unitInMeters","setFromElevationInfo","updateFeatureExpressionInfoContext","fromElevationInfo","Draped","Screen","Center","hasCap","hasTip","pattern","map","round","floor","reduce","perScreenPixelRatio","RasterImage","Features","MapLayer","ViewLayer","Outline","SnappingHint","WithRasterImage","WithoutRasterImage","requiresAlignment","applyElevationAlignmentBuffer","array","verticalDistanceToGround","sampledElevation","staysOnTheGround","definedChanged","UPDATE","onTheGroundChanged","getMutableAttribute","CENTEROFFSETANDDISTANCE","RECREATE","getElevation","stableRendering","rootOrigin","vec3","_originSR","_rootOriginId","_origins","_gridSize","getOrigin","set","random","abs","_drawOriginBox","window","view","_stage","toString","renderSpatialReference","Line"],"sourceRoot":""}