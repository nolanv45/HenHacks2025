"use strict";(self.webpackChunkhenhack25=self.webpackChunkhenhack25||[]).push([[6364],{16364:(t,s,i)=>{i.d(s,{T:()=>h});var e=i(97799),n=i(26871);class r{constructor(t,s,i){if(t instanceof r)return this.data=t.data,this.N=t.N,this.M=t.M,t.data=null,t.N=0,void(t.M=0);this.data=t,this.N=s,this.M=i}assignCopy(t){return this===t||((0,e.g)(this.N*this.M==t.N*t.M),this.data.set(t.data),this.N=t.N,this.M=t.M),this}setZero(){return this.data?.fill(0),this}setIdentity(){for(let t=0;t<this.N;t++)for(let s=0;s<this.M;s++)this.setRowCol(t,s,t===s?1:0);return this}rows(){return this.N}cols(){return this.M}row(t){return(0,e.g)(0),{}}set(t,s){return this.data[t]=s,this}setRowCol(t,s,i){return this.data[t*this.M+s]=i,this}at(t){return this.data[t]}atRowCol(t,s){return this.data[t*this.M+s]}mulScalar(t,s){(0,e.g)(0)}mul(t,s){if((0,e.g)(this.M===t.rows()),(0,e.g)(this.N===s.rows()),(0,e.g)(t.cols()===s.cols()),s===this){const i=new Float64Array(this.N*this.M),e=new r(i,this.N,this.M);return this.mul(t,e),void s.assignCopy(e)}if(s===t){const i=new Float64Array(t.N*t.M),e=new r(i,t.N,t.M);return this.mul(t,e),void s.assignCopy(e)}const i=t.cols();for(let e=0;e<this.N;e++)for(let n=0;n<i;n++){let i=0;for(let s=0;s<this.M;s++)i+=this.atRowCol(e,s)*t.atRowCol(s,n);s.setRowCol(e,n,i)}}mulTranspose(t,s){if((0,e.g)(this.M===t.cols()),(0,e.g)(this.N===s.rows()),(0,e.g)(t.rows()===s.cols()),s===this){const i=new Float64Array(this.N*this.M),e=new r(i,this.N,this.M);return this.mulTranspose(t,e),void s.assignCopy(e)}if(s===t){const i=new Float64Array(t.N*t.M),e=new r(i,t.N,t.M);return this.mulTranspose(t,e),void s.assignCopy(e)}const i=t.rows();for(let e=0;e<this.N;e++)for(let n=0;n<i;n++){let i=0;for(let s=0;s<this.M;s++)i+=this.atRowCol(e,s)*t.atRowCol(n,s);s.setRowCol(e,n,i)}}mulLeft(t,s){(0,e.g)(0)}mulLeftTranspose(t,s){(0,e.g)(0)}mulDiag(t,s){if((0,e.g)(this.M===t.N*t.M),(0,e.g)(this.N===s.rows()),(0,e.g)(this.M===s.cols()),s===this){const i=new Float64Array(this.N*this.M),e=new r(i,this.N,this.M);return this.mulDiag(t,e),void s.assignCopy(e)}const i=this.M;for(let e=0;e<this.N;e++)for(let n=0;n<i;n++)s.setRowCol(e,n,this.atRowCol(e,n)*t.at(n))}transposeInPlace(){if(this.N===this.M){for(let t=0;t<this.N;t++)for(let s=t+1;s<this.M;s++){const i=this.atRowCol(t,s);this.setRowCol(t,s,this.atRowCol(s,t)),this.setRowCol(s,t,i)}return this}const t=new Float64Array(this.N*this.M),s=new r(t,this.N,this.M);return s.assignCopy(this),this.M=(0,n.b)(this.N,this.N=this.M),s.transpose(this),this}transpose(t){if(this!==t){r.checkDims(t,this.M,this.N);for(let s=0;s<this.N;s++)for(let i=0;i<this.M;i++)t.setRowCol(i,s,this.atRowCol(s,i))}else t.transposeInPlace()}add(t,s){}svd(t,s,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r.checkDims(t,this.N,this.M),r.checkDims(s,this.M,1),r.checkDims(i,this.M,this.M),n){if((0,e.g)(this.N===this.M),!this.symmetricEigen(s,i))return!1;for(let t=0;t<this.M;++t)s.at(t)<0&&s.set(t,0);return t.assignCopy(i),!0}let o,h,u,a,l,c,m,y=0,x=0,f=0,d=0,b=0;const v=this.M,_=this.N;t.assignCopy(this);const w=new Float64Array(v),N=new r(w,v,1),p=(t,s)=>s>=0?Math.abs(t):-Math.abs(t),g=(t,s)=>{if((t=Math.abs(t))>(s=Math.abs(s))){const i=s/t;return t*Math.sqrt(i*i+1)}if(s>0){const i=t/s;return s*Math.sqrt(i*i+1)}return 0};for(let e=0;e<v;e++){if(y=e+1,N.set(e,d*f),f=a=d=0,e<_){for(let s=e;s<_;s++)d+=Math.abs(t.atRowCol(s,e));if(d){for(let s=e;s<_;s++)t.setRowCol(s,e,t.atRowCol(s,e)/d),a+=t.atRowCol(s,e)*t.atRowCol(s,e);h=t.atRowCol(e,e),f=-p(Math.sqrt(a),h),u=h*f-a,t.setRowCol(e,e,h-f);for(let s=y;s<v;s++){a=0;for(let i=e;i<_;i++)a+=t.atRowCol(i,e)*t.atRowCol(i,s);h=a/u;for(let i=e;i<_;i++)t.setRowCol(i,s,t.atRowCol(i,s)+h*t.atRowCol(i,e))}for(let s=e;s<_;s++)t.setRowCol(s,e,t.atRowCol(s,e)*d)}}if(s.set(e,d*f),f=a=d=0,e<_&&e!==v-1){for(let s=y;s<v;s++)d+=Math.abs(t.atRowCol(e,s));if(d){for(let s=y;s<v;s++)t.setRowCol(e,s,t.atRowCol(e,s)/d),a+=t.atRowCol(e,s)*t.atRowCol(e,s);h=t.atRowCol(e,y),f=-p(Math.sqrt(a),h),u=h*f-a,t.setRowCol(e,y,h-f);for(let s=y;s<v;s++)N.set(s,t.atRowCol(e,s)/u);for(let s=y;s<_;s++){a=0;for(let i=y;i<v;i++)a+=t.atRowCol(s,i)*t.atRowCol(e,i);for(let i=y;i<v;i++)t.setRowCol(s,i,t.atRowCol(s,i)+a*N.at(i))}for(let s=y;s<v;s++)t.setRowCol(e,s,t.atRowCol(e,s)*d)}}const i=Math.abs(s.at(e))+Math.abs(N.at(e));b=i>b?i:b}for(let e=v-1;e>=0;e--){if(e<v-1){if(f){for(let s=y;s<v;s++)i.setRowCol(s,e,t.atRowCol(e,s)/t.atRowCol(e,y)/f);for(let s=y;s<v;s++){a=0;for(let n=y;n<v;n++)a+=t.atRowCol(e,n)*i.atRowCol(n,s);for(let t=y;t<v;t++)i.setRowCol(t,s,i.atRowCol(t,s)+a*i.atRowCol(t,e))}}for(let t=y;t<v;t++)i.setRowCol(e,t,0),i.setRowCol(t,e,0)}i.setRowCol(e,e,1),f=N.at(e),y=e}for(let e=(_<v?_:v)-1;e>=0;e--){y=e+1,f=s.at(e);for(let s=y;s<v;s++)t.setRowCol(e,s,0);if(f){f=1/f;for(let s=y;s<v;s++){a=0;for(let i=y;i<_;i++)a+=t.atRowCol(i,e)*t.atRowCol(i,s);h=a/t.atRowCol(e,e)*f;for(let i=e;i<_;i++)t.setRowCol(i,s,t.atRowCol(i,s)+h*t.atRowCol(i,e))}for(let s=e;s<_;s++)t.setRowCol(s,e,t.atRowCol(s,e)*f)}else for(let s=e;s<_;s++)t.setRowCol(s,e,0);t.setRowCol(e,e,t.atRowCol(e,e)+1)}for(let e=v-1;e>=0;e--)for(let n=1;;n++){let r=1;for(y=e;y>=0;y--){if(x=y-1,Math.abs(N.at(y))+b===b){r=0;break}if(Math.abs(s.at(x))+b===b)break}if(r){o=0,a=1;for(let i=y;i<=e&&(h=a*N.at(i),N.set(i,N.at(i)*o),Math.abs(h)+b!==b);i++){f=s.at(i),u=g(h,f),s.set(i,u),u=1/u,o=f*u,a=-h*u;for(let s=0;s<_;s++)c=t.atRowCol(s,x),m=t.atRowCol(s,i),t.setRowCol(s,x,c*o+m*a),t.setRowCol(s,i,m*o-c*a)}}if(m=s.at(e),y===e){if(m<0){s.set(e,-m);for(let t=0;t<v;t++)i.setRowCol(t,e,-i.atRowCol(t,e))}break}if(100===n)return!1;l=s.at(y),x=e-1,c=s.at(x),f=N.at(x),u=N.at(e),h=((c-m)*(c+m)+(f-u)*(f+u))/(2*u*c),f=g(h,1),h=((l-m)*(l+m)+u*(c/(h+p(f,h))-u))/l,o=a=1;for(let e=y;e<=x;e++){const n=e+1;f=N.at(n),c=s.at(n),u=a*f,f*=o,m=g(h,u),N.set(e,m),o=h/m,a=u/m,h=l*o+f*a,f=f*o-l*a,u=c*a,c*=o;for(let t=0;t<v;t++)l=i.atRowCol(t,e),m=i.atRowCol(t,n),i.setRowCol(t,e,l*o+m*a),i.setRowCol(t,n,m*o-l*a);m=g(h,u),s.set(e,m),m&&(m=1/m,o=h*m,a=u*m),h=o*f+a*c,l=o*c-a*f;for(let s=0;s<_;s++)c=t.atRowCol(s,e),m=t.atRowCol(s,n),t.setRowCol(s,e,c*o+m*a),t.setRowCol(s,n,m*o-c*a)}N.set(y,0),N.set(e,h),s.set(e,l)}const M=new Float64Array(this.N),C=new Float64Array(this.M),T=new r(M,this.N,1),R=new r(C,this.M,1);let E=1;do{E*=3,E++}while(E<=this.M);do{E/=3,E=Math.trunc(E);for(let e=E;e<this.M;e++){const n=s.at(e);for(let s=0;s<this.N;s++)T.set(s,t.atRowCol(s,e));for(let t=0;t<this.M;t++)R.set(t,i.atRowCol(t,e));let r=e;for(;s.at(r-E)<n;){s.set(r,s.at(r-E));for(let s=0;s<this.N;s++)t.setRowCol(s,r,t.atRowCol(s,r-E));for(let t=0;t<this.M;t++)i.setRowCol(t,r,i.atRowCol(t,r-E));if(r-=E,r<E)break}s.set(r,n);for(let s=0;s<this.N;s++)t.setRowCol(s,r,T.at(s));for(let t=0;t<this.M;t++)i.setRowCol(t,r,R.at(t))}}while(E>1);for(let e=0;e<this.M;e++){let s=0;for(let i=0;i<this.N;i++)t.atRowCol(i,e)<0&&s++;for(let t=0;t<this.M;t++)i.atRowCol(t,e)<0&&s++;if(s>Math.trunc((this.N+this.M)/2)){for(let s=0;s<this.N;s++)t.setRowCol(s,e,-t.atRowCol(s,e));for(let t=0;t<this.M;t++)i.setRowCol(t,e,-i.atRowCol(t,e))}}return!0}isSymmetric(){if(this.N!==this.M)return!1;for(let t=0;t<this.N;t++)for(let s=t+1;s<this.M;s++)if(this.atRowCol(t,s)!==this.atRowCol(s,t))return!1;return!0}isZero(){return(0,e.g)(0),!1}isIdentity(){return(0,e.g)(0),!1}equals(t,s){if(void 0!==s&&(0,e.g)(0),this.N!==t.N||this.M!==t.M)return!1;for(let i=0;i<this.N*this.M;i++)if(this.data[i]!==t.data[i])return!1;return!0}maxElement(){return(0,e.g)(0),0}minElement(){return(0,e.g)(0),0}determinant(){if((0,e.g)(this.N===this.M),1===this.N)return this.data[0];if(2===this.N)return this.data[0]*this.data[3]-this.data[1]*this.data[2];if(3===this.N){const t=this;return t.atRowCol(0,0)*(t.atRowCol(1,1)*t.atRowCol(2,2)-t.atRowCol(1,2)*t.atRowCol(2,1))-t.atRowCol(0,1)*(t.atRowCol(1,0)*t.atRowCol(2,2)-t.atRowCol(2,0)*t.atRowCol(1,2))+t.atRowCol(0,2)*(t.atRowCol(1,0)*t.atRowCol(2,1)-t.atRowCol(1,1)*t.atRowCol(2,0))}const t=new Float64Array(this.N*this.N),s=new r(t,this.N,this.N),i=new Float64Array(this.N);if(!this.luDecomposition(s,i))return 0;let n=1;for(let e=0;e<this.N;e++)n*=s.atRowCol(e,e),i[e]!==e&&(n=-n);return n}submatrix(t,s,i){(0,e.g)(0)}inverse(t){(0,e.g)(0)}pseudoInverse(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2220446049250313e-31;if(t.setZero(),1===this.N&&1===this.M)return 0!==this.atRowCol(0,0)?t.setRowCol(0,0,1/this.atRowCol(0,0)):t.setRowCol(0,0,0),!0;if(2===this.N&&2===this.M){const s=this.atRowCol(0,0)*this.atRowCol(1,1)-this.atRowCol(0,1)*this.atRowCol(1,0),i=1e-5*(Math.abs(this.atRowCol(0,0)*this.atRowCol(1,1))+Math.abs(this.atRowCol(0,1)*this.atRowCol(1,0)));if(Math.abs(s)>i)return t.setRowCol(0,0,this.atRowCol(1,1)/s),t.setRowCol(0,1,-this.atRowCol(0,1)/s),t.setRowCol(1,0,-this.atRowCol(1,0)/s),t.setRowCol(1,1,this.atRowCol(0,0)/s),!0}const e=new Float64Array(this.N*this.M),n=new r(e,this.N,this.M),o=new Float64Array(this.M),h=new r(o,this.M,1),u=new Float64Array(this.M*this.M),a=new r(u,this.M,this.M);if(!this.svd(n,h,a,s))return!1;const l=Math.max(this.N,this.M),c=i*Math.abs(h.at(0))*l;for(let r=0;r<this.M;r++)h.at(r)>c?h.set(r,1/h.at(r)):h.set(r,0);return a.mulDiag(h,t),t.mulTranspose(n,t),!0}luDecomposition(t,s){return(0,e.g)(0),!1}symmetricEigen(t,s){(0,e.g)(this.rows()===this.cols()),(0,e.g)(this.rows()===t.rows()),(0,e.g)(s.rows()===s.cols()&&s.rows()===this.rows()),(0,e.g)(this.isSymmetric());const i=new Float64Array(this.N*this.M),n=new r(i,this.N,this.M);n.assignCopy(this);const o=100/Number.EPSILON,h=this.rows(),u=new Float64Array(h),a=new Float64Array(h),l=new r(u,h,1),c=new r(a,h,1);for(let e=0;e<h;e++)l.set(e,n.atRowCol(e,e)),t.set(e,n.atRowCol(e,e)),c.set(e,0);s.setIdentity();const m=()=>{const i=l;s.transposeInPlace();let e=1;do{e*=3,e++}while(e<=h);do{e/=3,e=Math.trunc(e);for(let n=e;n<h;n++){const r=t.at(n),o=Math.abs(r);for(let t=0;t<this.M;t++)i.set(t,s.atRowCol(t,n));let h=n;for(;Math.abs(t.at(h-e))<o;){t.set(h,t.at(h-e));for(let t=0;t<this.M;t++)s.setRowCol(t,h,s.atRowCol(t,h-e));if(h-=e,h<e)break}if(h!==n){t.set(h,r);for(let t=0;t<this.M;t++)s.setRowCol(t,h,i.at(t))}}}while(e>1)};for(let e=1;;e++){let i=0;for(let t=1;t<h;t++)for(let s=0;s<t;s++)i+=Math.abs(n.atRowCol(t,s));if(0===i)return m(),!0;const r=e<4?.2*i/(h*h):0;for(let u=0;u<h;u++)for(let i=u+1;i<h;i++){let a=o*Math.abs(n.atRowCol(i,u));if(e>4&&a<=Math.abs(t.at(u))&&a<=Math.abs(t.at(i)))n.setRowCol(i,u,0);else if(Math.abs(n.atRowCol(i,u))>r){let e,r=t.at(i)-t.at(u);if(a<Math.abs(r))e=n.atRowCol(i,u)/r;else{const t=.5*r/n.atRowCol(i,u);e=1/(Math.abs(t)+Math.sqrt(1+t*t)),t<0&&(e=-e)}const o=1/Math.sqrt(1+e*e),l=e*o,m=l/(1+o);r=e*n.atRowCol(i,u),c.set(u,c.at(u)-r),c.set(i,c.at(i)+r),t.set(u,t.at(u)-r),t.set(i,t.at(i)+r),n.setRowCol(i,u,0);let y=0;for(;y<u;y++)a=n.atRowCol(u,y),r=n.atRowCol(i,y),n.setRowCol(u,y,a-l*(r+a*m)),n.setRowCol(i,y,r+l*(a-r*m));for(y++;y<i;y++)a=n.atRowCol(y,u),r=n.atRowCol(i,y),n.setRowCol(y,u,a-l*(r+a*m)),n.setRowCol(i,y,r+l*(a-r*m));for(y++;y<h;y++)a=n.atRowCol(y,u),r=n.atRowCol(y,i),n.setRowCol(y,u,a-l*(r+a*m)),n.setRowCol(y,i,r+l*(a-r*m));for(y=0;y<h;y++)a=s.atRowCol(u,y),r=s.atRowCol(i,y),s.setRowCol(u,y,a-l*(r+a*m)),s.setRowCol(i,y,r+l*(a-r*m))}}for(let s=0;s<h;s++)l.set(s,l.at(s)+c.at(s)),t.set(s,l.at(s)),c.set(s,0)}}static checkDims(t,s,i){(0,e.g)(t.rows()===s&&t.cols()===i)}}class o extends r{constructor(t){if(t.copy){const s=new Float64Array(t.copy.N*t.copy.M);return super(s,t.copy.N,t.copy.M),this.buffer=s,void this.assignCopy(t.copy)}const s=new Float64Array(t.NN*t.MM);super(s,t.NN,t.MM),this.buffer=s,t.initializerList&&(0,n.a)(this.buffer,t.initializerList,0,0,t.initializerList.length)}assignCopy(t){return this===t||super.assignCopy(t),this}}class h{constructor(t){this.m_TransformationType=1,void 0===t?this.setIdentity():t instanceof h?this.set(t):this.setScale(t)}set(t){return this.xx=t.xx,this.xy=t.xy,this.xd=t.xd,this.yx=t.yx,this.yy=t.yy,this.yd=t.yd,this}clone(){return(new h).set(this)}setZero(){this.xx=0,this.yy=0,this.xy=0,this.yx=0,this.xd=0,this.yd=0}isEqual(t){return this===t||this.xx===t.xx&&this.xy===t.xy&&this.xd===t.xd&&this.yx===t.yx&&this.yy===t.yy&&this.yd===t.yd}transformInPlace(t){const s=this.xx*t.x+this.xy*t.y+this.xd,i=this.yx*t.x+this.yy*t.y+this.yd;t.x=s,t.y=i}transform(t){const s=t.clone();return this.transformInPlace(s),s}queryTransform(t,s){const i=this.xx*t.x+this.xy*t.y+this.xd,e=this.yx*t.x+this.yy*t.y+this.yd;s.setCoords(i,e)}transformEnvInPlace(t){if(t.isEmpty())return;const s=(0,n.m)(n.P,4);t.queryCorners(s),this.transformPoints2D(s,4,s),t.setFromPoints(s,4)}queryTransformEnv(t,s){(0,e.g)(0)}transformPoints2D(t,s,i){for(let e=0;e<s;++e)this.queryTransform(t[e],i[e])}transformInterleavedPoints(t,s,i){s*=2;const e=n.P.getNAN();for(let n=0;n<s;n+=2)e.x=t[n],e.y=t[n+1],this.transformInPlace(e),i[n]=e.x,i[n+1]=e.y}multiply(t){return h.st_multiply(this,t,this),this}mulLeft(t){return(0,e.g)(0),this}static st_multiply(t,s,i){const e=t.xx*s.xx+t.yx*s.xy,n=t.xy*s.xx+t.yy*s.xy,r=t.xd*s.xx+t.yd*s.xy+s.xd,o=t.xx*s.yx+t.yx*s.yy,h=t.xy*s.yx+t.yy*s.yy,u=t.xd*s.yx+t.yd*s.yy+s.yd;i.xx=e,i.xy=n,i.xd=r,i.yx=o,i.yy=h,i.yd=u}getCoefficients(t){(0,e.g)(t.length>=6),t[0]=this.xx,t[1]=this.xy,t[2]=this.xd,t[3]=this.yx,t[4]=this.yy,t[5]=this.yd}setCoefficients(t){(0,e.g)(t.length>=6),this.xx=t[0],this.xy=t[1],this.xd=t[2],this.yx=t[3],this.yy=t[4],this.yd=t[5]}copyTo(t){(0,e.g)(0)}initializeFromRect(t,s){t.isEmpty()||s.isEmpty()||!t.width()||!t.height()?this.setZero():(this.xy=this.yx=0,this.xx=s.width()/t.width(),this.yy=s.height()/t.height(),this.xd=s.xmin-t.xmin*this.xx,this.yd=s.ymin-t.ymin*this.yy)}initializeFromRectIsotropic(t,s){if(t.isEmpty()||!t.width()||!t.height()||s.isEmpty())this.setZero();else{this.yx=0,this.xy=0,this.xx=s.width()/t.width(),this.yy=s.height()/t.height(),this.xx>this.yy?this.xx=this.yy:this.yy=this.xx;const i=s.getCenter(),e=t.getCenter();this.xd=i.x-e.x*this.xx,this.yd=i.y-e.y*this.yy}}initializeFromTwoPointsArray(t,s){if(t[0].equals(s[0])&&t[1].equals(s[1]))return void this.setIdentity();if(t[0].equals(t[1])){if(s[0].equals(s[1]))return void this.setShift(s[0].sub(t[0]));(0,e.t)("")}if(!t[0].equals(t[1])&&s[0].equals(s[1]))return this.setZero(),void this.shift(s[0]);this.setShiftCoords(-t[0].x,-t[0].y);const i=n.P.distance(t[0],t[1]),r=n.P.distance(s[0],s[1]),o=r/i;this.scale(o,o);const h=t[1].sub(t[0]);h.divThis(i);const u=s[1].sub(s[0]);u.divThis(r);const a=h.crossProduct(u),l=h.dotProduct(u);this.rotate(l,a),this.shiftCoords(s[0].x,s[0].y)}initializeFromTwoPoints(t,s,i,e){const n=[t,s],r=[i,e];this.initializeFromTwoPointsArray(n,r)}transformSizeInPlace(t){(0,e.g)(0)}transformSize(t,s){(0,e.g)(0)}transformTol(t){return(0,e.g)(0),0}transformWithoutTranslateArray(t,s,i){for(let e=0;e<s;++e)this.transformWithoutTranslate(t[e],i[e])}transformWithoutTranslateInPlace(t){const s=this.xx*t.x+this.xy*t.y,i=this.yx*t.x+this.yy*t.y;t.setCoords(s,i)}transformWithoutTranslate(t,s){const i=this.xx*t.x+this.xy*t.y,e=this.yx*t.x+this.yy*t.y;s.setCoords(i,e)}setIdentity(){this.xx=1,this.xy=0,this.xd=0,this.yx=0,this.yy=1,this.yd=0}isIdentity(){return!(1!==this.xx||1!==this.yy||this.xy||this.xd||this.yx||this.yd)}isIdentityTol(t){const s=t*t;return!((0,n.s)(this.xd)+(0,n.s)(this.yd)>s)&&!((0,n.s)(this.xy+this.xd)+(0,n.s)(this.yy+this.yd-1)>s)&&!((0,n.s)(this.xx+this.xd-1)+(0,n.s)(this.yx+this.yd)>s)}isReflective(){return this.xx*this.yy-this.yx*this.xy<0}isUniform(t){const s=this.xx*this.xx+this.yx*this.yx,i=this.xy*this.xy+this.yy*this.yy,e=(s+i)*t;return Math.abs(s-i)<=e&&Math.abs(this.xx*this.xy+this.yx*this.yy)<=e}isUniformNoRotation(){return 0!==this.xx&&Math.abs(this.xx)===Math.abs(this.yy)&&0===this.xy&&0===this.yx}isTranslate(){return 1===this.xx&&1===this.yy&&!this.xy&&!this.yx}isTranslateTol(t){const s=new n.P;return s.setCoords(0,1),this.transformWithoutTranslateInPlace(s),s.y-=1,!(s.sqrLength()>t*t)&&(s.setCoords(1,0),this.transformWithoutTranslateInPlace(s),s.x-=1,s.sqrLength()<=t*t)}isOrthonormal(t){const s=new h;return s.xx=this.xx*this.xx+this.xy*this.xy,s.xy=this.xx*this.yx+this.xy*this.yy,s.yx=this.yx*this.xx+this.yy*this.xy,s.yy=this.yx*this.yx+this.yy*this.yy,s.xd=0,s.yd=0,s.isIdentityTol(t)}isDegenerate(t){return Math.abs(this.xx*this.yy-this.yx*this.xy)<=2*t*(Math.abs(this.xx*this.yy)+Math.abs(this.yx*this.xy))}isZero(){return 0===this.xx&&0===this.yy&&0===this.xy&&0===this.yx&&0===this.xd&&0===this.yd}isScaleAndTranslateTol(t){return this.xy*this.xy+this.yx*this.yx<=(this.xx*this.xx+this.yy*this.yy)*t}setTranslate(t,s){return this.xx=1,this.xy=0,this.xd=t,this.yx=0,this.yy=1,this.yd=s,this}setShiftCoords(t,s){return this.xx=1,this.xy=0,this.xd=t,this.yx=0,this.yy=1,this.yd=s,this}setShift(t){return this.xx=1,this.xy=0,this.xd=t.x,this.yx=0,this.yy=1,this.yd=t.y,this}setScaleCoords(t,s){return this.xx=t,this.xy=0,this.xd=0,this.yx=0,this.yy=s,this.yd=0,this}setScale(t){return this.setScaleCoords(t,t),this}setFlipX(t,s){return this.xx=-1,this.xy=0,this.xd=t+s,this.yx=0,this.yy=1,this.yd=0,this}setFlipY(t,s){return this.xx=1,this.xy=0,this.xd=0,this.yx=0,this.yy=-1,this.yd=t+s,this}setShear(t,s){return this.xx=1,this.xy=t,this.xd=0,this.yx=s,this.yy=1,this.yd=0,this}scale(t,s){return this.xx*=t,this.xy*=t,this.xd*=t,this.yx*=s,this.yy*=s,this.yd*=s,this}setRotateAngle(t){return this.setRotate(Math.cos(t),Math.sin(t))}setRotate(t,s){return this.xx=t,this.xy=-s,this.xd=0,this.yx=s,this.yy=t,this.yd=0,this}setRotateAngleAbout(t,s){return this.setRotateAbout(Math.cos(t),Math.sin(t),s)}setRotateAbout(t,s,i){return this.setTranslate(-i.x,-i.y),this.rotate(t,s),this.translate(i.x,i.y)}setSwapCoordinates(){return this.xx=0,this.xy=1,this.xd=0,this.yx=1,this.yy=0,this.yd=0,this}setRotateCw90(){return this.xx=0,this.xy=1,this.xd=0,this.yx=-1,this.yy=0,this.yd=0,this}setRotateCcw90(){return this.xx=0,this.xy=-1,this.xd=0,this.yx=1,this.yy=0,this.yd=0,this}shiftCoords(t,s){return this.xd+=t,this.yd+=s,this}shift(t){return this.xd+=t.x,this.yd+=t.y,this}translate(t,s){return this.xd+=t,this.yd+=s,this}flipX(t,s){return this.xx=-this.xx,this.xy=-this.xy,this.xd=t+s-this.xd,this}flipY(t,s){return this.yx=-this.yx,this.yy=-this.yy,this.yd=t+s-this.yd,this}shear(t,s){const i=new h;return i.setShear(t,s),this.multiply(i)}rotateAngle(t){const s=new h;return s.setRotateAngle(t),this.multiply(s)}rotate(t,s){const i=new h;return i.setRotate(t,s),this.multiply(i)}rotateAbout(t,s,i){return this.translate(-i.x,-i.y),this.rotate(t,s),this.translate(i.x,i.y)}rotateAngleAbout(t,s){return this.rotateAbout(Math.cos(t),Math.sin(t),s)}setInvert(t){return this.set(t),this.invertThis()}invertThis(){let t=this.xx*this.yy-this.xy*this.yx;if(0===t)return this.setZero(),this;t=1/t;const s=(this.xy*this.yd-this.xd*this.yy)*t,i=(this.xd*this.yx-this.xx*this.yd)*t,e=this.yy*t,n=-this.xy*t,r=-this.yx*t,o=this.xx*t;return this.xd=s,this.yd=i,this.xx=e,this.yy=o,this.xy=n,this.yx=r,this}invertPrecise(t){return this.set(t),this.invertPreciseThis()}invertPreciseThis(){const t=n.M.constructDouble(this.xy),s=n.M.constructDouble(this.xx),i=s.mulDouble(this.yy).sub(t.mulDouble(this.yx));if(i.isZero())return this.setZero(),this;const e=i.clone();e.invertThis();const r=n.M.constructDouble(this.xd),o=t.mulDouble(this.yd).sub(r.mulDouble(this.yy)).mul(e).toDouble(),h=r.mulDouble(this.yx).sub(s.mulDouble(this.yd)).mul(e).toDouble(),u=e.mulDouble(this.yy).toDouble(),a=e.mulDouble(-this.xy).toDouble(),l=e.mulDouble(-this.yx).toDouble(),c=e.mulDouble(this.xx).toDouble();return this.xd=o,this.yd=h,this.xx=u,this.yy=c,this.xy=a,this.yx=l,this}extractScaleTransform(t,s){const i=Math.sqrt(this.xx*this.xx+this.xy*this.xy),e=Math.sqrt(this.yx*this.yx+this.yy*this.yy);s.setScaleCoords(1/i,1/e),s.multiply(this),t.setScaleCoords(i,e)}setFromTwoTriangles(t,s){let i=!0;for(let n=0;n<3;++n)i=i&&t[n].equals(s[n]);if(i)return this.setIdentity(),!0;const e=new n.P;e.setSub(t[0],t[1]);const r=new n.P;r.setSub(t[0],t[2]);const o=new n.P;o.setSub(s[0],s[1]);const h=new n.P;h.setSub(s[0],s[2]);const u=4*Number.EPSILON*(Math.abs(e.x*r.y)+Math.abs(r.x*e.y));let a=e.x*r.y-e.y*r.x;return Math.abs(a)>u?(a=1/a,this.xx=(o.x*r.y-e.y*h.x)*a,this.xy=(e.x*h.x-o.x*r.x)*a,this.yx=(o.y*r.y-e.y*h.y)*a,this.yy=(e.x*h.y-o.y*r.x)*a,this.xd=s[0].x-(this.xx*t[0].x+this.xy*t[0].y),this.yd=s[0].y-(this.yx*t[0].x+this.yy*t[0].y),!0):(this.setZero(),!1)}initializeFromControlPoints(t,s,i,r){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return 0===s?(this.setIdentity(),void(l&&l.setIdentity())):1===s?(this.setShift(r[0].sub(i[0])),void(l&&l.setShift(i[0].sub(r[0])))):(s<3&&(t=1),void(4===t&&s>2?function(t,s,i,r,h){const u=n.P.average(i,s),l=n.P.average(r,s),c=new o({NN:2,MM:2});c.setZero();const m=new o({NN:2,MM:2});m.setZero();for(let e=0;e<s;++e)c.setRowCol(0,0,c.atRowCol(0,0)+(i[e].x-u.x)*(i[e].x-u.x)),c.setRowCol(0,1,c.atRowCol(0,1)+(i[e].x-u.x)*(i[e].y-u.y)),c.setRowCol(1,1,c.atRowCol(1,1)+(i[e].y-u.y)*(i[e].y-u.y)),m.setRowCol(0,0,m.atRowCol(0,0)+(r[e].x-l.x)*(i[e].x-u.x)),m.setRowCol(0,1,m.atRowCol(0,1)+(r[e].x-l.x)*(i[e].y-u.y)),m.setRowCol(1,0,m.atRowCol(1,0)+(r[e].y-l.y)*(i[e].x-u.x)),m.setRowCol(1,1,m.atRowCol(1,1)+(r[e].y-l.y)*(i[e].y-u.y));c.setRowCol(1,0,c.atRowCol(0,1));const y=new o({NN:2,MM:2});c.pseudoInverse(y,!0)||(0,e.a)("Failed to compute pseudo inverse"),m.mul(y,m),a(t,m);const x=u.clone();t.transformInPlace(x),t.xd=l.x-x.x,t.yd=l.y-x.y,h&&(m.pseudoInverse(y,!1)||(0,e.a)("Failed to compute pseudo inverse"),a(h,y),h.transformInPlace(l),h.xd=u.x-l.x,h.yd=u.y-l.y)}(this,s,i,r,l):function(t,s,i,r,l,c){(0,e.g)(1===t||0===t||2===t||3===t),s.setIdentity();const m=n.P.average(r,i),y=n.P.average(l,i);if((0,e.g)(t<u.length&&t>0),8&u[t]){const n=new o({NN:2,MM:2});n.setZero();for(let t=0;t<i;++t)n.setRowCol(0,0,n.atRowCol(0,0)+(l[t].x-y.x)*(r[t].x-m.x)),n.setRowCol(1,0,n.atRowCol(1,0)+(l[t].x-y.x)*(r[t].y-m.y)),n.setRowCol(0,1,n.atRowCol(0,1)+(l[t].y-y.y)*(r[t].x-m.x)),n.setRowCol(1,1,n.atRowCol(1,1)+(l[t].y-y.y)*(r[t].y-m.y));const c=new o({NN:2,MM:2}),x=new o({NN:2,MM:1}),f=new o({NN:2,MM:2});n.svd(c,x,f)||(0,e.a)("Failed to compute svd");const d=new o({NN:2,MM:2});c.transpose(d);const b=new o({NN:2,MM:2});f.mul(d,b),32&u[t]||b.determinant()<0&&(d.setRowCol(1,0,-d.atRowCol(1,0)),d.setRowCol(1,1,-d.atRowCol(1,1)),f.mul(d,b));const v=new h;a(v,b),s.set(v)}if(2&u[t]){let t=0,e=0;for(let n=0;n<i;++n){const i=r[n].sub(m);t+=i.sqrLength(),s.transformInPlace(i),e+=i.dotProduct(l[n].sub(y))}if(0===t)0===e?s.setIdentity():s.setZero();else{const i=e/t;s.scale(i,i)}}else(0,e.g)(!(4&u[t]));const x=m.clone();s.transformInPlace(x),s.xd=y.x-x.x,s.yd=y.y-x.y,c&&(c.set(s),c.invertThis(),c.isZero()&&(c.xd=m.x,c.yd=m.y))}(t,this,s,i,r,l)))}calculateErrors(t,s,i,r){(0,e.g)(t>0&&null!==s&&null!==i);let o=0;for(let e=0;e<t;++e){const t=this.transform(s[e]),h=n.P.sqrDistance(i[e],t);o+=h,r&&(r[e]=Math.sqrt(h))}return Math.sqrt(o/t)}}const u=[43,11,41,9,61];function a(t,s){(0,e.g)(!(2!==s.rows()&&3!==s.rows()||2!==s.cols()&&3!==s.rows())),t.xx=s.atRowCol(0,0),t.xy=s.atRowCol(0,1),t.yx=s.atRowCol(1,0),t.yy=s.atRowCol(1,1),3===s.cols()?(t.xd=s.atRowCol(0,2),t.yd=s.atRowCol(1,2)):(t.xd=0,t.yd=0)}},26871:(t,s,i)=>{i.d(s,{$:()=>p,A:()=>xs,B:()=>lt,C:()=>dt,D:()=>_s,E:()=>l,F:()=>m,G:()=>_,H:()=>v,I:()=>Wt,J:()=>Ns,K:()=>n,L:()=>Tt,M:()=>Ds,N:()=>ws,O:()=>Pt,P:()=>Bs,Q:()=>S,R:()=>Z,S:()=>At,T:()=>at,U:()=>ft,V:()=>I,W:()=>P,X:()=>bt,Y:()=>Yt,Z:()=>F,_:()=>N,a:()=>ct,a0:()=>A,a1:()=>D,a2:()=>q,a3:()=>jt,a4:()=>qt,a5:()=>Cs,a6:()=>Is,a7:()=>Rs,a8:()=>Ts,a9:()=>nt,aA:()=>wt,aB:()=>ks,aC:()=>T,aD:()=>us,aE:()=>Ht,aF:()=>Lt,aG:()=>ls,aH:()=>as,aa:()=>rt,ab:()=>gt,ac:()=>w,ad:()=>zs,ae:()=>qs,af:()=>G,ag:()=>Ms,ah:()=>et,ai:()=>Zt,aj:()=>j,ak:()=>L,al:()=>Ps,am:()=>vt,an:()=>vs,ao:()=>Kt,ap:()=>mt,aq:()=>hs,ar:()=>cs,as:()=>Rt,at:()=>ys,au:()=>Ct,av:()=>E,aw:()=>os,ax:()=>gs,ay:()=>Fs,az:()=>Zs,b:()=>yt,c:()=>ps,d:()=>It,e:()=>O,f:()=>R,g:()=>bs,h:()=>Nt,i:()=>Jt,j:()=>$t,k:()=>zt,l:()=>St,m:()=>Mt,n:()=>Dt,o:()=>it,p:()=>Et,q:()=>z,r:()=>Xt,s:()=>B,t:()=>U,u:()=>_t,v:()=>xt,w:()=>pt,x:()=>k,y:()=>g,z:()=>C});var e=i(97799);class n{constructor(t){this.sum=t,this.compensation=0}assign(t){return this.compensation=t.compensation,this.sum=t.sum,this}reset(){this.sum=this.compensation=0}resetToStart(t){this.sum=t,this.compensation=0}normalize(){const t=[Number.NaN];this.sum=st(this.sum,this.compensation,t),this.compensation=t[0]}add(t){const s=this.sum+t;let i;if(Math.abs(this.sum)>=Math.abs(t)){const e=this.sum-s+t;i=this.compensation+e}else{const e=t-s+this.sum;i=this.compensation+e}this.sum=s,this.compensation=i}sub(t){this.add(-t)}addProduct(t,s){const i=[0],e=H(t,s,i);this.add(e),this.add(i[0])}mul(t){const s=new n(0);s.addProduct(this.sum,t),s.addProduct(this.compensation,t),this.assign(s)}getResult(){return this.sum+this.compensation}pe(t){return this.add(t),this}me(t){return this.add(-t),this}}const r=[5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1],o=[-1,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3];function h(t){let s=0;return 65535n&t||(s+=16,t>>=16n),255n&t||(s+=8,t>>=8n),15n&t||(s+=4,t>>=4n),s+r[Number(BigInt.asUintN(4,t))]}function u(t){let s=0;return 4294967295n&t||(s=32,t>>=32n),s+h(BigInt.asUintN(32,t))}function a(t){let s=0;return 0xffffffff00000000n&t&&(s=32,t>>=32n),s+function(t){let s=0;return 4294901760n&t&&(s+=16,t>>=16n),65280n&t&&(s+=8,t>>=8n),240n&t&&(s+=4,t>>=4n),s+o[Number(BigInt.asUintN(4,t))]+1}(t)}class l{constructor(t,s){if(this.m_EnvelopeType=1,void 0!==t){if(t instanceof l)return this.vmin=t.vmin,void(this.vmax=t.vmax);this.vmin=t,this.vmax=s,this.normalize()}else this.setEmpty()}static construct(t,s){return new l(t,s)}static constructEmpty(){return new l}setCoords(t,s){this.vmin=t,this.vmax=s,this.normalize()}setCoordsFromEnvelope(t){this.vmin=t.vmin,this.vmax=t.vmax}setEmpty(){this.vmin=Number.NaN,this.vmax=Number.NaN}getCenter(){return.5*(this.vmin+this.vmax)}equalsRange(t,s){return jt(this.vmin,t)&&jt(this.vmax,s)}equals(t,s){return!(!this.isEmpty()||!t.isEmpty())||(void 0!==s?Math.abs(this.vmin-t.vmin)<=s&&Math.abs(this.vmax-t.vmax)<=s:this.vmin===t.vmin&&this.vmax===t.vmax)}width(){return this.vmax-this.vmin}isEmpty(){return Number.isNaN(this.vmin)||Number.isNaN(this.vmax)}isZero(){return this.vmin===this.vmax}setInfinite(){this.vmin=Number.NEGATIVE_INFINITY,this.vmax=Number.POSITIVE_INFINITY}move(t){this.isEmpty()||(this.vmin+=t,this.vmax+=t)}contains(t){return t.vmin>=this.vmin&&t.vmax<=this.vmax}containsCoordinate(t){return t>=this.vmin&&t<=this.vmax}containsRightExclusive(t){return t>=this.vmin&&t<this.vmax}containsExclusiveCoordinate(t){return t>this.vmin&&t<this.vmax}containsExclusive(t){return t.vmin>this.vmin&&t.vmax<this.vmax}isIntersecting(t){return this.vmin<=t.vmin?this.vmax>=t.vmin:t.vmax>=this.vmin}mergeCoordinate(t){if(this.isEmpty())return this.vmin=t,void(this.vmax=t);this.mergeNeCoordinate(t)}merge(t){if(t.isEmpty())return;const s=t.vmin,i=t.vmax;this.mergeCoordinate(s),this.mergeCoordinate(i)}mergeNe(t){const s=t.vmin,i=t.vmax;this.mergeNeCoordinate(s),this.mergeNeCoordinate(i)}mergeNeCoordinate(t){t<this.vmin?this.vmin=t:t>this.vmax&&(this.vmax=t)}intersect(t){this.isEmpty()||t.isEmpty()?this.setEmpty():(this.vmin<t.vmin&&(this.vmin=t.vmin),this.vmax>t.vmax&&(this.vmax=t.vmax),this.vmin>this.vmax&&this.setEmpty())}inflate(t){this.isEmpty()||(this.vmin-=t,this.vmax+=t,this.vmax<this.vmin&&this.setEmpty())}normalize(){this.vmin<=this.vmax||(this.vmin>this.vmax?this.vmax=yt(this.vmin,this.vmin=this.vmax):this.setEmpty())}isValid(){return this.isEmpty()||this.vmin<=this.vmax}snapClip(t){return ps(t,this.vmin,this.vmax)}calculateToleranceFromEnvelope(){return this.isEmpty()?bs():(Math.abs(this.vmin)+Math.abs(this.vmax)+1)*bs()}static unit(){return c}normalizeNoNAN(){this.vmin>this.vmax&&(this.vmax=yt(this.vmin,this.vmin=this.vmax))}setCoordsNoNAN(t,s){this.vmin=t,this.vmax=s,this.normalizeNoNAN()}clone(){return new l(this.vmin,this.vmax)}}const c=new l(0,1);class m{static getNAN(){return new m(Number.NaN)}constructor(t,s){this.m_value=t??0,this.m_eps=s??0}[Symbol.toPrimitive](t){return this}clone(){return new m(this.m_value,this.m_eps)}assign(t){return this.m_value=t.m_value,this.m_eps=t.m_eps,this}scaleError(t){this.m_eps*=t}setError(t){this.m_eps=t}set(t,s){return this.m_value=t,this.m_eps=s??0,this}setWithEps(t,s){return void 0===s&&(s=1),this.m_value=t,this.m_eps=m.ulp(t)*s,this}setE(t){return this.m_value=t.m_value,this.m_eps=t.m_eps,this}precise(){return new m(this.m_value)}value(){return this.m_value}toDouble(){return this.m_value}eps(){return this.m_eps}resetError(){return this.m_eps=0,this}absThis(){return this.m_value=Math.abs(this.m_value),this}add(t){return this.clone().addThis(t)}addE(t){return this.clone().addThisE(t)}addThisE(t){const s=this.m_value+t.m_value,i=this.m_eps+t.m_eps+m.ulp(s);return this.m_value=s,this.m_eps=i,this}addThis(t){const s=this.m_value+t,i=this.m_eps+m.ulp(s);return this.m_value=s,this.m_eps=i,this}subE(t){return this.clone().subThisE(t)}sub(t){return this.clone().subThis(t)}subThisE(t){const s=this.m_value-t.m_value,i=this.m_eps+t.m_eps+m.ulp(s);return this.m_value=s,this.m_eps=i,this}subThis(t){const s=this.m_value-t,i=this.m_eps+m.ulp(s);return this.m_value=s,this.m_eps=i,this}setAddE(t,s){return this.m_value=t.m_value+s.m_value,this.m_eps=t.m_eps+s.m_eps+m.ulp(this.m_value),this}setAdd(t,s){return this.m_value=t+s,this.m_eps=m.ulp(this.m_value),this}setAddEN(t,s){return this.m_value=t.m_value+s,this.m_eps=t.m_eps+m.ulp(this.m_value),this}setAddNE(t,s){return this.m_value=t+s.m_value,this.m_eps=s.m_eps+m.ulp(this.m_value),this}setSubE(t,s){return this.m_value=t.m_value-s.m_value,this.m_eps=t.m_eps+s.m_eps+m.ulp(this.m_value),this}setSub(t,s){return this.m_value=t-s,this.m_eps=m.ulp(this.m_value),this}setSubEN(t,s){return this.m_value=t.m_value-s,this.m_eps=t.m_eps+m.ulp(this.m_value),this}setSubNE(t,s){return this.m_value=t-s.m_value,this.m_eps=s.m_eps+m.ulp(this.m_value),this}mulThisE(t){const s=this.m_value*t.m_value;return this.m_eps=this.m_eps*Math.abs(t.m_value)+t.m_eps*Math.abs(this.m_value)+this.m_eps*t.m_eps+m.ulp(s),this.m_value=s,this}mulThis(t){const s=this.m_value*t;return this.m_eps=this.m_eps*Math.abs(t)+m.ulp(s),this.m_value=s,this}mul(t){return this.clone().mulThis(t)}mulE(t){return this.clone().mulThisE(t)}setMulE(t,s){const i=t.m_value*s.m_value;return this.m_eps=t.m_eps*Math.abs(s.m_value)+s.m_eps*Math.abs(t.m_value)+t.m_eps*s.m_eps+m.ulp(i),this.m_value=i,this}setMul(t,s){return this.m_value=t*s,this.m_eps=m.ulp(this.m_value),this}setMulEN(t,s){return this.setE(t),this.mulThis(s)}setMulNE(t,s){return this.setE(s),this.mulThis(t)}mulThisByPower2(t){return this.m_value*=t,this.m_eps*=Math.abs(t),this}static st_mulByPower2(t,s){return new m(t.m_value,t.m_eps).mulThisByPower2(s)}divE(t){return this.clone().divThisE(t)}divThisE(t){const s=Math.abs(t.m_value),i=this.m_value/t.m_value;let e=(this.m_eps+Math.abs(i)*t.m_eps)/s;if(t.m_eps>.01*s){const i=t.m_eps/s;e*=1+(1+i)*i}return this.m_value=i,this.m_eps=e+m.ulp(i),this}divThis(t){const s=Math.abs(t);return this.m_value/=t,this.m_eps=this.m_eps/s+m.ulp(this.m_value),this}setDivE(t,s){return this.setE(t),this.divThisE(s)}setDiv(t,s){return this.m_value=t/s,this.m_eps=m.ulp(this.m_value),this}setDivEN(t,s){return this.setE(t),this.divThis(s)}setDivNE(t,s){return this.set(t),this.divThisE(s)}divThisByPower2(t){return this.m_value/=t,this.m_eps/=Math.abs(t),this}invThis(){return this.setE(_.clone().divThisE(this)),this}sqrt(){return this.clone().sqrtThis()}sqrtThis(){let t,s;return this.m_value>=0?(t=Math.sqrt(this.m_value),s=this.m_value>10*this.m_eps?.5*this.m_eps/t:this.m_value>this.m_eps?t-Math.sqrt(this.m_value-this.m_eps):Math.max(t,Math.sqrt(this.m_value+this.m_eps)-t),s+=m.ulp(t)):this.m_value<-this.m_eps?(t=Number.NaN,s=Number.NaN):(t=0,s=Math.sqrt(this.m_eps)),this.m_value=t,this.m_eps=s,this}sqr(){return this.clone().sqrThis()}sqrThis(){const t=this.m_value*this.m_value;return this.m_eps=2*this.m_eps*Math.abs(this.m_value)+this.m_eps*this.m_eps+m.ulp(t),this.m_value=t,this}setSin(t){const s=Math.sin(t.m_value),i=Math.cos(t.m_value);this.m_value=s;const e=Math.abs(s),n=Math.abs(t.value());return this.m_eps=(Math.abs(i)+.5*e*t.m_eps)*t.m_eps+m.ulp(e+n),this}static ulp(t){let s=Ot(t);const i=((0x7ff0000000000000n&s)>>52n)-1075n;return i>-1023n?(s=i+0x3ffn<<52n,function(t){return Bt[0]=t,kt[0]}(s)):0===t?0:Number.MIN_VALUE}setCos(t){const s=Math.sin(t.m_value),i=Math.cos(t.m_value);this.m_value=i;const e=Math.abs(i),n=Math.abs(t.value());return this.m_eps=(Math.abs(s)+.5*e*t.m_eps)*t.m_eps+m.ulp(e+n),this}static st_cosAndSin(t,s,i){const e=Math.sin(t.m_value),n=Math.cos(t.m_value);i.m_value=e,s.m_value=n;const r=Math.abs(e),o=Math.abs(n),h=Math.abs(t.value());i.m_eps=(Math.abs(n)+.5*r*t.m_eps)*t.m_eps+m.ulp(r+h),s.m_eps=(Math.abs(e)+.5*o*t.m_eps)*t.m_eps+m.ulp(o+h)}negate(){return this.clone().negateThis()}negateThis(){return this.m_value=-this.m_value,this}setAbs(){return this.m_value=Math.abs(this.m_value),this}isInInterval(t){return l.construct(this.m_value-this.m_eps,this.m_value+this.m_eps).isIntersecting(t)}eq(t){return Math.abs(this.m_value-t.m_value)<=this.m_eps+t.m_eps}ne(t){return!this.eq(t)}gt(t){return this.m_value-t.m_value>this.m_eps+t.m_eps}lt(t){return t.m_value-this.m_value>this.m_eps+t.m_eps}ge(t){return!this.lt(t)}le(t){return!this.gt(t)}tolEQ(t,s){return Math.abs(this.m_value-t.m_value)<=s||this.eq(t)}tolNE(t,s){return!this.tolEQ(t,s)}tolGT(t,s){return this.m_value-t.m_value>s&&this.gt(t)}tolLT(t,s){return t.m_value-this.m_value>s&&this.lt(t)}tolGE(t,s){return!this.tolLT(t,s)}tolLE(t,s){return!this.tolGT(t,s)}isZero(){return Math.abs(this.m_value)<=this.m_eps}isFuzzyZero(){return this.isZero()&&0!==this.m_eps}tolIsZero(t){return Math.abs(this.m_value)<=Math.max(this.m_eps,t)}setPi(){this.setE(b)}setEuler(){this.set(2.718281828459045,d())}static size(){return 1}}function y(t,s){const i=Ut(t),e=Ut(s),n=53-u(i),r=53-u(e);return(n>=0?n:0)+(r>=0?r:0)<=52}function x(t,s){const i=t+s;return i-t===s&&i-s===t}function f(t,s){const i=t-s;return t-i===s&&s+i===t}function d(){return ws()}m.dimensions=1;const b=new m(Math.PI,.5*d()),v=new m(0,0),_=new m(1,0),w=new m(4,0);function N(t,s,i){return t.addE(s.subE(t).mulE(i))}function p(t,s,i){return s.subE(s.subE(t).mulE(_.subE(i)))}function g(t){let s;if(0===t)s=1;else if(Math.abs(t)>.01)s=function(t){return Math.atanh(t)}(t)/t;else{let i;const e=-36.841361487904734;s=0;const n=t*t;for(let t=2*Math.trunc(e/Math.log(n)+2.5)-1;t>1;t-=2)i=1/t,s=(s+i)*n;s+=1}return s}function M(t){const s=Math.PI*Math.PI/6;let i;if(1===t)i=s;else if(t>1)i=s;else if(0===t)i=t;else if(t<0){const s=1+(t=Math.abs(t)),e=Math.log(s);i=e*e/-2-M(t/s)}else if(t>.5){const e=1-t,n=Math.log(t)*Math.log(e);i=s-M(e)-n}else{i=0;const s=1+Math.trunc(-16*Math.log(10)/Math.log(t)+1.5);let e=s;for(let n=s;n>0;n--,e-=1)i*=t,i+=1/(e*e);i*=t}return i}function C(t,s){const i=s*t;if(Math.abs(s)<.1){let s=0;for(let t=60;t>=1;t--)s*=i,s+=1/t/t;return s*=t,s}return M(i)/s}function T(t,s){return t<s?Dt(t,s):Dt(s,t)}function R(t,s){const i=Math.abs(t);return s>=0?i:-i}function E(t){return Math.round(t)}function I(t,s,i,e,n){n[0]=s[0]+(i[0]-s[0])*e,n[1]=s[1]+(i[1]-s[1])*e,3===t&&(n[2]=s[2]+(i[2]-s[2])*e)}function P(t,s,i,e,n){n[0]=i[0]-(i[0]-s[0])*(1-e),n[1]=i[1]-(i[1]-s[1])*(1-e),3===t&&(n[2]=i[2]-(i[2]-s[2])*(1-e))}function A(t,s,i,e,n){e<=.5?I(t,s,i,e,n):P(t,s,i,e,n)}function D(t,s,i,e,n){n[0]=s[0].addE(i[0].subE(s[0]).mulE(e)),n[1]=s[1].addE(i[1].subE(s[1]).mulE(e))}function q(t,s,i,e,n){n[0]=i[0].subE(i[0].subE(s[0]).mulE(_.subE(e))),n[1]=i[1].subE(i[1].subE(s[1]).mulE(_.subE(e)))}function z(t,s,i){let e;return e=i<=.5?t+(s-t)*i:s-(s-t)*(1-i),e}function S(t,s,i){return t+(s-t)*i}function Z(t,s,i){return s-(s-t)*(1-i)}function F(t,s,i,e){i<=.5?(e.x=t.x+(s.x-t.x)*i,e.y=t.y+(s.y-t.y)*i):(e.x=s.x-(s.x-t.x)*(1-i),e.y=s.y-(s.y-t.y)*(1-i))}function k(t,s,i,e){i<=.5?(e.x=t.x+(s.x-t.x)*i,e.y=t.y+(s.y-t.y)*i,e.z=t.z+(s.z-t.z)*i):(e.x=s.x-(s.x-t.x)*(1-i),e.y=s.y-(s.y-t.y)*(1-i),e.z=s.z-(s.z-t.z)*(1-i))}function B(t){return t*t}function G(t){return t*t*t}function L(t){return 1/Math.sqrt(t)}function O(t){return t<0?-1:t>0?1:0}function U(t,s,i,e){const n=[0],r=[0],o=[0];return st(H(t,i,n),H(s,e,r),o)+(n[0]+r[0]+o[0])}const Q=[0],V=[0];function j(t,s,i){return function(t,s,i,e){const n=st(t,s,K),r=st(n,i,tt);return st(r,K[0]+tt[0],e)}(H(t,s,Q),i,Q[0],V)}const W=[0],Y=[0],X=[0],$=[0];function H(t,s,i){const e=t*s;return J(t,W,Y),J(s,X,$),i[0]=Y[0]*$[0]-(e-W[0]*X[0]-Y[0]*X[0]-W[0]*$[0]),e}function J(t,s,i){const e=134217729*t;s[0]=e-(e-t),i[0]=t-s[0]}const K=[0],tt=[0];function st(t,s,i){const e=t+s;return Math.abs(t)>Math.abs(s)?i[0]=t-e+s:i[0]=s-e+t,e}function it(t,s){return t%s}function et(t){const s=1-t;if(0===s)return 1;let i;if(s<=.01){const t=s,e=Math.log(t);i=1+t*(.4431471805599453-.25*e+t*(.05680519270997949-.09375*e+t*(.02183137044373718-.05859375*e+t*(.011544521417308362-.042724609375*e+t*(.00714200031339596-.0336456298828125*e+t*(.004854743337164948-.027757644653320312*e+t*(.003514687963781376-.023627042770385742*e)))))))}else{if(t<.016){const s=t,i=.25,e=.046875,n=.01953125,r=.01068115234375,o=.0067291259765625,h=.004626274108886719,u=.0033752918243408203,a=.0025710230693221092;return Rs()*(1-s*(i+s*(e+s*(n+s*(r+s*(o+s*(h+s*(u+s*a))))))))}i=ot(0,s,1)-t*ht(0,s,1)/3}return ps(i,1,Rs())}function nt(t,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN;if((0,e.g)(s>=0&&s<=1),0===s)return t;let n=1,r=t;if(r<0&&(r=-r,n=-1),1===s){const t=Math.round(r/Cs()),s=r-t*Cs();return n*(2*t+Math.sin(s))}const o=Rs(),h=Math.floor(r/o);1&h?r=(h+1)*o-r:r-=h*o;const u=Math.sin(r),a=Number.isNaN(i)?et(s):i;let l;if(1===u)l=a+Math.sqrt(1-s)*(r-o);else{const t=r*r;if(.01424*Math.pow(t,4)<=2*ws())l=r*(1+t*s*(-1/6+t*((4-3*s)/120-(16+(45*s-60)*s)/5040*t)));else if(s<=.01){const t=Math.sin(2*r),i=Math.sin(4*r),e=Math.sin(6*r),n=Math.sin(8*r),o=Math.sin(10*r);l=r+s*((2*-r+t)/8+s*((-3*r+2*t-.25*i)/64+s*((-20*r+15*t-3*i+e/3)/1024+s*(5*(-140*r+112*t-28*i+16/3*e-.5*n)/65536+7*s*((-63*r+52.5*t-15*i+3.75*e-.625*n+.05*o)/65536+s*(-693*r+594*t-185.625*i+1.375*e-12.375*n+1.8*o-.125*Math.sin(12*r))/1048576)))))}else{const t=u*u,i=Math.cos(r),e=i*i,n=ut(u,i,s);l=u*(ot(e,n,1)-s*t*ht(e,n,1)/3)}}return 1&h?l=a*(h+1)-l:l+=a*h,n*l}function rt(t,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN;if(0===t)return 0;let e=1,n=t;t<0&&(n=-n,e=-1);const r=Number.isNaN(i)?et(s):i,o=Math.floor(n/r);1&o?n=(o+1)*r-n:n-=o*r;let h=n<=0?0:n>=r?Rs():function(t,s,i){if(0===s)return t;if(1===s)return Math.asin(t);let e=0,n=!0;if(t<.2){const i=t*t,r=t*(1+i*s*(1/6+i*((13*s-4)/120+(16-284*s+493*s*s)/5040*i))),o=Math.abs(s*(4944*s-64-31224*s*s+37369*s*s*s)/362880*Math.pow(t,9));if(o<Math.abs(r)*ws())return r;e=r,n=o>.1*r}if(n){const n=1-s,r=1-t/i,o=Math.sqrt(r*r+n*n),h=Math.atan2(n,t+ws());e=Rs()+Math.sqrt(o)*(h-Rs())}let r=0;for(let o=0;o<7;o++){r=nt(e,s,i);const n=ut(Math.sin(e),Math.cos(e),s);if(e-=(r-t)/Math.sqrt(n),o>0&&Math.abs(r-t)<=4*ws()*t)break}return e}(n,s,r);return 1&o?h=Rs()*(o+1)-h:h+=Rs()*o,e*h}function ot(t,s,i){(0,e.g)((0!==t?1:0)+(0!==s?1:0)+1>1);let n=t,r=s,o=i;for(;;){const t=Math.sqrt(n*r)+Math.sqrt(r*o)+Math.sqrt(o*n);n=.25*(n+t),r=.25*(r+t),o=.25*(o+t);const s=(n+r+o)/3,i=(s-n)/s,e=(s-r)/s,h=(s-o)/s;if(Math.abs(i)<=.0024&&Math.abs(e)<=.0024&&Math.abs(h)<=.0024){const t=i*e-h*h,n=i*e*h;return(1+(1/24*t-.1-3/44*n-5*t*t/208+t*n/16)*t+(1/14+3*n/104)*n)/Math.sqrt(s)}}}function ht(t,s,i){(0,e.g)(0!==t||0!==s);let r=t,o=s,h=i;const u=new n(0);let a=1;for(;;){const t=.2*(r+o+3*h),s=(t-r)/t,i=(t-o)/t,e=(t-h)/t;if(Math.abs(s)<=.0015&&Math.abs(i)<=.0015&&Math.abs(e)<=.0015){const n=s*i,r=e*e,o=n-r,h=n-6*r,l=h+o+o,c=3/26,m=h*(9/22*.25*h-.21428571428571427-1.5*c*e*l),y=e*(1/6*l+e*(-.4090909090909091*o+e*c*n));return 3*u.getResult()+a*(1+m+y)/(t*Math.sqrt(t))}const n=Math.sqrt(r),l=Math.sqrt(o),c=Math.sqrt(h),m=n*(l+c)+l*c;u.add(a/(c*(h+m))),a*=.25,r=.25*(r+m),o=.25*(o+m),h=.25*(h+m)}}function ut(t,s,i){return t<.999?1-i*B(t):1-i+i*B(s)}function at(t,s,i,n,r){return 0===t?0===n?s:1===n?i:r:1===t?0===n?s:1===n?i:z(s,i,n):(2===t&&(0,e.b)("angular interpolation"),void(0,e.b)(""))}function lt(t,s,i,n,r,o,h,u){if(0===t)for(let e=0;e<o;++e)n[e+r]=0===h?s[e]:1===h?i[e]:u;else if(1===t)if(0===h)ct(n,s,r,0,o);else if(1===h)ct(n,i,r,0,o);else for(let e=0;e<o;++e)n[e+r]=z(s[e],i[e],h);else if(2===t)if(0===h)ct(n,s,r,0,o);else if(1===h)ct(n,i,r,0,o);else{let t=0;for(let e=0,u=r;e<o;++e,++u)n[u]=z(s[e],i[e],h),t+=n[u]*n[u];if(t>0){t=Math.sqrt(t);for(let s=r;s<r+o;++s)n[s]/=t}else{for(let t=r;t<r+o;++t)n[t]=0;n[r]=1}}else(0,e.b)("")}function ct(t,s,i,e,n){if(0===n)return;let r=0,o=i,h=e;for(;r++<n;)t[o++]=s[h++]}function mt(t,s,i){let e=0;for(let n=0;!e&&n<i;++n)e=t[n]-s[n];return e}function yt(t,s){return t}function xt(t){t.sort(((t,s)=>t<s?-1:t>s?1:0))}function ft(t,s){const i=t.slice(0,s);xt(i),ct(t,i,0,0,s)}function dt(t,s,i,e){const n=t.slice(s,s+i);n.sort(e),ct(t,n,s,0,i)}function bt(t,s){return t<s?-1:t>s?1:0}function vt(t,s,i,e){return t<i?-1:t>i?1:s<e?-1:s>e?1:0}function _t(t,s){if(t.length<2)return t.length;let i=0;for(let e=1;e<t.length;++e)s(t[e],t[i])||(i++,t[e]=yt(t[i],t[i]=t[e]));return 1+i}function wt(t,s){t[s]=t.at(-1),t.pop()}function Nt(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{[Symbol.dispose](){this.bForget||t()},bForget:s}}function pt(t,s,i){t.length=s,t.fill(i)}function gt(t,s,i){t.length=i;for(let e=0;e<i;++e)t[e]=new s}function Mt(t,s){const i=new Array(s);for(let e=0;e<s;++e)i[e]=new t;return i}function Ct(t,s,i){for(let e=0;e<i;++e)t[e].assign(s[e]);return i}function Tt(t,s){const i=t.slice(0,s);for(let e=0;e<s;++e)i[e]=i[e].clone();return i}function Rt(t){return Array.from({length:t},(()=>null))}function Et(t,s){return Array.from({length:s},(()=>t()))}function It(t,s){const i=new Array(t);return i.fill(s),i}function Pt(t,s){return s in t&&1===Object.getOwnPropertyNames(t).length}class At{constructor(){for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];this.m_elts=s}get length(){return this.m_elts.length}at(t){return this.m_elts[t]}[Symbol.dispose](){for(const t of this.m_elts)t[Symbol.dispose]()}}function Dt(t,s){return{first:t,second:s}}const qt=Math.PI,zt=2*Math.PI,St=.5*Math.PI;class Zt{constructor(t,s){this.m_cr=t,this.m_cc=s,this.m_v=It(t*s,0)}get(t,s){return this.m_v[t*this.m_cc+s]}set(t,s,i){this.m_v[t*this.m_cc+s]=i}inc(t,s){return++this.m_v[t*this.m_cc+s]}}const Ft=new ArrayBuffer(8),kt=new Float64Array(Ft),Bt=new BigUint64Array(Ft),Gt=0x0fffffffffffffn;function Lt(){return Number.EPSILON*ds}function Ot(t){return kt[0]=t,Bt[0]}function Ut(t){return Ot(t)&Gt}function Qt(t){return Number((9218868437227405312n&Ot(t))>>52n)}function Vt(t){if(0n===t)return-1n;if(1n===t||-1n===t)return 0n;t<0n&&(t=-t);let s=0n,i=512n,e=1n<<s+i;for(;t>=e;)s+=i,i<<=1n,e<<=i;let n=s;i>>=1n;let r=n+i;for(;i>0n;)t<1n<<r||(n=r),i>>=1n,r=n+i;return n}function jt(t,s){return t===s||Number.isNaN(t)&&Number.isNaN(s)}function Wt(t,s,i){return t===s||Math.abs(t-s)<=i||Number.isNaN(t)&&Number.isNaN(s)}function Yt(t,s){return t<s?-1:t>s?1:0}function Xt(t,s){if(t<s)return-1;if(t>s)return 1;if(t===s)return 0;{const i=Number.isNaN(t),e=Number.isNaN(s);return i<e?-1:i>e?1:0}}function $t(){return 2147483647}function Ht(){return 32767}function Jt(){return 2147483647}function Kt(){return-2147483648}const ts=2147483647,ss=BigInt(ts),is=2166136261,es=16777619;const ns=14695981039346656037n,rs=1099511628211n;function os(t){let s=is;for(let i=0,e=t.length;i<e;++i)s=(s^t.charCodeAt(i))*es;return s&ts}function hs(t,s){return s+2654435769+(t<<6)+(t>>2)&ts}function us(t,s){return hs(t,ms(s))}function as(t){return hs(3735928559,t)}function ls(t,s){return hs(t,as(s))}function cs(t){return function(t){let s=is,i=t;return s=(s^255&i)*es,i>>=8,s=(s^255&i)*es,i>>=8,s=(s^255&i)*es,i>>=8,s=(s^255&i)*es,s&ts}(t)}function ms(t){return Number(function(t){let s=ns,i=t;return s=(s^0xffn&i)*rs,i>>=8n,s=(s^0xffn&i)*rs,i>>=8n,s=(s^0xffn&i)*rs,i>>=8n,s=(s^0xffn&i)*rs,i>>=8n,s=(s^0xffn&i)*rs,i>>=8n,s=(s^0xffn&i)*rs,i>>=8n,s=(s^0xffn&i)*rs,s&ss}(t))}function ys(t){return ms(Ot(function(t){return Ps(t)}(t)))}function xs(t){return function(t){return 1103515245*t+12345&2147483647}(t)}const fs=100,ds=100;function bs(){return Number.EPSILON*fs}function vs(){return.38196601125010515}function _s(){return 1.4142135623730951}function ws(){return Number.EPSILON}function Ns(t,s,i){return t===s||t===i}function ps(t,s,i){return t>=s?t<=i?t:i:s}function gs(t,s,i){const e=t[0];if(e>=s){if(e<=i)return!1;t[0]=i}else t[0]=s;return!0}function Ms(t,s){return t>=s?s:t<-s?-s:t}function Cs(){return qt}function Ts(){return zt}function Rs(){return St}const Es=3*Rs();function Is(){return Es}function Ps(t){return t+0}function As(t){return{v:t}}class Ds{constructor(){this.m_rn=As(0n),this.m_rd=As(1n),this.m_bNaN=!1,this.m_bNormalized=!1,this.m_power=0,this.m_sign=0}static constructAssign(t,s){const i=t.clone();return void 0!==s&&i.limitPrecisionThis(s),i}static constructDouble(t){return(new Ds).setDouble(t)}static constructInt64(t){return(new Ds).setInt64(t)}static constructRational(t,s){return(new Ds).setRational(t,s)}static constructInt32(t){return this.constructInt64(BigInt(Math.trunc(t)))}[Symbol.toPrimitive](t){return this}compare(t){return this.lt(t)?-1:this.gt(t)?1:0}assignCopy(t){return this.setThis(t)}abs(){return this.clone().absThis()}absThis(){return this.isNAN()||(this.m_sign*=this.m_sign),this}clone(){return(new Ds).setThis(this)}setThis(t){return this.m_bNaN=t.m_bNaN,this.m_bNormalized=t.m_bNormalized,this.m_rn.v=t.m_rn.v,this.m_rd.v=t.m_rd.v,this.m_power=t.m_power,this.m_sign=t.m_sign,this}setZero(){return this.m_rn.v=0n,this.m_rd.v=1n,this.m_bNaN=!1,this.m_power=0,this.m_bNormalized=!0,this.m_sign=0,this}setDouble(t){if(this.setZero(),0===t)return this;if(Number.isInteger(t)&&Math.abs(t)<2147483647)return this.setInt32(t);const s=Ot(t),i=(s&Ds.s_em)>>52n,n=!!(s&Ds.s_sm),r=s&Ds.s_fm;if(i===Ds.s_emax)return r?(this.m_rn.v=this.m_rd.v=0n,this.m_bNaN=!0,this):(this.m_rn.v=n?-1n:1n,this.m_rd.v=0n,this);0n===i&&(0,e.b)("denormalized numbers not yet implemented");const o=i-1023n,h=o>=0n?o:0n,u=o<0n?-o:0n;return this.m_rn.v=(1n<<52n|r)<<h,this.m_rd.v=1n<<52n+u,this.m_sign=n?-1:1,this.m_bNormalized=!1,this.normalizeThis()}setInt64(t){return 0n===t?this.setZero():(this.m_bNaN=!1,this.m_sign=t>0n?1:-1,this.m_rn.v=t>0n?t:-t,this.m_rd.v=1n,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setRational(t,s){return 0n===t?0n===s?this.setNAN():this.setZero():0n===s?t>0n?this.setPositiveInf():this.setNegativeInf():(this.m_sign=(t>0n?1:-1)*(s>0n?1:-1),this.m_rn.v=t>0n?t:-t,this.m_rd.v=s>0n?s:-s,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setInt32(t){return this.setInt64(BigInt(Math.trunc(t)))}getDouble(){return this.convertToDouble()}toDouble(){return this.convertToDouble()}value(){return this.convertToDouble()}isNAN(){return this.m_bNaN}isPositiveInf(){return!this.isNAN()&&0n===this.m_rd.v&&1===this.m_sign}isNegativeInf(){return!this.isNAN()&&0n===this.m_rd.v&&-1===this.m_sign}isFinite(){return!this.isNAN()&&0n!==this.m_rd.v}setNAN(){return this.m_bNaN=!0,this.m_rn.v=0n,this.m_rd.v=0n,this.m_power=0,this.m_bNormalized=!0,this}setPositiveInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=1,this.m_power=0,this}setNegativeInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=-1,this.m_power=0,this}subThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())this.setNAN();else{if(this.isPositiveInf()&&t.isNegativeInf())return this.setPositiveInf(),this;if(this.isNegativeInf()&&t.isNegativeInf())this.setNAN();else if(this.isNegativeInf()&&t.isPositiveInf())return this.setNegativeInf(),this}return this.isNAN()?this:this.opPlusMinus(t,!1)}thisSubAbs(t){return(0,e.g)(0),this}mulThis(t){return t.isNAN()&&this.setNAN(),this.isNAN()?this:(this.m_sign*=t.m_sign,0===this.m_sign?this.setZero():(this.m_rn.v*=t.m_rn.v,this.m_rd.v*=t.m_rd.v,this.m_power+=t.m_power,this.m_bNormalized=!1,this.normalizeThis(),this))}mulDoubleThis(t){return this.mulThis(Ds.constructDouble(t))}thisMulInt64(t){return(0,e.g)(0),this}thisMulInt32(t){return(0,e.g)(0),this}divThis(t){return this.mulThis(t.clone().invertThis())}divDoubleThis(t){return this.divThis(Ds.constructDouble(t))}addDoubleThis(t){return this.addThis(Ds.constructDouble(t))}subDoubleThis(t){return this.subThis(Ds.constructDouble(t))}mul(t){return this.clone().mulThis(t)}mulBigIntThis(t){return this.mulThis(Ds.constructInt64(t))}mulDouble(t){return this.clone().mulThis(Ds.constructDouble(t))}div(t){return this.clone().divThis(t)}divDouble(t){return this.clone().divDoubleThis(t)}add(t){return this.clone().addThis(t)}fmSubThis(t,s){return this.subThis(t.clone().mulThis(s))}fmAddThis(t,s){return this.addThis(t.clone().mulThis(s))}addThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())return this.setPositiveInf(),this;if(this.isPositiveInf()&&t.isNegativeInf())this.setNAN();else{if(this.isNegativeInf()&&t.isNegativeInf())return this.setNegativeInf(),this;this.isNegativeInf()&&t.isPositiveInf()&&this.setNAN()}return this.isNAN()?this:this.opPlusMinus(t,!0)}addDouble(t){return this.clone().addThis(Ds.constructDouble(t))}sub(t){return this.clone().subThis(t)}subDouble(t){return this.clone().subThis(Ds.constructDouble(t))}isZero(){return 0===this.m_sign}equals(t){return this.clone().subThis(t).isZero()}lt(t){return!this.isNAN()&&!t.isNAN()&&!(this.isPositiveInf()&&t.isPositiveInf()||this.isNegativeInf()&&t.isNegativeInf())&&!this.isPositiveInf()&&(!!t.isPositiveInf()||this.clone().sub(t).LZ())}absLessAbs(t){return this.abs().lt(t.abs())}gt(t){return this.clone().sub(t).GZ()}lte(t){return this.sub(t).LEZ()}gte(t){return this.sub(t).GEZ()}normalizeThis(){if(this.m_bNormalized)return this;if(0n===this.m_rn.v)return this.setZero();let t=0,s=0xffffffffn;for(;0n===(this.m_rn.v&s)&&s<=this.m_rn.v;)s<<=32n,t+=32;s&=this.m_rn.v,s>>=BigInt(t),t+=h(BigInt.asUintN(32,s))-1;let i=0;for(s=0xffffffffn;0n===(this.m_rd.v&s)&&s<=this.m_rd.v;)s<<=32n,i+=32;return s&=this.m_rd.v,s>>=BigInt(i),i+=h(BigInt.asUintN(32,s))-1,this.m_rn.v>>=BigInt(t),this.m_rd.v>>=BigInt(i),this.m_power+=t-i,this.m_rn.v>1n&&this.m_rd.v>1n&&(this.m_rn.v%this.m_rd.v===0n?(this.m_rn.v/=this.m_rd.v,this.m_rd.v=1n):this.m_rd.v%this.m_rn.v===0n&&(this.m_rd.v/=this.m_rn.v,this.m_rn.v=1n)),this.m_bNormalized=!0,this}negateThis(){return this.isNAN()||(this.m_sign*=-1),this}negate(){return this.clone().negateThis()}invertThis(){return this.isNAN()?this:this.isPositiveInf()||this.isNegativeInf()?(this.setZero(),this):0n===this.m_rn.v?(this.setPositiveInf(),this):(this.m_rd=yt(this.m_rn,this.m_rn=this.m_rd),this.m_power=-this.m_power,this)}limitPrecisionThis(t){if(0===t)return this;if(this.isZero())return this.setZero();if(!this.isFinite())return this;this.normalizeThis();let s=Number(Vt(this.m_rn.v));if(s>t){const i=s-t;this.m_rn.v>>=BigInt(s-t),this.m_power+=i}if(s=Number(Vt(this.m_rd.v)),s>t){const i=s-t;this.m_rd.v>>=BigInt(s-t),this.m_power-=i}return this}hiBitIndex(){return Math.max(Number(Vt(this.m_rn.v)),Number(Vt(this.m_rd.v)))}ldexp(t){return this.clone().ldexpThis(t)}ldexpThis(t){return t&&(this.m_bNormalized=!1,this.m_power+=t,this.normalizeThis()),this}LZ(){return!this.isNAN()&&-1===this.m_sign}GZ(){return!this.isNAN()&&1===this.m_sign}LEZ(){return!this.isNAN()&&this.m_sign<=0}GEZ(){return!this.isNAN()&&this.m_sign>=0}toString(){return this.toDouble().toString()}sqr(){return this.clone().sqrThis()}sqrThis(){return this.mulThis(this.clone())}static sqrt(t,s){if(t.m_sign<0n&&(0,e.n)("MP_value: sqrt(-1)"),t.isZero())return t.clone();let i=52,n=2220446049250313e-31;for(;i<s;)2*i<=s?(n*=n,i*=2):(n*=2220446049250313e-31,i+=52);i+=52;const r=Vt(t.m_rn.v),o=Vt(t.m_rd.v);let h,u=t.m_power+Number(r-o);const a=new Ds;Math.abs(u)>200?(1&Math.abs(u)&&(u+=1),h=Ds.constructAssign(t,53).ldexpThis(-u).value(),a.setThis(t).ldexpThis(-u),(0,e.g)(Number.isFinite(h))):(a.setThis(t),h=a.value(),(0,e.g)(Number.isFinite(h)),u=0),h=Math.sqrt(h);const l=Ds.constructDouble(h),c=Ds.constructDouble(n);c.mulThis(l).ldexpThis(1);const m=n*h*2,y=l.clone(),x=new Ds;let f;for(let e=0;e<10;++e){y.mulThis(l),x.setThis(a).subThis(y).absThis();let t=x.value();if(f=1,t<.9)for(;t>m;)t*=t,++f;else f=4;if(x.lte(c))break;for(let s=0;s<f;s++)y.setThis(l).divThis(a).invertThis().addThis(l).ldexpThis(-1).limitPrecisionThis(i),l.setThis(y)}return l.ldexpThis(u/2)}static cubicRoot(t,s){if(t.isZero())return t.clone();let i=52,e=2220446049250313e-31;for(;i<s;)2*i<=s?(e*=e,i*=2):(e*=2220446049250313e-31,i+=52);i+=52;const n=Math.pow(Math.abs(t.value()),1/3),r=Ds.constructDouble(n),o=r.clone();o.sqrThis().mulDoubleThis(3).mulDoubleThis(e),o.limitPrecisionThis(32),t.LZ()&&r.negateThis();for(let h=0;h<10;++h){const s=r.clone();s.sqrThis().mulThis(r);const e=s.clone();if(e.subThis(t),e.absThis().limitPrecisionThis(32),e.lte(o))break;e.setThis(t),e.ldexpThis(1),e.addThis(s);const n=s.clone();n.ldexpThis(1),n.addThis(t),e.divThis(n),r.mulThis(e),r.limitPrecisionThis(i)}return r}isInTheRangeOfDouble(){return(0,e.g)(0),!1}sign(){return this.m_sign}cosAndSin(t,s){(0,e.g)(0)}static nan(){return(0,e.g)(0),new Ds}convertToDouble(){if(this.m_bNaN)return Number.NaN;if(this.isZero())return 0;if(0n===this.m_rd.v)return 1===this.m_sign?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;const t=-1===this.m_sign,s=this.m_rn.v<<(this.m_power>=0?BigInt(this.m_power):0n);let i=this.m_rd.v<<(this.m_power<0?BigInt(-this.m_power):0n);const e=s/i;let n=Number(e);if(BigInt(n)!==e)return t?-n:n;let r=s-e*i;if(r){let t=Vt(i)-1023n;t>0n&&(i>>=t,r<<=52n,r>>=t);let s=Number(r);Number.isFinite(s)||(r>>=52n,s=Number(r),t=0n),t>0n&&(s/=Math.pow(2,52)),n+=s/Number(i)}return t?-n:n}signVal(){return 1===this.m_sign?1n:-1===this.m_sign?-1n:0n}opPlusMinus(t,s){const i=Math.min(this.m_power,t.m_power);let e,n;this.m_power>i?(e=BigInt(this.m_power-i),n=0n):(e=0n,n=BigInt(t.m_power-i));const r=this.signVal()*this.m_rn.v*t.m_rd.v<<e,o=t.signVal()*t.m_rn.v*this.m_rd.v<<n;return this.m_rn.v=s?r+o:r-o,this.m_rd.v*=t.m_rd.v,this.m_power=i,this.m_sign=1,this.m_rn.v<0n&&(this.m_sign=-1,this.m_rn.v=-this.m_rn.v),this.m_bNormalized=!1,this.normalizeThis(),this}}Ds.s_sm=0x8000000000000000n,Ds.s_em=0x7ff0000000000000n,Ds.s_fm=0x000fffffffffffffn,Ds.s_emax=0x7ffn;const qs=Ds.constructInt32(1),zs=Ds.constructInt32(0);function Ss(t,s){let i=Qt(t);const e=Qt(s);return i===e?(i-=53-function(t,s){return a(t^s)}(Ut(t),Ut(s)),i):i>e?i:e}function Zs(t,s){for(let i=0,e=0,n=t.length;i<n;i+=2,e++)s[e].x=t[i],s[e].y=t[i+1]}function Fs(t){const s=new Float64Array(2*t.length);for(let i=0,e=t.length;i<e;++i){const e=i<<1;s[e]=t[i].x,s[e+1]=t[i].y}return s}function ks(t){const s=Mt(Bs,t.length);for(let i=0,e=t.length;i<e;++i)s[i].setCoords(t[i][0],t[i][1]);return s}class Bs{static construct(t,s){return new Bs(t,s)}constructor(t,s){void 0!==t?(this.x=t,this.y=s):this.x=this.y=Number.NaN}clone(){return new Bs(this.x,this.y)}assign(t){this.setCoordsPoint2D(t)}setCoords(t,s){return this.x=t,this.y=s,this}setCoordsPoint2D(t){this.x=t.x,this.y=t.y}isEqualPoint2D(t,s){return void 0!==s?Math.abs(this.x-t.x)<=s&&Math.abs(this.y-t.y)<=s:this.x===t.x&&this.y===t.y}isEqual(t,s,i){return void 0!==i?Math.abs(this.x-t)<=i&&Math.abs(this.y-s)<=i:this.x===t&&this.y===s}equalsPoint2D(t,s){return this.isEqualPoint2D(t,s)}setSub(t,s){this.x=t.x-s.x,this.y=t.y-s.y}addThis(t){return this.x+=t.x,this.y+=t.y,this}setAdd(t,s){return this.x=t.x+s.x,this.y=t.y+s.y,this}absoluteOther(t){}absolute(){return(0,e.g)(0),this}setNegate(){this.x=-this.x,this.y=-this.y}setNegateOther(t){this.x=-t.x,this.y=-t.y}interpolateThis(t,s){}interpolate(t,s,i){(0,e.g)(0)}scaleAddThis(t,s){this.x=this.x*t+s.x,this.y=this.y*t+s.y}setScaleAdd(t,s,i){this.x=s.x*t+i.x,this.y=s.y*t+i.y}scaleOther(t,s){(0,e.g)(0)}scale(t){this.x*=t,this.y*=t}compare(t){return this.y<t.y?-1:this.y>t.y?1:this.x<t.x?-1:this.x>t.x?1:0}compareX(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}normalizeOther(t){(0,e.g)(0)}normalize(){const t=this.length();return t?(this.x/=t,this.y/=t):(this.x=1,this.y=0),this}getUnitVector(){return this.clone().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}sqrLength(){return this.x*this.x+this.y*this.y}static averageFast(t,s){return(0,e.g)(0),{}}static average(t,s){const i=new Bs;if(0===s)return i.setNAN(),i;if(1===s)return i.assign(t[0]),i;const e=new n(t[0].x),r=new n(t[0].y);for(let n=1;n<s;n++)e.add(t[n].x),r.add(t[n].y),255&n||(e.normalize(),r.normalize());return i.x=e.getResult()/s,i.y=r.getResult()/s,i}offset(t,s){const i=Bs.distance(t,s),e=Bs.construct(this.x,this.y);if(0===i)return Bs.distance(e,t);const n=s.clone();return n.subThis(t),e.subThis(t),e.crossProduct(n)/i}side(t,s){return t.equals(s)?this.equals(t)?0:1:Bs.orientationRobust(s,t,this)}static sqrDistance(t,s){const i=t.x-s.x,e=t.y-s.y;return i*i+e*e}static sqrDistanceCoords(t,s,i,e){const n=i-t,r=e-s;return n*n+r*r}static distance(t,s){return Math.sqrt(Bs.sqrDistance(t,s))}dotProduct(t){return this.x*t.x+this.y*t.y}dotProductAbs(t){return Math.abs(this.x*t.x)+Math.abs(this.y*t.y)}crossProduct(t){return this.x*t.y-this.y*t.x}crossProductAbs(t){return(0,e.g)(0),0}rotateDirect(t,s){const i=this.x*t-this.y*s,e=this.x*s+this.y*t;this.x=i,this.y=e}rotateReverse(t,s){const i=this.x*t+this.y*s,e=-this.x*s+this.y*t;this.x=i,this.y=e}leftPerpendicularThis(){const t=this.x;this.x=-this.y,this.y=t}leftPerpendicularOther(t){const s=t.x;this.x=-t.y,this.y=s}rightPerpendicularThis(){const t=this.x;this.x=this.y,this.y=-t}rightPerpendicularOther(t){const s=t.x;this.x=t.y,this.y=-s}equals(t){return this.x===t.x&&this.y===t.y}notequals(t){return this.x!==t.x||this.y!==t.y}not(){return!this.x&&!this.y}gt(t){return this.y>t.y||this.y===t.y&&this.x>t.x}gte(t){return!this.lt(t)}lt(t){return this.y<t.y||this.y===t.y&&this.x<t.x}lte(t){return!this.gt(t)}subThis(t){return this.x-=t.x,this.y-=t.y,this}divThis(t){return this.x/=t,this.y/=t,this}add(t){return new Bs(this.x+t.x,this.y+t.y)}sub(t){return new Bs(this.x-t.x,this.y-t.y)}negateThis(){return this.x=-this.x,this.y=-this.y,this}negate(){return new Bs(-this.x,-this.y)}mul(t){return new Bs(this.x*t,this.y*t)}mulThis(t){return this.x*=t,this.y*=t,this}divide(t){return new Bs(this.x/t,this.y/t)}setNAN(){this.x=this.y=Number.NaN}isNAN(){return Number.isNaN(this.x)||Number.isNaN(this.y)}static getNAN(){return new Bs(Number.NaN,Number.NaN)}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)}isZero(){return 0===this.x&&0===this.y}norm(t){switch(t){case 0:{const t=Math.abs(this.x),s=Math.abs(this.y),i=t-s;return i>=0?t:i<=0?s:Number.NaN}case 1:return Math.abs(this.x)+Math.abs(this.y);case 2:return Math.sqrt(this.x*this.x+this.y*this.y);default:(0,e.t)("norm")}}getQuarter(){return Bs.getQuarterCoords(this.x,this.y)}static getQuarterCoords(t,s){return t>0?s>=0?1:4:s>0?2:0===t?4:3}static compareVectors(t,s){const i=t.getQuarter(),e=s.getQuarter();return e===i?Bs.orientationRobustImpl(Bs.construct(0,0),s,t,!0):i<e?-1:1}static compareVectorsOrigin(t,s,i){const e=s.sub(t),n=i.sub(t),r=e.getQuarter(),o=n.getQuarter();return o===r?Bs.orientationRobustImpl(t,i,s,!0):r<o?-1:1}static orientationRobust(t,s,i){return Bs.orientationRobustImpl(t,s,i,!1)}static orientationRobustEx(t,s,i,e){if(t.equals(s)||i.equals(e))return 0;const n=s.x-t.x,r=s.y-t.y,o=e.x-i.x,h=e.y-i.y;{const t=Bs.getQuarterCoords(n,r)-1,s=Bs.getQuarterCoords(o,h)-1,i=Bs.d[t][s];if(0!==i)return i}const u=n*h,a=r*o,l=4*ws()*(Math.abs(u)+Math.abs(a)),c=u-a;return Math.abs(c)>=l?c<0?-1:c>0?1:0:Bs.orientationRobustExMp(t,s,i,e)}static orientationRobustExMp(t,s,i,e){const n=Ds.constructDouble(s.x),r=Ds.constructDouble(e.x);n.subThis(Ds.constructDouble(t.x)),r.subThis(Ds.constructDouble(i.x));const o=Ds.constructDouble(s.y),h=Ds.constructDouble(e.y);return o.subThis(Ds.constructDouble(t.y)),h.subThis(Ds.constructDouble(i.y)),n.mulThis(h),o.mulThis(r),n.subThis(o),n.LZ()?-1:n.GZ()?1:0}static orientationNonRobust(t,s,i){const e=s.sub(t).crossProduct(i.sub(t));return e<0?-1:e>0?1:0}static orientationRobustImpl(t,s,i,e){if(s.isEqualPoint2D(t)||i.isEqualPoint2D(t)||s.isEqualPoint2D(i))return 0;const n=s.x-t.x,r=s.y-t.y,o=i.x-t.x,h=i.y-t.y;if(!e){const t=Bs.getQuarterCoords(n,r)-1,s=Bs.getQuarterCoords(o,h)-1,i=Bs.d[t][s];if(0!==i)return i}const u=(Math.abs(n)+Math.abs(r)+Math.abs(o)+Math.abs(h))*(Math.abs(s.x)+Math.abs(s.y)+Math.abs(i.x)+Math.abs(i.y))*8*d(),a=n*h-r*o;if(Math.abs(a)>u)return a<0?-1:1;if(f(s.x,t.x)&&f(i.y,t.y)&&f(s.y,t.y)&&f(i.x,t.x)&&y(n,h)&&y(r,o)){const t=n*h,s=r*o;if(f(t,s)){const i=t-s;return i<0?-1:i>0?1:0}}return Bs.orientationRobustMp(t,s,i)}static orientationRobustMp(t,s,i){const e=Ds.constructDouble(s.x),n=Ds.constructDouble(i.x);{const s=Ds.constructDouble(t.x);e.subThis(s),n.subThis(s)}const r=Ds.constructDouble(i.y),o=Ds.constructDouble(s.y);{const s=Ds.constructDouble(t.y);r.subThis(s),o.subThis(s)}return e.mulThis(r),o.mulThis(n),e.subThis(o),e.LZ()?-1:e.GZ()?1:0}static inCircleRobust(t,s,i,e){const n=new m,r=new m;n.set(t.x),n.subThis(e.x),r.set(t.y),r.subThis(e.y);const o=new m,h=new m;o.set(s.x),o.subThis(e.x),h.set(s.y),h.subThis(e.y);const u=new m,a=new m;u.set(i.x),u.subThis(e.x),a.set(i.y),a.subThis(e.y);const l=n.mulE(h).subE(r.mulE(o)),c=o.mulE(a).subE(h.mulE(u)),y=n.mulE(a).subE(r.mulE(u)),x=n.mulE(n).addE(r.mulE(r)),f=o.mulE(o).addE(h.mulE(h)),d=u.mulE(u).addE(a.mulE(a)),b=x.mulE(c).subE(f.mulE(y)).addE(d.mulE(l));if(!b.isFuzzyZero()){const t=b.value();return t<0?-1:t>0?1:0}return Bs.inCircleRobustMp(t,s,i,e)}static inCircleRobustMp(t,s,i,e){do{if(!f(t.x,e.x)||!f(t.y,e.y))break;if(!f(s.x,e.x)||!f(s.y,e.y))break;if(!f(i.x,e.x)||!f(i.y,e.y))break;const n=t.x-e.x,r=t.y-e.y,o=s.x-e.x,h=s.y-e.y,u=i.x-e.x,a=i.y-e.y;if(!y(n,h)||!y(r,o))break;if(!y(o,a)||!y(h,u))break;if(!y(n,a)||!y(r,u))break;if(!y(n,n)||!y(r,r))break;if(!y(o,o)||!y(h,h))break;if(!y(u,u)||!y(a,a))break;const l=n*h,c=r*o,m=o*a,d=h*u,b=n*a,v=r*u,_=n*n,w=r*r,N=o*o,p=h*h,g=u*u,M=a*a;if(!f(l,c))break;if(!f(m,d))break;if(!f(b,v))break;if(!x(_,w))break;if(!x(N,p))break;if(!x(g,M))break;const C=l-c,T=m-d,R=b-v,E=_+w,I=N+p,P=g+M;if(!y(E,T))break;if(!y(I,R))break;if(!y(P,C))break;const A=E*T,D=I*R,q=P*C;if(!f(A,D))break;const z=A-D;if(!x(z,q))break;const S=z+q;return S<0?-1:S>0?1:0}while(0);const n=Ds.constructDouble(e.x),r=Ds.constructDouble(e.y),o=Ds.constructDouble(t.x),h=Ds.constructDouble(t.y);o.subThis(n),h.subThis(r);const u=Ds.constructDouble(s.x),a=Ds.constructDouble(s.y);u.subThis(n),a.subThis(r);const l=Ds.constructDouble(i.x),c=Ds.constructDouble(i.y);l.subThis(n),c.subThis(r);const m=o.mul(a).sub(h.mul(u)),d=u.mul(c).sub(a.mul(l)),b=o.mul(c).sub(h.mul(l)),v=o.mul(o).add(h.mul(h)),_=u.mul(u).add(a.mul(a)),w=l.mul(l).add(c.mul(c)),N=v.mul(d).sub(_.mul(b)).add(w.mul(m));return N.LZ()?-1:N.GZ()?1:0}static inCircleRobustMp3Point(t,s,i){const e=Ds.constructDouble(t.x),n=Ds.constructDouble(t.y),r=Ds.constructDouble(s.x),o=Ds.constructDouble(s.y),h=Ds.constructDouble(i.x),u=Ds.constructDouble(i.y),a=h.mul(h).add(u.mul(u)).sub(h.mul(e).add(u.mul(n)).add(h.mul(r)).add(u.mul(o))).add(e.mul(r).add(n.mul(o)));return a.LZ()?-1:a.GZ()?1:0}static inCircleRobust3Point(t,s,i){const e=new m(t.x),n=new m(t.y),r=new m(s.x),o=new m(s.y),h=new m(i.x),u=new m(i.y),a=h.mulE(h).addE(u.mulE(u)).subE(h.mulE(e).addE(u.mulE(n)).addE(h.mulE(r)).addE(u.mulE(o))).addE(e.mulE(r).addE(n.mulE(o)));if(!a.isFuzzyZero()){const t=a.value();return t<0?-1:t>0?1:0}return Bs.inCircleRobustMp3Point(t,s,i)}static calculateCircleCenterFromThreePoints(t,s,i){if(t.equals(i)||t.equals(s)||i.equals(s))return Bs.getNAN();const e=function(t,s,i){const e=new m(s.x);e.subThis(t.x);const n=new m(s.y);n.subThis(t.y);const r=new m(i.x);r.subThis(t.x);const o=new m(i.y);o.subThis(t.y);const h=e.clone();h.mulThisE(o);let u=n.clone();if(u.mulThisE(r),h.subThisE(u),0===h.value())return Bs.getNAN();h.mulThis(2);const a=e.clone();a.mulThisE(e);const l=n.clone();l.mulThisE(n);const c=a.clone();c.addThisE(l);const y=r.clone();y.mulThisE(r);const x=o.clone();x.mulThisE(o);const f=y.clone();f.addThisE(x);const d=n.clone();d.mulThisE(f),u=o.clone(),u.mulThisE(c),d.subThisE(u),d.divThisE(h);const b=e.clone();b.mulThisE(f),u=r.clone(),u.mulThisE(c),b.subThisE(u),b.divThisE(h);const v=Bs.construct(t.x-d.value(),t.y+b.value()),_=t.sub(v).length(),w=s.sub(v).length(),N=i.sub(v).length(),p=1e-15*(_+Math.abs(t.x)+Math.abs(s.x)+Math.abs(i.x)+Math.abs(t.y)+Math.abs(s.y)+Math.abs(i.y));return Math.abs(_-w)<=p&&Math.abs(_-N)<=p&&d.eps()<p&&b.eps()<p?v:Bs.getNAN()}(t,s,i);return e.isNAN()?function(t,s,i){const e=Ds.constructDouble(s.x);e.subDoubleThis(t.x);const n=Ds.constructDouble(s.y);n.subDoubleThis(t.y);const r=Ds.constructDouble(i.x);r.subDoubleThis(t.x);const o=Ds.constructDouble(i.y);o.subDoubleThis(t.y);const h=e.clone();h.mulThis(o);let u=n.clone();if(u.mulThis(r),h.subThis(u),h.isZero())return Bs.getNAN();h.mulDoubleThis(2);const a=e.clone();a.mulThis(e);const l=n.clone();l.mulThis(n);const c=a.clone();c.addThis(l);const m=r.clone();m.mulThis(r);const y=o.clone();y.mulThis(o);const x=m.clone();x.addThis(y);const f=n.clone();f.mulThis(x),u=o.clone(),u.mulThis(c),f.subThis(u),f.divThis(h);const d=e.clone();return d.mulThis(x),u=r.clone(),u.mulThis(c),d.subThis(u),d.divThis(h),Bs.construct(t.x-f.value(),t.y+d.value())}(t,s,i):e}static calculateAngle(t,s){return Math.atan2(t.crossProduct(s),t.dotProduct(s))}static isBisectorRobust(t,s,i){return(0,e.g)(0),!1}static size(){return 2}get 0(){return this.x}get 1(){return this.y}set 0(t){this.x=t}set 1(t){this.y=t}static compareZorder(t,s){const i=Bs.c_compare_zorder_xx[t.x<0?1:0]|Bs.c_compare_zorder_yy[t.y<0?1:0],e=Bs.c_compare_zorder_xx[s.x<0?1:0]|Bs.c_compare_zorder_yy[s.y<0?1:0];if(i===e){let i=0,e=0;for(let n=0;n<2;++n){const r=Ss(t[n],s[n]);r>i&&(i=r,e=n)}return t[e]<s[e]}return i<e}static lerp(t,s,i){const e=new Bs;return F(t,s,i,e),e}static getClosestCoordinate(t,s,i){let e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=Bs.getNAN();n.setSub(s,t);const r=n.sqrLength();if(0===r)return.5;if(s.isEqualPoint2D(i))return 1;const o=Bs.getNAN();o.setSub(i,t);let h=o.dotProduct(n)/r;return e||(h<0?h=0:h>1&&(h=1)),h}static intersectLinesAtOnePoint(t,s,i,e){if(t.equals(s)||i.equals(e))return Bs.getNAN();const n=s.x-t.x,r=i.x-e.x,o=s.y-t.y,h=i.y-e.y,u=n*h-r*o;if(!u)return Bs.getNAN();const a=u;if(0===a)return Bs.getNAN();let l=(i.x-t.x)*h-(i.y-t.y)*r;l/=a;const c=new Bs;return F(t,s,l,c),c.isFinite()?c:Bs.getNAN()}toString(){return`[${this.x},${this.y}]`}}Bs.dimensions=2,Bs.d=[[0,1,0,-1],[-1,0,1,0],[0,-1,0,1],[1,0,-1,0]],Bs.c_compare_zorder_xx=[2,0],Bs.c_compare_zorder_yy=[1,0]},97799:(t,s,i)=>{function e(t,s){try{if(!t)throw new Error(s)}catch(n){throw n}}i.d(s,{A:()=>m,B:()=>F,C:()=>Z,D:()=>q,G:()=>l,a:()=>C,b:()=>I,c:()=>A,d:()=>S,e:()=>y,f:()=>d,g:()=>e,h:()=>v,i:()=>b,j:()=>N,k:()=>g,l:()=>z,m:()=>R,n:()=>P,o:()=>_,p:()=>f,q:()=>x,r:()=>p,s:()=>D,t:()=>M,u:()=>E,v:()=>w,w:()=>G,x:()=>T,y:()=>k,z:()=>B});class n extends Error{constructor(t,s){super(s),this.m_AdditionalMessage=s,this.m_ErrorType=t,this.name="GeometryError"}what(){return function(t){switch(t){case 1:return"Unknown error";case 2:return"Corrupted geometry";case 3:return"Empty geometry";case 4:return"Math singularity";case 5:return"Buffer is too small";case 6:return"Invalid shape type";case 7:return"Projection out of supported range";case 8:return"Non simple geometry";case 9:return"Cannot calculate geodesic";case 10:return"Notation conversion";case 11:return"Missing grid file";case 12:return"Invalid call";case 13:return"Internal error";case 14:return"Not implemented";case 15:return"IO error";case 16:return"Invalid 3D";case 17:return"An ambiguous geography edge with antipodal points";case 18:return"Geocentric coordinates require ellipsoidal height";case 19:return"Geography cannot be projected into a gnomonic plane or a result of an operation cannot fit into a gnomonic plane";case 20:return"Geometry is too large to be exported in to a given format";case 22:return"Operation is canceled by the user";case 21:return"The operation, such as projection or geodetic computation, cannot be performed without pe-wasm loaded";default:return"unknown error"}}(this.m_ErrorType)}additionalMessage(){return this.m_AdditionalMessage?this.m_AdditionalMessage:""}code(){return this.m_ErrorType}}class r extends n{constructor(t){super(2,t),this.name="CorruptedGeometryError"}}class o extends n{constructor(t){super(3,t),this.name="EmptyGeometryError"}}class h extends n{constructor(t){super(4,t),this.name="MathSingularityError"}}class u extends n{constructor(t){super(21,t),this.name="ProjectionEngineNotLoadedError"}}class a extends n{constructor(t){super(8,t),this.name="NonSimpleGeometryError"}}var l;!function(t){t[t.enumUnknown=0]="enumUnknown",t[t.enumPoint=513]="enumPoint",t[t.enumLine=5122]="enumLine",t[t.enumBezier=5123]="enumBezier",t[t.enumEllipticArc=5124]="enumEllipticArc",t[t.enumEnvelope=3077]="enumEnvelope",t[t.enumMultiPoint=8710]="enumMultiPoint",t[t.enumPolyline=25607]="enumPolyline",t[t.enumPolygon=27656]="enumPolygon",t[t.enumMultipatch=40969]="enumMultipatch",t[t.enumGeometryCollection=3594]="enumGeometryCollection",t[t.enumRationalBezier2=5134]="enumRationalBezier2",t[t.enumBezier2=5135]="enumBezier2",t[t.enumRationalBezier23d=5392]="enumRationalBezier23d",t[t.enumGreatArc3d=5393]="enumGreatArc3d"}(l||(l={}));const c=[0,0,1,1,1,2,0,1,2,3,-1,-1,-1,-1,1,1];function m(t){return c[15&t]}function y(t){return!!(512&t)}function x(t){return!!(1024&t)}function f(t){return!!(2048&t)}function d(t){return!!(4096&t)}function b(t){return!!(8192&t)}function v(t){return!!(16384&t)}function _(t){return!!(32768&t)}function w(t){const s=t.getGeometryType();return b(s)?t.getPointCount():t.isEmpty()?0:s===l.enumEnvelope?4:s===l.enumPoint?1:d(s)?2:void A("missing type")}function N(t){const s=t.getGeometryType();if(v(s))return t.hasNonLinearSegments();if(s===l.enumGeometryCollection){const s=t;for(let t=0,i=s.getGeometryCount();t<i;t++)if(N(s.getGeometry(t)))return!0;return!1}return!!d(s)&&s!==l.enumLine}function p(t){throw new u(t)}function g(t){throw new r(t)}function M(t){throw new Error(t)}function C(t){throw new h(t)}function T(){M("Geometry type is not supported for 3D operations.")}function R(t){throw new n(12,t)}function E(t){throw new o(t)}function I(t){throw new n(14,t)}function P(t){throw new Error(t)}function A(t){throw new n(13,t)}function D(t){throw new Error(t)}function q(t){throw new a(t)}function z(t){t&&N(t)&&I("Operation does not support curves.")}function S(t){t&&_(t.getGeometryType())&&I("Unsupported geometry type.")}function Z(t){t===l.enumGeometryCollection&&M("Geometry_collection instances are not supported in this operation")}function F(t){Z(t.getGeometryType())}function k(t){M(`bad wkid: ${t}`)}function B(t){let s="bad wkt: ";s+=t,s+="...",M(s)}function G(t,s){t||M(s)}}}]);
//# sourceMappingURL=6364.3dd1be1c.chunk.js.map