{"version":3,"file":"static/js/339.323893a7.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/webdoc/support/webdocSaveUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js","../node_modules/@arcgis/core/portal/support/resourceUtils.js","../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/webdoc/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{MultiOriginJSONSupport as t}from\"../../core/MultiOriginJSONSupport.js\";import{whenOnce as o}from\"../../core/reactiveUtils.js\";import{hasSameCanonicalPortal as r,urlToObject as a}from\"../../core/urlUtils.js\";import{updateOrigins as i}from\"../../core/accessorSupport/originUtils.js\";import n from\"../../geometry/SpatialReference.js\";import{equals as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as l}from\"../../geometry/support/webMercatorUtils.js\";import{isServerOrServicesAGOLUrl as p}from\"../../layers/support/arcgisLayerUrl.js\";import{isLayerWithFeatureLayerSource as c,isFeatureCollectionLayer as u}from\"../../layers/support/layerUtils.js\";import m from\"../../portal/Portal.js\";import f from\"../../portal/PortalItem.js\";import{createForItemWrite as d}from\"../../portal/support/jsonContext.js\";import{typeKeyword as w,removeTypeKeyword as y,addTypeKeyword as h,hasTypeKeyword as g}from\"../../portal/support/portalItemUtils.js\";import{project as _}from\"../../rest/geometryService/project.js\";import b from\"../../rest/support/ProjectParameters.js\";import{hasDeveloperBasemapLayer as j,findSpatialReference as R,isDeveloperBasemapLayer as v}from\"../../support/basemapUtils.js\";import{saveResources as W}from\"./resourceUtils.js\";import{beforeSave as P,evaluateWriteErrors as S}from\"./saveUtils.js\";const I=[\"NatGeo_World_Map\",\"Ocean_Basemap\",\"USA_Topo_Maps\",\"World_Imagery\",\"World_Street_Map\",\"World_Terrain_Base\",\"World_Topo_Map\",\"World_Hillshade\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Reference_Overlay\",\"Reference/World_Transportation\"].map((e=>e.toLowerCase()));async function A(e,t,r){r??={},U(e,t),await o((()=>!t.updatingFromView)),await t.load(),await E(t),await P(t),await M(e,t);const a=t.portalItem,{json:i,jsonContext:n}=await O(t,a,e.origin);return S(n,{errorName:`${e.name}:save`},r),await V(t,a),await ye(e,t,a,i,n),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,n)]),a}async function O(e,t,o){const r=d(t,o,!0),a=e.write({},r);return await Promise.all(r.resources.pendingOperations),{json:a,jsonContext:r}}async function T(e,t,r,a){a??={};const i=D(e,r);await o((()=>!t.updatingFromView)),await t.load(),await E(t),await P(t),await M(e,t);const{json:n,jsonContext:s}=await O(t,i,e.origin);S(s,{errorName:`${e.name}:save`},a),await X(t,i);const l=t.getThumbnailState();return await he(e,t,i,n,s,a)&&(t.resourceReferences.portalItem=i),t.restoreThumbnailFromState(l),await Promise.all([t.updateItemThumbnail(),W(t.resourceReferences,s)]),i}function U(t,o){if(!o.portalItem)throw new e(`${t.name}:portal-item-not-set`,\"Portal item to save to has not been set on the WebMap\");C(t,o.portalItem)}function C(t,o){if(o.type!==t.itemType)throw new e(`${t.name}:portal-item-wrong-type`,`Portal item needs to have type \"${t.itemType}\"`)}async function M(t,r){if(\"linkchart\"===t.name)return;if(!r.basemap?.baseLayers.length)throw new e(`${t.name}:save`,\"Map does not have a valid basemap with a base layer.\");let a=null;if(await o((()=>{const e=R(r.initialViewProperties,r.basemap);return a=e.spatialReference,!e.updating})),!s(a,r.initialViewProperties.spatialReference))throw new e(`${t.name}:save`,\"The spatial reference of the basemap is not compatible with the one from the map.\",{expected:r.initialViewProperties.spatialReference,actual:a})}function D(e,t){let o=f.from(t);return o.id&&(o=o.clone(),o.id=null),o.type||(o.type=e.itemType),o.portal||(o.portal=m.getDefault()),C(e,o),o}function E(e){const t=[];return e.basemap&&t.push(e.basemap.load()),e.ground&&t.push(e.ground.load()),Promise.allSettled(t).then((()=>{}))}async function V(e,t){t.extent=await pe(e.portalItem,e.initialViewProperties.viewpoint.targetGeometry),await Y(e,t)}const k=w.JSAPI,x=\"CollectorDisabled\",G=\"Collector\",L=\"Data Editing\",N=\"OfflineDisabled\",$=\"Offline\",B=\"Workforce Project\",F=\"Workforce Worker\",K=\"Workforce Dispatcher\",H=\"Offline Map Areas\",J=\"FieldMapsDisabled\",q=w.DEVELOPER_BASEMAP,z=\"UtilityNetwork\",Q=\"IPS\";async function X(e,t){y(t,x),y(t,J),y(t,w.METADATA),y(t,N),y(t,H),y(t,K),y(t,B),y(t,F),await V(e,t)}async function Y(e,t){h(t,k),await Z(e),re(e,t),ae(e,t),ie(e,t),ne(e,t),se(e,t),le(e,t),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter(((e,t,o)=>o.indexOf(e)===t)))}function Z(e){const t=ee(e).map((e=>e.load())).toArray();return Promise.allSettled(t).then((()=>{}))}function ee(e){return e.allLayers.concat(e.allTables)}function te(e){return ee(e).some((e=>e.loaded&&c(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled&&(\"subtype-group\"!==e.type||e.sublayers.some((e=>e.editingEnabled)))))}function oe(e){return ee(e).filter((e=>\"group\"!==e.type)).every((t=>t.loaded&&me(e,t)))}function re(e,t){g(t,x)||g(t,B)||g(t,F)||g(t,K)||!te(e)?y(t,G):h(t,G)}function ae(e,t){te(e)?h(t,L):y(t,L)}function ie(e,t){!g(t,N)&&oe(e)?h(t,$):y(t,$)}function ne(e,t){j(e.basemap)?h(t,q):y(t,q)}function se(e,t){e.utilityNetworks?.length?h(t,z):y(t,z)}function le(e,t){e.ipsInfo?h(t,Q):y(t,Q)}async function pe(e,t){const o=t.clone().normalize();let r;if(o.length>1)for(const a of o)r?a.width>r.width&&(r=a):r=a;else r=o[0];return ce(e,r)}async function ce(e,t){const o=t.spatialReference;if(o.isWGS84)return t.clone();if(o.isWebMercator)return l(t);const{getGeometryServiceURL:r}=await import(\"../../portal/support/geometryServiceUtils.js\"),a=await r(e),i=new b({geometries:[t],outSpatialReference:n.WGS84});return(await _(a,i))[0]}function ue(e){return u(e)||\"map-notes\"===e.type||\"route\"===e.type}function me(e,t){return c(t)&&t.capabilities.operations.supportsSync||ue(t)&&!t.portalItem||fe(t)&&!de(t)&&t.spatialReference.equals(e.initialViewProperties.spatialReference)}function fe(e){return(\"tile\"===e.type||\"vector-tile\"===e.type)&&(e.capabilities.operations.supportsExportTiles||we(e)||v(e))}function de(e){return\"vector-tile\"===e.type&&Object.keys(e.sourceNameToSource).length>1}function we(e){return\"tile\"===e.type&&(p(e.url)&&I.some((t=>e.url?.toLowerCase().includes(\"/\"+t+\"/\"))))}async function ye(e,t,o,r,a){await o.update({data:r}),be(e,t,o,r,a)}async function he(t,o,r,a,i,n){const s=o.portalItem,l={item:s,authenticated:!(!s?.id||!s.portal.user)},p=r.portal;await p.signIn();const{copyAllowed:c,itemReloaded:u}=await ge(l,p);if(l.authenticated||=u,!c)throw new e(`${t.name}:save-as-copy-not-allowed`,\"Owner of this map does not allow others to save a copy\");const m=await _e(r,l,a,n);return o.portalItem=r,be(t,o,r,a,i),m}async function ge(e,t){const{item:o,authenticated:r}=e;return o?.id&&o.typeKeywords?.includes(\"useOnly\")?o.portal.portalHostname!==t.portalHostname?{copyAllowed:!1,itemReloaded:!1}:(r||await o.reload(),{copyAllowed:\"admin\"===o.itemControl||\"update\"===o.itemControl,itemReloaded:!0}):{copyAllowed:!0,itemReloaded:!1}}async function _e(e,t,o,a){const i=e.portal,{item:n}=t,{folder:s,copyAllResources:l}=a;let p=!1;if(l&&n?.id&&r(n.portal.url,i.url)&&parseInt(n.portal.currentVersion,10)>=2023){const{total:e}=await n.fetchResources();p=!!e}if(p){const t=await n.copy({copyResources:\"all\",folder:s});e.id=t.id,e.portal=t.portal;const r=e.toJSON();await e.load(),e.read(r),await e.update({data:o})}else await i.user.addItem({item:e,folder:s,data:o});return p}function be(e,o,r,n,s){t.prototype.read.call(o,{version:n.version,authoringApp:n.authoringApp,authoringAppVersion:n.authoringAppVersion},{origin:e.origin,ignoreDefaults:!0,url:r.itemUrl?a(r.itemUrl):void 0}),i(s),o.resourceInfo=n}export{O as createJSON,_e as initializeNewItem,ge as isCopyAllowed,A as save,T as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";async function r(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const o=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function t(r,t,n){let s=(r.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:r,message:o,details:t})=>new e(r,o,t)));if(r.blockedRelativeUrls&&(s=s.concat(r.blockedRelativeUrls.map((r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`))))),n){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:t}=n;e&&(s=s.filter((({name:e})=>!(o.has(e)||r.includes(e))))),t&&(s=s.filter((e=>\"web-document-write:property-required\"!==e.name)))}if(s.length>0)throw new e(t.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:s})}export{r as beforeSave,t as evaluateWriteErrors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as s}from\"../../core/urlUtils.js\";async function o(e,t={},s){await e.load(s);const o=r(e.itemUrl,\"resources\"),{start:a=1,num:n=10,sortOrder:c=\"asc\",sortField:l=\"resource\"}=t,i={query:{start:a,num:n,sortOrder:c,sortField:l,token:e.apiKey},signal:s?.signal},u=await e.portal.request(o,i);return{total:u.total,nextStart:u.nextStart,resources:u.resources.map((({created:t,size:r,resource:s})=>({created:new Date(t),size:r,resource:e.resourceFromPath(s)})))}}async function a(e,s,o,a){const n=new Map;for(const{resource:r,content:i,compress:u,access:p}of s){if(!r.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const[e,s]=l(r.path),a=`${e}/${u??\"\"}/${p??\"\"}`;n.has(a)||n.set(a,{prefix:e,compress:u,access:p,files:[]});n.get(a).files.push({fileName:s,content:i})}await e.load(a);const c=r(e.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\");for(const{prefix:t,compress:r,access:l,files:i}of n.values()){const s=25;for(let o=0;o<i.length;o+=s){const n=i.slice(o,o+s),u=new FormData;t&&\".\"!==t&&u.append(\"resourcesPrefix\",t),r&&u.append(\"compress\",\"true\"),l&&u.append(\"access\",l);let p=0;for(const{fileName:e,content:t}of n)u.append(\"file\"+ ++p,t,e);u.append(\"f\",\"json\"),await e.portal.request(c,{method:\"post\",body:u,signal:a?.signal})}}}async function n(e,s,o){if(!s.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const a=r(e.userItemUrl,\"removeResources\");await e.portal.request(a,{method:\"post\",query:{resource:s.path},signal:o?.signal}),s.portalItem=null}async function c(e,t){await e.load(t);const s=r(e.userItemUrl,\"removeResources\");return e.portal.request(s,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function i(e){const[t,r]=u(e),[s,o]=l(t);return[s,o,r]}function u(e){const t=s(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}function m(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}export{a as addOrUpdateResources,p as contentToBlob,o as fetchResources,f as getSiblingOfSameType,m as getSiblingOfSameTypeI,c as removeAllResources,n as removeResource,i as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{allSettledErrors as t,throwIfAborted as r,eachAlways as o}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as a,contentToBlob as c}from\"../../portal/support/resourceUtils.js\";async function p(e,t,r){const o=await u(e,t,r);await h(o,t,r)}async function n(e,t,r,o,s){const a=await u(r,o,s);await e.update({data:t}),await h(a,o,s)}async function u(o,p,n){if(!p?.resources)return;const u=p.portalItem===o.portalItem?new Set(o.paths):new Set;o.paths.length=0,o.portalItem=p.portalItem;const h=new Set(p.resources.toKeep.map((e=>e.resource.path))),i=new Set,m=[];h.forEach((e=>{u.delete(e),o.paths.push(e)}));const f=[],l=[],w=[];for(const e of p.resources.toUpdate)if(u.delete(e.resource.path),h.has(e.resource.path)||i.has(e.resource.path)){const{resource:t,content:r,finish:p}=e,n=a(t,s());o.paths.push(n.path),f.push({resource:n,content:await c(r),compress:e.compress}),p&&w.push((()=>p(n)))}else{o.paths.push(e.resource.path),l.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource))),i.add(e.resource.path)}for(const e of p.resources.toAdd)if(o.paths.push(e.resource.path),u.has(e.resource.path))u.delete(e.resource.path);else{f.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource)))}if(f.length||l.length){const{addOrUpdateResources:e}=await import(\"../../portal/support/resourceUtils.js\");await e(p.portalItem,f,\"add\",n),await e(p.portalItem,l,\"update\",n)}if(w.forEach((e=>e())),0===m.length)return u;const d=await t(m);if(r(n),d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d});return u}async function h(e,t,r){if(!e||!t.portalItem)return;const s=[];for(const o of e){const e=t.portalItem.resourceFromPath(o);s.push(e.portalItem.removeResource(e,r))}await o(s)}export{p as saveResources,n as updateItemWithResources};\n"],"names":["I","map","e","toLowerCase","async","A","t","r","o","portalItem","name","C","U","updatingFromView","load","E","P","M","a","json","i","jsonContext","n","O","origin","S","errorName","V","update","data","be","ye","Promise","all","updateItemThumbnail","W","resourceReferences","d","write","resources","pendingOperations","T","f","from","id","clone","type","itemType","portal","m","getDefault","D","s","y","x","J","w","METADATA","N","H","K","B","F","X","l","getThumbnailState","item","authenticated","user","p","signIn","copyAllowed","c","itemReloaded","u","typeKeywords","includes","portalHostname","reload","itemControl","ge","folder","copyAllResources","url","parseInt","currentVersion","total","fetchResources","copy","copyResources","toJSON","read","addItem","_e","he","restoreThumbnailFromState","basemap","baseLayers","length","R","initialViewProperties","spatialReference","updating","expected","actual","push","ground","allSettled","then","extent","normalize","width","isWGS84","isWebMercator","getGeometryServiceURL","b","geometries","outSpatialReference","WGS84","_","ce","pe","viewpoint","targetGeometry","h","k","ee","toArray","Z","g","te","G","re","L","ae","filter","every","loaded","capabilities","operations","supportsSync","ue","supportsExportTiles","some","we","v","fe","Object","keys","sourceNameToSource","de","equals","me","oe","$","ie","j","q","ne","utilityNetworks","z","se","ipsInfo","Q","le","indexOf","Y","JSAPI","DEVELOPER_BASEMAP","allLayers","concat","allTables","supportsEditing","editingEnabled","sublayers","prototype","call","version","authoringApp","authoringAppVersion","ignoreDefaults","itemUrl","resourceInfo","beforeSave","Set","messages","_ref","_ref2","message","details","blockedRelativeUrls","ignoreUnsupported","supplementalUnsupportedErrors","requiredPropertyChecksDisabled","_ref3","has","errors","arguments","undefined","start","num","sortOrder","sortField","query","token","apiKey","signal","request","nextStart","created","size","resource","Date","resourceFromPath","Map","content","compress","access","hasPath","path","set","prefix","files","get","fileName","userItemUrl","values","slice","FormData","append","method","body","deleteAll","lastIndexOf","blob","Blob","jsonString","responseType","writtenProperties","forEach","target","propName","newOrigin","originOf","updateOrigin","paths","toKeep","delete","toUpdate","finish","add","toAdd","addOrUpdateResources","removeResource"],"sourceRoot":""}